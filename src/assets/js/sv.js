/*! For license information please see sv.js.LICENSE.txt */
!(function (t, e) {
  if ('object' == typeof exports && 'object' == typeof module) module.exports = e();
  else if ('function' == typeof define && define.amd) define([], e);
  else {
    var n = e();
    for (var r in n) ('object' == typeof exports ? exports : t)[r] = n[r];
  }
})(self, function () {
  return (() => {
    var t = {
        3999: (t, e, n) => {
          'use strict';
          n.r(e),
            n.d(e, {
              GADDI: () => ot,
              Stack: () => st,
              breadthFirstSearch: () => h,
              connectedComponent: () => d,
              default: () => ct,
              depthFirstSearch: () => b,
              detectAllCycles: () => w,
              detectAllDirectedCycle: () => _,
              detectAllUndirectedCycle: () => x,
              detectCycle: () => E,
              detectDirectedCycle: () => ut,
              dijkstra: () => k,
              findAllPath: () => I,
              findShortestPath: () => C,
              floydWarshall: () => T,
              getAdjMatrix: () => r,
              getDegree: () => g,
              getInDegree: () => v,
              getNeighbors: () => u,
              getOutDegree: () => y,
              labelPropagation: () => N,
              louvain: () => O,
              minimumSpanningTree: () => G,
              pageRank: () => z,
            });
          const r = function (t, e) {
            var n = t.nodes,
              r = t.edges,
              i = [],
              o = {};
            if (!n) throw new Error('invalid nodes data!');
            return (
              n &&
                n.forEach(function (t, e) {
                  (o[t.id] = e), i.push([]);
                }),
              r &&
                r.forEach(function (t) {
                  var n = t.source,
                    r = t.target,
                    a = o[n],
                    s = o[r];
                  (!a && 0 !== a) || (!s && 0 !== s) || ((i[a][s] = 1), e || (i[s][a] = 1));
                }),
              i
            );
          };
          var i = function (t, e) {
              return t === e;
            },
            o = (function () {
              function t(t, e) {
                void 0 === e && (e = null), (this.value = t), (this.next = e);
              }
              return (
                (t.prototype.toString = function (t) {
                  return t ? t(this.value) : '' + this.value;
                }),
                t
              );
            })();
          const a = (function () {
              function t(t) {
                void 0 === t && (t = i), (this.head = null), (this.tail = null), (this.compare = t);
              }
              return (
                (t.prototype.prepend = function (t) {
                  var e = new o(t, this.head);
                  return (this.head = e), this.tail || (this.tail = e), this;
                }),
                (t.prototype.append = function (t) {
                  var e = new o(t);
                  return this.head
                    ? ((this.tail.next = e), (this.tail = e), this)
                    : ((this.head = e), (this.tail = e), this);
                }),
                (t.prototype.delete = function (t) {
                  if (!this.head) return null;
                  for (var e = null; this.head && this.compare(this.head.value, t); )
                    (e = this.head), (this.head = this.head.next);
                  var n = this.head;
                  if (null !== n)
                    for (; n.next; )
                      this.compare(n.next.value, t)
                        ? ((e = n.next), (n.next = n.next.next))
                        : (n = n.next);
                  return this.compare(this.tail.value, t) && (this.tail = n), e;
                }),
                (t.prototype.find = function (t) {
                  var e = t.value,
                    n = void 0 === e ? void 0 : e,
                    r = t.callback,
                    i = void 0 === r ? void 0 : r;
                  if (!this.head) return null;
                  for (var o = this.head; o; ) {
                    if (i && i(o.value)) return o;
                    if (void 0 !== n && this.compare(o.value, n)) return o;
                    o = o.next;
                  }
                  return null;
                }),
                (t.prototype.deleteTail = function () {
                  var t = this.tail;
                  if (this.head === this.tail) return (this.head = null), (this.tail = null), t;
                  for (var e = this.head; e.next; ) e.next.next ? (e = e.next) : (e.next = null);
                  return (this.tail = e), t;
                }),
                (t.prototype.deleteHead = function () {
                  if (!this.head) return null;
                  var t = this.head;
                  return (
                    this.head.next
                      ? (this.head = this.head.next)
                      : ((this.head = null), (this.tail = null)),
                    t
                  );
                }),
                (t.prototype.fromArray = function (t) {
                  var e = this;
                  return (
                    t.forEach(function (t) {
                      return e.append(t);
                    }),
                    this
                  );
                }),
                (t.prototype.toArray = function () {
                  for (var t = [], e = this.head; e; ) t.push(e), (e = e.next);
                  return t;
                }),
                (t.prototype.reverse = function () {
                  for (var t = this.head, e = null, n = null; t; )
                    (n = t.next), (t.next = e), (e = t), (t = n);
                  (this.tail = this.head), (this.head = e);
                }),
                (t.prototype.toString = function (t) {
                  return (
                    void 0 === t && (t = void 0),
                    this.toArray()
                      .map(function (e) {
                        return e.toString(t);
                      })
                      .toString()
                  );
                }),
                t
              );
            })(),
            s = (function () {
              function t() {
                this.linkedList = new a();
              }
              return (
                (t.prototype.isEmpty = function () {
                  return !this.linkedList.head;
                }),
                (t.prototype.peek = function () {
                  return this.linkedList.head ? this.linkedList.head.value : null;
                }),
                (t.prototype.enqueue = function (t) {
                  this.linkedList.append(t);
                }),
                (t.prototype.dequeue = function () {
                  var t = this.linkedList.deleteHead();
                  return t ? t.value : null;
                }),
                (t.prototype.toString = function (t) {
                  return this.linkedList.toString(t);
                }),
                t
              );
            })();
          var u = function (t, e, n) {
              void 0 === e && (e = []);
              var r = e.filter(function (e) {
                return e.source === t || e.target === t;
              });
              return 'target' === n
                ? r
                    .filter(function (e) {
                      return e.source === t;
                    })
                    .map(function (t) {
                      return t.target;
                    })
                : 'source' === n
                ? r
                    .filter(function (e) {
                      return e.target === t;
                    })
                    .map(function (t) {
                      return t.source;
                    })
                : r.map(function (e) {
                    return e.source === t ? e.target : e.source;
                  });
            },
            c = function (t, e) {
              return e.filter(function (e) {
                return e.source === t || e.target === t;
              });
            },
            l = function (t) {
              return (
                void 0 === t && (t = 0),
                t +
                  '-' +
                  ('' + Math.random()).split('.')[1].substr(0, 5) +
                  ('' + Math.random()).split('.')[1].substr(0, 5)
              );
            };
          const h = function (t, e, n, r) {
            void 0 === r && (r = !0);
            var i = (function (t) {
                void 0 === t && (t = {});
                var e,
                  n = t,
                  r = function () {},
                  i =
                    ((e = {}),
                    function (t) {
                      var n = t.next;
                      return !e[n] && ((e[n] = !0), !0);
                    });
                return (
                  (n.allowTraversal = t.allowTraversal || i),
                  (n.enter = t.enter || r),
                  (n.leave = t.leave || r),
                  n
                );
              })(n),
              o = new s(),
              a = t.edges,
              c = void 0 === a ? [] : a;
            o.enqueue(e);
            for (
              var l = '',
                h = function () {
                  var t = o.dequeue();
                  i.enter({ current: t, previous: l }),
                    u(t, c, r ? 'target' : void 0).forEach(function (e) {
                      i.allowTraversal({ previous: l, current: t, next: e }) && o.enqueue(e);
                    }),
                    i.leave({ current: t, previous: l }),
                    (l = t);
                };
              !o.isEmpty();

            )
              h();
          };
          var f = function (t) {
            for (
              var e = t.nodes,
                n = void 0 === e ? [] : e,
                r = t.edges,
                i = void 0 === r ? [] : r,
                o = [],
                a = {},
                s = {},
                c = {},
                l = [],
                h = 0,
                f = function t(e) {
                  (s[e.id] = h), (c[e.id] = h), (h += 1), o.push(e), (a[e.id] = !0);
                  for (
                    var r = u(e.id, i, 'target').filter(function (t) {
                        return (
                          n
                            .map(function (t) {
                              return t.id;
                            })
                            .indexOf(t) > -1
                        );
                      }),
                      f = function (i) {
                        var o = r[i];
                        if (s[o] || 0 === s[o]) a[o] && (c[e.id] = Math.min(c[e.id], s[o]));
                        else {
                          var u = n.filter(function (t) {
                            return t.id === o;
                          });
                          u.length > 0 && t(u[0]), (c[e.id] = Math.min(c[e.id], c[o]));
                        }
                      },
                      d = 0;
                    d < r.length;
                    d++
                  )
                    f(d);
                  if (c[e.id] === s[e.id]) {
                    for (var p = []; o.length > 0; ) {
                      var g = o.pop();
                      if (((a[g.id] = !1), p.push(g), g === e)) break;
                    }
                    p.length > 0 && l.push(p);
                  }
                },
                d = 0,
                p = n;
              d < p.length;
              d++
            ) {
              var g = p[d];
              s[g.id] || 0 === s[g.id] || f(g);
            }
            return l;
          };
          function d(t, e) {
            return e
              ? f(t)
              : (function (t) {
                  for (
                    var e = t.nodes,
                      n = void 0 === e ? [] : e,
                      r = t.edges,
                      i = void 0 === r ? [] : r,
                      o = [],
                      a = {},
                      s = [],
                      c = function t(e) {
                        s.push(e), (a[e.id] = !0);
                        for (
                          var r = u(e.id, i),
                            o = function (e) {
                              var i = r[e];
                              if (!a[i]) {
                                var o = n.filter(function (t) {
                                  return t.id === i;
                                });
                                o.length > 0 && t(o[0]);
                              }
                            },
                            c = 0;
                          c < r.length;
                          ++c
                        )
                          o(c);
                      },
                      l = 0;
                    l < n.length;
                    l++
                  ) {
                    var h = n[l];
                    if (!a[h.id]) {
                      c(h);
                      for (var f = []; s.length > 0; ) f.push(s.pop());
                      o.push(f);
                    }
                  }
                  return o;
                })(t);
          }
          var p = function (t) {
            var e = {},
              n = t.nodes,
              r = void 0 === n ? [] : n,
              i = t.edges,
              o = void 0 === i ? [] : i;
            return (
              r.forEach(function (t) {
                e[t.id] = { degree: 0, inDegree: 0, outDegree: 0 };
              }),
              o.forEach(function (t) {
                e[t.source].degree++,
                  e[t.source].outDegree++,
                  e[t.target].degree++,
                  e[t.target].inDegree++;
              }),
              e
            );
          };
          const g = p;
          var v = function (t, e) {
              return p(t)[e] ? p(t)[e].inDegree : 0;
            },
            y = function (t, e) {
              return p(t)[e] ? p(t)[e].outDegree : 0;
            };
          function m(t, e, n, r) {
            r.enter({ current: e, previous: n });
            var i = t.edges;
            u(e, void 0 === i ? [] : i, 'target').forEach(function (i) {
              r.allowTraversal({ previous: n, current: e, next: i }) && m(t, i, e, r);
            }),
              r.leave({ current: e, previous: n });
          }
          function b(t, e, n) {
            m(
              t,
              e,
              '',
              (function (t) {
                void 0 === t && (t = {});
                var e,
                  n = t,
                  r = function () {},
                  i =
                    ((e = {}),
                    function (t) {
                      var n = t.next;
                      return !e[n] && ((e[n] = !0), !0);
                    });
                return (
                  (n.allowTraversal = t.allowTraversal || i),
                  (n.enter = t.enter || r),
                  (n.leave = t.leave || r),
                  n
                );
              })(n),
            );
          }
          var x = function (t, e, n) {
              var r, i;
              void 0 === n && (n = !0);
              for (var o = [], a = 0, s = d(t, !1); a < s.length; a++) {
                var c = s[a];
                if (c.length)
                  for (
                    var l = c[0],
                      h = l.id,
                      f = [l],
                      p = (((r = {})[h] = l), r),
                      g = (((i = {})[h] = new Set()), i);
                    f.length > 0;

                  )
                    for (
                      var v = f.pop(),
                        y = v.id,
                        m = u(y, t.edges),
                        b = function (r) {
                          var i,
                            a = m[r],
                            s = t.nodes.find(function (t) {
                              return t.id === a;
                            });
                          if (a === y) o.push((((i = {})[a] = v), i));
                          else if ((a in g)) {
                            if (!g[y].has(s)) {
                              for (
                                var u = !0, c = [s, v], l = p[y];
                                g[a].size && !g[a].has(l) && (c.push(l), l !== p[l.id]);

                              )
                                l = p[l.id];
                              if (
                                (c.push(l),
                                e && n
                                  ? ((u = !1),
                                    c.findIndex(function (t) {
                                      return e.indexOf(t.id) > -1;
                                    }) > -1 && (u = !0))
                                  : e &&
                                    !n &&
                                    c.findIndex(function (t) {
                                      return e.indexOf(t.id) > -1;
                                    }) > -1 &&
                                    (u = !1),
                                u)
                              ) {
                                for (var h = {}, d = 1; d < c.length; d += 1) h[c[d - 1].id] = c[d];
                                c.length && (h[c[c.length - 1].id] = c[0]), o.push(h);
                              }
                              g[a].add(v);
                            }
                          } else (p[a] = v), f.push(s), (g[a] = new Set([v]));
                        },
                        x = 0;
                      x < m.length;
                      x += 1
                    )
                      b(x);
              }
              return o;
            },
            _ = function (t, e, n) {
              void 0 === n && (n = !0);
              for (
                var r = [],
                  i = new Set(),
                  o = [],
                  a = [],
                  s = {},
                  c = {},
                  l = function t(u, c, l) {
                    var h = !1;
                    if (e && !1 === n && e.indexOf(u.id) > -1) return h;
                    r.push(u), i.add(u);
                    for (var f = l[u.id], d = 0; d < f.length; d += 1)
                      if ((v = s[f[d]]) === c) {
                        for (var p = {}, g = 1; g < r.length; g += 1) p[r[g - 1].id] = r[g];
                        r.length && (p[r[r.length - 1].id] = r[0]), a.push(p), (h = !0);
                      } else i.has(v) || (t(v, c, l) && (h = !0));
                    if (h)
                      !(function (t) {
                        for (var e = [t]; e.length > 0; ) {
                          var n = e.pop();
                          i.has(n) &&
                            (i.delete(n),
                            o[n.id].forEach(function (t) {
                              e.push(t);
                            }),
                            o[n.id].clear());
                        }
                      })(u);
                    else
                      for (d = 0; d < f.length; d += 1) {
                        var v = s[f[d]];
                        o[v.id].has(u) || o[v.id].add(u);
                      }
                    return r.pop(), h;
                  },
                  h = t.nodes,
                  d = void 0 === h ? [] : h,
                  p = 0;
                p < d.length;
                p += 1
              ) {
                var g = d[p],
                  v = g.id;
                (c[v] = p), (s[p] = g);
              }
              if (e && n) {
                var y = function (t) {
                  var n = e[t];
                  (c[d[t].id] = c[n]),
                    (c[n] = 0),
                    (s[0] = d.find(function (t) {
                      return t.id === n;
                    })),
                    (s[c[d[t].id]] = d[t]);
                };
                for (p = 0; p < e.length; p++) y(p);
              }
              for (
                var m = function (r) {
                    for (var i, o, s = 1 / 0, l = 0; l < r.length; l += 1)
                      for (var h = r[l], f = 0; f < h.length; f++) {
                        var d = c[h[f].id];
                        d < s && ((s = d), (o = l));
                      }
                    var p = r[o],
                      g = [];
                    for (l = 0; l < p.length; l += 1) {
                      var v = p[l];
                      g[v.id] = [];
                      for (
                        var y = 0,
                          m = u(v.id, t.edges, 'target').filter(function (t) {
                            return (
                              p
                                .map(function (t) {
                                  return t.id;
                                })
                                .indexOf(t) > -1
                            );
                          });
                        y < m.length;
                        y++
                      ) {
                        var b = m[y];
                        b !== v.id || (!1 === n && e.indexOf(v.id) > -1)
                          ? g[v.id].push(c[b])
                          : a.push((((i = {})[v.id] = v), i));
                      }
                    }
                    return { component: p, adjList: g, minIdx: s };
                  },
                  b = 0;
                b < d.length;

              ) {
                var x = d.filter(function (t) {
                    return c[t.id] >= b;
                  }),
                  _ = f({ nodes: x, edges: t.edges }).filter(function (t) {
                    return t.length > 1;
                  });
                if (0 === _.length) break;
                var w = m(_),
                  E = w.minIdx,
                  S = w.adjList,
                  M = w.component;
                if (!(M.length > 1)) break;
                M.forEach(function (t) {
                  o[t.id] = new Set();
                });
                var k = s[E];
                if (e && n && -1 === e.indexOf(k.id)) return a;
                l(k, k, S), (b = E + 1);
              }
              return a;
            },
            w = function (t, e, n, r) {
              return void 0 === r && (r = !0), e ? _(t, n, r) : x(t, n, r);
            };
          const E = function (t) {
            var e = null,
              n = t.nodes,
              r = {},
              i = {},
              o = {},
              a = {};
            (void 0 === n ? [] : n).forEach(function (t) {
              i[t.id] = t;
            });
            for (
              var s = {
                enter: function (t) {
                  var n = t.current,
                    a = t.previous;
                  if (o[n]) {
                    e = {};
                    for (var s = n, u = a; u !== n; ) (e[s] = u), (s = u), (u = r[u]);
                    e[s] = u;
                  } else (o[n] = n), delete i[n], (r[n] = a);
                },
                leave: function (t) {
                  var e = t.current;
                  (a[e] = e), delete o[e];
                },
                allowTraversal: function (t) {
                  var n = t.next;
                  return !e && !a[n];
                },
              };
              Object.keys(i).length;

            )
              b(t, Object.keys(i)[0], s);
            return e;
          };
          var S = n(655),
            M = n(9242);
          const k = function (t, e, n, r) {
            var i = t.nodes,
              o = void 0 === i ? [] : i,
              a = t.edges,
              s = void 0 === a ? [] : a,
              u = [],
              l = {},
              h = {},
              f = {};
            o.forEach(function (t, n) {
              var r = t.id;
              u.push(r), (h[r] = 1 / 0), r === e && (h[r] = 0);
            });
            for (
              var d = o.length,
                p = function (t) {
                  var e = (function (t, e, n) {
                      for (var r, i = 1 / 0, o = 0; o < e.length; o++) {
                        var a = e[o].id;
                        !n[a] && t[a] <= i && ((i = t[a]), (r = e[o]));
                      }
                      return r;
                    })(h, o, l),
                    i = e.id;
                  if (((l[i] = !0), h[i] === 1 / 0)) return 'continue';
                  var a = [];
                  (a = n
                    ? (function (t, e) {
                        return e.filter(function (e) {
                          return e.source === t;
                        });
                      })(i, s)
                    : c(i, s)),
                    a.forEach(function (t) {
                      var n = t.target,
                        o = t.source,
                        a = n === i ? o : n,
                        s = r && t[r] ? t[r] : 1;
                      h[a] > h[e.id] + s
                        ? ((h[a] = h[e.id] + s), (f[a] = [e.id]))
                        : h[a] === h[e.id] + s && f[a].push(e.id);
                    });
                },
                g = 0;
              g < d;
              g++
            )
              p();
            f[e] = [e];
            var v = {};
            for (var y in h) h[y] !== 1 / 0 && A(e, y, f, v);
            var m = {};
            for (var y in v) m[y] = v[y][0];
            return { length: h, path: m, allPath: v };
          };
          function A(t, e, n, r) {
            if (t === e) return [t];
            if (r[e]) return r[e];
            for (var i = [], o = 0, a = n[e]; o < a.length; o++) {
              var s = A(t, a[o], n, r);
              if (!s) return;
              for (var u = 0, c = s; u < c.length; u++) {
                var l = c[u];
                (0, M.isArray)(l)
                  ? i.push((0, S.__spreadArray)((0, S.__spreadArray)([], l), [e]))
                  : i.push([l, e]);
              }
            }
            return (r[e] = i), r[e];
          }
          var C = function (t, e, n, r, i) {
              var o = k(t, e, r, i),
                a = o.length,
                s = o.path,
                u = o.allPath;
              return { length: a[n], path: s[n], allPath: u[n] };
            },
            I = function (t, e, n, r) {
              var i;
              if (e === n) return [[e]];
              var o = t.edges,
                a = void 0 === o ? [] : o,
                s = [e],
                c = (((i = {})[e] = !0), i),
                l = [],
                h = [],
                f = r ? u(e, a, 'target') : u(e, a);
              for (l.push(f); s.length > 0 && l.length > 0; ) {
                var d = l[l.length - 1];
                if (d.length) {
                  var p = d.shift();
                  if (
                    (p &&
                      (s.push(p),
                      (c[p] = !0),
                      (f = r ? u(p, a, 'target') : u(p, a)),
                      l.push(
                        f.filter(function (t) {
                          return !c[t];
                        }),
                      )),
                    s[s.length - 1] === n)
                  ) {
                    var g = s.map(function (t) {
                      return t;
                    });
                    h.push(g), (v = s.pop()), (c[v] = !1), l.pop();
                  }
                } else {
                  var v = s.pop();
                  (c[v] = !1), l.pop();
                }
              }
              return h;
            };
          const T = function (t, e) {
              for (var n = r(t, e), i = [], o = n.length, a = 0; a < o; a += 1) {
                i[a] = [];
                for (var s = 0; s < o; s += 1)
                  a === s
                    ? (i[a][s] = 0)
                    : 0 !== n[a][s] && n[a][s]
                    ? (i[a][s] = n[a][s])
                    : (i[a][s] = 1 / 0);
              }
              for (var u = 0; u < o; u += 1)
                for (a = 0; a < o; a += 1)
                  for (s = 0; s < o; s += 1)
                    i[a][s] > i[a][u] + i[u][s] && (i[a][s] = i[a][u] + i[u][s]);
              return i;
            },
            N = function (t, e, n, i) {
              void 0 === e && (e = !1), void 0 === n && (n = 'weight'), void 0 === i && (i = 1e3);
              var o = t.nodes,
                a = void 0 === o ? [] : o,
                s = t.edges,
                u = void 0 === s ? [] : s,
                c = {},
                h = {};
              a.forEach(function (t, e) {
                var n = l();
                (t.clusterId = n), (c[n] = { id: n, nodes: [t] }), (h[t.id] = { node: t, idx: e });
              });
              var f = r(t, e),
                d = [],
                p = {};
              f.forEach(function (t, e) {
                var n = 0,
                  r = a[e].id;
                (p[r] = {}),
                  t.forEach(function (t, e) {
                    if (t) {
                      n += t;
                      var i = a[e].id;
                      p[r][i] = t;
                    }
                  }),
                  d.push(n);
              });
              for (
                var g = 0,
                  v = function () {
                    var t = !1;
                    if (
                      (a.forEach(function (e) {
                        var n = {};
                        Object.keys(p[e.id]).forEach(function (t) {
                          var r = p[e.id][t],
                            i = h[t].node.clusterId;
                          n[i] || (n[i] = 0), (n[i] += r);
                        });
                        var r = -1 / 0,
                          i = [];
                        if (
                          (Object.keys(n).forEach(function (t) {
                            r < n[t] ? ((r = n[t]), (i = [t])) : r === n[t] && i.push(t);
                          }),
                          1 !== i.length || i[0] !== e.clusterId)
                        ) {
                          var o = i.indexOf(e.clusterId);
                          if ((o >= 0 && i.splice(o, 1), i && i.length)) {
                            t = !0;
                            var a = c[e.clusterId],
                              s = a.nodes.indexOf(e);
                            a.nodes.splice(s, 1);
                            var u = Math.floor(Math.random() * i.length),
                              l = c[i[u]];
                            l.nodes.push(e), (e.clusterId = l.id);
                          }
                        }
                      }),
                      !t)
                    )
                      return 'break';
                    g++;
                  };
                g < i && 'break' !== v();

              );
              Object.keys(c).forEach(function (t) {
                var e = c[t];
                (e.nodes && e.nodes.length) || delete c[t];
              });
              var y = [],
                m = {};
              u.forEach(function (t) {
                var e = t.source,
                  r = t.target,
                  i = t[n] || 1,
                  o = h[e].node.clusterId,
                  a = h[r].node.clusterId,
                  s = o + '---' + a;
                if (m[s]) (m[s].weight += i), m[s].count++;
                else {
                  var u = { source: o, target: a, weight: i, count: 1 };
                  (m[s] = u), y.push(u);
                }
              });
              var b = [];
              return (
                Object.keys(c).forEach(function (t) {
                  b.push(c[t]);
                }),
                { clusters: b, clusterEdges: y }
              );
            };
          var P = function (t, e, n, r) {
            for (var i = e.length, o = 2 * r, a = 0, s = 0; s < i; s++)
              for (var u = t[s].clusterId, c = 0; c < i; c++)
                u === t[c].clusterId && (a += (e[s][c] || 0) - ((n[s] || 0) * (n[c] || 0)) / o);
            return a * (1 / o);
          };
          const O = function (t, e, n, i) {
              void 0 === e && (e = !1), void 0 === n && (n = 'weight'), void 0 === i && (i = 1e-4);
              var o = t.nodes,
                a = void 0 === o ? [] : o,
                s = t.edges,
                u = void 0 === s ? [] : s,
                c = 1,
                l = {},
                h = {};
              a.forEach(function (t, e) {
                var n = String(c++);
                (t.clusterId = n), (l[n] = { id: n, nodes: [t] }), (h[t.id] = { node: t, idx: e });
              });
              var f = r(t, e),
                d = [],
                p = {},
                g = 0;
              f.forEach(function (t, e) {
                var n = 0,
                  r = a[e].id;
                (p[r] = {}),
                  t.forEach(function (t, e) {
                    if (t) {
                      n += t;
                      var i = a[e].id;
                      (p[r][i] = t), (g += t);
                    }
                  }),
                  d.push(n);
              }),
                (g /= 2);
              for (
                var v = 1 / 0, y = 1 / 0, m = 0;
                (v = P(a, f, d, g)), !(Math.abs(v - y) < i || m > 100);

              )
                (y = v),
                  m++,
                  Object.keys(l).forEach(function (t) {
                    var e = 0;
                    u.forEach(function (r) {
                      var i = r.source,
                        o = r.target,
                        a = h[i].node.clusterId,
                        s = h[o].node.clusterId;
                      ((a === t && s !== t) || (s === t && a !== t)) && (e += r[n] || 1);
                    }),
                      (l[t].sumTot = e);
                  }),
                  a.forEach(function (t, e) {
                    var r,
                      i = l[t.clusterId],
                      o = 0,
                      a = d[e] / (2 * g),
                      s = 0;
                    i.nodes.forEach(function (t) {
                      var n = h[t.id].idx;
                      s += f[e][n] || 0;
                    });
                    var c = s - i.sumTot * a,
                      v = p[t.id];
                    if (
                      (Object.keys(v).forEach(function (n) {
                        var i = h[n].node.clusterId;
                        if (i !== t.clusterId) {
                          var s = l[i],
                            u = s.nodes;
                          if (u && u.length) {
                            var d = 0;
                            u.forEach(function (t) {
                              var n = h[t.id].idx;
                              d += f[e][n] || 0;
                            });
                            var p = d - s.sumTot * a - c;
                            p > o && ((o = p), (r = s));
                          }
                        }
                      }),
                      o > 0)
                    ) {
                      r.nodes.push(t);
                      var y = t.clusterId;
                      t.clusterId = r.id;
                      var m = i.nodes.indexOf(t);
                      i.nodes.splice(m, 1);
                      var b = 0,
                        x = 0;
                      u.forEach(function (t) {
                        var e = t.source,
                          i = t.target,
                          o = h[e].node.clusterId,
                          a = h[i].node.clusterId;
                        ((o === r.id && a !== r.id) || (a === r.id && o !== r.id)) &&
                          (b += t[n] || 1),
                          ((o === y && a !== y) || (a === y && o !== y)) && (x += t[n] || 1);
                      }),
                        (r.sumTot = b),
                        (i.sumTot = x);
                    }
                  });
              var b = {},
                x = 0;
              Object.keys(l).forEach(function (t) {
                var e = l[t];
                if (e.nodes && e.nodes.length) {
                  var n = String(x + 1);
                  n !== t &&
                    ((e.id = n),
                    (e.nodes = e.nodes.map(function (t) {
                      return { id: t.id, clusterId: n };
                    })),
                    (l[n] = e),
                    (b[t] = n),
                    delete l[t],
                    x++);
                } else delete l[t];
              }),
                a.forEach(function (t) {
                  t.clusterId && b[t.clusterId] && (t.clusterId = b[t.clusterId]);
                });
              var _ = [],
                w = {};
              u.forEach(function (t) {
                var e = t.source,
                  r = t.target,
                  i = t[n] || 1,
                  o = h[e].node.clusterId,
                  a = h[r].node.clusterId,
                  s = o + '---' + a;
                if (w[s]) (w[s].weight += i), w[s].count++;
                else {
                  var u = { source: o, target: a, weight: i, count: 1 };
                  (w[s] = u), _.push(u);
                }
              });
              var E = [];
              return (
                Object.keys(l).forEach(function (t) {
                  E.push(l[t]);
                }),
                { clusters: E, clusterEdges: _ }
              );
            },
            D = (function () {
              function t(t) {
                (this.count = t.length), (this.parent = {});
                for (var e = 0, n = t; e < n.length; e++) {
                  var r = n[e];
                  this.parent[r] = r;
                }
              }
              return (
                (t.prototype.find = function (t) {
                  for (; this.parent[t] !== t; ) t = this.parent[t];
                  return t;
                }),
                (t.prototype.union = function (t, e) {
                  var n = this.find(t),
                    r = this.find(e);
                  n !== r &&
                    (n < r
                      ? (this.parent[e] !== e && this.union(this.parent[e], t),
                        (this.parent[e] = this.parent[t]))
                      : (this.parent[t] !== t && this.union(this.parent[t], e),
                        (this.parent[t] = this.parent[e])));
                }),
                (t.prototype.connected = function (t, e) {
                  return this.find(t) === this.find(e);
                }),
                t
              );
            })();
          var L = function (t, e) {
            return t - e;
          };
          const R = (function () {
            function t(t) {
              void 0 === t && (t = L), (this.compareFn = t), (this.list = []);
            }
            return (
              (t.prototype.getLeft = function (t) {
                return 2 * t + 1;
              }),
              (t.prototype.getRight = function (t) {
                return 2 * t + 2;
              }),
              (t.prototype.getParent = function (t) {
                return 0 === t ? null : Math.floor((t - 1) / 2);
              }),
              (t.prototype.isEmpty = function () {
                return this.list.length <= 0;
              }),
              (t.prototype.top = function () {
                return this.isEmpty() ? void 0 : this.list[0];
              }),
              (t.prototype.delMin = function () {
                var t = this.top(),
                  e = this.list.pop();
                return this.list.length > 0 && ((this.list[0] = e), this.moveDown(0)), t;
              }),
              (t.prototype.insert = function (t) {
                if (null !== t) {
                  this.list.push(t);
                  var e = this.list.length - 1;
                  return this.moveUp(e), !0;
                }
                return !1;
              }),
              (t.prototype.moveUp = function (t) {
                for (
                  var e = this.getParent(t);
                  t && t > 0 && this.compareFn(this.list[e], this.list[t]) > 0;

                ) {
                  var n = this.list[e];
                  (this.list[e] = this.list[t]),
                    (this.list[t] = n),
                    (t = e),
                    (e = this.getParent(t));
                }
              }),
              (t.prototype.moveDown = function (t) {
                var e,
                  n = t,
                  r = this.getLeft(t),
                  i = this.getRight(t),
                  o = this.list.length;
                null !== r && r < o && this.compareFn(this.list[n], this.list[r]) > 0
                  ? (n = r)
                  : null !== i &&
                    i < o &&
                    this.compareFn(this.list[n], this.list[i]) > 0 &&
                    (n = i),
                  t !== n &&
                    ((e = [this.list[n], this.list[t]]),
                    (this.list[t] = e[0]),
                    (this.list[n] = e[1]),
                    this.moveDown(n));
              }),
              t
            );
          })();
          var B = function (t, e) {
              var n = [],
                r = t.nodes,
                i = void 0 === r ? [] : r,
                o = t.edges,
                a = void 0 === o ? [] : o;
              if (0 === i.length) return n;
              var s = i[0],
                u = new Set();
              u.add(s);
              var l = new R(function (t, n) {
                return e ? t.weight - n.weight : 0;
              });
              for (
                c(s.id, a).forEach(function (t) {
                  l.insert(t);
                });
                !l.isEmpty();

              ) {
                var h = l.delMin(),
                  f = h.source,
                  d = h.target;
                (u.has(f) && u.has(d)) ||
                  (n.push(h),
                  u.has(f) ||
                    (u.add(f),
                    c(f, a).forEach(function (t) {
                      l.insert(t);
                    })),
                  u.has(d) ||
                    (u.add(d),
                    c(d, a).forEach(function (t) {
                      l.insert(t);
                    })));
              }
              return n;
            },
            j = function (t, e) {
              var n = [],
                r = t.nodes,
                i = void 0 === r ? [] : r,
                o = t.edges,
                a = void 0 === o ? [] : o;
              if (0 === i.length) return n;
              var s = a.map(function (t) {
                return t;
              });
              e &&
                s.sort(function (t, e) {
                  return t.weight - e.weight;
                });
              for (
                var u = new D(
                  i.map(function (t) {
                    return t.id;
                  }),
                );
                s.length > 0;

              ) {
                var c = s.shift(),
                  l = c.source,
                  h = c.target;
                u.connected(l, h) || (n.push(c), u.union(l, h));
              }
              return n;
            };
          const G = function (t, e, n) {
              return n ? { prim: B, kruskal: j }[n](t, e) : j(t, e);
            },
            z = function (t, e, n) {
              'number' != typeof e && (e = 1e-6), 'number' != typeof n && (n = 0.85);
              for (
                var r,
                  i = 1,
                  o = 0,
                  a = 1e3,
                  s = t.nodes,
                  c = void 0 === s ? [] : s,
                  l = t.edges,
                  h = void 0 === l ? [] : l,
                  f = c.length,
                  d = {},
                  p = {},
                  v = 0;
                v < f;
                ++v
              )
                (d[(m = (E = c[v]).id)] = 1 / f), (p[m] = 1 / f);
              for (var y = g(t); a > 0 && i > e; ) {
                for (o = 0, v = 0; v < f; ++v) {
                  var m = (E = c[v]).id;
                  if (((r = 0), 0 === y[E.id].inDegree)) d[m] = 0;
                  else {
                    for (var b = u(m, h, 'source'), x = 0; x < b.length; ++x) {
                      var _ = b[x],
                        w = y[_].outDegree;
                      w > 0 && (r += p[_] / w);
                    }
                    (d[m] = n * r), (o += d[m]);
                  }
                }
                for (o = (1 - o) / f, i = 0, v = 0; v < f; ++v) {
                  var E;
                  (r = d[(m = (E = c[v]).id)] + o), (i += Math.abs(r - p[m])), (p[m] = r);
                }
                a -= 1;
              }
              return p;
            };
          var F = '-1',
            U = function (t, e, n, r) {
              void 0 === t && (t = -1),
                void 0 === e && (e = -1),
                void 0 === n && (n = -1),
                void 0 === r && (r = '-1'),
                (this.id = t),
                (this.from = e),
                (this.to = n),
                (this.label = r);
            },
            V = (function () {
              function t(t, e) {
                void 0 === t && (t = -1),
                  void 0 === e && (e = F),
                  (this.id = t),
                  (this.label = e),
                  (this.edges = []),
                  (this.edgeMap = {});
              }
              return (
                (t.prototype.addEdge = function (t) {
                  this.edges.push(t), (this.edgeMap[t.id] = t);
                }),
                t
              );
            })(),
            W = (function () {
              function t(t, e, n) {
                void 0 === t && (t = -1),
                  void 0 === e && (e = !0),
                  void 0 === n && (n = !1),
                  (this.id = t),
                  (this.edgeIdAutoIncrease = e),
                  (this.edges = []),
                  (this.nodes = []),
                  (this.nodeMap = {}),
                  (this.edgeMap = {}),
                  (this.nodeLabelMap = {}),
                  (this.edgeLabelMap = {}),
                  (this.counter = 0),
                  (this.directed = n);
              }
              return (
                (t.prototype.getNodeNum = function () {
                  return this.nodes.length;
                }),
                (t.prototype.addNode = function (t, e) {
                  if (!this.nodeMap[t]) {
                    var n = new V(t, e);
                    this.nodes.push(n),
                      (this.nodeMap[t] = n),
                      this.nodeLabelMap[e] || (this.nodeLabelMap[e] = []),
                      this.nodeLabelMap[e].push(t);
                  }
                }),
                (t.prototype.addEdge = function (t, e, n, r) {
                  if (
                    ((this.edgeIdAutoIncrease || void 0 === t) && (t = this.counter++),
                    !(this.nodeMap[e] && this.nodeMap[n] && this.nodeMap[n].edgeMap[t]))
                  ) {
                    var i = new U(t, e, n, r);
                    if (
                      (this.edges.push(i),
                      (this.edgeMap[t] = i),
                      this.nodeMap[e].addEdge(i),
                      this.edgeLabelMap[r] || (this.edgeLabelMap[r] = []),
                      this.edgeLabelMap[r].push(i),
                      !this.directed)
                    ) {
                      var o = new U(t, n, e, r);
                      this.nodeMap[n].addEdge(o), this.edgeLabelMap[r].push(o);
                    }
                  }
                }),
                t
              );
            })(),
            Y = (function () {
              function t(t, e, n, r, i) {
                (this.fromNode = t),
                  (this.toNode = e),
                  (this.nodeEdgeNodeLabel = {
                    nodeLabel1: n || F,
                    edgeLabel: r || '-1',
                    nodeLabel2: i || F,
                  });
              }
              return (
                (t.prototype.equalTo = function (t) {
                  return (
                    this.fromNode === t.formNode &&
                    this.toNode === t.toNode &&
                    this.nodeEdgeNodeLabel === t.nodeEdgeNodeLabel
                  );
                }),
                (t.prototype.notEqualTo = function (t) {
                  return !this.equalTo(t);
                }),
                t
              );
            })(),
            X = (function () {
              function t() {
                (this.rmpath = []), (this.dfsEdgeList = []);
              }
              return (
                (t.prototype.equalTo = function (t) {
                  var e = this.dfsEdgeList.length;
                  if (e !== t.length) return !1;
                  for (var n = 0; n < e; n++) if (this.dfsEdgeList[n] !== t[n]) return !1;
                  return !0;
                }),
                (t.prototype.notEqualTo = function (t) {
                  return !this.equalTo(t);
                }),
                (t.prototype.pushBack = function (t, e, n, r, i) {
                  return this.dfsEdgeList.push(new Y(t, e, n, r, i)), this.dfsEdgeList;
                }),
                (t.prototype.toGraph = function (t, e) {
                  void 0 === t && (t = -1), void 0 === e && (e = !1);
                  var n = new W(t, !0, e);
                  return (
                    this.dfsEdgeList.forEach(function (t) {
                      var e = t.fromNode,
                        r = t.toNode,
                        i = t.nodeEdgeNodeLabel,
                        o = i.nodeLabel1,
                        a = i.edgeLabel,
                        s = i.nodeLabel2;
                      o !== F && n.addNode(e, o),
                        s !== F && n.addNode(r, s),
                        o !== F && s !== o && n.addEdge(void 0, e, r, a);
                    }),
                    n
                  );
                }),
                (t.prototype.buildRmpath = function () {
                  this.rmpath = [];
                  for (var t = void 0, e = this.dfsEdgeList.length - 1; e >= 0; e--) {
                    var n = this.dfsEdgeList[e],
                      r = n.fromNode,
                      i = n.toNode;
                    r < i && (void 0 === t || i === t) && (this.rmpath.push(e), (t = r));
                  }
                  return this.rmpath;
                }),
                (t.prototype.getNodeNum = function () {
                  var t = {};
                  return (
                    this.dfsEdgeList.forEach(function (e) {
                      t[e.fromNode] || (t[e.fromNode] = !0), t[e.toNode] || (t[e.toNode] = !0);
                    }),
                    Object.keys(t).length
                  );
                }),
                t
              );
            })(),
            H = (function () {
              function t(t) {
                if (
                  ((this.his = {}),
                  (this.nodesUsed = {}),
                  (this.edgesUsed = {}),
                  (this.edges = []),
                  t)
                ) {
                  for (; t; ) {
                    var e = t.edge;
                    this.edges.push(e),
                      (this.nodesUsed[e.from] = 1),
                      (this.nodesUsed[e.to] = 1),
                      (this.edgesUsed[e.id] = 1),
                      (t = t.preNode);
                  }
                  this.edges = this.edges.reverse();
                }
              }
              return (
                (t.prototype.hasNode = function (t) {
                  return 1 === this.nodesUsed[t.id];
                }),
                (t.prototype.hasEdge = function (t) {
                  return 1 === this.edgesUsed[t.id];
                }),
                t
              );
            })(),
            q = (function () {
              function t(t) {
                var e = t.graphs,
                  n = t.minSupport,
                  r = void 0 === n ? 2 : n,
                  i = t.minNodeNum,
                  o = void 0 === i ? 1 : i,
                  a = t.maxNodeNum,
                  s = void 0 === a ? 4 : a,
                  u = t.top,
                  c = void 0 === u ? 10 : u,
                  l = t.directed,
                  h = void 0 !== l && l,
                  f = t.verbose,
                  d = void 0 !== f && f;
                (this.graphs = e),
                  (this.dfsCode = new X()),
                  (this.support = 0),
                  (this.frequentSize1Subgraphs = []),
                  (this.frequentSubgraphs = []),
                  (this.minSupport = r),
                  (this.top = c),
                  (this.directed = h),
                  (this.counter = 0),
                  (this.maxNodeNum = s),
                  (this.minNodeNum = o),
                  (this.verbose = d),
                  this.maxNodeNum < this.minNodeNum && (this.maxNodeNum = this.minNodeNum),
                  (this.reportDF = []);
              }
              return (
                (t.prototype.findForwardRootEdges = function (t, e) {
                  var n = this,
                    r = [],
                    i = t.nodeMap;
                  return (
                    e.edges.forEach(function (t) {
                      (n.directed || e.label <= i[t.to].label) && r.push(t);
                    }),
                    r
                  );
                }),
                (t.prototype.findBackwardEdge = function (t, e, n, r) {
                  if (!this.directed && e === n) return null;
                  for (var i = t.nodeMap, o = i[n.to].edges, a = o.length, s = 0; s < a; s++) {
                    var u = o[s];
                    if (!r.hasEdge(u) && u.to === e.from)
                      if (this.directed) {
                        if (
                          i[e.from].label < i[n.to].label ||
                          (i[e.from].label === i[n.to].label && e.label <= u.label)
                        )
                          return u;
                      } else if (
                        e.label < u.label ||
                        (e.label === u.label && i[e.to].label <= i[n.to].label)
                      )
                        return u;
                  }
                  return null;
                }),
                (t.prototype.findForwardPureEdges = function (t, e, n, r) {
                  for (
                    var i = [], o = e.to, a = t.nodeMap[o].edges, s = a.length, u = 0;
                    u < s;
                    u++
                  ) {
                    var c = a[u],
                      l = t.nodeMap[c.to];
                    n <= l.label && !r.hasNode(l) && i.push(c);
                  }
                  return i;
                }),
                (t.prototype.findForwardRmpathEdges = function (t, e, n, r) {
                  for (
                    var i = [],
                      o = t.nodeMap,
                      a = o[e.to].label,
                      s = o[e.from].edges,
                      u = s.length,
                      c = 0;
                    c < u;
                    c++
                  ) {
                    var l = s[c],
                      h = o[l.to].label;
                    e.to === l.to ||
                      n > h ||
                      r.hasNode(o[l.to]) ||
                      ((e.label < l.label || (e.label === l.label && a <= h)) && i.push(l));
                  }
                  return i;
                }),
                (t.prototype.getSupport = function (t) {
                  var e = {};
                  return (
                    t.forEach(function (t) {
                      e[t.graphId] || (e[t.graphId] = !0);
                    }),
                    Object.keys(e).length
                  );
                }),
                (t.prototype.findMinLabel = function (t) {
                  var e = void 0;
                  return (
                    Object.keys(t).forEach(function (n) {
                      var r = t[n],
                        i = r.nodeLabel1,
                        o = r.edgeLabel,
                        a = r.nodeLabel2;
                      e
                        ? (i < e.nodeLabel1 ||
                            (i === e.nodeLabel1 && o < e.edgeLabel) ||
                            (i === e.nodeLabel1 && o === e.edgeLabel && a < e.nodeLabel2)) &&
                          (e = { nodeLabel1: i, edgeLabel: o, nodeLabel2: a })
                        : (e = { nodeLabel1: i, edgeLabel: o, nodeLabel2: a });
                    }),
                    e
                  );
                }),
                (t.prototype.isMin = function () {
                  var t = this,
                    e = this.dfsCode;
                  if (
                    (this.verbose && console.log('isMin checking', e), 1 === e.dfsEdgeList.length)
                  )
                    return !0;
                  var n = this.directed,
                    r = e.toGraph(-1, n),
                    i = r.nodeMap,
                    o = new X(),
                    a = {};
                  r.nodes.forEach(function (e) {
                    t.findForwardRootEdges(r, e).forEach(function (t) {
                      var n = i[t.to],
                        o = e.label + '-' + t.label + '-' + n.label;
                      a[o] ||
                        (a[o] = {
                          projected: [],
                          nodeLabel1: e.label,
                          edgeLabel: t.label,
                          nodeLabel2: n.label,
                        });
                      var s = { graphId: r.id, edge: t, preNode: null };
                      a[o].projected.push(s);
                    });
                  });
                  var s = this.findMinLabel(a);
                  if (s) {
                    o.dfsEdgeList.push(new Y(0, 1, s.nodeLabel1, s.edgeLabel, s.nodeLabel2));
                    var u = s.nodeLabel1 + '-' + s.edgeLabel + '-' + s.nodeLabel2;
                    return (function a(s) {
                      for (
                        var u = o.buildRmpath(),
                          c = o.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,
                          l = o.dfsEdgeList[u[0]].toNode,
                          h = {},
                          f = !1,
                          d = 0,
                          p = n ? -1 : 0,
                          g = function (e) {
                            if (f) return 'break';
                            s.forEach(function (n) {
                              var i = new H(n),
                                a = t.findBackwardEdge(r, i.edges[u[e]], i.edges[u[0]], i);
                              a &&
                                (h[a.label] || (h[a.label] = { projected: [], edgeLabel: a.label }),
                                h[a.label].projected.push({ graphId: r.id, edge: h, preNode: n }),
                                (d = o.dfsEdgeList[u[e]].fromNode),
                                (f = !0));
                            });
                          },
                          v = u.length - 1;
                        v > p && 'break' !== g(v);
                        v--
                      );
                      if (f) {
                        var y = t.findMinLabel(h);
                        o.dfsEdgeList.push(new Y(l, d, F, y.edgeLabel, F));
                        var m = o.dfsEdgeList.length - 1;
                        return (
                          t.dfsCode.dfsEdgeList[m] === o.dfsEdgeList[m] &&
                          a(h[y.edgeLabel].projected)
                        );
                      }
                      var b = {};
                      f = !1;
                      var x = 0;
                      s.forEach(function (e) {
                        var n = new H(e),
                          o = t.findForwardPureEdges(r, n.edges[u[0]], c, n);
                        o.length > 0 &&
                          ((f = !0),
                          (x = l),
                          o.forEach(function (t) {
                            var n = t.label + '-' + i[t.to].label;
                            b[n] ||
                              (b[n] = {
                                projected: [],
                                edgeLabel: t.label,
                                nodeLabel2: i[t.to].label,
                              }),
                              b[n].projected.push({ graphId: r.id, edge: t, preNode: e });
                          }));
                      });
                      var _ = u.length,
                        w = function (e) {
                          if (f) return 'break';
                          var n = u[e];
                          s.forEach(function (e) {
                            var a = new H(e),
                              s = t.findForwardRmpathEdges(r, a.edges[n], c, a);
                            s.length > 0 &&
                              ((f = !0),
                              (x = o.dfsEdgeList[n].fromNode),
                              s.forEach(function (t) {
                                var n = t.label + '-' + i[t.to].label;
                                b[n] ||
                                  (b[n] = {
                                    projected: [],
                                    edgeLabel: t.label,
                                    nodeLabel2: i[t.to].label,
                                  }),
                                  b[n].projected.push({ graphId: r.id, edge: t, preNode: e });
                              }));
                          });
                        };
                      for (v = 0; v < _ && 'break' !== w(v); v++);
                      if (!f) return !0;
                      var E = t.findMinLabel(b);
                      o.dfsEdgeList.push(new Y(x, l + 1, F, E.edgeLabel, E.nodeLabel2));
                      var S = o.dfsEdgeList.length - 1;
                      return (
                        e.dfsEdgeList[S] === o.dfsEdgeList[S] &&
                        a(b[E.edgeLabel + '-' + E.nodeLabel2].projected)
                      );
                    })(a[u].projected);
                  }
                }),
                (t.prototype.report = function () {
                  if (!(this.dfsCode.getNodeNum() < this.minNodeNum)) {
                    this.counter++;
                    var t = this.dfsCode.toGraph(this.counter, this.directed);
                    this.frequentSubgraphs.push((0, M.clone)(t));
                  }
                }),
                (t.prototype.subGraphMining = function (t) {
                  var e = this;
                  if (!(this.getSupport(t) < this.minSupport) && this.isMin()) {
                    this.report();
                    var n = this.dfsCode.getNodeNum(),
                      r = this.dfsCode.buildRmpath(),
                      i = this.dfsCode.dfsEdgeList[r[0]].toNode,
                      o = this.dfsCode.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,
                      a = {},
                      s = {};
                    t.forEach(function (t) {
                      for (
                        var u = e.graphs[t.graphId], c = u.nodeMap, l = new H(t), h = r.length - 1;
                        h >= 0;
                        h--
                      ) {
                        var f = e.findBackwardEdge(u, l.edges[r[h]], l.edges[r[0]], l);
                        if (f) {
                          var d = e.dfsCode.dfsEdgeList[r[h]].fromNode + '-' + f.label;
                          s[d] ||
                            (s[d] = {
                              projected: [],
                              toNodeId: e.dfsCode.dfsEdgeList[r[h]].fromNode,
                              edgeLabel: f.label,
                            }),
                            s[d].projected.push({ graphId: t.graphId, edge: f, preNode: t });
                        }
                      }
                      if (!(n >= e.maxNodeNum)) {
                        e.findForwardPureEdges(u, l.edges[r[0]], o, l).forEach(function (e) {
                          var n = i + '-' + e.label + '-' + c[e.to].label;
                          a[n] ||
                            (a[n] = {
                              projected: [],
                              fromNodeId: i,
                              edgeLabel: e.label,
                              nodeLabel2: c[e.to].label,
                            }),
                            a[n].projected.push({ graphId: t.graphId, edge: e, preNode: t });
                        });
                        var p = function (n) {
                          e.findForwardRmpathEdges(u, l.edges[r[n]], o, l).forEach(function (i) {
                            var o =
                              e.dfsCode.dfsEdgeList[r[n]].fromNode +
                              '-' +
                              i.label +
                              '-' +
                              c[i.to].label;
                            a[o] ||
                              (a[o] = {
                                projected: [],
                                fromNodeId: e.dfsCode.dfsEdgeList[r[n]].fromNode,
                                edgeLabel: i.label,
                                nodeLabel2: c[i.to].label,
                              }),
                              a[o].projected.push({ graphId: t.graphId, edge: i, preNode: t });
                          });
                        };
                        for (h = 0; h < r.length; h++) p(h);
                      }
                    }),
                      Object.keys(s).forEach(function (t) {
                        var n = s[t],
                          r = n.toNodeId,
                          o = n.edgeLabel;
                        e.dfsCode.dfsEdgeList.push(new Y(i, r, '-1', o, '-1')),
                          e.subGraphMining(s[t].projected),
                          e.dfsCode.dfsEdgeList.pop();
                      }),
                      Object.keys(a).forEach(function (t) {
                        var n = a[t],
                          r = n.fromNodeId,
                          o = n.edgeLabel,
                          s = n.nodeLabel2;
                        e.dfsCode.dfsEdgeList.push(new Y(r, i + 1, F, o, s)),
                          e.subGraphMining(a[t].projected),
                          e.dfsCode.dfsEdgeList.pop();
                      });
                  }
                }),
                (t.prototype.generate1EdgeFrequentSubGraphs = function () {
                  var t = this.graphs,
                    e = this.directed,
                    n = this.minSupport,
                    r = this.frequentSize1Subgraphs,
                    i = {},
                    o = {},
                    a = {},
                    s = {};
                  return (
                    Object.keys(t).forEach(function (n) {
                      var r = t[n],
                        u = r.nodeMap;
                      r.nodes.forEach(function (t, r) {
                        var c = t.label,
                          l = n + '-' + c;
                        if (!a[l]) {
                          var h = i[c] || 0;
                          h++, (i[c] = h);
                        }
                        (a[l] = { graphKey: n, label: c }),
                          t.edges.forEach(function (t) {
                            var r = c,
                              i = u[t.to].label;
                            if (!e && r > i) {
                              var a = i;
                              (i = r), (r = a);
                            }
                            var l = t.label,
                              h = n + '-' + r + '-' + l + '-' + i,
                              f = r + '-' + l + '-' + i;
                            if (!o[f]) {
                              var d = o[f] || 0;
                              d++, (o[f] = d);
                            }
                            s[h] = { graphId: n, nodeLabel1: r, edgeLabel: l, nodeLabel2: i };
                          });
                      });
                    }),
                    Object.keys(i).forEach(function (t) {
                      if (!(i[t] < n)) {
                        var e = { nodes: [], edges: [] };
                        e.nodes.push({ id: '0', label: t }), r.push(e);
                      }
                    }),
                    r
                  );
                }),
                (t.prototype.run = function () {
                  var t = this;
                  if (
                    ((this.frequentSize1Subgraphs = this.generate1EdgeFrequentSubGraphs()),
                    !(this.maxNodeNum < 2))
                  ) {
                    var e = this.graphs,
                      n = (this.directed, {});
                    Object.keys(e).forEach(function (r) {
                      var i = e[r],
                        o = i.nodeMap;
                      i.nodes.forEach(function (e) {
                        t.findForwardRootEdges(i, e).forEach(function (t) {
                          var i = o[t.to],
                            a = e.label + '-' + t.label + '-' + i.label;
                          n[a] ||
                            (n[a] = {
                              projected: [],
                              nodeLabel1: e.label,
                              edgeLabel: t.label,
                              nodeLabel2: i.label,
                            });
                          var s = { graphId: r, edge: t, preNode: null };
                          n[a].projected.push(s);
                        });
                      });
                    }),
                      Object.keys(n).forEach(function (e) {
                        var r = n[e],
                          i = r.projected,
                          o = r.nodeLabel1,
                          a = r.edgeLabel,
                          s = r.nodeLabel2;
                        t.dfsCode.dfsEdgeList.push(new Y(0, 1, o, a, s)),
                          t.subGraphMining(i),
                          t.dfsCode.dfsEdgeList.pop();
                      });
                  }
                }),
                t
              );
            })(),
            K = 'cluster';
          var Z = function (t, e, n, r) {
              void 0 === n && (n = 'cluster'), void 0 === r && (r = 2);
              var i = [],
                o = t.nodes;
              return (
                e.forEach(function (t, e) {
                  i.push($(o, t, e, n, r));
                }),
                i
              );
            },
            $ = function (t, e, n, r, i) {
              var o = [n],
                a = [],
                s = {};
              return (
                e.forEach(function (e, u) {
                  if (e <= i && n !== u) {
                    o.push(u), a.push(t[u]);
                    var c = t[u][r];
                    s[c] ? (s[c].count++, s[c].dists.push(e)) : (s[c] = { count: 1, dists: [e] });
                  }
                }),
                Object.keys(s).forEach(function (t) {
                  s[t].dists = s[t].dists.sort(function (t, e) {
                    return t - e;
                  });
                }),
                {
                  nodeIdx: n,
                  nodeId: t[n].id,
                  nodeIdxs: o,
                  neighbors: a,
                  neighborNum: o.length - 1,
                  nodeLabelCountMap: s,
                }
              );
            },
            Q = function (t, e, n, r) {
              var i = n.nodes;
              return (
                r || (r = {}),
                Object.keys(t).forEach(function (o) {
                  var a, s;
                  if (!r || !r[o]) {
                    r[o] = { nodes: [], edges: [] };
                    var u = t[o],
                      c = null === (a = e[u.start]) || void 0 === a ? void 0 : a.nodeIdxs,
                      l = null === (s = e[u.end]) || void 0 === s ? void 0 : s.nodeIdxs;
                    if (c && l) {
                      var h = new Set(l),
                        f = c.filter(function (t) {
                          return h.has(t);
                        });
                      if (f && f.length) {
                        for (var d = {}, p = f.length, g = 0; g < p; g++) {
                          var v = i[f[g]];
                          r[o].nodes.push(v), (d[v.id] = !0);
                        }
                        n.edges.forEach(function (t) {
                          d[t.source] && d[t.target] && r[o].edges.push(t);
                        });
                      }
                    }
                  }
                }),
                r
              );
            },
            J = function (t, e, n, r) {
              var i,
                o,
                a = {};
              t.nodes.forEach(function (t) {
                a[t.id] = t;
              });
              var s = 0;
              return !(null === (i = null == e ? void 0 : e.edges) || void 0 === i
                ? void 0
                : i.length) ||
                (null === (o = null == e ? void 0 : e.nodes) || void 0 === o ? void 0 : o.length) <
                  2
                ? 0
                : (t.edges.forEach(function (t) {
                    var i = a[t.source][n],
                      o = a[t.target][n],
                      u = null == e ? void 0 : e.nodes[0][n],
                      c = null == e ? void 0 : e.nodes[1][n],
                      l = null == e ? void 0 : e.edges[0][r];
                    t[r] === l && ((i === u && o === c) || (i === c && o === u)) && s++;
                  }),
                  s);
            },
            tt = function (t, e) {
              var n = {},
                r = {};
              return (
                t.forEach(function (t, i) {
                  n[t.id] = { idx: i, node: t, degree: 0, inDegree: 0, outDegree: 0 };
                  var o = t[e];
                  r[o] || (r[o] = []), r[o].push(t);
                }),
                { nodeMap: n, nodeLabelMap: r }
              );
            },
            et = function (t, e, n) {
              var r = {},
                i = {};
              return (
                t.forEach(function (t, o) {
                  r['' + l] = { idx: o, edge: t };
                  var a = t[e];
                  i[a] || (i[a] = []), i[a].push(t);
                  var s = n[t.source];
                  s && (s.degree++, s.outDegree++);
                  var u = n[t.target];
                  u && (u.degree++, u.inDegree++);
                }),
                { edgeMap: r, edgeLabelMap: i }
              );
            },
            nt = function (t, e, n) {
              var r = e.length,
                i = {};
              return (
                e.forEach(function (e, o) {
                  for (var a = n ? 0 : o + 1, s = t[o].id, u = a; u < r; u++)
                    if (o !== u) {
                      var c = t[u].id,
                        l = e[u];
                      (i[s + '-' + c] = l), n || (i[c + '-' + s] = l);
                    }
                }),
                i
              );
            },
            rt = function (t, e, n, r, i, o, a, s, u, c, l) {
              var h,
                f = e.id + '-' + n.id;
              if (c && c[f]) return c[f];
              var d = l ? l[f] : void 0;
              if (!d) {
                var p = (((h = {})[f] = { start: r[e.id].idx, end: r[n.id].idx, distance: i }), h);
                d = (l = Q(p, o, t, l))[f];
              }
              return J(d, a, s, u);
            },
            it = function (t, e, n, r) {
              var i,
                o,
                a,
                s = null === (i = t[e]) || void 0 === i ? void 0 : i.degree,
                u = null === (o = t[e]) || void 0 === o ? void 0 : o.inDegree,
                c = null === (a = t[e]) || void 0 === a ? void 0 : a.outDegree;
              return (
                void 0 === t[e] &&
                  ((s = 1 / 0),
                  (u = 1 / 0),
                  (c = 1 / 0),
                  r[e].forEach(function (t) {
                    var e = n[t.id].degree;
                    s > e && (s = e);
                    var r = n[t.id].inDegree;
                    u > r && (u = r);
                    var i = n[t.id].outDegree;
                    c > i && (c = i);
                  }),
                  (t[e] = { degree: s, inDegree: u, outDegree: c })),
                {
                  minPatternNodeLabelDegree: s,
                  minPatternNodeLabelInDegree: u,
                  minPatternNodeLabelOutDegree: c,
                }
              );
            };
          const ot = function (t, e, n, r, i, o, a) {
            if (
              (void 0 === n && (n = !1),
              void 0 === o && (o = 'cluster'),
              void 0 === a && (a = 'cluster'),
              t && t.nodes)
            ) {
              var s = t.nodes.length;
              if (s) {
                var u = T(t, n),
                  c = T(e, n),
                  l = nt(t.nodes, u, n),
                  h = nt(e.nodes, c, n),
                  f = tt(t.nodes, o),
                  d = f.nodeMap,
                  p = f.nodeLabelMap,
                  g = tt(e.nodes, o),
                  v = g.nodeMap,
                  y = g.nodeLabelMap;
                et(t.edges, a, d);
                var m = et(e.edges, a, v).edgeLabelMap,
                  b = [];
                null == c ||
                  c.forEach(function (t) {
                    b = b.concat(t);
                  }),
                  i ||
                    (i = Math.max.apply(
                      Math,
                      (0, S.__spreadArray)((0, S.__spreadArray)([], b), [2]),
                    )),
                  r || (r = i);
                var x = Z(t, u, o, r),
                  _ = Z(e, c, o, r),
                  w = (function (t, e, n, r, i) {
                    var o = Math.ceil(n / e),
                      a = {},
                      s = 0;
                    return (
                      r.forEach(function (t, r) {
                        for (var u = 0, c = 0, l = t.nodeIdxs, h = t.neighborNum - 1; u < o; ) {
                          for (
                            var f = l[1 + Math.floor(Math.random() * h)], d = 0;
                            (a[r + '-' + f] || a[f + '-' + r]) &&
                            ((f = Math.floor(Math.random() * e)), !(++d > 2 * e));

                          );
                          if (
                            d < 2 * e &&
                            ((a[r + '-' + f] = { start: r, end: f, distance: i[r][f] }),
                            u++,
                            ++s >= n)
                          )
                            return a;
                          if (++c > 2 * e) break;
                        }
                        u < o && (o = (o + (o - u)) / (e - r - 1));
                      }),
                      a
                    );
                  })(0, s, Math.min(100, (s * (s - 1)) / 2), _, u),
                  E = Q(w, x, t),
                  M = (function (t) {
                    var e = t.graphs,
                      n = t.directed,
                      r = void 0 !== n && n,
                      i = t.nodeLabelProp,
                      o = void 0 === i ? K : i,
                      a = t.edgeLabelProp,
                      s = void 0 === a ? K : a,
                      u = (function (t, e, n, r) {
                        var i = {};
                        return (
                          Object.keys(t).forEach(function (o, a) {
                            var s = t[o],
                              u = new W(a, !0, e),
                              c = {};
                            s.nodes.forEach(function (t, e) {
                              u.addNode(e, t[n]), (c[t.id] = e);
                            }),
                              s.edges.forEach(function (t, e) {
                                var n = c[t.source],
                                  i = c[t.target];
                                u.addEdge(-1, n, i, t[r]);
                              }),
                              u && u.getNodeNum() && (i[u.id] = u);
                          }),
                          i
                        );
                      })(e, r, o, s),
                      c = t.minSupport,
                      l = t.maxNodeNum,
                      h = t.minNodeNum,
                      f = t.verbose,
                      d = t.top,
                      p = new q({
                        graphs: u,
                        minSupport: c,
                        maxNodeNum: l,
                        minNodeNum: h,
                        top: d,
                        verbose: f,
                        directed: r,
                      });
                    p.run();
                    var g = (function (t, e, n) {
                      var r = [];
                      return (
                        t.forEach(function (t) {
                          var i = { nodes: [], edges: [] };
                          t.nodes.forEach(function (t) {
                            var n;
                            i.nodes.push((((n = { id: '' + t.id })[e] = t.label), n));
                          }),
                            t.edges.forEach(function (t) {
                              var e;
                              i.edges.push(
                                (((e = { source: '' + t.from, target: '' + t.to })[n] = t.label),
                                e),
                              );
                            }),
                            r.push(i);
                        }),
                        r
                      );
                    })(p.frequentSubgraphs, o, s);
                    return g;
                  })({
                    graphs: E,
                    nodeLabelProp: o,
                    edgeLabelProp: a,
                    minSupport: 1,
                    minNodeNum: 1,
                    maxNodeNum: 4,
                    directed: n,
                  }).slice(0, 10),
                  A = M.length,
                  C = [];
                M.forEach(function (t, e) {
                  (C[e] = {}),
                    Object.keys(E).forEach(function (n) {
                      var r = E[n],
                        i = J(r, t, o, a);
                      C[e][n] = i;
                    });
                });
                var I = (function (t, e, n) {
                    for (
                      var r = 1 / 0,
                        i = 0,
                        o = function (e) {
                          var n = t[e],
                            o = Object.keys(n).sort(function (t, e) {
                              return n[t] - n[e];
                            }),
                            a = [];
                          o.forEach(function (t, e) {
                            a[e % 10] || (a[e % 10] = { graphs: [], totalCount: 0, aveCount: 0 }),
                              a[e % 10].graphs.push(t),
                              (a[e % 10].totalCount += n[t]);
                          });
                          var s = 0,
                            u = [];
                          a.forEach(function (t) {
                            var e = t.totalCount / t.graphs.length;
                            (t.aveCount = e), u.push(e);
                            var r = 0,
                              i = t.length;
                            t.graphs.forEach(function (e, i) {
                              var o = n[e];
                              t.graphs.forEach(function (t, e) {
                                i !== e && (r += Math.abs(o - n[t]));
                              });
                            }),
                              (s += r /= (i * (i - 1)) / 2);
                          }),
                            (s /= a.length);
                          var c = 0;
                          u.forEach(function (t, e) {
                            u.forEach(function (n, r) {
                              e !== r && (c += Math.abs(t - n));
                            }),
                              (c /= (u.length * (u.length - 1)) / 2);
                          });
                          var l = c - s;
                          r < l && ((r = l), (i = e));
                        },
                        a = 0;
                      a < e;
                      a++
                    )
                      o(a);
                    return { structure: n[i], structureCountMap: t[i] };
                  })(C, A, M),
                  N = I.structure,
                  P = I.structureCountMap,
                  O = e.nodes[0],
                  D = O[o],
                  L = p[D],
                  R = {},
                  B = {},
                  j = {},
                  G = {},
                  z = {},
                  F = {};
                Object.keys(y).forEach(function (r, i) {
                  (z[r] = []), n && (F[r] = []);
                  var s = -1 / 0,
                    u = y[r],
                    c = {};
                  u.forEach(function (t) {
                    var e = h[O.id + '-' + t.id];
                    if (
                      (e && z[r].push(e),
                      s < e && (s = e),
                      (c[O.id + '-' + t.id] = { start: 0, end: v[t.id].idx, distance: e }),
                      n)
                    ) {
                      var i = h[t.id + '-' + O.id];
                      i && F[r].push(i);
                    }
                  }),
                    (z[r] = z[r].sort(function (t, e) {
                      return t - e;
                    })),
                    n &&
                      (F[r] = F[r].sort(function (t, e) {
                        return t - e;
                      })),
                    (B = Q(c, _, e, B));
                  var f = [];
                  if (
                    (Object.keys(c).forEach(function (t) {
                      if (j[t]) f.push(j[t]);
                      else {
                        var e = B[t];
                        (j[t] = J(e, N, o, a)), f.push(j[t]);
                      }
                    }),
                    (f = f.sort(function (t, e) {
                      return e - t;
                    })),
                    (G[O.id + '-' + r] = f),
                    r !== D)
                  )
                    for (
                      var p = function (e) {
                          var n = L[e],
                            i = x[d[n.id].idx],
                            s = i.nodeLabelCountMap[r],
                            u = y[r].length;
                          if (!s || s.count < u) return L.splice(e, 1), 'continue';
                          for (var c = !1, h = 0; h < u; h++)
                            if (s.dists[h] > z[r][h]) {
                              c = !0;
                              break;
                            }
                          if (c) return L.splice(e, 1), 'continue';
                          var p = {};
                          i.neighbors.forEach(function (t) {
                            var e = l[n.id + '-' + t.id];
                            p[n.id + '-' + t.id] = {
                              start: d[n.id].idx,
                              end: d[t.id].idx,
                              distance: e,
                            };
                          }),
                            (E = Q(p, x, t, E));
                          var g = [];
                          Object.keys(p).forEach(function (t) {
                            if (P[t]) g.push(P[t]);
                            else {
                              var e = E[t];
                              (P[t] = J(e, N, o, a)), g.push(P[t]);
                            }
                          }),
                            (g = g.sort(function (t, e) {
                              return e - t;
                            }));
                          var v = !1;
                          for (h = 0; h < u; h++)
                            if (g[h] < f[h]) {
                              v = !0;
                              break;
                            }
                          return v ? (L.splice(e, 1), 'continue') : void 0;
                        },
                        g = L.length - 1;
                      g >= 0;
                      g--
                    )
                      p(g);
                });
                var U = [];
                null == L ||
                  L.forEach(function (r) {
                    for (
                      var s = d[r.id].idx,
                        c = $(t.nodes, u[s], s, o, i).neighbors,
                        h = !1,
                        f = c.length - 1;
                      f >= 0;
                      f--
                    ) {
                      if (c.length + 1 < e.nodes.length) return void (h = !0);
                      var p = c[f],
                        g = p[o];
                      if (y[g] && y[g].length)
                        if (z[g] && z[g].length) {
                          var m = r.id + '-' + p.id,
                            b = l[m],
                            _ = z[g].length - 1;
                          if (b > z[g][_]) c.splice(f, 1);
                          else {
                            if (n) {
                              var w = p.id + '-' + r.id,
                                S = l[w];
                              if (((_ = F[g].length - 1), S > F[g][_])) {
                                c.splice(f, 1);
                                continue;
                              }
                            }
                            var M = P[m] ? P[m] : rt(t, r, p, d, b, x, N, o, a, P, E),
                              k = O.id + '-' + g;
                            if (M < G[k][G[k].length - 1]) c.splice(f, 1);
                            else {
                              var A = it(R, g, v, y),
                                C = A.minPatternNodeLabelDegree;
                              A.minPatternNodeLabelInDegree,
                                A.minPatternNodeLabelOutDegree,
                                d[p.id].degree < C && c.splice(f, 1);
                            }
                          }
                        } else c.splice(f, 1);
                      else c.splice(f, 1);
                    }
                    h || U.push({ nodes: [r].concat(c) });
                  });
                var V = k(e, O.id, !1).length,
                  Y = {};
                n
                  ? (Object.keys(V).forEach(function (t) {
                      var e = v[t].node[o];
                      Y[e] ? Y[e].push(V[t]) : (Y[e] = [V[t]]);
                    }),
                    Object.keys(Y).forEach(function (t) {
                      Y[t].sort(function (t, e) {
                        return t - e;
                      });
                    }))
                  : (Y = z);
                for (
                  var X = function (r) {
                      var i = U[r],
                        s = i.nodes[0],
                        u = {},
                        c = {};
                      i.nodes.forEach(function (t, e) {
                        c[t.id] = { idx: e, node: t, degree: 0, inDegree: 0, outDegree: 0 };
                        var n = t[o];
                        u[n] ? u[n]++ : (u[n] = 1);
                      });
                      var l = [],
                        h = {};
                      t.edges.forEach(function (t) {
                        c[t.source] &&
                          c[t.target] &&
                          (l.push(t),
                          h[t[a]] ? h[t[a]]++ : (h[t[a]] = 1),
                          c[t.source].degree++,
                          c[t.target].degree++,
                          c[t.source].outDegree++,
                          c[t.target].inDegree++);
                      });
                      for (var f = Object.keys(m).length, p = !1, g = 0; g < f; g++) {
                        var b = Object.keys(m)[g];
                        if (!h[b] || h[b] < m[b].length) {
                          p = !0;
                          break;
                        }
                      }
                      if (p) return U.splice(r, 1), 'continue';
                      var x = l.length;
                      if (x < e.edges.length) return U.splice(r, 1), 'break';
                      var _ = !1,
                        w = function (t) {
                          var e = l[t],
                            r = e[a],
                            i = m[r];
                          if (!i || !i.length)
                            return (
                              h[r]--,
                              i && h[r] < i.length
                                ? ((_ = !0), 'break')
                                : (l.splice(t, 1),
                                  c[e.source].degree--,
                                  c[e.target].degree--,
                                  c[e.source].outDegree--,
                                  c[e.target].inDegree--,
                                  'continue')
                            );
                          var s = c[e.source].node[o],
                            u = c[e.target].node[o],
                            f = !1;
                          return (
                            i.forEach(function (t) {
                              var e = v[t.source].node,
                                r = v[t.target].node;
                              e[o] === s && r[o] === u && (f = !0),
                                n || e[o] !== u || r[o] !== s || (f = !0);
                            }),
                            f
                              ? void 0
                              : (h[r]--,
                                i && h[r] < i.length
                                  ? ((_ = !0), 'break')
                                  : (l.splice(t, 1),
                                    c[e.source].degree--,
                                    c[e.target].degree--,
                                    c[e.source].outDegree--,
                                    c[e.target].inDegree--,
                                    'continue'))
                          );
                        };
                      for (g = x - 1; g >= 0 && 'break' !== w(g); g--);
                      if (_) return U.splice(r, 1), 'continue';
                      i.edges = l;
                      var E = k(i, i.nodes[0].id, !1).length;
                      if (
                        (Object.keys(E)
                          .reverse()
                          .forEach(function (t) {
                            if (t !== i.nodes[0].id && !_) {
                              if (E[t] === 1 / 0) {
                                var e = c[t].node[o];
                                if ((u[e]--, u[e] < y[e].length)) return void (_ = !0);
                                var n = i.nodes.indexOf(c[t].node);
                                return i.nodes.splice(n, 1), void (c[t] = void 0);
                              }
                              var r = d[t].node[o];
                              if (!Y[r] || !Y[r].length || E[t] > Y[r][Y[r].length - 1]) {
                                if (((e = c[t].node[o]), u[e]--, u[e] < y[e].length))
                                  return void (_ = !0);
                                (n = i.nodes.indexOf(c[t].node)),
                                  i.nodes.splice(n, 1),
                                  (c[t] = void 0);
                              }
                            }
                          }),
                        _)
                      )
                        return U.splice(r, 1), 'continue';
                      for (var S = !0, M = 0; S && !_; ) {
                        if (
                          ((S = !1),
                          n
                            ? c[s.id].degree < v[O.id].degree ||
                              c[s.id].inDegree < v[O.id].inDegree ||
                              c[s.id].outDegree < v[O.id].outDegree
                            : c[s.id].degree < v[O.id].degree)
                        ) {
                          _ = !0;
                          break;
                        }
                        if (u[s[o]] < y[s[o]].length) {
                          _ = !0;
                          break;
                        }
                        for (var A = i.nodes.length - 1; A >= 0; A--) {
                          var C = i.nodes[A],
                            I = c[C.id].degree,
                            T = c[C.id].inDegree,
                            N = c[C.id].outDegree,
                            P = C[o],
                            D = it(R, P, v, y),
                            L = D.minPatternNodeLabelDegree,
                            B = D.minPatternNodeLabelInDegree,
                            j = D.minPatternNodeLabelOutDegree;
                          if (n ? I < L || T < B || N < j : I < L) {
                            if ((u[C[o]]--, u[C[o]] < y[C[o]].length)) {
                              _ = !0;
                              break;
                            }
                            i.nodes.splice(A, 1), (c[C.id] = void 0), (S = !0);
                          }
                        }
                        if (_ || (!S && 0 !== M)) break;
                        for (var G = (x = l.length) - 1; G >= 0; G--) {
                          var z = l[G];
                          if (!c[z.source] || !c[z.target]) {
                            l.splice(G, 1);
                            var F = z[a];
                            if (
                              (h[F]--,
                              c[z.source] && (c[z.source].degree--, c[z.source].outDegree--),
                              c[z.target] && (c[z.target].degree--, c[z.target].inDegree--),
                              m[F] && h[F] < m[F].length)
                            ) {
                              _ = !0;
                              break;
                            }
                            S = !0;
                          }
                        }
                        M++;
                      }
                      return _ || _ || i.nodes.length < e.nodes.length || l.length < e.edges.length
                        ? (U.splice(r, 1), 'continue')
                        : void 0;
                    },
                    H = U.length - 1;
                  H >= 0 && 'break' !== X(H);
                  H--
                );
                var ot = U.length,
                  at = function (t) {
                    var e = U[t],
                      n = {};
                    e.edges.forEach(function (t) {
                      var e = t.source + '-' + t.target + '-' + t.label;
                      n[e] ? n[e]++ : (n[e] = 1);
                    });
                    for (
                      var r = function (t) {
                          var e = U[t],
                            r = {};
                          e.edges.forEach(function (t) {
                            var e = t.source + '-' + t.target + '-' + t.label;
                            r[e] ? r[e]++ : (r[e] = 1);
                          });
                          var i = !0;
                          Object.keys(r).length !== Object.keys(n).length
                            ? (i = !1)
                            : Object.keys(n).forEach(function (t) {
                                r[t] !== n[t] && (i = !1);
                              }),
                            i && U.splice(t, 1);
                        },
                        i = ot - 1;
                      i > t;
                      i--
                    )
                      r(i);
                    ot = U.length;
                  };
                for (H = 0; H <= ot - 1; H++) at(H);
                return U;
              }
            }
          };
          var at = (function () {
            function t(t) {
              void 0 === t && (t = 10), (this.linkedList = new a()), (this.maxStep = t);
            }
            return (
              Object.defineProperty(t.prototype, 'length', {
                get: function () {
                  return this.linkedList.toArray().length;
                },
                enumerable: !1,
                configurable: !0,
              }),
              (t.prototype.isEmpty = function () {
                return !this.linkedList.head;
              }),
              (t.prototype.isMaxStack = function () {
                return this.toArray().length >= this.maxStep;
              }),
              (t.prototype.peek = function () {
                return this.isEmpty() ? null : this.linkedList.head.value;
              }),
              (t.prototype.push = function (t) {
                this.linkedList.prepend(t),
                  this.length > this.maxStep && this.linkedList.deleteTail();
              }),
              (t.prototype.pop = function () {
                var t = this.linkedList.deleteHead();
                return t ? t.value : null;
              }),
              (t.prototype.toArray = function () {
                return this.linkedList.toArray().map(function (t) {
                  return t.value;
                });
              }),
              (t.prototype.clear = function () {
                for (; !this.isEmpty(); ) this.pop();
              }),
              t
            );
          })();
          const st = at;
          var ut = E;
          const ct = {
            getAdjMatrix: r,
            breadthFirstSearch: h,
            connectedComponent: d,
            getDegree: g,
            getInDegree: v,
            getOutDegree: y,
            detectCycle: E,
            detectDirectedCycle: E,
            detectAllCycles: w,
            detectAllDirectedCycle: _,
            detectAllUndirectedCycle: x,
            depthFirstSearch: b,
            dijkstra: k,
            findAllPath: I,
            findShortestPath: C,
            floydWarshall: T,
            labelPropagation: N,
            louvain: O,
            minimumSpanningTree: G,
            pageRank: z,
            getNeighbors: u,
            Stack: at,
            GADDI: ot,
          };
        },
        2238: (t, e) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }), (e.default = void 0);
          e.default = function (t, e) {
            var n = t.nodes,
              r = t.edges,
              i = [],
              o = {};
            if (!n) throw new Error('invalid nodes data!');
            return (
              n &&
                n.forEach(function (t, e) {
                  (o[t.id] = e), i.push([]);
                }),
              r &&
                r.forEach(function (t) {
                  var n = t.source,
                    r = t.target,
                    a = o[n],
                    s = o[r];
                  (!a && 0 !== a) || (!s && 0 !== s) || ((i[a][s] = 1), e || (i[s][a] = 1));
                }),
              i
            );
          };
        },
        369: (t, e, n) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }),
            Object.defineProperty(e, 'getAdjMatrixAsync', {
              enumerable: !0,
              get: function () {
                return r.getAdjMatrixAsync;
              },
            }),
            Object.defineProperty(e, 'connectedComponentAsync', {
              enumerable: !0,
              get: function () {
                return r.connectedComponentAsync;
              },
            }),
            Object.defineProperty(e, 'getDegreeAsync', {
              enumerable: !0,
              get: function () {
                return r.getDegreeAsync;
              },
            }),
            Object.defineProperty(e, 'getInDegreeAsync', {
              enumerable: !0,
              get: function () {
                return r.getInDegreeAsync;
              },
            }),
            Object.defineProperty(e, 'getOutDegreeAsync', {
              enumerable: !0,
              get: function () {
                return r.getOutDegreeAsync;
              },
            }),
            Object.defineProperty(e, 'detectCycleAsync', {
              enumerable: !0,
              get: function () {
                return r.detectCycleAsync;
              },
            }),
            Object.defineProperty(e, 'detectAllCyclesAsync', {
              enumerable: !0,
              get: function () {
                return r.detectAllCyclesAsync;
              },
            }),
            Object.defineProperty(e, 'detectAllDirectedCycleAsync', {
              enumerable: !0,
              get: function () {
                return r.detectAllDirectedCycleAsync;
              },
            }),
            Object.defineProperty(e, 'detectAllUndirectedCycleAsync', {
              enumerable: !0,
              get: function () {
                return r.detectAllUndirectedCycleAsync;
              },
            }),
            Object.defineProperty(e, 'dijkstraAsync', {
              enumerable: !0,
              get: function () {
                return r.dijkstraAsync;
              },
            }),
            Object.defineProperty(e, 'findAllPathAsync', {
              enumerable: !0,
              get: function () {
                return r.findAllPathAsync;
              },
            }),
            Object.defineProperty(e, 'findShortestPathAsync', {
              enumerable: !0,
              get: function () {
                return r.findShortestPathAsync;
              },
            }),
            Object.defineProperty(e, 'floydWarshallAsync', {
              enumerable: !0,
              get: function () {
                return r.floydWarshallAsync;
              },
            }),
            Object.defineProperty(e, 'labelPropagationAsync', {
              enumerable: !0,
              get: function () {
                return r.labelPropagationAsync;
              },
            }),
            Object.defineProperty(e, 'louvainAsync', {
              enumerable: !0,
              get: function () {
                return r.louvainAsync;
              },
            }),
            Object.defineProperty(e, 'minimumSpanningTreeAsync', {
              enumerable: !0,
              get: function () {
                return r.minimumSpanningTreeAsync;
              },
            }),
            Object.defineProperty(e, 'pageRankAsync', {
              enumerable: !0,
              get: function () {
                return r.pageRankAsync;
              },
            }),
            Object.defineProperty(e, 'getNeighborsAsync', {
              enumerable: !0,
              get: function () {
                return r.getNeighborsAsync;
              },
            }),
            Object.defineProperty(e, 'GADDIAsync', {
              enumerable: !0,
              get: function () {
                return r.GADDIAsync;
              },
            }),
            (e.default = e.detectDirectedCycleAsync = void 0);
          var r = n(485),
            i = r.detectCycleAsync;
          e.detectDirectedCycleAsync = i;
          var o = {
            getAdjMatrixAsync: r.getAdjMatrixAsync,
            connectedComponentAsync: r.connectedComponentAsync,
            getDegreeAsync: r.getDegreeAsync,
            getInDegreeAsync: r.getInDegreeAsync,
            getOutDegreeAsync: r.getOutDegreeAsync,
            detectCycleAsync: r.detectCycleAsync,
            detectDirectedCycleAsync: i,
            detectAllCyclesAsync: r.detectAllCyclesAsync,
            detectAllDirectedCycleAsync: r.detectAllDirectedCycleAsync,
            detectAllUndirectedCycleAsync: r.detectAllUndirectedCycleAsync,
            dijkstraAsync: r.dijkstraAsync,
            findAllPathAsync: r.findAllPathAsync,
            findShortestPathAsync: r.findShortestPathAsync,
            floydWarshallAsync: r.floydWarshallAsync,
            labelPropagationAsync: r.labelPropagationAsync,
            louvainAsync: r.louvainAsync,
            minimumSpanningTreeAsync: r.minimumSpanningTreeAsync,
            pageRankAsync: r.pageRankAsync,
            getNeighborsAsync: r.getNeighborsAsync,
            GADDIAsync: r.GADDIAsync,
          };
          e.default = o;
        },
        3764: (t, e, n) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }), (e.default = void 0);
          var r,
            i = (r = n(3026)) && r.__esModule ? r : { default: r },
            o = n(643);
          e.default = function (t, e, n, r) {
            void 0 === r && (r = !0);
            var a = (function (t) {
                void 0 === t && (t = {});
                var e,
                  n = t,
                  r = function () {},
                  i =
                    ((e = {}),
                    function (t) {
                      var n = t.next;
                      return !e[n] && ((e[n] = !0), !0);
                    });
                return (
                  (n.allowTraversal = t.allowTraversal || i),
                  (n.enter = t.enter || r),
                  (n.leave = t.leave || r),
                  n
                );
              })(n),
              s = new i.default(),
              u = t.edges,
              c = void 0 === u ? [] : u;
            s.enqueue(e);
            for (
              var l = '',
                h = function () {
                  var t = s.dequeue();
                  a.enter({ current: t, previous: l }),
                    (0, o.getNeighbors)(t, c, r ? 'target' : void 0).forEach(function (e) {
                      a.allowTraversal({ previous: l, current: t, next: e }) && s.enqueue(e);
                    }),
                    a.leave({ current: t, previous: l }),
                    (l = t);
                };
              !s.isEmpty();

            )
              h();
          };
        },
        9527: (t, e, n) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }),
            (e.default = function (t, e) {
              return e ? o(t) : i(t);
            }),
            (e.detectStrongConnectComponents = e.detectConnectedComponents = void 0);
          var r = n(643),
            i = function (t) {
              for (
                var e = t.nodes,
                  n = void 0 === e ? [] : e,
                  i = t.edges,
                  o = void 0 === i ? [] : i,
                  a = [],
                  s = {},
                  u = [],
                  c = function t(e) {
                    u.push(e), (s[e.id] = !0);
                    for (
                      var i = (0, r.getNeighbors)(e.id, o),
                        a = function (e) {
                          var r = i[e];
                          if (!s[r]) {
                            var o = n.filter(function (t) {
                              return t.id === r;
                            });
                            o.length > 0 && t(o[0]);
                          }
                        },
                        c = 0;
                      c < i.length;
                      ++c
                    )
                      a(c);
                  },
                  l = 0;
                l < n.length;
                l++
              ) {
                var h = n[l];
                if (!s[h.id]) {
                  c(h);
                  for (var f = []; u.length > 0; ) f.push(u.pop());
                  a.push(f);
                }
              }
              return a;
            };
          e.detectConnectedComponents = i;
          var o = function (t) {
            for (
              var e = t.nodes,
                n = void 0 === e ? [] : e,
                i = t.edges,
                o = void 0 === i ? [] : i,
                a = [],
                s = {},
                u = {},
                c = {},
                l = [],
                h = 0,
                f = function t(e) {
                  (u[e.id] = h), (c[e.id] = h), (h += 1), a.push(e), (s[e.id] = !0);
                  for (
                    var i = (0, r.getNeighbors)(e.id, o, 'target').filter(function (t) {
                        return (
                          n
                            .map(function (t) {
                              return t.id;
                            })
                            .indexOf(t) > -1
                        );
                      }),
                      f = function (r) {
                        var o = i[r];
                        if (u[o] || 0 === u[o]) s[o] && (c[e.id] = Math.min(c[e.id], u[o]));
                        else {
                          var a = n.filter(function (t) {
                            return t.id === o;
                          });
                          a.length > 0 && t(a[0]), (c[e.id] = Math.min(c[e.id], c[o]));
                        }
                      },
                      d = 0;
                    d < i.length;
                    d++
                  )
                    f(d);
                  if (c[e.id] === u[e.id]) {
                    for (var p = []; a.length > 0; ) {
                      var g = a.pop();
                      if (((s[g.id] = !1), p.push(g), g === e)) break;
                    }
                    p.length > 0 && l.push(p);
                  }
                },
                d = 0,
                p = n;
              d < p.length;
              d++
            ) {
              var g = p[d];
              u[g.id] || 0 === u[g.id] || f(g);
            }
            return l;
          };
          e.detectStrongConnectComponents = o;
        },
        2556: (t, e) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }),
            (e.getOutDegree = e.getInDegree = e.default = void 0);
          var n = function (t) {
              var e = {},
                n = t.nodes,
                r = void 0 === n ? [] : n,
                i = t.edges,
                o = void 0 === i ? [] : i;
              return (
                r.forEach(function (t) {
                  e[t.id] = { degree: 0, inDegree: 0, outDegree: 0 };
                }),
                o.forEach(function (t) {
                  e[t.source].degree++,
                    e[t.source].outDegree++,
                    e[t.target].degree++,
                    e[t.target].inDegree++;
                }),
                e
              );
            },
            r = n;
          (e.default = r),
            (e.getInDegree = function (t, e) {
              return n(t)[e] ? n(t)[e].inDegree : 0;
            }),
            (e.getOutDegree = function (t, e) {
              return n(t)[e] ? n(t)[e].outDegree : 0;
            });
        },
        4282: (t, e, n) => {
          'use strict';
          function r(t) {
            return (
              (r =
                'function' == typeof Symbol && 'symbol' == typeof Symbol.iterator
                  ? function (t) {
                      return typeof t;
                    }
                  : function (t) {
                      return t &&
                        'function' == typeof Symbol &&
                        t.constructor === Symbol &&
                        t !== Symbol.prototype
                        ? 'symbol'
                        : typeof t;
                    }),
              r(t)
            );
          }
          Object.defineProperty(e, '__esModule', { value: !0 }),
            (e.default =
              e.detectAllCycles =
              e.detectAllDirectedCycle =
              e.detectAllUndirectedCycle =
                void 0);
          var i,
            o = (i = n(5891)) && i.__esModule ? i : { default: i },
            a = (function (t) {
              if (t && t.__esModule) return t;
              if (null === t || ('object' !== r(t) && 'function' != typeof t))
                return { default: t };
              var e = u();
              if (e && e.has(t)) return e.get(t);
              var n = {},
                i = Object.defineProperty && Object.getOwnPropertyDescriptor;
              for (var o in t)
                if (Object.prototype.hasOwnProperty.call(t, o)) {
                  var a = i ? Object.getOwnPropertyDescriptor(t, o) : null;
                  a && (a.get || a.set) ? Object.defineProperty(n, o, a) : (n[o] = t[o]);
                }
              return (n.default = t), e && e.set(t, n), n;
            })(n(9527)),
            s = n(643);
          function u() {
            if ('function' != typeof WeakMap) return null;
            var t = new WeakMap();
            return (
              (u = function () {
                return t;
              }),
              t
            );
          }
          var c = function (t, e, n) {
            var r, i;
            void 0 === n && (n = !0);
            for (var o = [], u = 0, c = (0, a.default)(t, !1); u < c.length; u++) {
              var l = c[u];
              if (l.length)
                for (
                  var h = l[0],
                    f = h.id,
                    d = [h],
                    p = (((r = {})[f] = h), r),
                    g = (((i = {})[f] = new Set()), i);
                  d.length > 0;

                )
                  for (
                    var v = d.pop(),
                      y = v.id,
                      m = (0, s.getNeighbors)(y, t.edges),
                      b = function (r) {
                        var i,
                          a = m[r],
                          s = t.nodes.find(function (t) {
                            return t.id === a;
                          });
                        if (a === y) o.push((((i = {})[a] = v), i));
                        else if ((a in g)) {
                          if (!g[y].has(s)) {
                            for (
                              var u = !0, c = [s, v], l = p[y];
                              g[a].size && !g[a].has(l) && (c.push(l), l !== p[l.id]);

                            )
                              l = p[l.id];
                            if (
                              (c.push(l),
                              e && n
                                ? ((u = !1),
                                  c.findIndex(function (t) {
                                    return e.indexOf(t.id) > -1;
                                  }) > -1 && (u = !0))
                                : e &&
                                  !n &&
                                  c.findIndex(function (t) {
                                    return e.indexOf(t.id) > -1;
                                  }) > -1 &&
                                  (u = !1),
                              u)
                            ) {
                              for (var h = {}, f = 1; f < c.length; f += 1) h[c[f - 1].id] = c[f];
                              c.length && (h[c[c.length - 1].id] = c[0]), o.push(h);
                            }
                            g[a].add(v);
                          }
                        } else (p[a] = v), d.push(s), (g[a] = new Set([v]));
                      },
                      x = 0;
                    x < m.length;
                    x += 1
                  )
                    b(x);
            }
            return o;
          };
          e.detectAllUndirectedCycle = c;
          var l = function (t, e, n) {
            void 0 === n && (n = !0);
            for (
              var r = [],
                i = new Set(),
                o = [],
                u = [],
                c = {},
                l = {},
                h = function t(a, s, l) {
                  var h = !1;
                  if (e && !1 === n && e.indexOf(a.id) > -1) return h;
                  r.push(a), i.add(a);
                  for (var f = l[a.id], d = 0; d < f.length; d += 1)
                    if ((v = c[f[d]]) === s) {
                      for (var p = {}, g = 1; g < r.length; g += 1) p[r[g - 1].id] = r[g];
                      r.length && (p[r[r.length - 1].id] = r[0]), u.push(p), (h = !0);
                    } else i.has(v) || (t(v, s, l) && (h = !0));
                  if (h)
                    !(function (t) {
                      for (var e = [t]; e.length > 0; ) {
                        var n = e.pop();
                        i.has(n) &&
                          (i.delete(n),
                          o[n.id].forEach(function (t) {
                            e.push(t);
                          }),
                          o[n.id].clear());
                      }
                    })(a);
                  else
                    for (d = 0; d < f.length; d += 1) {
                      var v = c[f[d]];
                      o[v.id].has(a) || o[v.id].add(a);
                    }
                  return r.pop(), h;
                },
                f = t.nodes,
                d = void 0 === f ? [] : f,
                p = 0;
              p < d.length;
              p += 1
            ) {
              var g = d[p],
                v = g.id;
              (l[v] = p), (c[p] = g);
            }
            if (e && n) {
              var y = function (t) {
                var n = e[t];
                (l[d[t].id] = l[n]),
                  (l[n] = 0),
                  (c[0] = d.find(function (t) {
                    return t.id === n;
                  })),
                  (c[l[d[t].id]] = d[t]);
              };
              for (p = 0; p < e.length; p++) y(p);
            }
            for (
              var m = function (r) {
                  for (var i, o, a = 1 / 0, c = 0; c < r.length; c += 1)
                    for (var h = r[c], f = 0; f < h.length; f++) {
                      var d = l[h[f].id];
                      d < a && ((a = d), (o = c));
                    }
                  var p = r[o],
                    g = [];
                  for (c = 0; c < p.length; c += 1) {
                    var v = p[c];
                    g[v.id] = [];
                    for (
                      var y = 0,
                        m = (0, s.getNeighbors)(v.id, t.edges, 'target').filter(function (t) {
                          return (
                            p
                              .map(function (t) {
                                return t.id;
                              })
                              .indexOf(t) > -1
                          );
                        });
                      y < m.length;
                      y++
                    ) {
                      var b = m[y];
                      b !== v.id || (!1 === n && e.indexOf(v.id) > -1)
                        ? g[v.id].push(l[b])
                        : u.push((((i = {})[v.id] = v), i));
                    }
                  }
                  return { component: p, adjList: g, minIdx: a };
                },
                b = 0;
              b < d.length;

            ) {
              var x = d.filter(function (t) {
                  return l[t.id] >= b;
                }),
                _ = (0, a.detectStrongConnectComponents)({ nodes: x, edges: t.edges }).filter(
                  function (t) {
                    return t.length > 1;
                  },
                );
              if (0 === _.length) break;
              var w = m(_),
                E = w.minIdx,
                S = w.adjList,
                M = w.component;
              if (!(M.length > 1)) break;
              M.forEach(function (t) {
                o[t.id] = new Set();
              });
              var k = c[E];
              if (e && n && -1 === e.indexOf(k.id)) return u;
              h(k, k, S), (b = E + 1);
            }
            return u;
          };
          (e.detectAllDirectedCycle = l),
            (e.detectAllCycles = function (t, e, n, r) {
              return void 0 === r && (r = !0), e ? l(t, n, r) : c(t, n, r);
            });
          e.default = function (t) {
            var e = null,
              n = t.nodes,
              r = {},
              i = {},
              a = {},
              s = {};
            (void 0 === n ? [] : n).forEach(function (t) {
              i[t.id] = t;
            });
            for (
              var u = {
                enter: function (t) {
                  var n = t.current,
                    o = t.previous;
                  if (a[n]) {
                    e = {};
                    for (var s = n, u = o; u !== n; ) (e[s] = u), (s = u), (u = r[u]);
                    e[s] = u;
                  } else (a[n] = n), delete i[n], (r[n] = o);
                },
                leave: function (t) {
                  var e = t.current;
                  (s[e] = e), delete a[e];
                },
                allowTraversal: function (t) {
                  var n = t.next;
                  return !e && !s[n];
                },
              };
              Object.keys(i).length;

            ) {
              var c = Object.keys(i)[0];
              (0, o.default)(t, c, u);
            }
            return e;
          };
        },
        5891: (t, e, n) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }),
            (e.default = function (t, e, n) {
              i(
                t,
                e,
                '',
                (function (t) {
                  void 0 === t && (t = {});
                  var e,
                    n = t,
                    r = function () {},
                    i =
                      ((e = {}),
                      function (t) {
                        var n = t.next;
                        return !e[n] && ((e[n] = !0), !0);
                      });
                  return (
                    (n.allowTraversal = t.allowTraversal || i),
                    (n.enter = t.enter || r),
                    (n.leave = t.leave || r),
                    n
                  );
                })(n),
              );
            });
          var r = n(643);
          function i(t, e, n, o) {
            o.enter({ current: e, previous: n });
            var a = t.edges,
              s = void 0 === a ? [] : a;
            (0, r.getNeighbors)(e, s, 'target').forEach(function (r) {
              o.allowTraversal({ previous: n, current: e, next: r }) && i(t, r, e, o);
            }),
              o.leave({ current: e, previous: n });
          }
        },
        8089: (t, e, n) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }), (e.default = void 0);
          var r = n(655),
            i = n(9242),
            o = n(643);
          function a(t, e, n, o) {
            if (t === e) return [t];
            if (o[e]) return o[e];
            for (var s = [], u = 0, c = n[e]; u < c.length; u++) {
              var l = a(t, c[u], n, o);
              if (!l) return;
              for (var h = 0, f = l; h < f.length; h++) {
                var d = f[h];
                (0, i.isArray)(d)
                  ? s.push((0, r.__spreadArray)((0, r.__spreadArray)([], d), [e]))
                  : s.push([d, e]);
              }
            }
            return (o[e] = s), o[e];
          }
          e.default = function (t, e, n, r) {
            var i = t.nodes,
              s = void 0 === i ? [] : i,
              u = t.edges,
              c = void 0 === u ? [] : u,
              l = [],
              h = {},
              f = {},
              d = {};
            s.forEach(function (t, n) {
              var r = t.id;
              l.push(r), (f[r] = 1 / 0), r === e && (f[r] = 0);
            });
            for (
              var p = s.length,
                g = function (t) {
                  var e = (function (t, e, n) {
                      for (var r, i = 1 / 0, o = 0; o < e.length; o++) {
                        var a = e[o].id;
                        !n[a] && t[a] <= i && ((i = t[a]), (r = e[o]));
                      }
                      return r;
                    })(f, s, h),
                    i = e.id;
                  if (((h[i] = !0), f[i] === 1 / 0)) return 'continue';
                  (n ? (0, o.getOutEdgesNodeId)(i, c) : (0, o.getEdgesByNodeId)(i, c)).forEach(
                    function (t) {
                      var n = t.target,
                        o = t.source,
                        a = n === i ? o : n,
                        s = r && t[r] ? t[r] : 1;
                      f[a] > f[e.id] + s
                        ? ((f[a] = f[e.id] + s), (d[a] = [e.id]))
                        : f[a] === f[e.id] + s && d[a].push(e.id);
                    },
                  );
                },
                v = 0;
              v < p;
              v++
            )
              g();
            d[e] = [e];
            var y = {};
            for (var m in f) f[m] !== 1 / 0 && a(e, m, d, y);
            var b = {};
            for (var m in y) b[m] = y[m][0];
            return { length: f, path: b, allPath: y };
          };
        },
        1727: (t, e, n) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }),
            (e.findAllPath = e.findShortestPath = void 0);
          var r,
            i = (r = n(8089)) && r.__esModule ? r : { default: r },
            o = n(643);
          (e.findShortestPath = function (t, e, n, r, o) {
            var a = (0, i.default)(t, e, r, o),
              s = a.length,
              u = a.path,
              c = a.allPath;
            return { length: s[n], path: u[n], allPath: c[n] };
          }),
            (e.findAllPath = function (t, e, n, r) {
              var i;
              if (e === n) return [[e]];
              var a = t.edges,
                s = void 0 === a ? [] : a,
                u = [e],
                c = (((i = {})[e] = !0), i),
                l = [],
                h = [],
                f = r ? (0, o.getNeighbors)(e, s, 'target') : (0, o.getNeighbors)(e, s);
              for (l.push(f); u.length > 0 && l.length > 0; ) {
                var d = l[l.length - 1];
                if (d.length) {
                  var p = d.shift();
                  if (
                    (p &&
                      (u.push(p),
                      (c[p] = !0),
                      (f = r ? (0, o.getNeighbors)(p, s, 'target') : (0, o.getNeighbors)(p, s)),
                      l.push(
                        f.filter(function (t) {
                          return !c[t];
                        }),
                      )),
                    u[u.length - 1] === n)
                  ) {
                    var g = u.map(function (t) {
                      return t;
                    });
                    h.push(g), (v = u.pop()), (c[v] = !1), l.pop();
                  }
                } else {
                  var v = u.pop();
                  (c[v] = !1), l.pop();
                }
              }
              return h;
            });
        },
        5033: (t, e, n) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }), (e.default = void 0);
          var r,
            i = (r = n(2238)) && r.__esModule ? r : { default: r };
          e.default = function (t, e) {
            for (var n = (0, i.default)(t, e), r = [], o = n.length, a = 0; a < o; a += 1) {
              r[a] = [];
              for (var s = 0; s < o; s += 1)
                a === s
                  ? (r[a][s] = 0)
                  : 0 !== n[a][s] && n[a][s]
                  ? (r[a][s] = n[a][s])
                  : (r[a][s] = 1 / 0);
            }
            for (var u = 0; u < o; u += 1)
              for (a = 0; a < o; a += 1)
                for (s = 0; s < o; s += 1)
                  r[a][s] > r[a][u] + r[u][s] && (r[a][s] = r[a][u] + r[u][s]);
            return r;
          };
        },
        1146: (t, e, n) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }), (e.default = void 0);
          var r = n(9242),
            i = n(8575),
            o = (function () {
              function t(t, e, n, r, o) {
                (this.fromNode = t),
                  (this.toNode = e),
                  (this.nodeEdgeNodeLabel = {
                    nodeLabel1: n || i.VACANT_NODE_LABEL,
                    edgeLabel: r || i.VACANT_EDGE_LABEL,
                    nodeLabel2: o || i.VACANT_NODE_LABEL,
                  });
              }
              return (
                (t.prototype.equalTo = function (t) {
                  return (
                    this.fromNode === t.formNode &&
                    this.toNode === t.toNode &&
                    this.nodeEdgeNodeLabel === t.nodeEdgeNodeLabel
                  );
                }),
                (t.prototype.notEqualTo = function (t) {
                  return !this.equalTo(t);
                }),
                t
              );
            })(),
            a = (function () {
              function t() {
                (this.rmpath = []), (this.dfsEdgeList = []);
              }
              return (
                (t.prototype.equalTo = function (t) {
                  var e = this.dfsEdgeList.length;
                  if (e !== t.length) return !1;
                  for (var n = 0; n < e; n++) if (this.dfsEdgeList[n] !== t[n]) return !1;
                  return !0;
                }),
                (t.prototype.notEqualTo = function (t) {
                  return !this.equalTo(t);
                }),
                (t.prototype.pushBack = function (t, e, n, r, i) {
                  return this.dfsEdgeList.push(new o(t, e, n, r, i)), this.dfsEdgeList;
                }),
                (t.prototype.toGraph = function (t, e) {
                  void 0 === t && (t = i.VACANT_GRAPH_ID), void 0 === e && (e = !1);
                  var n = new i.Graph(t, !0, e);
                  return (
                    this.dfsEdgeList.forEach(function (t) {
                      var e = t.fromNode,
                        r = t.toNode,
                        o = t.nodeEdgeNodeLabel,
                        a = o.nodeLabel1,
                        s = o.edgeLabel,
                        u = o.nodeLabel2;
                      a !== i.VACANT_NODE_LABEL && n.addNode(e, a),
                        u !== i.VACANT_NODE_LABEL && n.addNode(r, u),
                        a !== i.VACANT_NODE_LABEL && u !== a && n.addEdge(void 0, e, r, s);
                    }),
                    n
                  );
                }),
                (t.prototype.buildRmpath = function () {
                  this.rmpath = [];
                  for (var t = void 0, e = this.dfsEdgeList.length - 1; e >= 0; e--) {
                    var n = this.dfsEdgeList[e],
                      r = n.fromNode,
                      i = n.toNode;
                    r < i && (void 0 === t || i === t) && (this.rmpath.push(e), (t = r));
                  }
                  return this.rmpath;
                }),
                (t.prototype.getNodeNum = function () {
                  var t = {};
                  return (
                    this.dfsEdgeList.forEach(function (e) {
                      t[e.fromNode] || (t[e.fromNode] = !0), t[e.toNode] || (t[e.toNode] = !0);
                    }),
                    Object.keys(t).length
                  );
                }),
                t
              );
            })(),
            s = (function () {
              function t(t) {
                if (
                  ((this.his = {}),
                  (this.nodesUsed = {}),
                  (this.edgesUsed = {}),
                  (this.edges = []),
                  t)
                ) {
                  for (; t; ) {
                    var e = t.edge;
                    this.edges.push(e),
                      (this.nodesUsed[e.from] = 1),
                      (this.nodesUsed[e.to] = 1),
                      (this.edgesUsed[e.id] = 1),
                      (t = t.preNode);
                  }
                  this.edges = this.edges.reverse();
                }
              }
              return (
                (t.prototype.hasNode = function (t) {
                  return 1 === this.nodesUsed[t.id];
                }),
                (t.prototype.hasEdge = function (t) {
                  return 1 === this.edgesUsed[t.id];
                }),
                t
              );
            })(),
            u = (function () {
              function t(t) {
                var e = t.graphs,
                  n = t.minSupport,
                  r = void 0 === n ? 2 : n,
                  i = t.minNodeNum,
                  o = void 0 === i ? 1 : i,
                  s = t.maxNodeNum,
                  u = void 0 === s ? 4 : s,
                  c = t.top,
                  l = void 0 === c ? 10 : c,
                  h = t.directed,
                  f = void 0 !== h && h,
                  d = t.verbose,
                  p = void 0 !== d && d;
                (this.graphs = e),
                  (this.dfsCode = new a()),
                  (this.support = 0),
                  (this.frequentSize1Subgraphs = []),
                  (this.frequentSubgraphs = []),
                  (this.minSupport = r),
                  (this.top = l),
                  (this.directed = f),
                  (this.counter = 0),
                  (this.maxNodeNum = u),
                  (this.minNodeNum = o),
                  (this.verbose = p),
                  this.maxNodeNum < this.minNodeNum && (this.maxNodeNum = this.minNodeNum),
                  (this.reportDF = []);
              }
              return (
                (t.prototype.findForwardRootEdges = function (t, e) {
                  var n = this,
                    r = [],
                    i = t.nodeMap;
                  return (
                    e.edges.forEach(function (t) {
                      (n.directed || e.label <= i[t.to].label) && r.push(t);
                    }),
                    r
                  );
                }),
                (t.prototype.findBackwardEdge = function (t, e, n, r) {
                  if (!this.directed && e === n) return null;
                  for (var i = t.nodeMap, o = i[n.to].edges, a = o.length, s = 0; s < a; s++) {
                    var u = o[s];
                    if (!r.hasEdge(u) && u.to === e.from)
                      if (this.directed) {
                        if (
                          i[e.from].label < i[n.to].label ||
                          (i[e.from].label === i[n.to].label && e.label <= u.label)
                        )
                          return u;
                      } else if (
                        e.label < u.label ||
                        (e.label === u.label && i[e.to].label <= i[n.to].label)
                      )
                        return u;
                  }
                  return null;
                }),
                (t.prototype.findForwardPureEdges = function (t, e, n, r) {
                  for (
                    var i = [], o = e.to, a = t.nodeMap[o].edges, s = a.length, u = 0;
                    u < s;
                    u++
                  ) {
                    var c = a[u],
                      l = t.nodeMap[c.to];
                    n <= l.label && !r.hasNode(l) && i.push(c);
                  }
                  return i;
                }),
                (t.prototype.findForwardRmpathEdges = function (t, e, n, r) {
                  for (
                    var i = [],
                      o = t.nodeMap,
                      a = o[e.to].label,
                      s = o[e.from].edges,
                      u = s.length,
                      c = 0;
                    c < u;
                    c++
                  ) {
                    var l = s[c],
                      h = o[l.to].label;
                    e.to === l.to ||
                      n > h ||
                      r.hasNode(o[l.to]) ||
                      ((e.label < l.label || (e.label === l.label && a <= h)) && i.push(l));
                  }
                  return i;
                }),
                (t.prototype.getSupport = function (t) {
                  var e = {};
                  return (
                    t.forEach(function (t) {
                      e[t.graphId] || (e[t.graphId] = !0);
                    }),
                    Object.keys(e).length
                  );
                }),
                (t.prototype.findMinLabel = function (t) {
                  var e = void 0;
                  return (
                    Object.keys(t).forEach(function (n) {
                      var r = t[n],
                        i = r.nodeLabel1,
                        o = r.edgeLabel,
                        a = r.nodeLabel2;
                      e
                        ? (i < e.nodeLabel1 ||
                            (i === e.nodeLabel1 && o < e.edgeLabel) ||
                            (i === e.nodeLabel1 && o === e.edgeLabel && a < e.nodeLabel2)) &&
                          (e = { nodeLabel1: i, edgeLabel: o, nodeLabel2: a })
                        : (e = { nodeLabel1: i, edgeLabel: o, nodeLabel2: a });
                    }),
                    e
                  );
                }),
                (t.prototype.isMin = function () {
                  var t = this,
                    e = this.dfsCode;
                  if (
                    (this.verbose && console.log('isMin checking', e), 1 === e.dfsEdgeList.length)
                  )
                    return !0;
                  var n = this.directed,
                    r = e.toGraph(i.VACANT_GRAPH_ID, n),
                    u = r.nodeMap,
                    c = new a(),
                    l = {};
                  r.nodes.forEach(function (e) {
                    t.findForwardRootEdges(r, e).forEach(function (t) {
                      var n = u[t.to],
                        i = e.label + '-' + t.label + '-' + n.label;
                      l[i] ||
                        (l[i] = {
                          projected: [],
                          nodeLabel1: e.label,
                          edgeLabel: t.label,
                          nodeLabel2: n.label,
                        });
                      var o = { graphId: r.id, edge: t, preNode: null };
                      l[i].projected.push(o);
                    });
                  });
                  var h = this.findMinLabel(l);
                  if (h) {
                    c.dfsEdgeList.push(new o(0, 1, h.nodeLabel1, h.edgeLabel, h.nodeLabel2));
                    var f = h.nodeLabel1 + '-' + h.edgeLabel + '-' + h.nodeLabel2;
                    return (function a(l) {
                      for (
                        var h = c.buildRmpath(),
                          f = c.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,
                          d = c.dfsEdgeList[h[0]].toNode,
                          p = {},
                          g = !1,
                          v = 0,
                          y = n ? -1 : 0,
                          m = function (e) {
                            if (g) return 'break';
                            l.forEach(function (n) {
                              var i = new s(n),
                                o = t.findBackwardEdge(r, i.edges[h[e]], i.edges[h[0]], i);
                              o &&
                                (p[o.label] || (p[o.label] = { projected: [], edgeLabel: o.label }),
                                p[o.label].projected.push({ graphId: r.id, edge: p, preNode: n }),
                                (v = c.dfsEdgeList[h[e]].fromNode),
                                (g = !0));
                            });
                          },
                          b = h.length - 1;
                        b > y && 'break' !== m(b);
                        b--
                      );
                      if (g) {
                        var x = t.findMinLabel(p);
                        c.dfsEdgeList.push(
                          new o(d, v, i.VACANT_NODE_LABEL, x.edgeLabel, i.VACANT_NODE_LABEL),
                        );
                        var _ = c.dfsEdgeList.length - 1;
                        return (
                          t.dfsCode.dfsEdgeList[_] === c.dfsEdgeList[_] &&
                          a(p[x.edgeLabel].projected)
                        );
                      }
                      var w = {};
                      g = !1;
                      var E = 0;
                      l.forEach(function (e) {
                        var n = new s(e),
                          i = t.findForwardPureEdges(r, n.edges[h[0]], f, n);
                        i.length > 0 &&
                          ((g = !0),
                          (E = d),
                          i.forEach(function (t) {
                            var n = t.label + '-' + u[t.to].label;
                            w[n] ||
                              (w[n] = {
                                projected: [],
                                edgeLabel: t.label,
                                nodeLabel2: u[t.to].label,
                              }),
                              w[n].projected.push({ graphId: r.id, edge: t, preNode: e });
                          }));
                      });
                      var S = h.length,
                        M = function (e) {
                          if (g) return 'break';
                          var n = h[e];
                          l.forEach(function (e) {
                            var i = new s(e),
                              o = t.findForwardRmpathEdges(r, i.edges[n], f, i);
                            o.length > 0 &&
                              ((g = !0),
                              (E = c.dfsEdgeList[n].fromNode),
                              o.forEach(function (t) {
                                var n = t.label + '-' + u[t.to].label;
                                w[n] ||
                                  (w[n] = {
                                    projected: [],
                                    edgeLabel: t.label,
                                    nodeLabel2: u[t.to].label,
                                  }),
                                  w[n].projected.push({ graphId: r.id, edge: t, preNode: e });
                              }));
                          });
                        };
                      for (b = 0; b < S && 'break' !== M(b); b++);
                      if (!g) return !0;
                      var k = t.findMinLabel(w);
                      c.dfsEdgeList.push(
                        new o(E, d + 1, i.VACANT_NODE_LABEL, k.edgeLabel, k.nodeLabel2),
                      );
                      var A = c.dfsEdgeList.length - 1;
                      return (
                        e.dfsEdgeList[A] === c.dfsEdgeList[A] &&
                        a(w[k.edgeLabel + '-' + k.nodeLabel2].projected)
                      );
                    })(l[f].projected);
                  }
                }),
                (t.prototype.report = function () {
                  if (!(this.dfsCode.getNodeNum() < this.minNodeNum)) {
                    this.counter++;
                    var t = this.dfsCode.toGraph(this.counter, this.directed);
                    this.frequentSubgraphs.push((0, r.clone)(t));
                  }
                }),
                (t.prototype.subGraphMining = function (t) {
                  var e = this;
                  if (!(this.getSupport(t) < this.minSupport) && this.isMin()) {
                    this.report();
                    var n = this.dfsCode.getNodeNum(),
                      r = this.dfsCode.buildRmpath(),
                      a = this.dfsCode.dfsEdgeList[r[0]].toNode,
                      u = this.dfsCode.dfsEdgeList[0].nodeEdgeNodeLabel.nodeLabel1,
                      c = {},
                      l = {};
                    t.forEach(function (t) {
                      for (
                        var i = e.graphs[t.graphId], o = i.nodeMap, h = new s(t), f = r.length - 1;
                        f >= 0;
                        f--
                      ) {
                        var d = e.findBackwardEdge(i, h.edges[r[f]], h.edges[r[0]], h);
                        if (d) {
                          var p = e.dfsCode.dfsEdgeList[r[f]].fromNode + '-' + d.label;
                          l[p] ||
                            (l[p] = {
                              projected: [],
                              toNodeId: e.dfsCode.dfsEdgeList[r[f]].fromNode,
                              edgeLabel: d.label,
                            }),
                            l[p].projected.push({ graphId: t.graphId, edge: d, preNode: t });
                        }
                      }
                      if (!(n >= e.maxNodeNum)) {
                        e.findForwardPureEdges(i, h.edges[r[0]], u, h).forEach(function (e) {
                          var n = a + '-' + e.label + '-' + o[e.to].label;
                          c[n] ||
                            (c[n] = {
                              projected: [],
                              fromNodeId: a,
                              edgeLabel: e.label,
                              nodeLabel2: o[e.to].label,
                            }),
                            c[n].projected.push({ graphId: t.graphId, edge: e, preNode: t });
                        });
                        var g = function (n) {
                          e.findForwardRmpathEdges(i, h.edges[r[n]], u, h).forEach(function (i) {
                            var a =
                              e.dfsCode.dfsEdgeList[r[n]].fromNode +
                              '-' +
                              i.label +
                              '-' +
                              o[i.to].label;
                            c[a] ||
                              (c[a] = {
                                projected: [],
                                fromNodeId: e.dfsCode.dfsEdgeList[r[n]].fromNode,
                                edgeLabel: i.label,
                                nodeLabel2: o[i.to].label,
                              }),
                              c[a].projected.push({ graphId: t.graphId, edge: i, preNode: t });
                          });
                        };
                        for (f = 0; f < r.length; f++) g(f);
                      }
                    }),
                      Object.keys(l).forEach(function (t) {
                        var n = l[t],
                          r = n.toNodeId,
                          i = n.edgeLabel;
                        e.dfsCode.dfsEdgeList.push(new o(a, r, '-1', i, '-1')),
                          e.subGraphMining(l[t].projected),
                          e.dfsCode.dfsEdgeList.pop();
                      }),
                      Object.keys(c).forEach(function (t) {
                        var n = c[t],
                          r = n.fromNodeId,
                          s = n.edgeLabel,
                          u = n.nodeLabel2;
                        e.dfsCode.dfsEdgeList.push(new o(r, a + 1, i.VACANT_NODE_LABEL, s, u)),
                          e.subGraphMining(c[t].projected),
                          e.dfsCode.dfsEdgeList.pop();
                      });
                  }
                }),
                (t.prototype.generate1EdgeFrequentSubGraphs = function () {
                  var t = this.graphs,
                    e = this.directed,
                    n = this.minSupport,
                    r = this.frequentSize1Subgraphs,
                    i = {},
                    o = {},
                    a = {},
                    s = {};
                  return (
                    Object.keys(t).forEach(function (n) {
                      var r = t[n],
                        u = r.nodeMap;
                      r.nodes.forEach(function (t, r) {
                        var c = t.label,
                          l = n + '-' + c;
                        if (!a[l]) {
                          var h = i[c] || 0;
                          h++, (i[c] = h);
                        }
                        (a[l] = { graphKey: n, label: c }),
                          t.edges.forEach(function (t) {
                            var r = c,
                              i = u[t.to].label;
                            if (!e && r > i) {
                              var a = i;
                              (i = r), (r = a);
                            }
                            var l = t.label,
                              h = n + '-' + r + '-' + l + '-' + i,
                              f = r + '-' + l + '-' + i;
                            if (!o[f]) {
                              var d = o[f] || 0;
                              d++, (o[f] = d);
                            }
                            s[h] = { graphId: n, nodeLabel1: r, edgeLabel: l, nodeLabel2: i };
                          });
                      });
                    }),
                    Object.keys(i).forEach(function (t) {
                      if (!(i[t] < n)) {
                        var e = { nodes: [], edges: [] };
                        e.nodes.push({ id: '0', label: t }), r.push(e);
                      }
                    }),
                    r
                  );
                }),
                (t.prototype.run = function () {
                  var t = this;
                  if (
                    ((this.frequentSize1Subgraphs = this.generate1EdgeFrequentSubGraphs()),
                    !(this.maxNodeNum < 2))
                  ) {
                    var e = this.graphs,
                      n = (this.directed, {});
                    Object.keys(e).forEach(function (r) {
                      var i = e[r],
                        o = i.nodeMap;
                      i.nodes.forEach(function (e) {
                        t.findForwardRootEdges(i, e).forEach(function (t) {
                          var i = o[t.to],
                            a = e.label + '-' + t.label + '-' + i.label;
                          n[a] ||
                            (n[a] = {
                              projected: [],
                              nodeLabel1: e.label,
                              edgeLabel: t.label,
                              nodeLabel2: i.label,
                            });
                          var s = { graphId: r, edge: t, preNode: null };
                          n[a].projected.push(s);
                        });
                      });
                    }),
                      Object.keys(n).forEach(function (e) {
                        var r = n[e],
                          i = r.projected,
                          a = r.nodeLabel1,
                          s = r.edgeLabel,
                          u = r.nodeLabel2;
                        t.dfsCode.dfsEdgeList.push(new o(0, 1, a, s, u)),
                          t.subGraphMining(i),
                          t.dfsCode.dfsEdgeList.pop();
                      });
                  }
                }),
                t
              );
            })(),
            c = 'cluster';
          e.default = function (t) {
            var e = t.graphs,
              n = t.directed,
              r = void 0 !== n && n,
              o = t.nodeLabelProp,
              a = void 0 === o ? c : o,
              s = t.edgeLabelProp,
              l = void 0 === s ? c : s,
              h = (function (t, e, n, r) {
                var o = {};
                return (
                  Object.keys(t).forEach(function (a, s) {
                    var u = t[a],
                      c = new i.Graph(s, !0, e),
                      l = {};
                    u.nodes.forEach(function (t, e) {
                      c.addNode(e, t[n]), (l[t.id] = e);
                    }),
                      u.edges.forEach(function (t, e) {
                        var n = l[t.source],
                          i = l[t.target];
                        c.addEdge(-1, n, i, t[r]);
                      }),
                      c && c.getNodeNum() && (o[c.id] = c);
                  }),
                  o
                );
              })(e, r, a, l),
              f = t.minSupport,
              d = t.maxNodeNum,
              p = t.minNodeNum,
              g = t.verbose,
              v = t.top,
              y = new u({
                graphs: h,
                minSupport: f,
                maxNodeNum: d,
                minNodeNum: p,
                top: v,
                verbose: g,
                directed: r,
              });
            y.run();
            var m = (function (t, e, n) {
              var r = [];
              return (
                t.forEach(function (t) {
                  var i = { nodes: [], edges: [] };
                  t.nodes.forEach(function (t) {
                    var n;
                    i.nodes.push((((n = { id: '' + t.id })[e] = t.label), n));
                  }),
                    t.edges.forEach(function (t) {
                      var e;
                      i.edges.push(
                        (((e = { source: '' + t.from, target: '' + t.to })[n] = t.label), e),
                      );
                    }),
                    r.push(i);
                }),
                r
              );
            })(y.frequentSubgraphs, a, l);
            return m;
          };
        },
        8575: (t, e) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }),
            (e.Graph =
              e.Node =
              e.Edge =
              e.AUTO_EDGE_ID =
              e.VACANT_GRAPH_ID =
              e.VACANT_NODE_LABEL =
              e.VACANT_EDGE_LABEL =
              e.VACANT_NODE_ID =
              e.VACANT_EDGE_ID =
                void 0),
            (e.VACANT_EDGE_ID = -1),
            (e.VACANT_NODE_ID = -1),
            (e.VACANT_EDGE_LABEL = '-1'),
            (e.VACANT_NODE_LABEL = '-1'),
            (e.VACANT_GRAPH_ID = -1),
            (e.AUTO_EDGE_ID = '-1');
          var n = function (t, e, n, r) {
            void 0 === t && (t = -1),
              void 0 === e && (e = -1),
              void 0 === n && (n = -1),
              void 0 === r && (r = '-1'),
              (this.id = t),
              (this.from = e),
              (this.to = n),
              (this.label = r);
          };
          e.Edge = n;
          var r = (function () {
            function t(t, e) {
              void 0 === t && (t = -1),
                void 0 === e && (e = '-1'),
                (this.id = t),
                (this.label = e),
                (this.edges = []),
                (this.edgeMap = {});
            }
            return (
              (t.prototype.addEdge = function (t) {
                this.edges.push(t), (this.edgeMap[t.id] = t);
              }),
              t
            );
          })();
          e.Node = r;
          var i = (function () {
            function t(t, e, n) {
              void 0 === t && (t = -1),
                void 0 === e && (e = !0),
                void 0 === n && (n = !1),
                (this.id = t),
                (this.edgeIdAutoIncrease = e),
                (this.edges = []),
                (this.nodes = []),
                (this.nodeMap = {}),
                (this.edgeMap = {}),
                (this.nodeLabelMap = {}),
                (this.edgeLabelMap = {}),
                (this.counter = 0),
                (this.directed = n);
            }
            return (
              (t.prototype.getNodeNum = function () {
                return this.nodes.length;
              }),
              (t.prototype.addNode = function (t, e) {
                if (!this.nodeMap[t]) {
                  var n = new r(t, e);
                  this.nodes.push(n),
                    (this.nodeMap[t] = n),
                    this.nodeLabelMap[e] || (this.nodeLabelMap[e] = []),
                    this.nodeLabelMap[e].push(t);
                }
              }),
              (t.prototype.addEdge = function (t, e, r, i) {
                if (
                  ((this.edgeIdAutoIncrease || void 0 === t) && (t = this.counter++),
                  !(this.nodeMap[e] && this.nodeMap[r] && this.nodeMap[r].edgeMap[t]))
                ) {
                  var o = new n(t, e, r, i);
                  if (
                    (this.edges.push(o),
                    (this.edgeMap[t] = o),
                    this.nodeMap[e].addEdge(o),
                    this.edgeLabelMap[i] || (this.edgeLabelMap[i] = []),
                    this.edgeLabelMap[i].push(o),
                    !this.directed)
                  ) {
                    var a = new n(t, r, e, i);
                    this.nodeMap[r].addEdge(a), this.edgeLabelMap[i].push(a);
                  }
                }
              }),
              t
            );
          })();
          e.Graph = i;
        },
        2812: (t, e, n) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }), (e.default = void 0);
          var r = n(655),
            i = u(n(5033)),
            o = u(n(1146)),
            a = u(n(8089)),
            s = n(643);
          function u(t) {
            return t && t.__esModule ? t : { default: t };
          }
          var c = function (t, e, n, r) {
              void 0 === n && (n = 'cluster'), void 0 === r && (r = 2);
              var i = [],
                o = t.nodes;
              return (
                e.forEach(function (t, e) {
                  i.push(l(o, t, e, n, r));
                }),
                i
              );
            },
            l = function (t, e, n, r, i) {
              var o = [n],
                a = [],
                s = {};
              return (
                e.forEach(function (e, u) {
                  if (e <= i && n !== u) {
                    o.push(u), a.push(t[u]);
                    var c = t[u][r];
                    s[c] ? (s[c].count++, s[c].dists.push(e)) : (s[c] = { count: 1, dists: [e] });
                  }
                }),
                Object.keys(s).forEach(function (t) {
                  s[t].dists = s[t].dists.sort(function (t, e) {
                    return t - e;
                  });
                }),
                {
                  nodeIdx: n,
                  nodeId: t[n].id,
                  nodeIdxs: o,
                  neighbors: a,
                  neighborNum: o.length - 1,
                  nodeLabelCountMap: s,
                }
              );
            },
            h = function (t, e, n, r) {
              var i = n.nodes;
              return (
                r || (r = {}),
                Object.keys(t).forEach(function (o) {
                  var a, s;
                  if (!r || !r[o]) {
                    r[o] = { nodes: [], edges: [] };
                    var u = t[o],
                      c = null === (a = e[u.start]) || void 0 === a ? void 0 : a.nodeIdxs,
                      l = null === (s = e[u.end]) || void 0 === s ? void 0 : s.nodeIdxs;
                    if (c && l) {
                      var h = new Set(l),
                        f = c.filter(function (t) {
                          return h.has(t);
                        });
                      if (f && f.length) {
                        for (var d = {}, p = f.length, g = 0; g < p; g++) {
                          var v = i[f[g]];
                          r[o].nodes.push(v), (d[v.id] = !0);
                        }
                        n.edges.forEach(function (t) {
                          d[t.source] && d[t.target] && r[o].edges.push(t);
                        });
                      }
                    }
                  }
                }),
                r
              );
            },
            f = function (t, e, n, r) {
              var i,
                o,
                a = {};
              t.nodes.forEach(function (t) {
                a[t.id] = t;
              });
              var s = 0;
              return !(null === (i = null == e ? void 0 : e.edges) || void 0 === i
                ? void 0
                : i.length) ||
                (null === (o = null == e ? void 0 : e.nodes) || void 0 === o ? void 0 : o.length) <
                  2
                ? 0
                : (t.edges.forEach(function (t) {
                    var i = a[t.source][n],
                      o = a[t.target][n],
                      u = null == e ? void 0 : e.nodes[0][n],
                      c = null == e ? void 0 : e.nodes[1][n],
                      l = null == e ? void 0 : e.edges[0][r];
                    t[r] === l && ((i === u && o === c) || (i === c && o === u)) && s++;
                  }),
                  s);
            },
            d = function (t, e) {
              var n = {},
                r = {};
              return (
                t.forEach(function (t, i) {
                  n[t.id] = { idx: i, node: t, degree: 0, inDegree: 0, outDegree: 0 };
                  var o = t[e];
                  r[o] || (r[o] = []), r[o].push(t);
                }),
                { nodeMap: n, nodeLabelMap: r }
              );
            },
            p = function (t, e, n) {
              var r = {},
                i = {};
              return (
                t.forEach(function (t, o) {
                  r['' + s.uniqueId] = { idx: o, edge: t };
                  var a = t[e];
                  i[a] || (i[a] = []), i[a].push(t);
                  var u = n[t.source];
                  u && (u.degree++, u.outDegree++);
                  var c = n[t.target];
                  c && (c.degree++, c.inDegree++);
                }),
                { edgeMap: r, edgeLabelMap: i }
              );
            },
            g = function (t, e, n) {
              var r = e.length,
                i = {};
              return (
                e.forEach(function (e, o) {
                  for (var a = n ? 0 : o + 1, s = t[o].id, u = a; u < r; u++)
                    if (o !== u) {
                      var c = t[u].id,
                        l = e[u];
                      (i[s + '-' + c] = l), n || (i[c + '-' + s] = l);
                    }
                }),
                i
              );
            },
            v = function (t, e, n, r, i, o, a, s, u, c, l) {
              var d,
                p = e.id + '-' + n.id;
              if (c && c[p]) return c[p];
              var g = l ? l[p] : void 0;
              if (!g) {
                var v = (((d = {})[p] = { start: r[e.id].idx, end: r[n.id].idx, distance: i }), d);
                g = (l = h(v, o, t, l))[p];
              }
              return f(g, a, s, u);
            },
            y = function (t, e, n, r) {
              var i,
                o,
                a,
                s = null === (i = t[e]) || void 0 === i ? void 0 : i.degree,
                u = null === (o = t[e]) || void 0 === o ? void 0 : o.inDegree,
                c = null === (a = t[e]) || void 0 === a ? void 0 : a.outDegree;
              return (
                void 0 === t[e] &&
                  ((s = 1 / 0),
                  (u = 1 / 0),
                  (c = 1 / 0),
                  r[e].forEach(function (t) {
                    var e = n[t.id].degree;
                    s > e && (s = e);
                    var r = n[t.id].inDegree;
                    u > r && (u = r);
                    var i = n[t.id].outDegree;
                    c > i && (c = i);
                  }),
                  (t[e] = { degree: s, inDegree: u, outDegree: c })),
                {
                  minPatternNodeLabelDegree: s,
                  minPatternNodeLabelInDegree: u,
                  minPatternNodeLabelOutDegree: c,
                }
              );
            };
          e.default = function (t, e, n, s, u, m, b) {
            if (
              (void 0 === n && (n = !1),
              void 0 === m && (m = 'cluster'),
              void 0 === b && (b = 'cluster'),
              t && t.nodes)
            ) {
              var x = t.nodes.length;
              if (x) {
                var _ = (0, i.default)(t, n),
                  w = (0, i.default)(e, n),
                  E = g(t.nodes, _, n),
                  S = g(e.nodes, w, n),
                  M = d(t.nodes, m),
                  k = M.nodeMap,
                  A = M.nodeLabelMap,
                  C = d(e.nodes, m),
                  I = C.nodeMap,
                  T = C.nodeLabelMap;
                p(t.edges, b, k);
                var N = p(e.edges, b, I).edgeLabelMap,
                  P = [];
                null == w ||
                  w.forEach(function (t) {
                    P = P.concat(t);
                  }),
                  u ||
                    (u = Math.max.apply(
                      Math,
                      (0, r.__spreadArray)((0, r.__spreadArray)([], P), [2]),
                    )),
                  s || (s = u);
                var O = c(t, _, m, s),
                  D = c(e, w, m, s),
                  L = (function (t, e, n, r, i) {
                    var o = Math.ceil(n / e),
                      a = {},
                      s = 0;
                    return (
                      r.forEach(function (t, r) {
                        for (var u = 0, c = 0, l = t.nodeIdxs, h = t.neighborNum - 1; u < o; ) {
                          for (
                            var f = l[1 + Math.floor(Math.random() * h)], d = 0;
                            (a[r + '-' + f] || a[f + '-' + r]) &&
                            ((f = Math.floor(Math.random() * e)), !(++d > 2 * e));

                          );
                          if (
                            d < 2 * e &&
                            ((a[r + '-' + f] = { start: r, end: f, distance: i[r][f] }),
                            u++,
                            ++s >= n)
                          )
                            return a;
                          if (++c > 2 * e) break;
                        }
                        u < o && (o = (o + (o - u)) / (e - r - 1));
                      }),
                      a
                    );
                  })(0, x, Math.min(100, (x * (x - 1)) / 2), D, _),
                  R = h(L, O, t),
                  B = {
                    graphs: R,
                    nodeLabelProp: m,
                    edgeLabelProp: b,
                    minSupport: 1,
                    minNodeNum: 1,
                    maxNodeNum: 4,
                    directed: n,
                  },
                  j = (0, o.default)(B).slice(0, 10),
                  G = j.length,
                  z = [];
                j.forEach(function (t, e) {
                  (z[e] = {}),
                    Object.keys(R).forEach(function (n) {
                      var r = R[n],
                        i = f(r, t, m, b);
                      z[e][n] = i;
                    });
                });
                var F = (function (t, e, n) {
                    for (
                      var r = 1 / 0,
                        i = 0,
                        o = function (e) {
                          var n = t[e],
                            o = Object.keys(n).sort(function (t, e) {
                              return n[t] - n[e];
                            }),
                            a = [];
                          o.forEach(function (t, e) {
                            a[e % 10] || (a[e % 10] = { graphs: [], totalCount: 0, aveCount: 0 }),
                              a[e % 10].graphs.push(t),
                              (a[e % 10].totalCount += n[t]);
                          });
                          var s = 0,
                            u = [];
                          a.forEach(function (t) {
                            var e = t.totalCount / t.graphs.length;
                            (t.aveCount = e), u.push(e);
                            var r = 0,
                              i = t.length;
                            t.graphs.forEach(function (e, i) {
                              var o = n[e];
                              t.graphs.forEach(function (t, e) {
                                i !== e && (r += Math.abs(o - n[t]));
                              });
                            }),
                              (s += r /= (i * (i - 1)) / 2);
                          }),
                            (s /= a.length);
                          var c = 0;
                          u.forEach(function (t, e) {
                            u.forEach(function (n, r) {
                              e !== r && (c += Math.abs(t - n));
                            }),
                              (c /= (u.length * (u.length - 1)) / 2);
                          });
                          var l = c - s;
                          r < l && ((r = l), (i = e));
                        },
                        a = 0;
                      a < e;
                      a++
                    )
                      o(a);
                    return { structure: n[i], structureCountMap: t[i] };
                  })(z, G, j),
                  U = F.structure,
                  V = F.structureCountMap,
                  W = e.nodes[0],
                  Y = W[m],
                  X = A[Y],
                  H = {},
                  q = {},
                  K = {},
                  Z = {},
                  $ = {},
                  Q = {};
                Object.keys(T).forEach(function (r, i) {
                  ($[r] = []), n && (Q[r] = []);
                  var o = -1 / 0,
                    a = T[r],
                    s = {};
                  a.forEach(function (t) {
                    var e = S[W.id + '-' + t.id];
                    if (
                      (e && $[r].push(e),
                      o < e && (o = e),
                      (s[W.id + '-' + t.id] = { start: 0, end: I[t.id].idx, distance: e }),
                      n)
                    ) {
                      var i = S[t.id + '-' + W.id];
                      i && Q[r].push(i);
                    }
                  }),
                    ($[r] = $[r].sort(function (t, e) {
                      return t - e;
                    })),
                    n &&
                      (Q[r] = Q[r].sort(function (t, e) {
                        return t - e;
                      })),
                    (q = h(s, D, e, q));
                  var u = [];
                  if (
                    (Object.keys(s).forEach(function (t) {
                      if (K[t]) u.push(K[t]);
                      else {
                        var e = q[t];
                        (K[t] = f(e, U, m, b)), u.push(K[t]);
                      }
                    }),
                    (u = u.sort(function (t, e) {
                      return e - t;
                    })),
                    (Z[W.id + '-' + r] = u),
                    r !== Y)
                  )
                    for (
                      var c = function (e) {
                          var n = X[e],
                            i = O[k[n.id].idx],
                            o = i.nodeLabelCountMap[r],
                            a = T[r].length;
                          if (!o || o.count < a) return X.splice(e, 1), 'continue';
                          for (var s = !1, c = 0; c < a; c++)
                            if (o.dists[c] > $[r][c]) {
                              s = !0;
                              break;
                            }
                          if (s) return X.splice(e, 1), 'continue';
                          var l = {};
                          i.neighbors.forEach(function (t) {
                            var e = E[n.id + '-' + t.id];
                            l[n.id + '-' + t.id] = {
                              start: k[n.id].idx,
                              end: k[t.id].idx,
                              distance: e,
                            };
                          }),
                            (R = h(l, O, t, R));
                          var d = [];
                          Object.keys(l).forEach(function (t) {
                            if (V[t]) d.push(V[t]);
                            else {
                              var e = R[t];
                              (V[t] = f(e, U, m, b)), d.push(V[t]);
                            }
                          }),
                            (d = d.sort(function (t, e) {
                              return e - t;
                            }));
                          var p = !1;
                          for (c = 0; c < a; c++)
                            if (d[c] < u[c]) {
                              p = !0;
                              break;
                            }
                          return p ? (X.splice(e, 1), 'continue') : void 0;
                        },
                        l = X.length - 1;
                      l >= 0;
                      l--
                    )
                      c(l);
                });
                var J = [];
                null == X ||
                  X.forEach(function (r) {
                    for (
                      var i = k[r.id].idx,
                        o = l(t.nodes, _[i], i, m, u).neighbors,
                        a = !1,
                        s = o.length - 1;
                      s >= 0;
                      s--
                    ) {
                      if (o.length + 1 < e.nodes.length) return void (a = !0);
                      var c = o[s],
                        h = c[m];
                      if (T[h] && T[h].length)
                        if ($[h] && $[h].length) {
                          var f = r.id + '-' + c.id,
                            d = E[f],
                            p = $[h].length - 1;
                          if (d > $[h][p]) o.splice(s, 1);
                          else {
                            if (n) {
                              var g = c.id + '-' + r.id,
                                x = E[g];
                              if (((p = Q[h].length - 1), x > Q[h][p])) {
                                o.splice(s, 1);
                                continue;
                              }
                            }
                            var w = V[f] ? V[f] : v(t, r, c, k, d, O, U, m, b, V, R),
                              S = W.id + '-' + h;
                            if (w < Z[S][Z[S].length - 1]) o.splice(s, 1);
                            else {
                              var M = y(H, h, I, T),
                                A = M.minPatternNodeLabelDegree;
                              M.minPatternNodeLabelInDegree,
                                M.minPatternNodeLabelOutDegree,
                                k[c.id].degree < A && o.splice(s, 1);
                            }
                          }
                        } else o.splice(s, 1);
                      else o.splice(s, 1);
                    }
                    a || J.push({ nodes: [r].concat(o) });
                  });
                var tt = (0, a.default)(e, W.id, !1).length,
                  et = {};
                n
                  ? (Object.keys(tt).forEach(function (t) {
                      var e = I[t].node[m];
                      et[e] ? et[e].push(tt[t]) : (et[e] = [tt[t]]);
                    }),
                    Object.keys(et).forEach(function (t) {
                      et[t].sort(function (t, e) {
                        return t - e;
                      });
                    }))
                  : (et = $);
                for (
                  var nt = function (r) {
                      var i = J[r],
                        o = i.nodes[0],
                        s = {},
                        u = {};
                      i.nodes.forEach(function (t, e) {
                        u[t.id] = { idx: e, node: t, degree: 0, inDegree: 0, outDegree: 0 };
                        var n = t[m];
                        s[n] ? s[n]++ : (s[n] = 1);
                      });
                      var c = [],
                        l = {};
                      t.edges.forEach(function (t) {
                        u[t.source] &&
                          u[t.target] &&
                          (c.push(t),
                          l[t[b]] ? l[t[b]]++ : (l[t[b]] = 1),
                          u[t.source].degree++,
                          u[t.target].degree++,
                          u[t.source].outDegree++,
                          u[t.target].inDegree++);
                      });
                      for (var h = Object.keys(N).length, f = !1, d = 0; d < h; d++) {
                        var p = Object.keys(N)[d];
                        if (!l[p] || l[p] < N[p].length) {
                          f = !0;
                          break;
                        }
                      }
                      if (f) return J.splice(r, 1), 'continue';
                      var g = c.length;
                      if (g < e.edges.length) return J.splice(r, 1), 'break';
                      var v = !1,
                        x = function (t) {
                          var e = c[t],
                            r = e[b],
                            i = N[r];
                          if (!i || !i.length)
                            return (
                              l[r]--,
                              i && l[r] < i.length
                                ? ((v = !0), 'break')
                                : (c.splice(t, 1),
                                  u[e.source].degree--,
                                  u[e.target].degree--,
                                  u[e.source].outDegree--,
                                  u[e.target].inDegree--,
                                  'continue')
                            );
                          var o = u[e.source].node[m],
                            a = u[e.target].node[m],
                            s = !1;
                          return (
                            i.forEach(function (t) {
                              var e = I[t.source].node,
                                r = I[t.target].node;
                              e[m] === o && r[m] === a && (s = !0),
                                n || e[m] !== a || r[m] !== o || (s = !0);
                            }),
                            s
                              ? void 0
                              : (l[r]--,
                                i && l[r] < i.length
                                  ? ((v = !0), 'break')
                                  : (c.splice(t, 1),
                                    u[e.source].degree--,
                                    u[e.target].degree--,
                                    u[e.source].outDegree--,
                                    u[e.target].inDegree--,
                                    'continue'))
                          );
                        };
                      for (d = g - 1; d >= 0 && 'break' !== x(d); d--);
                      if (v) return J.splice(r, 1), 'continue';
                      i.edges = c;
                      var _ = (0, a.default)(i, i.nodes[0].id, !1).length;
                      if (
                        (Object.keys(_)
                          .reverse()
                          .forEach(function (t) {
                            if (t !== i.nodes[0].id && !v) {
                              if (_[t] === 1 / 0) {
                                var e = u[t].node[m];
                                if ((s[e]--, s[e] < T[e].length)) return void (v = !0);
                                var n = i.nodes.indexOf(u[t].node);
                                return i.nodes.splice(n, 1), void (u[t] = void 0);
                              }
                              var r = k[t].node[m];
                              if (!et[r] || !et[r].length || _[t] > et[r][et[r].length - 1]) {
                                if (((e = u[t].node[m]), s[e]--, s[e] < T[e].length))
                                  return void (v = !0);
                                (n = i.nodes.indexOf(u[t].node)),
                                  i.nodes.splice(n, 1),
                                  (u[t] = void 0);
                              }
                            }
                          }),
                        v)
                      )
                        return J.splice(r, 1), 'continue';
                      for (var w = !0, E = 0; w && !v; ) {
                        if (
                          ((w = !1),
                          n
                            ? u[o.id].degree < I[W.id].degree ||
                              u[o.id].inDegree < I[W.id].inDegree ||
                              u[o.id].outDegree < I[W.id].outDegree
                            : u[o.id].degree < I[W.id].degree)
                        ) {
                          v = !0;
                          break;
                        }
                        if (s[o[m]] < T[o[m]].length) {
                          v = !0;
                          break;
                        }
                        for (var S = i.nodes.length - 1; S >= 0; S--) {
                          var M = i.nodes[S],
                            A = u[M.id].degree,
                            C = u[M.id].inDegree,
                            P = u[M.id].outDegree,
                            O = M[m],
                            D = y(H, O, I, T),
                            L = D.minPatternNodeLabelDegree,
                            R = D.minPatternNodeLabelInDegree,
                            B = D.minPatternNodeLabelOutDegree;
                          if (n ? A < L || C < R || P < B : A < L) {
                            if ((s[M[m]]--, s[M[m]] < T[M[m]].length)) {
                              v = !0;
                              break;
                            }
                            i.nodes.splice(S, 1), (u[M.id] = void 0), (w = !0);
                          }
                        }
                        if (v || (!w && 0 !== E)) break;
                        for (var j = (g = c.length) - 1; j >= 0; j--) {
                          var G = c[j];
                          if (!u[G.source] || !u[G.target]) {
                            c.splice(j, 1);
                            var z = G[b];
                            if (
                              (l[z]--,
                              u[G.source] && (u[G.source].degree--, u[G.source].outDegree--),
                              u[G.target] && (u[G.target].degree--, u[G.target].inDegree--),
                              N[z] && l[z] < N[z].length)
                            ) {
                              v = !0;
                              break;
                            }
                            w = !0;
                          }
                        }
                        E++;
                      }
                      return v || v || i.nodes.length < e.nodes.length || c.length < e.edges.length
                        ? (J.splice(r, 1), 'continue')
                        : void 0;
                    },
                    rt = J.length - 1;
                  rt >= 0 && 'break' !== nt(rt);
                  rt--
                );
                var it = J.length,
                  ot = function (t) {
                    var e = J[t],
                      n = {};
                    e.edges.forEach(function (t) {
                      var e = t.source + '-' + t.target + '-' + t.label;
                      n[e] ? n[e]++ : (n[e] = 1);
                    });
                    for (
                      var r = function (t) {
                          var e = J[t],
                            r = {};
                          e.edges.forEach(function (t) {
                            var e = t.source + '-' + t.target + '-' + t.label;
                            r[e] ? r[e]++ : (r[e] = 1);
                          });
                          var i = !0;
                          Object.keys(r).length !== Object.keys(n).length
                            ? (i = !1)
                            : Object.keys(n).forEach(function (t) {
                                r[t] !== n[t] && (i = !1);
                              }),
                            i && J.splice(t, 1);
                        },
                        i = it - 1;
                      i > t;
                      i--
                    )
                      r(i);
                    it = J.length;
                  };
                for (rt = 0; rt <= it - 1; rt++) ot(rt);
                return J;
              }
            }
          };
        },
        5170: (t, e, n) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }), (e.default = void 0);
          var r,
            i = (r = n(2238)) && r.__esModule ? r : { default: r },
            o = n(643);
          e.default = function (t, e, n, r) {
            void 0 === e && (e = !1), void 0 === n && (n = 'weight'), void 0 === r && (r = 1e3);
            var a = t.nodes,
              s = void 0 === a ? [] : a,
              u = t.edges,
              c = void 0 === u ? [] : u,
              l = {},
              h = {};
            s.forEach(function (t, e) {
              var n = (0, o.uniqueId)();
              (t.clusterId = n), (l[n] = { id: n, nodes: [t] }), (h[t.id] = { node: t, idx: e });
            });
            var f = (0, i.default)(t, e),
              d = [],
              p = {};
            f.forEach(function (t, e) {
              var n = 0,
                r = s[e].id;
              (p[r] = {}),
                t.forEach(function (t, e) {
                  if (t) {
                    n += t;
                    var i = s[e].id;
                    p[r][i] = t;
                  }
                }),
                d.push(n);
            });
            for (
              var g = 0,
                v = function () {
                  var t = !1;
                  if (
                    (s.forEach(function (e) {
                      var n = {};
                      Object.keys(p[e.id]).forEach(function (t) {
                        var r = p[e.id][t],
                          i = h[t].node.clusterId;
                        n[i] || (n[i] = 0), (n[i] += r);
                      });
                      var r = -1 / 0,
                        i = [];
                      if (
                        (Object.keys(n).forEach(function (t) {
                          r < n[t] ? ((r = n[t]), (i = [t])) : r === n[t] && i.push(t);
                        }),
                        1 !== i.length || i[0] !== e.clusterId)
                      ) {
                        var o = i.indexOf(e.clusterId);
                        if ((o >= 0 && i.splice(o, 1), i && i.length)) {
                          t = !0;
                          var a = l[e.clusterId],
                            s = a.nodes.indexOf(e);
                          a.nodes.splice(s, 1);
                          var u = Math.floor(Math.random() * i.length),
                            c = l[i[u]];
                          c.nodes.push(e), (e.clusterId = c.id);
                        }
                      }
                    }),
                    !t)
                  )
                    return 'break';
                  g++;
                };
              g < r && 'break' !== v();

            );
            Object.keys(l).forEach(function (t) {
              var e = l[t];
              (e.nodes && e.nodes.length) || delete l[t];
            });
            var y = [],
              m = {};
            c.forEach(function (t) {
              var e = t.source,
                r = t.target,
                i = t[n] || 1,
                o = h[e].node.clusterId,
                a = h[r].node.clusterId,
                s = o + '---' + a;
              if (m[s]) (m[s].weight += i), m[s].count++;
              else {
                var u = { source: o, target: a, weight: i, count: 1 };
                (m[s] = u), y.push(u);
              }
            });
            var b = [];
            return (
              Object.keys(l).forEach(function (t) {
                b.push(l[t]);
              }),
              { clusters: b, clusterEdges: y }
            );
          };
        },
        5179: (t, e, n) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }), (e.default = void 0);
          var r,
            i = (r = n(2238)) && r.__esModule ? r : { default: r },
            o = function (t, e, n, r) {
              for (var i = e.length, o = 2 * r, a = 0, s = 0; s < i; s++)
                for (var u = t[s].clusterId, c = 0; c < i; c++)
                  u === t[c].clusterId && (a += (e[s][c] || 0) - ((n[s] || 0) * (n[c] || 0)) / o);
              return a * (1 / o);
            };
          e.default = function (t, e, n, r) {
            void 0 === e && (e = !1), void 0 === n && (n = 'weight'), void 0 === r && (r = 1e-4);
            var a = t.nodes,
              s = void 0 === a ? [] : a,
              u = t.edges,
              c = void 0 === u ? [] : u,
              l = 1,
              h = {},
              f = {};
            s.forEach(function (t, e) {
              var n = String(l++);
              (t.clusterId = n), (h[n] = { id: n, nodes: [t] }), (f[t.id] = { node: t, idx: e });
            });
            var d = (0, i.default)(t, e),
              p = [],
              g = {},
              v = 0;
            d.forEach(function (t, e) {
              var n = 0,
                r = s[e].id;
              (g[r] = {}),
                t.forEach(function (t, e) {
                  if (t) {
                    n += t;
                    var i = s[e].id;
                    (g[r][i] = t), (v += t);
                  }
                }),
                p.push(n);
            }),
              (v /= 2);
            for (
              var y = 1 / 0, m = 1 / 0, b = 0;
              (y = o(s, d, p, v)), !(Math.abs(y - m) < r || b > 100);

            )
              (m = y),
                b++,
                Object.keys(h).forEach(function (t) {
                  var e = 0;
                  c.forEach(function (r) {
                    var i = r.source,
                      o = r.target,
                      a = f[i].node.clusterId,
                      s = f[o].node.clusterId;
                    ((a === t && s !== t) || (s === t && a !== t)) && (e += r[n] || 1);
                  }),
                    (h[t].sumTot = e);
                }),
                s.forEach(function (t, e) {
                  var r,
                    i = h[t.clusterId],
                    o = 0,
                    a = p[e] / (2 * v),
                    s = 0;
                  i.nodes.forEach(function (t) {
                    var n = f[t.id].idx;
                    s += d[e][n] || 0;
                  });
                  var u = s - i.sumTot * a,
                    l = g[t.id];
                  if (
                    (Object.keys(l).forEach(function (n) {
                      var i = f[n].node.clusterId;
                      if (i !== t.clusterId) {
                        var s = h[i],
                          c = s.nodes;
                        if (c && c.length) {
                          var l = 0;
                          c.forEach(function (t) {
                            var n = f[t.id].idx;
                            l += d[e][n] || 0;
                          });
                          var p = l - s.sumTot * a - u;
                          p > o && ((o = p), (r = s));
                        }
                      }
                    }),
                    o > 0)
                  ) {
                    r.nodes.push(t);
                    var y = t.clusterId;
                    t.clusterId = r.id;
                    var m = i.nodes.indexOf(t);
                    i.nodes.splice(m, 1);
                    var b = 0,
                      x = 0;
                    c.forEach(function (t) {
                      var e = t.source,
                        i = t.target,
                        o = f[e].node.clusterId,
                        a = f[i].node.clusterId;
                      ((o === r.id && a !== r.id) || (a === r.id && o !== r.id)) &&
                        (b += t[n] || 1),
                        ((o === y && a !== y) || (a === y && o !== y)) && (x += t[n] || 1);
                    }),
                      (r.sumTot = b),
                      (i.sumTot = x);
                  }
                });
            var x = {},
              _ = 0;
            Object.keys(h).forEach(function (t) {
              var e = h[t];
              if (e.nodes && e.nodes.length) {
                var n = String(_ + 1);
                n !== t &&
                  ((e.id = n),
                  (e.nodes = e.nodes.map(function (t) {
                    return { id: t.id, clusterId: n };
                  })),
                  (h[n] = e),
                  (x[t] = n),
                  delete h[t],
                  _++);
              } else delete h[t];
            }),
              s.forEach(function (t) {
                t.clusterId && x[t.clusterId] && (t.clusterId = x[t.clusterId]);
              });
            var w = [],
              E = {};
            c.forEach(function (t) {
              var e = t.source,
                r = t.target,
                i = t[n] || 1,
                o = f[e].node.clusterId,
                a = f[r].node.clusterId,
                s = o + '---' + a;
              if (E[s]) (E[s].weight += i), E[s].count++;
              else {
                var u = { source: o, target: a, weight: i, count: 1 };
                (E[s] = u), w.push(u);
              }
            });
            var S = [];
            return (
              Object.keys(h).forEach(function (t) {
                S.push(h[t]);
              }),
              { clusters: S, clusterEdges: w }
            );
          };
        },
        9454: (t, e, n) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }), (e.default = void 0);
          var r = a(n(8823)),
            i = a(n(7085)),
            o = n(643);
          function a(t) {
            return t && t.__esModule ? t : { default: t };
          }
          var s = function (t, e) {
              var n = [],
                r = t.nodes,
                a = void 0 === r ? [] : r,
                s = t.edges,
                u = void 0 === s ? [] : s;
              if (0 === a.length) return n;
              var c = a[0],
                l = new Set();
              l.add(c);
              var h = new i.default(function (t, n) {
                return e ? t.weight - n.weight : 0;
              });
              for (
                (0, o.getEdgesByNodeId)(c.id, u).forEach(function (t) {
                  h.insert(t);
                });
                !h.isEmpty();

              ) {
                var f = h.delMin(),
                  d = f.source,
                  p = f.target;
                (l.has(d) && l.has(p)) ||
                  (n.push(f),
                  l.has(d) ||
                    (l.add(d),
                    (0, o.getEdgesByNodeId)(d, u).forEach(function (t) {
                      h.insert(t);
                    })),
                  l.has(p) ||
                    (l.add(p),
                    (0, o.getEdgesByNodeId)(p, u).forEach(function (t) {
                      h.insert(t);
                    })));
              }
              return n;
            },
            u = function (t, e) {
              var n = [],
                i = t.nodes,
                o = void 0 === i ? [] : i,
                a = t.edges,
                s = void 0 === a ? [] : a;
              if (0 === o.length) return n;
              var u = s.map(function (t) {
                return t;
              });
              e &&
                u.sort(function (t, e) {
                  return t.weight - e.weight;
                });
              for (
                var c = new r.default(
                  o.map(function (t) {
                    return t.id;
                  }),
                );
                u.length > 0;

              ) {
                var l = u.shift(),
                  h = l.source,
                  f = l.target;
                c.connected(h, f) || (n.push(l), c.union(h, f));
              }
              return n;
            };
          e.default = function (t, e, n) {
            return n ? { prim: s, kruskal: u }[n](t, e) : u(t, e);
          };
        },
        4926: (t, e, n) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }), (e.default = void 0);
          var r,
            i = (r = n(2556)) && r.__esModule ? r : { default: r },
            o = n(643);
          e.default = function (t, e, n) {
            'number' != typeof e && (e = 1e-6), 'number' != typeof n && (n = 0.85);
            for (
              var r,
                a = 1,
                s = 0,
                u = 1e3,
                c = t.nodes,
                l = void 0 === c ? [] : c,
                h = t.edges,
                f = void 0 === h ? [] : h,
                d = l.length,
                p = {},
                g = {},
                v = 0;
              v < d;
              ++v
            )
              (p[(m = (E = l[v]).id)] = 1 / d), (g[m] = 1 / d);
            for (var y = (0, i.default)(t); u > 0 && a > e; ) {
              for (s = 0, v = 0; v < d; ++v) {
                var m = (E = l[v]).id;
                if (((r = 0), 0 === y[E.id].inDegree)) p[m] = 0;
                else {
                  for (var b = (0, o.getNeighbors)(m, f, 'source'), x = 0; x < b.length; ++x) {
                    var _ = b[x],
                      w = y[_].outDegree;
                    w > 0 && (r += g[_] / w);
                  }
                  (p[m] = n * r), (s += p[m]);
                }
              }
              for (s = (1 - s) / d, a = 0, v = 0; v < d; ++v) {
                var E;
                (r = p[(m = (E = l[v]).id)] + s), (a += Math.abs(r - g[m])), (g[m] = r);
              }
              u -= 1;
            }
            return g;
          };
        },
        7085: (t, e) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }), (e.default = void 0);
          var n = function (t, e) {
              return t - e;
            },
            r = (function () {
              function t(t) {
                void 0 === t && (t = n), (this.compareFn = t), (this.list = []);
              }
              return (
                (t.prototype.getLeft = function (t) {
                  return 2 * t + 1;
                }),
                (t.prototype.getRight = function (t) {
                  return 2 * t + 2;
                }),
                (t.prototype.getParent = function (t) {
                  return 0 === t ? null : Math.floor((t - 1) / 2);
                }),
                (t.prototype.isEmpty = function () {
                  return this.list.length <= 0;
                }),
                (t.prototype.top = function () {
                  return this.isEmpty() ? void 0 : this.list[0];
                }),
                (t.prototype.delMin = function () {
                  var t = this.top(),
                    e = this.list.pop();
                  return this.list.length > 0 && ((this.list[0] = e), this.moveDown(0)), t;
                }),
                (t.prototype.insert = function (t) {
                  if (null !== t) {
                    this.list.push(t);
                    var e = this.list.length - 1;
                    return this.moveUp(e), !0;
                  }
                  return !1;
                }),
                (t.prototype.moveUp = function (t) {
                  for (
                    var e = this.getParent(t);
                    t && t > 0 && this.compareFn(this.list[e], this.list[t]) > 0;

                  ) {
                    var n = this.list[e];
                    (this.list[e] = this.list[t]),
                      (this.list[t] = n),
                      (t = e),
                      (e = this.getParent(t));
                  }
                }),
                (t.prototype.moveDown = function (t) {
                  var e,
                    n = t,
                    r = this.getLeft(t),
                    i = this.getRight(t),
                    o = this.list.length;
                  null !== r && r < o && this.compareFn(this.list[n], this.list[r]) > 0
                    ? (n = r)
                    : null !== i &&
                      i < o &&
                      this.compareFn(this.list[n], this.list[i]) > 0 &&
                      (n = i),
                    t !== n &&
                      ((e = [this.list[n], this.list[t]]),
                      (this.list[t] = e[0]),
                      (this.list[n] = e[1]),
                      this.moveDown(n));
                }),
                t
              );
            })();
          e.default = r;
        },
        8481: (t, e) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }),
            (e.default = e.LinkedListNode = void 0);
          var n = function (t, e) {
              return t === e;
            },
            r = (function () {
              function t(t, e) {
                void 0 === e && (e = null), (this.value = t), (this.next = e);
              }
              return (
                (t.prototype.toString = function (t) {
                  return t ? t(this.value) : '' + this.value;
                }),
                t
              );
            })();
          e.LinkedListNode = r;
          var i = (function () {
            function t(t) {
              void 0 === t && (t = n), (this.head = null), (this.tail = null), (this.compare = t);
            }
            return (
              (t.prototype.prepend = function (t) {
                var e = new r(t, this.head);
                return (this.head = e), this.tail || (this.tail = e), this;
              }),
              (t.prototype.append = function (t) {
                var e = new r(t);
                return this.head
                  ? ((this.tail.next = e), (this.tail = e), this)
                  : ((this.head = e), (this.tail = e), this);
              }),
              (t.prototype.delete = function (t) {
                if (!this.head) return null;
                for (var e = null; this.head && this.compare(this.head.value, t); )
                  (e = this.head), (this.head = this.head.next);
                var n = this.head;
                if (null !== n)
                  for (; n.next; )
                    this.compare(n.next.value, t)
                      ? ((e = n.next), (n.next = n.next.next))
                      : (n = n.next);
                return this.compare(this.tail.value, t) && (this.tail = n), e;
              }),
              (t.prototype.find = function (t) {
                var e = t.value,
                  n = void 0 === e ? void 0 : e,
                  r = t.callback,
                  i = void 0 === r ? void 0 : r;
                if (!this.head) return null;
                for (var o = this.head; o; ) {
                  if (i && i(o.value)) return o;
                  if (void 0 !== n && this.compare(o.value, n)) return o;
                  o = o.next;
                }
                return null;
              }),
              (t.prototype.deleteTail = function () {
                var t = this.tail;
                if (this.head === this.tail) return (this.head = null), (this.tail = null), t;
                for (var e = this.head; e.next; ) e.next.next ? (e = e.next) : (e.next = null);
                return (this.tail = e), t;
              }),
              (t.prototype.deleteHead = function () {
                if (!this.head) return null;
                var t = this.head;
                return (
                  this.head.next
                    ? (this.head = this.head.next)
                    : ((this.head = null), (this.tail = null)),
                  t
                );
              }),
              (t.prototype.fromArray = function (t) {
                var e = this;
                return (
                  t.forEach(function (t) {
                    return e.append(t);
                  }),
                  this
                );
              }),
              (t.prototype.toArray = function () {
                for (var t = [], e = this.head; e; ) t.push(e), (e = e.next);
                return t;
              }),
              (t.prototype.reverse = function () {
                for (var t = this.head, e = null, n = null; t; )
                  (n = t.next), (t.next = e), (e = t), (t = n);
                (this.tail = this.head), (this.head = e);
              }),
              (t.prototype.toString = function (t) {
                return (
                  void 0 === t && (t = void 0),
                  this.toArray()
                    .map(function (e) {
                      return e.toString(t);
                    })
                    .toString()
                );
              }),
              t
            );
          })();
          e.default = i;
        },
        3026: (t, e, n) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }), (e.default = void 0);
          var r,
            i = (r = n(8481)) && r.__esModule ? r : { default: r },
            o = (function () {
              function t() {
                this.linkedList = new i.default();
              }
              return (
                (t.prototype.isEmpty = function () {
                  return !this.linkedList.head;
                }),
                (t.prototype.peek = function () {
                  return this.linkedList.head ? this.linkedList.head.value : null;
                }),
                (t.prototype.enqueue = function (t) {
                  this.linkedList.append(t);
                }),
                (t.prototype.dequeue = function () {
                  var t = this.linkedList.deleteHead();
                  return t ? t.value : null;
                }),
                (t.prototype.toString = function (t) {
                  return this.linkedList.toString(t);
                }),
                t
              );
            })();
          e.default = o;
        },
        8823: (t, e) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }), (e.default = void 0);
          var n = (function () {
            function t(t) {
              (this.count = t.length), (this.parent = {});
              for (var e = 0, n = t; e < n.length; e++) {
                var r = n[e];
                this.parent[r] = r;
              }
            }
            return (
              (t.prototype.find = function (t) {
                for (; this.parent[t] !== t; ) t = this.parent[t];
                return t;
              }),
              (t.prototype.union = function (t, e) {
                var n = this.find(t),
                  r = this.find(e);
                n !== r &&
                  (n < r
                    ? (this.parent[e] !== e && this.union(this.parent[e], t),
                      (this.parent[e] = this.parent[t]))
                    : (this.parent[t] !== t && this.union(this.parent[t], e),
                      (this.parent[t] = this.parent[e])));
              }),
              (t.prototype.connected = function (t, e) {
                return this.find(t) === this.find(e);
              }),
              t
            );
          })();
          e.default = n;
        },
        643: (t, e) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }),
            (e.uniqueId = e.getEdgesByNodeId = e.getOutEdgesNodeId = e.getNeighbors = void 0),
            (e.getNeighbors = function (t, e, n) {
              void 0 === e && (e = []);
              var r = e.filter(function (e) {
                return e.source === t || e.target === t;
              });
              return 'target' === n
                ? r
                    .filter(function (e) {
                      return e.source === t;
                    })
                    .map(function (t) {
                      return t.target;
                    })
                : 'source' === n
                ? r
                    .filter(function (e) {
                      return e.target === t;
                    })
                    .map(function (t) {
                      return t.source;
                    })
                : r.map(function (e) {
                    return e.source === t ? e.target : e.source;
                  });
            }),
            (e.getOutEdgesNodeId = function (t, e) {
              return e.filter(function (e) {
                return e.source === t;
              });
            }),
            (e.getEdgesByNodeId = function (t, e) {
              return e.filter(function (e) {
                return e.source === t || e.target === t;
              });
            }),
            (e.uniqueId = function (t) {
              return (
                void 0 === t && (t = 0),
                t +
                  '-' +
                  ('' + Math.random()).split('.')[1].substr(0, 5) +
                  ('' + Math.random()).split('.')[1].substr(0, 5)
              );
            });
        },
        1656: (t, e, n) => {
          'use strict';
          function r(t) {
            return (
              (r =
                'function' == typeof Symbol && 'symbol' == typeof Symbol.iterator
                  ? function (t) {
                      return typeof t;
                    }
                  : function (t) {
                      return t &&
                        'function' == typeof Symbol &&
                        t.constructor === Symbol &&
                        t !== Symbol.prototype
                        ? 'symbol'
                        : typeof t;
                    }),
              r(t)
            );
          }
          Object.defineProperty(e, '__esModule', { value: !0 }),
            Object.defineProperty(e, 'getAdjMatrix', {
              enumerable: !0,
              get: function () {
                return i.default;
              },
            }),
            Object.defineProperty(e, 'breadthFirstSearch', {
              enumerable: !0,
              get: function () {
                return o.default;
              },
            }),
            Object.defineProperty(e, 'connectedComponent', {
              enumerable: !0,
              get: function () {
                return a.default;
              },
            }),
            Object.defineProperty(e, 'getDegree', {
              enumerable: !0,
              get: function () {
                return s.default;
              },
            }),
            Object.defineProperty(e, 'getInDegree', {
              enumerable: !0,
              get: function () {
                return s.getInDegree;
              },
            }),
            Object.defineProperty(e, 'getOutDegree', {
              enumerable: !0,
              get: function () {
                return s.getOutDegree;
              },
            }),
            Object.defineProperty(e, 'detectCycle', {
              enumerable: !0,
              get: function () {
                return u.default;
              },
            }),
            Object.defineProperty(e, 'depthFirstSearch', {
              enumerable: !0,
              get: function () {
                return c.default;
              },
            }),
            Object.defineProperty(e, 'dijkstra', {
              enumerable: !0,
              get: function () {
                return l.default;
              },
            }),
            Object.defineProperty(e, 'findAllPath', {
              enumerable: !0,
              get: function () {
                return h.findAllPath;
              },
            }),
            Object.defineProperty(e, 'findShortestPath', {
              enumerable: !0,
              get: function () {
                return h.findShortestPath;
              },
            }),
            Object.defineProperty(e, 'floydWarshall', {
              enumerable: !0,
              get: function () {
                return f.default;
              },
            }),
            Object.defineProperty(e, 'labelPropagation', {
              enumerable: !0,
              get: function () {
                return d.default;
              },
            }),
            Object.defineProperty(e, 'louvain', {
              enumerable: !0,
              get: function () {
                return p.default;
              },
            }),
            Object.defineProperty(e, 'minimumSpanningTree', {
              enumerable: !0,
              get: function () {
                return g.default;
              },
            }),
            Object.defineProperty(e, 'pageRank', {
              enumerable: !0,
              get: function () {
                return v.default;
              },
            }),
            Object.defineProperty(e, 'GADDI', {
              enumerable: !0,
              get: function () {
                return y.default;
              },
            }),
            Object.defineProperty(e, 'getNeighbors', {
              enumerable: !0,
              get: function () {
                return m.getNeighbors;
              },
            });
          var i = x(n(2238)),
            o = x(n(3764)),
            a = x(n(9527)),
            s = (function (t) {
              if (t && t.__esModule) return t;
              if (null === t || ('object' !== r(t) && 'function' != typeof t))
                return { default: t };
              var e = b();
              if (e && e.has(t)) return e.get(t);
              var n = {},
                i = Object.defineProperty && Object.getOwnPropertyDescriptor;
              for (var o in t)
                if (Object.prototype.hasOwnProperty.call(t, o)) {
                  var a = i ? Object.getOwnPropertyDescriptor(t, o) : null;
                  a && (a.get || a.set) ? Object.defineProperty(n, o, a) : (n[o] = t[o]);
                }
              return (n.default = t), e && e.set(t, n), n;
            })(n(2556)),
            u = x(n(4282)),
            c = x(n(5891)),
            l = x(n(8089)),
            h = n(1727),
            f = x(n(5033)),
            d = x(n(5170)),
            p = x(n(5179)),
            g = x(n(9454)),
            v = x(n(4926)),
            y = x(n(2812)),
            m = n(643);
          function b() {
            if ('function' != typeof WeakMap) return null;
            var t = new WeakMap();
            return (
              (b = function () {
                return t;
              }),
              t
            );
          }
          function x(t) {
            return t && t.__esModule ? t : { default: t };
          }
        },
        6044: (t, e) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }),
            (e.MESSAGE = e.ALGORITHM = void 0),
            (e.ALGORITHM = {
              pageRank: 'pageRank',
              breadthFirstSearch: 'breadthFirstSearch',
              connectedComponent: 'connectedComponent',
              depthFirstSearch: 'depthFirstSearch',
              detectCycle: 'detectCycle',
              detectDirectedCycle: 'detectDirectedCycle',
              detectAllCycles: 'detectAllCycles',
              detectAllDirectedCycle: 'detectAllDirectedCycle',
              detectAllUndirectedCycle: 'detectAllUndirectedCycle',
              dijkstra: 'dijkstra',
              findAllPath: 'findAllPath',
              findShortestPath: 'findShortestPath',
              floydWarshall: 'floydWarshall',
              getAdjMatrix: 'getAdjMatrix',
              getDegree: 'getDegree',
              getInDegree: 'getInDegree',
              getNeighbors: 'getNeighbors',
              getOutDegree: 'getOutDegree',
              labelPropagation: 'labelPropagation',
              louvain: 'louvain',
              GADDI: 'GADDI',
              minimumSpanningTree: 'minimumSpanningTree',
              SUCCESS: 'SUCCESS',
              FAILURE: 'FAILURE',
            }),
            (e.MESSAGE = { SUCCESS: 'SUCCESS', FAILURE: 'FAILURE' });
        },
        585: (t, e, n) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }), (e.default = void 0);
          var r,
            i = n(6044),
            o = (r = n(2067)) && r.__esModule ? r : { default: r };
          e.default = function (t) {
            return function () {
              for (var e = [], n = 0; n < arguments.length; n++) e[n] = arguments[n];
              return new Promise(function (n, r) {
                var a = new o.default();
                a.postMessage({ _algorithmType: t, data: e }),
                  (a.onmessage = function (t) {
                    var e = t.data,
                      o = e.data,
                      s = e._algorithmType;
                    i.MESSAGE.SUCCESS === s ? n(o) : r(), a.terminate();
                  });
              });
            };
          };
        },
        485: (t, e, n) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }),
            (e.GADDIAsync =
              e.getNeighborsAsync =
              e.pageRankAsync =
              e.minimumSpanningTreeAsync =
              e.louvainAsync =
              e.labelPropagationAsync =
              e.floydWarshallAsync =
              e.findShortestPathAsync =
              e.findAllPathAsync =
              e.dijkstraAsync =
              e.detectAllUndirectedCycleAsync =
              e.detectAllDirectedCycleAsync =
              e.detectAllCyclesAsync =
              e.detectCycleAsync =
              e.getOutDegreeAsync =
              e.getInDegreeAsync =
              e.getDegreeAsync =
              e.connectedComponentAsync =
              e.getAdjMatrixAsync =
                void 0);
          var r,
            i = (r = n(585)) && r.__esModule ? r : { default: r },
            o = n(6044);
          (e.getAdjMatrixAsync = function (t, e) {
            return (0, i.default)(o.ALGORITHM.getAdjMatrix).apply(void 0, [t, e]);
          }),
            (e.connectedComponentAsync = function (t, e) {
              return (0, i.default)(o.ALGORITHM.connectedComponent).apply(void 0, [t, e]);
            }),
            (e.getDegreeAsync = function (t) {
              return (0, i.default)(o.ALGORITHM.getDegree)(t);
            }),
            (e.getInDegreeAsync = function (t, e) {
              return (0, i.default)(o.ALGORITHM.getInDegree)(t, e);
            }),
            (e.getOutDegreeAsync = function (t, e) {
              return (0, i.default)(o.ALGORITHM.getOutDegree)(t, e);
            }),
            (e.detectCycleAsync = function (t) {
              return (0, i.default)(o.ALGORITHM.detectCycle)(t);
            }),
            (e.detectAllCyclesAsync = function (t) {
              return (0, i.default)(o.ALGORITHM.detectAllCycles)(t);
            }),
            (e.detectAllDirectedCycleAsync = function (t) {
              return (0, i.default)(o.ALGORITHM.detectAllDirectedCycle)(t);
            }),
            (e.detectAllUndirectedCycleAsync = function (t) {
              return (0, i.default)(o.ALGORITHM.detectAllUndirectedCycle)(t);
            }),
            (e.dijkstraAsync = function (t, e, n, r) {
              return (0, i.default)(o.ALGORITHM.dijkstra).apply(void 0, [t, e, n, r]);
            }),
            (e.findAllPathAsync = function (t, e, n, r) {
              return (0, i.default)(o.ALGORITHM.findAllPath).apply(void 0, [t, e, n, r]);
            }),
            (e.findShortestPathAsync = function (t, e, n, r, a) {
              return (0, i.default)(o.ALGORITHM.findShortestPath).apply(void 0, [t, e, n, r, a]);
            }),
            (e.floydWarshallAsync = function (t, e) {
              return (0, i.default)(o.ALGORITHM.floydWarshall).apply(void 0, [t, e]);
            }),
            (e.labelPropagationAsync = function (t, e, n, r) {
              return (
                void 0 === r && (r = 1e3), (0, i.default)(o.ALGORITHM.labelPropagation)(t, e, n, r)
              );
            }),
            (e.louvainAsync = function (t, e, n, r) {
              return (0, i.default)(o.ALGORITHM.louvain)(t, e, n, r);
            }),
            (e.minimumSpanningTreeAsync = function (t, e, n) {
              return (0, i.default)(o.ALGORITHM.minimumSpanningTree).apply(void 0, [t, e, n]);
            }),
            (e.pageRankAsync = function (t, e, n) {
              return (0, i.default)(o.ALGORITHM.pageRank).apply(void 0, [t, e, n]);
            }),
            (e.getNeighborsAsync = function (t, e, n) {
              return (0, i.default)(o.ALGORITHM.getNeighbors).apply(void 0, [t, e, n]);
            }),
            (e.GADDIAsync = function (t, e, n, r, a, s, u) {
              return (
                void 0 === n && (n = !1),
                void 0 === s && (s = 'cluster'),
                void 0 === u && (u = 'cluster'),
                (0, i.default)(o.ALGORITHM.GADDI).apply(void 0, [t, e, n, r, a, s, u])
              );
            });
        },
        2067: (t, e, n) => {
          'use strict';
          function r(t) {
            return (
              (r =
                'function' == typeof Symbol && 'symbol' == typeof Symbol.iterator
                  ? function (t) {
                      return typeof t;
                    }
                  : function (t) {
                      return t &&
                        'function' == typeof Symbol &&
                        t.constructor === Symbol &&
                        t !== Symbol.prototype
                        ? 'symbol'
                        : typeof t;
                    }),
              r(t)
            );
          }
          Object.defineProperty(e, '__esModule', { value: !0 }), (e.default = void 0);
          var i = (function (t) {
              if (t && t.__esModule) return t;
              if (null === t || ('object' !== r(t) && 'function' != typeof t))
                return { default: t };
              var e = a();
              if (e && e.has(t)) return e.get(t);
              var n = {},
                i = Object.defineProperty && Object.getOwnPropertyDescriptor;
              for (var o in t)
                if (Object.prototype.hasOwnProperty.call(t, o)) {
                  var s = i ? Object.getOwnPropertyDescriptor(t, o) : null;
                  s && (s.get || s.set) ? Object.defineProperty(n, o, s) : (n[o] = t[o]);
                }
              return (n.default = t), e && e.set(t, n), n;
            })(n(1656)),
            o = n(6044);
          function a() {
            if ('function' != typeof WeakMap) return null;
            var t = new WeakMap();
            return (
              (a = function () {
                return t;
              }),
              t
            );
          }
          var s = 'undefined' != typeof self ? self : {};
          (s.onmessage = function (t) {
            var e = t.data,
              n = e._algorithmType,
              r = e.data;
            if (n)
              if ('function' != typeof i[n]) s.postMessage({ _algorithmType: o.MESSAGE.FAILURE });
              else {
                var a = i[n].apply(i, r);
                s.postMessage({ _algorithmType: o.MESSAGE.SUCCESS, data: a });
              }
          }),
            (e.default = null);
        },
        494: (t, e, n) => {
          'use strict';
          n.d(e, { Z: () => i });
          var r = (function () {
            function t() {
              this._events = {};
            }
            return (
              (t.prototype.on = function (t, e, n) {
                return (
                  this._events[t] || (this._events[t] = []),
                  this._events[t].push({ callback: e, once: !!n }),
                  this
                );
              }),
              (t.prototype.once = function (t, e) {
                return this.on(t, e, !0), this;
              }),
              (t.prototype.emit = function (t) {
                for (var e = this, n = [], r = 1; r < arguments.length; r++)
                  n[r - 1] = arguments[r];
                var i = this._events[t] || [],
                  o = this._events['*'] || [],
                  a = function (r) {
                    for (var i = r.length, o = 0; o < i; o++)
                      if (r[o]) {
                        var a = r[o],
                          s = a.callback;
                        a.once && (r.splice(o, 1), 0 === r.length && delete e._events[t], i--, o--),
                          s.apply(e, n);
                      }
                  };
                a(i), a(o);
              }),
              (t.prototype.off = function (t, e) {
                if (t)
                  if (e) {
                    for (var n = this._events[t] || [], r = n.length, i = 0; i < r; i++)
                      n[i].callback === e && (n.splice(i, 1), r--, i--);
                    0 === n.length && delete this._events[t];
                  } else delete this._events[t];
                else this._events = {};
                return this;
              }),
              (t.prototype.getEvents = function () {
                return this._events;
              }),
              t
            );
          })();
          const i = r;
        },
        844: (t, e, n) => {
          'use strict';
          n.d(e, {
            AbstractCanvas: () => dn,
            AbstractGroup: () => gn,
            AbstractShape: () => vn,
            Event: () => j,
            PathUtil: () => r,
            assembleFont: () => Cn,
            getBBoxMethod: () => bn,
            getOffScreenContext: () => kn,
            getTextHeight: () => An,
            invert: () => Z,
            isAllowCapture: () => W,
            multiplyVec2: () => K,
          });
          var r = {};
          n.r(r),
            n.d(r, {
              catmullRomToBezier: () => l,
              fillPath: () => N,
              fillPathByDiff: () => D,
              formatPath: () => B,
              intersection: () => I,
              parsePathArray: () => m,
              parsePathString: () => c,
              pathToAbsolute: () => f,
              pathToCurve: () => v,
              rectPath: () => S,
            });
          var i = {};
          n.r(i),
            n.d(i, {
              easeBack: () => re,
              easeBackIn: () => ee,
              easeBackInOut: () => re,
              easeBackOut: () => ne,
              easeBounce: () => Qt,
              easeBounceIn: () => $t,
              easeBounceInOut: () => Jt,
              easeBounceOut: () => Qt,
              easeCircle: () => Kt,
              easeCircleIn: () => Ht,
              easeCircleInOut: () => Kt,
              easeCircleOut: () => qt,
              easeCubic: () => Dt,
              easeCubicIn: () => Pt,
              easeCubicInOut: () => Dt,
              easeCubicOut: () => Ot,
              easeElastic: () => ae,
              easeElasticIn: () => oe,
              easeElasticInOut: () => se,
              easeElasticOut: () => ae,
              easeExp: () => Xt,
              easeExpIn: () => Wt,
              easeExpInOut: () => Xt,
              easeExpOut: () => Yt,
              easeLinear: () => Ct,
              easePoly: () => Bt,
              easePolyIn: () => Lt,
              easePolyInOut: () => Bt,
              easePolyOut: () => Rt,
              easeQuad: () => Nt,
              easeQuadIn: () => It,
              easeQuadInOut: () => Nt,
              easeQuadOut: () => Tt,
              easeSin: () => Ut,
              easeSinIn: () => zt,
              easeSinInOut: () => Ut,
              easeSinOut: () => Ft,
            });
          var o = n(9242),
            a = '\t\n\v\f\r   ᠎             　\u2028\u2029',
            s = new RegExp(
              '([a-z])[' + a + ',]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?[' + a + ']*,?[' + a + ']*)+)',
              'ig',
            ),
            u = new RegExp('(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)[' + a + ']*,?[' + a + ']*', 'ig'),
            c = function (t) {
              if (!t) return null;
              if ((0, o.isArray)(t)) return t;
              var e = {
                  a: 7,
                  c: 6,
                  o: 2,
                  h: 1,
                  l: 2,
                  m: 2,
                  r: 4,
                  q: 4,
                  s: 4,
                  t: 2,
                  v: 1,
                  u: 3,
                  z: 0,
                },
                n = [];
              return (
                String(t).replace(s, function (r, i, o) {
                  var a = [],
                    s = i.toLowerCase();
                  if (
                    (o.replace(u, function (t, e) {
                      e && a.push(+e);
                    }),
                    'm' === s &&
                      a.length > 2 &&
                      (n.push([i].concat(a.splice(0, 2))), (s = 'l'), (i = 'm' === i ? 'l' : 'L')),
                    'o' === s && 1 === a.length && n.push([i, a[0]]),
                    'r' === s)
                  )
                    n.push([i].concat(a));
                  else for (; a.length >= e[s] && (n.push([i].concat(a.splice(0, e[s]))), e[s]); );
                  return t;
                }),
                n
              );
            },
            l = function (t, e) {
              for (var n = [], r = 0, i = t.length; i - 2 * !e > r; r += 2) {
                var o = [
                  { x: +t[r - 2], y: +t[r - 1] },
                  { x: +t[r], y: +t[r + 1] },
                  { x: +t[r + 2], y: +t[r + 3] },
                  { x: +t[r + 4], y: +t[r + 5] },
                ];
                e
                  ? r
                    ? i - 4 === r
                      ? (o[3] = { x: +t[0], y: +t[1] })
                      : i - 2 === r &&
                        ((o[2] = { x: +t[0], y: +t[1] }), (o[3] = { x: +t[2], y: +t[3] }))
                    : (o[0] = { x: +t[i - 2], y: +t[i - 1] })
                  : i - 4 === r
                  ? (o[3] = o[2])
                  : r || (o[0] = { x: +t[r], y: +t[r + 1] }),
                  n.push([
                    'C',
                    (-o[0].x + 6 * o[1].x + o[2].x) / 6,
                    (-o[0].y + 6 * o[1].y + o[2].y) / 6,
                    (o[1].x + 6 * o[2].x - o[3].x) / 6,
                    (o[1].y + 6 * o[2].y - o[3].y) / 6,
                    o[2].x,
                    o[2].y,
                  ]);
              }
              return n;
            },
            h = function (t, e, n, r, i) {
              var o = [];
              if (
                (null === i && null === r && (r = n),
                (t = +t),
                (e = +e),
                (n = +n),
                (r = +r),
                null !== i)
              ) {
                var a = Math.PI / 180,
                  s = t + n * Math.cos(-r * a),
                  u = t + n * Math.cos(-i * a);
                o = [
                  ['M', s, e + n * Math.sin(-r * a)],
                  ['A', n, n, 0, +(i - r > 180), 0, u, e + n * Math.sin(-i * a)],
                ];
              } else
                o = [
                  ['M', t, e],
                  ['m', 0, -r],
                  ['a', n, r, 0, 1, 1, 0, 2 * r],
                  ['a', n, r, 0, 1, 1, 0, -2 * r],
                  ['z'],
                ];
              return o;
            },
            f = function (t) {
              if (!(t = c(t)) || !t.length) return [['M', 0, 0]];
              var e,
                n,
                r = [],
                i = 0,
                o = 0,
                a = 0,
                s = 0,
                u = 0;
              'M' === t[0][0] &&
                ((a = i = +t[0][1]), (s = o = +t[0][2]), u++, (r[0] = ['M', i, o]));
              for (
                var f =
                    3 === t.length &&
                    'M' === t[0][0] &&
                    'R' === t[1][0].toUpperCase() &&
                    'Z' === t[2][0].toUpperCase(),
                  d = void 0,
                  p = void 0,
                  g = u,
                  v = t.length;
                g < v;
                g++
              ) {
                if ((r.push((d = [])), (e = (p = t[g])[0]) !== e.toUpperCase()))
                  switch (((d[0] = e.toUpperCase()), d[0])) {
                    case 'A':
                      (d[1] = p[1]),
                        (d[2] = p[2]),
                        (d[3] = p[3]),
                        (d[4] = p[4]),
                        (d[5] = p[5]),
                        (d[6] = +p[6] + i),
                        (d[7] = +p[7] + o);
                      break;
                    case 'V':
                      d[1] = +p[1] + o;
                      break;
                    case 'H':
                      d[1] = +p[1] + i;
                      break;
                    case 'R':
                      for (var y = 2, m = (n = [i, o].concat(p.slice(1))).length; y < m; y++)
                        (n[y] = +n[y] + i), (n[++y] = +n[y] + o);
                      r.pop(), (r = r.concat(l(n, f)));
                      break;
                    case 'O':
                      r.pop(), (n = h(i, o, p[1], p[2])).push(n[0]), (r = r.concat(n));
                      break;
                    case 'U':
                      r.pop(),
                        (r = r.concat(h(i, o, p[1], p[2], p[3]))),
                        (d = ['U'].concat(r[r.length - 1].slice(-2)));
                      break;
                    case 'M':
                      (a = +p[1] + i), (s = +p[2] + o);
                      break;
                    default:
                      for (y = 1, m = p.length; y < m; y++) d[y] = +p[y] + (y % 2 ? i : o);
                  }
                else if ('R' === e)
                  (n = [i, o].concat(p.slice(1))),
                    r.pop(),
                    (r = r.concat(l(n, f))),
                    (d = ['R'].concat(p.slice(-2)));
                else if ('O' === e)
                  r.pop(), (n = h(i, o, p[1], p[2])).push(n[0]), (r = r.concat(n));
                else if ('U' === e)
                  r.pop(),
                    (r = r.concat(h(i, o, p[1], p[2], p[3]))),
                    (d = ['U'].concat(r[r.length - 1].slice(-2)));
                else for (var b = 0, x = p.length; b < x; b++) d[b] = p[b];
                if ('O' !== (e = e.toUpperCase()))
                  switch (d[0]) {
                    case 'Z':
                      (i = +a), (o = +s);
                      break;
                    case 'H':
                      i = d[1];
                      break;
                    case 'V':
                      o = d[1];
                      break;
                    case 'M':
                      (a = d[d.length - 2]), (s = d[d.length - 1]);
                      break;
                    default:
                      (i = d[d.length - 2]), (o = d[d.length - 1]);
                  }
              }
              return r;
            },
            d = function (t, e, n, r) {
              return [t, e, n, r, n, r];
            },
            p = function (t, e, n, r, i, o) {
              var a = 1 / 3,
                s = 2 / 3;
              return [a * t + s * n, a * e + s * r, a * i + s * n, a * o + s * r, i, o];
            },
            g = function (t, e, n, r, i, o, a, s, u, c) {
              n === r && (n += 1);
              var l,
                h,
                f,
                d,
                p,
                v = (120 * Math.PI) / 180,
                y = (Math.PI / 180) * (+i || 0),
                m = [],
                b = function (t, e, n) {
                  return {
                    x: t * Math.cos(n) - e * Math.sin(n),
                    y: t * Math.sin(n) + e * Math.cos(n),
                  };
                };
              if (c) (h = c[0]), (f = c[1]), (d = c[2]), (p = c[3]);
              else {
                (t = (l = b(t, e, -y)).x),
                  (e = l.y),
                  (s = (l = b(s, u, -y)).x),
                  (u = l.y),
                  t === s && e === u && ((s += 1), (u += 1));
                var x = (t - s) / 2,
                  _ = (e - u) / 2,
                  w = (x * x) / (n * n) + (_ * _) / (r * r);
                w > 1 && ((n *= w = Math.sqrt(w)), (r *= w));
                var E = n * n,
                  S = r * r,
                  M =
                    (o === a ? -1 : 1) *
                    Math.sqrt(Math.abs((E * S - E * _ * _ - S * x * x) / (E * _ * _ + S * x * x)));
                (d = (M * n * _) / r + (t + s) / 2),
                  (p = (M * -r * x) / n + (e + u) / 2),
                  (h = Math.asin(((e - p) / r).toFixed(9))),
                  (f = Math.asin(((u - p) / r).toFixed(9))),
                  (h = t < d ? Math.PI - h : h),
                  (f = s < d ? Math.PI - f : f),
                  h < 0 && (h = 2 * Math.PI + h),
                  f < 0 && (f = 2 * Math.PI + f),
                  a && h > f && (h -= 2 * Math.PI),
                  !a && f > h && (f -= 2 * Math.PI);
              }
              var k = f - h;
              if (Math.abs(k) > v) {
                var A = f,
                  C = s,
                  I = u;
                (f = h + v * (a && f > h ? 1 : -1)),
                  (s = d + n * Math.cos(f)),
                  (u = p + r * Math.sin(f)),
                  (m = g(s, u, n, r, i, 0, a, C, I, [f, A, d, p]));
              }
              k = f - h;
              var T = Math.cos(h),
                N = Math.sin(h),
                P = Math.cos(f),
                O = Math.sin(f),
                D = Math.tan(k / 4),
                L = (4 / 3) * n * D,
                R = (4 / 3) * r * D,
                B = [t, e],
                j = [t + L * N, e - R * T],
                G = [s + L * O, u - R * P],
                z = [s, u];
              if (((j[0] = 2 * B[0] - j[0]), (j[1] = 2 * B[1] - j[1]), c))
                return [j, G, z].concat(m);
              for (
                var F = [], U = 0, V = (m = [j, G, z].concat(m).join().split(',')).length;
                U < V;
                U++
              )
                F[U] = U % 2 ? b(m[U - 1], m[U], y).y : b(m[U], m[U + 1], y).x;
              return F;
            },
            v = function (t, e) {
              var n,
                r = f(t),
                i = e && f(e),
                o = { x: 0, y: 0, bx: 0, by: 0, X: 0, Y: 0, qx: null, qy: null },
                a = { x: 0, y: 0, bx: 0, by: 0, X: 0, Y: 0, qx: null, qy: null },
                s = [],
                u = [],
                c = '',
                l = '',
                h = function (t, e, n) {
                  var r, i;
                  if (!t) return ['C', e.x, e.y, e.x, e.y, e.x, e.y];
                  switch ((!(t[0] in { T: 1, Q: 1 }) && (e.qx = e.qy = null), t[0])) {
                    case 'M':
                      (e.X = t[1]), (e.Y = t[2]);
                      break;
                    case 'A':
                      t = ['C'].concat(g.apply(0, [e.x, e.y].concat(t.slice(1))));
                      break;
                    case 'S':
                      'C' === n || 'S' === n
                        ? ((r = 2 * e.x - e.bx), (i = 2 * e.y - e.by))
                        : ((r = e.x), (i = e.y)),
                        (t = ['C', r, i].concat(t.slice(1)));
                      break;
                    case 'T':
                      'Q' === n || 'T' === n
                        ? ((e.qx = 2 * e.x - e.qx), (e.qy = 2 * e.y - e.qy))
                        : ((e.qx = e.x), (e.qy = e.y)),
                        (t = ['C'].concat(p(e.x, e.y, e.qx, e.qy, t[1], t[2])));
                      break;
                    case 'Q':
                      (e.qx = t[1]),
                        (e.qy = t[2]),
                        (t = ['C'].concat(p(e.x, e.y, t[1], t[2], t[3], t[4])));
                      break;
                    case 'L':
                      t = ['C'].concat(d(e.x, e.y, t[1], t[2]));
                      break;
                    case 'H':
                      t = ['C'].concat(d(e.x, e.y, t[1], e.y));
                      break;
                    case 'V':
                      t = ['C'].concat(d(e.x, e.y, e.x, t[1]));
                      break;
                    case 'Z':
                      t = ['C'].concat(d(e.x, e.y, e.X, e.Y));
                  }
                  return t;
                },
                v = function (t, e) {
                  if (t[e].length > 7) {
                    t[e].shift();
                    for (var o = t[e]; o.length; )
                      (s[e] = 'A'),
                        i && (u[e] = 'A'),
                        t.splice(e++, 0, ['C'].concat(o.splice(0, 6)));
                    t.splice(e, 1), (n = Math.max(r.length, (i && i.length) || 0));
                  }
                },
                y = function (t, e, o, a, s) {
                  t &&
                    e &&
                    'M' === t[s][0] &&
                    'M' !== e[s][0] &&
                    (e.splice(s, 0, ['M', a.x, a.y]),
                    (o.bx = 0),
                    (o.by = 0),
                    (o.x = t[s][1]),
                    (o.y = t[s][2]),
                    (n = Math.max(r.length, (i && i.length) || 0)));
                };
              n = Math.max(r.length, (i && i.length) || 0);
              for (var m = 0; m < n; m++) {
                r[m] && (c = r[m][0]),
                  'C' !== c && ((s[m] = c), m && (l = s[m - 1])),
                  (r[m] = h(r[m], o, l)),
                  'A' !== s[m] && 'C' === c && (s[m] = 'C'),
                  v(r, m),
                  i &&
                    (i[m] && (c = i[m][0]),
                    'C' !== c && ((u[m] = c), m && (l = u[m - 1])),
                    (i[m] = h(i[m], a, l)),
                    'A' !== u[m] && 'C' === c && (u[m] = 'C'),
                    v(i, m)),
                  y(r, i, o, a, m),
                  y(i, r, a, o, m);
                var b = r[m],
                  x = i && i[m],
                  _ = b.length,
                  w = i && x.length;
                (o.x = b[_ - 2]),
                  (o.y = b[_ - 1]),
                  (o.bx = parseFloat(b[_ - 4]) || o.x),
                  (o.by = parseFloat(b[_ - 3]) || o.y),
                  (a.bx = i && (parseFloat(x[w - 4]) || a.x)),
                  (a.by = i && (parseFloat(x[w - 3]) || a.y)),
                  (a.x = i && x[w - 2]),
                  (a.y = i && x[w - 1]);
              }
              return i ? [r, i] : r;
            },
            y = /,?([a-z]),?/gi,
            m = function (t) {
              return t.join(',').replace(y, '$1');
            },
            b = function (t, e, n, r, i) {
              return (
                t * (t * (-3 * e + 9 * n - 9 * r + 3 * i) + 6 * e - 12 * n + 6 * r) - 3 * e + 3 * n
              );
            },
            x = function (t, e, n, r, i, o, a, s, u) {
              null === u && (u = 1);
              for (
                var c = (u = u > 1 ? 1 : u < 0 ? 0 : u) / 2,
                  l = [
                    -0.1252, 0.1252, -0.3678, 0.3678, -0.5873, 0.5873, -0.7699, 0.7699, -0.9041,
                    0.9041, -0.9816, 0.9816,
                  ],
                  h = [
                    0.2491, 0.2491, 0.2335, 0.2335, 0.2032, 0.2032, 0.1601, 0.1601, 0.1069, 0.1069,
                    0.0472, 0.0472,
                  ],
                  f = 0,
                  d = 0;
                d < 12;
                d++
              ) {
                var p = c * l[d] + c,
                  g = b(p, t, n, i, a),
                  v = b(p, e, r, o, s),
                  y = g * g + v * v;
                f += h[d] * Math.sqrt(y);
              }
              return c * f;
            },
            _ = function (t, e, n, r, i, o, a, s) {
              for (var u, c, l, h, f = [], d = [[], []], p = 0; p < 2; ++p)
                if (
                  (0 === p
                    ? ((c = 6 * t - 12 * n + 6 * i),
                      (u = -3 * t + 9 * n - 9 * i + 3 * a),
                      (l = 3 * n - 3 * t))
                    : ((c = 6 * e - 12 * r + 6 * o),
                      (u = -3 * e + 9 * r - 9 * o + 3 * s),
                      (l = 3 * r - 3 * e)),
                  Math.abs(u) < 1e-12)
                ) {
                  if (Math.abs(c) < 1e-12) continue;
                  (h = -l / c) > 0 && h < 1 && f.push(h);
                } else {
                  var g = c * c - 4 * l * u,
                    v = Math.sqrt(g);
                  if (!(g < 0)) {
                    var y = (-c + v) / (2 * u);
                    y > 0 && y < 1 && f.push(y);
                    var m = (-c - v) / (2 * u);
                    m > 0 && m < 1 && f.push(m);
                  }
                }
              for (var b, x = f.length, _ = x; x--; )
                (b = 1 - (h = f[x])),
                  (d[0][x] = b * b * b * t + 3 * b * b * h * n + 3 * b * h * h * i + h * h * h * a),
                  (d[1][x] = b * b * b * e + 3 * b * b * h * r + 3 * b * h * h * o + h * h * h * s);
              return (
                (d[0][_] = t),
                (d[1][_] = e),
                (d[0][_ + 1] = a),
                (d[1][_ + 1] = s),
                (d[0].length = d[1].length = _ + 2),
                {
                  min: { x: Math.min.apply(0, d[0]), y: Math.min.apply(0, d[1]) },
                  max: { x: Math.max.apply(0, d[0]), y: Math.max.apply(0, d[1]) },
                }
              );
            },
            w = function (t, e, n, r, i, o, a, s) {
              if (
                !(
                  Math.max(t, n) < Math.min(i, a) ||
                  Math.min(t, n) > Math.max(i, a) ||
                  Math.max(e, r) < Math.min(o, s) ||
                  Math.min(e, r) > Math.max(o, s)
                )
              ) {
                var u = (t - n) * (o - s) - (e - r) * (i - a);
                if (u) {
                  var c = ((t * r - e * n) * (i - a) - (t - n) * (i * s - o * a)) / u,
                    l = ((t * r - e * n) * (o - s) - (e - r) * (i * s - o * a)) / u,
                    h = +c.toFixed(2),
                    f = +l.toFixed(2);
                  if (
                    !(
                      h < +Math.min(t, n).toFixed(2) ||
                      h > +Math.max(t, n).toFixed(2) ||
                      h < +Math.min(i, a).toFixed(2) ||
                      h > +Math.max(i, a).toFixed(2) ||
                      f < +Math.min(e, r).toFixed(2) ||
                      f > +Math.max(e, r).toFixed(2) ||
                      f < +Math.min(o, s).toFixed(2) ||
                      f > +Math.max(o, s).toFixed(2)
                    )
                  )
                    return { x: c, y: l };
                }
              }
            },
            E = function (t, e, n) {
              return e >= t.x && e <= t.x + t.width && n >= t.y && n <= t.y + t.height;
            },
            S = function (t, e, n, r, i) {
              if (i)
                return [
                  ['M', +t + +i, e],
                  ['l', n - 2 * i, 0],
                  ['a', i, i, 0, 0, 1, i, i],
                  ['l', 0, r - 2 * i],
                  ['a', i, i, 0, 0, 1, -i, i],
                  ['l', 2 * i - n, 0],
                  ['a', i, i, 0, 0, 1, -i, -i],
                  ['l', 0, 2 * i - r],
                  ['a', i, i, 0, 0, 1, i, -i],
                  ['z'],
                ];
              var o = [['M', t, e], ['l', n, 0], ['l', 0, r], ['l', -n, 0], ['z']];
              return (o.parsePathArray = m), o;
            },
            M = function (t, e, n, r) {
              return (
                null === t && (t = e = n = r = 0),
                null === e && ((e = t.y), (n = t.width), (r = t.height), (t = t.x)),
                {
                  x: t,
                  y: e,
                  width: n,
                  w: n,
                  height: r,
                  h: r,
                  x2: t + n,
                  y2: e + r,
                  cx: t + n / 2,
                  cy: e + r / 2,
                  r1: Math.min(n, r) / 2,
                  r2: Math.max(n, r) / 2,
                  r0: Math.sqrt(n * n + r * r) / 2,
                  path: S(t, e, n, r),
                  vb: [t, e, n, r].join(' '),
                }
              );
            },
            k = function (t, e, n, r, i, a, s, u) {
              (0, o.isArray)(t) || (t = [t, e, n, r, i, a, s, u]);
              var c = _.apply(null, t);
              return M(c.min.x, c.min.y, c.max.x - c.min.x, c.max.y - c.min.y);
            },
            A = function (t, e, n, r, i, o, a, s, u) {
              var c = 1 - u,
                l = Math.pow(c, 3),
                h = Math.pow(c, 2),
                f = u * u,
                d = f * u,
                p = t + 2 * u * (n - t) + f * (i - 2 * n + t),
                g = e + 2 * u * (r - e) + f * (o - 2 * r + e),
                v = n + 2 * u * (i - n) + f * (a - 2 * i + n),
                y = r + 2 * u * (o - r) + f * (s - 2 * o + r);
              return {
                x: l * t + 3 * h * u * n + 3 * c * u * u * i + d * a,
                y: l * e + 3 * h * u * r + 3 * c * u * u * o + d * s,
                m: { x: p, y: g },
                n: { x: v, y },
                start: { x: c * t + u * n, y: c * e + u * r },
                end: { x: c * i + u * a, y: c * o + u * s },
                alpha: 90 - (180 * Math.atan2(p - v, g - y)) / Math.PI,
              };
            },
            C = function (t, e, n) {
              if (
                ((r = k(t)),
                (i = k(e)),
                (r = M(r)),
                (i = M(i)),
                !(
                  E(i, r.x, r.y) ||
                  E(i, r.x2, r.y) ||
                  E(i, r.x, r.y2) ||
                  E(i, r.x2, r.y2) ||
                  E(r, i.x, i.y) ||
                  E(r, i.x2, i.y) ||
                  E(r, i.x, i.y2) ||
                  E(r, i.x2, i.y2) ||
                  (((r.x < i.x2 && r.x > i.x) || (i.x < r.x2 && i.x > r.x)) &&
                    ((r.y < i.y2 && r.y > i.y) || (i.y < r.y2 && i.y > r.y)))
                ))
              )
                return n ? 0 : [];
              for (
                var r,
                  i,
                  o = ~~(x.apply(0, t) / 8),
                  a = ~~(x.apply(0, e) / 8),
                  s = [],
                  u = [],
                  c = {},
                  l = n ? 0 : [],
                  h = 0;
                h < o + 1;
                h++
              ) {
                var f = A.apply(0, t.concat(h / o));
                s.push({ x: f.x, y: f.y, t: h / o });
              }
              for (h = 0; h < a + 1; h++)
                (f = A.apply(0, e.concat(h / a))), u.push({ x: f.x, y: f.y, t: h / a });
              for (h = 0; h < o; h++)
                for (var d = 0; d < a; d++) {
                  var p = s[h],
                    g = s[h + 1],
                    v = u[d],
                    y = u[d + 1],
                    m = Math.abs(g.x - p.x) < 0.001 ? 'y' : 'x',
                    b = Math.abs(y.x - v.x) < 0.001 ? 'y' : 'x',
                    _ = w(p.x, p.y, g.x, g.y, v.x, v.y, y.x, y.y);
                  if (_) {
                    if (c[_.x.toFixed(4)] === _.y.toFixed(4)) continue;
                    c[_.x.toFixed(4)] = _.y.toFixed(4);
                    var S = p.t + Math.abs((_[m] - p[m]) / (g[m] - p[m])) * (g.t - p.t),
                      C = v.t + Math.abs((_[b] - v[b]) / (y[b] - v[b])) * (y.t - v.t);
                    S >= 0 &&
                      S <= 1 &&
                      C >= 0 &&
                      C <= 1 &&
                      (n ? (l += 1) : l.push({ x: _.x, y: _.y, t1: S, t2: C }));
                  }
                }
              return l;
            },
            I = function (t, e) {
              return (function (t, e, n) {
                var r, i, o, a, s, u, c, l, h, f;
                (t = v(t)), (e = v(e));
                for (var d = [], p = 0, g = t.length; p < g; p++) {
                  var y = t[p];
                  if ('M' === y[0]) (r = s = y[1]), (i = u = y[2]);
                  else {
                    'C' === y[0]
                      ? ((h = [r, i].concat(y.slice(1))), (r = h[6]), (i = h[7]))
                      : ((h = [r, i, r, i, s, u, s, u]), (r = s), (i = u));
                    for (var m = 0, b = e.length; m < b; m++) {
                      var x = e[m];
                      if ('M' === x[0]) (o = c = x[1]), (a = l = x[2]);
                      else {
                        'C' === x[0]
                          ? ((f = [o, a].concat(x.slice(1))), (o = f[6]), (a = f[7]))
                          : ((f = [o, a, o, a, c, l, c, l]), (o = c), (a = l));
                        for (var _ = C(h, f, n), w = 0, E = _.length; w < E; w++)
                          (_[w].segment1 = p),
                            (_[w].segment2 = m),
                            (_[w].bez1 = h),
                            (_[w].bez2 = f);
                        d = d.concat(_);
                      }
                    }
                  }
                }
                return d;
              })(t, e);
            };
          function T(t, e) {
            var n = [],
              r = [];
            return (
              t.length &&
                (function t(e, i) {
                  if (1 === e.length) n.push(e[0]), r.push(e[0]);
                  else {
                    for (var o = [], a = 0; a < e.length - 1; a++)
                      0 === a && n.push(e[0]),
                        a === e.length - 2 && r.push(e[a + 1]),
                        (o[a] = [
                          (1 - i) * e[a][0] + i * e[a + 1][0],
                          (1 - i) * e[a][1] + i * e[a + 1][1],
                        ]);
                    t(o, i);
                  }
                })(t, e),
              { left: n, right: r.reverse() }
            );
          }
          var N = function (t, e) {
              if (1 === t.length) return t;
              var n = t.length - 1,
                r = e.length - 1,
                i = n / r,
                o = [];
              if (1 === t.length && 'M' === t[0][0]) {
                for (var a = 0; a < r - n; a++) t.push(t[0]);
                return t;
              }
              for (a = 0; a < r; a++) {
                var s = Math.floor(i * a);
                o[s] = (o[s] || 0) + 1;
              }
              var u = o.reduce(function (e, r, i) {
                return i === n
                  ? e.concat(t[n])
                  : e.concat(
                      (function (t, e, n) {
                        if (1 === n) return [[].concat(t)];
                        var r = [];
                        if ('L' === e[0] || 'C' === e[0] || 'Q' === e[0])
                          r = r.concat(
                            (function (t, e, n) {
                              var r = [[t[1], t[2]]];
                              n = n || 2;
                              var i = [];
                              'A' === e[0]
                                ? (r.push(e[6]), r.push(e[7]))
                                : 'C' === e[0]
                                ? (r.push([e[1], e[2]]), r.push([e[3], e[4]]), r.push([e[5], e[6]]))
                                : 'S' === e[0] || 'Q' === e[0]
                                ? (r.push([e[1], e[2]]), r.push([e[3], e[4]]))
                                : r.push([e[1], e[2]]);
                              for (var o = r, a = 1 / n, s = 0; s < n - 1; s++) {
                                var u = T(o, a / (1 - a * s));
                                i.push(u.left), (o = u.right);
                              }
                              return (
                                i.push(o),
                                i.map(function (t) {
                                  var e = [];
                                  return (
                                    4 === t.length && (e.push('C'), (e = e.concat(t[2]))),
                                    t.length >= 3 &&
                                      (3 === t.length && e.push('Q'), (e = e.concat(t[1]))),
                                    2 === t.length && e.push('L'),
                                    e.concat(t[t.length - 1])
                                  );
                                })
                              );
                            })(t, e, n),
                          );
                        else {
                          var i = [].concat(t);
                          'M' === i[0] && (i[0] = 'L');
                          for (var o = 0; o <= n - 1; o++) r.push(i);
                        }
                        return r;
                      })(t[i], t[i + 1], r),
                    );
              }, []);
              return u.unshift(t[0]), ('Z' !== e[r] && 'z' !== e[r]) || u.push('Z'), u;
            },
            P = function (t, e) {
              if (t.length !== e.length) return !1;
              var n = !0;
              return (
                (0, o.each)(t, function (t, r) {
                  if (t !== e[r]) return (n = !1), !1;
                }),
                n
              );
            };
          function O(t, e, n) {
            var r = null,
              i = n;
            return (
              e < i && ((i = e), (r = 'add')), t < i && ((i = t), (r = 'del')), { type: r, min: i }
            );
          }
          var D = function (t, e) {
            var n = (function (t, e) {
                var n,
                  r,
                  i = t.length,
                  o = e.length,
                  a = 0;
                if (0 === i || 0 === o) return null;
                for (var s = [], u = 0; u <= i; u++) (s[u] = []), (s[u][0] = { min: u });
                for (var c = 0; c <= o; c++) s[0][c] = { min: c };
                for (u = 1; u <= i; u++)
                  for (n = t[u - 1], c = 1; c <= o; c++) {
                    (r = e[c - 1]), (a = P(n, r) ? 0 : 1);
                    var l = s[u - 1][c].min + 1,
                      h = s[u][c - 1].min + 1,
                      f = s[u - 1][c - 1].min + a;
                    s[u][c] = O(l, h, f);
                  }
                return s;
              })(t, e),
              r = t.length,
              i = e.length,
              o = [],
              a = 1,
              s = 1;
            if (n[r][i].min !== r) {
              for (var u = 1; u <= r; u++) {
                var c = n[u][u].min;
                s = u;
                for (var l = a; l <= i; l++) n[u][l].min < c && ((c = n[u][l].min), (s = l));
                (a = s), n[u][a].type && o.push({ index: u - 1, type: n[u][a].type });
              }
              for (u = o.length - 1; u >= 0; u--)
                (a = o[u].index),
                  'add' === o[u].type ? t.splice(a, 0, [].concat(t[a])) : t.splice(a, 1);
            }
            var h = i - (r = t.length);
            if (r < i)
              for (u = 0; u < h; u++)
                'z' === t[r - 1][0] || 'Z' === t[r - 1][0]
                  ? t.splice(r - 2, 0, t[r - 2])
                  : t.push(t[r - 1]),
                  (r += 1);
            return t;
          };
          function L(t, e, n) {
            for (var r, i = [].concat(t), o = 1 / (n + 1), a = R(e)[0], s = 1; s <= n; s++)
              (o *= s),
                0 === (r = Math.floor(t.length * o))
                  ? i.unshift([a[0] * o + t[r][0] * (1 - o), a[1] * o + t[r][1] * (1 - o)])
                  : i.splice(r, 0, [a[0] * o + t[r][0] * (1 - o), a[1] * o + t[r][1] * (1 - o)]);
            return i;
          }
          function R(t) {
            var e = [];
            switch (t[0]) {
              case 'M':
              case 'L':
              case 'T':
                e.push([t[1], t[2]]);
                break;
              case 'A':
                e.push([t[6], t[7]]);
                break;
              case 'Q':
              case 'S':
                e.push([t[3], t[4]]), e.push([t[1], t[2]]);
                break;
              case 'C':
                e.push([t[5], t[6]]), e.push([t[1], t[2]]), e.push([t[3], t[4]]);
                break;
              case 'H':
              case 'V':
                e.push([t[1], t[1]]);
            }
            return e;
          }
          var B = function (t, e) {
            if (t.length <= 1) return t;
            for (var n, r = 0; r < e.length; r++)
              if (t[r][0] !== e[r][0])
                switch (((n = R(t[r])), e[r][0])) {
                  case 'M':
                    t[r] = ['M'].concat(n[0]);
                    break;
                  case 'L':
                    t[r] = ['L'].concat(n[0]);
                    break;
                  case 'A':
                    (t[r] = [].concat(e[r])), (t[r][6] = n[0][0]), (t[r][7] = n[0][1]);
                    break;
                  case 'Q':
                    if (n.length < 2) {
                      if (!(r > 0)) {
                        t[r] = e[r];
                        break;
                      }
                      n = L(n, t[r - 1], 1);
                    }
                    t[r] = ['Q'].concat(
                      n.reduce(function (t, e) {
                        return t.concat(e);
                      }, []),
                    );
                    break;
                  case 'T':
                    t[r] = ['T'].concat(n[0]);
                    break;
                  case 'C':
                    if (n.length < 3) {
                      if (!(r > 0)) {
                        t[r] = e[r];
                        break;
                      }
                      n = L(n, t[r - 1], 2);
                    }
                    t[r] = ['C'].concat(
                      n.reduce(function (t, e) {
                        return t.concat(e);
                      }, []),
                    );
                    break;
                  case 'S':
                    if (n.length < 2) {
                      if (!(r > 0)) {
                        t[r] = e[r];
                        break;
                      }
                      n = L(n, t[r - 1], 1);
                    }
                    t[r] = ['S'].concat(
                      n.reduce(function (t, e) {
                        return t.concat(e);
                      }, []),
                    );
                    break;
                  default:
                    t[r] = e[r];
                }
            return t;
          };
          const j = (function () {
            function t(t, e) {
              (this.bubbles = !0),
                (this.target = null),
                (this.currentTarget = null),
                (this.delegateTarget = null),
                (this.delegateObject = null),
                (this.defaultPrevented = !1),
                (this.propagationStopped = !1),
                (this.shape = null),
                (this.fromShape = null),
                (this.toShape = null),
                (this.propagationPath = []),
                (this.type = t),
                (this.name = t),
                (this.originalEvent = e),
                (this.timeStamp = e.timeStamp);
            }
            return (
              (t.prototype.preventDefault = function () {
                (this.defaultPrevented = !0),
                  this.originalEvent.preventDefault && this.originalEvent.preventDefault();
              }),
              (t.prototype.stopPropagation = function () {
                this.propagationStopped = !0;
              }),
              (t.prototype.toString = function () {
                return '[Event (type=' + this.type + ')]';
              }),
              (t.prototype.save = function () {}),
              (t.prototype.restore = function () {}),
              t
            );
          })();
          var G = n(655),
            z = n(494);
          function F(t, e) {
            var n = t.indexOf(e);
            -1 !== n && t.splice(n, 1);
          }
          var U = 'undefined' != typeof window && void 0 !== window.document;
          function V(t, e) {
            if (t.isCanvas()) return !0;
            for (var n = e.getParent(), r = !1; n; ) {
              if (n === t) {
                r = !0;
                break;
              }
              n = n.getParent();
            }
            return r;
          }
          function W(t) {
            return t.cfg.visible && t.cfg.capture;
          }
          var Y = (function (t) {
            function e(e) {
              var n = t.call(this) || this;
              n.destroyed = !1;
              var r = n.getDefaultCfg();
              return (n.cfg = (0, o.mix)(r, e)), n;
            }
            return (
              (0, G.__extends)(e, t),
              (e.prototype.getDefaultCfg = function () {
                return {};
              }),
              (e.prototype.get = function (t) {
                return this.cfg[t];
              }),
              (e.prototype.set = function (t, e) {
                this.cfg[t] = e;
              }),
              (e.prototype.destroy = function () {
                (this.cfg = { destroyed: !0 }), this.off(), (this.destroyed = !0);
              }),
              e
            );
          })(z.Z);
          const X = Y;
          var H = n(3631);
          function q(t, e) {
            var n = [],
              r = t[0],
              i = t[1],
              o = t[2],
              a = t[3],
              s = t[4],
              u = t[5],
              c = t[6],
              l = t[7],
              h = t[8],
              f = e[0],
              d = e[1],
              p = e[2],
              g = e[3],
              v = e[4],
              y = e[5],
              m = e[6],
              b = e[7],
              x = e[8];
            return (
              (n[0] = f * r + d * a + p * c),
              (n[1] = f * i + d * s + p * l),
              (n[2] = f * o + d * u + p * h),
              (n[3] = g * r + v * a + y * c),
              (n[4] = g * i + v * s + y * l),
              (n[5] = g * o + v * u + y * h),
              (n[6] = m * r + b * a + x * c),
              (n[7] = m * i + b * s + x * l),
              (n[8] = m * o + b * u + x * h),
              n
            );
          }
          function K(t, e) {
            var n = [],
              r = e[0],
              i = e[1];
            return (n[0] = t[0] * r + t[3] * i + t[6]), (n[1] = t[1] * r + t[4] * i + t[7]), n;
          }
          function Z(t) {
            var e = [],
              n = t[0],
              r = t[1],
              i = t[2],
              o = t[3],
              a = t[4],
              s = t[5],
              u = t[6],
              c = t[7],
              l = t[8],
              h = l * a - s * c,
              f = -l * o + s * u,
              d = c * o - a * u,
              p = n * h + r * f + i * d;
            return p
              ? ((p = 1 / p),
                (e[0] = h * p),
                (e[1] = (-l * r + i * c) * p),
                (e[2] = (s * r - i * a) * p),
                (e[3] = f * p),
                (e[4] = (l * n - i * u) * p),
                (e[5] = (-s * n + i * o) * p),
                (e[6] = d * p),
                (e[7] = (-c * n + r * u) * p),
                (e[8] = (a * n - r * o) * p),
                e)
              : null;
          }
          var $ = n(1506).transform,
            Q = 'matrix',
            J = ['zIndex', 'capture', 'visible', 'type'],
            tt = ['repeat'];
          function et(t, e) {
            var n = {},
              r = e.attrs;
            for (var i in t) n[i] = r[i];
            return n;
          }
          function nt(t, e) {
            var n = {},
              r = e.attr();
            return (
              (0, o.each)(t, function (t, e) {
                -1 !== tt.indexOf(e) || (0, o.isEqual)(r[e], t) || (n[e] = t);
              }),
              n
            );
          }
          function rt(t, e) {
            if (e.onFrame) return t;
            var n = e.startTime,
              r = e.delay,
              i = e.duration,
              a = Object.prototype.hasOwnProperty;
            return (
              (0, o.each)(t, function (t) {
                n + r < t.startTime + t.delay + t.duration &&
                  i > t.delay &&
                  (0, o.each)(e.toAttrs, function (e, n) {
                    a.call(t.toAttrs, n) && (delete t.toAttrs[n], delete t.fromAttrs[n]);
                  });
              }),
              t
            );
          }
          var it = (function (t) {
            function e(e) {
              var n = t.call(this, e) || this;
              n.attrs = {};
              var r = n.getDefaultAttrs();
              return (0, o.mix)(r, e.attrs), (n.attrs = r), n.initAttrs(r), n.initAnimate(), n;
            }
            return (
              (0, G.__extends)(e, t),
              (e.prototype.getDefaultCfg = function () {
                return { visible: !0, capture: !0, zIndex: 0 };
              }),
              (e.prototype.getDefaultAttrs = function () {
                return { matrix: this.getDefaultMatrix(), opacity: 1 };
              }),
              (e.prototype.onCanvasChange = function (t) {}),
              (e.prototype.initAttrs = function (t) {}),
              (e.prototype.initAnimate = function () {
                this.set('animable', !0), this.set('animating', !1);
              }),
              (e.prototype.isGroup = function () {
                return !1;
              }),
              (e.prototype.getParent = function () {
                return this.get('parent');
              }),
              (e.prototype.getCanvas = function () {
                return this.get('canvas');
              }),
              (e.prototype.attr = function () {
                for (var t, e = [], n = 0; n < arguments.length; n++) e[n] = arguments[n];
                var r = e[0],
                  i = e[1];
                if (!r) return this.attrs;
                if ((0, o.isObject)(r)) {
                  for (var a in r) this.setAttr(a, r[a]);
                  return this.afterAttrsChange(r), this;
                }
                return 2 === e.length
                  ? (this.setAttr(r, i), this.afterAttrsChange((((t = {})[r] = i), t)), this)
                  : this.attrs[r];
              }),
              (e.prototype.isClipped = function (t, e) {
                var n = this.getClip();
                return n && !n.isHit(t, e);
              }),
              (e.prototype.setAttr = function (t, e) {
                var n = this.attrs[t];
                n !== e && ((this.attrs[t] = e), this.onAttrChange(t, e, n));
              }),
              (e.prototype.onAttrChange = function (t, e, n) {
                'matrix' === t && this.set('totalMatrix', null);
              }),
              (e.prototype.afterAttrsChange = function (t) {
                if (this.cfg.isClipShape) {
                  var e = this.cfg.applyTo;
                  e && e.onCanvasChange('clip');
                } else this.onCanvasChange('attr');
              }),
              (e.prototype.show = function () {
                return this.set('visible', !0), this.onCanvasChange('show'), this;
              }),
              (e.prototype.hide = function () {
                return this.set('visible', !1), this.onCanvasChange('hide'), this;
              }),
              (e.prototype.setZIndex = function (t) {
                this.set('zIndex', t);
                var e = this.getParent();
                return e && e.sort(), this;
              }),
              (e.prototype.toFront = function () {
                var t = this.getParent();
                if (t) {
                  var e = t.getChildren(),
                    n = (this.get('el'), e.indexOf(this));
                  e.splice(n, 1), e.push(this), this.onCanvasChange('zIndex');
                }
              }),
              (e.prototype.toBack = function () {
                var t = this.getParent();
                if (t) {
                  var e = t.getChildren(),
                    n = (this.get('el'), e.indexOf(this));
                  e.splice(n, 1), e.unshift(this), this.onCanvasChange('zIndex');
                }
              }),
              (e.prototype.remove = function (t) {
                void 0 === t && (t = !0);
                var e = this.getParent();
                e
                  ? (F(e.getChildren(), this), e.get('clearing') || this.onCanvasChange('remove'))
                  : this.onCanvasChange('remove'),
                  t && this.destroy();
              }),
              (e.prototype.resetMatrix = function () {
                this.attr(Q, this.getDefaultMatrix()), this.onCanvasChange('matrix');
              }),
              (e.prototype.getMatrix = function () {
                return this.attr(Q);
              }),
              (e.prototype.setMatrix = function (t) {
                this.attr(Q, t), this.onCanvasChange('matrix');
              }),
              (e.prototype.getTotalMatrix = function () {
                var t = this.cfg.totalMatrix;
                if (!t) {
                  var e = this.attr('matrix'),
                    n = this.cfg.parentMatrix;
                  (t = n && e ? q(n, e) : e || n), this.set('totalMatrix', t);
                }
                return t;
              }),
              (e.prototype.applyMatrix = function (t) {
                var e,
                  n = this.attr('matrix');
                (e = t && n ? q(t, n) : n || t),
                  this.set('totalMatrix', e),
                  this.set('parentMatrix', t);
              }),
              (e.prototype.getDefaultMatrix = function () {
                return null;
              }),
              (e.prototype.applyToMatrix = function (t) {
                var e = this.attr('matrix');
                return e ? K(e, t) : t;
              }),
              (e.prototype.invertFromMatrix = function (t) {
                var e = this.attr('matrix');
                if (e) {
                  var n = Z(e);
                  if (n) return K(n, t);
                }
                return t;
              }),
              (e.prototype.setClip = function (t) {
                var e = this.getCanvas(),
                  n = null;
                if (t) {
                  var r = this.getShapeBase()[(0, o.upperFirst)(t.type)];
                  r &&
                    (n = new r({
                      type: t.type,
                      isClipShape: !0,
                      applyTo: this,
                      attrs: t.attrs,
                      canvas: e,
                    }));
                }
                return this.set('clipShape', n), this.onCanvasChange('clip'), n;
              }),
              (e.prototype.getClip = function () {
                return this.cfg.clipShape || null;
              }),
              (e.prototype.clone = function () {
                var t = this,
                  e = this.attrs,
                  n = {};
                (0, o.each)(e, function (t, r) {
                  (0, o.isArray)(e[r])
                    ? (n[r] = (function (t) {
                        for (var e = [], n = 0; n < t.length; n++)
                          (0, o.isArray)(t[n]) ? e.push([].concat(t[n])) : e.push(t[n]);
                        return e;
                      })(e[r]))
                    : (n[r] = e[r]);
                });
                var r = new (0, this.constructor)({ attrs: n });
                return (
                  (0, o.each)(J, function (e) {
                    r.set(e, t.get(e));
                  }),
                  r
                );
              }),
              (e.prototype.destroy = function () {
                this.destroyed || ((this.attrs = {}), t.prototype.destroy.call(this));
              }),
              (e.prototype.isAnimatePaused = function () {
                return this.get('_pause').isPaused;
              }),
              (e.prototype.animate = function () {
                for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
                if (this.get('timeline') || this.get('canvas')) {
                  this.set('animating', !0);
                  var n = this.get('timeline');
                  n || ((n = this.get('canvas').get('timeline')), this.set('timeline', n));
                  var r = this.get('animations') || [];
                  n.timer || n.initTimer();
                  var i,
                    a,
                    s,
                    u,
                    c,
                    l = t[0],
                    h = t[1],
                    f = t[2],
                    d = void 0 === f ? 'easeLinear' : f,
                    p = t[3],
                    g = void 0 === p ? o.noop : p,
                    v = t[4],
                    y = void 0 === v ? 0 : v;
                  (0, o.isFunction)(l)
                    ? ((i = l), (l = {}))
                    : (0, o.isObject)(l) && l.onFrame && ((i = l.onFrame), (a = l.repeat)),
                    (0, o.isObject)(h)
                      ? ((h = (c = h).duration),
                        (d = c.easing || 'easeLinear'),
                        (y = c.delay || 0),
                        (a = c.repeat || a || !1),
                        (g = c.callback || o.noop),
                        (s = c.pauseCallback || o.noop),
                        (u = c.resumeCallback || o.noop))
                      : ((0, o.isNumber)(g) && ((y = g), (g = null)),
                        (0, o.isFunction)(d)
                          ? ((g = d), (d = 'easeLinear'))
                          : (d = d || 'easeLinear'));
                  var m = nt(l, this),
                    b = {
                      fromAttrs: et(m, this),
                      toAttrs: m,
                      duration: h,
                      easing: d,
                      repeat: a,
                      callback: g,
                      pauseCallback: s,
                      resumeCallback: u,
                      delay: y,
                      startTime: n.getTime(),
                      id: (0, o.uniqueId)(),
                      onFrame: i,
                      pathFormatted: !1,
                    };
                  r.length > 0 ? (r = rt(r, b)) : n.addAnimator(this),
                    r.push(b),
                    this.set('animations', r),
                    this.set('_pause', { isPaused: !1 });
                }
              }),
              (e.prototype.stopAnimate = function (t) {
                var e = this;
                void 0 === t && (t = !0);
                var n = this.get('animations');
                (0, o.each)(n, function (n) {
                  t && (n.onFrame ? e.attr(n.onFrame(1)) : e.attr(n.toAttrs)),
                    n.callback && n.callback();
                }),
                  this.set('animating', !1),
                  this.set('animations', []);
              }),
              (e.prototype.pauseAnimate = function () {
                var t = this.get('timeline'),
                  e = this.get('animations'),
                  n = t.getTime();
                return (
                  (0, o.each)(e, function (t) {
                    (t._paused = !0), (t._pauseTime = n), t.pauseCallback && t.pauseCallback();
                  }),
                  this.set('_pause', { isPaused: !0, pauseTime: n }),
                  this
                );
              }),
              (e.prototype.resumeAnimate = function () {
                var t = this.get('timeline').getTime(),
                  e = this.get('animations'),
                  n = this.get('_pause').pauseTime;
                return (
                  (0, o.each)(e, function (e) {
                    (e.startTime = e.startTime + (t - n)),
                      (e._paused = !1),
                      (e._pauseTime = null),
                      e.resumeCallback && e.resumeCallback();
                  }),
                  this.set('_pause', { isPaused: !1 }),
                  this.set('animations', e),
                  this
                );
              }),
              (e.prototype.emitDelegation = function (t, e) {
                var n,
                  r = this,
                  i = e.propagationPath;
                this.getEvents(),
                  'mouseenter' === t ? (n = e.fromShape) : 'mouseleave' === t && (n = e.toShape);
                for (
                  var a = function (t) {
                      var a = i[t],
                        u = a.get('name');
                      if (u) {
                        if ((a.isGroup() || (a.isCanvas && a.isCanvas())) && n && V(a, n))
                          return 'break';
                        (0, o.isArray)(u)
                          ? (0, o.each)(u, function (t) {
                              r.emitDelegateEvent(a, t, e);
                            })
                          : s.emitDelegateEvent(a, u, e);
                      }
                    },
                    s = this,
                    u = 0;
                  u < i.length && 'break' !== a(u);
                  u++
                );
              }),
              (e.prototype.emitDelegateEvent = function (t, e, n) {
                var r = this.getEvents(),
                  i = e + ':' + n.type;
                (r[i] || r['*']) &&
                  ((n.name = i),
                  (n.currentTarget = t),
                  (n.delegateTarget = this),
                  (n.delegateObject = t.get('delegateObject')),
                  this.emit(i, n));
              }),
              (e.prototype.translate = function (t, e) {
                void 0 === t && (t = 0), void 0 === e && (e = 0);
                var n = this.getMatrix(),
                  r = $(n, [['t', t, e]]);
                return this.setMatrix(r), this;
              }),
              (e.prototype.move = function (t, e) {
                var n = this.attr('x') || 0,
                  r = this.attr('y') || 0;
                return this.translate(t - n, e - r), this;
              }),
              (e.prototype.moveTo = function (t, e) {
                return this.move(t, e);
              }),
              (e.prototype.scale = function (t, e) {
                var n = this.getMatrix(),
                  r = $(n, [['s', t, e || t]]);
                return this.setMatrix(r), this;
              }),
              (e.prototype.rotate = function (t) {
                var e = this.getMatrix(),
                  n = $(e, [['r', t]]);
                return this.setMatrix(n), this;
              }),
              (e.prototype.rotateAtStart = function (t) {
                var e = this.attr(),
                  n = e.x,
                  r = e.y,
                  i = this.getMatrix(),
                  o = $(i, [
                    ['t', -n, -r],
                    ['r', t],
                    ['t', n, r],
                  ]);
                return this.setMatrix(o), this;
              }),
              (e.prototype.rotateAtPoint = function (t, e, n) {
                var r = this.getMatrix(),
                  i = $(r, [
                    ['t', -t, -e],
                    ['r', n],
                    ['t', t, e],
                  ]);
                return this.setMatrix(i), this;
              }),
              e
            );
          })(X);
          const ot = it;
          var at = {};
          function st(t, e) {
            if ((t.set('canvas', e), t.isGroup())) {
              var n = t.get('children');
              n.length &&
                n.forEach(function (t) {
                  st(t, e);
                });
            }
          }
          function ut(t, e) {
            if ((t.set('timeline', e), t.isGroup())) {
              var n = t.get('children');
              n.length &&
                n.forEach(function (t) {
                  ut(t, e);
                });
            }
          }
          var ct = (function (t) {
            function e() {
              return (null !== t && t.apply(this, arguments)) || this;
            }
            return (
              (0, G.__extends)(e, t),
              (e.prototype.isCanvas = function () {
                return !1;
              }),
              (e.prototype.getBBox = function () {
                var t = 1 / 0,
                  e = -1 / 0,
                  n = 1 / 0,
                  r = -1 / 0,
                  i = [],
                  a = [],
                  s = this.getChildren().filter(function (t) {
                    return (
                      t.get('visible') &&
                      (!t.isGroup() || (t.isGroup() && t.getChildren().length > 0))
                    );
                  });
                return (
                  s.length > 0
                    ? ((0, o.each)(s, function (t) {
                        var e = t.getBBox();
                        i.push(e.minX, e.maxX), a.push(e.minY, e.maxY);
                      }),
                      (t = (0, o.min)(i)),
                      (e = (0, o.max)(i)),
                      (n = (0, o.min)(a)),
                      (r = (0, o.max)(a)))
                    : ((t = 0), (e = 0), (n = 0), (r = 0)),
                  { x: t, y: n, minX: t, minY: n, maxX: e, maxY: r, width: e - t, height: r - n }
                );
              }),
              (e.prototype.getCanvasBBox = function () {
                var t = 1 / 0,
                  e = -1 / 0,
                  n = 1 / 0,
                  r = -1 / 0,
                  i = [],
                  a = [],
                  s = this.getChildren().filter(function (t) {
                    return (
                      t.get('visible') &&
                      (!t.isGroup() || (t.isGroup() && t.getChildren().length > 0))
                    );
                  });
                return (
                  s.length > 0
                    ? ((0, o.each)(s, function (t) {
                        var e = t.getCanvasBBox();
                        i.push(e.minX, e.maxX), a.push(e.minY, e.maxY);
                      }),
                      (t = (0, o.min)(i)),
                      (e = (0, o.max)(i)),
                      (n = (0, o.min)(a)),
                      (r = (0, o.max)(a)))
                    : ((t = 0), (e = 0), (n = 0), (r = 0)),
                  { x: t, y: n, minX: t, minY: n, maxX: e, maxY: r, width: e - t, height: r - n }
                );
              }),
              (e.prototype.getDefaultCfg = function () {
                var e = t.prototype.getDefaultCfg.call(this);
                return (e.children = []), e;
              }),
              (e.prototype.onAttrChange = function (e, n, r) {
                if ((t.prototype.onAttrChange.call(this, e, n, r), 'matrix' === e)) {
                  var i = this.getTotalMatrix();
                  this._applyChildrenMarix(i);
                }
              }),
              (e.prototype.applyMatrix = function (e) {
                var n = this.getTotalMatrix();
                t.prototype.applyMatrix.call(this, e);
                var r = this.getTotalMatrix();
                r !== n && this._applyChildrenMarix(r);
              }),
              (e.prototype._applyChildrenMarix = function (t) {
                var e = this.getChildren();
                (0, o.each)(e, function (e) {
                  e.applyMatrix(t);
                });
              }),
              (e.prototype.addShape = function () {
                for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
                var n = t[0],
                  r = t[1];
                (0, o.isObject)(n) ? (r = n) : (r.type = n);
                var i = at[r.type];
                i || ((i = (0, o.upperFirst)(r.type)), (at[r.type] = i));
                var a = this.getShapeBase(),
                  s = new a[i](r);
                return this.add(s), s;
              }),
              (e.prototype.addGroup = function () {
                for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
                var n,
                  r = t[0],
                  i = t[1];
                if ((0, o.isFunction)(r)) n = new r(i || { parent: this });
                else {
                  var a = r || {},
                    s = this.getGroupBase();
                  n = new s(a);
                }
                return this.add(n), n;
              }),
              (e.prototype.getCanvas = function () {
                return this.isCanvas() ? this : this.get('canvas');
              }),
              (e.prototype.getShape = function (t, e, n) {
                if (!W(this)) return null;
                var r,
                  i = this.getChildren();
                if (this.isCanvas()) r = this._findShape(i, t, e, n);
                else {
                  var o = [t, e, 1];
                  (o = this.invertFromMatrix(o)),
                    this.isClipped(o[0], o[1]) || (r = this._findShape(i, o[0], o[1], n));
                }
                return r;
              }),
              (e.prototype._findShape = function (t, e, n, r) {
                for (var i = null, o = t.length - 1; o >= 0; o--) {
                  var a = t[o];
                  if (
                    (W(a) && (a.isGroup() ? (i = a.getShape(e, n, r)) : a.isHit(e, n) && (i = a)),
                    i)
                  )
                    break;
                }
                return i;
              }),
              (e.prototype.add = function (t) {
                var e = this.getCanvas(),
                  n = this.getChildren(),
                  r = this.get('timeline'),
                  i = t.getParent();
                i &&
                  (function (t, e, n) {
                    void 0 === n && (n = !0),
                      n ? e.destroy() : (e.set('parent', null), e.set('canvas', null)),
                      F(t.getChildren(), e);
                  })(i, t, !1),
                  t.set('parent', this),
                  e && st(t, e),
                  r && ut(t, r),
                  n.push(t),
                  t.onCanvasChange('add'),
                  this._applyElementMatrix(t);
              }),
              (e.prototype._applyElementMatrix = function (t) {
                var e = this.getTotalMatrix();
                e && t.applyMatrix(e);
              }),
              (e.prototype.getChildren = function () {
                return this.get('children');
              }),
              (e.prototype.sort = function () {
                var t,
                  e = this.getChildren();
                (0, o.each)(e, function (t, e) {
                  return (t._INDEX = e), t;
                }),
                  e.sort(
                    ((t = function (t, e) {
                      return t.get('zIndex') - e.get('zIndex');
                    }),
                    function (e, n) {
                      var r = t(e, n);
                      return 0 === r ? e._INDEX - n._INDEX : r;
                    }),
                  ),
                  this.onCanvasChange('sort');
              }),
              (e.prototype.clear = function () {
                if ((this.set('clearing', !0), !this.destroyed)) {
                  for (var t = this.getChildren(), e = t.length - 1; e >= 0; e--) t[e].destroy();
                  this.set('children', []), this.onCanvasChange('clear'), this.set('clearing', !1);
                }
              }),
              (e.prototype.destroy = function () {
                this.get('destroyed') || (this.clear(), t.prototype.destroy.call(this));
              }),
              (e.prototype.getFirst = function () {
                return this.getChildByIndex(0);
              }),
              (e.prototype.getLast = function () {
                var t = this.getChildren();
                return this.getChildByIndex(t.length - 1);
              }),
              (e.prototype.getChildByIndex = function (t) {
                return this.getChildren()[t];
              }),
              (e.prototype.getCount = function () {
                return this.getChildren().length;
              }),
              (e.prototype.contain = function (t) {
                return this.getChildren().indexOf(t) > -1;
              }),
              (e.prototype.removeChild = function (t, e) {
                void 0 === e && (e = !0), this.contain(t) && t.remove(e);
              }),
              (e.prototype.findAll = function (t) {
                var e = [],
                  n = this.getChildren();
                return (
                  (0, o.each)(n, function (n) {
                    t(n) && e.push(n), n.isGroup() && (e = e.concat(n.findAll(t)));
                  }),
                  e
                );
              }),
              (e.prototype.find = function (t) {
                var e = null,
                  n = this.getChildren();
                return (
                  (0, o.each)(n, function (n) {
                    if ((t(n) ? (e = n) : n.isGroup() && (e = n.find(t)), e)) return !1;
                  }),
                  e
                );
              }),
              (e.prototype.findById = function (t) {
                return this.find(function (e) {
                  return e.get('id') === t;
                });
              }),
              (e.prototype.findByClassName = function (t) {
                return this.find(function (e) {
                  return e.get('className') === t;
                });
              }),
              (e.prototype.findAllByName = function (t) {
                return this.findAll(function (e) {
                  return e.get('name') === t;
                });
              }),
              e
            );
          })(ot);
          const lt = ct;
          var ht,
            ft,
            dt = 0,
            pt = 0,
            gt = 0,
            vt = 0,
            yt = 0,
            mt = 0,
            bt = 'object' == typeof performance && performance.now ? performance : Date,
            xt =
              'object' == typeof window && window.requestAnimationFrame
                ? window.requestAnimationFrame.bind(window)
                : function (t) {
                    setTimeout(t, 17);
                  };
          function _t() {
            return yt || (xt(wt), (yt = bt.now() + mt));
          }
          function wt() {
            yt = 0;
          }
          function Et() {
            this._call = this._time = this._next = null;
          }
          function St(t, e, n) {
            var r = new Et();
            return r.restart(t, e, n), r;
          }
          function Mt() {
            (yt = (vt = bt.now()) + mt), (dt = pt = 0);
            try {
              !(function () {
                _t(), ++dt;
                for (var t, e = ht; e; )
                  (t = yt - e._time) >= 0 && e._call.call(null, t), (e = e._next);
                --dt;
              })();
            } finally {
              (dt = 0),
                (function () {
                  for (var t, e, n = ht, r = 1 / 0; n; )
                    n._call
                      ? (r > n._time && (r = n._time), (t = n), (n = n._next))
                      : ((e = n._next), (n._next = null), (n = t ? (t._next = e) : (ht = e)));
                  (ft = t), At(r);
                })(),
                (yt = 0);
            }
          }
          function kt() {
            var t = bt.now(),
              e = t - vt;
            e > 1e3 && ((mt -= e), (vt = t));
          }
          function At(t) {
            dt ||
              (pt && (pt = clearTimeout(pt)),
              t - yt > 24
                ? (t < 1 / 0 && (pt = setTimeout(Mt, t - bt.now() - mt)),
                  gt && (gt = clearInterval(gt)))
                : (gt || ((vt = bt.now()), (gt = setInterval(kt, 1e3))), (dt = 1), xt(Mt)));
          }
          function Ct(t) {
            return +t;
          }
          function It(t) {
            return t * t;
          }
          function Tt(t) {
            return t * (2 - t);
          }
          function Nt(t) {
            return ((t *= 2) <= 1 ? t * t : --t * (2 - t) + 1) / 2;
          }
          function Pt(t) {
            return t * t * t;
          }
          function Ot(t) {
            return --t * t * t + 1;
          }
          function Dt(t) {
            return ((t *= 2) <= 1 ? t * t * t : (t -= 2) * t * t + 2) / 2;
          }
          Et.prototype = St.prototype = {
            constructor: Et,
            restart: function (t, e, n) {
              if ('function' != typeof t) throw new TypeError('callback is not a function');
              (n = (null == n ? _t() : +n) + (null == e ? 0 : +e)),
                this._next || ft === this || (ft ? (ft._next = this) : (ht = this), (ft = this)),
                (this._call = t),
                (this._time = n),
                At();
            },
            stop: function () {
              this._call && ((this._call = null), (this._time = 1 / 0), At());
            },
          };
          var Lt = (function t(e) {
              function n(t) {
                return Math.pow(t, e);
              }
              return (e = +e), (n.exponent = t), n;
            })(3),
            Rt = (function t(e) {
              function n(t) {
                return 1 - Math.pow(1 - t, e);
              }
              return (e = +e), (n.exponent = t), n;
            })(3),
            Bt = (function t(e) {
              function n(t) {
                return ((t *= 2) <= 1 ? Math.pow(t, e) : 2 - Math.pow(2 - t, e)) / 2;
              }
              return (e = +e), (n.exponent = t), n;
            })(3),
            jt = Math.PI,
            Gt = jt / 2;
          function zt(t) {
            return 1 == +t ? 1 : 1 - Math.cos(t * Gt);
          }
          function Ft(t) {
            return Math.sin(t * Gt);
          }
          function Ut(t) {
            return (1 - Math.cos(jt * t)) / 2;
          }
          function Vt(t) {
            return 1.0009775171065494 * (Math.pow(2, -10 * t) - 0.0009765625);
          }
          function Wt(t) {
            return Vt(1 - +t);
          }
          function Yt(t) {
            return 1 - Vt(t);
          }
          function Xt(t) {
            return ((t *= 2) <= 1 ? Vt(1 - t) : 2 - Vt(t - 1)) / 2;
          }
          function Ht(t) {
            return 1 - Math.sqrt(1 - t * t);
          }
          function qt(t) {
            return Math.sqrt(1 - --t * t);
          }
          function Kt(t) {
            return ((t *= 2) <= 1 ? 1 - Math.sqrt(1 - t * t) : Math.sqrt(1 - (t -= 2) * t) + 1) / 2;
          }
          var Zt = 7.5625;
          function $t(t) {
            return 1 - Qt(1 - t);
          }
          function Qt(t) {
            return (t = +t) < 0.36363636363636365
              ? Zt * t * t
              : t < 0.7272727272727273
              ? Zt * (t -= 0.5454545454545454) * t + 0.75
              : t < 0.9090909090909091
              ? Zt * (t -= 0.8181818181818182) * t + 0.9375
              : Zt * (t -= 0.9545454545454546) * t + 0.984375;
          }
          function Jt(t) {
            return ((t *= 2) <= 1 ? 1 - Qt(1 - t) : Qt(t - 1) + 1) / 2;
          }
          var te = 1.70158,
            ee = (function t(e) {
              function n(t) {
                return (t = +t) * t * (e * (t - 1) + t);
              }
              return (e = +e), (n.overshoot = t), n;
            })(te),
            ne = (function t(e) {
              function n(t) {
                return --t * t * ((t + 1) * e + t) + 1;
              }
              return (e = +e), (n.overshoot = t), n;
            })(te),
            re = (function t(e) {
              function n(t) {
                return (
                  ((t *= 2) < 1
                    ? t * t * ((e + 1) * t - e)
                    : (t -= 2) * t * ((e + 1) * t + e) + 2) / 2
                );
              }
              return (e = +e), (n.overshoot = t), n;
            })(te),
            ie = 2 * Math.PI,
            oe = (function t(e, n) {
              var r = Math.asin(1 / (e = Math.max(1, e))) * (n /= ie);
              function i(t) {
                return e * Vt(-(--t)) * Math.sin((r - t) / n);
              }
              return (
                (i.amplitude = function (e) {
                  return t(e, n * ie);
                }),
                (i.period = function (n) {
                  return t(e, n);
                }),
                i
              );
            })(1, 0.3),
            ae = (function t(e, n) {
              var r = Math.asin(1 / (e = Math.max(1, e))) * (n /= ie);
              function i(t) {
                return 1 - e * Vt((t = +t)) * Math.sin((t + r) / n);
              }
              return (
                (i.amplitude = function (e) {
                  return t(e, n * ie);
                }),
                (i.period = function (n) {
                  return t(e, n);
                }),
                i
              );
            })(1, 0.3),
            se = (function t(e, n) {
              var r = Math.asin(1 / (e = Math.max(1, e))) * (n /= ie);
              function i(t) {
                return (
                  ((t = 2 * t - 1) < 0
                    ? e * Vt(-t) * Math.sin((r - t) / n)
                    : 2 - e * Vt(t) * Math.sin((r + t) / n)) / 2
                );
              }
              return (
                (i.amplitude = function (e) {
                  return t(e, n * ie);
                }),
                (i.period = function (n) {
                  return t(e, n);
                }),
                i
              );
            })(1, 0.3);
          function ue(t, e, n) {
            (t.prototype = e.prototype = n), (n.constructor = t);
          }
          function ce(t, e) {
            var n = Object.create(t.prototype);
            for (var r in e) n[r] = e[r];
            return n;
          }
          function le() {}
          var he = 0.7,
            fe = 1 / he,
            de = '\\s*([+-]?\\d+)\\s*',
            pe = '\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)\\s*',
            ge = '\\s*([+-]?\\d*\\.?\\d+(?:[eE][+-]?\\d+)?)%\\s*',
            ve = /^#([0-9a-f]{3,8})$/,
            ye = new RegExp('^rgb\\(' + [de, de, de] + '\\)$'),
            me = new RegExp('^rgb\\(' + [ge, ge, ge] + '\\)$'),
            be = new RegExp('^rgba\\(' + [de, de, de, pe] + '\\)$'),
            xe = new RegExp('^rgba\\(' + [ge, ge, ge, pe] + '\\)$'),
            _e = new RegExp('^hsl\\(' + [pe, ge, ge] + '\\)$'),
            we = new RegExp('^hsla\\(' + [pe, ge, ge, pe] + '\\)$'),
            Ee = {
              aliceblue: 15792383,
              antiquewhite: 16444375,
              aqua: 65535,
              aquamarine: 8388564,
              azure: 15794175,
              beige: 16119260,
              bisque: 16770244,
              black: 0,
              blanchedalmond: 16772045,
              blue: 255,
              blueviolet: 9055202,
              brown: 10824234,
              burlywood: 14596231,
              cadetblue: 6266528,
              chartreuse: 8388352,
              chocolate: 13789470,
              coral: 16744272,
              cornflowerblue: 6591981,
              cornsilk: 16775388,
              crimson: 14423100,
              cyan: 65535,
              darkblue: 139,
              darkcyan: 35723,
              darkgoldenrod: 12092939,
              darkgray: 11119017,
              darkgreen: 25600,
              darkgrey: 11119017,
              darkkhaki: 12433259,
              darkmagenta: 9109643,
              darkolivegreen: 5597999,
              darkorange: 16747520,
              darkorchid: 10040012,
              darkred: 9109504,
              darksalmon: 15308410,
              darkseagreen: 9419919,
              darkslateblue: 4734347,
              darkslategray: 3100495,
              darkslategrey: 3100495,
              darkturquoise: 52945,
              darkviolet: 9699539,
              deeppink: 16716947,
              deepskyblue: 49151,
              dimgray: 6908265,
              dimgrey: 6908265,
              dodgerblue: 2003199,
              firebrick: 11674146,
              floralwhite: 16775920,
              forestgreen: 2263842,
              fuchsia: 16711935,
              gainsboro: 14474460,
              ghostwhite: 16316671,
              gold: 16766720,
              goldenrod: 14329120,
              gray: 8421504,
              green: 32768,
              greenyellow: 11403055,
              grey: 8421504,
              honeydew: 15794160,
              hotpink: 16738740,
              indianred: 13458524,
              indigo: 4915330,
              ivory: 16777200,
              khaki: 15787660,
              lavender: 15132410,
              lavenderblush: 16773365,
              lawngreen: 8190976,
              lemonchiffon: 16775885,
              lightblue: 11393254,
              lightcoral: 15761536,
              lightcyan: 14745599,
              lightgoldenrodyellow: 16448210,
              lightgray: 13882323,
              lightgreen: 9498256,
              lightgrey: 13882323,
              lightpink: 16758465,
              lightsalmon: 16752762,
              lightseagreen: 2142890,
              lightskyblue: 8900346,
              lightslategray: 7833753,
              lightslategrey: 7833753,
              lightsteelblue: 11584734,
              lightyellow: 16777184,
              lime: 65280,
              limegreen: 3329330,
              linen: 16445670,
              magenta: 16711935,
              maroon: 8388608,
              mediumaquamarine: 6737322,
              mediumblue: 205,
              mediumorchid: 12211667,
              mediumpurple: 9662683,
              mediumseagreen: 3978097,
              mediumslateblue: 8087790,
              mediumspringgreen: 64154,
              mediumturquoise: 4772300,
              mediumvioletred: 13047173,
              midnightblue: 1644912,
              mintcream: 16121850,
              mistyrose: 16770273,
              moccasin: 16770229,
              navajowhite: 16768685,
              navy: 128,
              oldlace: 16643558,
              olive: 8421376,
              olivedrab: 7048739,
              orange: 16753920,
              orangered: 16729344,
              orchid: 14315734,
              palegoldenrod: 15657130,
              palegreen: 10025880,
              paleturquoise: 11529966,
              palevioletred: 14381203,
              papayawhip: 16773077,
              peachpuff: 16767673,
              peru: 13468991,
              pink: 16761035,
              plum: 14524637,
              powderblue: 11591910,
              purple: 8388736,
              rebeccapurple: 6697881,
              red: 16711680,
              rosybrown: 12357519,
              royalblue: 4286945,
              saddlebrown: 9127187,
              salmon: 16416882,
              sandybrown: 16032864,
              seagreen: 3050327,
              seashell: 16774638,
              sienna: 10506797,
              silver: 12632256,
              skyblue: 8900331,
              slateblue: 6970061,
              slategray: 7372944,
              slategrey: 7372944,
              snow: 16775930,
              springgreen: 65407,
              steelblue: 4620980,
              tan: 13808780,
              teal: 32896,
              thistle: 14204888,
              tomato: 16737095,
              turquoise: 4251856,
              violet: 15631086,
              wheat: 16113331,
              white: 16777215,
              whitesmoke: 16119285,
              yellow: 16776960,
              yellowgreen: 10145074,
            };
          function Se() {
            return this.rgb().formatHex();
          }
          function Me() {
            return this.rgb().formatRgb();
          }
          function ke(t) {
            var e, n;
            return (
              (t = (t + '').trim().toLowerCase()),
              (e = ve.exec(t))
                ? ((n = e[1].length),
                  (e = parseInt(e[1], 16)),
                  6 === n
                    ? Ae(e)
                    : 3 === n
                    ? new Ne(
                        ((e >> 8) & 15) | ((e >> 4) & 240),
                        ((e >> 4) & 15) | (240 & e),
                        ((15 & e) << 4) | (15 & e),
                        1,
                      )
                    : 8 === n
                    ? Ce((e >> 24) & 255, (e >> 16) & 255, (e >> 8) & 255, (255 & e) / 255)
                    : 4 === n
                    ? Ce(
                        ((e >> 12) & 15) | ((e >> 8) & 240),
                        ((e >> 8) & 15) | ((e >> 4) & 240),
                        ((e >> 4) & 15) | (240 & e),
                        (((15 & e) << 4) | (15 & e)) / 255,
                      )
                    : null)
                : (e = ye.exec(t))
                ? new Ne(e[1], e[2], e[3], 1)
                : (e = me.exec(t))
                ? new Ne((255 * e[1]) / 100, (255 * e[2]) / 100, (255 * e[3]) / 100, 1)
                : (e = be.exec(t))
                ? Ce(e[1], e[2], e[3], e[4])
                : (e = xe.exec(t))
                ? Ce((255 * e[1]) / 100, (255 * e[2]) / 100, (255 * e[3]) / 100, e[4])
                : (e = _e.exec(t))
                ? Le(e[1], e[2] / 100, e[3] / 100, 1)
                : (e = we.exec(t))
                ? Le(e[1], e[2] / 100, e[3] / 100, e[4])
                : Ee.hasOwnProperty(t)
                ? Ae(Ee[t])
                : 'transparent' === t
                ? new Ne(NaN, NaN, NaN, 0)
                : null
            );
          }
          function Ae(t) {
            return new Ne((t >> 16) & 255, (t >> 8) & 255, 255 & t, 1);
          }
          function Ce(t, e, n, r) {
            return r <= 0 && (t = e = n = NaN), new Ne(t, e, n, r);
          }
          function Ie(t) {
            return (
              t instanceof le || (t = ke(t)),
              t ? new Ne((t = t.rgb()).r, t.g, t.b, t.opacity) : new Ne()
            );
          }
          function Te(t, e, n, r) {
            return 1 === arguments.length ? Ie(t) : new Ne(t, e, n, null == r ? 1 : r);
          }
          function Ne(t, e, n, r) {
            (this.r = +t), (this.g = +e), (this.b = +n), (this.opacity = +r);
          }
          function Pe() {
            return '#' + De(this.r) + De(this.g) + De(this.b);
          }
          function Oe() {
            var t = this.opacity;
            return (
              (1 === (t = isNaN(t) ? 1 : Math.max(0, Math.min(1, t))) ? 'rgb(' : 'rgba(') +
              Math.max(0, Math.min(255, Math.round(this.r) || 0)) +
              ', ' +
              Math.max(0, Math.min(255, Math.round(this.g) || 0)) +
              ', ' +
              Math.max(0, Math.min(255, Math.round(this.b) || 0)) +
              (1 === t ? ')' : ', ' + t + ')')
            );
          }
          function De(t) {
            return (
              ((t = Math.max(0, Math.min(255, Math.round(t) || 0))) < 16 ? '0' : '') +
              t.toString(16)
            );
          }
          function Le(t, e, n, r) {
            return (
              r <= 0 ? (t = e = n = NaN) : n <= 0 || n >= 1 ? (t = e = NaN) : e <= 0 && (t = NaN),
              new Be(t, e, n, r)
            );
          }
          function Re(t) {
            if (t instanceof Be) return new Be(t.h, t.s, t.l, t.opacity);
            if ((t instanceof le || (t = ke(t)), !t)) return new Be();
            if (t instanceof Be) return t;
            var e = (t = t.rgb()).r / 255,
              n = t.g / 255,
              r = t.b / 255,
              i = Math.min(e, n, r),
              o = Math.max(e, n, r),
              a = NaN,
              s = o - i,
              u = (o + i) / 2;
            return (
              s
                ? ((a =
                    e === o
                      ? (n - r) / s + 6 * (n < r)
                      : n === o
                      ? (r - e) / s + 2
                      : (e - n) / s + 4),
                  (s /= u < 0.5 ? o + i : 2 - o - i),
                  (a *= 60))
                : (s = u > 0 && u < 1 ? 0 : a),
              new Be(a, s, u, t.opacity)
            );
          }
          function Be(t, e, n, r) {
            (this.h = +t), (this.s = +e), (this.l = +n), (this.opacity = +r);
          }
          function je(t, e, n) {
            return (
              255 *
              (t < 60
                ? e + ((n - e) * t) / 60
                : t < 180
                ? n
                : t < 240
                ? e + ((n - e) * (240 - t)) / 60
                : e)
            );
          }
          function Ge(t, e, n, r, i) {
            var o = t * t,
              a = o * t;
            return (
              ((1 - 3 * t + 3 * o - a) * e +
                (4 - 6 * o + 3 * a) * n +
                (1 + 3 * t + 3 * o - 3 * a) * r +
                a * i) /
              6
            );
          }
          function ze(t) {
            return function () {
              return t;
            };
          }
          function Fe(t, e) {
            var n = e - t;
            return n
              ? (function (t, e) {
                  return function (n) {
                    return t + n * e;
                  };
                })(t, n)
              : ze(isNaN(t) ? e : t);
          }
          ue(le, ke, {
            copy: function (t) {
              return Object.assign(new this.constructor(), this, t);
            },
            displayable: function () {
              return this.rgb().displayable();
            },
            hex: Se,
            formatHex: Se,
            formatHsl: function () {
              return Re(this).formatHsl();
            },
            formatRgb: Me,
            toString: Me,
          }),
            ue(
              Ne,
              Te,
              ce(le, {
                brighter: function (t) {
                  return (
                    (t = null == t ? fe : Math.pow(fe, t)),
                    new Ne(this.r * t, this.g * t, this.b * t, this.opacity)
                  );
                },
                darker: function (t) {
                  return (
                    (t = null == t ? he : Math.pow(he, t)),
                    new Ne(this.r * t, this.g * t, this.b * t, this.opacity)
                  );
                },
                rgb: function () {
                  return this;
                },
                displayable: function () {
                  return (
                    -0.5 <= this.r &&
                    this.r < 255.5 &&
                    -0.5 <= this.g &&
                    this.g < 255.5 &&
                    -0.5 <= this.b &&
                    this.b < 255.5 &&
                    0 <= this.opacity &&
                    this.opacity <= 1
                  );
                },
                hex: Pe,
                formatHex: Pe,
                formatRgb: Oe,
                toString: Oe,
              }),
            ),
            ue(
              Be,
              function (t, e, n, r) {
                return 1 === arguments.length ? Re(t) : new Be(t, e, n, null == r ? 1 : r);
              },
              ce(le, {
                brighter: function (t) {
                  return (
                    (t = null == t ? fe : Math.pow(fe, t)),
                    new Be(this.h, this.s, this.l * t, this.opacity)
                  );
                },
                darker: function (t) {
                  return (
                    (t = null == t ? he : Math.pow(he, t)),
                    new Be(this.h, this.s, this.l * t, this.opacity)
                  );
                },
                rgb: function () {
                  var t = (this.h % 360) + 360 * (this.h < 0),
                    e = isNaN(t) || isNaN(this.s) ? 0 : this.s,
                    n = this.l,
                    r = n + (n < 0.5 ? n : 1 - n) * e,
                    i = 2 * n - r;
                  return new Ne(
                    je(t >= 240 ? t - 240 : t + 120, i, r),
                    je(t, i, r),
                    je(t < 120 ? t + 240 : t - 120, i, r),
                    this.opacity,
                  );
                },
                displayable: function () {
                  return (
                    ((0 <= this.s && this.s <= 1) || isNaN(this.s)) &&
                    0 <= this.l &&
                    this.l <= 1 &&
                    0 <= this.opacity &&
                    this.opacity <= 1
                  );
                },
                formatHsl: function () {
                  var t = this.opacity;
                  return (
                    (1 === (t = isNaN(t) ? 1 : Math.max(0, Math.min(1, t))) ? 'hsl(' : 'hsla(') +
                    (this.h || 0) +
                    ', ' +
                    100 * (this.s || 0) +
                    '%, ' +
                    100 * (this.l || 0) +
                    '%' +
                    (1 === t ? ')' : ', ' + t + ')')
                  );
                },
              }),
            );
          const Ue = (function t(e) {
            var n = (function (t) {
              return 1 == (t = +t)
                ? Fe
                : function (e, n) {
                    return n - e
                      ? (function (t, e, n) {
                          return (
                            (t = Math.pow(t, n)),
                            (e = Math.pow(e, n) - t),
                            (n = 1 / n),
                            function (r) {
                              return Math.pow(t + r * e, n);
                            }
                          );
                        })(e, n, t)
                      : ze(isNaN(e) ? n : e);
                  };
            })(e);
            function r(t, e) {
              var r = n((t = Te(t)).r, (e = Te(e)).r),
                i = n(t.g, e.g),
                o = n(t.b, e.b),
                a = Fe(t.opacity, e.opacity);
              return function (e) {
                return (t.r = r(e)), (t.g = i(e)), (t.b = o(e)), (t.opacity = a(e)), t + '';
              };
            }
            return (r.gamma = t), r;
          })(1);
          function Ve(t) {
            return function (e) {
              var n,
                r,
                i = e.length,
                o = new Array(i),
                a = new Array(i),
                s = new Array(i);
              for (n = 0; n < i; ++n)
                (r = Te(e[n])), (o[n] = r.r || 0), (a[n] = r.g || 0), (s[n] = r.b || 0);
              return (
                (o = t(o)),
                (a = t(a)),
                (s = t(s)),
                (r.opacity = 1),
                function (t) {
                  return (r.r = o(t)), (r.g = a(t)), (r.b = s(t)), r + '';
                }
              );
            };
          }
          function We(t, e) {
            e || (e = []);
            var n,
              r = t ? Math.min(e.length, t.length) : 0,
              i = e.slice();
            return function (o) {
              for (n = 0; n < r; ++n) i[n] = t[n] * (1 - o) + e[n] * o;
              return i;
            };
          }
          function Ye(t) {
            return ArrayBuffer.isView(t) && !(t instanceof DataView);
          }
          function Xe(t, e) {
            var n,
              r = e ? e.length : 0,
              i = t ? Math.min(r, t.length) : 0,
              o = new Array(i),
              a = new Array(r);
            for (n = 0; n < i; ++n) o[n] = Je(t[n], e[n]);
            for (; n < r; ++n) a[n] = e[n];
            return function (t) {
              for (n = 0; n < i; ++n) a[n] = o[n](t);
              return a;
            };
          }
          function He(t, e) {
            var n = new Date();
            return (
              (t = +t),
              (e = +e),
              function (r) {
                return n.setTime(t * (1 - r) + e * r), n;
              }
            );
          }
          function qe(t, e) {
            return (
              (t = +t),
              (e = +e),
              function (n) {
                return t * (1 - n) + e * n;
              }
            );
          }
          function Ke(t, e) {
            var n,
              r = {},
              i = {};
            for (n in ((null !== t && 'object' == typeof t) || (t = {}),
            (null !== e && 'object' == typeof e) || (e = {}),
            e))
              n in t ? (r[n] = Je(t[n], e[n])) : (i[n] = e[n]);
            return function (t) {
              for (n in r) i[n] = r[n](t);
              return i;
            };
          }
          Ve(function (t) {
            var e = t.length - 1;
            return function (n) {
              var r = n <= 0 ? (n = 0) : n >= 1 ? ((n = 1), e - 1) : Math.floor(n * e),
                i = t[r],
                o = t[r + 1],
                a = r > 0 ? t[r - 1] : 2 * i - o,
                s = r < e - 1 ? t[r + 2] : 2 * o - i;
              return Ge((n - r / e) * e, a, i, o, s);
            };
          }),
            Ve(function (t) {
              var e = t.length;
              return function (n) {
                var r = Math.floor(((n %= 1) < 0 ? ++n : n) * e),
                  i = t[(r + e - 1) % e],
                  o = t[r % e],
                  a = t[(r + 1) % e],
                  s = t[(r + 2) % e];
                return Ge((n - r / e) * e, i, o, a, s);
              };
            });
          var Ze = /[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,
            $e = new RegExp(Ze.source, 'g');
          function Qe(t, e) {
            var n,
              r,
              i,
              o = (Ze.lastIndex = $e.lastIndex = 0),
              a = -1,
              s = [],
              u = [];
            for (t += '', e += ''; (n = Ze.exec(t)) && (r = $e.exec(e)); )
              (i = r.index) > o && ((i = e.slice(o, i)), s[a] ? (s[a] += i) : (s[++a] = i)),
                (n = n[0]) === (r = r[0])
                  ? s[a]
                    ? (s[a] += r)
                    : (s[++a] = r)
                  : ((s[++a] = null), u.push({ i: a, x: qe(n, r) })),
                (o = $e.lastIndex);
            return (
              o < e.length && ((i = e.slice(o)), s[a] ? (s[a] += i) : (s[++a] = i)),
              s.length < 2
                ? u[0]
                  ? (function (t) {
                      return function (e) {
                        return t(e) + '';
                      };
                    })(u[0].x)
                  : (function (t) {
                      return function () {
                        return t;
                      };
                    })(e)
                : ((e = u.length),
                  function (t) {
                    for (var n, r = 0; r < e; ++r) s[(n = u[r]).i] = n.x(t);
                    return s.join('');
                  })
            );
          }
          function Je(t, e) {
            var n,
              r = typeof e;
            return null == e || 'boolean' === r
              ? ze(e)
              : ('number' === r
                  ? qe
                  : 'string' === r
                  ? (n = ke(e))
                    ? ((e = n), Ue)
                    : Qe
                  : e instanceof ke
                  ? Ue
                  : e instanceof Date
                  ? He
                  : Ye(e)
                  ? We
                  : Array.isArray(e)
                  ? Xe
                  : ('function' != typeof e.valueOf && 'function' != typeof e.toString) || isNaN(e)
                  ? Ke
                  : qe)(t, e);
          }
          var tn = [1, 0, 0, 0, 1, 0, 0, 0, 1];
          function en(t, e, n) {
            var r,
              a = e.startTime;
            if (n < a + e.delay || e._paused) return !1;
            var s = e.duration,
              u = e.easing;
            if (((n = n - a - e.delay), e.repeat)) (r = (n % s) / s), (r = i[u](r));
            else {
              if (!((r = n / s) < 1))
                return e.onFrame ? t.attr(e.onFrame(1)) : t.attr(e.toAttrs), !0;
              r = i[u](r);
            }
            if (e.onFrame) {
              var l = e.onFrame(r);
              t.attr(l);
            } else
              !(function (t, e, n) {
                var r = {},
                  i = e.fromAttrs,
                  a = e.toAttrs;
                if (!t.destroyed) {
                  var s, u, l, h;
                  for (var f in a)
                    if (!(0, o.isEqual)(i[f], a[f]))
                      if ('path' === f) {
                        var d = a[f],
                          p = i[f];
                        d.length > p.length
                          ? ((d = c(a[f])),
                            (p = c(i[f])),
                            (p = D(p, d)),
                            (p = B(p, d)),
                            (e.fromAttrs.path = p),
                            (e.toAttrs.path = d))
                          : e.pathFormatted ||
                            ((d = c(a[f])),
                            (p = c(i[f])),
                            (p = B(p, d)),
                            (e.fromAttrs.path = p),
                            (e.toAttrs.path = d),
                            (e.pathFormatted = !0)),
                          (r[f] = []);
                        for (var g = 0; g < d.length; g++) {
                          for (var v = d[g], y = p[g], m = [], b = 0; b < v.length; b++)
                            (0, o.isNumber)(v[b]) && y && (0, o.isNumber)(y[b])
                              ? ((s = Je(y[b], v[b])), m.push(s(n)))
                              : m.push(v[b]);
                          r[f].push(m);
                        }
                      } else if ('matrix' === f) {
                        var x = ((l = i[f] || tn), (Ye((h = a[f] || tn)) ? We : Xe)(l, h))(n);
                        r[f] = x;
                      } else
                        ['fill', 'stroke', 'fillStyle', 'strokeStyle'].includes(f) &&
                        ((u = a[f]), /^[r,R,L,l]{1}[\s]*\(/.test(u))
                          ? (r[f] = a[f])
                          : (0, o.isFunction)(a[f]) || ((s = Je(i[f], a[f])), (r[f] = s(n)));
                  t.attr(r);
                }
              })(t, e, r);
            return !1;
          }
          var nn = (function () {
            function t(t) {
              (this.animators = []), (this.current = 0), (this.timer = null), (this.canvas = t);
            }
            return (
              (t.prototype.initTimer = function () {
                var t,
                  e,
                  n,
                  r = this;
                this.timer = St(function (i) {
                  if (((r.current = i), r.animators.length > 0)) {
                    for (var o = r.animators.length - 1; o >= 0; o--)
                      if ((t = r.animators[o]).destroyed) r.removeAnimator(o);
                      else {
                        if (!t.isAnimatePaused())
                          for (var a = (e = t.get('animations')).length - 1; a >= 0; a--)
                            (n = e[a]), en(t, n, i) && (e.splice(a, 1), n.callback && n.callback());
                        0 === e.length && r.removeAnimator(o);
                      }
                    r.canvas.get('autoDraw') || r.canvas.draw();
                  }
                });
              }),
              (t.prototype.addAnimator = function (t) {
                this.animators.push(t);
              }),
              (t.prototype.removeAnimator = function (t) {
                this.animators.splice(t, 1);
              }),
              (t.prototype.isAnimating = function () {
                return !!this.animators.length;
              }),
              (t.prototype.stop = function () {
                this.timer && this.timer.stop();
              }),
              (t.prototype.stopAllAnimations = function (t) {
                void 0 === t && (t = !0),
                  this.animators.forEach(function (e) {
                    e.stopAnimate(t);
                  }),
                  (this.animators = []),
                  this.canvas.draw();
              }),
              (t.prototype.getTime = function () {
                return this.current;
              }),
              t
            );
          })();
          const rn = nn;
          var on = [
            'mousedown',
            'mouseup',
            'dblclick',
            'mouseout',
            'mouseover',
            'mousemove',
            'mouseleave',
            'mouseenter',
            'touchstart',
            'touchmove',
            'touchend',
            'dragenter',
            'dragover',
            'dragleave',
            'drop',
            'contextmenu',
            'mousewheel',
          ];
          function an(t, e, n) {
            (n.name = e),
              (n.target = t),
              (n.currentTarget = t),
              (n.delegateTarget = t),
              t.emit(e, n);
          }
          function sn(t, e, n) {
            if (n.bubbles) {
              var r = void 0,
                i = !1;
              if (
                ('mouseenter' === e
                  ? ((r = n.fromShape), (i = !0))
                  : 'mouseleave' === e && ((i = !0), (r = n.toShape)),
                t.isCanvas() && i)
              )
                return;
              if (r && V(t, r)) return void (n.bubbles = !1);
              (n.name = e), (n.currentTarget = t), (n.delegateTarget = t), t.emit(e, n);
            }
          }
          var un = (function () {
            function t(t) {
              var e = this;
              (this.draggingShape = null),
                (this.dragging = !1),
                (this.currentShape = null),
                (this.mousedownShape = null),
                (this.mousedownPoint = null),
                (this._eventCallback = function (t) {
                  var n = t.type;
                  e._triggerEvent(n, t);
                }),
                (this._onDocumentMove = function (t) {
                  if (e.canvas.get('el') !== t.target && (e.dragging || e.currentShape)) {
                    var n = e._getPointInfo(t);
                    e.dragging && e._emitEvent('drag', t, n, e.draggingShape);
                  }
                }),
                (this._onDocumentMouseUp = function (t) {
                  if (e.canvas.get('el') !== t.target && e.dragging) {
                    var n = e._getPointInfo(t);
                    e.draggingShape && e._emitEvent('drop', t, n, null),
                      e._emitEvent('dragend', t, n, e.draggingShape),
                      e._afterDrag(e.draggingShape, n, t);
                  }
                }),
                (this.canvas = t.canvas);
            }
            return (
              (t.prototype.init = function () {
                this._bindEvents();
              }),
              (t.prototype._bindEvents = function () {
                var t = this,
                  e = this.canvas.get('el');
                (0, o.each)(on, function (n) {
                  e.addEventListener(n, t._eventCallback);
                }),
                  document &&
                    (document.addEventListener('mousemove', this._onDocumentMove),
                    document.addEventListener('mouseup', this._onDocumentMouseUp));
              }),
              (t.prototype._clearEvents = function () {
                var t = this,
                  e = this.canvas.get('el');
                (0, o.each)(on, function (n) {
                  e.removeEventListener(n, t._eventCallback);
                }),
                  document &&
                    (document.removeEventListener('mousemove', this._onDocumentMove),
                    document.removeEventListener('mouseup', this._onDocumentMouseUp));
              }),
              (t.prototype._getEventObj = function (t, e, n, r, i, o) {
                var a = new j(t, e);
                return (
                  (a.fromShape = i),
                  (a.toShape = o),
                  (a.x = n.x),
                  (a.y = n.y),
                  (a.clientX = n.clientX),
                  (a.clientY = n.clientY),
                  a.propagationPath.push(r),
                  a
                );
              }),
              (t.prototype._getShape = function (t, e) {
                return this.canvas.getShape(t.x, t.y, e);
              }),
              (t.prototype._getPointInfo = function (t) {
                var e = this.canvas,
                  n = e.getClientByEvent(t),
                  r = e.getPointByEvent(t);
                return { x: r.x, y: r.y, clientX: n.x, clientY: n.y };
              }),
              (t.prototype._triggerEvent = function (t, e) {
                var n = this._getPointInfo(e),
                  r = this._getShape(n, e),
                  i = this['_on' + t],
                  o = !1;
                if (i) i.call(this, n, r, e);
                else {
                  var a = this.currentShape;
                  'mouseenter' === t || 'dragenter' === t || 'mouseover' === t
                    ? (this._emitEvent(t, e, n, null, null, r),
                      r && this._emitEvent(t, e, n, r, null, r),
                      'mouseenter' === t &&
                        this.draggingShape &&
                        this._emitEvent('dragenter', e, n, null))
                    : 'mouseleave' === t || 'dragleave' === t || 'mouseout' === t
                    ? ((o = !0),
                      a && this._emitEvent(t, e, n, a, a, null),
                      this._emitEvent(t, e, n, null, a, null),
                      'mouseleave' === t &&
                        this.draggingShape &&
                        this._emitEvent('dragleave', e, n, null))
                    : this._emitEvent(t, e, n, r, null, null);
                }
                if ((o || (this.currentShape = r), r && !r.get('destroyed'))) {
                  var s = this.canvas;
                  s.get('el').style.cursor = r.attr('cursor') || s.get('cursor');
                }
              }),
              (t.prototype._onmousedown = function (t, e, n) {
                0 === n.button &&
                  ((this.mousedownShape = e),
                  (this.mousedownPoint = t),
                  (this.mousedownTimeStamp = n.timeStamp)),
                  this._emitEvent('mousedown', n, t, e, null, null);
              }),
              (t.prototype._emitMouseoverEvents = function (t, e, n, r) {
                var i = this.canvas.get('el');
                n !== r &&
                  (n &&
                    (this._emitEvent('mouseout', t, e, n, n, r),
                    this._emitEvent('mouseleave', t, e, n, n, r),
                    (r && !r.get('destroyed')) || (i.style.cursor = this.canvas.get('cursor'))),
                  r &&
                    (this._emitEvent('mouseover', t, e, r, n, r),
                    this._emitEvent('mouseenter', t, e, r, n, r)));
              }),
              (t.prototype._emitDragoverEvents = function (t, e, n, r, i) {
                r
                  ? (r !== n &&
                      (n && this._emitEvent('dragleave', t, e, n, n, r),
                      this._emitEvent('dragenter', t, e, r, n, r)),
                    i || this._emitEvent('dragover', t, e, r))
                  : n && this._emitEvent('dragleave', t, e, n, n, r),
                  i && this._emitEvent('dragover', t, e, r);
              }),
              (t.prototype._afterDrag = function (t, e, n) {
                t && (t.set('capture', !0), (this.draggingShape = null)), (this.dragging = !1);
                var r = this._getShape(e, n);
                r !== t && this._emitMouseoverEvents(n, e, t, r), (this.currentShape = r);
              }),
              (t.prototype._onmouseup = function (t, e, n) {
                if (0 === n.button) {
                  var r = this.draggingShape;
                  this.dragging
                    ? (r && this._emitEvent('drop', n, t, e),
                      this._emitEvent('dragend', n, t, r),
                      this._afterDrag(r, t, n))
                    : (this._emitEvent('mouseup', n, t, e),
                      e === this.mousedownShape && this._emitEvent('click', n, t, e),
                      (this.mousedownShape = null),
                      (this.mousedownPoint = null));
                }
              }),
              (t.prototype._ondragover = function (t, e, n) {
                n.preventDefault();
                var r = this.currentShape;
                this._emitDragoverEvents(n, t, r, e, !0);
              }),
              (t.prototype._onmousemove = function (t, e, n) {
                var r = this.canvas,
                  i = this.currentShape,
                  o = this.draggingShape;
                if (this.dragging)
                  o && this._emitDragoverEvents(n, t, i, e, !1), this._emitEvent('drag', n, t, o);
                else {
                  var a = this.mousedownPoint;
                  if (a) {
                    var s = this.mousedownShape,
                      u = n.timeStamp - this.mousedownTimeStamp,
                      c = a.clientX - t.clientX,
                      l = a.clientY - t.clientY;
                    u > 120 || c * c + l * l > 40
                      ? s && s.get('draggable')
                        ? ((o = this.mousedownShape).set('capture', !1),
                          (this.draggingShape = o),
                          (this.dragging = !0),
                          this._emitEvent('dragstart', n, t, o),
                          (this.mousedownShape = null),
                          (this.mousedownPoint = null))
                        : !s && r.get('draggable')
                        ? ((this.dragging = !0),
                          this._emitEvent('dragstart', n, t, null),
                          (this.mousedownShape = null),
                          (this.mousedownPoint = null))
                        : (this._emitMouseoverEvents(n, t, i, e),
                          this._emitEvent('mousemove', n, t, e))
                      : (this._emitMouseoverEvents(n, t, i, e),
                        this._emitEvent('mousemove', n, t, e));
                  } else
                    this._emitMouseoverEvents(n, t, i, e), this._emitEvent('mousemove', n, t, e);
                }
              }),
              (t.prototype._emitEvent = function (t, e, n, r, i, o) {
                var a = this._getEventObj(t, e, n, r, i, o);
                if (r) {
                  (a.shape = r), an(r, t, a);
                  for (var s = r.getParent(); s; )
                    s.emitDelegation(t, a),
                      a.propagationStopped || sn(s, t, a),
                      a.propagationPath.push(s),
                      (s = s.getParent());
                } else an(this.canvas, t, a);
              }),
              (t.prototype.destroy = function () {
                this._clearEvents(),
                  (this.canvas = null),
                  (this.currentShape = null),
                  (this.draggingShape = null),
                  (this.mousedownPoint = null),
                  (this.mousedownShape = null),
                  (this.mousedownTimeStamp = null);
              }),
              t
            );
          })();
          const cn = un;
          var ln = (0, H.qY)(),
            hn = ln && 'firefox' === ln.name,
            fn = (function (t) {
              function e(e) {
                var n = t.call(this, e) || this;
                return n.initContainer(), n.initDom(), n.initEvents(), n.initTimeline(), n;
              }
              return (
                (0, G.__extends)(e, t),
                (e.prototype.getDefaultCfg = function () {
                  var e = t.prototype.getDefaultCfg.call(this);
                  return (e.cursor = 'default'), (e.supportCSSTransform = !1), e;
                }),
                (e.prototype.initContainer = function () {
                  var t = this.get('container');
                  (0, o.isString)(t) &&
                    ((t = document.getElementById(t)), this.set('container', t));
                }),
                (e.prototype.initDom = function () {
                  var t = this.createDom();
                  this.set('el', t),
                    this.get('container').appendChild(t),
                    this.setDOMSize(this.get('width'), this.get('height'));
                }),
                (e.prototype.initEvents = function () {
                  var t = new cn({ canvas: this });
                  t.init(), this.set('eventController', t);
                }),
                (e.prototype.initTimeline = function () {
                  var t = new rn(this);
                  this.set('timeline', t);
                }),
                (e.prototype.setDOMSize = function (t, e) {
                  var n = this.get('el');
                  U && ((n.style.width = t + 'px'), (n.style.height = e + 'px'));
                }),
                (e.prototype.changeSize = function (t, e) {
                  this.setDOMSize(t, e),
                    this.set('width', t),
                    this.set('height', e),
                    this.onCanvasChange('changeSize');
                }),
                (e.prototype.getRenderer = function () {
                  return this.get('renderer');
                }),
                (e.prototype.getCursor = function () {
                  return this.get('cursor');
                }),
                (e.prototype.setCursor = function (t) {
                  this.set('cursor', t);
                  var e = this.get('el');
                  U && e && (e.style.cursor = t);
                }),
                (e.prototype.getPointByEvent = function (t) {
                  if (this.get('supportCSSTransform')) {
                    if (hn && !(0, o.isNil)(t.layerX) && t.layerX !== t.offsetX)
                      return { x: t.layerX, y: t.layerY };
                    if (!(0, o.isNil)(t.offsetX)) return { x: t.offsetX, y: t.offsetY };
                  }
                  var e = this.getClientByEvent(t),
                    n = e.x,
                    r = e.y;
                  return this.getPointByClient(n, r);
                }),
                (e.prototype.getClientByEvent = function (t) {
                  var e = t;
                  return (
                    t.touches && (e = 'touchend' === t.type ? t.changedTouches[0] : t.touches[0]),
                    { x: e.clientX, y: e.clientY }
                  );
                }),
                (e.prototype.getPointByClient = function (t, e) {
                  var n = this.get('el').getBoundingClientRect();
                  return { x: t - n.left, y: e - n.top };
                }),
                (e.prototype.getClientByPoint = function (t, e) {
                  var n = this.get('el').getBoundingClientRect();
                  return { x: t + n.left, y: e + n.top };
                }),
                (e.prototype.draw = function () {}),
                (e.prototype.removeDom = function () {
                  var t = this.get('el');
                  t.parentNode.removeChild(t);
                }),
                (e.prototype.clearEvents = function () {
                  this.get('eventController').destroy();
                }),
                (e.prototype.isCanvas = function () {
                  return !0;
                }),
                (e.prototype.getParent = function () {
                  return null;
                }),
                (e.prototype.destroy = function () {
                  var e = this.get('timeline');
                  this.get('destroyed') ||
                    (this.clear(),
                    e && e.stop(),
                    this.clearEvents(),
                    this.removeDom(),
                    t.prototype.destroy.call(this));
                }),
                e
              );
            })(lt);
          const dn = fn;
          var pn = (function (t) {
            function e() {
              return (null !== t && t.apply(this, arguments)) || this;
            }
            return (
              (0, G.__extends)(e, t),
              (e.prototype.isGroup = function () {
                return !0;
              }),
              (e.prototype.isEntityGroup = function () {
                return !1;
              }),
              (e.prototype.clone = function () {
                for (
                  var e = t.prototype.clone.call(this), n = this.getChildren(), r = 0;
                  r < n.length;
                  r++
                ) {
                  var i = n[r];
                  e.add(i.clone());
                }
                return e;
              }),
              e
            );
          })(lt);
          const gn = pn,
            vn = (function (t) {
              function e(e) {
                return t.call(this, e) || this;
              }
              return (
                (0, G.__extends)(e, t),
                (e.prototype._isInBBox = function (t, e) {
                  var n = this.getBBox();
                  return n.minX <= t && n.maxX >= t && n.minY <= e && n.maxY >= e;
                }),
                (e.prototype.afterAttrsChange = function (e) {
                  t.prototype.afterAttrsChange.call(this, e), this.clearCacheBBox();
                }),
                (e.prototype.getBBox = function () {
                  var t = this.cfg.bbox;
                  return t || ((t = this.calculateBBox()), this.set('bbox', t)), t;
                }),
                (e.prototype.getCanvasBBox = function () {
                  var t = this.cfg.canvasBBox;
                  return t || ((t = this.calculateCanvasBBox()), this.set('canvasBBox', t)), t;
                }),
                (e.prototype.applyMatrix = function (e) {
                  t.prototype.applyMatrix.call(this, e), this.set('canvasBBox', null);
                }),
                (e.prototype.calculateCanvasBBox = function () {
                  var t = this.getBBox(),
                    e = this.getTotalMatrix(),
                    n = t.minX,
                    r = t.minY,
                    i = t.maxX,
                    o = t.maxY;
                  if (e) {
                    var a = K(e, [t.minX, t.minY]),
                      s = K(e, [t.maxX, t.minY]),
                      u = K(e, [t.minX, t.maxY]),
                      c = K(e, [t.maxX, t.maxY]);
                    (n = Math.min(a[0], s[0], u[0], c[0])),
                      (i = Math.max(a[0], s[0], u[0], c[0])),
                      (r = Math.min(a[1], s[1], u[1], c[1])),
                      (o = Math.max(a[1], s[1], u[1], c[1]));
                  }
                  var l = this.attrs;
                  if (l.shadowColor) {
                    var h = l.shadowBlur,
                      f = void 0 === h ? 0 : h,
                      d = l.shadowOffsetX,
                      p = void 0 === d ? 0 : d,
                      g = l.shadowOffsetY,
                      v = void 0 === g ? 0 : g,
                      y = n - f + p,
                      m = i + f + p,
                      b = r - f + v,
                      x = o + f + v;
                    (n = Math.min(n, y)),
                      (i = Math.max(i, m)),
                      (r = Math.min(r, b)),
                      (o = Math.max(o, x));
                  }
                  return {
                    x: n,
                    y: r,
                    minX: n,
                    minY: r,
                    maxX: i,
                    maxY: o,
                    width: i - n,
                    height: o - r,
                  };
                }),
                (e.prototype.clearCacheBBox = function () {
                  this.set('bbox', null), this.set('canvasBBox', null);
                }),
                (e.prototype.isClipShape = function () {
                  return this.get('isClipShape');
                }),
                (e.prototype.isInShape = function (t, e) {
                  return !1;
                }),
                (e.prototype.isOnlyHitBox = function () {
                  return !1;
                }),
                (e.prototype.isHit = function (t, e) {
                  var n = this.get('startArrowShape'),
                    r = this.get('endArrowShape'),
                    i = [t, e, 1],
                    o = (i = this.invertFromMatrix(i))[0],
                    a = i[1],
                    s = this._isInBBox(o, a);
                  if (this.isOnlyHitBox()) return s;
                  if (s && !this.isClipped(o, a)) {
                    if (this.isInShape(o, a)) return !0;
                    if (n && n.isHit(o, a)) return !0;
                    if (r && r.isHit(o, a)) return !0;
                  }
                  return !1;
                }),
                e
              );
            })(ot);
          var yn = new Map();
          function mn(t, e) {
            yn.set(t, e);
          }
          function bn(t) {
            return yn.get(t);
          }
          function xn(t) {
            var e = t.attr();
            return { x: e.x, y: e.y, width: e.width, height: e.height };
          }
          function _n(t) {
            var e = t.attr(),
              n = e.x,
              r = e.y,
              i = e.r;
            return { x: n - i, y: r - i, width: 2 * i, height: 2 * i };
          }
          var wn = n(9838);
          function En(t, e) {
            return t && e
              ? {
                  minX: Math.min(t.minX, e.minX),
                  minY: Math.min(t.minY, e.minY),
                  maxX: Math.max(t.maxX, e.maxX),
                  maxY: Math.max(t.maxY, e.maxY),
                }
              : t || e;
          }
          function Sn(t, e) {
            var n = t.get('startArrowShape'),
              r = t.get('endArrowShape');
            return n && (e = En(e, n.getCanvasBBox())), r && (e = En(e, r.getCanvasBBox())), e;
          }
          var Mn = null;
          function kn() {
            if (!Mn) {
              var t = document.createElement('canvas');
              (t.width = 1), (t.height = 1), (Mn = t.getContext('2d'));
            }
            return Mn;
          }
          function An(t, e, n) {
            var r = 1;
            if (((0, o.isString)(t) && (r = t.split('\n').length), r > 1)) {
              var i = (function (t, e) {
                return e ? e - t : 0.14 * t;
              })(e, n);
              return e * r + i * (r - 1);
            }
            return e;
          }
          function Cn(t) {
            var e = t.fontSize,
              n = t.fontFamily,
              r = t.fontWeight;
            return [t.fontStyle, t.fontVariant, r, e + 'px', n].join(' ').trim();
          }
          var In = n(2093);
          function Tn(t, e) {
            var n = t.prePoint,
              r = t.currentPoint,
              i = t.nextPoint,
              a = Math.pow(r[0] - n[0], 2) + Math.pow(r[1] - n[1], 2),
              s = Math.pow(r[0] - i[0], 2) + Math.pow(r[1] - i[1], 2),
              u = Math.pow(n[0] - i[0], 2) + Math.pow(n[1] - i[1], 2),
              c = Math.acos((a + s - u) / (2 * Math.sqrt(a) * Math.sqrt(s)));
            if (!c || 0 === Math.sin(c) || (0, o.isNumberEqual)(c, 0))
              return { xExtra: 0, yExtra: 0 };
            var l = Math.abs(Math.atan2(i[1] - r[1], i[0] - r[0])),
              h = Math.abs(Math.atan2(i[0] - r[0], i[1] - r[1]));
            return (
              (l = l > Math.PI / 2 ? Math.PI - l : l),
              (h = h > Math.PI / 2 ? Math.PI - h : h),
              {
                xExtra: Math.cos(c / 2 - l) * ((e / 2) * (1 / Math.sin(c / 2))) - e / 2 || 0,
                yExtra: Math.cos(h - c / 2) * ((e / 2) * (1 / Math.sin(c / 2))) - e / 2 || 0,
              }
            );
          }
          mn('rect', xn),
            mn('image', xn),
            mn('circle', _n),
            mn('marker', _n),
            mn('polyline', function (t) {
              for (var e = t.attr().points, n = [], r = [], i = 0; i < e.length; i++) {
                var o = e[i];
                n.push(o[0]), r.push(o[1]);
              }
              var a = wn.Zr.getBBoxByArray(n, r),
                s = a.x,
                u = a.y,
                c = { minX: s, minY: u, maxX: s + a.width, maxY: u + a.height };
              return {
                x: (c = Sn(t, c)).minX,
                y: c.minY,
                width: c.maxX - c.minX,
                height: c.maxY - c.minY,
              };
            }),
            mn('polygon', function (t) {
              for (var e = t.attr().points, n = [], r = [], i = 0; i < e.length; i++) {
                var o = e[i];
                n.push(o[0]), r.push(o[1]);
              }
              return wn.Zr.getBBoxByArray(n, r);
            }),
            mn('text', function (t) {
              var e = t.attr(),
                n = e.x,
                r = e.y,
                i = e.text,
                a = e.fontSize,
                s = e.lineHeight,
                u = e.font;
              u || (u = Cn(e));
              var c,
                l = (function (t, e) {
                  var n = kn(),
                    r = 0;
                  if ((0, o.isNil)(t) || '' === t) return r;
                  if ((n.save(), (n.font = e), (0, o.isString)(t) && t.includes('\n'))) {
                    var i = t.split('\n');
                    (0, o.each)(i, function (t) {
                      var e = n.measureText(t).width;
                      r < e && (r = e);
                    });
                  } else r = n.measureText(t).width;
                  return n.restore(), r;
                })(i, u);
              if (l) {
                var h = e.textAlign,
                  f = e.textBaseline,
                  d = An(i, a, s),
                  p = { x: n, y: r - d };
                h && ('end' === h || 'right' === h ? (p.x -= l) : 'center' === h && (p.x -= l / 2)),
                  f && ('top' === f ? (p.y += d) : 'middle' === f && (p.y += d / 2)),
                  (c = { x: p.x, y: p.y, width: l, height: d });
              } else c = { x: n, y: r, width: 0, height: 0 };
              return c;
            }),
            mn('path', function (t) {
              var e = t.attr(),
                n = e.path,
                r = e.stroke ? e.lineWidth : 0,
                i = (function (t, e) {
                  for (var n = [], r = [], i = [], a = 0; a < t.length; a++) {
                    var s = (v = t[a]).currentPoint,
                      u = v.params,
                      c = v.prePoint,
                      l = void 0;
                    switch (v.command) {
                      case 'Q':
                        l = wn.lD.box(c[0], c[1], u[1], u[2], u[3], u[4]);
                        break;
                      case 'C':
                        l = wn.Ll.box(c[0], c[1], u[1], u[2], u[3], u[4], u[5], u[6]);
                        break;
                      case 'A':
                        var h = v.arcParams;
                        l = wn.wN.box(
                          h.cx,
                          h.cy,
                          h.rx,
                          h.ry,
                          h.xRotation,
                          h.startAngle,
                          h.endAngle,
                        );
                        break;
                      default:
                        n.push(s[0]), r.push(s[1]);
                    }
                    l && ((v.box = l), n.push(l.x, l.x + l.width), r.push(l.y, l.y + l.height)),
                      e &&
                        ('L' === v.command || 'M' === v.command) &&
                        v.prePoint &&
                        v.nextPoint &&
                        i.push(v);
                  }
                  (n = n.filter(function (t) {
                    return !Number.isNaN(t);
                  })),
                    (r = r.filter(function (t) {
                      return !Number.isNaN(t);
                    }));
                  var f = (0, o.min)(n),
                    d = (0, o.min)(r),
                    p = (0, o.max)(n),
                    g = (0, o.max)(r);
                  if (0 === i.length) return { x: f, y: d, width: p - f, height: g - d };
                  for (a = 0; a < i.length; a++) {
                    var v;
                    (s = (v = i[a]).currentPoint)[0] === f
                      ? (f -= Tn(v, e).xExtra)
                      : s[0] === p && (p += Tn(v, e).xExtra),
                      s[1] === d ? (d -= Tn(v, e).yExtra) : s[1] === g && (g += Tn(v, e).yExtra);
                  }
                  return { x: f, y: d, width: p - f, height: g - d };
                })(t.get('segments') || (0, In.zx)(n), r),
                a = i.x,
                s = i.y,
                u = { minX: a, minY: s, maxX: a + i.width, maxY: s + i.height };
              return {
                x: (u = Sn(t, u)).minX,
                y: u.minY,
                width: u.maxX - u.minX,
                height: u.maxY - u.minY,
              };
            }),
            mn('line', function (t) {
              var e = t.attr(),
                n = e.x1,
                r = e.y1,
                i = e.x2,
                o = e.y2,
                a = {
                  minX: Math.min(n, i),
                  maxX: Math.max(n, i),
                  minY: Math.min(r, o),
                  maxY: Math.max(r, o),
                };
              return {
                x: (a = Sn(t, a)).minX,
                y: a.minY,
                width: a.maxX - a.minX,
                height: a.maxY - a.minY,
              };
            }),
            mn('ellipse', function (t) {
              var e = t.attr(),
                n = e.x,
                r = e.y,
                i = e.rx,
                o = e.ry;
              return { x: n - i, y: r - o, width: 2 * i, height: 2 * o };
            });
        },
        9838: (t, e, n) => {
          'use strict';
          n.d(e, { wN: () => N, Ll: () => M, x1: () => f, aH: () => O, lD: () => b, Zr: () => r });
          var r = {};
          function i(t) {
            return Math.min.apply(null, t);
          }
          function o(t) {
            return Math.max.apply(null, t);
          }
          function a(t, e, n, r) {
            var i = t - n,
              o = e - r;
            return Math.sqrt(i * i + o * o);
          }
          function s(t, e) {
            return Math.abs(t - e) < 0.001;
          }
          function u(t, e) {
            var n = i(t),
              r = i(e);
            return { x: n, y: r, width: o(t) - n, height: o(e) - r };
          }
          function c(t, e, n, r) {
            return { minX: i([t, n]), maxX: o([t, n]), minY: i([e, r]), maxY: o([e, r]) };
          }
          function l(t) {
            return (t + 2 * Math.PI) % (2 * Math.PI);
          }
          n.r(r),
            n.d(r, {
              distance: () => a,
              getBBoxByArray: () => u,
              getBBoxRange: () => c,
              isNumberEqual: () => s,
              piMod: () => l,
            });
          var h = n(1437);
          const f = {
            box: function (t, e, n, r) {
              return u([t, n], [e, r]);
            },
            length: function (t, e, n, r) {
              return a(t, e, n, r);
            },
            pointAt: function (t, e, n, r, i) {
              return { x: (1 - i) * t + i * n, y: (1 - i) * e + i * r };
            },
            pointDistance: function (t, e, n, r, i, o) {
              var s = (n - t) * (i - t) + (r - e) * (o - e);
              return s < 0
                ? a(t, e, i, o)
                : s > (n - t) * (n - t) + (r - e) * (r - e)
                ? a(n, r, i, o)
                : this.pointToLine(t, e, n, r, i, o);
            },
            pointToLine: function (t, e, n, r, i, o) {
              var a = [n - t, r - e];
              if (h.exactEquals(a, [0, 0])) return Math.sqrt((i - t) * (i - t) + (o - e) * (o - e));
              var s = [-a[1], a[0]];
              h.normalize(s, s);
              var u = [i - t, o - e];
              return Math.abs(h.dot(u, s));
            },
            tangentAngle: function (t, e, n, r) {
              return Math.atan2(r - e, n - t);
            },
          };
          function d(t, e, n, r, i, o) {
            var s,
              u = 1 / 0,
              c = [n, r],
              l = 20;
            o && o > 200 && (l = o / 10);
            for (var h = 1 / l, f = h / 10, d = 0; d <= l; d++) {
              var p = d * h,
                g = [i.apply(null, t.concat([p])), i.apply(null, e.concat([p]))];
              (b = a(c[0], c[1], g[0], g[1])) < u && ((s = p), (u = b));
            }
            if (0 === s) return { x: t[0], y: e[0] };
            if (1 === s) {
              var v = t.length;
              return { x: t[v - 1], y: e[v - 1] };
            }
            for (u = 1 / 0, d = 0; d < 32 && !(f < 1e-4); d++) {
              var y = s - f,
                m = s + f,
                b =
                  ((g = [i.apply(null, t.concat([y])), i.apply(null, e.concat([y]))]),
                  a(c[0], c[1], g[0], g[1]));
              if (y >= 0 && b < u) (s = y), (u = b);
              else {
                var x = [i.apply(null, t.concat([m])), i.apply(null, e.concat([m]))],
                  _ = a(c[0], c[1], x[0], x[1]);
                m <= 1 && _ < u ? ((s = m), (u = _)) : (f *= 0.5);
              }
            }
            return { x: i.apply(null, t.concat([s])), y: i.apply(null, e.concat([s])) };
          }
          function p(t, e, n, r) {
            var i = 1 - r;
            return i * i * t + 2 * r * i * e + r * r * n;
          }
          function g(t, e, n) {
            var r = t + n - 2 * e;
            if (s(r, 0)) return [0.5];
            var i = (t - e) / r;
            return i <= 1 && i >= 0 ? [i] : [];
          }
          function v(t, e, n, r) {
            return 2 * (1 - r) * (e - t) + 2 * r * (n - e);
          }
          function y(t, e, n, r, i, o, a) {
            var s = p(t, n, i, a),
              u = p(e, r, o, a),
              c = f.pointAt(t, e, n, r, a),
              l = f.pointAt(n, r, i, o, a);
            return [
              [t, e, c.x, c.y, s, u],
              [s, u, l.x, l.y, i, o],
            ];
          }
          function m(t, e, n, r, i, o, s) {
            if (0 === s) return (a(t, e, n, r) + a(n, r, i, o) + a(t, e, i, o)) / 2;
            var u = y(t, e, n, r, i, o, 0.5),
              c = u[0],
              l = u[1];
            return c.push(s - 1), l.push(s - 1), m.apply(null, c) + m.apply(null, l);
          }
          const b = {
            box: function (t, e, n, r, i, o) {
              var a = g(t, n, i)[0],
                s = g(e, r, o)[0],
                c = [t, i],
                l = [e, o];
              return (
                void 0 !== a && c.push(p(t, n, i, a)),
                void 0 !== s && l.push(p(e, r, o, s)),
                u(c, l)
              );
            },
            length: function (t, e, n, r, i, o) {
              return m(t, e, n, r, i, o, 3);
            },
            nearestPoint: function (t, e, n, r, i, o, a, s) {
              return d([t, n, i], [e, r, o], a, s, p);
            },
            pointDistance: function (t, e, n, r, i, o, s, u) {
              var c = this.nearestPoint(t, e, n, r, i, o, s, u);
              return a(c.x, c.y, s, u);
            },
            interpolationAt: p,
            pointAt: function (t, e, n, r, i, o, a) {
              return { x: p(t, n, i, a), y: p(e, r, o, a) };
            },
            divide: function (t, e, n, r, i, o, a) {
              return y(t, e, n, r, i, o, a);
            },
            tangentAngle: function (t, e, n, r, i, o, a) {
              var s = v(t, n, i, a),
                u = v(e, r, o, a);
              return l(Math.atan2(u, s));
            },
          };
          function x(t, e, n, r, i) {
            var o = 1 - i;
            return o * o * o * t + 3 * e * i * o * o + 3 * n * i * i * o + r * i * i * i;
          }
          function _(t, e, n, r, i) {
            var o = 1 - i;
            return 3 * (o * o * (e - t) + 2 * o * i * (n - e) + i * i * (r - n));
          }
          function w(t, e, n, r) {
            var i,
              o,
              a,
              u = -3 * t + 9 * e - 9 * n + 3 * r,
              c = 6 * t - 12 * e + 6 * n,
              l = 3 * e - 3 * t,
              h = [];
            if (s(u, 0)) s(c, 0) || ((i = -l / c) >= 0 && i <= 1 && h.push(i));
            else {
              var f = c * c - 4 * u * l;
              s(f, 0)
                ? h.push(-c / (2 * u))
                : f > 0 &&
                  ((o = (-c - (a = Math.sqrt(f))) / (2 * u)),
                  (i = (-c + a) / (2 * u)) >= 0 && i <= 1 && h.push(i),
                  o >= 0 && o <= 1 && h.push(o));
            }
            return h;
          }
          function E(t, e, n, r, i, o, a, s, u) {
            var c = x(t, n, i, a, u),
              l = x(e, r, o, s, u),
              h = f.pointAt(t, e, n, r, u),
              d = f.pointAt(n, r, i, o, u),
              p = f.pointAt(i, o, a, s, u),
              g = f.pointAt(h.x, h.y, d.x, d.y, u),
              v = f.pointAt(d.x, d.y, p.x, p.y, u);
            return [
              [t, e, h.x, h.y, g.x, g.y, c, l],
              [c, l, v.x, v.y, p.x, p.y, a, s],
            ];
          }
          function S(t, e, n, r, i, o, s, u, c) {
            if (0 === c)
              return (function (t, e) {
                for (var n = 0, r = t.length, i = 0; i < r; i++)
                  n += a(t[i], e[i], t[(i + 1) % r], e[(i + 1) % r]);
                return n / 2;
              })([t, n, i, s], [e, r, o, u]);
            var l = E(t, e, n, r, i, o, s, u, 0.5),
              h = l[0],
              f = l[1];
            return h.push(c - 1), f.push(c - 1), S.apply(null, h) + S.apply(null, f);
          }
          const M = {
            extrema: w,
            box: function (t, e, n, r, i, o, a, s) {
              for (
                var c = [t, a], l = [e, s], h = w(t, n, i, a), f = w(e, r, o, s), d = 0;
                d < h.length;
                d++
              )
                c.push(x(t, n, i, a, h[d]));
              for (d = 0; d < f.length; d++) l.push(x(e, r, o, s, f[d]));
              return u(c, l);
            },
            length: function (t, e, n, r, i, o, a, s) {
              return S(t, e, n, r, i, o, a, s, 3);
            },
            nearestPoint: function (t, e, n, r, i, o, a, s, u, c, l) {
              return d([t, n, i, a], [e, r, o, s], u, c, x, l);
            },
            pointDistance: function (t, e, n, r, i, o, s, u, c, l, h) {
              var f = this.nearestPoint(t, e, n, r, i, o, s, u, c, l, h);
              return a(f.x, f.y, c, l);
            },
            interpolationAt: x,
            pointAt: function (t, e, n, r, i, o, a, s, u) {
              return { x: x(t, n, i, a, u), y: x(e, r, o, s, u) };
            },
            divide: function (t, e, n, r, i, o, a, s, u) {
              return E(t, e, n, r, i, o, a, s, u);
            },
            tangentAngle: function (t, e, n, r, i, o, a, s, u) {
              var c = _(t, n, i, a, u),
                h = _(e, r, o, s, u);
              return l(Math.atan2(h, c));
            },
          };
          function k(t, e) {
            var n = Math.abs(t);
            return e > 0 ? n : -1 * n;
          }
          function A(t, e, n, r, i, o) {
            return n * Math.cos(i) * Math.cos(o) - r * Math.sin(i) * Math.sin(o) + t;
          }
          function C(t, e, n, r, i, o) {
            return n * Math.sin(i) * Math.cos(o) + r * Math.cos(i) * Math.sin(o) + e;
          }
          function I(t, e, n) {
            return { x: t * Math.cos(n), y: e * Math.sin(n) };
          }
          function T(t, e, n) {
            var r = Math.cos(n),
              i = Math.sin(n);
            return [t * r - e * i, t * i + e * r];
          }
          const N = {
            box: function (t, e, n, r, i, o, a) {
              for (
                var s = (function (t, e, n) {
                    return Math.atan((-e / t) * Math.tan(n));
                  })(n, r, i),
                  u = 1 / 0,
                  c = -1 / 0,
                  l = [o, a],
                  h = 2 * -Math.PI;
                h <= 2 * Math.PI;
                h += Math.PI
              ) {
                var f = s + h;
                o < a ? o < f && f < a && l.push(f) : a < f && f < o && l.push(f);
              }
              for (h = 0; h < l.length; h++) {
                var d = A(t, 0, n, r, i, l[h]);
                d < u && (u = d), d > c && (c = d);
              }
              var p = (function (t, e, n) {
                  return Math.atan(e / (t * Math.tan(n)));
                })(n, r, i),
                g = 1 / 0,
                v = -1 / 0,
                y = [o, a];
              for (h = 2 * -Math.PI; h <= 2 * Math.PI; h += Math.PI) {
                var m = p + h;
                o < a ? o < m && m < a && y.push(m) : a < m && m < o && y.push(m);
              }
              for (h = 0; h < y.length; h++) {
                var b = C(0, e, n, r, i, y[h]);
                b < g && (g = b), b > v && (v = b);
              }
              return { x: u, y: g, width: c - u, height: v - g };
            },
            length: function (t, e, n, r, i, o, a) {},
            nearestPoint: function (t, e, n, r, i, o, a, s, u) {
              var c = T(s - t, u - e, -i),
                l = (function (t, e, n, r, i, o) {
                  var a = n,
                    s = r;
                  if (0 === a || 0 === s) return { x: t, y: e };
                  for (
                    var u,
                      c,
                      l = i - t,
                      h = o - e,
                      f = Math.abs(l),
                      d = Math.abs(h),
                      p = a * a,
                      g = s * s,
                      v = Math.PI / 4,
                      y = 0;
                    y < 4;
                    y++
                  ) {
                    (u = a * Math.cos(v)), (c = s * Math.sin(v));
                    var m = ((p - g) * Math.pow(Math.cos(v), 3)) / a,
                      b = ((g - p) * Math.pow(Math.sin(v), 3)) / s,
                      x = u - m,
                      _ = c - b,
                      w = f - m,
                      E = d - b,
                      S = Math.hypot(_, x),
                      M = Math.hypot(E, w);
                    (v +=
                      (S * Math.asin((x * E - _ * w) / (S * M))) /
                      Math.sqrt(p + g - u * u - c * c)),
                      (v = Math.min(Math.PI / 2, Math.max(0, v)));
                  }
                  return { x: t + k(u, l), y: e + k(c, h) };
                })(0, 0, n, r, c[0], c[1]),
                h = (function (t, e, n, r) {
                  return (Math.atan2(r * t, n * e) + 2 * Math.PI) % (2 * Math.PI);
                })(n, r, l.x, l.y);
              h < o ? (l = I(n, r, o)) : h > a && (l = I(n, r, a));
              var f = T(l.x, l.y, i);
              return { x: f[0] + t, y: f[1] + e };
            },
            pointDistance: function (t, e, n, r, i, o, s, u, c) {
              var l = this.nearestPoint(t, e, n, r, u, c);
              return a(l.x, l.y, u, c);
            },
            pointAt: function (t, e, n, r, i, o, a, s) {
              var u = (a - o) * s + o;
              return { x: A(t, 0, n, r, i, u), y: C(0, e, n, r, i, u) };
            },
            tangentAngle: function (t, e, n, r, i, o, a, s) {
              var u = (a - o) * s + o,
                c = (function (t, e, n, r, i, o, a, s) {
                  return -1 * n * Math.cos(i) * Math.sin(s) - r * Math.sin(i) * Math.cos(s);
                })(0, 0, n, r, i, 0, 0, u),
                h = (function (t, e, n, r, i, o, a, s) {
                  return -1 * n * Math.sin(i) * Math.sin(s) + r * Math.cos(i) * Math.cos(s);
                })(0, 0, n, r, i, 0, 0, u);
              return l(Math.atan2(h, c));
            },
          };
          function P(t) {
            for (var e = 0, n = [], r = 0; r < t.length - 1; r++) {
              var i = t[r],
                o = t[r + 1],
                s = a(i[0], i[1], o[0], o[1]),
                u = { from: i, to: o, length: s };
              n.push(u), (e += s);
            }
            return { segments: n, totalLength: e };
          }
          const O = {
            box: function (t) {
              for (var e = [], n = [], r = 0; r < t.length; r++) {
                var i = t[r];
                e.push(i[0]), n.push(i[1]);
              }
              return u(e, n);
            },
            length: function (t) {
              return (function (t) {
                if (t.length < 2) return 0;
                for (var e = 0, n = 0; n < t.length - 1; n++) {
                  var r = t[n],
                    i = t[n + 1];
                  e += a(r[0], r[1], i[0], i[1]);
                }
                return e;
              })(t);
            },
            pointAt: function (t, e) {
              return (function (t, e) {
                if (e > 1 || e < 0 || t.length < 2) return null;
                var n = P(t),
                  r = n.segments,
                  i = n.totalLength;
                if (0 === i) return { x: t[0][0], y: t[0][1] };
                for (var o = 0, a = null, s = 0; s < r.length; s++) {
                  var u = r[s],
                    c = u.from,
                    l = u.to,
                    h = u.length / i;
                  if (e >= o && e <= o + h) {
                    var d = (e - o) / h;
                    a = f.pointAt(c[0], c[1], l[0], l[1], d);
                    break;
                  }
                  o += h;
                }
                return a;
              })(t, e);
            },
            pointDistance: function (t, e, n) {
              return (function (t, e, n) {
                for (var r = 1 / 0, i = 0; i < t.length - 1; i++) {
                  var o = t[i],
                    a = t[i + 1],
                    s = f.pointDistance(o[0], o[1], a[0], a[1], e, n);
                  s < r && (r = s);
                }
                return r;
              })(t, e, n);
            },
            tangentAngle: function (t, e) {
              return (function (t, e) {
                if (e > 1 || e < 0 || t.length < 2) return 0;
                for (
                  var n = P(t), r = n.segments, i = n.totalLength, o = 0, a = 0, s = 0;
                  s < r.length;
                  s++
                ) {
                  var u = r[s],
                    c = u.from,
                    l = u.to,
                    h = u.length / i;
                  if (e >= o && e <= o + h) {
                    a = Math.atan2(l[1] - c[1], l[0] - c[0]);
                    break;
                  }
                  o += h;
                }
                return a;
              })(t, e);
            },
          };
        },
        499: () => {},
        4851: () => {},
        9518: () => {},
        6199: () => {},
        4156: () => {},
        1468: () => {},
        8871: () => {},
        9871: () => {},
        5612: () => {},
        2777: () => {},
        159: () => {},
        1622: () => {},
        3682: (t, e, n) => {
          'use strict';
          function r(t, e, n, r) {
            n &&
              Object.defineProperty(t, e, {
                enumerable: n.enumerable,
                configurable: n.configurable,
                writable: n.writable,
                value: n.initializer ? n.initializer.call(r) : void 0,
              });
          }
          function i(t, e) {
            if (!(t instanceof e)) throw new TypeError('Cannot call a class as a function');
          }
          function o(t, e) {
            for (var n = 0; n < e.length; n++) {
              var r = e[n];
              (r.enumerable = r.enumerable || !1),
                (r.configurable = !0),
                'value' in r && (r.writable = !0),
                Object.defineProperty(t, r.key, r);
            }
          }
          function a(t, e, n) {
            return e && o(t.prototype, e), n && o(t, n), t;
          }
          function s(t, e, n, r, i) {
            var o = {};
            return (
              Object.keys(r).forEach(function (t) {
                o[t] = r[t];
              }),
              (o.enumerable = !!o.enumerable),
              (o.configurable = !!o.configurable),
              ('value' in o || o.initializer) && (o.writable = !0),
              (o = n
                .slice()
                .reverse()
                .reduce(function (n, r) {
                  return r(t, e, n) || n;
                }, o)),
              i &&
                void 0 !== o.initializer &&
                ((o.value = o.initializer ? o.initializer.call(i) : void 0),
                (o.initializer = void 0)),
              void 0 === o.initializer && (Object.defineProperty(t, e, o), (o = null)),
              o
            );
          }
          n.r(e),
            n.d(e, {
              Camera: () => Wr,
              Geometry: () => Yr,
              Kernel: () => Vi,
              Material: () => Wi,
              Renderable: () => Yi,
              World: () => hu,
            }),
            n(8660);
          var u = n(7757),
            c = n.n(u);
          function l(t, e, n, r, i, o, a) {
            try {
              var s = t[o](a),
                u = s.value;
            } catch (t) {
              return void n(t);
            }
            s.done ? e(u) : Promise.resolve(u).then(r, i);
          }
          function h(t) {
            return function () {
              var e = this,
                n = arguments;
              return new Promise(function (r, i) {
                var o = t.apply(e, n);
                function a(t) {
                  l(o, r, i, a, s, 'next', t);
                }
                function s(t) {
                  l(o, r, i, a, s, 'throw', t);
                }
                a(void 0);
              });
            };
          }
          var f = 1;
          function d() {
            return f++;
          }
          var p = function t(e) {
              i(this, t);
            },
            g = (function () {
              function t(e) {
                i(this, t),
                  (this.clazz = void 0),
                  (this.components = []),
                  (this.entities = []),
                  (this.lookup = {}),
                  (this.clazz = e);
              }
              var e;
              return (
                a(t, [
                  {
                    key: 'clear',
                    value: function () {
                      (this.components = []), (this.entities = []), (this.lookup = {});
                    },
                  },
                  {
                    key: 'contains',
                    value: function (t) {
                      return this.lookup[t] > -1;
                    },
                  },
                  {
                    key: 'create',
                    value: function (t, e) {
                      this.lookup[t] = this.components.length;
                      var n = new this.clazz(e || {});
                      return this.components.push(n), this.entities.push(t), n;
                    },
                  },
                  {
                    key: 'remove',
                    value: function (t) {
                      var e = this.lookup[t];
                      e > -1 &&
                        e < this.components.length - 1 &&
                        ((this.components[e] = this.components[this.components.length - 1]),
                        (this.entities[e] = this.entities[this.entities.length - 1]),
                        (this.lookup[this.entities[e]] = e)),
                        this.components.pop(),
                        this.entities.pop(),
                        delete this.lookup[t];
                    },
                  },
                  {
                    key: 'removeKeepSorted',
                    value: function (t) {
                      var e = this.lookup[t];
                      if (e > -1) {
                        var n = this.entities[e];
                        if (e < this.components.length - 1) {
                          for (var r = e + 1; r < this.components.length; ++r)
                            this.components[r - 1] = this.components[r];
                          for (var i = e + 1; i < this.entities.length; ++i)
                            (this.entities[i - 1] = this.entities[i]),
                              (this.lookup[this.entities[i - 1]] = i - 1);
                        }
                        this.components.pop(), this.entities.pop(), delete this.lookup[n];
                      }
                    },
                  },
                  {
                    key: 'moveItem',
                    value: function (t, e) {
                      if (t !== e) {
                        for (
                          var n = this.components[t],
                            r = this.entities[t],
                            i = t < e ? 1 : -1,
                            o = t;
                          o !== e;
                          o += i
                        ) {
                          var a = o + i;
                          (this.components[o] = this.components[a]),
                            (this.entities[o] = this.entities[a]),
                            (this.lookup[this.entities[o]] = o);
                        }
                        (this.components[e] = n), (this.entities[e] = r), (this.lookup[r] = e);
                      }
                    },
                  },
                  {
                    key: 'getEntity',
                    value: function (t) {
                      return this.entities[t];
                    },
                  },
                  {
                    key: 'getComponent',
                    value: function (t) {
                      return this.components[t];
                    },
                  },
                  {
                    key: 'getComponentByEntity',
                    value: function (t) {
                      var e = this.lookup[t];
                      return e > -1 ? this.components[e] : null;
                    },
                  },
                  {
                    key: 'getCount',
                    value: function () {
                      return this.components.length;
                    },
                  },
                  {
                    key: 'getEntityByComponentIndex',
                    value: function (t) {
                      for (var e = 0, n = Object.keys(this.lookup); e < n.length; e++) {
                        var r = n[e],
                          i = Number(r);
                        if (this.lookup[i] === t) return i;
                      }
                      return -1;
                    },
                  },
                  {
                    key: 'find',
                    value: function (t) {
                      for (var e = 0; e < this.getCount(); e++) {
                        var n = this.getComponent(e);
                        if (t(n, e)) return n;
                      }
                      return null;
                    },
                  },
                  {
                    key: 'findIndex',
                    value: function (t) {
                      for (var e = 0; e < this.getCount(); e++)
                        if (t(this.getComponent(e), e)) return e;
                      return -1;
                    },
                  },
                  {
                    key: 'forEach',
                    value: function (t) {
                      for (var e = 0, n = Object.keys(this.lookup); e < n.length; e++) {
                        var r = n[e],
                          i = Number(r),
                          o = this.lookup[i];
                        t(i, this.getComponent(o));
                      }
                    },
                  },
                  {
                    key: 'forEachAsync',
                    value:
                      ((e = h(
                        c().mark(function t(e) {
                          var n, r, i, o, a;
                          return c().wrap(
                            function (t) {
                              for (;;)
                                switch ((t.prev = t.next)) {
                                  case 0:
                                    (n = 0), (r = Object.keys(this.lookup));
                                  case 1:
                                    if (!(n < r.length)) {
                                      t.next = 10;
                                      break;
                                    }
                                    return (
                                      (i = r[n]),
                                      (o = Number(i)),
                                      (a = this.lookup[o]),
                                      (t.next = 7),
                                      e(o, this.getComponent(a))
                                    );
                                  case 7:
                                    n++, (t.next = 1);
                                    break;
                                  case 10:
                                  case 'end':
                                    return t.stop();
                                }
                            },
                            t,
                            this,
                          );
                        }),
                      )),
                      function (t) {
                        return e.apply(this, arguments);
                      }),
                  },
                  {
                    key: 'map',
                    value: function (t) {
                      for (var e = [], n = 0, r = Object.keys(this.lookup); n < r.length; n++) {
                        var i = r[n],
                          o = Number(i),
                          a = this.lookup[o];
                        e.push(t(o, this.getComponent(a)));
                      }
                      return e;
                    },
                  },
                ]),
                t
              );
            })();
          function v(t, e) {
            (null == e || e > t.length) && (e = t.length);
            for (var n = 0, r = new Array(e); n < e; n++) r[n] = t[n];
            return r;
          }
          function y(t, e) {
            if (t) {
              if ('string' == typeof t) return v(t, e);
              var n = Object.prototype.toString.call(t).slice(8, -1);
              return (
                'Object' === n && t.constructor && (n = t.constructor.name),
                'Map' === n || 'Set' === n
                  ? Array.from(t)
                  : 'Arguments' === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)
                  ? v(t, e)
                  : void 0
              );
            }
          }
          function m(t, e) {
            return (
              (function (t) {
                if (Array.isArray(t)) return t;
              })(t) ||
              (function (t, e) {
                var n =
                  null == t
                    ? null
                    : ('undefined' != typeof Symbol && t[Symbol.iterator]) || t['@@iterator'];
                if (null != n) {
                  var r,
                    i,
                    o = [],
                    a = !0,
                    s = !1;
                  try {
                    for (
                      n = n.call(t);
                      !(a = (r = n.next()).done) && (o.push(r.value), !e || o.length !== e);
                      a = !0
                    );
                  } catch (t) {
                    (s = !0), (i = t);
                  } finally {
                    try {
                      a || null == n.return || n.return();
                    } finally {
                      if (s) throw i;
                    }
                  }
                  return o;
                }
              })(t, e) ||
              y(t, e) ||
              (function () {
                throw new TypeError(
                  'Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.',
                );
              })()
            );
          }
          var b = n(6700),
            x = {
              HierarchyComponentManager: Symbol('HierarchyComponentManager'),
              TransformComponentManager: Symbol('TransformComponentManager'),
              NameComponentManager: Symbol('NameComponentManager'),
              SceneGraphSystem: Symbol('SceneGraphSystem'),
              FrameGraphSystem: Symbol('FrameGraphSystem'),
              ResourcePool: Symbol('ResourcePool'),
              ResourceHandleComponentManager: Symbol('ResourceHandleComponentManager'),
              PassNodeComponentManager: Symbol('PassNodeComponentManager'),
              RendererSystem: Symbol('RendererSystem'),
              RenderPass: Symbol('RenderPass'),
              RenderPassFactory: Symbol('Factory<IRenderPass>'),
              Renderable: Symbol('Factory<IRenderPass>'),
              MeshSystem: Symbol('MeshSystem'),
              MeshComponentManager: Symbol('MeshComponentManager'),
              CullableComponentManager: Symbol('CullableComponentManager'),
              Geometry: Symbol('Geometry'),
              GeometrySystem: Symbol('GeometrySystem'),
              GeometryComponentManager: Symbol('GeometryComponentManager'),
              Material: Symbol('Material'),
              MaterialSystem: Symbol('MaterialSystem'),
              MaterialComponentManager: Symbol('MaterialComponentManager'),
              ForwardRenderPath: Symbol('ForwardRenderPath'),
              ComputeSystem: Symbol('ComputeSystem'),
              ComputeComponentManager: Symbol('ComputeComponentManager'),
              ComputeStrategy: Symbol('ComputeStrategy'),
              Systems: Symbol('Systems'),
              World: Symbol('World'),
              RenderEngine: Symbol('RenderEngine'),
              WebGPUEngine: Symbol('WebGPUEngine'),
              WebGLEngine: Symbol('WebGLEngine'),
              ShaderModuleService: Symbol('ShaderModuleService'),
              ConfigService: Symbol('ConfigService'),
              InteractorService: Symbol('InteractorService'),
              IEventEmitter: Symbol('IEventEmitter'),
              Light: Symbol('Light'),
            },
            _ = function t() {
              i(this, t), (this.index = void 0);
            },
            w = function t() {
              i(this, t),
                (this.name = void 0),
                (this.data = void 0),
                (this.execute = void 0),
                (this.tearDown = void 0);
            },
            E = (function () {
              function t() {
                i(this, t),
                  (this.name = void 0),
                  (this.refCount = 0),
                  (this.hasSideEffect = !1),
                  (this.devirtualize = []),
                  (this.destroy = []),
                  (this.reads = []),
                  (this.writes = []);
              }
              return (
                a(t, [
                  {
                    key: 'read',
                    value: function (t) {
                      return (
                        this.reads.find(function (e) {
                          return e.index === t.index;
                        }) || this.reads.push(t),
                        t
                      );
                    },
                  },
                  {
                    key: 'sample',
                    value: function (t) {
                      return this.read(t), t;
                    },
                  },
                  {
                    key: 'write',
                    value: function (t, e) {
                      if (
                        this.writes.find(function (t) {
                          return t.index === e.index;
                        })
                      )
                        return e;
                      var n = t.getResourceNode(e);
                      n.resource.version++, n.resource.imported && (this.hasSideEffect = !0);
                      var r = t.createResourceNode(n.resource);
                      return (t.getResourceNode(r).writer = this), this.writes.push(r), r;
                    },
                  },
                ]),
                t
              );
            })();
          function S(t, e) {
            return (
              (S =
                Object.setPrototypeOf ||
                function (t, e) {
                  return (t.__proto__ = e), t;
                }),
              S(t, e)
            );
          }
          function M(t, e) {
            if ('function' != typeof e && null !== e)
              throw new TypeError('Super expression must either be null or a function');
            (t.prototype = Object.create(e && e.prototype, {
              constructor: { value: t, writable: !0, configurable: !0 },
            })),
              e && S(t, e);
          }
          function k(t) {
            return (
              (k =
                'function' == typeof Symbol && 'symbol' == typeof Symbol.iterator
                  ? function (t) {
                      return typeof t;
                    }
                  : function (t) {
                      return t &&
                        'function' == typeof Symbol &&
                        t.constructor === Symbol &&
                        t !== Symbol.prototype
                        ? 'symbol'
                        : typeof t;
                    }),
              k(t)
            );
          }
          function A(t) {
            if (void 0 === t)
              throw new ReferenceError("this hasn't been initialised - super() hasn't been called");
            return t;
          }
          function C(t, e) {
            if (e && ('object' === k(e) || 'function' == typeof e)) return e;
            if (void 0 !== e)
              throw new TypeError('Derived constructors may only return object or undefined');
            return A(t);
          }
          function I(t) {
            return (
              (I = Object.setPrototypeOf
                ? Object.getPrototypeOf
                : function (t) {
                    return t.__proto__ || Object.getPrototypeOf(t);
                  }),
              I(t)
            );
          }
          var T,
            N,
            P,
            O,
            D,
            L,
            R = (function (t) {
              M(o, function t() {
                i(this, t), (this.first = void 0), (this.last = void 0);
              });
              var e,
                n,
                r =
                  ((e = o),
                  (n = (function () {
                    if ('undefined' == typeof Reflect || !Reflect.construct) return !1;
                    if (Reflect.construct.sham) return !1;
                    if ('function' == typeof Proxy) return !0;
                    try {
                      return (
                        Date.prototype.toString.call(Reflect.construct(Date, [], function () {})),
                        !0
                      );
                    } catch (t) {
                      return !1;
                    }
                  })()),
                  function () {
                    var t,
                      r = I(e);
                    if (n) {
                      var i = I(this).constructor;
                      t = Reflect.construct(r, arguments, i);
                    } else t = r.apply(this, arguments);
                    return C(this, t);
                  });
              function o() {
                var t;
                i(this, o);
                for (var e = arguments.length, n = new Array(e), a = 0; a < e; a++)
                  n[a] = arguments[a];
                return (
                  ((t = r.call.apply(r, [this].concat(n))).version = 0),
                  (t.refs = 0),
                  (t.name = void 0),
                  (t.imported = void 0),
                  (t.priority = void 0),
                  (t.discardStart = !0),
                  (t.discardEnd = !1),
                  (t.descriptor = void 0),
                  (t.resource = void 0),
                  t
                );
              }
              return (
                a(o, [
                  {
                    key: 'preExecuteDestroy',
                    value: function () {
                      this.discardEnd = !0;
                    },
                  },
                  {
                    key: 'postExecuteDestroy',
                    value: function () {
                      this.imported;
                    },
                  },
                  {
                    key: 'postExecuteDevirtualize',
                    value: function () {
                      this.discardStart = !1;
                    },
                  },
                  {
                    key: 'preExecuteDevirtualize',
                    value: function () {
                      this.imported;
                    },
                  },
                ]),
                o
              );
            })(),
            B = function t() {
              i(this, t),
                (this.resource = void 0),
                (this.writer = void 0),
                (this.readerCount = 0),
                (this.version = void 0);
            };
          function j(t, e) {
            var n;
            if ('undefined' == typeof Symbol || null == t[Symbol.iterator]) {
              if (
                Array.isArray(t) ||
                (n = (function (t, e) {
                  if (t) {
                    if ('string' == typeof t) return G(t, e);
                    var n = Object.prototype.toString.call(t).slice(8, -1);
                    return (
                      'Object' === n && t.constructor && (n = t.constructor.name),
                      'Map' === n || 'Set' === n
                        ? Array.from(t)
                        : 'Arguments' === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)
                        ? G(t, e)
                        : void 0
                    );
                  }
                })(t)) ||
                (e && t && 'number' == typeof t.length)
              ) {
                n && (t = n);
                var r = 0,
                  i = function () {};
                return {
                  s: i,
                  n: function () {
                    return r >= t.length ? { done: !0 } : { done: !1, value: t[r++] };
                  },
                  e: function (t) {
                    throw t;
                  },
                  f: i,
                };
              }
              throw new TypeError(
                'Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.',
              );
            }
            var o,
              a = !0,
              s = !1;
            return {
              s: function () {
                n = t[Symbol.iterator]();
              },
              n: function () {
                var t = n.next();
                return (a = t.done), t;
              },
              e: function (t) {
                (s = !0), (o = t);
              },
              f: function () {
                try {
                  a || null == n.return || n.return();
                } finally {
                  if (s) throw o;
                }
              },
            };
          }
          function G(t, e) {
            (null == e || e > t.length) && (e = t.length);
            for (var n = 0, r = new Array(e); n < e; n++) r[n] = t[n];
            return r;
          }
          var z =
            ((T = (0, b.b2)()),
            (N = (0, b.f3)(x.RenderEngine)),
            T(
              ((L = (function () {
                function t() {
                  i(this, t),
                    (this.passNodes = []),
                    (this.resourceNodes = []),
                    (this.frameGraphPasses = []),
                    r(this, 'engine', D, this);
                }
                var e, n;
                return (
                  a(t, [
                    {
                      key: 'execute',
                      value:
                        ((n = h(
                          c().mark(function t(e) {
                            return c().wrap(
                              function (t) {
                                for (;;)
                                  switch ((t.prev = t.next)) {
                                    case 0:
                                      return this.compile(), (t.next = 3), this.executePassNodes(e);
                                    case 3:
                                    case 'end':
                                      return t.stop();
                                  }
                              },
                              t,
                              this,
                            );
                          }),
                        )),
                        function (t) {
                          return n.apply(this, arguments);
                        }),
                    },
                    {
                      key: 'tearDown',
                      value: function () {
                        this.frameGraphPasses.forEach(function (t) {
                          t.tearDown && t.tearDown();
                        }),
                          this.reset();
                      },
                    },
                    {
                      key: 'addPass',
                      value: function (t, e, n, r) {
                        var i = new w();
                        (i.execute = n), r && (i.tearDown = r), (i.name = t);
                        var o = new E();
                        return (
                          (o.name = t),
                          this.passNodes.push(o),
                          this.frameGraphPasses.push(i),
                          e(this, o, i),
                          i
                        );
                      },
                    },
                    {
                      key: 'getPass',
                      value: function (t) {
                        return this.frameGraphPasses.find(function (e) {
                          return e.name === t;
                        });
                      },
                    },
                    {
                      key: 'compile',
                      value: function () {
                        var t,
                          e = this,
                          n = j(this.passNodes);
                        try {
                          for (n.s(); !(t = n.n()).done; ) {
                            var r = t.value;
                            (r.refCount = r.writes.length + (r.hasSideEffect ? 1 : 0)),
                              r.reads.forEach(function (t) {
                                e.resourceNodes[t.index].readerCount++;
                              });
                          }
                        } catch (t) {
                          n.e(t);
                        } finally {
                          n.f();
                        }
                        var i,
                          o = [],
                          a = j(this.resourceNodes);
                        try {
                          for (a.s(); !(i = a.n()).done; ) {
                            var s = i.value;
                            0 === s.readerCount && o.push(s);
                          }
                        } catch (t) {
                          a.e(t);
                        } finally {
                          a.f();
                        }
                        for (; o.length; ) {
                          var u = o.pop(),
                            c = u && u.writer;
                          if (c && 0 == --c.refCount) {
                            var l,
                              h = j(c.reads);
                            try {
                              for (h.s(); !(l = h.n()).done; ) {
                                var f = l.value,
                                  d = this.resourceNodes[f.index];
                                0 == --d.readerCount && o.push(d);
                              }
                            } catch (t) {
                              h.e(t);
                            } finally {
                              h.f();
                            }
                          }
                        }
                        this.resourceNodes.forEach(function (t) {
                          t.resource.refs += t.readerCount;
                        });
                        var p,
                          g = j(this.passNodes);
                        try {
                          for (g.s(); !(p = g.n()).done; ) {
                            var v = p.value;
                            if (v.refCount) {
                              var y,
                                m = j(v.reads);
                              try {
                                for (m.s(); !(y = m.n()).done; ) {
                                  var b = y.value,
                                    x = this.resourceNodes[b.index].resource;
                                  (x.first = x.first ? x.first : v), (x.last = v);
                                }
                              } catch (t) {
                                m.e(t);
                              } finally {
                                m.f();
                              }
                              var _,
                                w = j(v.writes);
                              try {
                                for (w.s(); !(_ = w.n()).done; ) {
                                  var E = _.value,
                                    S = this.resourceNodes[E.index].resource;
                                  (S.first = S.first ? S.first : v), (S.last = v);
                                }
                              } catch (t) {
                                w.e(t);
                              } finally {
                                w.f();
                              }
                            }
                          }
                        } catch (t) {
                          g.e(t);
                        } finally {
                          g.f();
                        }
                        for (var M = 0; M < 2; M++) {
                          var k,
                            A = j(this.resourceNodes);
                          try {
                            for (A.s(); !(k = A.n()).done; ) {
                              var C = k.value.resource;
                              if (C.priority === M && C.refs) {
                                var I = C.first,
                                  T = C.last;
                                I && T && (I.devirtualize.push(C), T.destroy.push(C));
                              }
                            }
                          } catch (t) {
                            A.e(t);
                          } finally {
                            A.f();
                          }
                        }
                      },
                    },
                    {
                      key: 'executePassNodes',
                      value:
                        ((e = h(
                          c().mark(function t(e) {
                            var n, r, i, o, a, s, u, l, h, f, d, p, g;
                            return c().wrap(
                              function (t) {
                                for (;;)
                                  switch ((t.prev = t.next)) {
                                    case 0:
                                      (n = j(this.passNodes.entries())), (t.prev = 1), n.s();
                                    case 3:
                                      if ((r = n.n()).done) {
                                        t.next = 18;
                                        break;
                                      }
                                      if (((i = m(r.value, 2)), (o = i[0]), !(a = i[1]).refCount)) {
                                        t.next = 16;
                                        break;
                                      }
                                      s = j(a.devirtualize);
                                      try {
                                        for (s.s(); !(u = s.n()).done; )
                                          u.value.preExecuteDevirtualize(this.engine);
                                      } catch (t) {
                                        s.e(t);
                                      } finally {
                                        s.f();
                                      }
                                      l = j(a.destroy);
                                      try {
                                        for (l.s(); !(h = l.n()).done; )
                                          h.value.preExecuteDestroy(this.engine);
                                      } catch (t) {
                                        l.e(t);
                                      } finally {
                                        l.f();
                                      }
                                      return (
                                        (t.next = 12),
                                        this.frameGraphPasses[o].execute(
                                          this,
                                          this.frameGraphPasses[o],
                                          e,
                                        )
                                      );
                                    case 12:
                                      f = j(a.devirtualize);
                                      try {
                                        for (f.s(); !(d = f.n()).done; )
                                          d.value.postExecuteDevirtualize(this.engine);
                                      } catch (t) {
                                        f.e(t);
                                      } finally {
                                        f.f();
                                      }
                                      p = j(a.destroy);
                                      try {
                                        for (p.s(); !(g = p.n()).done; )
                                          g.value.postExecuteDestroy(this.engine);
                                      } catch (t) {
                                        p.e(t);
                                      } finally {
                                        p.f();
                                      }
                                    case 16:
                                      t.next = 3;
                                      break;
                                    case 18:
                                      t.next = 23;
                                      break;
                                    case 20:
                                      (t.prev = 20), (t.t0 = t.catch(1)), n.e(t.t0);
                                    case 23:
                                      return (t.prev = 23), n.f(), t.finish(23);
                                    case 26:
                                      this.reset();
                                    case 27:
                                    case 'end':
                                      return t.stop();
                                  }
                              },
                              t,
                              this,
                              [[1, 20, 23, 26]],
                            );
                          }),
                        )),
                        function (t) {
                          return e.apply(this, arguments);
                        }),
                    },
                    {
                      key: 'reset',
                      value: function () {
                        (this.passNodes = []),
                          (this.resourceNodes = []),
                          (this.frameGraphPasses = []);
                      },
                    },
                    {
                      key: 'getResourceNode',
                      value: function (t) {
                        return this.resourceNodes[t.index];
                      },
                    },
                    {
                      key: 'createResourceNode',
                      value: function (t) {
                        var e = new B();
                        (e.resource = t), (e.version = t.version), this.resourceNodes.push(e);
                        var n = new _();
                        return (n.index = this.resourceNodes.length - 1), n;
                      },
                    },
                    {
                      key: 'createTexture',
                      value: function (t, e, n) {
                        var r = new R();
                        return (r.name = e), (r.descriptor = n), this.createResourceNode(r);
                      },
                    },
                    {
                      key: 'createRenderTarget',
                      value: function (t, e, n) {
                        var r = new R();
                        return (r.name = e), (r.descriptor = n), this.createResourceNode(r);
                      },
                    },
                    {
                      key: 'present',
                      value: function (t) {
                        this.addPass(
                          'Present',
                          function (e, n) {
                            n.read(t), (n.hasSideEffect = !0);
                          },
                          h(
                            c().mark(function t() {
                              return c().wrap(function (t) {
                                for (;;)
                                  switch ((t.prev = t.next)) {
                                    case 0:
                                    case 'end':
                                      return t.stop();
                                  }
                              }, t);
                            }),
                          ),
                        );
                      },
                    },
                  ]),
                  t
                );
              })()),
              (D = s((O = L).prototype, 'engine', [N], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null,
              })),
              (P = O)),
            ) || P);
          function F(t, e, n) {
            return (
              e in t
                ? Object.defineProperty(t, e, {
                    value: n,
                    enumerable: !0,
                    configurable: !0,
                    writable: !0,
                  })
                : (t[e] = n),
              t
            );
          }
          var U = n(9685);
          function V() {
            var t = new U.WT(4);
            return U.WT != Float32Array && ((t[0] = 0), (t[1] = 0), (t[2] = 0), (t[3] = 0)), t;
          }
          function W(t, e, n, r) {
            var i = new U.WT(4);
            return (i[0] = t), (i[1] = e), (i[2] = n), (i[3] = r), i;
          }
          function Y(t, e, n) {
            var r = e[0],
              i = e[1],
              o = e[2],
              a = e[3];
            return (
              (t[0] = n[0] * r + n[4] * i + n[8] * o + n[12] * a),
              (t[1] = n[1] * r + n[5] * i + n[9] * o + n[13] * a),
              (t[2] = n[2] * r + n[6] * i + n[10] * o + n[14] * a),
              (t[3] = n[3] * r + n[7] * i + n[11] * o + n[15] * a),
              t
            );
          }
          V();
          var X = n(5600),
            H = n(7160),
            q = {};
          (q['[object Float32Array]'] =
            q['[object Float64Array]'] =
            q['[object Int8Array]'] =
            q['[object Int16Array]'] =
            q['[object Int32Array]'] =
            q['[object Uint8Array]'] =
            q['[object Uint8ClampedArray]'] =
            q['[object Uint16Array]'] =
            q['[object Uint32Array]'] =
              !0),
            (q['[object Arguments]'] =
              q['[object Array]'] =
              q['[object ArrayBuffer]'] =
              q['[object Boolean]'] =
              q['[object DataView]'] =
              q['[object Date]'] =
              q['[object Error]'] =
              q['[object Function]'] =
              q['[object Map]'] =
              q['[object Number]'] =
              q['[object Object]'] =
              q['[object RegExp]'] =
              q['[object Set]'] =
              q['[object String]'] =
              q['[object WeakMap]'] =
                !1);
          var K = Object.prototype.toString,
            Z = function (t) {
              return (
                (function (t) {
                  return !!t && 'object' === k(t);
                })(t) &&
                (function (t) {
                  return 'number' == typeof t && t > -1 && t % 1 == 0 && t <= 9007199254740991;
                })(t.length) &&
                !!q[K.call(t)]
              );
            };
          function $(t, e) {
            var n = Object.keys(t);
            if (Object.getOwnPropertySymbols) {
              var r = Object.getOwnPropertySymbols(t);
              e &&
                (r = r.filter(function (e) {
                  return Object.getOwnPropertyDescriptor(t, e).enumerable;
                })),
                n.push.apply(n, r);
            }
            return n;
          }
          function Q(t) {
            for (var e = 1; e < arguments.length; e++) {
              var n = null != arguments[e] ? arguments[e] : {};
              e % 2
                ? $(Object(n), !0).forEach(function (e) {
                    F(t, e, n[e]);
                  })
                : Object.getOwnPropertyDescriptors
                ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n))
                : $(Object(n)).forEach(function (e) {
                    Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e));
                  });
            }
            return t;
          }
          var J,
            tt,
            et,
            nt,
            rt,
            it,
            ot,
            at,
            st,
            ut = (function (t) {
              M(o, t);
              var e,
                n,
                r =
                  ((e = o),
                  (n = (function () {
                    if ('undefined' == typeof Reflect || !Reflect.construct) return !1;
                    if (Reflect.construct.sham) return !1;
                    if ('function' == typeof Proxy) return !0;
                    try {
                      return (
                        Date.prototype.toString.call(Reflect.construct(Date, [], function () {})),
                        !0
                      );
                    } catch (t) {
                      return !1;
                    }
                  })()),
                  function () {
                    var t,
                      r = I(e);
                    if (n) {
                      var i = I(this).constructor;
                      t = Reflect.construct(r, arguments, i);
                    } else t = r.apply(this, arguments);
                    return C(this, t);
                  });
              function o(t) {
                var e;
                return (
                  i(this, o),
                  ((e = r.call(this, t)).dirty = !0),
                  (e.attributes = []),
                  (e.indices = void 0),
                  (e.indicesBuffer = void 0),
                  (e.vertexCount = 0),
                  (e.maxInstancedCount = void 0),
                  (e.aabb = void 0),
                  (e.entity = void 0),
                  Object.assign(A(e), t),
                  e
                );
              }
              return (
                a(o, [
                  {
                    key: 'setAttribute',
                    value: function (t, e, n, r) {
                      var i = this.attributes.find(function (e) {
                        return e.name === t;
                      });
                      return (
                        i
                          ? ((i.data = e), (i.dirty = !0))
                          : this.attributes.push(
                              Q(Q({ dirty: !0, name: t, data: e }, n), {}, { bufferGetter: r }),
                            ),
                        (this.dirty = !0),
                        this
                      );
                    },
                  },
                  {
                    key: 'setIndex',
                    value: function (t) {
                      return (
                        (this.indices = new Uint32Array(t.buffer ? t.buffer : t)),
                        (this.dirty = !0),
                        this
                      );
                    },
                  },
                  {
                    key: 'applyMatrix',
                    value: function (t) {
                      var e = this.attributes.find(function (t) {
                          return 'position' === t.name;
                        }),
                        n = this.attributes.find(function (t) {
                          return 'normal' === t.name;
                        });
                      if (e && ((e.dirty = !0), e.data && e.data.length))
                        for (var r = 0; r < e.data.length; r += 3) {
                          var i = W(e.data[r], e.data[r + 1], e.data[r + 2], 1);
                          Y(i, i, t),
                            Z(e.data)
                              ? e.data.set([i[0], i[1], i[2]], r)
                              : ((e.data[r] = i[0]),
                                (e.data[r + 1] = i[1]),
                                (e.data[r + 2] = i[2]));
                        }
                      if (n) {
                        var o = X.normalFromMat4(X.create(), t);
                        if (n.data && n.data.length)
                          for (var a = 0; a < n.data.length; a += 3) {
                            var s = H.fromValues(n.data[a], n.data[a + 1], n.data[a + 2]);
                            H.transformMat3(s, s, o),
                              H.normalize(s, s),
                              Z(n.data)
                                ? n.data.set([s[0], s[1], s[2]], a)
                                : ((n.data[a] = s[0]),
                                  (n.data[a + 1] = s[1]),
                                  (n.data[a + 2] = s[2]));
                          }
                      }
                    },
                  },
                ]),
                o
              );
            })(p);
          !(function (t) {
            (t[(t.DEPTH_BUFFER_BIT = 256)] = 'DEPTH_BUFFER_BIT'),
              (t[(t.STENCIL_BUFFER_BIT = 1024)] = 'STENCIL_BUFFER_BIT'),
              (t[(t.COLOR_BUFFER_BIT = 16384)] = 'COLOR_BUFFER_BIT'),
              (t[(t.POINTS = 0)] = 'POINTS'),
              (t[(t.LINES = 1)] = 'LINES'),
              (t[(t.LINE_LOOP = 2)] = 'LINE_LOOP'),
              (t[(t.LINE_STRIP = 3)] = 'LINE_STRIP'),
              (t[(t.TRIANGLES = 4)] = 'TRIANGLES'),
              (t[(t.TRIANGLE_STRIP = 5)] = 'TRIANGLE_STRIP'),
              (t[(t.TRIANGLE_FAN = 6)] = 'TRIANGLE_FAN'),
              (t[(t.ZERO = 0)] = 'ZERO'),
              (t[(t.ONE = 1)] = 'ONE'),
              (t[(t.SRC_COLOR = 768)] = 'SRC_COLOR'),
              (t[(t.ONE_MINUS_SRC_COLOR = 769)] = 'ONE_MINUS_SRC_COLOR'),
              (t[(t.SRC_ALPHA = 770)] = 'SRC_ALPHA'),
              (t[(t.ONE_MINUS_SRC_ALPHA = 771)] = 'ONE_MINUS_SRC_ALPHA'),
              (t[(t.DST_ALPHA = 772)] = 'DST_ALPHA'),
              (t[(t.ONE_MINUS_DST_ALPHA = 773)] = 'ONE_MINUS_DST_ALPHA'),
              (t[(t.DST_COLOR = 774)] = 'DST_COLOR'),
              (t[(t.ONE_MINUS_DST_COLOR = 775)] = 'ONE_MINUS_DST_COLOR'),
              (t[(t.SRC_ALPHA_SATURATE = 776)] = 'SRC_ALPHA_SATURATE'),
              (t[(t.FUNC_ADD = 32774)] = 'FUNC_ADD'),
              (t[(t.BLEND_EQUATION = 32777)] = 'BLEND_EQUATION'),
              (t[(t.BLEND_EQUATION_RGB = 32777)] = 'BLEND_EQUATION_RGB'),
              (t[(t.BLEND_EQUATION_ALPHA = 34877)] = 'BLEND_EQUATION_ALPHA'),
              (t[(t.FUNC_SUBTRACT = 32778)] = 'FUNC_SUBTRACT'),
              (t[(t.FUNC_REVERSE_SUBTRACT = 32779)] = 'FUNC_REVERSE_SUBTRACT'),
              (t[(t.MAX_EXT = 32776)] = 'MAX_EXT'),
              (t[(t.MIN_EXT = 32775)] = 'MIN_EXT'),
              (t[(t.BLEND_DST_RGB = 32968)] = 'BLEND_DST_RGB'),
              (t[(t.BLEND_SRC_RGB = 32969)] = 'BLEND_SRC_RGB'),
              (t[(t.BLEND_DST_ALPHA = 32970)] = 'BLEND_DST_ALPHA'),
              (t[(t.BLEND_SRC_ALPHA = 32971)] = 'BLEND_SRC_ALPHA'),
              (t[(t.CONSTANT_COLOR = 32769)] = 'CONSTANT_COLOR'),
              (t[(t.ONE_MINUS_CONSTANT_COLOR = 32770)] = 'ONE_MINUS_CONSTANT_COLOR'),
              (t[(t.CONSTANT_ALPHA = 32771)] = 'CONSTANT_ALPHA'),
              (t[(t.ONE_MINUS_CONSTANT_ALPHA = 32772)] = 'ONE_MINUS_CONSTANT_ALPHA'),
              (t[(t.BLEND_COLOR = 32773)] = 'BLEND_COLOR'),
              (t[(t.ARRAY_BUFFER = 34962)] = 'ARRAY_BUFFER'),
              (t[(t.ELEMENT_ARRAY_BUFFER = 34963)] = 'ELEMENT_ARRAY_BUFFER'),
              (t[(t.ARRAY_BUFFER_BINDING = 34964)] = 'ARRAY_BUFFER_BINDING'),
              (t[(t.ELEMENT_ARRAY_BUFFER_BINDING = 34965)] = 'ELEMENT_ARRAY_BUFFER_BINDING'),
              (t[(t.STREAM_DRAW = 35040)] = 'STREAM_DRAW'),
              (t[(t.STATIC_DRAW = 35044)] = 'STATIC_DRAW'),
              (t[(t.DYNAMIC_DRAW = 35048)] = 'DYNAMIC_DRAW'),
              (t[(t.BUFFER_SIZE = 34660)] = 'BUFFER_SIZE'),
              (t[(t.BUFFER_USAGE = 34661)] = 'BUFFER_USAGE'),
              (t[(t.CURRENT_VERTEX_ATTRIB = 34342)] = 'CURRENT_VERTEX_ATTRIB'),
              (t[(t.FRONT = 1028)] = 'FRONT'),
              (t[(t.BACK = 1029)] = 'BACK'),
              (t[(t.FRONT_AND_BACK = 1032)] = 'FRONT_AND_BACK'),
              (t[(t.CULL_FACE = 2884)] = 'CULL_FACE'),
              (t[(t.BLEND = 3042)] = 'BLEND'),
              (t[(t.DITHER = 3024)] = 'DITHER'),
              (t[(t.STENCIL_TEST = 2960)] = 'STENCIL_TEST'),
              (t[(t.DEPTH_TEST = 2929)] = 'DEPTH_TEST'),
              (t[(t.SCISSOR_TEST = 3089)] = 'SCISSOR_TEST'),
              (t[(t.POLYGON_OFFSET_FILL = 32823)] = 'POLYGON_OFFSET_FILL'),
              (t[(t.SAMPLE_ALPHA_TO_COVERAGE = 32926)] = 'SAMPLE_ALPHA_TO_COVERAGE'),
              (t[(t.SAMPLE_COVERAGE = 32928)] = 'SAMPLE_COVERAGE'),
              (t[(t.NO_ERROR = 0)] = 'NO_ERROR'),
              (t[(t.INVALID_ENUM = 1280)] = 'INVALID_ENUM'),
              (t[(t.INVALID_VALUE = 1281)] = 'INVALID_VALUE'),
              (t[(t.INVALID_OPERATION = 1282)] = 'INVALID_OPERATION'),
              (t[(t.OUT_OF_MEMORY = 1285)] = 'OUT_OF_MEMORY'),
              (t[(t.CW = 2304)] = 'CW'),
              (t[(t.CCW = 2305)] = 'CCW'),
              (t[(t.LINE_WIDTH = 2849)] = 'LINE_WIDTH'),
              (t[(t.ALIASED_POINT_SIZE_RANGE = 33901)] = 'ALIASED_POINT_SIZE_RANGE'),
              (t[(t.ALIASED_LINE_WIDTH_RANGE = 33902)] = 'ALIASED_LINE_WIDTH_RANGE'),
              (t[(t.CULL_FACE_MODE = 2885)] = 'CULL_FACE_MODE'),
              (t[(t.FRONT_FACE = 2886)] = 'FRONT_FACE'),
              (t[(t.DEPTH_RANGE = 2928)] = 'DEPTH_RANGE'),
              (t[(t.DEPTH_WRITEMASK = 2930)] = 'DEPTH_WRITEMASK'),
              (t[(t.DEPTH_CLEAR_VALUE = 2931)] = 'DEPTH_CLEAR_VALUE'),
              (t[(t.DEPTH_FUNC = 2932)] = 'DEPTH_FUNC'),
              (t[(t.STENCIL_CLEAR_VALUE = 2961)] = 'STENCIL_CLEAR_VALUE'),
              (t[(t.STENCIL_FUNC = 2962)] = 'STENCIL_FUNC'),
              (t[(t.STENCIL_FAIL = 2964)] = 'STENCIL_FAIL'),
              (t[(t.STENCIL_PASS_DEPTH_FAIL = 2965)] = 'STENCIL_PASS_DEPTH_FAIL'),
              (t[(t.STENCIL_PASS_DEPTH_PASS = 2966)] = 'STENCIL_PASS_DEPTH_PASS'),
              (t[(t.STENCIL_REF = 2967)] = 'STENCIL_REF'),
              (t[(t.STENCIL_VALUE_MASK = 2963)] = 'STENCIL_VALUE_MASK'),
              (t[(t.STENCIL_WRITEMASK = 2968)] = 'STENCIL_WRITEMASK'),
              (t[(t.STENCIL_BACK_FUNC = 34816)] = 'STENCIL_BACK_FUNC'),
              (t[(t.STENCIL_BACK_FAIL = 34817)] = 'STENCIL_BACK_FAIL'),
              (t[(t.STENCIL_BACK_PASS_DEPTH_FAIL = 34818)] = 'STENCIL_BACK_PASS_DEPTH_FAIL'),
              (t[(t.STENCIL_BACK_PASS_DEPTH_PASS = 34819)] = 'STENCIL_BACK_PASS_DEPTH_PASS'),
              (t[(t.STENCIL_BACK_REF = 36003)] = 'STENCIL_BACK_REF'),
              (t[(t.STENCIL_BACK_VALUE_MASK = 36004)] = 'STENCIL_BACK_VALUE_MASK'),
              (t[(t.STENCIL_BACK_WRITEMASK = 36005)] = 'STENCIL_BACK_WRITEMASK'),
              (t[(t.VIEWPORT = 2978)] = 'VIEWPORT'),
              (t[(t.SCISSOR_BOX = 3088)] = 'SCISSOR_BOX'),
              (t[(t.COLOR_CLEAR_VALUE = 3106)] = 'COLOR_CLEAR_VALUE'),
              (t[(t.COLOR_WRITEMASK = 3107)] = 'COLOR_WRITEMASK'),
              (t[(t.UNPACK_ALIGNMENT = 3317)] = 'UNPACK_ALIGNMENT'),
              (t[(t.PACK_ALIGNMENT = 3333)] = 'PACK_ALIGNMENT'),
              (t[(t.MAX_TEXTURE_SIZE = 3379)] = 'MAX_TEXTURE_SIZE'),
              (t[(t.MAX_VIEWPORT_DIMS = 3386)] = 'MAX_VIEWPORT_DIMS'),
              (t[(t.SUBPIXEL_BITS = 3408)] = 'SUBPIXEL_BITS'),
              (t[(t.RED_BITS = 3410)] = 'RED_BITS'),
              (t[(t.GREEN_BITS = 3411)] = 'GREEN_BITS'),
              (t[(t.BLUE_BITS = 3412)] = 'BLUE_BITS'),
              (t[(t.ALPHA_BITS = 3413)] = 'ALPHA_BITS'),
              (t[(t.DEPTH_BITS = 3414)] = 'DEPTH_BITS'),
              (t[(t.STENCIL_BITS = 3415)] = 'STENCIL_BITS'),
              (t[(t.POLYGON_OFFSET_UNITS = 10752)] = 'POLYGON_OFFSET_UNITS'),
              (t[(t.POLYGON_OFFSET_FACTOR = 32824)] = 'POLYGON_OFFSET_FACTOR'),
              (t[(t.TEXTURE_BINDING_2D = 32873)] = 'TEXTURE_BINDING_2D'),
              (t[(t.SAMPLE_BUFFERS = 32936)] = 'SAMPLE_BUFFERS'),
              (t[(t.SAMPLES = 32937)] = 'SAMPLES'),
              (t[(t.SAMPLE_COVERAGE_VALUE = 32938)] = 'SAMPLE_COVERAGE_VALUE'),
              (t[(t.SAMPLE_COVERAGE_INVERT = 32939)] = 'SAMPLE_COVERAGE_INVERT'),
              (t[(t.COMPRESSED_TEXTURE_FORMATS = 34467)] = 'COMPRESSED_TEXTURE_FORMATS'),
              (t[(t.DONT_CARE = 4352)] = 'DONT_CARE'),
              (t[(t.FASTEST = 4353)] = 'FASTEST'),
              (t[(t.NICEST = 4354)] = 'NICEST'),
              (t[(t.GENERATE_MIPMAP_HINT = 33170)] = 'GENERATE_MIPMAP_HINT'),
              (t[(t.BYTE = 5120)] = 'BYTE'),
              (t[(t.UNSIGNED_BYTE = 5121)] = 'UNSIGNED_BYTE'),
              (t[(t.SHORT = 5122)] = 'SHORT'),
              (t[(t.UNSIGNED_SHORT = 5123)] = 'UNSIGNED_SHORT'),
              (t[(t.INT = 5124)] = 'INT'),
              (t[(t.UNSIGNED_INT = 5125)] = 'UNSIGNED_INT'),
              (t[(t.FLOAT = 5126)] = 'FLOAT'),
              (t[(t.DEPTH_COMPONENT = 6402)] = 'DEPTH_COMPONENT'),
              (t[(t.ALPHA = 6406)] = 'ALPHA'),
              (t[(t.RGB = 6407)] = 'RGB'),
              (t[(t.RGBA = 6408)] = 'RGBA'),
              (t[(t.LUMINANCE = 6409)] = 'LUMINANCE'),
              (t[(t.LUMINANCE_ALPHA = 6410)] = 'LUMINANCE_ALPHA'),
              (t[(t.UNSIGNED_SHORT_4_4_4_4 = 32819)] = 'UNSIGNED_SHORT_4_4_4_4'),
              (t[(t.UNSIGNED_SHORT_5_5_5_1 = 32820)] = 'UNSIGNED_SHORT_5_5_5_1'),
              (t[(t.UNSIGNED_SHORT_5_6_5 = 33635)] = 'UNSIGNED_SHORT_5_6_5'),
              (t[(t.FRAGMENT_SHADER = 35632)] = 'FRAGMENT_SHADER'),
              (t[(t.VERTEX_SHADER = 35633)] = 'VERTEX_SHADER'),
              (t[(t.MAX_VERTEX_ATTRIBS = 34921)] = 'MAX_VERTEX_ATTRIBS'),
              (t[(t.MAX_VERTEX_UNIFORM_VECTORS = 36347)] = 'MAX_VERTEX_UNIFORM_VECTORS'),
              (t[(t.MAX_VARYING_VECTORS = 36348)] = 'MAX_VARYING_VECTORS'),
              (t[(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS = 35661)] =
                'MAX_COMBINED_TEXTURE_IMAGE_UNITS'),
              (t[(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS = 35660)] = 'MAX_VERTEX_TEXTURE_IMAGE_UNITS'),
              (t[(t.MAX_TEXTURE_IMAGE_UNITS = 34930)] = 'MAX_TEXTURE_IMAGE_UNITS'),
              (t[(t.MAX_FRAGMENT_UNIFORM_VECTORS = 36349)] = 'MAX_FRAGMENT_UNIFORM_VECTORS'),
              (t[(t.SHADER_TYPE = 35663)] = 'SHADER_TYPE'),
              (t[(t.DELETE_STATUS = 35712)] = 'DELETE_STATUS'),
              (t[(t.LINK_STATUS = 35714)] = 'LINK_STATUS'),
              (t[(t.VALIDATE_STATUS = 35715)] = 'VALIDATE_STATUS'),
              (t[(t.ATTACHED_SHADERS = 35717)] = 'ATTACHED_SHADERS'),
              (t[(t.ACTIVE_UNIFORMS = 35718)] = 'ACTIVE_UNIFORMS'),
              (t[(t.ACTIVE_ATTRIBUTES = 35721)] = 'ACTIVE_ATTRIBUTES'),
              (t[(t.SHADING_LANGUAGE_VERSION = 35724)] = 'SHADING_LANGUAGE_VERSION'),
              (t[(t.CURRENT_PROGRAM = 35725)] = 'CURRENT_PROGRAM'),
              (t[(t.NEVER = 512)] = 'NEVER'),
              (t[(t.LESS = 513)] = 'LESS'),
              (t[(t.EQUAL = 514)] = 'EQUAL'),
              (t[(t.LEQUAL = 515)] = 'LEQUAL'),
              (t[(t.GREATER = 516)] = 'GREATER'),
              (t[(t.NOTEQUAL = 517)] = 'NOTEQUAL'),
              (t[(t.GEQUAL = 518)] = 'GEQUAL'),
              (t[(t.ALWAYS = 519)] = 'ALWAYS'),
              (t[(t.KEEP = 7680)] = 'KEEP'),
              (t[(t.REPLACE = 7681)] = 'REPLACE'),
              (t[(t.INCR = 7682)] = 'INCR'),
              (t[(t.DECR = 7683)] = 'DECR'),
              (t[(t.INVERT = 5386)] = 'INVERT'),
              (t[(t.INCR_WRAP = 34055)] = 'INCR_WRAP'),
              (t[(t.DECR_WRAP = 34056)] = 'DECR_WRAP'),
              (t[(t.VENDOR = 7936)] = 'VENDOR'),
              (t[(t.RENDERER = 7937)] = 'RENDERER'),
              (t[(t.VERSION = 7938)] = 'VERSION'),
              (t[(t.NEAREST = 9728)] = 'NEAREST'),
              (t[(t.LINEAR = 9729)] = 'LINEAR'),
              (t[(t.NEAREST_MIPMAP_NEAREST = 9984)] = 'NEAREST_MIPMAP_NEAREST'),
              (t[(t.LINEAR_MIPMAP_NEAREST = 9985)] = 'LINEAR_MIPMAP_NEAREST'),
              (t[(t.NEAREST_MIPMAP_LINEAR = 9986)] = 'NEAREST_MIPMAP_LINEAR'),
              (t[(t.LINEAR_MIPMAP_LINEAR = 9987)] = 'LINEAR_MIPMAP_LINEAR'),
              (t[(t.TEXTURE_MAG_FILTER = 10240)] = 'TEXTURE_MAG_FILTER'),
              (t[(t.TEXTURE_MIN_FILTER = 10241)] = 'TEXTURE_MIN_FILTER'),
              (t[(t.TEXTURE_WRAP_S = 10242)] = 'TEXTURE_WRAP_S'),
              (t[(t.TEXTURE_WRAP_T = 10243)] = 'TEXTURE_WRAP_T'),
              (t[(t.TEXTURE_2D = 3553)] = 'TEXTURE_2D'),
              (t[(t.TEXTURE = 5890)] = 'TEXTURE'),
              (t[(t.TEXTURE_CUBE_MAP = 34067)] = 'TEXTURE_CUBE_MAP'),
              (t[(t.TEXTURE_BINDING_CUBE_MAP = 34068)] = 'TEXTURE_BINDING_CUBE_MAP'),
              (t[(t.TEXTURE_CUBE_MAP_POSITIVE_X = 34069)] = 'TEXTURE_CUBE_MAP_POSITIVE_X'),
              (t[(t.TEXTURE_CUBE_MAP_NEGATIVE_X = 34070)] = 'TEXTURE_CUBE_MAP_NEGATIVE_X'),
              (t[(t.TEXTURE_CUBE_MAP_POSITIVE_Y = 34071)] = 'TEXTURE_CUBE_MAP_POSITIVE_Y'),
              (t[(t.TEXTURE_CUBE_MAP_NEGATIVE_Y = 34072)] = 'TEXTURE_CUBE_MAP_NEGATIVE_Y'),
              (t[(t.TEXTURE_CUBE_MAP_POSITIVE_Z = 34073)] = 'TEXTURE_CUBE_MAP_POSITIVE_Z'),
              (t[(t.TEXTURE_CUBE_MAP_NEGATIVE_Z = 34074)] = 'TEXTURE_CUBE_MAP_NEGATIVE_Z'),
              (t[(t.MAX_CUBE_MAP_TEXTURE_SIZE = 34076)] = 'MAX_CUBE_MAP_TEXTURE_SIZE'),
              (t[(t.TEXTURE0 = 33984)] = 'TEXTURE0'),
              (t[(t.TEXTURE1 = 33985)] = 'TEXTURE1'),
              (t[(t.TEXTURE2 = 33986)] = 'TEXTURE2'),
              (t[(t.TEXTURE3 = 33987)] = 'TEXTURE3'),
              (t[(t.TEXTURE4 = 33988)] = 'TEXTURE4'),
              (t[(t.TEXTURE5 = 33989)] = 'TEXTURE5'),
              (t[(t.TEXTURE6 = 33990)] = 'TEXTURE6'),
              (t[(t.TEXTURE7 = 33991)] = 'TEXTURE7'),
              (t[(t.TEXTURE8 = 33992)] = 'TEXTURE8'),
              (t[(t.TEXTURE9 = 33993)] = 'TEXTURE9'),
              (t[(t.TEXTURE10 = 33994)] = 'TEXTURE10'),
              (t[(t.TEXTURE11 = 33995)] = 'TEXTURE11'),
              (t[(t.TEXTURE12 = 33996)] = 'TEXTURE12'),
              (t[(t.TEXTURE13 = 33997)] = 'TEXTURE13'),
              (t[(t.TEXTURE14 = 33998)] = 'TEXTURE14'),
              (t[(t.TEXTURE15 = 33999)] = 'TEXTURE15'),
              (t[(t.TEXTURE16 = 34e3)] = 'TEXTURE16'),
              (t[(t.TEXTURE17 = 34001)] = 'TEXTURE17'),
              (t[(t.TEXTURE18 = 34002)] = 'TEXTURE18'),
              (t[(t.TEXTURE19 = 34003)] = 'TEXTURE19'),
              (t[(t.TEXTURE20 = 34004)] = 'TEXTURE20'),
              (t[(t.TEXTURE21 = 34005)] = 'TEXTURE21'),
              (t[(t.TEXTURE22 = 34006)] = 'TEXTURE22'),
              (t[(t.TEXTURE23 = 34007)] = 'TEXTURE23'),
              (t[(t.TEXTURE24 = 34008)] = 'TEXTURE24'),
              (t[(t.TEXTURE25 = 34009)] = 'TEXTURE25'),
              (t[(t.TEXTURE26 = 34010)] = 'TEXTURE26'),
              (t[(t.TEXTURE27 = 34011)] = 'TEXTURE27'),
              (t[(t.TEXTURE28 = 34012)] = 'TEXTURE28'),
              (t[(t.TEXTURE29 = 34013)] = 'TEXTURE29'),
              (t[(t.TEXTURE30 = 34014)] = 'TEXTURE30'),
              (t[(t.TEXTURE31 = 34015)] = 'TEXTURE31'),
              (t[(t.ACTIVE_TEXTURE = 34016)] = 'ACTIVE_TEXTURE'),
              (t[(t.REPEAT = 10497)] = 'REPEAT'),
              (t[(t.CLAMP_TO_EDGE = 33071)] = 'CLAMP_TO_EDGE'),
              (t[(t.MIRRORED_REPEAT = 33648)] = 'MIRRORED_REPEAT'),
              (t[(t.FLOAT_VEC2 = 35664)] = 'FLOAT_VEC2'),
              (t[(t.FLOAT_VEC3 = 35665)] = 'FLOAT_VEC3'),
              (t[(t.FLOAT_VEC4 = 35666)] = 'FLOAT_VEC4'),
              (t[(t.INT_VEC2 = 35667)] = 'INT_VEC2'),
              (t[(t.INT_VEC3 = 35668)] = 'INT_VEC3'),
              (t[(t.INT_VEC4 = 35669)] = 'INT_VEC4'),
              (t[(t.BOOL = 35670)] = 'BOOL'),
              (t[(t.BOOL_VEC2 = 35671)] = 'BOOL_VEC2'),
              (t[(t.BOOL_VEC3 = 35672)] = 'BOOL_VEC3'),
              (t[(t.BOOL_VEC4 = 35673)] = 'BOOL_VEC4'),
              (t[(t.FLOAT_MAT2 = 35674)] = 'FLOAT_MAT2'),
              (t[(t.FLOAT_MAT3 = 35675)] = 'FLOAT_MAT3'),
              (t[(t.FLOAT_MAT4 = 35676)] = 'FLOAT_MAT4'),
              (t[(t.SAMPLER_2D = 35678)] = 'SAMPLER_2D'),
              (t[(t.SAMPLER_CUBE = 35680)] = 'SAMPLER_CUBE'),
              (t[(t.VERTEX_ATTRIB_ARRAY_ENABLED = 34338)] = 'VERTEX_ATTRIB_ARRAY_ENABLED'),
              (t[(t.VERTEX_ATTRIB_ARRAY_SIZE = 34339)] = 'VERTEX_ATTRIB_ARRAY_SIZE'),
              (t[(t.VERTEX_ATTRIB_ARRAY_STRIDE = 34340)] = 'VERTEX_ATTRIB_ARRAY_STRIDE'),
              (t[(t.VERTEX_ATTRIB_ARRAY_TYPE = 34341)] = 'VERTEX_ATTRIB_ARRAY_TYPE'),
              (t[(t.VERTEX_ATTRIB_ARRAY_NORMALIZED = 34922)] = 'VERTEX_ATTRIB_ARRAY_NORMALIZED'),
              (t[(t.VERTEX_ATTRIB_ARRAY_POINTER = 34373)] = 'VERTEX_ATTRIB_ARRAY_POINTER'),
              (t[(t.VERTEX_ATTRIB_ARRAY_BUFFER_BINDING = 34975)] =
                'VERTEX_ATTRIB_ARRAY_BUFFER_BINDING'),
              (t[(t.COMPILE_STATUS = 35713)] = 'COMPILE_STATUS'),
              (t[(t.LOW_FLOAT = 36336)] = 'LOW_FLOAT'),
              (t[(t.MEDIUM_FLOAT = 36337)] = 'MEDIUM_FLOAT'),
              (t[(t.HIGH_FLOAT = 36338)] = 'HIGH_FLOAT'),
              (t[(t.LOW_INT = 36339)] = 'LOW_INT'),
              (t[(t.MEDIUM_INT = 36340)] = 'MEDIUM_INT'),
              (t[(t.HIGH_INT = 36341)] = 'HIGH_INT'),
              (t[(t.FRAMEBUFFER = 36160)] = 'FRAMEBUFFER'),
              (t[(t.RENDERBUFFER = 36161)] = 'RENDERBUFFER'),
              (t[(t.RGBA4 = 32854)] = 'RGBA4'),
              (t[(t.RGB5_A1 = 32855)] = 'RGB5_A1'),
              (t[(t.RGB565 = 36194)] = 'RGB565'),
              (t[(t.DEPTH_COMPONENT16 = 33189)] = 'DEPTH_COMPONENT16'),
              (t[(t.STENCIL_INDEX = 6401)] = 'STENCIL_INDEX'),
              (t[(t.STENCIL_INDEX8 = 36168)] = 'STENCIL_INDEX8'),
              (t[(t.DEPTH_STENCIL = 34041)] = 'DEPTH_STENCIL'),
              (t[(t.RENDERBUFFER_WIDTH = 36162)] = 'RENDERBUFFER_WIDTH'),
              (t[(t.RENDERBUFFER_HEIGHT = 36163)] = 'RENDERBUFFER_HEIGHT'),
              (t[(t.RENDERBUFFER_INTERNAL_FORMAT = 36164)] = 'RENDERBUFFER_INTERNAL_FORMAT'),
              (t[(t.RENDERBUFFER_RED_SIZE = 36176)] = 'RENDERBUFFER_RED_SIZE'),
              (t[(t.RENDERBUFFER_GREEN_SIZE = 36177)] = 'RENDERBUFFER_GREEN_SIZE'),
              (t[(t.RENDERBUFFER_BLUE_SIZE = 36178)] = 'RENDERBUFFER_BLUE_SIZE'),
              (t[(t.RENDERBUFFER_ALPHA_SIZE = 36179)] = 'RENDERBUFFER_ALPHA_SIZE'),
              (t[(t.RENDERBUFFER_DEPTH_SIZE = 36180)] = 'RENDERBUFFER_DEPTH_SIZE'),
              (t[(t.RENDERBUFFER_STENCIL_SIZE = 36181)] = 'RENDERBUFFER_STENCIL_SIZE'),
              (t[(t.FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE = 36048)] =
                'FRAMEBUFFER_ATTACHMENT_OBJECT_TYPE'),
              (t[(t.FRAMEBUFFER_ATTACHMENT_OBJECT_NAME = 36049)] =
                'FRAMEBUFFER_ATTACHMENT_OBJECT_NAME'),
              (t[(t.FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL = 36050)] =
                'FRAMEBUFFER_ATTACHMENT_TEXTURE_LEVEL'),
              (t[(t.FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE = 36051)] =
                'FRAMEBUFFER_ATTACHMENT_TEXTURE_CUBE_MAP_FACE'),
              (t[(t.COLOR_ATTACHMENT0 = 36064)] = 'COLOR_ATTACHMENT0'),
              (t[(t.DEPTH_ATTACHMENT = 36096)] = 'DEPTH_ATTACHMENT'),
              (t[(t.STENCIL_ATTACHMENT = 36128)] = 'STENCIL_ATTACHMENT'),
              (t[(t.DEPTH_STENCIL_ATTACHMENT = 33306)] = 'DEPTH_STENCIL_ATTACHMENT'),
              (t[(t.NONE = 0)] = 'NONE'),
              (t[(t.FRAMEBUFFER_COMPLETE = 36053)] = 'FRAMEBUFFER_COMPLETE'),
              (t[(t.FRAMEBUFFER_INCOMPLETE_ATTACHMENT = 36054)] =
                'FRAMEBUFFER_INCOMPLETE_ATTACHMENT'),
              (t[(t.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT = 36055)] =
                'FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT'),
              (t[(t.FRAMEBUFFER_INCOMPLETE_DIMENSIONS = 36057)] =
                'FRAMEBUFFER_INCOMPLETE_DIMENSIONS'),
              (t[(t.FRAMEBUFFER_UNSUPPORTED = 36061)] = 'FRAMEBUFFER_UNSUPPORTED'),
              (t[(t.FRAMEBUFFER_BINDING = 36006)] = 'FRAMEBUFFER_BINDING'),
              (t[(t.RENDERBUFFER_BINDING = 36007)] = 'RENDERBUFFER_BINDING'),
              (t[(t.MAX_RENDERBUFFER_SIZE = 34024)] = 'MAX_RENDERBUFFER_SIZE'),
              (t[(t.INVALID_FRAMEBUFFER_OPERATION = 1286)] = 'INVALID_FRAMEBUFFER_OPERATION'),
              (t[(t.UNPACK_FLIP_Y_WEBGL = 37440)] = 'UNPACK_FLIP_Y_WEBGL'),
              (t[(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL = 37441)] = 'UNPACK_PREMULTIPLY_ALPHA_WEBGL'),
              (t[(t.CONTEXT_LOST_WEBGL = 37442)] = 'CONTEXT_LOST_WEBGL'),
              (t[(t.UNPACK_COLORSPACE_CONVERSION_WEBGL = 37443)] =
                'UNPACK_COLORSPACE_CONVERSION_WEBGL'),
              (t[(t.BROWSER_DEFAULT_WEBGL = 37444)] = 'BROWSER_DEFAULT_WEBGL'),
              (t[(t.COPY_SRC = 1)] = 'COPY_SRC'),
              (t[(t.COPY_DST = 2)] = 'COPY_DST'),
              (t[(t.SAMPLED = 4)] = 'SAMPLED'),
              (t[(t.STORAGE = 8)] = 'STORAGE'),
              (t[(t.RENDER_ATTACHMENT = 16)] = 'RENDER_ATTACHMENT');
          })(J || (J = {}));
          var ct =
            ((tt = (0, b.b2)()),
            (et = (0, b.f3)(x.GeometryComponentManager)),
            (nt = (0, b.f3)(x.RenderEngine)),
            tt(
              ((st = (function () {
                function t() {
                  i(this, t), r(this, 'geometry', ot, this), r(this, 'engine', at, this);
                }
                var e;
                return (
                  a(t, [
                    {
                      key: 'execute',
                      value:
                        ((e = h(
                          c().mark(function t() {
                            var e = this;
                            return c().wrap(
                              function (t) {
                                for (;;)
                                  switch ((t.prev = t.next)) {
                                    case 0:
                                      this.geometry.forEach(function (t, n) {
                                        n.dirty &&
                                          (n.attributes.forEach(function (t) {
                                            var n;
                                            t.dirty &&
                                              t.data &&
                                              (t.buffer
                                                ? null === (n = t.buffer) ||
                                                  void 0 === n ||
                                                  n.subData({ data: t.data, offset: 0 })
                                                : (t.buffer = e.engine.createBuffer({
                                                    data: t.data,
                                                    type: J.FLOAT,
                                                  })),
                                              (t.dirty = !1));
                                          }),
                                          n.indices &&
                                            (n.indicesBuffer
                                              ? n.indicesBuffer.subData({
                                                  data: n.indices,
                                                  offset: 0,
                                                })
                                              : (n.indicesBuffer = e.engine.createElements({
                                                  data: n.indices,
                                                  count: n.indices.length,
                                                  type: J.UNSIGNED_INT,
                                                  usage: J.STATIC_DRAW,
                                                }))),
                                          (n.dirty = !1));
                                      });
                                    case 1:
                                    case 'end':
                                      return t.stop();
                                  }
                              },
                              t,
                              this,
                            );
                          }),
                        )),
                        function () {
                          return e.apply(this, arguments);
                        }),
                    },
                    {
                      key: 'tearDown',
                      value: function () {
                        this.geometry.forEach(function (t, e) {
                          e.indicesBuffer && e.indicesBuffer.destroy(),
                            e.attributes.forEach(function (t) {
                              t.buffer && t.buffer.destroy();
                            });
                        }),
                          this.geometry.clear();
                      },
                    },
                    {
                      key: 'createBufferGeometry',
                      value: function () {
                        var t =
                            arguments.length > 0 && void 0 !== arguments[0]
                              ? arguments[0]
                              : { vertexCount: 3 },
                          e = t.vertexCount,
                          n = d();
                        return this.geometry.create(n, { vertexCount: e });
                      },
                    },
                    {
                      key: 'createInstancedBufferGeometry',
                      value: function (t) {
                        var e = t.maxInstancedCount,
                          n = t.vertexCount,
                          r = d();
                        return this.geometry.create(r, { maxInstancedCount: e, vertexCount: n });
                      },
                    },
                  ]),
                  t
                );
              })()),
              (ot = s((it = st).prototype, 'geometry', [et], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null,
              })),
              (at = s(it.prototype, 'engine', [nt], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null,
              })),
              (rt = it)),
            ) || rt);
          function lt(t, e) {
            var n = Object.keys(t);
            if (Object.getOwnPropertySymbols) {
              var r = Object.getOwnPropertySymbols(t);
              e &&
                (r = r.filter(function (e) {
                  return Object.getOwnPropertyDescriptor(t, e).enumerable;
                })),
                n.push.apply(n, r);
            }
            return n;
          }
          function ht(t) {
            for (var e = 1; e < arguments.length; e++) {
              var n = null != arguments[e] ? arguments[e] : {};
              e % 2
                ? lt(Object(n), !0).forEach(function (e) {
                    F(t, e, n[e]);
                  })
                : Object.getOwnPropertyDescriptors
                ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n))
                : lt(Object(n)).forEach(function (e) {
                    Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e));
                  });
            }
            return t;
          }
          var ft,
            dt,
            pt,
            gt,
            vt,
            yt,
            mt,
            bt,
            xt,
            _t,
            wt = (function (t) {
              M(o, t);
              var e,
                n,
                r =
                  ((e = o),
                  (n = (function () {
                    if ('undefined' == typeof Reflect || !Reflect.construct) return !1;
                    if (Reflect.construct.sham) return !1;
                    if ('function' == typeof Proxy) return !0;
                    try {
                      return (
                        Date.prototype.toString.call(Reflect.construct(Date, [], function () {})),
                        !0
                      );
                    } catch (t) {
                      return !1;
                    }
                  })()),
                  function () {
                    var t,
                      r = I(e);
                    if (n) {
                      var i = I(this).constructor;
                      t = Reflect.construct(r, arguments, i);
                    } else t = r.apply(this, arguments);
                    return C(this, t);
                  });
              function o(t) {
                var e;
                return (
                  i(this, o),
                  ((e = r.call(this, t)).vertexShaderGLSL = void 0),
                  (e.fragmentShaderGLSL = void 0),
                  (e.defines = {}),
                  (e.dirty = !0),
                  (e.uniforms = []),
                  (e.cull = { enable: !0, face: J.BACK }),
                  (e.depth = { enable: !0 }),
                  (e.blend = void 0),
                  (e.entity = void 0),
                  (e.type = void 0),
                  Object.assign(A(e), t),
                  e
                );
              }
              return (
                a(o, [
                  {
                    key: 'setDefines',
                    value: function (t) {
                      return (this.defines = ht(ht({}, this.defines), t)), this;
                    },
                  },
                  {
                    key: 'setCull',
                    value: function (t) {
                      return (this.cull = t), this;
                    },
                  },
                  {
                    key: 'setDepth',
                    value: function (t) {
                      return (this.depth = t), this;
                    },
                  },
                  {
                    key: 'setBlend',
                    value: function (t) {
                      return (this.blend = t), this;
                    },
                  },
                  {
                    key: 'setUniform',
                    value: function (t, e) {
                      var n = this;
                      if ('string' != typeof t)
                        return (
                          Object.keys(t).forEach(function (e) {
                            return n.setUniform(e, t[e]);
                          }),
                          this
                        );
                      var r = this.uniforms.find(function (e) {
                        return e.name === t;
                      });
                      return (
                        r
                          ? ((r.dirty = !0), (r.data = e))
                          : this.uniforms.push({ name: t, dirty: !0, data: e }),
                        (this.dirty = !0),
                        this
                      );
                    },
                  },
                ]),
                o
              );
            })(p);
          function Et(t, e) {
            var n = Object.keys(t);
            if (Object.getOwnPropertySymbols) {
              var r = Object.getOwnPropertySymbols(t);
              e &&
                (r = r.filter(function (e) {
                  return Object.getOwnPropertyDescriptor(t, e).enumerable;
                })),
                n.push.apply(n, r);
            }
            return n;
          }
          function St(t) {
            for (var e = 1; e < arguments.length; e++) {
              var n = null != arguments[e] ? arguments[e] : {};
              e % 2
                ? Et(Object(n), !0).forEach(function (e) {
                    F(t, e, n[e]);
                  })
                : Object.getOwnPropertyDescriptors
                ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n))
                : Et(Object(n)).forEach(function (e) {
                    Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e));
                  });
            }
            return t;
          }
          var Mt,
            kt =
              ((ft = (0, b.b2)()),
              (dt = (0, b.f3)(x.MaterialComponentManager)),
              (pt = (0, b.f3)(x.RenderEngine)),
              (gt = (0, b.f3)(x.ShaderModuleService)),
              ft(
                ((_t = (function () {
                  function t() {
                    i(this, t),
                      r(this, 'material', mt, this),
                      r(this, 'engine', bt, this),
                      r(this, 'shaderModule', xt, this);
                  }
                  var e;
                  return (
                    a(t, [
                      {
                        key: 'execute',
                        value:
                          ((e = h(
                            c().mark(function t() {
                              return c().wrap(function (t) {
                                for (;;)
                                  switch ((t.prev = t.next)) {
                                    case 0:
                                    case 'end':
                                      return t.stop();
                                  }
                              }, t);
                            }),
                          )),
                          function () {
                            return e.apply(this, arguments);
                          }),
                      },
                      {
                        key: 'tearDown',
                        value: function () {
                          this.material.clear();
                        },
                      },
                      {
                        key: 'createShaderMaterial',
                        value: function (t) {
                          var e = d(),
                            n = t.vertexShader,
                            r = t.fragmentShader,
                            i = [];
                          if (!this.engine.supportWebGPU) {
                            var o = 'material-'.concat(e);
                            this.shaderModule.registerModule(o, {
                              vs: t.vertexShader,
                              fs: t.fragmentShader,
                            });
                            var a = this.shaderModule.getModule(o);
                            (n = a.vs),
                              (r = a.fs),
                              a.uniforms &&
                                (i = Object.keys(a.uniforms).map(function (t) {
                                  return { dirty: !0, name: t, data: a.uniforms[t] };
                                }));
                          }
                          return this.material.create(
                            e,
                            St(
                              St({ vertexShaderGLSL: n, fragmentShaderGLSL: r }, t),
                              {},
                              { uniforms: i },
                            ),
                          );
                        },
                      },
                    ]),
                    t
                  );
                })()),
                (mt = s((yt = _t).prototype, 'material', [dt], {
                  configurable: !0,
                  enumerable: !0,
                  writable: !0,
                  initializer: null,
                })),
                (bt = s(yt.prototype, 'engine', [pt], {
                  configurable: !0,
                  enumerable: !0,
                  writable: !0,
                  initializer: null,
                })),
                (xt = s(yt.prototype, 'shaderModule', [gt], {
                  configurable: !0,
                  enumerable: !0,
                  writable: !0,
                  initializer: null,
                })),
                (vt = yt)),
              ) || vt);
          !(function (t) {
            t[(t.Standard = 0)] = 'Standard';
          })(Mt || (Mt = {}));
          var At = (function (t) {
              M(o, t);
              var e,
                n,
                r =
                  ((e = o),
                  (n = (function () {
                    if ('undefined' == typeof Reflect || !Reflect.construct) return !1;
                    if (Reflect.construct.sham) return !1;
                    if ('function' == typeof Proxy) return !0;
                    try {
                      return (
                        Date.prototype.toString.call(Reflect.construct(Date, [], function () {})),
                        !0
                      );
                    } catch (t) {
                      return !1;
                    }
                  })()),
                  function () {
                    var t,
                      r = I(e);
                    if (n) {
                      var i = I(this).constructor;
                      t = Reflect.construct(r, arguments, i);
                    } else t = r.apply(this, arguments);
                    return C(this, t);
                  });
              function o(t) {
                var e;
                return (
                  i(this, o),
                  ((e = r.call(this, t)).strategy = Mt.Standard),
                  (e.visibilityPlaneMask = 0),
                  (e.visible = !1),
                  Object.assign(A(e), t),
                  e
                );
              }
              return o;
            })(p),
            Ct = (function () {
              function t(e, n) {
                i(this, t),
                  (this.center = void 0),
                  (this.halfExtents = void 0),
                  (this.min = H.create()),
                  (this.max = H.create()),
                  this.update(e, n);
              }
              return (
                a(t, [
                  {
                    key: 'update',
                    value: function (t, e) {
                      (this.center = t || H.create()),
                        (this.halfExtents = e || H.fromValues(0.5, 0.5, 0.5)),
                        (this.min = H.sub(this.min, this.center, this.halfExtents)),
                        (this.max = H.add(this.max, this.center, this.halfExtents));
                    },
                  },
                  {
                    key: 'setMinMax',
                    value: function (t, e) {
                      H.add(this.center, e, t),
                        H.scale(this.center, this.center, 0.5),
                        H.sub(this.halfExtents, e, t),
                        H.scale(this.halfExtents, this.halfExtents, 0.5),
                        H.copy(this.min, t),
                        H.copy(this.max, e);
                    },
                  },
                  {
                    key: 'getMin',
                    value: function () {
                      return this.min;
                    },
                  },
                  {
                    key: 'getMax',
                    value: function () {
                      return this.max;
                    },
                  },
                  {
                    key: 'add',
                    value: function (t) {
                      var e = this.center,
                        n = e[0],
                        r = e[1],
                        i = e[2],
                        o = this.halfExtents,
                        a = o[0],
                        s = o[1],
                        u = o[2],
                        c = n - a,
                        l = n + a,
                        h = r - s,
                        f = r + s,
                        d = i - u,
                        p = i + u,
                        g = t.center,
                        v = g[0],
                        y = g[1],
                        m = g[2],
                        b = t.halfExtents,
                        x = b[0],
                        _ = b[1],
                        w = b[2],
                        E = v - x,
                        S = v + x,
                        M = y - _,
                        k = y + _,
                        A = m - w,
                        C = m + w;
                      E < c && (c = E),
                        S > l && (l = S),
                        M < h && (h = M),
                        k > f && (f = k),
                        A < d && (d = A),
                        C > p && (p = C),
                        (e[0] = 0.5 * (c + l)),
                        (e[1] = 0.5 * (h + f)),
                        (e[2] = 0.5 * (d + p)),
                        (o[0] = 0.5 * (l - c)),
                        (o[1] = 0.5 * (f - h)),
                        (o[2] = 0.5 * (p - d)),
                        (this.min[0] = c),
                        (this.min[1] = h),
                        (this.min[2] = d),
                        (this.max[0] = l),
                        (this.max[1] = f),
                        (this.max[2] = p);
                    },
                  },
                  {
                    key: 'intersects',
                    value: function (t) {
                      var e = this.getMax(),
                        n = this.getMin(),
                        r = t.getMax(),
                        i = t.getMin();
                      return (
                        n[0] <= r[0] &&
                        e[0] >= i[0] &&
                        n[1] <= r[1] &&
                        e[1] >= i[1] &&
                        n[2] <= r[2] &&
                        e[2] >= i[2]
                      );
                    },
                  },
                  {
                    key: 'containsPoint',
                    value: function (t) {
                      var e = this.getMin(),
                        n = this.getMax();
                      return !(
                        t[0] < e[0] ||
                        t[0] > n[0] ||
                        t[1] < e[1] ||
                        t[1] > n[1] ||
                        t[2] < e[2] ||
                        t[2] > n[2]
                      );
                    },
                  },
                  {
                    key: 'getNegativeFarPoint',
                    value: function (t) {
                      return 273 === t.pnVertexFlag
                        ? H.copy(H.create(), this.min)
                        : 272 === t.pnVertexFlag
                        ? H.fromValues(this.min[0], this.min[1], this.max[2])
                        : 257 === t.pnVertexFlag
                        ? H.fromValues(this.min[0], this.max[1], this.min[2])
                        : 256 === t.pnVertexFlag
                        ? H.fromValues(this.min[0], this.max[1], this.max[2])
                        : 17 === t.pnVertexFlag
                        ? H.fromValues(this.max[0], this.min[1], this.min[2])
                        : 16 === t.pnVertexFlag
                        ? H.fromValues(this.max[0], this.min[1], this.max[2])
                        : 1 === t.pnVertexFlag
                        ? H.fromValues(this.max[0], this.max[1], this.min[2])
                        : H.fromValues(this.max[0], this.max[1], this.max[2]);
                    },
                  },
                  {
                    key: 'getPositiveFarPoint',
                    value: function (t) {
                      return 273 === t.pnVertexFlag
                        ? H.copy(H.create(), this.max)
                        : 272 === t.pnVertexFlag
                        ? H.fromValues(this.max[0], this.max[1], this.min[2])
                        : 257 === t.pnVertexFlag
                        ? H.fromValues(this.max[0], this.min[1], this.max[2])
                        : 256 === t.pnVertexFlag
                        ? H.fromValues(this.max[0], this.min[1], this.min[2])
                        : 17 === t.pnVertexFlag
                        ? H.fromValues(this.min[0], this.max[1], this.max[2])
                        : 16 === t.pnVertexFlag
                        ? H.fromValues(this.min[0], this.max[1], this.min[2])
                        : 1 === t.pnVertexFlag
                        ? H.fromValues(this.min[0], this.min[1], this.max[2])
                        : H.fromValues(this.min[0], this.min[1], this.min[2]);
                    },
                  },
                ]),
                t
              );
            })();
          var It,
            Tt = (function (t) {
              M(o, t);
              var e,
                n,
                r =
                  ((e = o),
                  (n = (function () {
                    if ('undefined' == typeof Reflect || !Reflect.construct) return !1;
                    if (Reflect.construct.sham) return !1;
                    if ('function' == typeof Proxy) return !0;
                    try {
                      return (
                        Date.prototype.toString.call(Reflect.construct(Date, [], function () {})),
                        !0
                      );
                    } catch (t) {
                      return !1;
                    }
                  })()),
                  function () {
                    var t,
                      r = I(e);
                    if (n) {
                      var i = I(this).constructor;
                      t = Reflect.construct(r, arguments, i);
                    } else t = r.apply(this, arguments);
                    return C(this, t);
                  });
              function o(t) {
                var e;
                return (
                  i(this, o),
                  ((e = r.call(this, t)).material = void 0),
                  (e.geometry = void 0),
                  (e.aabb = new Ct()),
                  (e.aabbDirty = !0),
                  (e.model = void 0),
                  (e.visible = !0),
                  (e.children = []),
                  Object.assign(A(e), t),
                  e
                );
              }
              return o;
            })(p),
            Nt = (function () {
              function t(e, n) {
                i(this, t),
                  (this.distance = void 0),
                  (this.normal = void 0),
                  (this.pnVertexFlag = void 0),
                  (this.distance = e || 0),
                  (this.normal = n || H.fromValues(0, 1, 0)),
                  this.updatePNVertexFlag();
              }
              return (
                a(t, [
                  {
                    key: 'updatePNVertexFlag',
                    value: function () {
                      this.pnVertexFlag =
                        (Number(this.normal[0] >= 0) << 8) +
                        (Number(this.normal[1] >= 0) << 4) +
                        Number(this.normal[2] >= 0);
                    },
                  },
                  {
                    key: 'distanceToPoint',
                    value: function (t) {
                      return H.dot(t, this.normal) - this.distance;
                    },
                  },
                  {
                    key: 'normalize',
                    value: function () {
                      var t = 1 / H.len(this.normal);
                      H.scale(this.normal, this.normal, t), (this.distance *= t);
                    },
                  },
                  {
                    key: 'intersectsLine',
                    value: function (t, e, n) {
                      var r = this.distanceToPoint(t),
                        i = r / (r - this.distanceToPoint(e)),
                        o = i >= 0 && i <= 1;
                      return o && n && H.lerp(n, t, e, i), o;
                    },
                  },
                ]),
                t
              );
            })();
          !(function (t) {
            (t[(t.OUTSIDE = 4294967295)] = 'OUTSIDE'),
              (t[(t.INSIDE = 0)] = 'INSIDE'),
              (t[(t.INDETERMINATE = 2147483647)] = 'INDETERMINATE');
          })(It || (It = {}));
          var Pt,
            Ot,
            Dt,
            Lt,
            Rt,
            Bt,
            jt,
            Gt,
            zt,
            Ft,
            Ut,
            Vt,
            Wt,
            Yt,
            Xt = (function () {
              function t(e) {
                if ((i(this, t), (this.planes = []), e)) this.planes = e;
                else for (var n = 0; n < 6; n++) this.planes.push(new Nt());
              }
              return (
                a(t, [
                  {
                    key: 'extractFromVPMatrix',
                    value: function (t) {
                      var e = m(t, 16),
                        n = e[0],
                        r = e[1],
                        i = e[2],
                        o = e[3],
                        a = e[4],
                        s = e[5],
                        u = e[6],
                        c = e[7],
                        l = e[8],
                        h = e[9],
                        f = e[10],
                        d = e[11],
                        p = e[12],
                        g = e[13],
                        v = e[14],
                        y = e[15];
                      H.set(this.planes[0].normal, o - n, c - a, d - l),
                        (this.planes[0].distance = -(y - p)),
                        H.set(this.planes[1].normal, o + n, c + a, d + l),
                        (this.planes[1].distance = -(y + p)),
                        H.set(this.planes[2].normal, o + r, c + s, d + h),
                        (this.planes[2].distance = -(y + g)),
                        H.set(this.planes[3].normal, o - r, c - s, d - h),
                        (this.planes[3].distance = -(y - g)),
                        H.set(this.planes[4].normal, o - i, c - u, d - f),
                        (this.planes[4].distance = -(y - v)),
                        H.set(this.planes[5].normal, o + i, c + u, d + f),
                        (this.planes[5].distance = -(y + v)),
                        this.planes.forEach(function (t) {
                          t.normalize(), t.updatePNVertexFlag();
                        });
                    },
                  },
                ]),
                t
              );
            })();
          function Ht(t, e) {
            var n;
            if ('undefined' == typeof Symbol || null == t[Symbol.iterator]) {
              if (
                Array.isArray(t) ||
                (n = (function (t, e) {
                  if (t) {
                    if ('string' == typeof t) return qt(t, e);
                    var n = Object.prototype.toString.call(t).slice(8, -1);
                    return (
                      'Object' === n && t.constructor && (n = t.constructor.name),
                      'Map' === n || 'Set' === n
                        ? Array.from(t)
                        : 'Arguments' === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)
                        ? qt(t, e)
                        : void 0
                    );
                  }
                })(t)) ||
                (e && t && 'number' == typeof t.length)
              ) {
                n && (t = n);
                var r = 0,
                  i = function () {};
                return {
                  s: i,
                  n: function () {
                    return r >= t.length ? { done: !0 } : { done: !1, value: t[r++] };
                  },
                  e: function (t) {
                    throw t;
                  },
                  f: i,
                };
              }
              throw new TypeError(
                'Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.',
              );
            }
            var o,
              a = !0,
              s = !1;
            return {
              s: function () {
                n = t[Symbol.iterator]();
              },
              n: function () {
                var t = n.next();
                return (a = t.done), t;
              },
              e: function (t) {
                (s = !0), (o = t);
              },
              f: function () {
                try {
                  a || null == n.return || n.return();
                } finally {
                  if (s) throw o;
                }
              },
            };
          }
          function qt(t, e) {
            (null == e || e > t.length) && (e = t.length);
            for (var n = 0, r = new Array(e); n < e; n++) r[n] = t[n];
            return r;
          }
          var Kt =
            ((Pt = (0, b.b2)()),
            (Ot = (0, b.f3)(x.MeshComponentManager)),
            (Dt = (0, b.f3)(x.CullableComponentManager)),
            (Lt = (0, b.f3)(x.GeometryComponentManager)),
            (Rt = (0, b.f3)(x.HierarchyComponentManager)),
            (Bt = (0, b.f3)(x.TransformComponentManager)),
            Pt(
              ((Yt = (function () {
                function t() {
                  i(this, t),
                    r(this, 'mesh', zt, this),
                    r(this, 'cullable', Ft, this),
                    r(this, 'geometry', Ut, this),
                    r(this, 'hierarchy', Vt, this),
                    r(this, 'transform', Wt, this),
                    (this.planes = void 0);
                }
                var e;
                return (
                  a(t, [
                    {
                      key: 'setFrustumPlanes',
                      value: function (t) {
                        this.planes = t;
                      },
                    },
                    {
                      key: 'execute',
                      value:
                        ((e = h(
                          c().mark(function t(e) {
                            var n, r, i, o, a, s, u, l, h, f, d, p, g, v, y, m, b, x, _, w, E;
                            return c().wrap(
                              function (t) {
                                for (;;)
                                  switch ((t.prev = t.next)) {
                                    case 0:
                                      n = Ht(e);
                                      try {
                                        for (n.s(); !(r = n.n()).done; ) {
                                          (i = r.value),
                                            (o = i.getScene()),
                                            (a = i.getCamera()),
                                            (s = Ht(o.getEntities()));
                                          try {
                                            for (s.s(); !(u = s.n()).done; )
                                              (l = u.value),
                                                (h = this.mesh.getComponentByEntity(l)) &&
                                                  ((f = this.hierarchy.getComponentByEntity(l)),
                                                  (d = this.cullable.getComponentByEntity(l)),
                                                  (p = h.geometry),
                                                  (g = this.transform.getComponentByEntity(l)),
                                                  p &&
                                                    p.aabb &&
                                                    g &&
                                                    h.aabbDirty &&
                                                    ((v = g.worldTransform),
                                                    (y = p.aabb),
                                                    (m = y.center),
                                                    (b = y.halfExtents),
                                                    (x = H.transformMat4(H.create(), m, v)),
                                                    (c = v),
                                                    ((S = X.create())[0] = c[0]),
                                                    (S[1] = c[1]),
                                                    (S[2] = c[2]),
                                                    (S[3] = c[4]),
                                                    (S[4] = c[5]),
                                                    (S[5] = c[6]),
                                                    (S[6] = c[8]),
                                                    (S[7] = c[9]),
                                                    (S[8] = c[10]),
                                                    (_ = S),
                                                    (w = H.transformMat3(H.create(), b, _)),
                                                    h.aabb.update(x, w),
                                                    (h.aabbDirty = !1)),
                                                  d &&
                                                    p &&
                                                    ((E = this.cullable.getComponentByEntity(
                                                      (null == f ? void 0 : f.parentID) || -1,
                                                    )),
                                                    (d.visibilityPlaneMask =
                                                      this.computeVisibilityWithPlaneMask(
                                                        h.aabb,
                                                        (null == E
                                                          ? void 0
                                                          : E.visibilityPlaneMask) ||
                                                          It.INDETERMINATE,
                                                        this.planes || a.getFrustum().planes,
                                                      )),
                                                    (d.visible =
                                                      d.visibilityPlaneMask !== It.OUTSIDE)));
                                          } catch (t) {
                                            s.e(t);
                                          } finally {
                                            s.f();
                                          }
                                        }
                                      } catch (t) {
                                        n.e(t);
                                      } finally {
                                        n.f();
                                      }
                                    case 2:
                                    case 'end':
                                      return t.stop();
                                  }
                                var c, S;
                              },
                              t,
                              this,
                            );
                          }),
                        )),
                        function (t) {
                          return e.apply(this, arguments);
                        }),
                    },
                    {
                      key: 'tearDown',
                      value: function () {
                        this.cullable.clear(), this.mesh.clear();
                      },
                    },
                    {
                      key: 'computeVisibilityWithPlaneMask',
                      value: function (t, e, n) {
                        if (e === It.OUTSIDE || e === It.INSIDE) return e;
                        for (var r = It.INSIDE, i = 0, o = n.length; i < o; ++i) {
                          var a = i < 31 ? 1 << i : 0;
                          if (!(i < 31 && 0 == (e & a))) {
                            var s = n[i],
                              u = s.normal,
                              c = s.distance;
                            if (H.dot(u, t.getNegativeFarPoint(n[i])) + c > 0) return It.OUTSIDE;
                            H.dot(u, t.getPositiveFarPoint(n[i])) + c > 0 && (r |= a);
                          }
                        }
                        return r;
                      },
                    },
                  ]),
                  t
                );
              })()),
              (zt = s((Gt = Yt).prototype, 'mesh', [Ot], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null,
              })),
              (Ft = s(Gt.prototype, 'cullable', [Dt], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null,
              })),
              (Ut = s(Gt.prototype, 'geometry', [Lt], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null,
              })),
              (Vt = s(Gt.prototype, 'hierarchy', [Rt], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null,
              })),
              (Wt = s(Gt.prototype, 'transform', [Bt], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null,
              })),
              (jt = Gt)),
            ) || jt);
          function Zt() {
            var t = new U.WT(16);
            return (
              U.WT != Float32Array &&
                ((t[1] = 0),
                (t[2] = 0),
                (t[3] = 0),
                (t[4] = 0),
                (t[6] = 0),
                (t[7] = 0),
                (t[8] = 0),
                (t[9] = 0),
                (t[11] = 0),
                (t[12] = 0),
                (t[13] = 0),
                (t[14] = 0)),
              (t[0] = 1),
              (t[5] = 1),
              (t[10] = 1),
              (t[15] = 1),
              t
            );
          }
          function $t(t, e) {
            return (
              (t[0] = e[0]),
              (t[1] = e[1]),
              (t[2] = e[2]),
              (t[3] = e[3]),
              (t[4] = e[4]),
              (t[5] = e[5]),
              (t[6] = e[6]),
              (t[7] = e[7]),
              (t[8] = e[8]),
              (t[9] = e[9]),
              (t[10] = e[10]),
              (t[11] = e[11]),
              (t[12] = e[12]),
              (t[13] = e[13]),
              (t[14] = e[14]),
              (t[15] = e[15]),
              t
            );
          }
          function Qt(t) {
            return (
              (t[0] = 1),
              (t[1] = 0),
              (t[2] = 0),
              (t[3] = 0),
              (t[4] = 0),
              (t[5] = 1),
              (t[6] = 0),
              (t[7] = 0),
              (t[8] = 0),
              (t[9] = 0),
              (t[10] = 1),
              (t[11] = 0),
              (t[12] = 0),
              (t[13] = 0),
              (t[14] = 0),
              (t[15] = 1),
              t
            );
          }
          function Jt(t, e) {
            var n = e[0],
              r = e[1],
              i = e[2],
              o = e[3],
              a = e[4],
              s = e[5],
              u = e[6],
              c = e[7],
              l = e[8],
              h = e[9],
              f = e[10],
              d = e[11],
              p = e[12],
              g = e[13],
              v = e[14],
              y = e[15],
              m = n * s - r * a,
              b = n * u - i * a,
              x = n * c - o * a,
              _ = r * u - i * s,
              w = r * c - o * s,
              E = i * c - o * u,
              S = l * g - h * p,
              M = l * v - f * p,
              k = l * y - d * p,
              A = h * v - f * g,
              C = h * y - d * g,
              I = f * y - d * v,
              T = m * I - b * C + x * A + _ * k - w * M + E * S;
            return T
              ? ((T = 1 / T),
                (t[0] = (s * I - u * C + c * A) * T),
                (t[1] = (i * C - r * I - o * A) * T),
                (t[2] = (g * E - v * w + y * _) * T),
                (t[3] = (f * w - h * E - d * _) * T),
                (t[4] = (u * k - a * I - c * M) * T),
                (t[5] = (n * I - i * k + o * M) * T),
                (t[6] = (v * x - p * E - y * b) * T),
                (t[7] = (l * E - f * x + d * b) * T),
                (t[8] = (a * C - s * k + c * S) * T),
                (t[9] = (r * k - n * C - o * S) * T),
                (t[10] = (p * w - g * x + y * m) * T),
                (t[11] = (h * x - l * w - d * m) * T),
                (t[12] = (s * M - a * A - u * S) * T),
                (t[13] = (n * A - r * M + i * S) * T),
                (t[14] = (g * b - p * _ - v * m) * T),
                (t[15] = (l * _ - h * b + f * m) * T),
                t)
              : null;
          }
          function te(t, e, n) {
            var r = e[0],
              i = e[1],
              o = e[2],
              a = e[3],
              s = e[4],
              u = e[5],
              c = e[6],
              l = e[7],
              h = e[8],
              f = e[9],
              d = e[10],
              p = e[11],
              g = e[12],
              v = e[13],
              y = e[14],
              m = e[15],
              b = n[0],
              x = n[1],
              _ = n[2],
              w = n[3];
            return (
              (t[0] = b * r + x * s + _ * h + w * g),
              (t[1] = b * i + x * u + _ * f + w * v),
              (t[2] = b * o + x * c + _ * d + w * y),
              (t[3] = b * a + x * l + _ * p + w * m),
              (b = n[4]),
              (x = n[5]),
              (_ = n[6]),
              (w = n[7]),
              (t[4] = b * r + x * s + _ * h + w * g),
              (t[5] = b * i + x * u + _ * f + w * v),
              (t[6] = b * o + x * c + _ * d + w * y),
              (t[7] = b * a + x * l + _ * p + w * m),
              (b = n[8]),
              (x = n[9]),
              (_ = n[10]),
              (w = n[11]),
              (t[8] = b * r + x * s + _ * h + w * g),
              (t[9] = b * i + x * u + _ * f + w * v),
              (t[10] = b * o + x * c + _ * d + w * y),
              (t[11] = b * a + x * l + _ * p + w * m),
              (b = n[12]),
              (x = n[13]),
              (_ = n[14]),
              (w = n[15]),
              (t[12] = b * r + x * s + _ * h + w * g),
              (t[13] = b * i + x * u + _ * f + w * v),
              (t[14] = b * o + x * c + _ * d + w * y),
              (t[15] = b * a + x * l + _ * p + w * m),
              t
            );
          }
          function ee(t, e, n) {
            var r,
              i,
              o,
              a,
              s,
              u,
              c,
              l,
              h,
              f,
              d,
              p,
              g = n[0],
              v = n[1],
              y = n[2];
            return (
              e === t
                ? ((t[12] = e[0] * g + e[4] * v + e[8] * y + e[12]),
                  (t[13] = e[1] * g + e[5] * v + e[9] * y + e[13]),
                  (t[14] = e[2] * g + e[6] * v + e[10] * y + e[14]),
                  (t[15] = e[3] * g + e[7] * v + e[11] * y + e[15]))
                : ((r = e[0]),
                  (i = e[1]),
                  (o = e[2]),
                  (a = e[3]),
                  (s = e[4]),
                  (u = e[5]),
                  (c = e[6]),
                  (l = e[7]),
                  (h = e[8]),
                  (f = e[9]),
                  (d = e[10]),
                  (p = e[11]),
                  (t[0] = r),
                  (t[1] = i),
                  (t[2] = o),
                  (t[3] = a),
                  (t[4] = s),
                  (t[5] = u),
                  (t[6] = c),
                  (t[7] = l),
                  (t[8] = h),
                  (t[9] = f),
                  (t[10] = d),
                  (t[11] = p),
                  (t[12] = r * g + s * v + h * y + e[12]),
                  (t[13] = i * g + u * v + f * y + e[13]),
                  (t[14] = o * g + c * v + d * y + e[14]),
                  (t[15] = a * g + l * v + p * y + e[15])),
              t
            );
          }
          function ne(t, e) {
            return (t[0] = e[12]), (t[1] = e[13]), (t[2] = e[14]), t;
          }
          function re(t, e) {
            var n = e[0],
              r = e[1],
              i = e[2],
              o = e[4],
              a = e[5],
              s = e[6],
              u = e[8],
              c = e[9],
              l = e[10];
            return (
              (t[0] = Math.hypot(n, r, i)),
              (t[1] = Math.hypot(o, a, s)),
              (t[2] = Math.hypot(u, c, l)),
              t
            );
          }
          function ie(t, e) {
            var n = new U.WT(3);
            re(n, e);
            var r = 1 / n[0],
              i = 1 / n[1],
              o = 1 / n[2],
              a = e[0] * r,
              s = e[1] * i,
              u = e[2] * o,
              c = e[4] * r,
              l = e[5] * i,
              h = e[6] * o,
              f = e[8] * r,
              d = e[9] * i,
              p = e[10] * o,
              g = a + l + p,
              v = 0;
            return (
              g > 0
                ? ((v = 2 * Math.sqrt(g + 1)),
                  (t[3] = 0.25 * v),
                  (t[0] = (h - d) / v),
                  (t[1] = (f - u) / v),
                  (t[2] = (s - c) / v))
                : a > l && a > p
                ? ((v = 2 * Math.sqrt(1 + a - l - p)),
                  (t[3] = (h - d) / v),
                  (t[0] = 0.25 * v),
                  (t[1] = (s + c) / v),
                  (t[2] = (f + u) / v))
                : l > p
                ? ((v = 2 * Math.sqrt(1 + l - a - p)),
                  (t[3] = (f - u) / v),
                  (t[0] = (s + c) / v),
                  (t[1] = 0.25 * v),
                  (t[2] = (h + d) / v))
                : ((v = 2 * Math.sqrt(1 + p - a - l)),
                  (t[3] = (s - c) / v),
                  (t[0] = (f + u) / v),
                  (t[1] = (h + d) / v),
                  (t[2] = 0.25 * v)),
              t
            );
          }
          function oe(t, e) {
            var n = e[0],
              r = e[1],
              i = e[2],
              o = e[3],
              a = n + n,
              s = r + r,
              u = i + i,
              c = n * a,
              l = r * a,
              h = r * s,
              f = i * a,
              d = i * s,
              p = i * u,
              g = o * a,
              v = o * s,
              y = o * u;
            return (
              (t[0] = 1 - h - p),
              (t[1] = l + y),
              (t[2] = f - v),
              (t[3] = 0),
              (t[4] = l - y),
              (t[5] = 1 - c - p),
              (t[6] = d + g),
              (t[7] = 0),
              (t[8] = f + v),
              (t[9] = d - g),
              (t[10] = 1 - c - h),
              (t[11] = 0),
              (t[12] = 0),
              (t[13] = 0),
              (t[14] = 0),
              (t[15] = 1),
              t
            );
          }
          var ae,
            se,
            ue,
            ce,
            le,
            he,
            fe,
            de,
            pe,
            ge,
            ve,
            ye,
            me,
            be,
            xe,
            _e,
            we,
            Ee,
            Se,
            Me,
            ke,
            Ae,
            Ce,
            Ie;
          function Te(t, e) {
            var n;
            if ('undefined' == typeof Symbol || null == t[Symbol.iterator]) {
              if (
                Array.isArray(t) ||
                (n = (function (t, e) {
                  if (t) {
                    if ('string' == typeof t) return Ne(t, e);
                    var n = Object.prototype.toString.call(t).slice(8, -1);
                    return (
                      'Object' === n && t.constructor && (n = t.constructor.name),
                      'Map' === n || 'Set' === n
                        ? Array.from(t)
                        : 'Arguments' === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)
                        ? Ne(t, e)
                        : void 0
                    );
                  }
                })(t)) ||
                (e && t && 'number' == typeof t.length)
              ) {
                n && (t = n);
                var r = 0,
                  i = function () {};
                return {
                  s: i,
                  n: function () {
                    return r >= t.length ? { done: !0 } : { done: !1, value: t[r++] };
                  },
                  e: function (t) {
                    throw t;
                  },
                  f: i,
                };
              }
              throw new TypeError(
                'Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.',
              );
            }
            var o,
              a = !0,
              s = !1;
            return {
              s: function () {
                n = t[Symbol.iterator]();
              },
              n: function () {
                var t = n.next();
                return (a = t.done), t;
              },
              e: function (t) {
                (s = !0), (o = t);
              },
              f: function () {
                try {
                  a || null == n.return || n.return();
                } finally {
                  if (s) throw o;
                }
              },
            };
          }
          function Ne(t, e) {
            (null == e || e > t.length) && (e = t.length);
            for (var n = 0, r = new Array(e); n < e; n++) r[n] = t[n];
            return r;
          }
          var Pe,
            Oe,
            De,
            Le,
            Re,
            Be,
            je,
            Ge,
            ze,
            Fe,
            Ue,
            Ve,
            We,
            Ye =
              ((ae = (0, b.b2)()),
              (se = (0, b.f3)(x.MeshComponentManager)),
              (ue = (0, b.f3)(x.GeometryComponentManager)),
              (ce = (0, b.f3)(x.MaterialComponentManager)),
              (le = (0, b.f3)(x.CullableComponentManager)),
              (he = (0, b.f3)(x.TransformComponentManager)),
              (fe = (0, b.f3)(x.HierarchyComponentManager)),
              (de = (0, b.f3)(x.Systems)),
              (pe = (0, b.t6)(x.FrameGraphSystem)),
              (ge = (0, b.f3)(x.RenderEngine)),
              (ve = (0, b.f3)(x.ResourcePool)),
              ae(
                ((Ie = Ce =
                  (function () {
                    function t() {
                      var e = this;
                      i(this, t),
                        r(this, 'mesh', be, this),
                        r(this, 'geometry', xe, this),
                        r(this, 'material', _e, this),
                        r(this, 'cullable', we, this),
                        r(this, 'transform', Ee, this),
                        r(this, 'hierarchy', Se, this),
                        r(this, 'frameGraphSystem', Me, this),
                        r(this, 'engine', ke, this),
                        r(this, 'resourcePool', Ae, this),
                        (this.modelCache = {}),
                        (this.setup = function (t, e, n) {
                          var r = t.createRenderTarget(e, 'color buffer', {
                            width: 1,
                            height: 1,
                            usage: J.RENDER_ATTACHMENT | J.SAMPLED | J.COPY_SRC,
                          });
                          n.data = { output: e.write(t, r) };
                        }),
                        (this.execute = (function () {
                          var t = h(
                            c().mark(function t(n, r, i) {
                              var o, a, s, u, l, h;
                              return c().wrap(
                                function (t) {
                                  for (;;)
                                    switch ((t.prev = t.next)) {
                                      case 0:
                                        (o = n.getResourceNode(r.data.output)),
                                          (a = e.resourcePool.getOrCreateResource(o.resource)),
                                          (s = Te(i)),
                                          (t.prev = 3),
                                          s.s();
                                      case 5:
                                        if ((u = s.n()).done) {
                                          t.next = 11;
                                          break;
                                        }
                                        return (l = u.value), (t.next = 9), e.initView(l);
                                      case 9:
                                        t.next = 5;
                                        break;
                                      case 11:
                                        t.next = 16;
                                        break;
                                      case 13:
                                        (t.prev = 13), (t.t0 = t.catch(3)), s.e(t.t0);
                                      case 16:
                                        return (t.prev = 16), s.f(), t.finish(16);
                                      case 19:
                                        (h = e.engine.getCanvas()),
                                          a.resize({ width: h.width, height: h.height }),
                                          e.engine.setScissor({ enable: !1 }),
                                          e.engine.clear({
                                            framebuffer: a,
                                            color: i[0].getClearColor(),
                                            depth: 1,
                                          }),
                                          e.engine.useFramebuffer(a, function () {
                                            var t,
                                              n = Te(i);
                                            try {
                                              for (n.s(); !(t = n.n()).done; ) {
                                                var r = t.value;
                                                e.renderView(r);
                                              }
                                            } catch (t) {
                                              n.e(t);
                                            } finally {
                                              n.f();
                                            }
                                          });
                                      case 24:
                                      case 'end':
                                        return t.stop();
                                    }
                                },
                                t,
                                null,
                                [[3, 13, 16, 19]],
                              );
                            }),
                          );
                          return function (e, n, r) {
                            return t.apply(this, arguments);
                          };
                        })());
                    }
                    var e, n;
                    return (
                      a(t, [
                        {
                          key: 'renderView',
                          value: function (t) {
                            var e = t.getScene(),
                              n = t.getCamera(),
                              r = n.getViewTransform(),
                              i = te(Zt(), n.getPerspective(), r);
                            n.getFrustum().extractFromVPMatrix(i);
                            var o = t.getViewport(),
                              a = o.x,
                              s = o.y,
                              u = o.width,
                              c = o.height;
                            this.engine.viewport({ x: a, y: s, width: u, height: c });
                            var l,
                              h = Te(e.getEntities());
                            try {
                              for (h.s(); !(l = h.n()).done; ) {
                                var f = l.value;
                                this.renderMesh(f, { camera: n, view: t, viewMatrix: r });
                              }
                            } catch (t) {
                              h.e(t);
                            } finally {
                              h.f();
                            }
                          },
                        },
                        {
                          key: 'renderMesh',
                          value: function (t, e) {
                            var n = e.camera,
                              r = e.view,
                              i = e.viewMatrix,
                              o = this.mesh.getComponentByEntity(t);
                            if (o && o.visible) {
                              var a = o.material,
                                s = o.geometry;
                              if (s && !s.dirty && a) {
                                var u = this.transform.getComponentByEntity(t),
                                  c = te(Zt(), i, u.worldTransform),
                                  l = r.getViewport(),
                                  h = l.width,
                                  f = l.height;
                                a.setUniform({
                                  projectionMatrix: n.getPerspective(),
                                  modelViewMatrix: c,
                                  modelMatrix: u.worldTransform,
                                  viewMatrix: i,
                                  cameraPosition: n.getPosition(),
                                  u_viewport: [h, f],
                                }),
                                  o.model &&
                                    (o.model.draw({
                                      uniforms: a.uniforms.reduce(function (t, e) {
                                        return (t[e.name] = e.data), t;
                                      }, {}),
                                    }),
                                    a.uniforms.forEach(function (t) {
                                      t.dirty = !1;
                                    }),
                                    (a.dirty = !1));
                              }
                            }
                          },
                        },
                        {
                          key: 'initMesh',
                          value:
                            ((n = h(
                              c().mark(function t(e, n) {
                                var r, i, o, a, s, u, l, h;
                                return c().wrap(
                                  function (t) {
                                    for (;;)
                                      switch ((t.prev = t.next)) {
                                        case 0:
                                          if ((r = this.mesh.getComponentByEntity(e))) {
                                            t.next = 3;
                                            break;
                                          }
                                          return t.abrupt('return');
                                        case 3:
                                          if (
                                            ((i = r.material), (o = r.geometry) && !o.dirty && i)
                                          ) {
                                            t.next = 7;
                                            break;
                                          }
                                          return t.abrupt('return');
                                        case 7:
                                          if (r.model) {
                                            t.next = 24;
                                            break;
                                          }
                                          if (
                                            ((a = 'm-'.concat(i.entity, '-g-').concat(o.entity)),
                                            !this.modelCache[a])
                                          ) {
                                            t.next = 12;
                                            break;
                                          }
                                          return (r.model = this.modelCache[a]), t.abrupt('return');
                                        case 12:
                                          return (
                                            i.setUniform({
                                              projectionMatrix: 1,
                                              modelViewMatrix: 1,
                                              modelMatrix: 1,
                                              viewMatrix: 1,
                                              cameraPosition: 1,
                                              u_viewport: 1,
                                            }),
                                            (s = this.engine),
                                            (u = s.createModel),
                                            (l = s.createAttribute),
                                            (h = {
                                              vs: i.vertexShaderGLSL,
                                              fs: i.fragmentShaderGLSL,
                                              defines: i.defines,
                                              attributes: o.attributes.reduce(function (t, e) {
                                                return (
                                                  e.data &&
                                                    e.buffer &&
                                                    (t[e.name] = l({
                                                      buffer: e.buffer,
                                                      attributes: e.attributes,
                                                      arrayStride: e.arrayStride,
                                                      stepMode: e.stepMode,
                                                      divisor: 'vertex' === e.stepMode ? 0 : 1,
                                                    })),
                                                  t
                                                );
                                              }, {}),
                                              uniforms: i.uniforms.reduce(function (t, e) {
                                                return (t[e.name] = e.data), t;
                                              }, {}),
                                              scissor: {
                                                enable: !0,
                                                box: function () {
                                                  return n.getViewport();
                                                },
                                              },
                                            }),
                                            i.cull && (h.cull = i.cull),
                                            i.depth && (h.depth = i.depth),
                                            i.blend && (h.blend = i.blend),
                                            o.indicesBuffer && (h.elements = o.indicesBuffer),
                                            o.maxInstancedCount &&
                                              ((h.instances = o.maxInstancedCount),
                                              (h.count = o.vertexCount || 3)),
                                            (t.next = 22),
                                            u(h)
                                          );
                                        case 22:
                                          (r.model = t.sent), (this.modelCache[a] = r.model);
                                        case 24:
                                        case 'end':
                                          return t.stop();
                                      }
                                  },
                                  t,
                                  this,
                                );
                              }),
                            )),
                            function (t, e) {
                              return n.apply(this, arguments);
                            }),
                        },
                        {
                          key: 'initView',
                          value:
                            ((e = h(
                              c().mark(function t(e) {
                                var n, r, i, o;
                                return c().wrap(
                                  function (t) {
                                    for (;;)
                                      switch ((t.prev = t.next)) {
                                        case 0:
                                          (n = e.getScene()),
                                            (r = Te(n.getEntities())),
                                            (t.prev = 2),
                                            r.s();
                                        case 4:
                                          if ((i = r.n()).done) {
                                            t.next = 10;
                                            break;
                                          }
                                          return (o = i.value), (t.next = 8), this.initMesh(o, e);
                                        case 8:
                                          t.next = 4;
                                          break;
                                        case 10:
                                          t.next = 15;
                                          break;
                                        case 12:
                                          (t.prev = 12), (t.t0 = t.catch(2)), r.e(t.t0);
                                        case 15:
                                          return (t.prev = 15), r.f(), t.finish(15);
                                        case 18:
                                        case 'end':
                                          return t.stop();
                                      }
                                  },
                                  t,
                                  this,
                                  [[2, 12, 15, 18]],
                                );
                              }),
                            )),
                            function (t) {
                              return e.apply(this, arguments);
                            }),
                        },
                      ]),
                      t
                    );
                  })()),
                (Ce.IDENTIFIER = 'Render Pass'),
                (be = s((me = Ie).prototype, 'mesh', [se], {
                  configurable: !0,
                  enumerable: !0,
                  writable: !0,
                  initializer: null,
                })),
                (xe = s(me.prototype, 'geometry', [ue], {
                  configurable: !0,
                  enumerable: !0,
                  writable: !0,
                  initializer: null,
                })),
                (_e = s(me.prototype, 'material', [ce], {
                  configurable: !0,
                  enumerable: !0,
                  writable: !0,
                  initializer: null,
                })),
                (we = s(me.prototype, 'cullable', [le], {
                  configurable: !0,
                  enumerable: !0,
                  writable: !0,
                  initializer: null,
                })),
                (Ee = s(me.prototype, 'transform', [he], {
                  configurable: !0,
                  enumerable: !0,
                  writable: !0,
                  initializer: null,
                })),
                (Se = s(me.prototype, 'hierarchy', [fe], {
                  configurable: !0,
                  enumerable: !0,
                  writable: !0,
                  initializer: null,
                })),
                (Me = s(me.prototype, 'frameGraphSystem', [de, pe], {
                  configurable: !0,
                  enumerable: !0,
                  writable: !0,
                  initializer: null,
                })),
                (ke = s(me.prototype, 'engine', [ge], {
                  configurable: !0,
                  enumerable: !0,
                  writable: !0,
                  initializer: null,
                })),
                (Ae = s(me.prototype, 'resourcePool', [ve], {
                  configurable: !0,
                  enumerable: !0,
                  writable: !0,
                  initializer: null,
                })),
                (ye = me)),
              ) || ye);
          function Xe(t, e) {
            var n;
            if ('undefined' == typeof Symbol || null == t[Symbol.iterator]) {
              if (
                Array.isArray(t) ||
                (n = (function (t, e) {
                  if (t) {
                    if ('string' == typeof t) return He(t, e);
                    var n = Object.prototype.toString.call(t).slice(8, -1);
                    return (
                      'Object' === n && t.constructor && (n = t.constructor.name),
                      'Map' === n || 'Set' === n
                        ? Array.from(t)
                        : 'Arguments' === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)
                        ? He(t, e)
                        : void 0
                    );
                  }
                })(t)) ||
                (e && t && 'number' == typeof t.length)
              ) {
                n && (t = n);
                var r = 0,
                  i = function () {};
                return {
                  s: i,
                  n: function () {
                    return r >= t.length ? { done: !0 } : { done: !1, value: t[r++] };
                  },
                  e: function (t) {
                    throw t;
                  },
                  f: i,
                };
              }
              throw new TypeError(
                'Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.',
              );
            }
            var o,
              a = !0,
              s = !1;
            return {
              s: function () {
                n = t[Symbol.iterator]();
              },
              n: function () {
                var t = n.next();
                return (a = t.done), t;
              },
              e: function (t) {
                (s = !0), (o = t);
              },
              f: function () {
                try {
                  a || null == n.return || n.return();
                } finally {
                  if (s) throw o;
                }
              },
            };
          }
          function He(t, e) {
            (null == e || e > t.length) && (e = t.length);
            for (var n = 0, r = new Array(e); n < e; n++) r[n] = t[n];
            return r;
          }
          var qe,
            Ke,
            Ze,
            $e,
            Qe,
            Je,
            tn,
            en,
            nn,
            rn,
            on,
            an,
            sn,
            un,
            cn,
            ln,
            hn,
            fn,
            dn,
            pn,
            gn,
            vn,
            yn =
              ((Pe = (0, b.b2)()),
              (Oe = (0, b.f3)(x.RenderEngine)),
              (De = (0, b.f3)(x.ResourcePool)),
              (Le = (0, b.f3)(x.RenderPassFactory)),
              (Re = (0, b.f3)(x.MeshComponentManager)),
              Pe(
                ((We = Ve =
                  (function () {
                    function t() {
                      var e = this;
                      i(this, t),
                        r(this, 'engine', Ge, this),
                        r(this, 'resourcePool', ze, this),
                        r(this, 'renderPassFactory', Fe, this),
                        r(this, 'mesh', Ue, this),
                        (this.pickingFBO = void 0),
                        (this.views = void 0),
                        (this.highlightEnabled = !0),
                        (this.highlightColor = [255, 0, 0, 255]),
                        (this.alreadyInRendering = !1),
                        (this.setup = function (t, e, n) {
                          var r = t.createRenderTarget(e, 'picking fbo', { width: 1, height: 1 });
                          (n.data = { output: e.write(t, r) }), (e.hasSideEffect = !0);
                        }),
                        (this.execute = (function () {
                          var t = h(
                            c().mark(function t(n, r, i) {
                              var o, a, s;
                              return c().wrap(function (t) {
                                for (;;)
                                  switch ((t.prev = t.next)) {
                                    case 0:
                                      if (((e.views = i), !e.alreadyInRendering)) {
                                        t.next = 3;
                                        break;
                                      }
                                      return t.abrupt('return');
                                    case 3:
                                      o = Xe(i);
                                      try {
                                        for (
                                          s = function () {
                                            var t = a.value,
                                              i = t.getViewport(),
                                              o = i.width,
                                              s = i.height;
                                            e.alreadyInRendering = !0;
                                            var u = n.getResourceNode(r.data.output);
                                            (e.pickingFBO = e.resourcePool.getOrCreateResource(
                                              u.resource,
                                            )),
                                              e.pickingFBO.resize({ width: o, height: s }),
                                              e.engine.useFramebuffer(e.pickingFBO, function () {
                                                e.engine.clear({
                                                  framebuffer: e.pickingFBO,
                                                  color: [0, 0, 0, 0],
                                                  stencil: 0,
                                                  depth: 1,
                                                });
                                                var n,
                                                  r = e.renderPassFactory(Ye.IDENTIFIER),
                                                  i = [],
                                                  o = Xe(t.getScene().getEntities());
                                                try {
                                                  for (o.s(); !(n = o.n()).done; ) {
                                                    var a = n.value,
                                                      s = e.mesh.getComponentByEntity(a);
                                                    s.material.setUniform('u_PickingStage', 1),
                                                      i.push(s);
                                                  }
                                                } catch (t) {
                                                  o.e(t);
                                                } finally {
                                                  o.f();
                                                }
                                                r.renderView(t),
                                                  i.forEach(function (t) {
                                                    t.material.setUniform('u_PickingStage', 2);
                                                  }),
                                                  (e.alreadyInRendering = !1);
                                              });
                                          },
                                            o.s();
                                          !(a = o.n()).done;

                                        )
                                          s();
                                      } catch (t) {
                                        o.e(t);
                                      } finally {
                                        o.f();
                                      }
                                    case 5:
                                    case 'end':
                                      return t.stop();
                                  }
                              }, t);
                            }),
                          );
                          return function (e, n, r) {
                            return t.apply(this, arguments);
                          };
                        })()),
                        (this.pick = function (t, n) {
                          var r,
                            i,
                            o = t.x,
                            a = t.y,
                            s = e.engine,
                            u = s.readPixels,
                            c = s.useFramebuffer,
                            l = n.getViewport(),
                            h = l.width,
                            f = l.height,
                            d = o * window.devicePixelRatio,
                            p = a * window.devicePixelRatio;
                          if (!(d > h || d < 0 || p > f || p < 0))
                            return (
                              c(e.pickingFBO, function () {
                                var t;
                                (0 ===
                                  (r = u({
                                    x: Math.round(d),
                                    y: Math.round(f - (a + 1) * window.devicePixelRatio),
                                    width: 1,
                                    height: 1,
                                    data: new Uint8Array(4),
                                    framebuffer: e.pickingFBO,
                                  }))[0] &&
                                  0 === r[1] &&
                                  0 === r[2]) ||
                                  ((t = m(r, 3)),
                                  (i = t[0] + 256 * t[1] + 65536 * t[2] - 1),
                                  e.highlightEnabled && e.highlightPickedFeature(r, n));
                              }),
                              i
                            );
                        });
                    }
                    return (
                      a(t, [
                        {
                          key: 'enableHighlight',
                          value: function (t) {
                            this.highlightEnabled = t;
                          },
                        },
                        {
                          key: 'setHighlightColor',
                          value: function (t) {
                            this.highlightColor = t;
                          },
                        },
                        {
                          key: 'highlightPickedFeature',
                          value: function (t, e) {
                            if (t) {
                              var n,
                                r = Xe(e.getScene().getEntities());
                              try {
                                for (r.s(); !(n = r.n()).done; ) {
                                  var i = n.value,
                                    o = this.mesh.getComponentByEntity(i).material;
                                  o.setUniform('u_PickingStage', 2),
                                    o.setUniform('u_PickingColor', [t[0], t[1], t[2]]),
                                    o.setUniform('u_HighlightColor', this.highlightColor);
                                }
                              } catch (t) {
                                r.e(t);
                              } finally {
                                r.f();
                              }
                            }
                          },
                        },
                      ]),
                      t
                    );
                  })()),
                (Ve.IDENTIFIER = 'PixelPicking Pass'),
                (Ge = s((je = We).prototype, 'engine', [Oe], {
                  configurable: !0,
                  enumerable: !0,
                  writable: !0,
                  initializer: null,
                })),
                (ze = s(je.prototype, 'resourcePool', [De], {
                  configurable: !0,
                  enumerable: !0,
                  writable: !0,
                  initializer: null,
                })),
                (Fe = s(je.prototype, 'renderPassFactory', [Le], {
                  configurable: !0,
                  enumerable: !0,
                  writable: !0,
                  initializer: null,
                })),
                (Ue = s(je.prototype, 'mesh', [Re], {
                  configurable: !0,
                  enumerable: !0,
                  writable: !0,
                  initializer: null,
                })),
                (Be = je)),
              ) || Be),
            mn =
              ((qe = (0, b.b2)()),
              (Ke = (0, b.f3)(x.RenderEngine)),
              (Ze = (0, b.f3)(x.ResourcePool)),
              qe(
                ((nn = en =
                  function t() {
                    var e = this;
                    i(this, t),
                      r(this, 'engine', Je, this),
                      r(this, 'resourcePool', tn, this),
                      (this.model = void 0),
                      (this.setup = function (t, e, n) {
                        var r = t.getPass(Ye.IDENTIFIER);
                        if (r) {
                          var i = t.createRenderTarget(e, 'render to screen', {
                            width: 1,
                            height: 1,
                          });
                          n.data = { input: e.read(r.data.output), output: e.write(t, i) };
                        }
                      }),
                      (this.execute = (function () {
                        var t = h(
                          c().mark(function t(n, r) {
                            var i, o, a, s, u, l, h;
                            return c().wrap(function (t) {
                              for (;;)
                                switch ((t.prev = t.next)) {
                                  case 0:
                                    if (
                                      ((i = e.engine),
                                      (o = i.createModel),
                                      (a = i.createAttribute),
                                      (s = i.createBuffer),
                                      e.model)
                                    ) {
                                      t.next = 6;
                                      break;
                                    }
                                    return (
                                      (t.next = 4),
                                      o({
                                        vs: e.engine.supportWebGPU
                                          ? 'layout(location = 0) in vec2 a_Position;\nlayout(location = 0) out vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}'
                                          : 'attribute vec2 a_Position;\n\nvarying vec2 v_UV;\n\nvoid main() {\n  v_UV = 0.5 * (a_Position + 1.0);\n  gl_Position = vec4(a_Position, 0., 1.);\n}',
                                        fs: e.engine.supportWebGPU
                                          ? 'layout(set = 0, binding = 0) uniform sampler u_TextureSampler;\nlayout(set = 0, binding = 1) uniform texture2D u_Texture;\n\nlayout(location = 0) in vec2 v_UV;\nlayout(location = 0) out vec4 outColor;\n\nvoid main() {\n  outColor = texture(sampler2D(u_Texture, u_TextureSampler), v_UV);\n}'
                                          : 'varying vec2 v_UV;\n\nuniform sampler2D u_Texture;\n\nvoid main() {\n  gl_FragColor = vec4(texture2D(u_Texture, v_UV));\n}',
                                        attributes: {
                                          a_Position: a({
                                            buffer: s({
                                              data: [-4, -4, 4, -4, 0, 4],
                                              type: J.FLOAT,
                                            }),
                                            size: 2,
                                            arrayStride: 8,
                                            stepMode: 'vertex',
                                            attributes: [
                                              { shaderLocation: 0, offset: 0, format: 'float2' },
                                            ],
                                          }),
                                        },
                                        uniforms: { u_Texture: null },
                                        depth: { enable: !1 },
                                        count: 3,
                                        blend: { enable: !0 },
                                      })
                                    );
                                  case 4:
                                    (u = t.sent), (e.model = u);
                                  case 6:
                                    (l = n.getResourceNode(r.data.input)),
                                      (h = e.resourcePool.getOrCreateResource(l.resource)),
                                      e.engine.useFramebuffer(null, function () {
                                        e.engine.clear({
                                          framebuffer: null,
                                          color: [0, 0, 0, 0],
                                          depth: 1,
                                          stencil: 0,
                                        }),
                                          e.model.draw({ uniforms: { u_Texture: h } });
                                      });
                                  case 9:
                                  case 'end':
                                    return t.stop();
                                }
                            }, t);
                          }),
                        );
                        return function (e, n) {
                          return t.apply(this, arguments);
                        };
                      })()),
                      (this.tearDown = function () {
                        e.model = void 0;
                      });
                  }),
                (en.IDENTIFIER = 'Copy Pass'),
                (Je = s((Qe = nn).prototype, 'engine', [Ke], {
                  configurable: !0,
                  enumerable: !0,
                  writable: !0,
                  initializer: null,
                })),
                (tn = s(Qe.prototype, 'resourcePool', [Ze], {
                  configurable: !0,
                  enumerable: !0,
                  writable: !0,
                  initializer: null,
                })),
                ($e = Qe)),
              ) || $e),
            bn =
              ((rn = (0, b.b2)()),
              (on = (0, b.f3)(x.Systems)),
              (an = (0, b.t6)(x.FrameGraphSystem)),
              (sn = (0, b.f3)(x.RenderPassFactory)),
              (un = (0, b.f3)(x.ConfigService)),
              (cn = (0, b.f3)(x.ResourcePool)),
              rn(
                ((vn = (function () {
                  function t() {
                    i(this, t),
                      r(this, 'frameGraphSystem', fn, this),
                      r(this, 'renderPassFactory', dn, this),
                      r(this, 'configService', pn, this),
                      r(this, 'resourcePool', gn, this);
                  }
                  var e;
                  return (
                    a(t, [
                      {
                        key: 'execute',
                        value:
                          ((e = h(
                            c().mark(function t(e) {
                              var n, r, i, o, a, s, u, l;
                              return c().wrap(
                                function (t) {
                                  for (;;)
                                    switch ((t.prev = t.next)) {
                                      case 0:
                                        (n = this.renderPassFactory(Ye.IDENTIFIER)),
                                          (r = n.setup),
                                          (i = n.execute),
                                          this.frameGraphSystem.addPass(Ye.IDENTIFIER, r, i),
                                          (o = this.renderPassFactory(mn.IDENTIFIER)),
                                          (a = o.setup),
                                          (s = o.execute),
                                          (u = o.tearDown),
                                          (l = this.frameGraphSystem.addPass(
                                            mn.IDENTIFIER,
                                            a,
                                            s,
                                            u,
                                          )),
                                          this.frameGraphSystem.present(l.data.output);
                                      case 5:
                                      case 'end':
                                        return t.stop();
                                    }
                                },
                                t,
                                this,
                              );
                            }),
                          )),
                          function (t) {
                            return e.apply(this, arguments);
                          }),
                      },
                      {
                        key: 'tearDown',
                        value: function () {
                          this.resourcePool.clean();
                        },
                      },
                      {
                        key: 'pick',
                        value: function (t, e) {
                          return this.renderPassFactory(yn.IDENTIFIER).pick(t, e);
                        },
                      },
                    ]),
                    t
                  );
                })()),
                (fn = s((hn = vn).prototype, 'frameGraphSystem', [on, an], {
                  configurable: !0,
                  enumerable: !0,
                  writable: !0,
                  initializer: null,
                })),
                (dn = s(hn.prototype, 'renderPassFactory', [sn], {
                  configurable: !0,
                  enumerable: !0,
                  writable: !0,
                  initializer: null,
                })),
                (pn = s(hn.prototype, 'configService', [un], {
                  configurable: !0,
                  enumerable: !0,
                  writable: !0,
                  initializer: null,
                })),
                (gn = s(hn.prototype, 'resourcePool', [cn], {
                  configurable: !0,
                  enumerable: !0,
                  writable: !0,
                  initializer: null,
                })),
                (ln = hn)),
              ) || ln);
          var xn,
            _n,
            wn,
            En,
            Sn,
            Mn,
            kn,
            An,
            Cn,
            In,
            Tn = (function (t) {
              M(o, t);
              var e,
                n,
                r =
                  ((e = o),
                  (n = (function () {
                    if ('undefined' == typeof Reflect || !Reflect.construct) return !1;
                    if (Reflect.construct.sham) return !1;
                    if ('function' == typeof Proxy) return !0;
                    try {
                      return (
                        Date.prototype.toString.call(Reflect.construct(Date, [], function () {})),
                        !0
                      );
                    } catch (t) {
                      return !1;
                    }
                  })()),
                  function () {
                    var t,
                      r = I(e);
                    if (n) {
                      var i = I(this).constructor;
                      t = Reflect.construct(r, arguments, i);
                    } else t = r.apply(this, arguments);
                    return C(this, t);
                  });
              function o(t) {
                var e;
                return (
                  i(this, o), ((e = r.call(this, t)).parentID = void 0), Object.assign(A(e), t), e
                );
              }
              return o;
            })(p),
            Nn =
              ((xn = (0, b.b2)()),
              (_n = (0, b.f3)(x.HierarchyComponentManager)),
              (wn = (0, b.f3)(x.TransformComponentManager)),
              (En = (0, b.f3)(x.MeshComponentManager)),
              xn(
                ((In = (function () {
                  function t() {
                    i(this, t),
                      r(this, 'hierarchy', kn, this),
                      r(this, 'transform', An, this),
                      r(this, 'mesh', Cn, this);
                  }
                  var e;
                  return (
                    a(t, [
                      {
                        key: 'execute',
                        value:
                          ((e = h(
                            c().mark(function t() {
                              return c().wrap(
                                function (t) {
                                  for (;;)
                                    switch ((t.prev = t.next)) {
                                      case 0:
                                        this.runTransformUpdateSystem(),
                                          this.runHierarchyUpdateSystem();
                                      case 2:
                                      case 'end':
                                        return t.stop();
                                    }
                                },
                                t,
                                this,
                              );
                            }),
                          )),
                          function () {
                            return e.apply(this, arguments);
                          }),
                      },
                      {
                        key: 'tearDown',
                        value: function () {
                          this.hierarchy.clear(), this.transform.clear();
                        },
                      },
                      {
                        key: 'getHierarchyComponentManager',
                        value: function () {
                          return this.hierarchy;
                        },
                      },
                      {
                        key: 'getTransformComponentManager',
                        value: function () {
                          return this.transform;
                        },
                      },
                      {
                        key: 'runTransformUpdateSystem',
                        value: function () {
                          var t = this;
                          this.transform.forEach(function (e, n) {
                            (n.isDirty() || n.isLocalDirty()) &&
                              (t.setMeshAABBDirty(t.mesh.getComponentByEntity(e)),
                              n.updateTransform());
                          });
                        },
                      },
                      {
                        key: 'runHierarchyUpdateSystem',
                        value: function () {
                          var t = this;
                          this.hierarchy.forEach(function (e, n) {
                            var r = t.transform.getComponentByEntity(e),
                              i = t.transform.getComponentByEntity(n.parentID);
                            null !== r && null !== i && r.updateTransformWithParent(i);
                          });
                        },
                      },
                      {
                        key: 'attach',
                        value: function (t, e, n) {
                          this.hierarchy.contains(t) && this.detach(t),
                            this.hierarchy.create(t, { parentID: e });
                          var r = this.mesh.getComponentByEntity(e);
                          if (
                            (this.setMeshAABBDirty(r),
                            r && -1 === r.children.indexOf(t) && r.children.push(t),
                            this.hierarchy.getCount() > 1)
                          )
                            for (var i = this.hierarchy.getCount() - 1; i > 0; --i)
                              for (var o = this.hierarchy.getEntity(i), a = 0; a < i; ++a)
                                if (this.hierarchy.getComponent(a).parentID === o) {
                                  this.hierarchy.moveItem(i, a), ++i;
                                  break;
                                }
                          this.hierarchy.getComponentByEntity(t);
                          var s = this.transform.getComponentByEntity(e);
                          null === s && (s = this.transform.create(e));
                          var u = this.transform.getComponentByEntity(t);
                          null === u &&
                            ((u = this.transform.create(t)),
                            (s = this.transform.getComponentByEntity(e))),
                            (u.parent = s),
                            !n &&
                              s &&
                              (u.matrixTransform(Jt(Zt(), s.worldTransform)), u.updateTransform()),
                            s && u.updateTransformWithParent(s);
                        },
                      },
                      {
                        key: 'detach',
                        value: function (t) {
                          var e = this.hierarchy.getComponentByEntity(t);
                          if (null !== e) {
                            var n = this.transform.getComponentByEntity(t);
                            null !== n && ((n.parent = null), n.applyTransform()),
                              this.hierarchy.removeKeepSorted(t);
                            var r = this.mesh.getComponentByEntity(e.parentID);
                            if (r) {
                              var i = r.children.indexOf(t);
                              r.children.splice(i, 1);
                            }
                            this.setMeshAABBDirty(r);
                          }
                        },
                      },
                      {
                        key: 'detachChildren',
                        value: function (t) {
                          var e = this.mesh.getComponentByEntity(t);
                          e && (e.children = []);
                          for (var n = 0; n < this.hierarchy.getCount(); ) {
                            var r;
                            if (
                              (null === (r = this.hierarchy.getComponent(n)) || void 0 === r
                                ? void 0
                                : r.parentID) === t
                            ) {
                              var i = this.hierarchy.getEntity(n);
                              this.detach(i);
                            } else ++n;
                          }
                        },
                      },
                      {
                        key: 'setMeshAABBDirty',
                        value: function (t) {
                          t && (t.aabbDirty = !0);
                        },
                      },
                    ]),
                    t
                  );
                })()),
                (kn = s((Mn = In).prototype, 'hierarchy', [_n], {
                  configurable: !0,
                  enumerable: !0,
                  writable: !0,
                  initializer: null,
                })),
                (An = s(Mn.prototype, 'transform', [wn], {
                  configurable: !0,
                  enumerable: !0,
                  writable: !0,
                  initializer: null,
                })),
                (Cn = s(Mn.prototype, 'mesh', [En], {
                  configurable: !0,
                  enumerable: !0,
                  writable: !0,
                  initializer: null,
                })),
                (Sn = Mn)),
              ) || Sn);
          function Pn() {
            var t = new U.WT(4);
            return U.WT != Float32Array && ((t[0] = 0), (t[1] = 0), (t[2] = 0)), (t[3] = 1), t;
          }
          function On(t, e, n) {
            n *= 0.5;
            var r = Math.sin(n);
            return (t[0] = r * e[0]), (t[1] = r * e[1]), (t[2] = r * e[2]), (t[3] = Math.cos(n)), t;
          }
          function Dn(t, e, n) {
            var r = e[0],
              i = e[1],
              o = e[2],
              a = e[3],
              s = n[0],
              u = n[1],
              c = n[2],
              l = n[3];
            return (
              (t[0] = r * l + a * s + i * c - o * u),
              (t[1] = i * l + a * u + o * s - r * c),
              (t[2] = o * l + a * c + r * u - i * s),
              (t[3] = a * l - r * s - i * u - o * c),
              t
            );
          }
          function Ln(t, e) {
            var n = e[0],
              r = e[1],
              i = e[2],
              o = e[3],
              a = n * n + r * r + i * i + o * o,
              s = a ? 1 / a : 0;
            return (t[0] = -n * s), (t[1] = -r * s), (t[2] = -i * s), (t[3] = o * s), t;
          }
          function Rn(t, e, n, r) {
            var i = (0.5 * Math.PI) / 180;
            (e *= i), (n *= i), (r *= i);
            var o = Math.sin(e),
              a = Math.cos(e),
              s = Math.sin(n),
              u = Math.cos(n),
              c = Math.sin(r),
              l = Math.cos(r);
            return (
              (t[0] = o * u * l - a * s * c),
              (t[1] = a * s * l + o * u * c),
              (t[2] = a * u * c - o * s * l),
              (t[3] = a * u * l + o * s * c),
              t
            );
          }
          var Bn = W,
            jn = function (t, e) {
              return (t[0] = e[0]), (t[1] = e[1]), (t[2] = e[2]), (t[3] = e[3]), t;
            },
            Gn = Dn,
            zn = function (t, e) {
              var n = e[0],
                r = e[1],
                i = e[2],
                o = e[3],
                a = n * n + r * r + i * i + o * o;
              return (
                a > 0 && (a = 1 / Math.sqrt(a)),
                (t[0] = n * a),
                (t[1] = r * a),
                (t[2] = i * a),
                (t[3] = o * a),
                t
              );
            };
          H.create(), H.fromValues(1, 0, 0), H.fromValues(0, 1, 0), Pn(), Pn(), X.create();
          var Fn = (function (t) {
            M(o, t);
            var e,
              n,
              r =
                ((e = o),
                (n = (function () {
                  if ('undefined' == typeof Reflect || !Reflect.construct) return !1;
                  if (Reflect.construct.sham) return !1;
                  if ('function' == typeof Proxy) return !0;
                  try {
                    return (
                      Date.prototype.toString.call(Reflect.construct(Date, [], function () {})), !0
                    );
                  } catch (t) {
                    return !1;
                  }
                })()),
                function () {
                  var t,
                    r = I(e);
                  if (n) {
                    var i = I(this).constructor;
                    t = Reflect.construct(r, arguments, i);
                  } else t = r.apply(this, arguments);
                  return C(this, t);
                });
            function o(t) {
              var e, n, a, s, u, c, l, h, f, d, p, g, v, y, m;
              return (
                i(this, o),
                ((e = r.call(this, t)).dirtyFlag = void 0),
                (e.localDirtyFlag = void 0),
                (e.parent = null),
                (e.localPosition = H.fromValues(0, 0, 0)),
                (e.localRotation = Bn(0, 0, 0, 1)),
                (e.localScale = H.fromValues(1, 1, 1)),
                (e.localTransform = Zt()),
                (e.position = H.fromValues(0, 0, 0)),
                (e.rotation = Bn(0, 0, 0, 1)),
                (e.scaling = H.fromValues(1, 1, 1)),
                (e.worldTransform = Zt()),
                (e.matrixTransform =
                  ((n = Zt()),
                  function (t) {
                    te(n, e.getLocalTransform(), t),
                      re(e.localScale, n),
                      ne(e.localPosition, n),
                      ie(e.localRotation, n);
                  })),
                (e.rotateRollPitchYaw =
                  ((a = Pn()),
                  (s = Pn()),
                  (u = Pn()),
                  function (t, n, r) {
                    e.setDirty(),
                      Rn(a, t, 0, 0),
                      Rn(s, 0, n, 0),
                      Rn(u, 0, 0, r),
                      Dn(e.localRotation, a, e.localRotation),
                      Dn(e.localRotation, e.localRotation, s),
                      Dn(e.localRotation, u, e.localRotation),
                      zn(e.localRotation, e.localRotation);
                  })),
                (e.lerp =
                  ((c = H.create()),
                  (l = Pn()),
                  (h = H.create()),
                  (f = H.create()),
                  (d = Pn()),
                  (p = H.create()),
                  function (t, n, r) {
                    e.setDirty(),
                      re(c, t.worldTransform),
                      ne(h, t.worldTransform),
                      ie(l, t.worldTransform),
                      re(f, n.worldTransform),
                      ne(p, n.worldTransform),
                      ie(d, n.worldTransform),
                      H.lerp(e.localScale, c, f, r),
                      (function (t, e, n, r) {
                        var i,
                          o,
                          a,
                          s,
                          u,
                          c = e[0],
                          l = e[1],
                          h = e[2],
                          f = e[3],
                          d = n[0],
                          p = n[1],
                          g = n[2],
                          v = n[3];
                        (o = c * d + l * p + h * g + f * v) < 0 &&
                          ((o = -o), (d = -d), (p = -p), (g = -g), (v = -v)),
                          1 - o > U.Ib
                            ? ((i = Math.acos(o)),
                              (a = Math.sin(i)),
                              (s = Math.sin((1 - r) * i) / a),
                              (u = Math.sin(r * i) / a))
                            : ((s = 1 - r), (u = r)),
                          (t[0] = s * c + u * d),
                          (t[1] = s * l + u * p),
                          (t[2] = s * h + u * g),
                          (t[3] = s * f + u * v);
                      })(e.localRotation, l, d, r),
                      H.lerp(e.localPosition, h, p, r);
                  })),
                (e.translate =
                  ((g = H.create()),
                  function (t) {
                    return H.add(g, e.getPosition(), t), e.setPosition(g), e.setDirty(!0), A(e);
                  })),
                (e.translateLocal = function (t) {
                  return (
                    H.transformQuat(t, t, e.localRotation),
                    H.add(e.localPosition, e.localPosition, t),
                    e.setLocalDirty(!0),
                    A(e)
                  );
                }),
                (e.setPosition =
                  ((v = Zt()),
                  function (t) {
                    return (
                      (e.position = t),
                      e.setLocalDirty(!0),
                      null === e.parent
                        ? H.copy(e.localPosition, t)
                        : ($t(v, e.parent.worldTransform),
                          Jt(v, v),
                          H.transformMat4(e.localPosition, t, v)),
                      A(e)
                    );
                  })),
                (e.rotate =
                  ((y = Pn()),
                  function (t) {
                    if (null === e.parent)
                      Dn(e.localRotation, e.localRotation, t), zn(e.localRotation, e.localRotation);
                    else {
                      var n = e.getRotation(),
                        r = e.parent.getRotation();
                      jn(y, r),
                        Ln(y, y),
                        Dn(y, y, t),
                        Dn(e.localRotation, t, n),
                        zn(e.localRotation, e.localRotation);
                    }
                    return e.setLocalDirty(), A(e);
                  })),
                (e.rotateLocal = function (t) {
                  return (
                    Dn(e.localRotation, e.localRotation, t),
                    zn(e.localRotation, e.localRotation),
                    e.setLocalDirty(!0),
                    A(e)
                  );
                }),
                (e.setRotation =
                  ((m = Pn()),
                  function (t) {
                    return (
                      null === e.parent
                        ? jn(e.localRotation, t)
                        : (jn(m, e.parent.getRotation()),
                          Ln(m, m),
                          jn(e.localRotation, m),
                          Gn(e.localRotation, e.localRotation, t)),
                      e.setLocalDirty(!0),
                      A(e)
                    );
                  })),
                e
              );
            }
            return (
              a(o, [
                {
                  key: 'setLocalPosition',
                  value: function (t) {
                    H.copy(this.localPosition, t), this.setLocalDirty(!0);
                  },
                },
                {
                  key: 'setLocalScale',
                  value: function (t) {
                    H.copy(this.localScale, t), this.setLocalDirty(!0);
                  },
                },
                {
                  key: 'setLocalRotation',
                  value: function (t) {
                    return jn(this.localRotation, t), this.setLocalDirty(!0), this;
                  },
                },
                {
                  key: 'isDirty',
                  value: function () {
                    return this.dirtyFlag;
                  },
                },
                {
                  key: 'setDirty',
                  value: function () {
                    var t = !(arguments.length > 0 && void 0 !== arguments[0]) || arguments[0];
                    t ? (this.dirtyFlag |= o.DIRTY) : (this.dirtyFlag &= ~o.DIRTY);
                  },
                },
                {
                  key: 'isLocalDirty',
                  value: function () {
                    return this.localDirtyFlag;
                  },
                },
                {
                  key: 'setLocalDirty',
                  value: function () {
                    var t = !(arguments.length > 0 && void 0 !== arguments[0]) || arguments[0];
                    t
                      ? ((this.localDirtyFlag |= o.DIRTY), this.setDirty(!0))
                      : (this.localDirtyFlag &= ~o.DIRTY);
                  },
                },
                {
                  key: 'updateTransform',
                  value: function () {
                    this.isLocalDirty() && this.getLocalTransform(),
                      this.isDirty() &&
                        null === this.parent &&
                        ($t(this.worldTransform, this.getLocalTransform()), this.setDirty(!1));
                  },
                },
                {
                  key: 'updateTransformWithParent',
                  value: function (t) {
                    te(this.worldTransform, t.worldTransform, this.getLocalTransform());
                  },
                },
                {
                  key: 'applyTransform',
                  value: function () {
                    this.setDirty(),
                      re(this.localScale, this.worldTransform),
                      ne(this.localPosition, this.worldTransform),
                      ie(this.localRotation, this.worldTransform);
                  },
                },
                {
                  key: 'clearTransform',
                  value: function () {
                    this.setDirty(),
                      (this.localPosition = H.fromValues(0, 0, 0)),
                      (this.localRotation = Bn(0, 0, 0, 1)),
                      (this.localScale = H.fromValues(1, 1, 1));
                  },
                },
                {
                  key: 'scaleLocal',
                  value: function (t) {
                    return (
                      this.setLocalDirty(), H.multiply(this.localScale, this.localScale, t), this
                    );
                  },
                },
                {
                  key: 'getLocalPosition',
                  value: function () {
                    return this.localPosition;
                  },
                },
                {
                  key: 'getLocalRotation',
                  value: function () {
                    return this.localRotation;
                  },
                },
                {
                  key: 'getLocalScale',
                  value: function () {
                    return this.localScale;
                  },
                },
                {
                  key: 'getLocalTransform',
                  value: function () {
                    var t, e, n, r, i, o, a, s, u, c, l, h, f, d, p, g, v, y, m, b, x, _, w;
                    return (
                      this.localDirtyFlag &&
                        ((t = this.localTransform),
                        (e = this.localRotation),
                        (n = this.localPosition),
                        (r = this.localScale),
                        (h = (i = e[0]) * (u = i + i)),
                        (f = i * (c = (o = e[1]) + o)),
                        (d = i * (l = (a = e[2]) + a)),
                        (p = o * c),
                        (g = o * l),
                        (v = a * l),
                        (y = (s = e[3]) * u),
                        (m = s * c),
                        (b = s * l),
                        (x = r[0]),
                        (_ = r[1]),
                        (w = r[2]),
                        (t[0] = (1 - (p + v)) * x),
                        (t[1] = (f + b) * x),
                        (t[2] = (d - m) * x),
                        (t[3] = 0),
                        (t[4] = (f - b) * _),
                        (t[5] = (1 - (h + v)) * _),
                        (t[6] = (g + y) * _),
                        (t[7] = 0),
                        (t[8] = (d + m) * w),
                        (t[9] = (g - y) * w),
                        (t[10] = (1 - (h + p)) * w),
                        (t[11] = 0),
                        (t[12] = n[0]),
                        (t[13] = n[1]),
                        (t[14] = n[2]),
                        (t[15] = 1),
                        this.setLocalDirty(!1)),
                      this.localTransform
                    );
                  },
                },
                {
                  key: 'getWorldTransform',
                  value: function () {
                    return this.isLocalDirty() || this.isDirty()
                      ? (this.parent && this.parent.getWorldTransform(),
                        this.updateTransform(),
                        this.worldTransform)
                      : this.worldTransform;
                  },
                },
                {
                  key: 'getPosition',
                  value: function () {
                    return ne(this.position, this.worldTransform), this.position;
                  },
                },
                {
                  key: 'getRotation',
                  value: function () {
                    return ie(this.rotation, this.worldTransform), this.rotation;
                  },
                },
                {
                  key: 'getScale',
                  value: function () {
                    return re(this.scaling, this.worldTransform), this.scaling;
                  },
                },
              ]),
              o
            );
          })(p);
          Fn.DIRTY = 1;
          var Un,
            Vn,
            Wn,
            Yn,
            Xn,
            Hn,
            qn = n(4879),
            Kn =
              ((Un = (0, b.b2)()),
              (Vn = (0, b.f3)(x.RenderEngine)),
              Un(
                ((Hn = (function () {
                  function t() {
                    i(this, t), r(this, 'engine', Xn, this), (this.resourcePool = {});
                  }
                  return (
                    a(t, [
                      {
                        key: 'getOrCreateResource',
                        value: function (t) {
                          if (!this.resourcePool[t.name]) {
                            var e = t.descriptor,
                              n = e.width,
                              r = e.height,
                              i = e.usage;
                            this.resourcePool[t.name] = this.engine.createFramebuffer({
                              color: this.engine.createTexture2D({
                                width: n,
                                height: r,
                                wrapS: J.CLAMP_TO_EDGE,
                                wrapT: J.CLAMP_TO_EDGE,
                                usage: i,
                              }),
                            });
                          }
                          return this.resourcePool[t.name];
                        },
                      },
                      {
                        key: 'clean',
                        value: function () {
                          this.resourcePool = {};
                        },
                      },
                    ]),
                    t
                  );
                })()),
                (Xn = s((Yn = Hn).prototype, 'engine', [Vn], {
                  configurable: !0,
                  enumerable: !0,
                  writable: !0,
                  initializer: null,
                })),
                (Wn = Yn)),
              ) || Wn);
          var Zn,
            $n,
            Qn,
            Jn,
            tr = (function (t) {
              M(o, t);
              var e,
                n,
                r =
                  ((e = o),
                  (n = (function () {
                    if ('undefined' == typeof Reflect || !Reflect.construct) return !1;
                    if (Reflect.construct.sham) return !1;
                    if ('function' == typeof Proxy) return !0;
                    try {
                      return (
                        Date.prototype.toString.call(Reflect.construct(Date, [], function () {})),
                        !0
                      );
                    } catch (t) {
                      return !1;
                    }
                  })()),
                  function () {
                    var t,
                      r = I(e);
                    if (n) {
                      var i = I(this).constructor;
                      t = Reflect.construct(r, arguments, i);
                    } else t = r.apply(this, arguments);
                    return C(this, t);
                  });
              function o(t) {
                var e;
                return (
                  i(this, o), ((e = r.call(this, t)).name = void 0), (e.name = t.name || ''), e
                );
              }
              return o;
            })(p),
            er =
              (0, b.b2)()(
                (($n = (function () {
                  function t() {
                    i(this, t), (this.config = void 0);
                  }
                  return (
                    a(t, [
                      {
                        key: 'get',
                        value: function () {
                          return this.config;
                        },
                      },
                      {
                        key: 'set',
                        value: function (t) {
                          this.config = t;
                        },
                      },
                    ]),
                    t
                  );
                })()),
                (Zn = $n)),
              ) || Zn;
          !(function (t) {
            (t.PANSTART = 'PANSTART'),
              (t.PANEND = 'PANEND'),
              (t.PANMOVE = 'PANMOVE'),
              (t.PINCH = 'PINCH'),
              (t.KEYDOWN = 'KEYDOWN'),
              (t.KEYUP = 'KEYUP'),
              (t.HOVER = 'HOVER');
          })(Jn || (Jn = {}));
          var nr,
            rr,
            ir =
              (0, b.b2)()(
                (Qn = (function () {
                  function t() {
                    i(this, t);
                  }
                  return (
                    a(t, [
                      { key: 'listen', value: function (t) {} },
                      { key: 'on', value: function (t, e) {} },
                      { key: 'connect', value: function () {} },
                      { key: 'disconnect', value: function () {} },
                      { key: 'destroy', value: function () {} },
                    ]),
                    t
                  );
                })()),
              ) || Qn,
            or =
              /uniform\s+(bool|float|int|vec2|vec3|vec4|ivec2|ivec3|ivec4|mat2|mat3|mat4|sampler2D|samplerCube)\s+([\s\S]*?);/g;
          function ar(t) {
            var e = {};
            return {
              content: (t = t.replace(or, function (t, n, r) {
                var i = r.split(':'),
                  o = i[0].trim(),
                  a = '';
                switch ((i.length > 1 && (a = i[1].trim()), n)) {
                  case 'bool':
                    a = 'true' === a;
                    break;
                  case 'float':
                  case 'int':
                    a = Number(a);
                    break;
                  case 'vec2':
                  case 'vec3':
                  case 'vec4':
                  case 'ivec2':
                  case 'ivec3':
                  case 'ivec4':
                  case 'mat2':
                  case 'mat3':
                  case 'mat4':
                    a = a
                      ? a
                          .replace('[', '')
                          .replace(']', '')
                          .split(',')
                          .reduce(function (t, e) {
                            return t.push(Number(e.trim())), t;
                          }, [])
                      : new Array(
                          (function (t) {
                            var e = 0;
                            switch (t) {
                              case 'vec2':
                              case 'ivec2':
                                e = 2;
                                break;
                              case 'vec3':
                              case 'ivec3':
                                e = 3;
                                break;
                              case 'vec4':
                              case 'ivec4':
                              case 'mat2':
                                e = 4;
                                break;
                              case 'mat3':
                                e = 9;
                                break;
                              case 'mat4':
                                e = 16;
                            }
                            return e;
                          })(n),
                        ).fill(0);
                }
                return (e[o] = a), 'uniform '.concat(n, ' ').concat(o, ';\n');
              })),
              uniforms: e,
            };
          }
          function sr(t, e) {
            var n = Object.keys(t);
            if (Object.getOwnPropertySymbols) {
              var r = Object.getOwnPropertySymbols(t);
              e &&
                (r = r.filter(function (e) {
                  return Object.getOwnPropertyDescriptor(t, e).enumerable;
                })),
                n.push.apply(n, r);
            }
            return n;
          }
          function ur(t) {
            for (var e = 1; e < arguments.length; e++) {
              var n = null != arguments[e] ? arguments[e] : {};
              e % 2
                ? sr(Object(n), !0).forEach(function (e) {
                    F(t, e, n[e]);
                  })
                : Object.getOwnPropertyDescriptors
                ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n))
                : sr(Object(n)).forEach(function (e) {
                    Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e));
                  });
            }
            return t;
          }
          var cr = /precision\s+(high|low|medium)p\s+float/,
            lr = /#pragma include (["^+"]?["\ "[a-zA-Z_0-9](.*)"]*?)/g,
            hr =
              (0, b.b2)()(
                ((rr = (function () {
                  function t() {
                    i(this, t), (this.moduleCache = {}), (this.rawContentCache = {});
                  }
                  return (
                    a(t, [
                      {
                        key: 'registerBuiltinModules',
                        value: function () {
                          this.destroy(),
                            this.registerModule('picking', {
                              vs: 'attribute vec3 a_PickingColor;\nvarying vec4 v_PickingResult;\n\nuniform vec3 u_PickingColor : [0, 0, 0];\nuniform vec4 u_HighlightColor : [0, 0, 0, 0];\nuniform float u_PickingStage : 0.0;\nuniform float u_PickingThreshold : 1.0;\nuniform float u_PickingBuffer: 0.0;\n\n#define PICKING_ENCODE 1.0\n#define PICKING_HIGHLIGHT 2.0\n#define COLOR_SCALE 1. / 255.\n\nbool isVertexPicked(vec3 vertexColor) {\n  return\n    abs(vertexColor.r - u_PickingColor.r) < u_PickingThreshold &&\n    abs(vertexColor.g - u_PickingColor.g) < u_PickingThreshold &&\n    abs(vertexColor.b - u_PickingColor.b) < u_PickingThreshold;\n}\n\nvoid setPickingColor(vec3 pickingColor) {\n  // compares only in highlight stage\n  v_PickingResult.a = float((u_PickingStage == PICKING_HIGHLIGHT) && isVertexPicked(pickingColor));\n\n  // Stores the picking color so that the fragment shader can render it during picking\n  v_PickingResult.rgb = pickingColor * COLOR_SCALE;\n}\n\nfloat setPickingSize(float x) {\n   return u_PickingStage == PICKING_ENCODE ? x + u_PickingBuffer : x;\n}',
                              fs: 'varying vec4 v_PickingResult;\nuniform vec4 u_HighlightColor : [0, 0, 0, 0];\nuniform float u_PickingStage : 0.0;\n\n#define PICKING_ENCODE 1.0\n#define PICKING_HIGHLIGHT 2.0\n#define COLOR_SCALE 1. / 255.\n\n/*\n * Returns highlight color if this item is selected.\n */\nvec4 filterHighlightColor(vec4 color) {\n  bool selected = bool(v_PickingResult.a);\n\n  if (selected) {\n    vec4 highLightColor = u_HighlightColor * COLOR_SCALE;\n\n    float highLightAlpha = highLightColor.a;\n    float highLightRatio = highLightAlpha / (highLightAlpha + color.a * (1.0 - highLightAlpha));\n\n    vec3 resultRGB = mix(color.rgb, highLightColor.rgb, highLightRatio);\n    return vec4(resultRGB, color.a);\n  } else {\n    return color;\n  }\n}\n\n/*\n * Returns picking color if picking enabled else unmodified argument.\n */\nvec4 filterPickingColor(vec4 color) {\n  vec3 pickingColor = v_PickingResult.rgb;\n  if (u_PickingStage == PICKING_ENCODE && length(pickingColor) < 0.001) {\n    discard;\n  }\n  return u_PickingStage == PICKING_ENCODE ? vec4(pickingColor, step(0.001,color.a)): color;\n}\n\n/*\n * Returns picking color if picking is enabled if not\n * highlight color if this item is selected, otherwise unmodified argument.\n */\nvec4 filterColor(vec4 color) {\n  return filterPickingColor(filterHighlightColor(color));\n}\n',
                            }),
                            this.registerModule('sdf2d', {
                              vs: '',
                              fs: '/**\n * 2D signed distance field functions\n * @see http://www.iquilezles.org/www/articles/distfunctions2d/distfunctions2d.htm\n */\n\nfloat ndot(vec2 a, vec2 b ) { return a.x*b.x - a.y*b.y; }\n\nfloat sdCircle(vec2 p, float r) {\n  return length(p) - r;\n}\n\nfloat sdEquilateralTriangle(vec2 p) {\n  float k = sqrt(3.0);\n  p.x = abs(p.x) - 1.0;\n  p.y = p.y + 1.0/k;\n  if( p.x + k*p.y > 0.0 ) p = vec2(p.x-k*p.y,-k*p.x-p.y)/2.0;\n  p.x -= clamp( p.x, -2.0, 0.0 );\n  return -length(p)*sign(p.y);\n}\n\nfloat sdBox(vec2 p, vec2 b) {\n  vec2 d = abs(p)-b;\n  return length(max(d,vec2(0))) + min(max(d.x,d.y),0.0);\n}\n\nfloat sdPentagon(vec2 p, float r) {\n  vec3 k = vec3(0.809016994,0.587785252,0.726542528);\n  p.x = abs(p.x);\n  p -= 2.0*min(dot(vec2(-k.x,k.y),p),0.0)*vec2(-k.x,k.y);\n  p -= 2.0*min(dot(vec2( k.x,k.y),p),0.0)*vec2( k.x,k.y);\n  p -= vec2(clamp(p.x,-r*k.z,r*k.z),r);\n  return length(p)*sign(p.y);\n}\n\nfloat sdHexagon(vec2 p, float r) {\n  vec3 k = vec3(-0.866025404,0.5,0.577350269);\n  p = abs(p);\n  p -= 2.0*min(dot(k.xy,p),0.0)*k.xy;\n  p -= vec2(clamp(p.x, -k.z*r, k.z*r), r);\n  return length(p)*sign(p.y);\n}\n\nfloat sdOctogon(vec2 p, float r) {\n  vec3 k = vec3(-0.9238795325, 0.3826834323, 0.4142135623 );\n  p = abs(p);\n  p -= 2.0*min(dot(vec2( k.x,k.y),p),0.0)*vec2( k.x,k.y);\n  p -= 2.0*min(dot(vec2(-k.x,k.y),p),0.0)*vec2(-k.x,k.y);\n  p -= vec2(clamp(p.x, -k.z*r, k.z*r), r);\n  return length(p)*sign(p.y);\n}\n\nfloat sdHexagram(vec2 p, float r) {\n  vec4 k=vec4(-0.5,0.8660254038,0.5773502692,1.7320508076);\n  p = abs(p);\n  p -= 2.0*min(dot(k.xy,p),0.0)*k.xy;\n  p -= 2.0*min(dot(k.yx,p),0.0)*k.yx;\n  p -= vec2(clamp(p.x,r*k.z,r*k.w),r);\n  return length(p)*sign(p.y);\n}\n\nfloat sdRhombus(vec2 p, vec2 b) {\n  vec2 q = abs(p);\n  float h = clamp((-2.0*ndot(q,b)+ndot(b,b))/dot(b,b),-1.0,1.0);\n  float d = length( q - 0.5*b*vec2(1.0-h,1.0+h) );\n  return d * sign( q.x*b.y + q.y*b.x - b.x*b.y );\n}\n\nfloat sdVesica(vec2 p, float r, float d) {\n  p = abs(p);\n  float b = sqrt(r*r-d*d); // can delay this sqrt\n  return ((p.y-b)*d>p.x*b)\n          ? length(p-vec2(0.0,b))\n          : length(p-vec2(-d,0.0))-r;\n}',
                            });
                        },
                      },
                      {
                        key: 'registerModule',
                        value: function (t, e) {
                          if (!this.rawContentCache[t]) {
                            var n = e.vs,
                              r = void 0 === n ? '' : n,
                              i = e.fs,
                              o = void 0 === i ? '' : i,
                              a = e.uniforms,
                              s = ar(r),
                              u = s.content,
                              c = s.uniforms,
                              l = ar(o),
                              h = l.content,
                              f = l.uniforms;
                            this.rawContentCache[t] = {
                              fs: h,
                              uniforms: ur(ur(ur({}, c), f), a),
                              vs: u,
                            };
                          }
                        },
                      },
                      {
                        key: 'destroy',
                        value: function () {
                          (this.moduleCache = {}), (this.rawContentCache = {});
                        },
                      },
                      {
                        key: 'getModule',
                        value: function (t) {
                          var e = this;
                          if (this.moduleCache[t]) return this.moduleCache[t];
                          var n,
                            r = this.rawContentCache[t].vs || '',
                            i = this.rawContentCache[t].fs || '',
                            o = this.processModule(r, [], 'vs'),
                            a = o.content,
                            s = o.includeList,
                            u = this.processModule(i, [], 'fs'),
                            c = u.content,
                            l = u.includeList,
                            h = c,
                            f = ((n = s.concat(l).concat(t)),
                            n.filter(function (t, e, n) {
                              return n.indexOf(t) === e;
                            })).reduce(function (t, n) {
                              return ur(ur({}, t), e.rawContentCache[n].uniforms);
                            }, {});
                          return (
                            cr.test(c) ||
                              (h =
                                '#ifdef GL_FRAGMENT_PRECISION_HIGH\n precision highp float;\n #else\n precision mediump float;\n#endif\n' +
                                c),
                            (this.moduleCache[t] = { fs: h.trim(), uniforms: f, vs: a.trim() }),
                            this.moduleCache[t]
                          );
                        },
                      },
                      {
                        key: 'processModule',
                        value: function (t, e, n) {
                          var r = this;
                          return {
                            content: t.replace(lr, function (t, i) {
                              var o = i.split(' ')[0].replace(/"/g, '');
                              if (e.indexOf(o) > -1) return '';
                              var a = r.rawContentCache[o][n];
                              return e.push(o), r.processModule(a || '', e, n).content;
                            }),
                            includeList: e,
                          };
                        },
                      },
                    ]),
                    t
                  );
                })()),
                (nr = rr)),
              ) || nr,
            fr = new b.W2();
          function dr() {
            var t = new b.W2();
            return (
              (t.parent = fr),
              t.bind(x.Systems).to(Nn).inSingletonScope().whenTargetNamed(x.SceneGraphSystem),
              t.bind(x.Systems).to(z).inSingletonScope().whenTargetNamed(x.FrameGraphSystem),
              t.bind(x.Systems).to(Kt).inSingletonScope().whenTargetNamed(x.MeshSystem),
              t.bind(x.Systems).to(ct).inSingletonScope().whenTargetNamed(x.GeometrySystem),
              t.bind(x.Systems).to(kt).inSingletonScope().whenTargetNamed(x.MaterialSystem),
              t.bind(x.Systems).to(bn).inSingletonScope().whenTargetNamed(x.RendererSystem),
              t.bind(x.ResourcePool).to(Kn).inSingletonScope(),
              t.bind(x.ConfigService).to(er).inSingletonScope(),
              t.bind(x.InteractorService).to(ir).inSingletonScope(),
              t.bind(x.RenderPass).to(Ye).inSingletonScope().whenTargetNamed(Ye.IDENTIFIER),
              t.bind(x.RenderPass).to(mn).inSingletonScope().whenTargetNamed(mn.IDENTIFIER),
              t.bind(x.RenderPass).to(yn).inSingletonScope().whenTargetNamed(yn.IDENTIFIER),
              t.bind(x.RenderPassFactory).toFactory(function (t) {
                return function (e) {
                  return t.container.getNamed(x.RenderPass, e);
                };
              }),
              t
            );
          }
          function pr(t) {
            for (
              var e = new Ct(),
                n = H.fromValues(t[0], t[1], t[2]),
                r = H.fromValues(t[0], t[1], t[2]),
                i = 3;
              i < t.length;

            ) {
              var o = t[i++],
                a = t[i++],
                s = t[i++];
              o < n[0] && (n[0] = o),
                a < n[1] && (n[1] = a),
                s < n[2] && (n[2] = s),
                o > r[0] && (r[0] = o),
                a > r[1] && (r[1] = a),
                s > r[2] && (r[2] = s);
            }
            return e.setMinMax(n, r), e;
          }
          (0, qn.Z)(fr, !1),
            fr.bind(x.ShaderModuleService).to(hr).inSingletonScope(),
            fr.bind(x.NameComponentManager).toConstantValue(new g(tr)),
            fr.bind(x.HierarchyComponentManager).toConstantValue(new g(Tn)),
            fr.bind(x.TransformComponentManager).toConstantValue(new g(Fn)),
            fr.bind(x.MeshComponentManager).toConstantValue(new g(Tt)),
            fr.bind(x.CullableComponentManager).toConstantValue(new g(At)),
            fr.bind(x.GeometryComponentManager).toConstantValue(new g(ut)),
            fr.bind(x.MaterialComponentManager).toConstantValue(new g(wt));
          var gr,
            vr,
            yr,
            mr,
            br,
            xr =
              'undefined' != typeof navigator &&
              /Version\/[\d\.]+.*Safari/.test(navigator.userAgent);
          function _r(t) {
            return 'number' == typeof t;
          }
          function wr(t) {
            return void 0 === t ? 0 : t > 360 || t < -360 ? t % 360 : t;
          }
          function Er(t, e, n) {
            return _r(t)
              ? H.fromValues(t, e, n)
              : 3 === t.length
              ? H.clone(t)
              : H.fromValues(t[0], t[1], t[2]);
          }
          H.create(),
            H.create(),
            H.create(),
            H.create(),
            H.create(),
            H.create(),
            n(9518),
            n(6199),
            n(4156),
            n(1468),
            n(8871),
            n(9871),
            (function (t) {
              (t.Normal = 'normal'), (t.PostProcessing = 'post-processing');
            })(gr || (gr = {})),
            n(5612),
            n(2777),
            n(159),
            n(1622),
            n(499),
            n(4851),
            (function (t) {
              (t.Void = 'Void'),
                (t.Boolean = 'Boolean'),
                (t.Float = 'Float'),
                (t.Uint32 = 'Uint32'),
                (t.Int32 = 'Int32'),
                (t.Vector = 'Vector'),
                (t.Vector2Float = 'vec2<f32>'),
                (t.Vector3Float = 'vec3<f32>'),
                (t.Vector4Float = 'vec4<f32>'),
                (t.Vector2Boolean = 'vec2<bool>'),
                (t.Vector3Boolean = 'vec3<bool>'),
                (t.Vector4Boolean = 'vec4<bool>'),
                (t.Vector2Uint = 'vec2<u32>'),
                (t.Vector3Uint = 'vec3<u32>'),
                (t.Vector4Uint = 'vec4<u32>'),
                (t.Vector2Int = 'vec2<i32>'),
                (t.Vector3Int = 'vec3<i32>'),
                (t.Vector4Int = 'vec4<i32>'),
                (t.Matrix = 'Matrix'),
                (t.Matrix3x3Float = 'mat3x3<f32>'),
                (t.Matrix4x4Float = 'mat4x4<i32>'),
                (t.Struct = 'Struct'),
                (t.FloatArray = 'Float[]'),
                (t.Vector4FloatArray = 'vec4<f32>[]');
            })(vr || (vr = {})),
            (function (t) {
              (t.Program = 'Program'),
                (t.Identifier = 'Identifier'),
                (t.VariableDeclaration = 'VariableDeclaration'),
                (t.BlockStatement = 'BlockStatement'),
                (t.ReturnStatement = 'ReturnStatement'),
                (t.FunctionDeclaration = 'FunctionDeclaration'),
                (t.VariableDeclarator = 'VariableDeclarator'),
                (t.AssignmentExpression = 'AssignmentExpression'),
                (t.LogicalExpression = 'LogicalExpression'),
                (t.BinaryExpression = 'BinaryExpression'),
                (t.ArrayExpression = 'ArrayExpression'),
                (t.UnaryExpression = 'UnaryExpression'),
                (t.UpdateExpression = 'UpdateExpression'),
                (t.FunctionExpression = 'FunctionExpression'),
                (t.MemberExpression = 'MemberExpression'),
                (t.ConditionalExpression = 'ConditionalExpression'),
                (t.ExpressionStatement = 'ExpressionStatement'),
                (t.CallExpression = 'CallExpression'),
                (t.NumThreadStatement = 'NumThreadStatement'),
                (t.StorageStatement = 'StorageStatement'),
                (t.DoWhileStatement = 'DoWhileStatement'),
                (t.WhileStatement = 'WhileStatement'),
                (t.ForStatement = 'ForStatement'),
                (t.BreakStatement = 'BreakStatement'),
                (t.ContinueStatement = 'ContinueStatement'),
                (t.IfStatement = 'IfStatement'),
                (t.ImportedFunctionStatement = 'ImportedFunctionStatement');
            })(yr || (yr = {})),
            (function (t) {
              (t.Input = 'Input'),
                (t.Output = 'Output'),
                (t.Uniform = 'Uniform'),
                (t.Workgroup = 'Workgroup'),
                (t.UniformConstant = 'UniformConstant'),
                (t.Image = 'Image'),
                (t.StorageBuffer = 'StorageBuffer'),
                (t.Private = 'Private'),
                (t.Function = 'Function');
            })(mr || (mr = {})),
            (function (t) {
              (t.GLSL100 = 'GLSL100'), (t.GLSL450 = 'GLSL450'), (t.WGSL = 'WGSL');
            })(br || (br = {}));
          var Sr,
            Mr,
            kr,
            Ar,
            Cr,
            Ir,
            Tr,
            Nr,
            Pr,
            Or,
            Dr = (function () {
              function t(e, n) {
                var r, o;
                i(this, t),
                  (this.name = void 0),
                  (this.matrix = void 0),
                  (this.right = void 0),
                  (this.up = void 0),
                  (this.forward = void 0),
                  (this.position = void 0),
                  (this.focalPoint = void 0),
                  (this.distanceVector = void 0),
                  (this.distance = void 0),
                  (this.dollyingStep = void 0),
                  (this.azimuth = 0),
                  (this.elevation = 0),
                  (this.roll = 0),
                  (this.relAzimuth = 0),
                  (this.relElevation = 0),
                  (this.relRoll = 0),
                  (this.name = e),
                  (this.matrix =
                    ((r = n.matrix),
                    ((o = new U.WT(16))[0] = r[0]),
                    (o[1] = r[1]),
                    (o[2] = r[2]),
                    (o[3] = r[3]),
                    (o[4] = r[4]),
                    (o[5] = r[5]),
                    (o[6] = r[6]),
                    (o[7] = r[7]),
                    (o[8] = r[8]),
                    (o[9] = r[9]),
                    (o[10] = r[10]),
                    (o[11] = r[11]),
                    (o[12] = r[12]),
                    (o[13] = r[13]),
                    (o[14] = r[14]),
                    (o[15] = r[15]),
                    o)),
                  (this.right = H.clone(n.right)),
                  (this.up = H.clone(n.up)),
                  (this.forward = H.clone(n.forward)),
                  (this.position = H.clone(n.position)),
                  (this.focalPoint = H.clone(n.focalPoint)),
                  (this.distanceVector = H.clone(n.distanceVector)),
                  (this.azimuth = n.azimuth),
                  (this.elevation = n.elevation),
                  (this.roll = n.roll),
                  (this.relAzimuth = n.relAzimuth),
                  (this.relElevation = n.relElevation),
                  (this.relRoll = n.relRoll),
                  (this.dollyingStep = n.dollyingStep),
                  (this.distance = n.distance);
              }
              return (
                a(t, [
                  {
                    key: 'getPosition',
                    value: function () {
                      return this.position;
                    },
                  },
                  {
                    key: 'getFocalPoint',
                    value: function () {
                      return this.focalPoint;
                    },
                  },
                  {
                    key: 'getRoll',
                    value: function () {
                      return this.roll;
                    },
                  },
                  {
                    key: 'retrieve',
                    value: function (t) {
                      (t.matrix = $t(t.matrix, this.matrix)),
                        (t.right = H.copy(t.right, this.right)),
                        (t.up = H.copy(t.up, this.up)),
                        (t.forward = H.copy(t.forward, this.forward)),
                        (t.position = H.copy(t.position, this.position)),
                        (t.focalPoint = H.copy(t.focalPoint, this.focalPoint)),
                        (t.distanceVector = H.copy(t.distanceVector, this.distanceVector)),
                        (t.azimuth = this.azimuth),
                        (t.elevation = this.elevation),
                        (t.roll = this.roll),
                        (t.relAzimuth = this.relAzimuth),
                        (t.relElevation = this.relElevation),
                        (t.relRoll = this.relRoll),
                        (t.dollyingStep = this.dollyingStep),
                        (t.distance = this.distance);
                    },
                  },
                ]),
                t
              );
            })();
          !(function (t) {
            (t.ORBITING = 'ORBITING'), (t.EXPLORING = 'EXPLORING'), (t.TRACKING = 'TRACKING');
          })(Nr || (Nr = {})),
            (function (t) {
              (t.DEFAULT = 'DEFAULT'),
                (t.ROTATIONAL = 'ROTATIONAL'),
                (t.TRANSLATIONAL = 'TRANSLATIONAL'),
                (t.CINEMATIC = 'CINEMATIC');
            })(Pr || (Pr = {})),
            (function (t) {
              (t.ORTHOGRAPHIC = 'ORTHOGRAPHIC'), (t.PERSPECTIVE = 'PERSPECTIVE');
            })(Or || (Or = {}));
          var Lr,
            Rr,
            Br,
            jr,
            Gr,
            zr,
            Fr,
            Ur = Math.PI / 180,
            Vr = 180 / Math.PI,
            Wr =
              ((Sr = (0, b.b2)()),
              (Mr = (0, b.f3)(x.InteractorService)),
              Sr(
                ((Tr = Ir =
                  (function () {
                    function t() {
                      i(this, t),
                        (this.matrix = Zt()),
                        (this.right = H.fromValues(1, 0, 0)),
                        (this.up = H.fromValues(0, 1, 0)),
                        (this.forward = H.fromValues(0, 0, 1)),
                        (this.position = H.fromValues(0, 0, 1)),
                        (this.focalPoint = H.fromValues(0, 0, 0)),
                        (this.distanceVector = H.fromValues(0, 0, 0)),
                        (this.distance = 1),
                        (this.azimuth = 0),
                        (this.elevation = 0),
                        (this.roll = 0),
                        (this.relAzimuth = 0),
                        (this.relElevation = 0),
                        (this.relRoll = 0),
                        (this.dollyingStep = 0),
                        (this.maxDistance = 1 / 0),
                        (this.minDistance = -1 / 0),
                        (this.rotateWorld = !1),
                        r(this, 'interactor', Cr, this),
                        (this.fov = 30),
                        (this.near = 0.1),
                        (this.far = 1e4),
                        (this.aspect = 1),
                        (this.left = void 0),
                        (this.rright = void 0),
                        (this.top = void 0),
                        (this.bottom = void 0),
                        (this.zoom = 1),
                        (this.perspective = Zt()),
                        (this.view = void 0),
                        (this.following = void 0),
                        (this.type = Nr.EXPLORING),
                        (this.trackingMode = Pr.DEFAULT),
                        (this.projectionMode = Or.PERSPECTIVE),
                        (this.frustum = new Xt()),
                        (this.landmarks = []),
                        (this.landmarkAnimationID = void 0);
                    }
                    return (
                      a(t, [
                        {
                          key: 'clone',
                          value: function () {
                            var e = new t();
                            return (
                              e.setType(this.type, void 0), (e.interactor = this.interactor), e
                            );
                          },
                        },
                        {
                          key: 'getProjectionMode',
                          value: function () {
                            return this.projectionMode;
                          },
                        },
                        {
                          key: 'getPerspective',
                          value: function () {
                            return this.perspective;
                          },
                        },
                        {
                          key: 'getFrustum',
                          value: function () {
                            return this.frustum;
                          },
                        },
                        {
                          key: 'getPosition',
                          value: function () {
                            return this.position;
                          },
                        },
                        {
                          key: 'setType',
                          value: function (t, e) {
                            return (
                              (this.type = t),
                              this.type === Nr.EXPLORING
                                ? this.setWorldRotation(!0)
                                : this.setWorldRotation(!1),
                              this._getAngles(),
                              this.type === Nr.TRACKING && void 0 !== e && this.setTrackingMode(e),
                              this
                            );
                          },
                        },
                        {
                          key: 'setProjectionMode',
                          value: function (t) {
                            return (this.projectionMode = t), this;
                          },
                        },
                        {
                          key: 'setTrackingMode',
                          value: function (t) {
                            if (this.type !== Nr.TRACKING)
                              throw new Error(
                                'Impossible to set a tracking mode if the camera is not of tracking type',
                              );
                            return (this.trackingMode = t), this;
                          },
                        },
                        {
                          key: 'setWorldRotation',
                          value: function (t) {
                            (this.rotateWorld = t), this._getAngles();
                          },
                        },
                        {
                          key: 'getViewTransform',
                          value: function () {
                            return Jt(Zt(), this.matrix);
                          },
                        },
                        {
                          key: 'getWorldTransform',
                          value: function () {
                            return this.matrix;
                          },
                        },
                        {
                          key: 'setMatrix',
                          value: function (t) {
                            return (this.matrix = t), this._update(), this;
                          },
                        },
                        {
                          key: 'setAspect',
                          value: function (t) {
                            return this.setPerspective(this.near, this.far, this.fov, t), this;
                          },
                        },
                        {
                          key: 'setViewOffset',
                          value: function (t, e, n, r, i, o) {
                            return (
                              (this.aspect = t / e),
                              void 0 === this.view &&
                                (this.view = {
                                  enabled: !0,
                                  fullWidth: 1,
                                  fullHeight: 1,
                                  offsetX: 0,
                                  offsetY: 0,
                                  width: 1,
                                  height: 1,
                                }),
                              (this.view.enabled = !0),
                              (this.view.fullWidth = t),
                              (this.view.fullHeight = e),
                              (this.view.offsetX = n),
                              (this.view.offsetY = r),
                              (this.view.width = i),
                              (this.view.height = o),
                              this.projectionMode === Or.PERSPECTIVE
                                ? this.setPerspective(this.near, this.far, this.fov, this.aspect)
                                : this.setOrthographic(
                                    this.left,
                                    this.rright,
                                    this.top,
                                    this.bottom,
                                    this.near,
                                    this.far,
                                  ),
                              this
                            );
                          },
                        },
                        {
                          key: 'clearViewOffset',
                          value: function () {
                            return (
                              void 0 !== this.view && (this.view.enabled = !1),
                              this.projectionMode === Or.PERSPECTIVE
                                ? this.setPerspective(this.near, this.far, this.fov, this.aspect)
                                : this.setOrthographic(
                                    this.left,
                                    this.rright,
                                    this.top,
                                    this.bottom,
                                    this.near,
                                    this.far,
                                  ),
                              this
                            );
                          },
                        },
                        {
                          key: 'setPerspective',
                          value: function (t, e, n, r) {
                            return (
                              (this.projectionMode = Or.PERSPECTIVE),
                              (this.fov = n),
                              (this.near = t),
                              (this.far = e),
                              (this.aspect = r),
                              (function (t, e, n, r, i) {
                                var o,
                                  a = 1 / Math.tan(e / 2);
                                (t[0] = a / n),
                                  (t[1] = 0),
                                  (t[2] = 0),
                                  (t[3] = 0),
                                  (t[4] = 0),
                                  (t[5] = a),
                                  (t[6] = 0),
                                  (t[7] = 0),
                                  (t[8] = 0),
                                  (t[9] = 0),
                                  (t[11] = -1),
                                  (t[12] = 0),
                                  (t[13] = 0),
                                  (t[15] = 0),
                                  null != i && i !== 1 / 0
                                    ? ((o = 1 / (r - i)),
                                      (t[10] = (i + r) * o),
                                      (t[14] = 2 * i * r * o))
                                    : ((t[10] = -1), (t[14] = -2 * r));
                              })(this.perspective, this.fov * Ur, this.aspect, this.near, this.far),
                              this
                            );
                          },
                        },
                        {
                          key: 'setOrthographic',
                          value: function (t, e, n, r, i, o) {
                            (this.projectionMode = Or.ORTHOGRAPHIC),
                              (this.rright = e),
                              (this.left = t),
                              (this.top = n),
                              (this.bottom = r),
                              (this.near = i),
                              (this.far = o);
                            var a = (this.rright - this.left) / (2 * this.zoom),
                              s = (this.top - this.bottom) / (2 * this.zoom),
                              u = (this.rright + this.left) / 2,
                              c = (this.top + this.bottom) / 2,
                              l = u - a,
                              h = u + a,
                              f = c + s,
                              d = c - s;
                            if (void 0 !== this.view && this.view.enabled) {
                              var p = (this.rright - this.left) / this.view.fullWidth / this.zoom,
                                g = (this.top - this.bottom) / this.view.fullHeight / this.zoom;
                              (h = (l += p * this.view.offsetX) + p * this.view.width),
                                (d = (f -= g * this.view.offsetY) - g * this.view.height);
                            }
                            return (
                              (function (t, e, n, r, i, o, a) {
                                var s = 1 / (e - n),
                                  u = 1 / (r - i),
                                  c = 1 / (o - a);
                                (t[0] = -2 * s),
                                  (t[1] = 0),
                                  (t[2] = 0),
                                  (t[3] = 0),
                                  (t[4] = 0),
                                  (t[5] = -2 * u),
                                  (t[6] = 0),
                                  (t[7] = 0),
                                  (t[8] = 0),
                                  (t[9] = 0),
                                  (t[10] = 2 * c),
                                  (t[11] = 0),
                                  (t[12] = (e + n) * s),
                                  (t[13] = (i + r) * u),
                                  (t[14] = (a + o) * c),
                                  (t[15] = 1);
                              })(this.perspective, l, h, f, d, i, o),
                              this
                            );
                          },
                        },
                        {
                          key: 'setPosition',
                          value: function (t, e, n) {
                            return (
                              this._setPosition(t, e, n), this.setFocalPoint(this.focalPoint), this
                            );
                          },
                        },
                        {
                          key: 'setFocalPoint',
                          value: function (t, e, n) {
                            var r,
                              i,
                              o,
                              a,
                              s,
                              u,
                              c,
                              l,
                              h,
                              f,
                              d,
                              p,
                              g,
                              v = H.fromValues(0, 1, 0);
                            if (
                              ((this.focalPoint = Er(t, e, n)), this.trackingMode === Pr.CINEMATIC)
                            ) {
                              var y = H.subtract(H.create(), this.focalPoint, this.position);
                              (t = y[0]), (e = y[1]), (n = y[2]);
                              var m = H.length(y),
                                b = Math.asin(e / m) * Vr,
                                x = 90 + Math.atan2(n, t) * Vr,
                                _ = Zt();
                              (r = _),
                                (i = _),
                                (o = x * Ur),
                                (a = Math.sin(o)),
                                (s = Math.cos(o)),
                                (u = i[0]),
                                (c = i[1]),
                                (l = i[2]),
                                (h = i[3]),
                                (f = i[8]),
                                (d = i[9]),
                                (p = i[10]),
                                (g = i[11]),
                                i !== r &&
                                  ((r[4] = i[4]),
                                  (r[5] = i[5]),
                                  (r[6] = i[6]),
                                  (r[7] = i[7]),
                                  (r[12] = i[12]),
                                  (r[13] = i[13]),
                                  (r[14] = i[14]),
                                  (r[15] = i[15])),
                                (r[0] = u * s - f * a),
                                (r[1] = c * s - d * a),
                                (r[2] = l * s - p * a),
                                (r[3] = h * s - g * a),
                                (r[8] = u * a + f * s),
                                (r[9] = c * a + d * s),
                                (r[10] = l * a + p * s),
                                (r[11] = h * a + g * s),
                                (function (t, e, n) {
                                  var r = Math.sin(n),
                                    i = Math.cos(n),
                                    o = e[4],
                                    a = e[5],
                                    s = e[6],
                                    u = e[7],
                                    c = e[8],
                                    l = e[9],
                                    h = e[10],
                                    f = e[11];
                                  e !== t &&
                                    ((t[0] = e[0]),
                                    (t[1] = e[1]),
                                    (t[2] = e[2]),
                                    (t[3] = e[3]),
                                    (t[12] = e[12]),
                                    (t[13] = e[13]),
                                    (t[14] = e[14]),
                                    (t[15] = e[15])),
                                    (t[4] = o * i + c * r),
                                    (t[5] = a * i + l * r),
                                    (t[6] = s * i + h * r),
                                    (t[7] = u * i + f * r),
                                    (t[8] = c * i - o * r),
                                    (t[9] = l * i - a * r),
                                    (t[10] = h * i - s * r),
                                    (t[11] = f * i - u * r);
                                })(_, _, b * Ur),
                                (v = H.transformMat4(H.create(), [0, 1, 0], _));
                            }
                            return (
                              Jt(
                                this.matrix,
                                (function (t, e, n, r) {
                                  var i,
                                    o,
                                    a,
                                    s,
                                    u,
                                    c,
                                    l,
                                    h,
                                    f,
                                    d,
                                    p = e[0],
                                    g = e[1],
                                    v = e[2],
                                    y = r[0],
                                    m = r[1],
                                    b = r[2],
                                    x = n[0],
                                    _ = n[1],
                                    w = n[2];
                                  return Math.abs(p - x) < U.Ib &&
                                    Math.abs(g - _) < U.Ib &&
                                    Math.abs(v - w) < U.Ib
                                    ? Qt(t)
                                    : ((l = p - x),
                                      (h = g - _),
                                      (f = v - w),
                                      (i = m * (f *= d = 1 / Math.hypot(l, h, f)) - b * (h *= d)),
                                      (o = b * (l *= d) - y * f),
                                      (a = y * h - m * l),
                                      (d = Math.hypot(i, o, a))
                                        ? ((i *= d = 1 / d), (o *= d), (a *= d))
                                        : ((i = 0), (o = 0), (a = 0)),
                                      (s = h * a - f * o),
                                      (u = f * i - l * a),
                                      (c = l * o - h * i),
                                      (d = Math.hypot(s, u, c))
                                        ? ((s *= d = 1 / d), (u *= d), (c *= d))
                                        : ((s = 0), (u = 0), (c = 0)),
                                      (t[0] = i),
                                      (t[1] = s),
                                      (t[2] = l),
                                      (t[3] = 0),
                                      (t[4] = o),
                                      (t[5] = u),
                                      (t[6] = h),
                                      (t[7] = 0),
                                      (t[8] = a),
                                      (t[9] = c),
                                      (t[10] = f),
                                      (t[11] = 0),
                                      (t[12] = -(i * p + o * g + a * v)),
                                      (t[13] = -(s * p + u * g + c * v)),
                                      (t[14] = -(l * p + h * g + f * v)),
                                      (t[15] = 1),
                                      t);
                                })(Zt(), this.position, this.focalPoint, v),
                              ),
                              this._getAxes(),
                              this._getDistance(),
                              this._getAngles(),
                              this
                            );
                          },
                        },
                        {
                          key: 'setDistance',
                          value: function (t) {
                            if (!(this.distance === t || t < 0)) {
                              (this.distance = t),
                                this.distance < 2e-4 && (this.distance = 2e-4),
                                (this.dollyingStep = this.distance / 100);
                              var e = H.create();
                              t = this.distance;
                              var n = this.forward,
                                r = this.focalPoint;
                              return (
                                (e[0] = t * n[0] + r[0]),
                                (e[1] = t * n[1] + r[1]),
                                (e[2] = t * n[2] + r[2]),
                                this._setPosition(e),
                                this
                              );
                            }
                          },
                        },
                        {
                          key: 'setMaxDistance',
                          value: function (t) {
                            return (this.maxDistance = t), this;
                          },
                        },
                        {
                          key: 'setMinDistance',
                          value: function (t) {
                            return (this.minDistance = t), this;
                          },
                        },
                        {
                          key: 'changeAzimuth',
                          value: function (t) {
                            return this.setAzimuth(this.azimuth + t), this;
                          },
                        },
                        {
                          key: 'changeElevation',
                          value: function (t) {
                            return this.setElevation(this.elevation + t), this;
                          },
                        },
                        {
                          key: 'changeRoll',
                          value: function (t) {
                            return this.setRoll(this.roll + t), this;
                          },
                        },
                        {
                          key: 'setAzimuth',
                          value: function (t) {
                            return (
                              (this.azimuth = wr(t)),
                              this.computeMatrix(),
                              this._getAxes(),
                              this.type === Nr.ORBITING || this.type === Nr.EXPLORING
                                ? this._getPosition()
                                : this.type === Nr.TRACKING && this._getFocalPoint(),
                              this
                            );
                          },
                        },
                        {
                          key: 'getAzimuth',
                          value: function () {
                            return this.azimuth;
                          },
                        },
                        {
                          key: 'setElevation',
                          value: function (t) {
                            return (
                              (this.elevation = wr(t)),
                              this.computeMatrix(),
                              this._getAxes(),
                              this.type === Nr.ORBITING || this.type === Nr.EXPLORING
                                ? this._getPosition()
                                : this.type === Nr.TRACKING && this._getFocalPoint(),
                              this
                            );
                          },
                        },
                        {
                          key: 'setRoll',
                          value: function (t) {
                            return (
                              (this.roll = wr(t)),
                              this.computeMatrix(),
                              this._getAxes(),
                              this.type === Nr.ORBITING || this.type === Nr.EXPLORING
                                ? this._getPosition()
                                : this.type === Nr.TRACKING && this._getFocalPoint(),
                              this
                            );
                          },
                        },
                        {
                          key: 'rotate',
                          value: function (t, e, n) {
                            if (this.type === Nr.EXPLORING) {
                              (t = wr(t)), (e = wr(e)), (n = wr(n));
                              var r = On(Pn(), [1, 0, 0], (this.rotateWorld ? 1 : -1) * e * Ur),
                                i = On(Pn(), [0, 1, 0], (this.rotateWorld ? 1 : -1) * t * Ur),
                                o = On(Pn(), [0, 0, 1], n * Ur),
                                a = Dn(Pn(), i, r);
                              a = Dn(Pn(), a, o);
                              var s = oe(Zt(), a);
                              ee(this.matrix, this.matrix, [0, 0, -this.distance]),
                                te(this.matrix, this.matrix, s),
                                ee(this.matrix, this.matrix, [0, 0, this.distance]);
                            } else {
                              if (Math.abs(this.elevation + e) > 90) return;
                              (this.relElevation = wr(e)),
                                (this.relAzimuth = wr(t)),
                                (this.relRoll = wr(n)),
                                (this.elevation += this.relElevation),
                                (this.azimuth += this.relAzimuth),
                                (this.roll += this.relRoll),
                                this.computeMatrix();
                            }
                            return (
                              this._getAxes(),
                              this.type === Nr.ORBITING || this.type === Nr.EXPLORING
                                ? this._getPosition()
                                : this.type === Nr.TRACKING && this._getFocalPoint(),
                              this._update(),
                              this
                            );
                          },
                        },
                        {
                          key: 'pan',
                          value: function (t, e) {
                            var n = Er(t, e, 0),
                              r = H.clone(this.position);
                            return (
                              H.add(r, r, H.scale(H.create(), this.right, n[0])),
                              H.add(r, r, H.scale(H.create(), this.up, n[1])),
                              this._setPosition(r),
                              this
                            );
                          },
                        },
                        {
                          key: 'dolly',
                          value: function (t) {
                            var e = this.forward,
                              n = H.clone(this.position),
                              r = this.dollyingStep,
                              i = this.distance + t * this.dollyingStep;
                            return (
                              (r =
                                Math.max(Math.min(i, this.maxDistance), this.minDistance) -
                                this.distance),
                              (n[0] += r * e[0]),
                              (n[1] += r * e[1]),
                              (n[2] += r * e[2]),
                              this._setPosition(n),
                              this.type === Nr.ORBITING || this.type === Nr.EXPLORING
                                ? this._getDistance()
                                : this.type === Nr.TRACKING &&
                                  H.add(this.focalPoint, n, this.distanceVector),
                              this
                            );
                          },
                        },
                        {
                          key: 'createLandmark',
                          value: function (t, e) {
                            var n = this.clone();
                            n.setPosition(e.position),
                              n.setFocalPoint(e.focalPoint),
                              void 0 !== e.roll && n.setRoll(e.roll);
                            var r = new Dr(t, n);
                            return this.landmarks.push(r), r;
                          },
                        },
                        {
                          key: 'setLandmark',
                          value: function (t) {
                            var e = new Dr(t, this);
                            return this.landmarks.push(e), this;
                          },
                        },
                        {
                          key: 'gotoLandmark',
                          value: function (t) {
                            var e = this,
                              n =
                                arguments.length > 1 && void 0 !== arguments[1]
                                  ? arguments[1]
                                  : 1e3,
                              r = this.landmarks.find(function (e) {
                                return e.name === t;
                              });
                            if (r) {
                              if (0 === n) return void r.retrieve(this);
                              void 0 !== this.landmarkAnimationID &&
                                window.cancelAnimationFrame(this.landmarkAnimationID),
                                this.interactor.disconnect();
                              var i,
                                o = r.getPosition(),
                                a = r.getFocalPoint(),
                                s = r.getRoll(),
                                u = function t(r) {
                                  void 0 === i && (i = r);
                                  var u,
                                    c = r - i,
                                    l = (1 - Math.cos((c / n) * Math.PI)) / 2,
                                    h = H.create(),
                                    f = H.create();
                                  if (
                                    (H.lerp(h, e.focalPoint, a, l),
                                    H.lerp(f, e.position, o, l),
                                    (u = e.roll * (1 - l) + s * l),
                                    e.setFocalPoint(h),
                                    e.setPosition(f),
                                    e.setRoll(u),
                                    e.computeMatrix(),
                                    !(H.dist(h, a) + H.dist(f, o) > 0.01))
                                  )
                                    return (
                                      e.setFocalPoint(h),
                                      e.setPosition(f),
                                      e.setRoll(u),
                                      e.computeMatrix(),
                                      void e.interactor.connect()
                                    );
                                  c < n &&
                                    (e.landmarkAnimationID = window.requestAnimationFrame(t));
                                };
                              window.requestAnimationFrame(u);
                            }
                          },
                        },
                        {
                          key: '_update',
                          value: function () {
                            this._getAxes(),
                              this._getPosition(),
                              this._getDistance(),
                              this._getAngles();
                          },
                        },
                        {
                          key: 'computeMatrix',
                          value: function () {
                            var t,
                              e,
                              n = On(Pn(), [0, 0, 1], this.roll * Ur);
                            Qt(this.matrix),
                              (t = On(
                                Pn(),
                                [1, 0, 0],
                                ((this.rotateWorld && this.type !== Nr.TRACKING) ||
                                this.type === Nr.TRACKING
                                  ? 1
                                  : -1) *
                                  this.elevation *
                                  Ur,
                              )),
                              (e = On(
                                Pn(),
                                [0, 1, 0],
                                ((this.rotateWorld && this.type !== Nr.TRACKING) ||
                                this.type === Nr.TRACKING
                                  ? 1
                                  : -1) *
                                  this.azimuth *
                                  Ur,
                              ));
                            var r = Dn(Pn(), e, t);
                            r = Dn(Pn(), r, n);
                            var i = oe(Zt(), r);
                            this.type === Nr.ORBITING || this.type === Nr.EXPLORING
                              ? (ee(this.matrix, this.matrix, this.focalPoint),
                                te(this.matrix, this.matrix, i),
                                ee(this.matrix, this.matrix, [0, 0, this.distance]))
                              : this.type === Nr.TRACKING &&
                                (ee(this.matrix, this.matrix, this.position),
                                te(this.matrix, this.matrix, i));
                          },
                        },
                        {
                          key: '_setPosition',
                          value: function (t, e, n) {
                            this.position = Er(t, e, n);
                            var r = this.matrix;
                            (r[12] = this.position[0]),
                              (r[13] = this.position[1]),
                              (r[14] = this.position[2]),
                              (r[15] = 1);
                          },
                        },
                        {
                          key: '_getAxes',
                          value: function () {
                            H.copy(this.right, Er(Y(V(), [1, 0, 0, 0], this.matrix))),
                              H.copy(this.up, Er(Y(V(), [0, 1, 0, 0], this.matrix))),
                              H.copy(this.forward, Er(Y(V(), [0, 0, 1, 0], this.matrix))),
                              H.normalize(this.right, this.right),
                              H.normalize(this.up, this.up),
                              H.normalize(this.forward, this.forward);
                          },
                        },
                        {
                          key: '_getAngles',
                          value: function () {
                            var t = this.distanceVector[0],
                              e = this.distanceVector[1],
                              n = this.distanceVector[2],
                              r = H.length(this.distanceVector);
                            if (0 === r) return (this.elevation = 0), void (this.azimuth = 0);
                            this.type === Nr.TRACKING || this.rotateWorld
                              ? ((this.elevation = Math.asin(e / r) * Vr),
                                (this.azimuth = Math.atan2(-t, -n) * Vr))
                              : ((this.elevation = -Math.asin(e / r) * Vr),
                                (this.azimuth = -Math.atan2(-t, -n) * Vr));
                          },
                        },
                        {
                          key: '_getPosition',
                          value: function () {
                            H.copy(this.position, Er(Y(V(), [0, 0, 0, 1], this.matrix))),
                              this._getDistance();
                          },
                        },
                        {
                          key: '_getFocalPoint',
                          value: function () {
                            H.transformMat3(
                              this.distanceVector,
                              [0, 0, -this.distance],
                              X.fromMat4(X.create(), this.matrix),
                            ),
                              H.add(this.focalPoint, this.position, this.distanceVector),
                              this._getDistance();
                          },
                        },
                        {
                          key: '_getDistance',
                          value: function () {
                            (this.distanceVector = H.subtract(
                              H.create(),
                              this.focalPoint,
                              this.position,
                            )),
                              (this.distance = H.length(this.distanceVector)),
                              (this.dollyingStep = this.distance / 100);
                          },
                        },
                      ]),
                      t
                    );
                  })()),
                (Ir.ProjectionMode = { ORTHOGRAPHIC: 'ORTHOGRAPHIC', PERSPECTIVE: 'PERSPECTIVE' }),
                (Cr = s((Ar = Tr).prototype, 'interactor', [Mr], {
                  configurable: !0,
                  enumerable: !0,
                  writable: !0,
                  initializer: null,
                })),
                (kr = Ar)),
              ) || kr),
            Yr =
              ((Lr = (0, b.b2)()),
              (Rr = (0, b.f3)(x.GeometryComponentManager)),
              Lr(
                ((Fr = zr =
                  (function () {
                    function t() {
                      i(this, t),
                        (this.config = void 0),
                        r(this, 'geometry', Gr, this),
                        (this.entity = void 0),
                        (this.component = void 0);
                    }
                    return (
                      a(t, [
                        {
                          key: 'getEntity',
                          value: function () {
                            return this.entity;
                          },
                        },
                        {
                          key: 'getComponent',
                          value: function () {
                            return this.component;
                          },
                        },
                        {
                          key: 'setConfig',
                          value: function (t) {
                            this.config = t;
                          },
                        },
                        {
                          key: 'setEntity',
                          value: function (t) {
                            (this.entity = t),
                              (this.component = this.geometry.create(t)),
                              (this.component.entity = t),
                              this.onEntityCreated();
                          },
                        },
                        { key: 'onEntityCreated', value: function () {} },
                      ]),
                      t
                    );
                  })()),
                (zr.BOX = 'box'),
                (zr.SPHERE = 'sphere'),
                (zr.PLANE = 'plane'),
                (zr.MERGED = 'merged'),
                (Gr = s((jr = Fr).prototype, 'geometry', [Rr], {
                  configurable: !0,
                  enumerable: !0,
                  writable: !0,
                  initializer: null,
                })),
                (Br = jr)),
              ) || Br),
            Xr = n(9469);
          function Hr() {
            if ('undefined' != typeof document) return document.createElement('canvas');
            throw new Error('Cannot create a canvas in this context');
          }
          var qr = {}.toString;
          var Kr = {};
          (Kr['[object Float32Array]'] =
            Kr['[object Float64Array]'] =
            Kr['[object Int8Array]'] =
            Kr['[object Int16Array]'] =
            Kr['[object Int32Array]'] =
            Kr['[object Uint8Array]'] =
            Kr['[object Uint8ClampedArray]'] =
            Kr['[object Uint16Array]'] =
            Kr['[object Uint32Array]'] =
              !0),
            (Kr['[object Arguments]'] =
              Kr['[object Array]'] =
              Kr['[object ArrayBuffer]'] =
              Kr['[object Boolean]'] =
              Kr['[object DataView]'] =
              Kr['[object Date]'] =
              Kr['[object Error]'] =
              Kr['[object Function]'] =
              Kr['[object Map]'] =
              Kr['[object Number]'] =
              Kr['[object Object]'] =
              Kr['[object RegExp]'] =
              Kr['[object Set]'] =
              Kr['[object String]'] =
              Kr['[object WeakMap]'] =
                !1);
          var Zr,
            $r,
            Qr,
            Jr,
            ti,
            ei,
            ni,
            ri,
            ii = Object.prototype.toString,
            oi = function (t) {
              return (
                (function (t) {
                  return !!t && 'object' === k(t);
                })(t) &&
                (function (t) {
                  return 'number' == typeof t && t > -1 && t % 1 == 0 && t <= 9007199254740991;
                })(t.length) &&
                !!Kr[ii.call(t)]
              );
            };
          function ai(t, e) {
            var n = Object.keys(t);
            if (Object.getOwnPropertySymbols) {
              var r = Object.getOwnPropertySymbols(t);
              e &&
                (r = r.filter(function (e) {
                  return Object.getOwnPropertyDescriptor(t, e).enumerable;
                })),
                n.push.apply(n, r);
            }
            return n;
          }
          function si(t) {
            for (var e = 1; e < arguments.length; e++) {
              var n = null != arguments[e] ? arguments[e] : {};
              e % 2
                ? ai(Object(n), !0).forEach(function (e) {
                    F(t, e, n[e]);
                  })
                : Object.getOwnPropertyDescriptors
                ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n))
                : ai(Object(n)).forEach(function (e) {
                    Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e));
                  });
            }
            return t;
          }
          var ui,
            ci,
            li,
            hi,
            fi,
            di,
            pi,
            gi,
            vi,
            yi,
            mi,
            bi,
            xi,
            _i,
            wi,
            Ei,
            Si,
            Mi,
            ki,
            Ai,
            Ci,
            Ii,
            Ti,
            Ni,
            Pi,
            Oi,
            Di,
            Li,
            Ri,
            Bi,
            ji,
            Gi,
            zi,
            Fi,
            Ui,
            Vi =
              ((Zr = (0, b.b2)()),
              ($r = (0, b.f3)(x.RenderEngine)),
              (Qr = (0, b.f3)(x.ConfigService)),
              Zr(
                ((ri = (function () {
                  function t() {
                    i(this, t),
                      r(this, 'engine', ei, this),
                      r(this, 'configService', ni, this),
                      (this.entity = d()),
                      (this.model = void 0),
                      (this.dirty = !0),
                      (this.compiledBundle = void 0),
                      (this.initPromise = void 0);
                  }
                  var e, n, o;
                  return (
                    a(t, [
                      {
                        key: 'init',
                        value: function () {
                          var t = this.configService.get(),
                            e = t.canvas,
                            n = t.engineOptions;
                          this.initPromise = this.engine.init(
                            si(
                              {
                                canvas: e || Hr(),
                                swapChainFormat: Xr.EV.BGRA8Unorm,
                                antialiasing: !1,
                              },
                              n,
                            ),
                          );
                        },
                      },
                      {
                        key: 'setBundle',
                        value: function (t) {
                          this.compiledBundle = JSON.parse(JSON.stringify(t));
                        },
                      },
                      {
                        key: 'setDispatch',
                        value: function (t) {
                          return (
                            this.compiledBundle.context &&
                              (this.compiledBundle.context.dispatch = t),
                            this
                          );
                        },
                      },
                      {
                        key: 'setMaxIteration',
                        value: function (t) {
                          return (
                            this.compiledBundle.context &&
                              (this.compiledBundle.context.maxIteration = t),
                            this
                          );
                        },
                      },
                      {
                        key: 'setBinding',
                        value: function (t, e) {
                          var n,
                            r = this;
                          if ('string' == typeof t) {
                            var i =
                              _r(e) ||
                              oi(e) ||
                              ((n = e),
                              Array.isArray
                                ? Array.isArray(n)
                                : (function (t, e) {
                                    return qr.call(t) === '[object ' + e + ']';
                                  })(n, 'Array'));
                            if (this.compiledBundle && this.compiledBundle.context) {
                              var o = this.compiledBundle.context.defines.find(function (e) {
                                return e.name === t;
                              });
                              if (o) return (o.value = e), this;
                              var a = this.compiledBundle.context.uniforms.find(function (e) {
                                return e.name === t;
                              });
                              a &&
                                (i
                                  ? ((a.data = e),
                                    (a.isReferer = !1),
                                    a.storageClass === mr.Uniform
                                      ? this.model && this.model.updateUniform(t, e)
                                      : this.model && this.model.updateBuffer(t, e))
                                  : ((a.isReferer = !0), (a.data = e)));
                            }
                          } else
                            Object.keys(t).forEach(function (e) {
                              r.setBinding(e, t[e]);
                            });
                          return this;
                        },
                      },
                      {
                        key: 'execute',
                        value:
                          ((o = h(
                            c().mark(function t() {
                              var e,
                                n,
                                r = this,
                                i = arguments;
                              return c().wrap(
                                function (t) {
                                  for (;;)
                                    switch ((t.prev = t.next)) {
                                      case 0:
                                        if (
                                          ((e = i.length > 0 && void 0 !== i[0] ? i[0] : 1),
                                          !this.dirty)
                                        ) {
                                          t.next = 6;
                                          break;
                                        }
                                        return (
                                          this.compiledBundle.context &&
                                            (e > 1
                                              ? (this.compiledBundle.context.maxIteration = e)
                                              : this.compiledBundle.context.maxIteration++),
                                          (t.next = 5),
                                          this.compile()
                                        );
                                      case 5:
                                        this.dirty = !1;
                                      case 6:
                                        for (
                                          this.engine.beginFrame(),
                                            this.engine.clear({}),
                                            this.compiledBundle.context &&
                                              this.compiledBundle.context.uniforms
                                                .filter(function (t) {
                                                  return t.isReferer;
                                                })
                                                .forEach(function (t) {
                                                  var e = t.data,
                                                    n = t.name;
                                                  r.model.confirmInput(e.model, n);
                                                }),
                                            n = 0;
                                          n < e;
                                          n++
                                        )
                                          this.model.run();
                                        return this.engine.endFrame(), t.abrupt('return', this);
                                      case 12:
                                      case 'end':
                                        return t.stop();
                                    }
                                },
                                t,
                                this,
                              );
                            }),
                          )),
                          function () {
                            return o.apply(this, arguments);
                          }),
                      },
                      {
                        key: 'getOutput',
                        value:
                          ((n = h(
                            c().mark(function t() {
                              return c().wrap(
                                function (t) {
                                  for (;;)
                                    switch ((t.prev = t.next)) {
                                      case 0:
                                        return t.abrupt('return', this.model.readData());
                                      case 1:
                                      case 'end':
                                        return t.stop();
                                    }
                                },
                                t,
                                this,
                              );
                            }),
                          )),
                          function () {
                            return n.apply(this, arguments);
                          }),
                      },
                      {
                        key: 'compile',
                        value:
                          ((e = h(
                            c().mark(function t() {
                              var e, n, r;
                              return c().wrap(
                                function (t) {
                                  for (;;)
                                    switch ((t.prev = t.next)) {
                                      case 0:
                                        return (t.next = 2), this.initPromise;
                                      case 2:
                                        return (
                                          (e = si({}, this.compiledBundle.context)),
                                          (n = this.engine.supportWebGPU
                                            ? this.engine.useWGSL
                                              ? br.WGSL
                                              : br.GLSL450
                                            : br.GLSL100),
                                          (r = this.compiledBundle.shaders[n]),
                                          e.defines
                                            .filter(function (t) {
                                              return t.runtime;
                                            })
                                            .forEach(function (t) {
                                              var e = ''
                                                .concat('__DefineValuePlaceholder__')
                                                .concat(t.name);
                                              r = r.replace(e, ''.concat(t.value));
                                            }),
                                          (e.shader = r),
                                          e.uniforms.forEach(function (t) {
                                            if (!t.data && t.storageClass === mr.StorageBuffer) {
                                              var n = 1;
                                              t.type === vr.FloatArray
                                                ? (n = 1)
                                                : t.type === vr.Vector4FloatArray && (n = 4),
                                                (t.data = new Float32Array(
                                                  e.output.length * n,
                                                ).fill(0));
                                            }
                                          }),
                                          (this.compiledBundle.context = e),
                                          (t.next = 11),
                                          this.engine.createComputeModel(
                                            this.compiledBundle.context,
                                          )
                                        );
                                      case 11:
                                        this.model = t.sent;
                                      case 12:
                                      case 'end':
                                        return t.stop();
                                    }
                                },
                                t,
                                this,
                              );
                            }),
                          )),
                          function () {
                            return e.apply(this, arguments);
                          }),
                      },
                    ]),
                    t
                  );
                })()),
                (ei = s((ti = ri).prototype, 'engine', [$r], {
                  configurable: !0,
                  enumerable: !0,
                  writable: !0,
                  initializer: null,
                })),
                (ni = s(ti.prototype, 'configService', [Qr], {
                  configurable: !0,
                  enumerable: !0,
                  writable: !0,
                  initializer: null,
                })),
                (Jr = ti)),
              ) || Jr),
            Wi =
              ((ui = (0, b.b2)()),
              (ci = (0, b.f3)(x.MaterialComponentManager)),
              ui(
                ((pi = di =
                  (function () {
                    function t() {
                      i(this, t),
                        (this.config = void 0),
                        r(this, 'material', fi, this),
                        (this.entity = void 0),
                        (this.component = void 0);
                    }
                    return (
                      a(t, [
                        {
                          key: 'getEntity',
                          value: function () {
                            return this.entity;
                          },
                        },
                        {
                          key: 'getComponent',
                          value: function () {
                            return this.component;
                          },
                        },
                        {
                          key: 'setConfig',
                          value: function (t) {
                            this.config = t;
                          },
                        },
                        {
                          key: 'setEntity',
                          value: function (t, e) {
                            (this.entity = t),
                              (this.component = this.material.create(t)),
                              (this.component.entity = t),
                              (this.component.type = e),
                              this.onEntityCreated();
                          },
                        },
                        { key: 'onEntityCreated', value: function () {} },
                      ]),
                      t
                    );
                  })()),
                (di.BASIC = 'basic'),
                (fi = s((hi = pi).prototype, 'material', [ci], {
                  configurable: !0,
                  enumerable: !0,
                  writable: !0,
                  initializer: null,
                })),
                (li = hi)),
              ) || li),
            Yi =
              ((gi = (0, b.b2)()),
              (vi = (0, b.f3)(x.MeshComponentManager)),
              (yi = (0, b.f3)(x.CullableComponentManager)),
              (mi = (0, b.f3)(x.TransformComponentManager)),
              (bi = (0, b.f3)(x.Systems)),
              (xi = (0, b.t6)(x.SceneGraphSystem)),
              gi(
                ((Ci = Ai =
                  (function () {
                    function t() {
                      i(this, t),
                        (this.attributes = {}),
                        (this.config = void 0),
                        r(this, 'mesh', Ei, this),
                        r(this, 'cullable', Si, this),
                        r(this, 'transform', Mi, this),
                        r(this, 'sceneGraphSystem', ki, this),
                        (this.meshComponent = void 0),
                        (this.transformComponent = void 0),
                        (this.entity = void 0);
                    }
                    return (
                      a(t, [
                        {
                          key: 'getEntity',
                          value: function () {
                            return this.entity;
                          },
                        },
                        {
                          key: 'getTransformComponent',
                          value: function () {
                            return this.transformComponent;
                          },
                        },
                        {
                          key: 'getMeshComponent',
                          value: function () {
                            return this.meshComponent;
                          },
                        },
                        {
                          key: 'setConfig',
                          value: function (t) {
                            this.config = t;
                          },
                        },
                        {
                          key: 'setEntity',
                          value: function (t) {
                            (this.entity = t),
                              this.cullable.create(t),
                              (this.meshComponent = this.mesh.create(t)),
                              (this.transformComponent = this.transform.create(t)),
                              this.onEntityCreated();
                          },
                        },
                        {
                          key: 'setMaterial',
                          value: function (t) {
                            return (this.meshComponent.material = t), this;
                          },
                        },
                        {
                          key: 'setGeometry',
                          value: function (t) {
                            return (this.meshComponent.geometry = t), this;
                          },
                        },
                        {
                          key: 'setAttributes',
                          value: function (t) {
                            var e = this;
                            Object.keys(t).forEach(function (n) {
                              void 0 !== t[n] &&
                                t[n] !== e.attributes[n] &&
                                (e.onAttributeChanged({ name: n, data: t[n] }),
                                (e.attributes[n] = t[n]));
                            });
                          },
                        },
                        {
                          key: 'setVisible',
                          value: function (t) {
                            var e = this;
                            return (
                              (this.meshComponent.visible = t),
                              this.meshComponent.children.forEach(function (n) {
                                var r = e.mesh.getComponentByEntity(n);
                                r && (r.visible = t);
                              }),
                              this
                            );
                          },
                        },
                        {
                          key: 'isVisible',
                          value: function () {
                            return this.meshComponent.visible;
                          },
                        },
                        {
                          key: 'attach',
                          value: function (t) {
                            return this.sceneGraphSystem.attach(this.entity, t.entity), this;
                          },
                        },
                        {
                          key: 'detach',
                          value: function () {
                            return this.sceneGraphSystem.detach(this.entity), this;
                          },
                        },
                        {
                          key: 'detachChildren',
                          value: function () {
                            return this.sceneGraphSystem.detachChildren(this.entity), this;
                          },
                        },
                        { key: 'onEntityCreated', value: function () {} },
                        {
                          key: 'onAttributeChanged',
                          value: function (t) {
                            var e = t.name,
                              n = t.data;
                            this.meshComponent &&
                              this.meshComponent.material &&
                              this.meshComponent.material.setUniform(
                                this.convertAttributeName2UniformName(e),
                                n,
                              );
                          },
                        },
                        {
                          key: 'convertAttributeName2UniformName',
                          value: function (t) {
                            return t;
                          },
                        },
                      ]),
                      t
                    );
                  })()),
                (Ai.POINT = 'point'),
                (Ai.LINE = 'line'),
                (Ai.GRID = 'grid'),
                (Ei = s((wi = Ci).prototype, 'mesh', [vi], {
                  configurable: !0,
                  enumerable: !0,
                  writable: !0,
                  initializer: null,
                })),
                (Si = s(wi.prototype, 'cullable', [yi], {
                  configurable: !0,
                  enumerable: !0,
                  writable: !0,
                  initializer: null,
                })),
                (Mi = s(wi.prototype, 'transform', [mi], {
                  configurable: !0,
                  enumerable: !0,
                  writable: !0,
                  initializer: null,
                })),
                (ki = s(wi.prototype, 'sceneGraphSystem', [bi, xi], {
                  configurable: !0,
                  enumerable: !0,
                  writable: !0,
                  initializer: null,
                })),
                (_i = wi)),
              ) || _i),
            Xi = n(1550),
            Hi = n.n(Xi),
            qi = (function () {
              function t(e, n) {
                i(this, t), (this.attribute = void 0), (this.buffer = void 0);
                var r = n.buffer,
                  o = n.offset,
                  a = n.stride,
                  s = n.normalized,
                  u = n.size,
                  c = n.divisor;
                (this.buffer = r),
                  (this.attribute = {
                    buffer: r.get(),
                    offset: o || 0,
                    stride: a || 0,
                    normalized: s || !1,
                    divisor: c || 0,
                  }),
                  u && (this.attribute.size = u);
              }
              return (
                a(t, [
                  {
                    key: 'get',
                    value: function () {
                      return this.attribute;
                    },
                  },
                  {
                    key: 'updateBuffer',
                    value: function (t) {
                      this.buffer.subData(t);
                    },
                  },
                  {
                    key: 'destroy',
                    value: function () {
                      this.buffer.destroy();
                    },
                  },
                ]),
                t
              );
            })(),
            Ki =
              (F((Ii = {}), J.POINTS, 'points'),
              F(Ii, J.LINES, 'lines'),
              F(Ii, J.LINE_LOOP, 'line loop'),
              F(Ii, J.LINE_STRIP, 'line strip'),
              F(Ii, J.TRIANGLES, 'triangles'),
              F(Ii, J.TRIANGLE_FAN, 'triangle fan'),
              F(Ii, J.TRIANGLE_STRIP, 'triangle strip'),
              Ii),
            Zi =
              (F((Ti = {}), J.STATIC_DRAW, 'static'),
              F(Ti, J.DYNAMIC_DRAW, 'dynamic'),
              F(Ti, J.STREAM_DRAW, 'stream'),
              Ti),
            $i =
              (F((Ni = {}), J.BYTE, 'int8'),
              F(Ni, J.UNSIGNED_INT, 'int16'),
              F(Ni, J.INT, 'int32'),
              F(Ni, J.UNSIGNED_BYTE, 'uint8'),
              F(Ni, J.UNSIGNED_SHORT, 'uint16'),
              F(Ni, J.UNSIGNED_INT, 'uint32'),
              F(Ni, J.FLOAT, 'float'),
              Ni),
            Qi =
              (F((Pi = {}), J.ALPHA, 'alpha'),
              F(Pi, J.LUMINANCE, 'luminance'),
              F(Pi, J.LUMINANCE_ALPHA, 'luminance alpha'),
              F(Pi, J.RGB, 'rgb'),
              F(Pi, J.RGBA, 'rgba'),
              F(Pi, J.RGBA4, 'rgba4'),
              F(Pi, J.RGB5_A1, 'rgb5 a1'),
              F(Pi, J.RGB565, 'rgb565'),
              F(Pi, J.DEPTH_COMPONENT, 'depth'),
              F(Pi, J.DEPTH_STENCIL, 'depth stencil'),
              Pi),
            Ji =
              (F((Oi = {}), J.DONT_CARE, 'dont care'),
              F(Oi, J.NICEST, 'nice'),
              F(Oi, J.FASTEST, 'fast'),
              Oi),
            to =
              (F((Di = {}), J.NEAREST, 'nearest'),
              F(Di, J.LINEAR, 'linear'),
              F(Di, J.LINEAR_MIPMAP_LINEAR, 'mipmap'),
              F(Di, J.NEAREST_MIPMAP_LINEAR, 'nearest mipmap linear'),
              F(Di, J.LINEAR_MIPMAP_NEAREST, 'linear mipmap nearest'),
              F(Di, J.NEAREST_MIPMAP_NEAREST, 'nearest mipmap nearest'),
              Di),
            eo =
              (F((Li = {}), J.REPEAT, 'repeat'),
              F(Li, J.CLAMP_TO_EDGE, 'clamp'),
              F(Li, J.MIRRORED_REPEAT, 'mirror'),
              Li),
            no = (F((Ri = {}), J.NONE, 'none'), F(Ri, J.BROWSER_DEFAULT_WEBGL, 'browser'), Ri),
            ro =
              (F((Bi = {}), J.NEVER, 'never'),
              F(Bi, J.ALWAYS, 'always'),
              F(Bi, J.LESS, 'less'),
              F(Bi, J.LEQUAL, 'lequal'),
              F(Bi, J.GREATER, 'greater'),
              F(Bi, J.GEQUAL, 'gequal'),
              F(Bi, J.EQUAL, 'equal'),
              F(Bi, J.NOTEQUAL, 'notequal'),
              Bi),
            io =
              (F((ji = {}), J.FUNC_ADD, 'add'),
              F(ji, J.MIN_EXT, 'min'),
              F(ji, J.MAX_EXT, 'max'),
              F(ji, J.FUNC_SUBTRACT, 'subtract'),
              F(ji, J.FUNC_REVERSE_SUBTRACT, 'reverse subtract'),
              ji),
            oo =
              (F((Gi = {}), J.ZERO, 'zero'),
              F(Gi, J.ONE, 'one'),
              F(Gi, J.SRC_COLOR, 'src color'),
              F(Gi, J.ONE_MINUS_SRC_COLOR, 'one minus src color'),
              F(Gi, J.SRC_ALPHA, 'src alpha'),
              F(Gi, J.ONE_MINUS_SRC_ALPHA, 'one minus src alpha'),
              F(Gi, J.DST_COLOR, 'dst color'),
              F(Gi, J.ONE_MINUS_DST_COLOR, 'one minus dst color'),
              F(Gi, J.DST_ALPHA, 'dst alpha'),
              F(Gi, J.ONE_MINUS_DST_ALPHA, 'one minus dst alpha'),
              F(Gi, J.CONSTANT_COLOR, 'constant color'),
              F(Gi, J.ONE_MINUS_CONSTANT_COLOR, 'one minus constant color'),
              F(Gi, J.CONSTANT_ALPHA, 'constant alpha'),
              F(Gi, J.ONE_MINUS_CONSTANT_ALPHA, 'one minus constant alpha'),
              F(Gi, J.SRC_ALPHA_SATURATE, 'src alpha saturate'),
              Gi),
            ao =
              (F((zi = {}), J.NEVER, 'never'),
              F(zi, J.ALWAYS, 'always'),
              F(zi, J.LESS, 'less'),
              F(zi, J.LEQUAL, 'lequal'),
              F(zi, J.GREATER, 'greater'),
              F(zi, J.GEQUAL, 'gequal'),
              F(zi, J.EQUAL, 'equal'),
              F(zi, J.NOTEQUAL, 'notequal'),
              zi),
            so =
              (F((Fi = {}), J.ZERO, 'zero'),
              F(Fi, J.KEEP, 'keep'),
              F(Fi, J.REPLACE, 'replace'),
              F(Fi, J.INVERT, 'invert'),
              F(Fi, J.INCR, 'increment'),
              F(Fi, J.DECR, 'decrement'),
              F(Fi, J.INCR_WRAP, 'increment wrap'),
              F(Fi, J.DECR_WRAP, 'decrement wrap'),
              Fi),
            uo = (F((Ui = {}), J.FRONT, 'front'), F(Ui, J.BACK, 'back'), Ui),
            co = (function () {
              function t(e, n) {
                i(this, t), (this.buffer = void 0);
                var r = n.data,
                  o = n.usage,
                  a = n.type;
                this.buffer = e.buffer({
                  data: r,
                  usage: Zi[o || J.STATIC_DRAW],
                  type: $i[a || J.UNSIGNED_BYTE],
                });
              }
              return (
                a(t, [
                  {
                    key: 'get',
                    value: function () {
                      return this.buffer;
                    },
                  },
                  { key: 'destroy', value: function () {} },
                  {
                    key: 'subData',
                    value: function (t) {
                      var e = t.data,
                        n = t.offset;
                      this.buffer.subdata(e, n);
                    },
                  },
                ]),
                t
              );
            })();
          function lo(t) {
            return (
              (function (t) {
                if (Array.isArray(t)) return v(t);
              })(t) ||
              (function (t) {
                if (
                  ('undefined' != typeof Symbol && null != t[Symbol.iterator]) ||
                  null != t['@@iterator']
                )
                  return Array.from(t);
              })(t) ||
              y(t) ||
              (function () {
                throw new TypeError(
                  'Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.',
                );
              })()
            );
          }
          var ho = {};
          (ho['[object Float32Array]'] =
            ho['[object Float64Array]'] =
            ho['[object Int8Array]'] =
            ho['[object Int16Array]'] =
            ho['[object Int32Array]'] =
            ho['[object Uint8Array]'] =
            ho['[object Uint8ClampedArray]'] =
            ho['[object Uint16Array]'] =
            ho['[object Uint32Array]'] =
              !0),
            (ho['[object Arguments]'] =
              ho['[object Array]'] =
              ho['[object ArrayBuffer]'] =
              ho['[object Boolean]'] =
              ho['[object DataView]'] =
              ho['[object Date]'] =
              ho['[object Error]'] =
              ho['[object Function]'] =
              ho['[object Map]'] =
              ho['[object Number]'] =
              ho['[object Object]'] =
              ho['[object RegExp]'] =
              ho['[object Set]'] =
              ho['[object String]'] =
              ho['[object WeakMap]'] =
                !1);
          var fo = Object.prototype.toString,
            po = function (t) {
              return (
                (function (t) {
                  return !!t && 'object' === k(t);
                })(t) &&
                (function (t) {
                  return 'number' == typeof t && t > -1 && t % 1 == 0 && t <= 9007199254740991;
                })(t.length) &&
                !!ho[fo.call(t)]
              );
            };
          function go(t, e) {
            var n = Object.keys(t);
            if (Object.getOwnPropertySymbols) {
              var r = Object.getOwnPropertySymbols(t);
              e &&
                (r = r.filter(function (e) {
                  return Object.getOwnPropertyDescriptor(t, e).enumerable;
                })),
                n.push.apply(n, r);
            }
            return n;
          }
          function vo(t) {
            for (var e = 1; e < arguments.length; e++) {
              var n = null != arguments[e] ? arguments[e] : {};
              e % 2
                ? go(Object(n), !0).forEach(function (e) {
                    F(t, e, n[e]);
                  })
                : Object.getOwnPropertyDescriptors
                ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n))
                : go(Object(n)).forEach(function (e) {
                    Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e));
                  });
            }
            return t;
          }
          var yo = 0,
            mo = (function () {
              function t(e, n) {
                var r = this;
                i(this, t),
                  (this.reGl = e),
                  (this.context = n),
                  (this.entity = d()),
                  (this.texFBO = void 0),
                  (this.computeCommand = void 0),
                  (this.textureCache = {}),
                  (this.outputTextureName = void 0),
                  (this.swapOutputTextureName = void 0),
                  (this.compiledPingpong = void 0),
                  (this.dynamicPingpong = void 0);
                var o = {};
                this.context.uniforms.forEach(function (t) {
                  var e = t.name,
                    n = t.type,
                    i = t.data,
                    a = t.isReferer,
                    s = t.storageClass;
                  if (s === mr.StorageBuffer) {
                    if (a)
                      (r.textureCache[e] = { data: void 0 }),
                        (o[''.concat(e, 'Size')] = function () {
                          return i.compiledBundle.context.output.textureSize;
                        });
                    else {
                      r.textureCache[e] = r.calcDataTexture(e, n, i);
                      var u = r.textureCache[e],
                        c = u.textureWidth,
                        l = u.isOutput;
                      (o[''.concat(e, 'Size')] = [c, c]),
                        l &&
                          ((r.outputTextureName = e),
                          r.context.needPingpong &&
                            ((r.outputTextureName = ''.concat(e, 'Output')),
                            (r.textureCache[r.outputTextureName] = r.calcDataTexture(e, n, i))));
                    }
                    o[e] = function () {
                      return r.textureCache[e].texture;
                    };
                  } else if (s === mr.Uniform) {
                    if (i && (Array.isArray(i) || po(i)) && i.length > 16)
                      throw new Error('invalid data type '.concat(n));
                    o[e] = function () {
                      return t.data;
                    };
                  }
                });
                var a = this.getOuputDataTexture(),
                  s = a.textureWidth,
                  u = a.texelCount;
                (o.u_OutputTextureSize = [s, s]),
                  (o.u_OutputTexelCount = u),
                  (this.context.output.textureSize = [s, s]);
                var c = {
                  attributes: {
                    a_Position: [
                      [-1, 1, 0],
                      [-1, -1, 0],
                      [1, 1, 0],
                      [1, -1, 0],
                    ],
                    a_TexCoord: [
                      [0, 1],
                      [0, 0],
                      [1, 1],
                      [1, 0],
                    ],
                  },
                  frag: '#ifdef GL_FRAGMENT_PRECISION_HIGH\n  precision highp float;\n#else\n  precision mediump float;\n#endif\n'.concat(
                    this.context.shader,
                  ),
                  uniforms: o,
                  vert: 'attribute vec3 a_Position;\nattribute vec2 a_TexCoord;\n\nvarying vec2 v_TexCoord;\n\nvoid main() {\n  gl_Position = vec4(a_Position, 1.0);\n  v_TexCoord = a_TexCoord;\n}',
                  primitive: 'triangle strip',
                  count: 4,
                };
                this.computeCommand = this.reGl(c);
              }
              var e;
              return (
                a(t, [
                  {
                    key: 'run',
                    value: function () {
                      var t = this;
                      this.context.maxIteration > 1 &&
                        this.context.needPingpong &&
                        (this.compiledPingpong = !0),
                        (this.compiledPingpong || this.dynamicPingpong) && this.swap(),
                        (this.texFBO = this.reGl.framebuffer({
                          color: this.getOuputDataTexture().texture,
                        })),
                        this.texFBO.use(function () {
                          t.computeCommand();
                        });
                    },
                  },
                  {
                    key: 'readData',
                    value:
                      ((e = h(
                        c().mark(function t() {
                          var e,
                            n,
                            r,
                            i,
                            o,
                            a,
                            s,
                            u,
                            l = this;
                          return c().wrap(
                            function (t) {
                              for (;;)
                                switch ((t.prev = t.next)) {
                                  case 0:
                                    if (
                                      (this.reGl({ framebuffer: this.texFBO })(function () {
                                        e = l.reGl.read();
                                      }),
                                      !e)
                                    ) {
                                      t.next = 6;
                                      break;
                                    }
                                    if (
                                      ((n = this.getOuputDataTexture()),
                                      (r = n.originalDataLength),
                                      (i = n.elementsPerTexel),
                                      (o = n.typedArrayConstructor),
                                      (a = void 0 === o ? Float32Array : o),
                                      (s = []),
                                      4 !== i)
                                    )
                                      for (u = 0; u < e.length; u += 4)
                                        1 === i
                                          ? s.push(e[u])
                                          : 2 === i
                                          ? s.push(e[u], e[u + 1])
                                          : s.push(e[u], e[u + 1], e[u + 2]);
                                    else s = e;
                                    return t.abrupt('return', new a(s.slice(0, r)));
                                  case 6:
                                    return t.abrupt('return', new Float32Array());
                                  case 7:
                                  case 'end':
                                    return t.stop();
                                }
                            },
                            t,
                            this,
                          );
                        }),
                      )),
                      function () {
                        return e.apply(this, arguments);
                      }),
                  },
                  {
                    key: 'confirmInput',
                    value: function (t, e) {
                      var n;
                      this.entity === t.entity
                        ? ((this.dynamicPingpong = !0), (n = this))
                        : (n = t),
                        (this.textureCache[e].id = n.getOuputDataTexture().id),
                        (this.textureCache[e].texture = n.getOuputDataTexture().texture);
                    },
                  },
                  { key: 'updateUniform', value: function () {} },
                  {
                    key: 'updateBuffer',
                    value: function (t, e) {
                      var n = this.context.uniforms.find(function (e) {
                        return e.name === t;
                      });
                      if (n) {
                        var r = this.calcDataTexture(t, n.type, e),
                          i = r.texture,
                          o = r.data;
                        (this.textureCache[t].data = o), (this.textureCache[t].texture = i);
                      }
                    },
                  },
                  { key: 'destroy', value: function () {} },
                  {
                    key: 'swap',
                    value: function () {
                      if (
                        (this.swapOutputTextureName || this.createSwapOutputDataTexture(),
                        this.compiledPingpong)
                      ) {
                        var t = this.context.output.name;
                        (this.textureCache[t].id = this.getOuputDataTexture().id),
                          (this.textureCache[t].texture = this.getOuputDataTexture().texture);
                      }
                      var e = this.outputTextureName;
                      (this.outputTextureName = this.swapOutputTextureName),
                        (this.swapOutputTextureName = e);
                    },
                  },
                  {
                    key: 'getOuputDataTexture',
                    value: function () {
                      return this.textureCache[this.outputTextureName];
                    },
                  },
                  {
                    key: 'createSwapOutputDataTexture',
                    value: function () {
                      var t = this.cloneDataTexture(this.getOuputDataTexture());
                      (this.swapOutputTextureName = ''.concat(this.entity, '-swap')),
                        (this.textureCache[this.swapOutputTextureName] = t);
                    },
                  },
                  {
                    key: 'cloneDataTexture',
                    value: function (t) {
                      var e = t.data,
                        n = t.textureWidth;
                      return vo(
                        vo({}, t),
                        {},
                        {
                          id: yo++,
                          texture: this.reGl.texture({
                            width: n,
                            height: n,
                            data: e,
                            type: 'float',
                          }),
                        },
                      );
                    },
                  },
                  {
                    key: 'calcDataTexture',
                    value: function (t, e, n) {
                      var r = 1;
                      e === vr.Vector4FloatArray && (r = 4);
                      for (var i = [], o = 0; o < n.length; o += r)
                        1 === r
                          ? i.push(n[o], 0, 0, 0)
                          : 2 === r
                          ? i.push(n[o], n[o + 1], 0, 0)
                          : 3 === r
                          ? i.push(n[o], n[o + 1], n[o + 2], 0)
                          : 4 === r && i.push(n[o], n[o + 1], n[o + 2], n[o + 3]);
                      var a = n.length,
                        s = Math.ceil(a / r),
                        u = Math.ceil(Math.sqrt(s)),
                        c = u * u;
                      s < c && i.push.apply(i, lo(new Array(4 * (c - s)).fill(0)));
                      var l = this.reGl.texture({ width: u, height: u, data: i, type: 'float' });
                      return {
                        id: yo++,
                        data: i,
                        originalDataLength: a,
                        typedArrayConstructor: po(n) ? n.constructor : void 0,
                        textureWidth: u,
                        texture: l,
                        texelCount: s,
                        elementsPerTexel: r,
                        isOutput: t === this.context.output.name,
                      };
                    },
                  },
                ]),
                t
              );
            })(),
            bo = (function () {
              function t(e, n) {
                i(this, t), (this.elements = void 0);
                var r = n.data,
                  o = n.usage,
                  a = n.type,
                  s = n.count;
                this.elements = e.elements({
                  data: r,
                  usage: Zi[o || J.STATIC_DRAW],
                  type: $i[a || J.UNSIGNED_BYTE],
                  count: s,
                });
              }
              return (
                a(t, [
                  {
                    key: 'get',
                    value: function () {
                      return this.elements;
                    },
                  },
                  {
                    key: 'subData',
                    value: function (t) {
                      var e = t.data;
                      this.elements.subdata(e);
                    },
                  },
                  {
                    key: 'destroy',
                    value: function () {
                      this.elements.destroy();
                    },
                  },
                ]),
                t
              );
            })(),
            xo = (function () {
              function t(e, n) {
                i(this, t), (this.framebuffer = void 0);
                var r = n.width,
                  o = n.height,
                  a = n.color,
                  s = n.colors,
                  u = (n.depth, n.stencil, { width: r, height: o });
                Array.isArray(s) &&
                  (u.colors = s.map(function (t) {
                    return t.get();
                  })),
                  a && 'boolean' != typeof a && (u.color = a.get()),
                  (this.framebuffer = e.framebuffer(u));
              }
              return (
                a(t, [
                  {
                    key: 'get',
                    value: function () {
                      return this.framebuffer;
                    },
                  },
                  {
                    key: 'destroy',
                    value: function () {
                      this.framebuffer.destroy();
                    },
                  },
                  {
                    key: 'resize',
                    value: function (t) {
                      var e = t.width,
                        n = t.height;
                      this.framebuffer.resize(e, n);
                    },
                  },
                ]),
                t
              );
            })();
          function _o(t) {
            var e = {};
            return (
              Object.keys(t).forEach(function (n) {
                wo(n, t[n], e, '');
              }),
              e
            );
          }
          function wo(t, e, n, r) {
            var i, o;
            null === e ||
            'number' == typeof e ||
            'boolean' == typeof e ||
            (Array.isArray(e) && 'number' == typeof e[0]) ||
            po(e) ||
            '' === e ||
            void 0 !== e.resize
              ? (n[''.concat(r && r + '.').concat(t)] = e)
              : ((o = k((i = e))),
                null == i ||
                  ('object' !== o && 'function' !== o) ||
                  Object.keys(e).forEach(function (i) {
                    wo(i, e[i], n, ''.concat(r && r + '.').concat(t));
                  }),
                Array.isArray(e) &&
                  e.forEach(function (e, i) {
                    Object.keys(e).forEach(function (o) {
                      wo(
                        o,
                        e[o],
                        n,
                        ''
                          .concat(r && r + '.')
                          .concat(t, '[')
                          .concat(i, ']'),
                      );
                    });
                  }));
          }
          function Eo(t, e) {
            var n = Object.keys(t);
            if (Object.getOwnPropertySymbols) {
              var r = Object.getOwnPropertySymbols(t);
              e &&
                (r = r.filter(function (e) {
                  return Object.getOwnPropertyDescriptor(t, e).enumerable;
                })),
                n.push.apply(n, r);
            }
            return n;
          }
          function So(t) {
            for (var e = 1; e < arguments.length; e++) {
              var n = null != arguments[e] ? arguments[e] : {};
              e % 2
                ? Eo(Object(n), !0).forEach(function (e) {
                    F(t, e, n[e]);
                  })
                : Object.getOwnPropertyDescriptors
                ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n))
                : Eo(Object(n)).forEach(function (e) {
                    Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e));
                  });
            }
            return t;
          }
          var Mo,
            ko,
            Ao,
            Co = (function () {
              function t(e, n) {
                i(this, t),
                  (this.reGl = void 0),
                  (this.drawCommand = void 0),
                  (this.uniforms = {}),
                  (this.reGl = e);
                var r = n.vs,
                  o = n.fs,
                  a = n.defines,
                  s = n.attributes,
                  u = n.uniforms,
                  c = n.primitive,
                  l = n.count,
                  h = n.elements,
                  f = n.depth,
                  d = n.blend,
                  p = n.stencil,
                  g = n.cull,
                  v = n.instances,
                  y = n.scissor,
                  m = n.viewport,
                  b = {};
                u &&
                  ((this.uniforms = _o(u)),
                  Object.keys(u).forEach(function (t) {
                    b[t] = e.prop(t);
                  }));
                var x = {};
                Object.keys(s).forEach(function (t) {
                  x[t] = s[t].get();
                });
                var _ = (a && this.generateDefines(a)) || '',
                  w = {
                    attributes: x,
                    frag: '#ifdef GL_FRAGMENT_PRECISION_HIGH\n  precision highp float;\n#else\n  precision mediump float;\n#endif\n'
                      .concat(_, '\n')
                      .concat(o),
                    uniforms: b,
                    vert: '\n'.concat(_, '\n').concat(r),
                    primitive: Ki[void 0 === c ? J.TRIANGLES : c],
                  };
                v && (w.instances = v),
                  l && (w.count = l),
                  h && (w.elements = h.get()),
                  y && (w.scissor = y),
                  m && (w.viewport = m),
                  this.initDepthDrawParams({ depth: f }, w),
                  this.initBlendDrawParams({ blend: d }, w),
                  this.initStencilDrawParams({ stencil: p }, w),
                  this.initCullDrawParams({ cull: g }, w),
                  (this.drawCommand = e(w));
              }
              return (
                a(t, [
                  {
                    key: 'addUniforms',
                    value: function (t) {
                      this.uniforms = So(So({}, this.uniforms), _o(t));
                    },
                  },
                  {
                    key: 'draw',
                    value: function (t) {
                      var e = So(So({}, this.uniforms), _o(t.uniforms || {})),
                        n = {};
                      Object.keys(e).forEach(function (t) {
                        var r = k(e[t]);
                        'boolean' === r ||
                        'number' === r ||
                        Array.isArray(e[t]) ||
                        e[t].BYTES_PER_ELEMENT
                          ? (n[t] = e[t])
                          : 'string' === r || (n[t] = e[t].get());
                      }),
                        this.drawCommand(n);
                    },
                  },
                  { key: 'destroy', value: function () {} },
                  {
                    key: 'initDepthDrawParams',
                    value: function (t, e) {
                      var n = t.depth;
                      n &&
                        (e.depth = {
                          enable: void 0 === n.enable || !!n.enable,
                          mask: void 0 === n.mask || !!n.mask,
                          func: ro[n.func || J.LESS],
                          range: n.range || [0, 1],
                        });
                    },
                  },
                  {
                    key: 'initBlendDrawParams',
                    value: function (t, e) {
                      var n = t.blend;
                      if (n) {
                        var r = n.enable,
                          i = n.func,
                          o = n.equation,
                          a = n.color,
                          s = void 0 === a ? [0, 0, 0, 0] : a;
                        e.blend = {
                          enable: !!r,
                          func: {
                            srcRGB: oo[(i && i.srcRGB) || J.SRC_ALPHA],
                            srcAlpha: oo[(i && i.srcAlpha) || J.SRC_ALPHA],
                            dstRGB: oo[(i && i.dstRGB) || J.ONE_MINUS_SRC_ALPHA],
                            dstAlpha: oo[(i && i.dstAlpha) || J.ONE_MINUS_SRC_ALPHA],
                          },
                          equation: {
                            rgb: io[(o && o.rgb) || J.FUNC_ADD],
                            alpha: io[(o && o.alpha) || J.FUNC_ADD],
                          },
                          color: s,
                        };
                      }
                    },
                  },
                  {
                    key: 'initStencilDrawParams',
                    value: function (t, e) {
                      var n = t.stencil;
                      if (n) {
                        var r = n.enable,
                          i = n.mask,
                          o = void 0 === i ? -1 : i,
                          a = n.func,
                          s = void 0 === a ? { cmp: J.ALWAYS, ref: 0, mask: -1 } : a,
                          u = n.opFront,
                          c = void 0 === u ? { fail: J.KEEP, zfail: J.KEEP, zpass: J.KEEP } : u,
                          l = n.opBack,
                          h = void 0 === l ? { fail: J.KEEP, zfail: J.KEEP, zpass: J.KEEP } : l;
                        e.stencil = {
                          enable: !!r,
                          mask: o,
                          func: So(So({}, s), {}, { cmp: ao[s.cmp] }),
                          opFront: { fail: so[c.fail], zfail: so[c.zfail], zpass: so[c.zpass] },
                          opBack: { fail: so[h.fail], zfail: so[h.zfail], zpass: so[h.zpass] },
                        };
                      }
                    },
                  },
                  {
                    key: 'initCullDrawParams',
                    value: function (t, e) {
                      var n = t.cull;
                      if (n) {
                        var r = n.enable,
                          i = n.face,
                          o = void 0 === i ? J.BACK : i;
                        e.cull = { enable: !!r, face: uo[o] };
                      }
                    },
                  },
                  {
                    key: 'generateDefines',
                    value: function (t) {
                      return Object.keys(t)
                        .map(function (e) {
                          return '#define '.concat(e, ' ').concat(Number(t[e]));
                        })
                        .join('\n');
                    },
                  },
                ]),
                t
              );
            })(),
            Io = (function () {
              function t(e, n) {
                i(this, t), (this.texture = void 0), (this.width = void 0), (this.height = void 0);
                var r = n.data,
                  o = n.type,
                  a = void 0 === o ? J.UNSIGNED_BYTE : o,
                  s = n.width,
                  u = n.height,
                  c = n.flipY,
                  l = void 0 !== c && c,
                  h = n.format,
                  f = void 0 === h ? J.RGBA : h,
                  d = n.mipmap,
                  p = void 0 !== d && d,
                  g = n.wrapS,
                  v = void 0 === g ? J.CLAMP_TO_EDGE : g,
                  y = n.wrapT,
                  m = void 0 === y ? J.CLAMP_TO_EDGE : y,
                  b = n.aniso,
                  x = void 0 === b ? 0 : b,
                  _ = n.alignment,
                  w = void 0 === _ ? 1 : _,
                  E = n.premultiplyAlpha,
                  S = void 0 !== E && E,
                  M = n.mag,
                  k = void 0 === M ? J.NEAREST : M,
                  A = n.min,
                  C = void 0 === A ? J.NEAREST : A,
                  I = n.colorSpace,
                  T = void 0 === I ? J.BROWSER_DEFAULT_WEBGL : I;
                (this.width = s), (this.height = u);
                var N = {
                  width: s,
                  height: u,
                  type: $i[a],
                  format: Qi[f],
                  wrapS: eo[v],
                  wrapT: eo[m],
                  mag: to[k],
                  min: to[C],
                  alignment: w,
                  flipY: l,
                  colorSpace: no[T],
                  premultiplyAlpha: S,
                  aniso: x,
                };
                r && (N.data = r),
                  'number' == typeof p
                    ? (N.mipmap = Ji[p])
                    : 'boolean' == typeof p && (N.mipmap = p),
                  (this.texture = e.texture(N));
              }
              return (
                a(t, [
                  {
                    key: 'get',
                    value: function () {
                      return this.texture;
                    },
                  },
                  {
                    key: 'update',
                    value: function () {
                      this.texture._texture.bind();
                    },
                  },
                  {
                    key: 'resize',
                    value: function (t) {
                      var e = t.width,
                        n = t.height;
                      this.texture.resize(e, n), (this.width = e), (this.height = n);
                    },
                  },
                  {
                    key: 'destroy',
                    value: function () {
                      this.texture.destroy();
                    },
                  },
                ]),
                t
              );
            })(),
            To =
              (0, b.b2)()(
                ((ko = (function () {
                  function t() {
                    var e = this;
                    i(this, t),
                      (this.supportWebGPU = !1),
                      (this.useWGSL = !1),
                      (this.$canvas = void 0),
                      (this.gl = void 0),
                      (this.inited = void 0),
                      (this.createModel = (function () {
                        var t = h(
                          c().mark(function t(n) {
                            return c().wrap(function (t) {
                              for (;;)
                                switch ((t.prev = t.next)) {
                                  case 0:
                                    if (!n.uniforms) {
                                      t.next = 3;
                                      break;
                                    }
                                    return (
                                      (t.next = 3),
                                      Promise.all(
                                        Object.keys(n.uniforms).map(
                                          (function () {
                                            var t = h(
                                              c().mark(function t(e) {
                                                var r;
                                                return c().wrap(function (t) {
                                                  for (;;)
                                                    switch ((t.prev = t.next)) {
                                                      case 0:
                                                        if (
                                                          !n.uniforms[e] ||
                                                          void 0 === n.uniforms[e].load
                                                        ) {
                                                          t.next = 5;
                                                          break;
                                                        }
                                                        return (t.next = 3), n.uniforms[e].load();
                                                      case 3:
                                                        (r = t.sent), (n.uniforms[e] = r);
                                                      case 5:
                                                      case 'end':
                                                        return t.stop();
                                                    }
                                                }, t);
                                              }),
                                            );
                                            return function (e) {
                                              return t.apply(this, arguments);
                                            };
                                          })(),
                                        ),
                                      )
                                    );
                                  case 3:
                                    return t.abrupt('return', new Co(e.gl, n));
                                  case 4:
                                  case 'end':
                                    return t.stop();
                                }
                            }, t);
                          }),
                        );
                        return function (e) {
                          return t.apply(this, arguments);
                        };
                      })()),
                      (this.createAttribute = function (t) {
                        return new qi(e.gl, t);
                      }),
                      (this.createBuffer = function (t) {
                        return new co(e.gl, t);
                      }),
                      (this.createElements = function (t) {
                        return new bo(e.gl, t);
                      }),
                      (this.createTexture2D = function (t) {
                        return new Io(e.gl, t);
                      }),
                      (this.createFramebuffer = function (t) {
                        return new xo(e.gl, t);
                      }),
                      (this.useFramebuffer = function (t, n) {
                        e.gl({ framebuffer: t ? t.get() : null })(n);
                      }),
                      (this.createComputeModel = (function () {
                        var t = h(
                          c().mark(function t(n) {
                            return c().wrap(function (t) {
                              for (;;)
                                switch ((t.prev = t.next)) {
                                  case 0:
                                    return t.abrupt('return', new mo(e.gl, n));
                                  case 1:
                                  case 'end':
                                    return t.stop();
                                }
                            }, t);
                          }),
                        );
                        return function (e) {
                          return t.apply(this, arguments);
                        };
                      })()),
                      (this.clear = function (t) {
                        var n = t.color,
                          r = t.depth,
                          i = t.stencil,
                          o = t.framebuffer,
                          a = void 0 === o ? null : o,
                          s = { color: n, depth: r, stencil: i };
                        (s.framebuffer = null === a ? a : a.get()), e.gl.clear(s);
                      }),
                      (this.setScissor = function (t) {
                        e.gl &&
                          e.gl._gl &&
                          (t.enable && t.box
                            ? (e.gl._gl.enable(J.SCISSOR_TEST),
                              e.gl._gl.scissor(t.box.x, t.box.y, t.box.width, t.box.height))
                            : e.gl._gl.disable(J.SCISSOR_TEST),
                          e.gl._refresh());
                      }),
                      (this.viewport = function (t) {
                        var n = t.x,
                          r = t.y,
                          i = t.width,
                          o = t.height;
                        e.gl && e.gl._gl && (e.gl._gl.viewport(n, r, i, o), e.gl._refresh());
                      }),
                      (this.readPixels = function (t) {
                        var n = t.framebuffer,
                          r = { x: t.x, y: t.y, width: t.width, height: t.height };
                        return n && (r.framebuffer = n.get()), e.gl.read(r);
                      }),
                      (this.getCanvas = function () {
                        return e.$canvas;
                      }),
                      (this.getGLContext = function () {
                        return e.gl._gl;
                      }),
                      (this.destroy = function () {
                        e.gl && (e.gl.destroy(), (e.inited = !1));
                      });
                  }
                  var e;
                  return (
                    a(t, [
                      {
                        key: 'init',
                        value:
                          ((e = h(
                            c().mark(function t(e) {
                              return c().wrap(
                                function (t) {
                                  for (;;)
                                    switch ((t.prev = t.next)) {
                                      case 0:
                                        if (!this.inited) {
                                          t.next = 2;
                                          break;
                                        }
                                        return t.abrupt('return');
                                      case 2:
                                        return (
                                          (this.$canvas = e.canvas),
                                          (t.next = 5),
                                          new Promise(function (t, n) {
                                            Hi()({
                                              canvas: e.canvas,
                                              attributes: {
                                                alpha: !0,
                                                antialias: e.antialias,
                                                premultipliedAlpha: !0,
                                              },
                                              pixelRatio: 1,
                                              extensions: [
                                                'OES_element_index_uint',
                                                'OES_texture_float',
                                                'OES_standard_derivatives',
                                                'angle_instanced_arrays',
                                              ],
                                              optionalExtensions: [
                                                'EXT_texture_filter_anisotropic',
                                                'EXT_blend_minmax',
                                                'WEBGL_depth_texture',
                                              ],
                                              profile: !0,
                                              onDone: function (e, r) {
                                                (!e && r) || n(e), t(r);
                                              },
                                            });
                                          })
                                        );
                                      case 5:
                                        (this.gl = t.sent), (this.inited = !0);
                                      case 7:
                                      case 'end':
                                        return t.stop();
                                    }
                                },
                                t,
                                this,
                              );
                            }),
                          )),
                          function (t) {
                            return e.apply(this, arguments);
                          }),
                      },
                      {
                        key: 'isFloatSupported',
                        value: function () {
                          return this.gl.limits.readFloat;
                        },
                      },
                      { key: 'beginFrame', value: function () {} },
                      { key: 'endFrame', value: function () {} },
                    ]),
                    t
                  );
                })()),
                (Mo = ko)),
              ) || Mo;
          function No(t, e) {
            return new Promise(function (e, n) {
              !(function (t, e, n, r) {
                if ('undefined' != typeof window) {
                  var i = document.getElementsByTagName('head')[0],
                    o = document.createElement('script');
                  o.setAttribute('type', 'text/javascript'),
                    o.setAttribute('src', t),
                    r && (o.id = r),
                    (o.onload = function () {
                      e && e();
                    }),
                    (o.onerror = function (e) {
                      n && n("Unable to load script '".concat(t, "'"), e);
                    }),
                    i.appendChild(o);
                }
              })(
                t,
                function () {
                  e();
                },
                function (t, e) {
                  n(e);
                },
              );
            });
          }
          function Po() {
            return Oo.apply(this, arguments);
          }
          function Oo() {
            return (Oo = h(
              c().mark(function t() {
                return c().wrap(function (t) {
                  for (;;)
                    switch ((t.prev = t.next)) {
                      case 0:
                        if (!Ao) {
                          t.next = 2;
                          break;
                        }
                        return t.abrupt('return', Ao);
                      case 2:
                        return (t.next = 4), No('https://preview.babylonjs.com/glslang/glslang.js');
                      case 4:
                        return (
                          (Ao = window.glslang(
                            'https://preview.babylonjs.com/glslang/glslang.wasm',
                          )),
                          t.abrupt('return', Ao)
                        );
                      case 6:
                      case 'end':
                        return t.stop();
                    }
                }, t);
              }),
            )).apply(this, arguments);
          }
          var Do,
            Lo,
            Ro,
            Bo,
            jo,
            Go,
            zo,
            Fo = (function () {
              function t(e, n) {
                i(this, t),
                  (this.engine = e),
                  (this.options = n),
                  (this.attribute = void 0),
                  (this.buffer = void 0);
                var r = n,
                  o = r.buffer,
                  a = r.offset,
                  s = r.stride,
                  u = r.normalized,
                  c = r.size,
                  l = r.divisor,
                  h = r.arrayStride,
                  f = r.attributes,
                  d = r.stepMode;
                (this.buffer = o),
                  (this.attribute = {
                    buffer: o.get(),
                    offset: a || 0,
                    stride: s || 0,
                    normalized: u || !1,
                    divisor: l || 0,
                    arrayStride: h || 0,
                    attributes: f,
                    stepMode: d || 'vertex',
                  }),
                  c && (this.attribute.size = c);
              }
              return (
                a(t, [
                  {
                    key: 'get',
                    value: function () {
                      return this.attribute;
                    },
                  },
                  {
                    key: 'updateBuffer',
                    value: function (t) {
                      this.buffer.subData(t);
                    },
                  },
                  {
                    key: 'destroy',
                    value: function () {
                      this.buffer.destroy();
                    },
                  },
                ]),
                t
              );
            })(),
            Uo = (function () {
              function t(e, n) {
                i(this, t), (this.engine = e), (this.options = n), (this.buffer = void 0);
                var r = n,
                  o = r.data,
                  a = r.usage;
                r.type,
                  (this.buffer = this.createBuffer(
                    o instanceof Array ? new Float32Array(o) : o,
                    a || Xr.FB.Vertex | Xr.FB.CopyDst,
                  ));
              }
              return (
                a(t, [
                  {
                    key: 'get',
                    value: function () {
                      return this.buffer;
                    },
                  },
                  {
                    key: 'destroy',
                    value: function () {
                      this.buffer.destroy();
                    },
                  },
                  {
                    key: 'subData',
                    value: function (t) {
                      var e = t.data,
                        n = t.offset;
                      this.setSubData(this.buffer, n, e instanceof Array ? new Float32Array(e) : e);
                    },
                  },
                  {
                    key: 'createBuffer',
                    value: function (t, e) {
                      var n = t.byteLength % 4,
                        r = { size: t.byteLength + n, usage: e },
                        i = this.engine.device.createBuffer(r);
                      return this.setSubData(i, 0, t), i;
                    },
                  },
                  {
                    key: 'setSubData',
                    value: function (t, e, n) {
                      (xr
                        ? this.engine.device.getQueue()
                        : this.engine.device.defaultQueue
                      ).writeBuffer(t, e, n);
                    },
                  },
                ]),
                t
              );
            })(),
            Vo = (function () {
              function t(e, n) {
                i(this, t),
                  (this.engine = e),
                  (this.context = n),
                  (this.entity = d()),
                  (this.uniformGPUBufferLayout = []),
                  (this.uniformBuffer = void 0),
                  (this.vertexBuffers = {}),
                  (this.outputBuffer = void 0),
                  (this.bindGroupEntries = void 0),
                  (this.bindGroup = void 0),
                  (this.computePipeline = void 0);
              }
              var e, n, r;
              return (
                a(t, [
                  {
                    key: 'init',
                    value:
                      ((r = h(
                        c().mark(function t() {
                          var e,
                            n,
                            r,
                            i,
                            o,
                            a,
                            s,
                            u = this;
                          return c().wrap(
                            function (t) {
                              for (;;)
                                switch ((t.prev = t.next)) {
                                  case 0:
                                    return (
                                      (t.next = 2),
                                      this.compileComputePipelineStageDescriptor(
                                        this.context.shader,
                                      )
                                    );
                                  case 2:
                                    (e = t.sent),
                                      (n = e.computeStage),
                                      (r = this.context.uniforms.filter(function (t) {
                                        return t.storageClass === mr.StorageBuffer;
                                      })),
                                      (i = this.context.uniforms.filter(function (t) {
                                        return t.storageClass === mr.Uniform;
                                      })),
                                      (o = i.length ? 1 : 0),
                                      (this.bindGroupEntries = []),
                                      o &&
                                        ((a = 0),
                                        (s = []),
                                        i.forEach(function (t) {
                                          if ('number' == typeof t.data)
                                            u.uniformGPUBufferLayout.push({
                                              name: t.name,
                                              offset: a,
                                            }),
                                              (a += 4),
                                              s.push(t.data);
                                          else {
                                            var e,
                                              n =
                                                (null === (e = t.data) || void 0 === e
                                                  ? void 0
                                                  : e.length) || 1;
                                            3 === n && ((n = 4), t.data.push(0));
                                            var r = (a / 4) % 4;
                                            if (r > 0) {
                                              var i = 4 - r;
                                              if (n > 1 && n <= i)
                                                2 === n &&
                                                  (3 === i && ((a += 4), s.push(0)),
                                                  s.push.apply(s, lo(t.data)),
                                                  u.uniformGPUBufferLayout.push({
                                                    name: t.name,
                                                    offset: a,
                                                  }));
                                              else {
                                                for (var o = 0; o < i; o++) (a += 4), s.push(0);
                                                s.push.apply(s, lo(t.data)),
                                                  u.uniformGPUBufferLayout.push({
                                                    name: t.name,
                                                    offset: a,
                                                  });
                                              }
                                            }
                                            a += 4 * n;
                                          }
                                        }),
                                        (this.uniformBuffer = new Uo(this.engine, {
                                          data: s instanceof Array ? new Float32Array(s) : s,
                                          usage: Xr.FB.Uniform | Xr.FB.CopyDst,
                                        })),
                                        this.bindGroupEntries.push({
                                          binding: 0,
                                          resource: { buffer: this.uniformBuffer.get() },
                                        })),
                                      r.forEach(function (t) {
                                        var e;
                                        null !== t.data &&
                                          ((t.type !== vr.Vector4FloatArray &&
                                            t.type !== vr.FloatArray) ||
                                            (t.name === u.context.output.name
                                              ? ((e = new Uo(u.engine, {
                                                  data: isFinite(Number(t.data))
                                                    ? [t.data]
                                                    : t.data,
                                                  usage:
                                                    Xr.FB.Storage | Xr.FB.CopyDst | Xr.FB.CopySrc,
                                                })),
                                                (u.outputBuffer = e),
                                                (u.context.output = {
                                                  name: t.name,
                                                  length: isFinite(Number(t.data))
                                                    ? 1
                                                    : t.data.length,
                                                  typedArrayConstructor: Float32Array,
                                                  gpuBuffer: e.get(),
                                                }))
                                              : t.isReferer
                                              ? t.data.model &&
                                                t.data.model.outputBuffer &&
                                                (e = t.data.model.outputBuffer)
                                              : (e = new Uo(u.engine, {
                                                  data: isFinite(Number(t.data))
                                                    ? [t.data]
                                                    : t.data,
                                                  usage:
                                                    Xr.FB.Storage | Xr.FB.CopyDst | Xr.FB.CopySrc,
                                                })),
                                            (u.vertexBuffers[t.name] = e),
                                            u.bindGroupEntries.push({
                                              binding: o,
                                              resource: {
                                                name: t.name,
                                                refer: e ? void 0 : t.data,
                                                buffer: e ? e.get() : void 0,
                                              },
                                            }),
                                            o++));
                                      }),
                                      (this.computePipeline =
                                        this.engine.device.createComputePipeline({
                                          computeStage: n,
                                        })),
                                      console.log(this.bindGroupEntries),
                                      (this.bindGroup = this.engine.device.createBindGroup({
                                        layout: this.computePipeline.getBindGroupLayout(0),
                                        entries: this.bindGroupEntries,
                                      }));
                                  case 13:
                                  case 'end':
                                    return t.stop();
                                }
                            },
                            t,
                            this,
                          );
                        }),
                      )),
                      function () {
                        return r.apply(this, arguments);
                      }),
                  },
                  {
                    key: 'destroy',
                    value: function () {
                      var t = this;
                      this.uniformBuffer && this.uniformBuffer.destroy(),
                        Object.keys(this.vertexBuffers).forEach(function (e) {
                          return t.vertexBuffers[e].destroy();
                        });
                    },
                  },
                  {
                    key: 'readData',
                    value:
                      ((n = h(
                        c().mark(function t() {
                          var e, n, r, i, o, a, s, u, l;
                          return c().wrap(
                            function (t) {
                              for (;;)
                                switch ((t.prev = t.next)) {
                                  case 0:
                                    if (!(e = this.context.output)) {
                                      t.next = 16;
                                      break;
                                    }
                                    if (
                                      ((n = e.length),
                                      (r = e.typedArrayConstructor),
                                      !(i = e.gpuBuffer))
                                    ) {
                                      t.next = 16;
                                      break;
                                    }
                                    return (
                                      (o = n * r.BYTES_PER_ELEMENT),
                                      (a = this.engine.device.createBuffer({
                                        size: o,
                                        usage: GPUBufferUsage.COPY_DST | GPUBufferUsage.MAP_READ,
                                      })),
                                      (s =
                                        this.engine.device.createCommandEncoder()).copyBufferToBuffer(
                                        i,
                                        0,
                                        a,
                                        0,
                                        o,
                                      ),
                                      (xr
                                        ? this.engine.device.getQueue()
                                        : this.engine.device.defaultQueue
                                      ).submit([s.finish()]),
                                      (t.next = 12),
                                      a.mapAsync(Xr.gc.Read)
                                    );
                                  case 12:
                                    return (
                                      (u = a.getMappedRange()),
                                      (l = new r(u.slice(0))),
                                      a.unmap(),
                                      t.abrupt('return', l)
                                    );
                                  case 16:
                                    return t.abrupt('return', new Float32Array());
                                  case 17:
                                  case 'end':
                                    return t.stop();
                                }
                            },
                            t,
                            this,
                          );
                        }),
                      )),
                      function () {
                        return n.apply(this, arguments);
                      }),
                  },
                  {
                    key: 'run',
                    value: function () {
                      var t;
                      this.engine.currentComputePass &&
                        (this.engine.currentComputePass.setPipeline(this.computePipeline),
                        this.engine.currentComputePass.setBindGroup(0, this.bindGroup),
                        (t = this.engine.currentComputePass).dispatch.apply(
                          t,
                          lo(this.context.dispatch),
                        ));
                    },
                  },
                  {
                    key: 'updateBuffer',
                    value: function (t, e) {
                      var n = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : 0,
                        r = this.vertexBuffers[t];
                      r && r.subData({ data: e, offset: n });
                    },
                  },
                  {
                    key: 'updateUniform',
                    value: function (t, e) {
                      var n = this.uniformGPUBufferLayout.find(function (e) {
                        return e.name === t;
                      });
                      n &&
                        this.uniformBuffer.subData({
                          data: Number.isFinite(e) ? new Float32Array([e]) : new Float32Array(e),
                          offset: n.offset,
                        });
                    },
                  },
                  {
                    key: 'confirmInput',
                    value: function (t, e) {
                      var n = this.vertexBuffers[e],
                        r = t.outputBuffer;
                      if (n && r && n !== r) {
                        var i = this.engine.device.createCommandEncoder(),
                          o = t.context.output,
                          a = o.length * o.typedArrayConstructor.BYTES_PER_ELEMENT;
                        i.copyBufferToBuffer(r.get(), 0, n.get(), 0, a),
                          (xr
                            ? this.engine.device.getQueue()
                            : this.engine.device.defaultQueue
                          ).submit([i.finish()]);
                      }
                    },
                  },
                  {
                    key: 'compileShaderToSpirV',
                    value: function (t, e, n) {
                      return this.compileRawShaderToSpirV(n + t, e);
                    },
                  },
                  {
                    key: 'compileRawShaderToSpirV',
                    value: function (t, e) {
                      return this.engine.glslang.compileGLSL(t, e);
                    },
                  },
                  {
                    key: 'compileComputePipelineStageDescriptor',
                    value:
                      ((e = h(
                        c().mark(function t(e) {
                          var n;
                          return c().wrap(
                            function (t) {
                              for (;;)
                                switch ((t.prev = t.next)) {
                                  case 0:
                                    if (((n = e), this.engine.options.useWGSL)) {
                                      t.next = 6;
                                      break;
                                    }
                                    return (
                                      (t.next = 5),
                                      this.compileShaderToSpirV(e, 'compute', '#version 450\n')
                                    );
                                  case 5:
                                    n = t.sent;
                                  case 6:
                                    return t.abrupt('return', {
                                      computeStage: {
                                        module: this.engine.device.createShaderModule({
                                          code: n,
                                          isWHLSL: xr,
                                        }),
                                        entryPoint: 'main',
                                      },
                                    });
                                  case 7:
                                  case 'end':
                                    return t.stop();
                                }
                            },
                            t,
                            this,
                          );
                        }),
                      )),
                      function (t) {
                        return e.apply(this, arguments);
                      }),
                  },
                ]),
                t
              );
            })(),
            Wo = (function () {
              function t(e, n) {
                i(this, t),
                  (this.engine = e),
                  (this.options = n),
                  (this.indexCount = void 0),
                  (this.buffer = void 0);
                var r = n,
                  o = r.data,
                  a = (r.usage, r.type, r.count);
                (this.indexCount = a || 0),
                  (this.buffer = new Uo(e, {
                    data: o instanceof Array ? new Uint16Array(o) : o,
                    usage: Xr.FB.Index | Xr.FB.CopyDst,
                  }));
              }
              return (
                a(t, [
                  {
                    key: 'get',
                    value: function () {
                      return this.buffer;
                    },
                  },
                  {
                    key: 'subData',
                    value: function (t) {
                      this.buffer.subData(t);
                    },
                  },
                  {
                    key: 'destroy',
                    value: function () {
                      this.buffer.destroy();
                    },
                  },
                ]),
                t
              );
            })(),
            Yo = (function () {
              function t(e, n) {
                i(this, t),
                  (this.engine = e),
                  (this.options = n),
                  (this.colorTexture = void 0),
                  (this.depthTexture = void 0),
                  (this.width = 0),
                  (this.height = 0);
                var r = n,
                  o = (r.width, r.height, r.color),
                  a = (r.colors, r.depth);
                r.stencil, o && (this.colorTexture = o), a && (this.depthTexture = a);
              }
              return (
                a(t, [
                  {
                    key: 'get',
                    value: function () {
                      var t, e;
                      return {
                        color: null === (t = this.colorTexture) || void 0 === t ? void 0 : t.get(),
                        depth: null === (e = this.depthTexture) || void 0 === e ? void 0 : e.get(),
                      };
                    },
                  },
                  {
                    key: 'destroy',
                    value: function () {
                      var t, e;
                      null === (t = this.colorTexture) || void 0 === t || t.destroy(),
                        null === (e = this.depthTexture) || void 0 === e || e.destroy();
                    },
                  },
                  {
                    key: 'resize',
                    value: function (t) {
                      var e,
                        n,
                        r = t.width,
                        i = t.height;
                      (r === this.width && i === this.height) ||
                        (null === (e = this.colorTexture) ||
                          void 0 === e ||
                          e.resize({ width: r, height: i }),
                        null === (n = this.depthTexture) ||
                          void 0 === n ||
                          n.resize({ width: r, height: i })),
                        (this.width = r),
                        (this.height = i);
                    },
                  },
                ]),
                t
              );
            })(),
            Xo =
              (F((Do = {}), J.POINTS, Xr.YV.PointList),
              F(Do, J.LINES, Xr.YV.LineList),
              F(Do, J.LINE_LOOP, Xr.YV.LineList),
              F(Do, J.LINE_STRIP, Xr.YV.LineStrip),
              F(Do, J.TRIANGLES, Xr.YV.TriangleList),
              F(Do, J.TRIANGLE_FAN, Xr.YV.TriangleList),
              F(Do, J.TRIANGLE_STRIP, Xr.YV.TriangleStrip),
              Do),
            Ho =
              (F((Lo = {}), J.NEVER, Xr.wb.Never),
              F(Lo, J.ALWAYS, Xr.wb.Always),
              F(Lo, J.LESS, Xr.wb.Less),
              F(Lo, J.LEQUAL, Xr.wb.LessEqual),
              F(Lo, J.GREATER, Xr.wb.Greater),
              F(Lo, J.GEQUAL, Xr.wb.GreaterEqual),
              F(Lo, J.EQUAL, Xr.wb.Equal),
              F(Lo, J.NOTEQUAL, Xr.wb.NotEqual),
              Lo),
            qo =
              (F((Ro = {}), J.FUNC_ADD, Xr.db.Add),
              F(Ro, J.MIN_EXT, Xr.db.Min),
              F(Ro, J.MAX_EXT, Xr.db.Max),
              F(Ro, J.FUNC_SUBTRACT, Xr.db.Subtract),
              F(Ro, J.FUNC_REVERSE_SUBTRACT, Xr.db.ReverseSubtract),
              Ro),
            Ko =
              (F((Bo = {}), J.ZERO, Xr.zi.Zero),
              F(Bo, J.ONE, Xr.zi.One),
              F(Bo, J.SRC_COLOR, Xr.zi.SrcColor),
              F(Bo, J.ONE_MINUS_SRC_COLOR, Xr.zi.OneMinusSrcColor),
              F(Bo, J.SRC_ALPHA, Xr.zi.SrcAlpha),
              F(Bo, J.ONE_MINUS_SRC_ALPHA, Xr.zi.OneMinusSrcAlpha),
              F(Bo, J.DST_COLOR, Xr.zi.DstColor),
              F(Bo, J.ONE_MINUS_DST_COLOR, Xr.zi.OneMinusDstColor),
              F(Bo, J.DST_ALPHA, Xr.zi.DstAlpha),
              F(Bo, J.ONE_MINUS_DST_ALPHA, Xr.zi.OneMinusDstAlpha),
              F(Bo, J.CONSTANT_COLOR, Xr.zi.BlendColor),
              F(Bo, J.ONE_MINUS_CONSTANT_COLOR, Xr.zi.OneMinusBlendColor),
              F(Bo, J.SRC_ALPHA_SATURATE, Xr.zi.SrcAlphaSaturated),
              Bo),
            Zo =
              (F((jo = {}), J.ALPHA, 'r8unorm'),
              F(jo, J.RGBA, 'rgba8unorm'),
              F(jo, J.DEPTH_COMPONENT, 'depth32float'),
              F(jo, J.DEPTH_STENCIL, 'depth24plus-stencil8'),
              jo),
            $o = (F((Go = {}), J.NEAREST, 'nearest'), F(Go, J.LINEAR, 'linear'), Go),
            Qo =
              (F((zo = {}), J.REPEAT, 'repeat'),
              F(zo, J.CLAMP_TO_EDGE, 'clamp-to-edge'),
              F(zo, J.MIRRORED_REPEAT, 'mirror-repeat'),
              zo);
          function Jo(t) {
            var e = t.cull;
            return e && e.enable
              ? e.face
                ? e.face === J.FRONT
                  ? Xr.Wf.Front
                  : Xr.Wf.Back
                : void 0
              : Xr.Wf.None;
          }
          function ta(t) {
            var e = t.depth,
              n =
                (t.stencil,
                {
                  compare: Xr.wb.Always,
                  depthFailOp: Xr.xS.Keep,
                  failOp: Xr.xS.Keep,
                  passOp: Xr.xS.Keep,
                });
            return {
              depthWriteEnabled: e && e.enable,
              depthCompare: Ho[(null == e ? void 0 : e.func) || J.ALWAYS],
              format: Xr.EV.Depth24PlusStencil8,
              stencilFront: n,
              stencilBack: n,
              stencilReadMask: 4294967295,
              stencilWriteMask: 4294967295,
            };
          }
          function ea(t, e) {
            var n = t.blend;
            return [
              {
                format: e,
                alphaBlend: {
                  srcFactor: Ko[(n && n.func && n.func.srcAlpha) || J.ONE],
                  dstFactor: Ko[(n && n.func && n.func.dstAlpha) || J.ZERO],
                  operation: qo[(n && n.equation && n.equation.alpha) || J.FUNC_ADD],
                },
                colorBlend: {
                  srcFactor: Ko[(n && n.func && n.func.srcRGB) || J.ONE],
                  dstFactor: Ko[(n && n.func && n.func.dstRGB) || J.ZERO],
                  operation: qo[(n && n.equation && n.equation.rgb) || J.FUNC_ADD],
                },
                writeMask: Xr.Yw.All,
              },
            ];
          }
          function na(t, e) {
            var n = Object.keys(t);
            if (Object.getOwnPropertySymbols) {
              var r = Object.getOwnPropertySymbols(t);
              e &&
                (r = r.filter(function (e) {
                  return Object.getOwnPropertyDescriptor(t, e).enumerable;
                })),
                n.push.apply(n, r);
            }
            return n;
          }
          function ra(t) {
            for (var e = 1; e < arguments.length; e++) {
              var n = null != arguments[e] ? arguments[e] : {};
              e % 2
                ? na(Object(n), !0).forEach(function (e) {
                    F(t, e, n[e]);
                  })
                : Object.getOwnPropertyDescriptors
                ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n))
                : na(Object(n)).forEach(function (e) {
                    Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e));
                  });
            }
            return t;
          }
          function ia(t) {
            for (
              var e = 0, n = arguments.length, r = new Array(n > 1 ? n - 1 : 0), i = 1;
              i < n;
              i++
            )
              r[i - 1] = arguments[i];
            for (var o = 0, a = r; o < a.length; o++) {
              var s = a[o];
              e += s.length;
            }
            for (var u = new t(e), c = 0, l = 0, h = r; l < h.length; l++) {
              var f = h[l];
              u.set(f, c), (c += f.length);
            }
            return u;
          }
          var oa,
            aa,
            sa,
            ua = (function () {
              function t(e, n) {
                i(this, t),
                  (this.engine = e),
                  (this.options = n),
                  (this.pipelineLayout = void 0),
                  (this.renderPipeline = void 0),
                  (this.uniformsBindGroupLayout = void 0),
                  (this.uniformBindGroup = void 0),
                  (this.uniformBuffer = void 0),
                  (this.uniforms = {}),
                  (this.uniformGPUBufferLayout = []),
                  (this.attributeCache = {}),
                  (this.indexBuffer = void 0),
                  (this.indexCount = void 0);
              }
              var e, n;
              return (
                a(t, [
                  {
                    key: 'init',
                    value:
                      ((n = h(
                        c().mark(function t() {
                          var e,
                            n,
                            r,
                            i,
                            o,
                            a,
                            s,
                            u,
                            l,
                            h,
                            f,
                            d,
                            p,
                            g,
                            v,
                            y,
                            m = this;
                          return c().wrap(
                            function (t) {
                              for (;;)
                                switch ((t.prev = t.next)) {
                                  case 0:
                                    return (
                                      (e = this.options),
                                      (n = e.vs),
                                      (r = e.fs),
                                      (i = e.attributes),
                                      (o = e.uniforms),
                                      (a = e.primitive),
                                      e.count,
                                      (s = e.elements),
                                      (u = e.depth),
                                      (l = e.blend),
                                      (h = e.stencil),
                                      (f = e.cull),
                                      e.instances,
                                      (t.next = 3),
                                      this.compilePipelineStageDescriptor(n, r, null)
                                    );
                                  case 3:
                                    (d = t.sent),
                                      (p = d.vertexStage),
                                      (g = d.fragmentStage),
                                      o && this.buildUniformBindGroup(o),
                                      s &&
                                        ((this.indexBuffer = s.get()),
                                        (this.indexCount = s.indexCount)),
                                      (v = {
                                        vertexBuffers: Object.keys(i).map(function (t, e) {
                                          var n = i[t],
                                            r = n.get(),
                                            o = r.arrayStride,
                                            a = r.stepMode,
                                            s = r.attributes;
                                          return (
                                            (m.attributeCache[t] = n),
                                            { arrayStride: o, stepMode: a, attributes: s }
                                          );
                                        }),
                                      }),
                                      (y = {
                                        sampleCount: this.engine.mainPassSampleCount,
                                        primitiveTopology: Xo[a || J.TRIANGLES],
                                        rasterizationState: ra(
                                          ra({}, this.getDefaultRasterizationStateDescriptor()),
                                          {},
                                          { cullMode: Jo({ cull: f }) },
                                        ),
                                        depthStencilState: ta({ depth: u, stencil: h }),
                                        colorStates: ea(
                                          { blend: l },
                                          this.engine.options.swapChainFormat,
                                        ),
                                        layout: this.pipelineLayout,
                                        vertexStage: p,
                                        fragmentStage: g,
                                        vertexState: v,
                                      }),
                                      (this.renderPipeline =
                                        this.engine.device.createRenderPipeline(y));
                                  case 11:
                                  case 'end':
                                    return t.stop();
                                }
                            },
                            t,
                            this,
                          );
                        }),
                      )),
                      function () {
                        return n.apply(this, arguments);
                      }),
                  },
                  {
                    key: 'addUniforms',
                    value: function (t) {
                      this.uniforms = ra(ra({}, this.uniforms), _o(t));
                    },
                  },
                  {
                    key: 'draw',
                    value: function (t) {
                      var e = this,
                        n = this.engine.getCurrentRenderPass(),
                        r = ra(ra({}, this.uniforms), _o(t.uniforms || {})),
                        i = [];
                      Object.keys(r).forEach(function (t) {
                        var n = k(r[t]);
                        if (
                          'boolean' === n ||
                          'number' === n ||
                          Array.isArray(r[t]) ||
                          r[t].BYTES_PER_ELEMENT
                        ) {
                          var o,
                            a =
                              null ===
                                (o = e.uniformGPUBufferLayout.find(function (e) {
                                  return e.name === t;
                                })) || void 0 === o
                                ? void 0
                                : o.offset;
                          null !== a && e.uniformBuffer.subData({ data: r[t], offset: a });
                        } else {
                          var s,
                            u =
                              null ===
                                (s = e.uniformGPUBufferLayout.find(function (e) {
                                  return e.name === t;
                                })) || void 0 === s
                                ? void 0
                                : s.offset;
                          if (null !== u) {
                            var c = r[t].get(),
                              l = c.color || c,
                              h = l.texture,
                              f = l.sampler;
                            f && (i.push({ binding: u, resource: f }), u++),
                              i.push({ binding: u, resource: h.createView() });
                          }
                        }
                      }),
                        this.uniformBuffer &&
                          (i[0] = { binding: 0, resource: { buffer: this.uniformBuffer.get() } }),
                        (this.uniformBindGroup = this.engine.device.createBindGroup({
                          layout: this.uniformsBindGroupLayout,
                          entries: i,
                        })),
                        this.renderPipeline && n.setPipeline(this.renderPipeline),
                        n.setBindGroup(0, this.uniformBindGroup),
                        this.indexBuffer &&
                          n.setIndexBuffer(this.indexBuffer.get(), Xr.iD.Uint32, 0),
                        Object.keys(this.attributeCache).forEach(function (t, r) {
                          n.setVertexBuffer(0 + r, e.attributeCache[t].get().buffer, 0);
                        }),
                        this.indexBuffer
                          ? n.drawIndexed(this.indexCount, this.options.instances || 1, 0, 0, 0)
                          : n.draw(this.options.count || 0, this.options.instances || 0, 0, 0);
                    },
                  },
                  {
                    key: 'destroy',
                    value: function () {
                      throw new Error('Method not implemented.');
                    },
                  },
                  {
                    key: 'compilePipelineStageDescriptor',
                    value:
                      ((e = h(
                        c().mark(function t(e, n, r) {
                          var i, o, a;
                          return c().wrap(
                            function (t) {
                              for (;;)
                                switch ((t.prev = t.next)) {
                                  case 0:
                                    if (
                                      ((i = '#version 450\n'),
                                      (o = e),
                                      (a = n),
                                      this.engine.options.useWGSL)
                                    ) {
                                      t.next = 10;
                                      break;
                                    }
                                    return (t.next = 6), this.compileShaderToSpirV(e, 'vertex', i);
                                  case 6:
                                    return (
                                      (o = t.sent),
                                      (t.next = 9),
                                      this.compileShaderToSpirV(n, 'fragment', i)
                                    );
                                  case 9:
                                    a = t.sent;
                                  case 10:
                                    return t.abrupt(
                                      'return',
                                      this.createPipelineStageDescriptor(o, a),
                                    );
                                  case 11:
                                  case 'end':
                                    return t.stop();
                                }
                            },
                            t,
                            this,
                          );
                        }),
                      )),
                      function (t, n, r) {
                        return e.apply(this, arguments);
                      }),
                  },
                  {
                    key: 'compileShaderToSpirV',
                    value: function (t, e, n) {
                      return this.compileRawShaderToSpirV(n + t, e);
                    },
                  },
                  {
                    key: 'compileRawShaderToSpirV',
                    value: function (t, e) {
                      return this.engine.glslang.compileGLSL(t, e);
                    },
                  },
                  {
                    key: 'createPipelineStageDescriptor',
                    value: function (t, e) {
                      return {
                        vertexStage: {
                          module: this.engine.device.createShaderModule({ code: t, isWHLSL: xr }),
                          entryPoint: 'main',
                        },
                        fragmentStage: {
                          module: this.engine.device.createShaderModule({ code: e, isWHLSL: xr }),
                          entryPoint: 'main',
                        },
                      };
                    },
                  },
                  {
                    key: 'getDefaultRasterizationStateDescriptor',
                    value: function () {
                      return {
                        frontFace: Xr.zX.CCW,
                        cullMode: Xr.Wf.None,
                        depthBias: 0,
                        depthBiasSlopeScale: 0,
                        depthBiasClamp: 0,
                      };
                    },
                  },
                  {
                    key: 'buildUniformBindGroup',
                    value: function (t) {
                      var e = this,
                        n = 0,
                        r = ia.apply(
                          void 0,
                          [Float32Array].concat(
                            lo(
                              Object.keys(t).map(function (r) {
                                return t[r]
                                  ? (e.uniformGPUBufferLayout.push({ name: r, offset: n }),
                                    (n += 4 * (t[r].length || 1)),
                                    t[r])
                                  : [];
                              }),
                            ),
                          ),
                        ),
                        i = [],
                        o = !1;
                      r.length &&
                        ((o = !0),
                        i.push({
                          binding: 0,
                          visibility: Xr.$X.Fragment | Xr.$X.Vertex,
                          type: Xr.$l.UniformBuffer,
                        })),
                        Object.keys(t)
                          .filter(function (e) {
                            return null === t[e];
                          })
                          .forEach(function (t, n) {
                            e.uniformGPUBufferLayout.push({ name: t, offset: 2 * n + (o ? 1 : 0) }),
                              i.push(
                                {
                                  binding: 2 * n + (o ? 1 : 0),
                                  visibility: Xr.$X.Fragment,
                                  type: Xr.$l.Sampler,
                                },
                                {
                                  binding: 2 * n + (o ? 1 : 0) + 1,
                                  visibility: Xr.$X.Fragment,
                                  type: Xr.$l.SampledTexture,
                                },
                              );
                          }),
                        (this.uniformsBindGroupLayout = this.engine.device.createBindGroupLayout({
                          entries: i,
                        })),
                        (this.pipelineLayout = this.engine.device.createPipelineLayout({
                          bindGroupLayouts: [this.uniformsBindGroupLayout],
                        })),
                        o &&
                          (this.uniformBuffer = new Uo(this.engine, {
                            data: r instanceof Array ? new Float32Array(r) : r,
                            usage: Xr.FB.Uniform | Xr.FB.CopyDst,
                          }));
                    },
                  },
                ]),
                t
              );
            })(),
            ca = (function () {
              function t(e, n) {
                i(this, t),
                  (this.engine = e),
                  (this.options = n),
                  (this.texture = void 0),
                  (this.sampler = void 0),
                  (this.width = void 0),
                  (this.height = void 0),
                  this.createTexture();
              }
              return (
                a(t, [
                  {
                    key: 'get',
                    value: function () {
                      return { texture: this.texture, sampler: this.sampler };
                    },
                  },
                  { key: 'update', value: function () {} },
                  {
                    key: 'resize',
                    value: function (t) {
                      var e = t.width,
                        n = t.height;
                      (e === this.width && n === this.height) ||
                        (this.destroy(), this.createTexture()),
                        (this.width = e),
                        (this.height = n);
                    },
                  },
                  {
                    key: 'destroy',
                    value: function () {
                      this.texture && this.texture.destroy();
                    },
                  },
                  {
                    key: 'createTexture',
                    value: function () {
                      var t = this.options,
                        e = (void 0 === (t.data, t.type) && J.UNSIGNED_BYTE, t.width),
                        n = t.height,
                        r = (t.flipY, t.format),
                        i = void 0 === r ? J.RGBA : r,
                        o = (t.mipmap, t.wrapS),
                        a = void 0 === o ? J.CLAMP_TO_EDGE : o,
                        s = t.wrapT,
                        u = void 0 === s ? J.CLAMP_TO_EDGE : s,
                        c = t.aniso,
                        l = void 0 === c ? 0 : c,
                        h = (t.alignment, t.premultiplyAlpha, t.mag),
                        f = void 0 === h ? J.NEAREST : h,
                        d = t.min,
                        p = void 0 === d ? J.NEAREST : d,
                        g = (void 0 === t.colorSpace && J.BROWSER_DEFAULT_WEBGL, t.usage);
                      (this.width = e),
                        (this.height = n),
                        (this.texture = this.engine.device.createTexture({
                          size: [e, n, 1],
                          mipLevelCount: 1,
                          sampleCount: 1,
                          dimension: Xr.kd.E2d,
                          format: Zo[i],
                          usage: g || Xr.v2.Sampled | Xr.v2.CopyDst,
                        })),
                        (!g || g & Xr.v2.Sampled) &&
                          (this.sampler = this.engine.device.createSampler({
                            addressModeU: Qo[a],
                            addressModeV: Qo[u],
                            addressModeW: Qo[a],
                            magFilter: $o[f],
                            minFilter: $o[p],
                            maxAnisotropy: l,
                          }));
                    },
                  },
                ]),
                t
              );
            })(),
            la =
              (0, b.b2)()(
                ((aa = (function () {
                  function t() {
                    var e = this;
                    i(this, t),
                      (this.supportWebGPU = !0),
                      (this.useWGSL = !1),
                      (this.options = void 0),
                      (this.canvas = void 0),
                      (this.context = void 0),
                      (this.glslang = void 0),
                      (this.adapter = void 0),
                      (this.device = void 0),
                      (this.swapChain = void 0),
                      (this.mainPassSampleCount = void 0),
                      (this.mainTexture = void 0),
                      (this.depthTexture = void 0),
                      (this.mainColorAttachments = void 0),
                      (this.mainTextureExtends = void 0),
                      (this.mainDepthAttachment = void 0),
                      (this.uploadEncoder = void 0),
                      (this.renderEncoder = void 0),
                      (this.computeEncoder = void 0),
                      (this.renderTargetEncoder = void 0),
                      (this.commandBuffers = new Array(4).fill(void 0)),
                      (this.currentRenderPass = null),
                      (this.mainRenderPass = null),
                      (this.currentRenderTargetViewDescriptor = void 0),
                      (this.currentComputePass = null),
                      (this.bundleEncoder = void 0),
                      (this.tempBuffers = []),
                      (this.currentRenderTarget = null),
                      (this.uploadEncoderDescriptor = { label: 'upload' }),
                      (this.renderEncoderDescriptor = { label: 'render' }),
                      (this.renderTargetEncoderDescriptor = { label: 'renderTarget' }),
                      (this.computeEncoderDescriptor = { label: 'compute' }),
                      (this.pipelines = {}),
                      (this.computePipelines = {}),
                      (this.defaultSampleCount = 4),
                      (this.clearDepthValue = 1),
                      (this.clearStencilValue = 0),
                      (this.transientViewport = { x: 1 / 0, y: 0, width: 0, height: 0 }),
                      (this.cachedViewport = { x: 0, y: 0, width: 0, height: 0 }),
                      (this.clear = function (t) {
                        t.framebuffer;
                        var n = t.color,
                          r = t.depth,
                          i = t.stencil;
                        e.options.supportCompute && e.startComputePass(),
                          e.currentRenderTarget
                            ? (e.currentRenderPass && e.endRenderTargetRenderPass(),
                              e.startRenderTargetRenderPass(
                                e.currentRenderTarget,
                                n || null,
                                !!r,
                                !!i,
                              ))
                            : ((e.mainColorAttachments[0].loadValue = n || Xr.Ws.Load),
                              (e.mainDepthAttachment.depthLoadValue = r || Xr.Ws.Load),
                              (e.mainDepthAttachment.stencilLoadValue = i
                                ? e.clearStencilValue
                                : Xr.Ws.Load),
                              e.mainRenderPass && e.endMainRenderPass(),
                              e.startMainRenderPass());
                      }),
                      (this.createModel = (function () {
                        var t = h(
                          c().mark(function t(n) {
                            var r;
                            return c().wrap(function (t) {
                              for (;;)
                                switch ((t.prev = t.next)) {
                                  case 0:
                                    return (r = new ua(e, n)), (t.next = 3), r.init();
                                  case 3:
                                    return t.abrupt('return', r);
                                  case 4:
                                  case 'end':
                                    return t.stop();
                                }
                            }, t);
                          }),
                        );
                        return function (e) {
                          return t.apply(this, arguments);
                        };
                      })()),
                      (this.createAttribute = function (t) {
                        return new Fo(e, t);
                      }),
                      (this.createBuffer = function (t) {
                        return new Uo(e, t);
                      }),
                      (this.createElements = function (t) {
                        return new Wo(e, t);
                      }),
                      (this.createTexture2D = function (t) {
                        return new ca(e, t);
                      }),
                      (this.createFramebuffer = function (t) {
                        return new Yo(e, t);
                      }),
                      (this.useFramebuffer = function (t, n) {
                        e.currentRenderTarget && e.unbindFramebuffer(e.currentRenderTarget),
                          (e.currentRenderTarget = t),
                          (e.currentRenderTargetViewDescriptor = {
                            dimension: Xr.p_.E2d,
                            arrayLayerCount: 1,
                            aspect: Xr.H7.All,
                          }),
                          (e.currentRenderPass = null),
                          n();
                      }),
                      (this.createComputeModel = (function () {
                        var t = h(
                          c().mark(function t(n) {
                            var r;
                            return c().wrap(function (t) {
                              for (;;)
                                switch ((t.prev = t.next)) {
                                  case 0:
                                    return (r = new Vo(e, n)), (t.next = 3), r.init();
                                  case 3:
                                    return t.abrupt('return', r);
                                  case 4:
                                  case 'end':
                                    return t.stop();
                                }
                            }, t);
                          }),
                        );
                        return function (e) {
                          return t.apply(this, arguments);
                        };
                      })()),
                      (this.getCanvas = function () {
                        return e.canvas;
                      }),
                      (this.getGLContext = function () {
                        throw new Error('Method not implemented.');
                      }),
                      (this.viewport = function (t) {
                        var n = t.x,
                          r = t.y,
                          i = t.width,
                          o = t.height;
                        e.currentRenderPass
                          ? e.transientViewport.x !== 1 / 0
                            ? e
                                .getCurrentRenderPass()
                                .setViewport(
                                  e.transientViewport.x,
                                  e.transientViewport.y,
                                  e.transientViewport.width,
                                  e.transientViewport.height,
                                  0,
                                  1,
                                )
                            : (n === e.cachedViewport.x &&
                                r === e.cachedViewport.y &&
                                i === e.cachedViewport.width &&
                                o === e.cachedViewport.height) ||
                              ((e.cachedViewport = { x: n, y: r, width: i, height: o }),
                              e.getCurrentRenderPass().setViewport(n, r, i, o, 0, 1))
                          : (e.transientViewport = { x: n, y: r, width: i, height: o });
                      }),
                      (this.readPixels = function (t) {
                        throw new Error('Method not implemented.');
                      });
                  }
                  var e, n;
                  return (
                    a(t, [
                      {
                        key: 'isFloatSupported',
                        value: function () {
                          return !0;
                        },
                      },
                      {
                        key: 'init',
                        value:
                          ((n = h(
                            c().mark(function t(e) {
                              return c().wrap(
                                function (t) {
                                  for (;;)
                                    switch ((t.prev = t.next)) {
                                      case 0:
                                        return (
                                          (this.canvas = e.canvas),
                                          (this.options = e),
                                          (this.useWGSL = !!e.useWGSL),
                                          (this.mainPassSampleCount = e.antialiasing
                                            ? this.defaultSampleCount
                                            : 1),
                                          (t.next = 6),
                                          this.initGlslang()
                                        );
                                      case 6:
                                        this.initContextAndSwapChain(), this.initMainAttachments();
                                      case 8:
                                      case 'end':
                                        return t.stop();
                                    }
                                },
                                t,
                                this,
                              );
                            }),
                          )),
                          function (t) {
                            return n.apply(this, arguments);
                          }),
                      },
                      {
                        key: 'setScissor',
                        value: function (t) {
                          throw new Error('Method not implemented.');
                        },
                      },
                      {
                        key: 'destroy',
                        value: function () {
                          this.mainTexture && this.mainTexture.destroy(),
                            this.depthTexture && this.depthTexture.destroy(),
                            this.tempBuffers.forEach(function (t) {
                              return t.destroy();
                            }),
                            (this.tempBuffers = []);
                        },
                      },
                      {
                        key: 'beginFrame',
                        value: function () {
                          (this.uploadEncoder = this.device.createCommandEncoder(
                            this.uploadEncoderDescriptor,
                          )),
                            (this.renderEncoder = this.device.createCommandEncoder(
                              this.renderEncoderDescriptor,
                            )),
                            (this.renderTargetEncoder = this.device.createCommandEncoder(
                              this.renderTargetEncoderDescriptor,
                            )),
                            this.options.supportCompute &&
                              (this.computeEncoder = this.device.createCommandEncoder(
                                this.computeEncoderDescriptor,
                              ));
                        },
                      },
                      {
                        key: 'endFrame',
                        value: function () {
                          this.options.supportCompute && this.endComputePass(),
                            this.endMainRenderPass(),
                            (this.commandBuffers[0] = this.uploadEncoder.finish()),
                            (this.commandBuffers[1] = this.renderEncoder.finish()),
                            this.options.supportCompute &&
                              (this.commandBuffers[2] = this.computeEncoder.finish()),
                            (this.commandBuffers[3] = this.renderTargetEncoder.finish()),
                            xr
                              ? this.device.getQueue().submit(
                                  this.commandBuffers.filter(function (t) {
                                    return t;
                                  }),
                                )
                              : this.device.defaultQueue.submit(
                                  this.commandBuffers.filter(function (t) {
                                    return t;
                                  }),
                                );
                        },
                      },
                      {
                        key: 'getCurrentRenderPass',
                        value: function () {
                          return (
                            this.currentRenderTarget && !this.currentRenderPass
                              ? this.startRenderTargetRenderPass(
                                  this.currentRenderTarget,
                                  null,
                                  !1,
                                  !1,
                                )
                              : this.currentRenderPass || this.startMainRenderPass(),
                            this.currentRenderPass
                          );
                        },
                      },
                      {
                        key: 'initGlslang',
                        value:
                          ((e = h(
                            c().mark(function t() {
                              var e, n;
                              return c().wrap(
                                function (t) {
                                  for (;;)
                                    switch ((t.prev = t.next)) {
                                      case 0:
                                        return (t.next = 2), Po();
                                      case 2:
                                        return (
                                          (this.glslang = t.sent),
                                          (t.next = 5),
                                          null === (e = navigator) ||
                                          void 0 === e ||
                                          null === (n = e.gpu) ||
                                          void 0 === n
                                            ? void 0
                                            : n.requestAdapter()
                                        );
                                      case 5:
                                        return (
                                          (this.adapter = t.sent),
                                          (t.next = 8),
                                          this.adapter.requestDevice()
                                        );
                                      case 8:
                                        this.device = t.sent;
                                      case 9:
                                      case 'end':
                                        return t.stop();
                                    }
                                },
                                t,
                                this,
                              );
                            }),
                          )),
                          function () {
                            return e.apply(this, arguments);
                          }),
                      },
                      {
                        key: 'initContextAndSwapChain',
                        value: function () {
                          (this.context = this.canvas.getContext(xr ? 'gpu' : 'gpupresent')),
                            (this.swapChain = this.context.configureSwapChain({
                              device: this.device,
                              format: this.options.swapChainFormat,
                              usage: Xr.v2.OutputAttachment | Xr.v2.CopySrc,
                            }));
                        },
                      },
                      {
                        key: 'initMainAttachments',
                        value: function () {
                          if (
                            ((this.mainTextureExtends = {
                              width: this.canvas.width,
                              height: this.canvas.height,
                              depth: 1,
                            }),
                            this.options.antialiasing)
                          ) {
                            var t = {
                              size: this.mainTextureExtends,
                              mipLevelCount: 1,
                              sampleCount: this.mainPassSampleCount,
                              dimension: Xr.kd.E2d,
                              format: Xr.EV.BGRA8Unorm,
                              usage: Xr.v2.OutputAttachment,
                            };
                            this.mainTexture && this.mainTexture.destroy(),
                              (this.mainTexture = this.device.createTexture(t)),
                              (this.mainColorAttachments = [
                                {
                                  attachment: xr
                                    ? this.mainTexture.createDefaultView()
                                    : this.mainTexture.createView(),
                                  loadValue: [0, 0, 0, 1],
                                  storeOp: Xr.EG.Store,
                                },
                              ]);
                          } else
                            this.mainColorAttachments = [
                              {
                                attachment: xr
                                  ? this.swapChain.getCurrentTexture().createDefaultView()
                                  : this.swapChain.getCurrentTexture().createView(),
                                loadValue: [0, 0, 0, 1],
                                storeOp: Xr.EG.Store,
                              },
                            ];
                          var e = {
                            size: this.mainTextureExtends,
                            mipLevelCount: 1,
                            sampleCount: this.mainPassSampleCount,
                            dimension: Xr.kd.E2d,
                            format: xr ? 'depth32float-stencil8' : Xr.EV.Depth24PlusStencil8,
                            usage: Xr.v2.OutputAttachment,
                          };
                          this.depthTexture && this.depthTexture.destroy(),
                            (this.depthTexture = this.device.createTexture(e)),
                            (this.mainDepthAttachment = {
                              attachment: xr
                                ? this.depthTexture.createDefaultView()
                                : this.depthTexture.createView(),
                              depthLoadValue: this.clearDepthValue,
                              depthStoreOp: Xr.EG.Store,
                              stencilLoadValue: this.clearStencilValue,
                              stencilStoreOp: Xr.EG.Store,
                            });
                        },
                      },
                      {
                        key: 'startComputePass',
                        value: function () {
                          this.currentComputePass && this.endComputePass(),
                            (this.currentComputePass = this.computeEncoder.beginComputePass());
                        },
                      },
                      {
                        key: 'startMainRenderPass',
                        value: function () {
                          this.currentRenderPass &&
                            !this.currentRenderTarget &&
                            this.endMainRenderPass(),
                            this.options.antialiasing
                              ? (this.mainColorAttachments[0].resolveTarget = xr
                                  ? this.swapChain.getCurrentTexture().createDefaultView()
                                  : this.swapChain.getCurrentTexture().createView())
                              : (this.mainColorAttachments[0].attachment = xr
                                  ? this.swapChain.getCurrentTexture().createDefaultView()
                                  : this.swapChain.getCurrentTexture().createView()),
                            (this.currentRenderPass = this.renderEncoder.beginRenderPass({
                              colorAttachments: this.mainColorAttachments,
                              depthStencilAttachment: this.mainDepthAttachment,
                            })),
                            (this.mainRenderPass = this.currentRenderPass),
                            this.cachedViewport && this.viewport(this.cachedViewport);
                        },
                      },
                      {
                        key: 'startRenderTargetRenderPass',
                        value: function (t, e, n) {
                          var r,
                            i,
                            o,
                            a = arguments.length > 3 && void 0 !== arguments[3] && arguments[3],
                            s = null === (r = t.get().color) || void 0 === r ? void 0 : r.texture;
                          s && (o = s.createView(this.currentRenderTargetViewDescriptor));
                          var u,
                            c = null === (i = t.get().depth) || void 0 === i ? void 0 : i.texture;
                          c && (u = c.createView());
                          var l = this.renderTargetEncoder.beginRenderPass({
                            colorAttachments: [
                              {
                                attachment: o,
                                loadValue: null !== e ? e : Xr.Ws.Load,
                                storeOp: Xr.EG.Store,
                              },
                            ],
                            depthStencilAttachment:
                              c && u
                                ? {
                                    attachment: u,
                                    depthLoadValue: n ? this.clearDepthValue : Xr.Ws.Load,
                                    depthStoreOp: Xr.EG.Store,
                                    stencilLoadValue: a ? this.clearStencilValue : Xr.Ws.Load,
                                    stencilStoreOp: Xr.EG.Store,
                                  }
                                : void 0,
                          });
                          (this.currentRenderPass = l),
                            this.cachedViewport && this.viewport(this.cachedViewport);
                        },
                      },
                      {
                        key: 'endMainRenderPass',
                        value: function () {
                          this.currentRenderPass === this.mainRenderPass &&
                            null !== this.currentRenderPass &&
                            (this.currentRenderPass.endPass(),
                            this.resetCachedViewport(),
                            (this.currentRenderPass = null),
                            (this.mainRenderPass = null));
                        },
                      },
                      {
                        key: 'endComputePass',
                        value: function () {
                          this.currentComputePass &&
                            (this.currentComputePass.endPass(), (this.currentComputePass = null));
                        },
                      },
                      {
                        key: 'endRenderTargetRenderPass',
                        value: function () {
                          this.currentRenderPass &&
                            (this.currentRenderPass.endPass(), this.resetCachedViewport());
                        },
                      },
                      {
                        key: 'resetCachedViewport',
                        value: function () {
                          this.cachedViewport = { x: 0, y: 0, width: 0, height: 0 };
                        },
                      },
                      {
                        key: 'unbindFramebuffer',
                        value: function (t) {
                          this.currentRenderPass &&
                            this.currentRenderPass !== this.mainRenderPass &&
                            this.endRenderTargetRenderPass(),
                            (this.transientViewport.x = 1 / 0),
                            (this.currentRenderTarget = null),
                            (this.currentRenderPass = this.mainRenderPass);
                        },
                      },
                    ]),
                    t
                  );
                })()),
                (oa = aa)),
              ) || oa;
          var ha,
            fa = 4 / 64,
            da =
              (0, b.b2)()(
                (sa = (function (t) {
                  M(o, t);
                  var e,
                    n,
                    r =
                      ((e = o),
                      (n = (function () {
                        if ('undefined' == typeof Reflect || !Reflect.construct) return !1;
                        if (Reflect.construct.sham) return !1;
                        if ('function' == typeof Proxy) return !0;
                        try {
                          return (
                            Date.prototype.toString.call(
                              Reflect.construct(Date, [], function () {}),
                            ),
                            !0
                          );
                        } catch (t) {
                          return !1;
                        }
                      })()),
                      function () {
                        var t,
                          r = I(e);
                        if (n) {
                          var i = I(this).constructor;
                          t = Reflect.construct(r, arguments, i);
                        } else t = r.apply(this, arguments);
                        return C(this, t);
                      });
                  function o() {
                    return i(this, o), r.apply(this, arguments);
                  }
                  return (
                    a(o, [
                      {
                        key: 'onEntityCreated',
                        value: function () {
                          var t = this.config,
                            e = t.widthSegments,
                            n = void 0 === e ? 1 : e,
                            r = t.heightSegments,
                            i = void 0 === r ? 1 : r,
                            o = t.depthSegments,
                            a = void 0 === o ? 1 : o,
                            s = t.halfExtents,
                            u = n,
                            c = i,
                            l = a,
                            h = m(void 0 === s ? H.fromValues(0.5, 0.5, 0.5) : s, 3),
                            f = h[0],
                            d = h[1],
                            p = h[2],
                            g = [
                              H.fromValues(-f, -d, p),
                              H.fromValues(f, -d, p),
                              H.fromValues(f, d, p),
                              H.fromValues(-f, d, p),
                              H.fromValues(f, -d, -p),
                              H.fromValues(-f, -d, -p),
                              H.fromValues(-f, d, -p),
                              H.fromValues(f, d, -p),
                            ],
                            v = [
                              [0, 1, 3],
                              [4, 5, 7],
                              [3, 2, 6],
                              [1, 0, 4],
                              [1, 4, 2],
                              [5, 0, 6],
                            ],
                            y = [
                              [0, 0, 1],
                              [0, 0, -1],
                              [0, 1, 0],
                              [0, -1, 0],
                              [1, 0, 0],
                              [-1, 0, 0],
                            ],
                            b = [],
                            x = [],
                            _ = [],
                            w = [],
                            E = [],
                            S = 0,
                            M = function (t, e, n) {
                              var r, i, o, a;
                              for (o = 0; o <= e; o++)
                                for (a = 0; a <= n; a++) {
                                  var s = H.create(),
                                    u = H.create(),
                                    c = H.create(),
                                    l = H.create();
                                  H.lerp(s, g[v[t][0]], g[v[t][1]], o / e),
                                    H.lerp(u, g[v[t][0]], g[v[t][2]], a / n),
                                    H.sub(c, u, g[v[t][0]]),
                                    H.add(l, s, c),
                                    (r = o / e),
                                    (i = a / n),
                                    b.push(l[0], l[1], l[2]),
                                    x.push(y[t][0], y[t][1], y[t][2]),
                                    _.push(r, i),
                                    (r = 0.875 * (r /= 3) + fa),
                                    (i = 0.875 * (i /= 3) + fa),
                                    (r += (t % 3) / 3),
                                    (i += Math.floor(t / 3) / 3),
                                    w.push(r, i),
                                    o < e &&
                                      a < n &&
                                      (E.push(S + n + 1, S + 1, S),
                                      E.push(S + n + 1, S + n + 2, S + 1)),
                                    S++;
                                }
                            };
                          M(0, u, c), M(1, u, c), M(2, u, l), M(3, u, l), M(4, l, c), M(5, l, c);
                          var k = pr(b),
                            A = this.getComponent();
                          (A.indices = Uint32Array.from(E)),
                            (A.aabb = k),
                            (A.vertexCount = S),
                            (A.attributes = [
                              {
                                dirty: !0,
                                name: 'position',
                                data: Float32Array.from(b),
                                arrayStride: 12,
                                stepMode: 'vertex',
                                attributes: [{ shaderLocation: 0, offset: 0, format: 'float3' }],
                              },
                              {
                                dirty: !0,
                                name: 'normal',
                                data: Float32Array.from(x),
                                arrayStride: 12,
                                stepMode: 'vertex',
                                attributes: [{ shaderLocation: 1, offset: 0, format: 'float3' }],
                              },
                              {
                                dirty: !0,
                                name: 'uv',
                                data: Float32Array.from(_),
                                arrayStride: 8,
                                stepMode: 'vertex',
                                attributes: [{ shaderLocation: 2, offset: 0, format: 'float2' }],
                              },
                            ]);
                        },
                      },
                    ]),
                    o
                  );
                })(Yr)),
              ) || sa;
          var pa,
            ga =
              (0, b.b2)()(
                (ha = (function (t) {
                  M(o, t);
                  var e,
                    n,
                    r =
                      ((e = o),
                      (n = (function () {
                        if ('undefined' == typeof Reflect || !Reflect.construct) return !1;
                        if (Reflect.construct.sham) return !1;
                        if ('function' == typeof Proxy) return !0;
                        try {
                          return (
                            Date.prototype.toString.call(
                              Reflect.construct(Date, [], function () {}),
                            ),
                            !0
                          );
                        } catch (t) {
                          return !1;
                        }
                      })()),
                      function () {
                        var t,
                          r = I(e);
                        if (n) {
                          var i = I(this).constructor;
                          t = Reflect.construct(r, arguments, i);
                        } else t = r.apply(this, arguments);
                        return C(this, t);
                      });
                  function o() {
                    return i(this, o), r.apply(this, arguments);
                  }
                  return (
                    a(o, [
                      {
                        key: 'onEntityCreated',
                        value: function () {
                          var t = this.config.geometries,
                            e = void 0 === t ? [] : t,
                            n = this.getComponent();
                          n.aabb = new Ct();
                          var r = [],
                            i = [],
                            o = 0;
                          e.forEach(function (t) {
                            var e = t.aabb,
                              a = t.indices,
                              s = t.vertexCount,
                              u = t.attributes;
                            n.aabb.add(e),
                              (n.vertexCount += s),
                              a &&
                                i.push.apply(
                                  i,
                                  lo(
                                    a.map(function (t) {
                                      return t + o;
                                    }),
                                  ),
                                ),
                              (o += s),
                              u.forEach(function (t, e) {
                                r[e]
                                  ? t.data &&
                                    (_r(t.data)
                                      ? r[e].push(t.data)
                                      : oi(t.data)
                                      ? (r[e].data = (function (t, e) {
                                          if (!t && !e)
                                            throw new Error(
                                              'Please specify valid arguments for parameters a and b.',
                                            );
                                          if (!e || 0 === e.length) return t;
                                          if (!t || 0 === t.length) return e;
                                          if (
                                            Object.prototype.toString.call(t) !==
                                            Object.prototype.toString.call(e)
                                          )
                                            throw new Error(
                                              'The types of the two arguments passed for parameters a and b do not match.',
                                            );
                                          var n = new t.constructor(t.length + e.length);
                                          return n.set(t), n.set(e, t.length), n;
                                        })(r[e].data, t.data))
                                      : (r[e].data = r[e].data.concat(t.data)))
                                  : ((r[e] = t), (r[e].dirty = !0));
                              });
                          }),
                            (n.attributes = r),
                            (n.indices = Uint32Array.from(i)),
                            (n.dirty = !0);
                        },
                      },
                    ]),
                    o
                  );
                })(Yr)),
              ) || ha;
          var va,
            ya =
              (0, b.b2)()(
                (pa = (function (t) {
                  M(o, t);
                  var e,
                    n,
                    r =
                      ((e = o),
                      (n = (function () {
                        if ('undefined' == typeof Reflect || !Reflect.construct) return !1;
                        if (Reflect.construct.sham) return !1;
                        if ('function' == typeof Proxy) return !0;
                        try {
                          return (
                            Date.prototype.toString.call(
                              Reflect.construct(Date, [], function () {}),
                            ),
                            !0
                          );
                        } catch (t) {
                          return !1;
                        }
                      })()),
                      function () {
                        var t,
                          r = I(e);
                        if (n) {
                          var i = I(this).constructor;
                          t = Reflect.construct(r, arguments, i);
                        } else t = r.apply(this, arguments);
                        return C(this, t);
                      });
                  function o() {
                    return i(this, o), r.apply(this, arguments);
                  }
                  return (
                    a(o, [
                      {
                        key: 'onEntityCreated',
                        value: function () {
                          for (
                            var t = this.config,
                              e = t.halfExtents,
                              n = void 0 === e ? [0.5, 0.5] : e,
                              r = t.widthSegments,
                              i = void 0 === r ? 5 : r,
                              o = t.lengthSegments,
                              a = void 0 === o ? 5 : o,
                              s = [],
                              u = [],
                              c = [],
                              l = [],
                              h = 0,
                              f = 0;
                            f <= i;
                            f++
                          )
                            for (var d = 0; d <= a; d++) {
                              var p = -n[0] + (2 * n[0] * f) / i,
                                g = -(-n[1] + (2 * n[1] * d) / a),
                                v = f / i,
                                y = d / a;
                              s.push(p, 0, g),
                                u.push(0, 1, 0),
                                c.push(v, y),
                                f < i &&
                                  d < a &&
                                  (l.push(h + a + 1, h + 1, h),
                                  l.push(h + a + 1, h + a + 2, h + 1)),
                                h++;
                            }
                          var m = pr(s),
                            b = this.getComponent();
                          (b.indices = Uint32Array.from(l)),
                            (b.aabb = m),
                            (b.vertexCount = h),
                            (b.attributes = [
                              {
                                dirty: !0,
                                name: 'position',
                                data: Float32Array.from(s),
                                arrayStride: 12,
                                stepMode: 'vertex',
                                attributes: [{ shaderLocation: 0, offset: 0, format: 'float3' }],
                              },
                              {
                                dirty: !0,
                                name: 'normal',
                                data: Float32Array.from(u),
                                arrayStride: 12,
                                stepMode: 'vertex',
                                attributes: [{ shaderLocation: 1, offset: 0, format: 'float3' }],
                              },
                              {
                                dirty: !0,
                                name: 'uv',
                                data: Float32Array.from(c),
                                arrayStride: 8,
                                stepMode: 'vertex',
                                attributes: [{ shaderLocation: 2, offset: 0, format: 'float2' }],
                              },
                            ]);
                        },
                      },
                    ]),
                    o
                  );
                })(Yr)),
              ) || pa;
          var ma,
            ba,
            xa,
            _a,
            wa,
            Ea,
            Sa,
            Ma,
            ka =
              (0, b.b2)()(
                (va = (function (t) {
                  M(o, t);
                  var e,
                    n,
                    r =
                      ((e = o),
                      (n = (function () {
                        if ('undefined' == typeof Reflect || !Reflect.construct) return !1;
                        if (Reflect.construct.sham) return !1;
                        if ('function' == typeof Proxy) return !0;
                        try {
                          return (
                            Date.prototype.toString.call(
                              Reflect.construct(Date, [], function () {}),
                            ),
                            !0
                          );
                        } catch (t) {
                          return !1;
                        }
                      })()),
                      function () {
                        var t,
                          r = I(e);
                        if (n) {
                          var i = I(this).constructor;
                          t = Reflect.construct(r, arguments, i);
                        } else t = r.apply(this, arguments);
                        return C(this, t);
                      });
                  function o() {
                    return i(this, o), r.apply(this, arguments);
                  }
                  return (
                    a(o, [
                      {
                        key: 'onEntityCreated',
                        value: function () {
                          for (
                            var t = this.config,
                              e = t.radius,
                              n = void 0 === e ? 0.5 : e,
                              r = t.latitudeBands,
                              i = void 0 === r ? 16 : r,
                              o = t.longitudeBands,
                              a = void 0 === o ? 16 : o,
                              s = [],
                              u = [],
                              c = [],
                              l = [],
                              h = 0;
                            h <= i;
                            h++
                          )
                            for (
                              var f = (h * Math.PI) / i, d = Math.sin(f), p = Math.cos(f), g = 0;
                              g <= a;
                              g++
                            ) {
                              var v = (2 * g * Math.PI) / a - Math.PI / 2,
                                y = Math.sin(v),
                                m = Math.cos(v) * d,
                                b = p,
                                x = y * d,
                                _ = 1 - g / a,
                                w = 1 - h / i;
                              s.push(m * n, b * n, x * n), u.push(m, b, x), c.push(_, w);
                            }
                          for (var E = 0; E < i; ++E)
                            for (var S = 0; S < a; ++S) {
                              var M = E * (a + 1) + S,
                                k = M + a + 1;
                              l.push(M + 1, k, M), l.push(M + 1, k + 1, k);
                            }
                          var A = pr(s),
                            C = this.getComponent();
                          (C.indices = Uint32Array.from(l)),
                            (C.aabb = A),
                            (C.vertexCount = s.length / 3),
                            (C.attributes = [
                              {
                                dirty: !0,
                                name: 'position',
                                data: Float32Array.from(s),
                                arrayStride: 12,
                                stepMode: 'vertex',
                                attributes: [{ shaderLocation: 0, offset: 0, format: 'float3' }],
                              },
                              {
                                dirty: !0,
                                name: 'normal',
                                data: Float32Array.from(u),
                                arrayStride: 12,
                                stepMode: 'vertex',
                                attributes: [{ shaderLocation: 1, offset: 0, format: 'float3' }],
                              },
                              {
                                dirty: !0,
                                name: 'uv',
                                data: Float32Array.from(c),
                                arrayStride: 8,
                                stepMode: 'vertex',
                                attributes: [{ shaderLocation: 2, offset: 0, format: 'float2' }],
                              },
                            ]);
                        },
                      },
                    ]),
                    o
                  );
                })(Yr)),
              ) || va;
          var Aa,
            Ca,
            Ia,
            Ta,
            Na,
            Pa,
            Oa,
            Da,
            La,
            Ra,
            Ba,
            ja,
            Ga =
              ((ma = (0, b.b2)()),
              (ba = (0, b.f3)(x.RenderEngine)),
              (xa = (0, b.f3)(x.ShaderModuleService)),
              ma(
                ((Ma = (function (t) {
                  M(s, t);
                  var e,
                    n,
                    o =
                      ((e = s),
                      (n = (function () {
                        if ('undefined' == typeof Reflect || !Reflect.construct) return !1;
                        if (Reflect.construct.sham) return !1;
                        if ('function' == typeof Proxy) return !0;
                        try {
                          return (
                            Date.prototype.toString.call(
                              Reflect.construct(Date, [], function () {}),
                            ),
                            !0
                          );
                        } catch (t) {
                          return !1;
                        }
                      })()),
                      function () {
                        var t,
                          r = I(e);
                        if (n) {
                          var i = I(this).constructor;
                          t = Reflect.construct(r, arguments, i);
                        } else t = r.apply(this, arguments);
                        return C(this, t);
                      });
                  function s() {
                    var t;
                    i(this, s);
                    for (var e = arguments.length, n = new Array(e), a = 0; a < e; a++)
                      n[a] = arguments[a];
                    return (
                      r((t = o.call.apply(o, [this].concat(n))), 'engine', Ea, A(t)),
                      r(t, 'shaderModuleService', Sa, A(t)),
                      t
                    );
                  }
                  return (
                    a(s, [
                      {
                        key: 'onEntityCreated',
                        value: function () {
                          var t = this.getComponent(),
                            e = this.engine.supportWebGPU
                              ? 'layout(set = 0, binding = 0) uniform Uniforms {\n  vec4 color;\n  mat4 projectionMatrix;\n  mat4 modelViewMatrix;\n} uniforms;\n\nlayout(location = 0) in vec3 position;\n// layout(location = 1) in vec3 barycentric;\n\nlayout(location = 0) out vec4 fragColor;\n// layout(location = 1) out vec3 v_Barycentric;\n\nvoid main() {\n  gl_Position = uniforms.projectionMatrix * uniforms.modelViewMatrix * vec4(position, 1.0);\n  fragColor = uniforms.color;\n  // v_Barycentric = barycentric;\n}'
                              : 'attribute vec3 position;\nattribute vec3 normal;\n\nuniform mat4 projectionMatrix;\nuniform mat4 modelViewMatrix;\nuniform vec4 color;\n\nvarying vec4 fragColor;\n\n#pragma include "uv.vert.declaration"\n\nvoid main() {\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\n  fragColor = color;\n\n  #pragma include "uv.vert.main"\n}',
                            n = this.engine.supportWebGPU
                              ? '// layout(set = 0, binding = 1) uniform WireframeUniforms {\n//   float lineWidth;\n//   vec4 lineColor;\n// } wireframe;\n\nlayout(location = 0) in vec4 fragColor;\n// layout(location = 1) in vec3 v_Barycentric;\n\nlayout(location = 0) out vec4 outColor;\n\n// wireframe\n// float edgeFactor() {\n//   vec3 d = fwidth(v_Barycentric);\n//   vec3 a3 = smoothstep(vec3(0.0), d * wireframe.lineWidth, v_Barycentric);\n//   return min(min(a3.x, a3.y), a3.z);\n// }\n\nvoid main() {\n  // outColor = mix(fragColor, wireframe.lineColor, (1.0 - edgeFactor()));\n  outColor = fragColor;\n}'
                              : 'varying vec4 fragColor;\n\n#pragma include "uv.frag.declaration"\n#pragma include "map.frag.declaration"\n\nvoid main() {\n  vec4 diffuseColor = fragColor;\n\n  #pragma include "map.frag.main"\n\n  gl_FragColor = diffuseColor;\n}';
                          this.shaderModuleService.registerModule('material-basic', {
                            vs: e,
                            fs: n,
                          });
                          var r = this.shaderModuleService.getModule('material-basic'),
                            i = r.vs,
                            o = r.fs,
                            a = r.uniforms;
                          (t.vertexShaderGLSL = i),
                            (t.fragmentShaderGLSL = o),
                            t.setUniform(a),
                            this.config.map &&
                              (t.setDefines({ USE_UV: 1, USE_MAP: 1 }),
                              t.setUniform({ map: this.config.map, uvTransform: X.create() }));
                        },
                      },
                    ]),
                    s
                  );
                })(Wi)),
                (Ea = s((wa = Ma).prototype, 'engine', [ba], {
                  configurable: !0,
                  enumerable: !0,
                  writable: !0,
                  initializer: null,
                })),
                (Sa = s(wa.prototype, 'shaderModuleService', [xa], {
                  configurable: !0,
                  enumerable: !0,
                  writable: !0,
                  initializer: null,
                })),
                (_a = wa)),
              ) || _a);
          var za,
            Fa,
            Ua,
            Va,
            Wa,
            Ya,
            Xa,
            Ha,
            qa,
            Ka,
            Za,
            $a,
            Qa =
              ((Aa = (0, b.b2)()),
              (Ca = (0, b.f3)(x.Systems)),
              (Ia = (0, b.t6)(x.MaterialSystem)),
              (Ta = (0, b.f3)(x.Systems)),
              (Na = (0, b.t6)(x.GeometrySystem)),
              (Pa = (0, b.f3)(x.ShaderModuleService)),
              Aa(
                ((ja = (function (t) {
                  M(s, t);
                  var e,
                    n,
                    o =
                      ((e = s),
                      (n = (function () {
                        if ('undefined' == typeof Reflect || !Reflect.construct) return !1;
                        if (Reflect.construct.sham) return !1;
                        if ('function' == typeof Proxy) return !0;
                        try {
                          return (
                            Date.prototype.toString.call(
                              Reflect.construct(Date, [], function () {}),
                            ),
                            !0
                          );
                        } catch (t) {
                          return !1;
                        }
                      })()),
                      function () {
                        var t,
                          r = I(e);
                        if (n) {
                          var i = I(this).constructor;
                          t = Reflect.construct(r, arguments, i);
                        } else t = r.apply(this, arguments);
                        return C(this, t);
                      });
                  function s() {
                    var t;
                    i(this, s);
                    for (var e = arguments.length, n = new Array(e), a = 0; a < e; a++)
                      n[a] = arguments[a];
                    return (
                      r((t = o.call.apply(o, [this].concat(n))), 'materialSystem', La, A(t)),
                      r(t, 'geometrySystem', Ra, A(t)),
                      r(t, 'shaderModuleService', Ba, A(t)),
                      t
                    );
                  }
                  return (
                    a(s, [
                      {
                        key: 'onAttributeChanged',
                        value: function (t) {
                          var e = t.name,
                            n = t.data,
                            r = this.getMeshComponent();
                          r &&
                            r.material &&
                            ('gridColor' === e
                              ? (r.material.setUniform('u_GridColor', n),
                                r.material.setUniform('u_GridColor2', n))
                              : 'gridSize' === e &&
                                (r.material.setUniform('u_GridSize', n),
                                r.material.setUniform('u_GridSize2', n)));
                        },
                      },
                      {
                        key: 'onEntityCreated',
                        value: function () {
                          this.shaderModuleService.registerModule('grid', {
                            vs: 'attribute vec3 a_Position;\n\nvarying vec3 v_Position;\n\nuniform mat4 projectionMatrix;\nuniform mat4 modelViewMatrix;\n\nvoid main() {\n  v_Position = a_Position;\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(a_Position, 1.);\n}',
                            fs: '// generate grid, borrow from clay.gl viewer\n// @see https://github.com/pissang/clay-viewer/blob/master/src/graphic/ground.glsl\n#extension GL_OES_standard_derivatives : enable\n\nvarying vec3 v_Position;\n// varying vec3 v_Normal;\n\nuniform float u_GridSize : 5;\nuniform float u_GridSize2 : .5;\nuniform vec4 u_GridColor : [0, 0, 0, 1];\nuniform vec4 u_GridColor2 : [0.3, 0.3, 0.3, 1];\nuniform bool u_GridEnabled : true;\n\n// uniform vec3 u_LightDirection;\n// uniform vec3 u_LightColor;\n// uniform vec3 u_Camera;\n\nvoid main() {\n  // vec3 n = v_Normal;\n  // vec3 l = normalize(u_LightDirection);\n  // float NdotL = clamp(dot(n, l), 0.001, 1.0);\n\n  gl_FragColor = vec4(1.);\n\n  if (u_GridEnabled) {\n    float wx = v_Position.x;\n    float wz = v_Position.z;\n    // float x0 = abs(fract(wx / u_GridSize - 0.5) - 0.5) / fwidth(wx) * u_GridSize / 2.0;\n    // float z0 = abs(fract(wz / u_GridSize - 0.5) - 0.5) / fwidth(wz) * u_GridSize / 2.0;\n\n    float x1 = abs(fract(wx / u_GridSize2 - 0.5) - 0.5) / fwidth(wx) * u_GridSize2;\n    float z1 = abs(fract(wz / u_GridSize2 - 0.5) - 0.5) / fwidth(wz) * u_GridSize2;\n\n    // float v0 = 1.0 - clamp(min(x0, z0), 0.0, 1.0);\n    float v1 = 1.0 - clamp(min(x1, z1), 0.0, 1.0);\n    // if (v0 > 0.1) {\n        // gl_FragColor = mix(gl_FragColor, u_GridColor, v0);\n    // }\n    // else {\n        gl_FragColor = mix(gl_FragColor, u_GridColor2, v1);\n    // }\n  }\n\n  // float shadowFactor = calcShadow(u_ShadowMap, v_PositionFromLight, l, n);\n  // vec3 diffuseColor = u_LightColor * NdotL * shadowFactor;\n\n  // gl_FragColor.rgb *= diffuseColor;\n}',
                          });
                          var t = this.shaderModuleService.getModule('grid'),
                            e = t.vs,
                            n = t.fs,
                            r = t.uniforms,
                            i = this.materialSystem.createShaderMaterial({
                              vertexShader: e,
                              fragmentShader: n,
                            });
                          this.setMaterial(i);
                          var o = this.geometrySystem.createBufferGeometry({ vertexCount: 4 });
                          this.setGeometry(o),
                            i
                              .setCull({ enable: !1, face: J.BACK })
                              .setDepth({ enable: !0, func: J.LESS }),
                            i.setUniform(r),
                            this.setAttributes({
                              gridColor: this.config.gridColor,
                              gridSize: this.config.gridSize,
                            }),
                            o.setIndex([0, 3, 2, 2, 1, 0]),
                            o.setAttribute(
                              'a_Position',
                              Float32Array.from([-4, -1, -4, 4, -1, -4, 4, -1, 4, -4, -1, 4]),
                              {
                                arrayStride: 8,
                                stepMode: 'vertex',
                                attributes: [{ shaderLocation: 0, offset: 0, format: 'float2' }],
                              },
                            );
                        },
                      },
                    ]),
                    s
                  );
                })(Yi)),
                (La = s((Da = ja).prototype, 'materialSystem', [Ca, Ia], {
                  configurable: !0,
                  enumerable: !0,
                  writable: !0,
                  initializer: null,
                })),
                (Ra = s(Da.prototype, 'geometrySystem', [Ta, Na], {
                  configurable: !0,
                  enumerable: !0,
                  writable: !0,
                  initializer: null,
                })),
                (Ba = s(Da.prototype, 'shaderModuleService', [Pa], {
                  configurable: !0,
                  enumerable: !0,
                  writable: !0,
                  initializer: null,
                })),
                (Oa = Da)),
              ) || Oa),
            Ja = n(2644),
            ts = n(582);
          function es(t, e, n, r, i) {
            ns(e, r, -i), ns(e, r, i), t.push(n), t.push(n);
          }
          function ns(t, e, n) {
            t.push([[e[0], e[1]], n]);
          }
          var rs,
            is,
            os,
            as,
            ss,
            us,
            cs,
            ls,
            hs,
            fs,
            ds,
            ps,
            gs =
              ((za = (0, b.b2)()),
              (Fa = (0, b.f3)(x.Systems)),
              (Ua = (0, b.t6)(x.MaterialSystem)),
              (Va = (0, b.f3)(x.Systems)),
              (Wa = (0, b.t6)(x.GeometrySystem)),
              (Ya = (0, b.f3)(x.ShaderModuleService)),
              za(
                (($a = (function (t) {
                  M(s, t);
                  var e,
                    n,
                    o =
                      ((e = s),
                      (n = (function () {
                        if ('undefined' == typeof Reflect || !Reflect.construct) return !1;
                        if (Reflect.construct.sham) return !1;
                        if ('function' == typeof Proxy) return !0;
                        try {
                          return (
                            Date.prototype.toString.call(
                              Reflect.construct(Date, [], function () {}),
                            ),
                            !0
                          );
                        } catch (t) {
                          return !1;
                        }
                      })()),
                      function () {
                        var t,
                          r = I(e);
                        if (n) {
                          var i = I(this).constructor;
                          t = Reflect.construct(r, arguments, i);
                        } else t = r.apply(this, arguments);
                        return C(this, t);
                      });
                  function s() {
                    var t;
                    i(this, s);
                    for (var e = arguments.length, n = new Array(e), a = 0; a < e; a++)
                      n[a] = arguments[a];
                    return (
                      r((t = o.call.apply(o, [this].concat(n))), 'materialSystem', qa, A(t)),
                      r(t, 'geometrySystem', Ka, A(t)),
                      r(t, 'shaderModuleService', Za, A(t)),
                      (t.vertexCount = void 0),
                      t
                    );
                  }
                  return (
                    a(s, [
                      {
                        key: 'onAttributeChanged',
                        value: function (t) {
                          var e = t.name,
                            n = t.data,
                            r = this.getMeshComponent();
                          if (r && r.material)
                            switch (e) {
                              case 'dashArray':
                                r.material.setUniform('u_dash_array', n);
                                break;
                              case 'dashOffset':
                                r.material.setUniform('u_dash_offset', n);
                                break;
                              case 'dashRatio':
                                r.material.setUniform('u_dash_ratio', n);
                                break;
                              case 'thickness':
                                r.material.setUniform('u_thickness', n);
                                break;
                              case 'color':
                                var i = new Array(this.vertexCount)
                                  .fill(void 0)
                                  .map(function () {
                                    return n;
                                  })
                                  .reduce(function (t, e) {
                                    return [].concat(lo(t), lo(e));
                                  }, []);
                                r.geometry.setAttribute('a_color', Float32Array.from(i), {
                                  arrayStride: 16,
                                  stepMode: 'vertex',
                                  attributes: [{ shaderLocation: 1, offset: 0, format: 'float4' }],
                                });
                            }
                        },
                      },
                      {
                        key: 'onEntityCreated',
                        value: function () {
                          var t = this;
                          this.shaderModuleService.registerModule('line', {
                            vs: 'attribute vec2 a_pos;\nattribute vec4 a_color;\nattribute float a_line_miter;\nattribute vec2 a_line_normal;\nattribute float a_counters;\n\nuniform mat4 projectionMatrix;\nuniform mat4 modelViewMatrix;\nuniform float u_thickness : 0.02;\nuniform vec2 u_viewport;\n\nvarying vec4 v_color;\nvarying vec2 v_normal;\nvarying float v_counters;\n\nvoid main() {\n  v_color = a_color;\n  v_counters = a_counters;\n\n  vec3 normal = normalize(vec3(a_line_normal, 0.0));\n\n  vec4 offset = vec4(normal * u_thickness / 2.0 * a_line_miter, 0.0);\n\n  v_normal = vec2(normal * sign(a_line_miter));\n\n  gl_Position = projectionMatrix * modelViewMatrix * vec4(a_pos, 0.0, 1.0) + offset;\n}\n',
                            fs: 'uniform float u_dash_array : 0.02;\nuniform float u_dash_offset : 0;\nuniform float u_dash_ratio : 0;\nuniform float u_thickness : 0.02;\n\nvarying vec4 v_color;\nvarying vec2 v_normal;\nvarying float v_counters;\n\nvoid main() {\n    float blur = 1. - smoothstep(0.98, 1., length(v_normal));\n\n    gl_FragColor = v_color;\n    gl_FragColor.a *= blur * ceil(mod(v_counters + u_dash_offset, u_dash_array) - (u_dash_array * u_dash_ratio));\n}',
                          });
                          var e = this.shaderModuleService.getModule('line'),
                            n = e.vs,
                            r = e.fs,
                            i = e.uniforms,
                            o = this.materialSystem.createShaderMaterial({
                              vertexShader: n,
                              fragmentShader: r,
                            }),
                            a = (function (t, e, n) {
                              for (
                                var r = [0, 0],
                                  i = [0, 0],
                                  o = [0, 0],
                                  a = [0, 0],
                                  s = -1,
                                  u = !1,
                                  c = null,
                                  l = (0, Ja.create)(),
                                  h = 0,
                                  f = [],
                                  d = [],
                                  p = [],
                                  g = [0, 0],
                                  v = t.length,
                                  y = 1;
                                y < v;
                                y++
                              ) {
                                var m = h,
                                  b = t[y - 1],
                                  x = t[y],
                                  _ = y < t.length - 1 ? t[y + 1] : null;
                                if (
                                  (g.push(y / v, y / v),
                                  (0, ts.o7)(r, x, b),
                                  c || ((c = [0, 0]), (0, ts.mJ)(c, r)),
                                  u || ((u = !0), es(d, f, b, c, 1)),
                                  p.push([m + 0, m + 1, m + 2]),
                                  _)
                                ) {
                                  (0, ts.o7)(i, _, x);
                                  var w = (0, ts.x7)(o, a, r, i, 1),
                                    E = (0, Ja.dot)(o, c) < 0 ? -1 : 1,
                                    S = w > 3;
                                  if (!isFinite(w)) {
                                    (0, ts.mJ)(c, r),
                                      es(d, f, x, c, 1),
                                      p.push(1 === s ? [m, m + 2, m + 3] : [m + 2, m + 1, m + 3]),
                                      (h += 2),
                                      (s = E);
                                    continue;
                                  }
                                  S
                                    ? ((w = 3),
                                      g.push(y / v),
                                      ns(f, c, -E),
                                      d.push(x),
                                      ns(f, a, w * E),
                                      d.push(x),
                                      p.push(s !== -E ? [m, m + 2, m + 3] : [m + 2, m + 1, m + 3]),
                                      p.push([m + 2, m + 3, m + 4]),
                                      (0, ts.mJ)(l, i),
                                      (0, Ja.copy)(c, l),
                                      ns(f, c, -E),
                                      d.push(x),
                                      (h += 3))
                                    : (es(d, f, x, a, w),
                                      p.push(1 === s ? [m, m + 2, m + 3] : [m + 2, m + 1, m + 3]),
                                      (E = -1),
                                      (0, Ja.copy)(c, a),
                                      (h += 2)),
                                    (s = E);
                                } else
                                  (0, ts.mJ)(c, r),
                                    es(d, f, x, c, 1),
                                    p.push(1 === s ? [m, m + 2, m + 3] : [m + 2, m + 1, m + 3]),
                                    (h += 2);
                              }
                              return { normals: f, attrIndex: p, attrPos: d, attrCounters: g };
                            })(this.config.points),
                            s = a.normals,
                            u = a.attrIndex,
                            c = a.attrPos,
                            l = a.attrCounters,
                            h = c.length;
                          this.vertexCount = h;
                          var f = this.geometrySystem.createBufferGeometry({ vertexCount: h });
                          this.setMaterial(o),
                            this.setGeometry(f),
                            o.setCull({ enable: !1, face: J.BACK }).setUniform(i),
                            this.setAttributes({
                              dashArray: this.config.dashArray,
                              dashOffset: this.config.dashOffset,
                              dashRatio: this.config.dashRatio,
                              thickness: this.config.thickness,
                            });
                          var d = [],
                            p = [];
                          s.forEach(function (t) {
                            var e = t[0],
                              n = t[1];
                            d.push([e[0], e[1]]), p.push(n);
                          }),
                            f.setIndex(
                              u.reduce(function (t, e) {
                                return [].concat(lo(t), lo(e));
                              }, []),
                            ),
                            f.setAttribute(
                              'a_pos',
                              Float32Array.from(
                                c.reduce(function (t, e) {
                                  return [].concat(lo(t), lo(e));
                                }, []),
                              ),
                              {
                                arrayStride: 8,
                                stepMode: 'vertex',
                                attributes: [{ shaderLocation: 0, offset: 0, format: 'float2' }],
                              },
                            );
                          var g = new Array(h)
                            .fill(void 0)
                            .map(function () {
                              return lo(t.config.color);
                            })
                            .reduce(function (t, e) {
                              return [].concat(lo(t), lo(e));
                            }, []);
                          f.setAttribute('a_color', Float32Array.from(g), {
                            arrayStride: 16,
                            stepMode: 'vertex',
                            attributes: [{ shaderLocation: 1, offset: 0, format: 'float4' }],
                          }),
                            f.setAttribute('a_line_miter', Float32Array.from(p), {
                              arrayStride: 4,
                              stepMode: 'vertex',
                              attributes: [{ shaderLocation: 2, offset: 0, format: 'float' }],
                            }),
                            f.setAttribute(
                              'a_line_normal',
                              Float32Array.from(
                                d.reduce(function (t, e) {
                                  return [].concat(lo(t), lo(e));
                                }, []),
                              ),
                              {
                                arrayStride: 8,
                                stepMode: 'vertex',
                                attributes: [{ shaderLocation: 3, offset: 0, format: 'float2' }],
                              },
                            ),
                            f.setAttribute('a_counters', Float32Array.from(l), {
                              arrayStride: 4,
                              stepMode: 'vertex',
                              attributes: [{ shaderLocation: 4, offset: 0, format: 'float' }],
                            });
                        },
                      },
                    ]),
                    s
                  );
                })(Yi)),
                (qa = s((Ha = $a).prototype, 'materialSystem', [Fa, Ua], {
                  configurable: !0,
                  enumerable: !0,
                  writable: !0,
                  initializer: null,
                })),
                (Ka = s(Ha.prototype, 'geometrySystem', [Va, Wa], {
                  configurable: !0,
                  enumerable: !0,
                  writable: !0,
                  initializer: null,
                })),
                (Za = s(Ha.prototype, 'shaderModuleService', [Ya], {
                  configurable: !0,
                  enumerable: !0,
                  writable: !0,
                  initializer: null,
                })),
                (Xa = Ha)),
              ) || Xa);
          function vs(t, e) {
            var n = Object.keys(t);
            if (Object.getOwnPropertySymbols) {
              var r = Object.getOwnPropertySymbols(t);
              e &&
                (r = r.filter(function (e) {
                  return Object.getOwnPropertyDescriptor(t, e).enumerable;
                })),
                n.push.apply(n, r);
            }
            return n;
          }
          var ys,
            ms,
            bs,
            xs,
            _s,
            ws,
            Es,
            Ss,
            Ms,
            ks,
            As = [
              'circle',
              'triangle',
              'square',
              'pentagon',
              'hexagon',
              'octogon',
              'hexagram',
              'rhombus',
              'vesica',
            ],
            Cs =
              ((rs = (0, b.b2)()),
              (is = (0, b.f3)(x.Systems)),
              (os = (0, b.t6)(x.MaterialSystem)),
              (as = (0, b.f3)(x.Systems)),
              (ss = (0, b.t6)(x.GeometrySystem)),
              (us = (0, b.f3)(x.ShaderModuleService)),
              rs(
                ((ps = (function (t) {
                  M(s, t);
                  var e,
                    n,
                    o =
                      ((e = s),
                      (n = (function () {
                        if ('undefined' == typeof Reflect || !Reflect.construct) return !1;
                        if (Reflect.construct.sham) return !1;
                        if ('function' == typeof Proxy) return !0;
                        try {
                          return (
                            Date.prototype.toString.call(
                              Reflect.construct(Date, [], function () {}),
                            ),
                            !0
                          );
                        } catch (t) {
                          return !1;
                        }
                      })()),
                      function () {
                        var t,
                          r = I(e);
                        if (n) {
                          var i = I(this).constructor;
                          t = Reflect.construct(r, arguments, i);
                        } else t = r.apply(this, arguments);
                        return C(this, t);
                      });
                  function s() {
                    var t;
                    i(this, s);
                    for (var e = arguments.length, n = new Array(e), a = 0; a < e; a++)
                      n[a] = arguments[a];
                    return (
                      r((t = o.call.apply(o, [this].concat(n))), 'materialSystem', hs, A(t)),
                      r(t, 'geometrySystem', fs, A(t)),
                      r(t, 'shaderModuleService', ds, A(t)),
                      t
                    );
                  }
                  return (
                    a(s, [
                      {
                        key: 'onAttributeChanged',
                        value: function (t) {
                          var e = t.name,
                            n = t.data,
                            r = this.getMeshComponent();
                          r &&
                            r.material &&
                            ('strokeWidth' === e
                              ? r.material.setUniform('u_stroke_width', n)
                              : 'strokeColor' === e
                              ? r.material.setUniform('u_stroke_color', n)
                              : 'strokeOpacity' === e
                              ? r.material.setUniform('u_stroke_opacity', n)
                              : 'opacity' === e
                              ? r.material.setUniform('u_opacity', n)
                              : 'blur' === e && r.material.setUniform('u_blur', n));
                        },
                      },
                      {
                        key: 'onEntityCreated',
                        value: function () {
                          this.shaderModuleService.registerModule('grid', {
                            vs: 'attribute vec2 position;\nattribute vec4 color;\nattribute float shape;\nattribute vec2 offset;\nattribute float size;\n\nuniform mat4 projectionMatrix;\nuniform mat4 modelViewMatrix;\n\nuniform float u_stroke_width : 0.01;\nuniform float u_device_pixel_ratio;\nuniform vec2 u_viewport;\n\nvarying vec4 v_color;\nvarying vec4 v_data;\nvarying float v_radius;\n\n#pragma include "picking"\n\nvoid main() {\n  v_color = color;\n  v_radius = size;\n\n  lowp float antialiasblur = 1.0 / u_device_pixel_ratio * (size + u_stroke_width);\n\n  // construct point coords\n  v_data = vec4(position, antialiasblur, shape);\n\n  gl_Position = projectionMatrix * modelViewMatrix\n    * vec4(position * size + offset, 0.0, 1.0);\n\n  setPickingColor(a_PickingColor);\n}',
                            fs: "uniform float u_blur : 0.05;\nuniform float u_opacity : 0.7;\nuniform float u_stroke_width : 0.01;\nuniform vec4 u_stroke_color : [0, 0, 0, 0];\nuniform float u_stroke_opacity : 1;\n\nvarying vec4 v_color;\nvarying vec4 v_data;\nvarying float v_radius;\n\n#pragma include \"sdf2d\"\n#pragma include \"picking\"\n\nvoid main() {\n  int shape = int(floor(v_data.w + 0.5));\n\n  float antialiasblur = v_data.z;\n  float antialiased_blur = -max(u_blur, antialiasblur);\n  float r = v_radius / (v_radius + u_stroke_width);\n\n  float outer_df;\n  float inner_df;\n  // 'circle', 'triangle', 'square', 'pentagon', 'hexagon', 'octogon', 'hexagram', 'rhombus', 'vesica'\n  // if (shape == 0) {\n    outer_df = sdCircle(v_data.xy, 1.0);\n    inner_df = sdCircle(v_data.xy, r);\n  // } else if (shape == 1) {\n  //   outer_df = sdEquilateralTriangle(1.1 * v_data.xy);\n  //   inner_df = sdEquilateralTriangle(1.1 / r * v_data.xy);\n  // } else if (shape == 2) {\n  //   outer_df = sdBox(v_data.xy, vec2(1.));\n  //   inner_df = sdBox(v_data.xy, vec2(r));\n  // } else if (shape == 3) {\n  //   outer_df = sdPentagon(v_data.xy, 0.8);\n  //   inner_df = sdPentagon(v_data.xy, r * 0.8);\n  // } else if (shape == 4) {\n  //   outer_df = sdHexagon(v_data.xy, 0.8);\n  //   inner_df = sdHexagon(v_data.xy, r * 0.8);\n  // } else if (shape == 5) {\n  //   outer_df = sdOctogon(v_data.xy, 1.0);\n  //   inner_df = sdOctogon(v_data.xy, r);\n  // } else if (shape == 6) {\n  //   outer_df = sdHexagram(v_data.xy, 0.52);\n  //   inner_df = sdHexagram(v_data.xy, r * 0.52);\n  // } else if (shape == 7) {\n  //   outer_df = sdRhombus(v_data.xy, vec2(1.0));\n  //   inner_df = sdRhombus(v_data.xy, vec2(r));\n  // } else if (shape == 8) {\n  //   outer_df = sdVesica(v_data.xy, 1.1, 0.8);\n  //   inner_df = sdVesica(v_data.xy, r * 1.1, r * 0.8);\n  // }\n\n  float opacity_t = smoothstep(0.0, antialiased_blur, outer_df);\n\n  float color_t = u_stroke_width < 0.01 ? 0.0 : smoothstep(\n    antialiased_blur,\n    0.0,\n    inner_df\n  );\n  vec4 strokeColor = u_stroke_color == vec4(0) ? v_color : u_stroke_color;\n\n  gl_FragColor = mix(vec4(v_color.rgb, v_color.a * u_opacity), strokeColor * u_stroke_opacity, color_t);\n  gl_FragColor.a = gl_FragColor.a * opacity_t;\n\n  gl_FragColor = filterColor(gl_FragColor);\n}",
                          });
                          var t = this.shaderModuleService.getModule('grid'),
                            e = t.vs,
                            n = t.fs,
                            r = t.uniforms,
                            i = this.materialSystem.createShaderMaterial({
                              vertexShader: e,
                              fragmentShader: n,
                              cull: { enable: !1 },
                              depth: { enable: !1 },
                              blend: {
                                enable: !0,
                                func: {
                                  srcRGB: J.SRC_ALPHA,
                                  dstRGB: J.ONE_MINUS_SRC_ALPHA,
                                  srcAlpha: 1,
                                  dstAlpha: 1,
                                },
                              },
                            });
                          i.setUniform(
                            (function (t) {
                              for (var e = 1; e < arguments.length; e++) {
                                var n = null != arguments[e] ? arguments[e] : {};
                                e % 2
                                  ? vs(Object(n), !0).forEach(function (e) {
                                      F(t, e, n[e]);
                                    })
                                  : Object.getOwnPropertyDescriptors
                                  ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n))
                                  : vs(Object(n)).forEach(function (e) {
                                      Object.defineProperty(
                                        t,
                                        e,
                                        Object.getOwnPropertyDescriptor(n, e),
                                      );
                                    });
                              }
                              return t;
                            })({ u_device_pixel_ratio: window.devicePixelRatio }, r),
                          );
                          var o = this.buildAttributes(),
                            a = this.geometrySystem.createInstancedBufferGeometry({
                              maxInstancedCount: o.instancedOffsets.length / 2,
                              vertexCount: 6,
                            });
                          a.setIndex([0, 2, 1, 0, 3, 2]),
                            a.setAttribute('position', Float32Array.from(o.positions), {
                              arrayStride: 8,
                              stepMode: 'vertex',
                              attributes: [{ shaderLocation: 0, offset: 0, format: 'float2' }],
                            }),
                            a.setAttribute('offset', Float32Array.from(o.instancedOffsets), {
                              arrayStride: 8,
                              stepMode: 'instance',
                              attributes: [{ shaderLocation: 1, offset: 0, format: 'float2' }],
                            }),
                            a.setAttribute('color', Float32Array.from(o.instancedColors), {
                              arrayStride: 16,
                              stepMode: 'instance',
                              attributes: [{ shaderLocation: 2, offset: 0, format: 'float4' }],
                            }),
                            a.setAttribute('size', Float32Array.from(o.instancedSizes), {
                              arrayStride: 4,
                              stepMode: 'instance',
                              attributes: [{ shaderLocation: 3, offset: 0, format: 'float' }],
                            }),
                            a.setAttribute('shape', Float32Array.from(o.instancedShapes), {
                              arrayStride: 4,
                              stepMode: 'instance',
                              attributes: [{ shaderLocation: 4, offset: 0, format: 'float' }],
                            }),
                            a.setAttribute(
                              'a_PickingColor',
                              Float32Array.from(o.instancedPickingColors),
                              {
                                arrayStride: 12,
                                stepMode: 'instance',
                                attributes: [{ shaderLocation: 6, offset: 0, format: 'float3' }],
                              },
                            ),
                            this.setMaterial(i),
                            this.setGeometry(a);
                        },
                      },
                      {
                        key: 'buildAttribute',
                        value: function (t, e, n) {
                          var r, i, o, a, s;
                          (r = e.instancedPickingColors).push.apply(
                            r,
                            lo([
                              ((s = t.id || n) + 1) & 255,
                              ((s + 1) >> 8) & 255,
                              (((s + 1) >> 8) >> 8) & 255,
                            ]),
                          ),
                            e.instancedShapes.push(As.indexOf(t.shape || 'circle')),
                            (i = e.instancedColors).push.apply(i, lo(t.color || [1, 0, 0, 1])),
                            (o = e.instancedOffsets).push.apply(o, lo(t.position || [0, 0])),
                            (a = e.instancedSizes).push.apply(a, lo(t.size || [0.2, 0.2]));
                        },
                      },
                      {
                        key: 'buildAttributes',
                        value: function () {
                          var t = this,
                            e = {
                              positions: [1, 1, 1, -1, -1, -1, -1, 1],
                              instancedOffsets: [],
                              instancedColors: [],
                              instancedSizes: [],
                              instancedShapes: [],
                              instancedPickingColors: [],
                            };
                          return (
                            Array.isArray(this.config)
                              ? this.config.forEach(function (n, r) {
                                  t.buildAttribute(n, e, r);
                                })
                              : this.buildAttribute(this.config, e, 0),
                            e
                          );
                        },
                      },
                    ]),
                    s
                  );
                })(Yi)),
                (hs = s((ls = ps).prototype, 'materialSystem', [is, os], {
                  configurable: !0,
                  enumerable: !0,
                  writable: !0,
                  initializer: null,
                })),
                (fs = s(ls.prototype, 'geometrySystem', [as, ss], {
                  configurable: !0,
                  enumerable: !0,
                  writable: !0,
                  initializer: null,
                })),
                (ds = s(ls.prototype, 'shaderModuleService', [us], {
                  configurable: !0,
                  enumerable: !0,
                  writable: !0,
                  initializer: null,
                })),
                (cs = ls)),
              ) || cs);
          function Is(t, e) {
            var n;
            if ('undefined' == typeof Symbol || null == t[Symbol.iterator]) {
              if (
                Array.isArray(t) ||
                (n = (function (t, e) {
                  if (t) {
                    if ('string' == typeof t) return Ts(t, e);
                    var n = Object.prototype.toString.call(t).slice(8, -1);
                    return (
                      'Object' === n && t.constructor && (n = t.constructor.name),
                      'Map' === n || 'Set' === n
                        ? Array.from(t)
                        : 'Arguments' === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)
                        ? Ts(t, e)
                        : void 0
                    );
                  }
                })(t)) ||
                (e && t && 'number' == typeof t.length)
              ) {
                n && (t = n);
                var r = 0,
                  i = function () {};
                return {
                  s: i,
                  n: function () {
                    return r >= t.length ? { done: !0 } : { done: !1, value: t[r++] };
                  },
                  e: function (t) {
                    throw t;
                  },
                  f: i,
                };
              }
              throw new TypeError(
                'Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.',
              );
            }
            var o,
              a = !0,
              s = !1;
            return {
              s: function () {
                n = t[Symbol.iterator]();
              },
              n: function () {
                var t = n.next();
                return (a = t.done), t;
              },
              e: function (t) {
                (s = !0), (o = t);
              },
              f: function () {
                try {
                  a || null == n.return || n.return();
                } finally {
                  if (s) throw o;
                }
              },
            };
          }
          function Ts(t, e) {
            (null == e || e > t.length) && (e = t.length);
            for (var n = 0, r = new Array(e); n < e; n++) r[n] = t[n];
            return r;
          }
          var Ns,
            Ps,
            Os,
            Ds,
            Ls,
            Rs,
            Bs,
            js,
            Gs,
            zs,
            Fs,
            Us,
            Vs =
              ((ys = (0, b.b2)()),
              (ms = (0, b.f3)(x.RenderEngine)),
              (bs = (0, b.f3)(x.ShaderModuleService)),
              (xs = (0, b.f3)(x.ConfigService)),
              ys(
                ((ks = (function () {
                  function t() {
                    i(this, t),
                      (this.container = void 0),
                      r(this, 'engine', Es, this),
                      r(this, 'shaderModule', Ss, this),
                      r(this, 'configService', Ms, this),
                      (this.inited = !1),
                      (this.rendering = !1),
                      (this.pendings = []),
                      (this.views = []),
                      (this.size = void 0);
                  }
                  var e, n;
                  return (
                    a(t, [
                      {
                        key: 'init',
                        value:
                          ((n = h(
                            c().mark(function t() {
                              var e, n, r, i, o;
                              return c().wrap(
                                function (t) {
                                  for (;;)
                                    switch ((t.prev = t.next)) {
                                      case 0:
                                        if (
                                          (this.shaderModule.registerBuiltinModules(),
                                          this.shaderModule.registerModule('uv.vert.declaration', {
                                            vs: '#ifdef USE_UV\n  attribute vec2 uv;\n\t#ifdef UVS_VERTEX_ONLY\n    vec2 vUv;\n\t#else\n\t\tvarying vec2 vUv;\n\t#endif\n\tuniform mat3 uvTransform;\n#endif',
                                          }),
                                          this.shaderModule.registerModule('uv.vert.main', {
                                            vs: '#ifdef USE_UV\n  vUv = (uvTransform * vec3(uv, 1)).xy;\n#endif',
                                          }),
                                          this.shaderModule.registerModule('uv.frag.declaration', {
                                            fs: '#if (defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ))\n  varying vec2 vUv;\n#endif',
                                          }),
                                          this.shaderModule.registerModule('map.frag.declaration', {
                                            fs: '#ifdef USE_MAP\n  uniform sampler2D map;\n#endif',
                                          }),
                                          this.shaderModule.registerModule('map.frag.main', {
                                            fs: '#ifdef USE_MAP\n  vec4 texelColor = texture2D(map, vUv);\n  // texelColor = mapTexelToLinear(texelColor);\n  diffuseColor *= texelColor;\n#endif',
                                          }),
                                          (e = this.container.getAll(x.Systems)),
                                          !(n = this.configService.get()).canvas)
                                        ) {
                                          t.next = 30;
                                          break;
                                        }
                                        return (
                                          (t.next = 11),
                                          this.engine.init({
                                            canvas: n.canvas,
                                            swapChainFormat: Xr.EV.BGRA8Unorm,
                                            antialiasing: !1,
                                          })
                                        );
                                      case 11:
                                        (r = Is(e)), (t.prev = 12), r.s();
                                      case 14:
                                        if ((i = r.n()).done) {
                                          t.next = 21;
                                          break;
                                        }
                                        if (!(o = i.value).initialize) {
                                          t.next = 19;
                                          break;
                                        }
                                        return (t.next = 19), o.initialize();
                                      case 19:
                                        t.next = 14;
                                        break;
                                      case 21:
                                        t.next = 26;
                                        break;
                                      case 23:
                                        (t.prev = 23), (t.t0 = t.catch(12)), r.e(t.t0);
                                      case 26:
                                        return (t.prev = 26), r.f(), t.finish(26);
                                      case 29:
                                        this.inited = !0;
                                      case 30:
                                      case 'end':
                                        return t.stop();
                                    }
                                },
                                t,
                                this,
                                [[12, 23, 26, 29]],
                              );
                            }),
                          )),
                          function () {
                            return n.apply(this, arguments);
                          }),
                      },
                      {
                        key: 'render',
                        value:
                          ((e = h(
                            c().mark(function t() {
                              var e,
                                n,
                                r,
                                i,
                                o,
                                a,
                                s,
                                u = arguments;
                              return c().wrap(
                                function (t) {
                                  for (;;)
                                    switch ((t.prev = t.next)) {
                                      case 0:
                                        if (this.inited && !this.rendering) {
                                          t.next = 2;
                                          break;
                                        }
                                        return t.abrupt('return');
                                      case 2:
                                        for (
                                          this.pendings.length &&
                                            this.pendings.forEach(function (t) {
                                              t();
                                            }),
                                            this.rendering = !0,
                                            this.engine.beginFrame(),
                                            e = this.container.getAll(x.Systems),
                                            n = u.length,
                                            r = new Array(n),
                                            i = 0;
                                          i < n;
                                          i++
                                        )
                                          r[i] = u[i];
                                        (o = Is(e)), (t.prev = 8), o.s();
                                      case 10:
                                        if ((a = o.n()).done) {
                                          t.next = 17;
                                          break;
                                        }
                                        if (!(s = a.value).execute) {
                                          t.next = 15;
                                          break;
                                        }
                                        return (t.next = 15), s.execute(r);
                                      case 15:
                                        t.next = 10;
                                        break;
                                      case 17:
                                        t.next = 22;
                                        break;
                                      case 19:
                                        (t.prev = 19), (t.t0 = t.catch(8)), o.e(t.t0);
                                      case 22:
                                        return (t.prev = 22), o.f(), t.finish(22);
                                      case 25:
                                        this.engine.endFrame(), (this.rendering = !1);
                                      case 27:
                                      case 'end':
                                        return t.stop();
                                    }
                                },
                                t,
                                this,
                                [[8, 19, 22, 25]],
                              );
                            }),
                          )),
                          function () {
                            return e.apply(this, arguments);
                          }),
                      },
                      {
                        key: 'clear',
                        value: function (t) {
                          var e = this;
                          return (
                            this.inited
                              ? this.engine.clear(t)
                              : this.pendings.unshift(function () {
                                  e.engine.clear(t), e.pendings.shift();
                                }),
                            this
                          );
                        },
                      },
                      {
                        key: 'setSize',
                        value: function (t) {
                          var e = t.width,
                            n = t.height,
                            r = this.engine.getCanvas();
                          return (
                            (this.size = { width: e, height: n }),
                            (r.width = e),
                            (r.height = n),
                            this
                          );
                        },
                      },
                      {
                        key: 'getSize',
                        value: function () {
                          return this.size;
                        },
                      },
                    ]),
                    t
                  );
                })()),
                (Es = s((ws = ks).prototype, 'engine', [ms], {
                  configurable: !0,
                  enumerable: !0,
                  writable: !0,
                  initializer: null,
                })),
                (Ss = s(ws.prototype, 'shaderModule', [bs], {
                  configurable: !0,
                  enumerable: !0,
                  writable: !0,
                  initializer: null,
                })),
                (Ms = s(ws.prototype, 'configService', [xs], {
                  configurable: !0,
                  enumerable: !0,
                  writable: !0,
                  initializer: null,
                })),
                (_s = ws)),
              ) || _s),
            Ws =
              (0, b.b2)()(
                ((Ps = (function () {
                  function t() {
                    i(this, t), (this.entities = []);
                  }
                  return (
                    a(t, [
                      {
                        key: 'getEntities',
                        value: function () {
                          return this.entities;
                        },
                      },
                      {
                        key: 'addRenderable',
                        value: function (t) {
                          return this.addEntity(t.getEntity()), this;
                        },
                      },
                      {
                        key: 'removeRenderable',
                        value: function (t) {
                          return this.removeEntity(t.getEntity()), this;
                        },
                      },
                      { key: 'addLight', value: function () {} },
                      {
                        key: 'addEntity',
                        value: function (t) {
                          return -1 === this.entities.indexOf(t) && this.entities.push(t), this;
                        },
                      },
                      {
                        key: 'removeEntity',
                        value: function (t) {
                          var e = this.entities.indexOf(t);
                          return this.entities.splice(e, 1), this;
                        },
                      },
                    ]),
                    t
                  );
                })()),
                (Ns = Ps)),
              ) || Ns,
            Ys =
              (0, b.b2)()(
                ((Ds = (function () {
                  function t() {
                    i(this, t), (this.cache = {});
                  }
                  return (
                    a(t, [
                      {
                        key: 'get',
                        value: function (t) {
                          return this.cache[t];
                        },
                      },
                      {
                        key: 'set',
                        value: function (t, e) {
                          this.cache[t] = e;
                        },
                      },
                    ]),
                    t
                  );
                })()),
                (Os = Ds)),
              ) || Os;
          function Xs(t, e) {
            var n = Object.keys(t);
            if (Object.getOwnPropertySymbols) {
              var r = Object.getOwnPropertySymbols(t);
              e &&
                (r = r.filter(function (e) {
                  return Object.getOwnPropertyDescriptor(t, e).enumerable;
                })),
                n.push.apply(n, r);
            }
            return n;
          }
          function Hs(t) {
            for (var e = 1; e < arguments.length; e++) {
              var n = null != arguments[e] ? arguments[e] : {};
              e % 2
                ? Xs(Object(n), !0).forEach(function (e) {
                    F(t, e, n[e]);
                  })
                : Object.getOwnPropertyDescriptors
                ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n))
                : Xs(Object(n)).forEach(function (e) {
                    Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e));
                  });
            }
            return t;
          }
          var qs,
            Ks,
            Zs,
            $s,
            Qs,
            Js,
            tu,
            eu,
            nu,
            ru,
            iu,
            ou,
            au,
            su =
              ((Ls = (0, b.b2)()),
              (Rs = (0, b.f3)(Ys)),
              (Bs = (0, b.f3)(x.RenderEngine)),
              Ls(
                ((Us = (function () {
                  function t() {
                    i(this, t),
                      r(this, 'textureCache', zs, this),
                      r(this, 'engine', Fs, this),
                      (this.config = void 0),
                      (this.loaded = !1),
                      (this.texture = void 0);
                  }
                  var e;
                  return (
                    a(t, [
                      {
                        key: 'setConfig',
                        value: function (t) {
                          this.config = t;
                        },
                      },
                      {
                        key: 'isLoaded',
                        value: function () {
                          return this.loaded;
                        },
                      },
                      {
                        key: 'load',
                        value:
                          ((e = h(
                            c().mark(function t() {
                              var e = this;
                              return c().wrap(
                                function (t) {
                                  for (;;)
                                    switch ((t.prev = t.next)) {
                                      case 0:
                                        if (!this.config.url) {
                                          t.next = 4;
                                          break;
                                        }
                                        return t.abrupt(
                                          'return',
                                          new Promise(function (t, n) {
                                            var r = e.textureCache.get(e.config.url);
                                            if (r) t(r);
                                            else {
                                              var i = new Image();
                                              (i.crossOrigin = 'Anonymous'),
                                                (i.src = e.config.url),
                                                (i.onload = function () {
                                                  var n = e.engine.createTexture2D(
                                                    Hs(
                                                      Hs({}, e.config),
                                                      {},
                                                      {
                                                        data: i,
                                                        width: i.width,
                                                        height: i.height,
                                                        flipY: !0,
                                                      },
                                                    ),
                                                  );
                                                  e.textureCache.set(e.config.url, n),
                                                    (e.texture = n),
                                                    (e.loaded = !0),
                                                    t(n);
                                                }),
                                                (i.onerror = function () {
                                                  n();
                                                });
                                            }
                                          }),
                                        );
                                      case 4:
                                        return (
                                          (this.loaded = !0),
                                          (this.texture = this.engine.createTexture2D(this.config)),
                                          t.abrupt('return', this.texture)
                                        );
                                      case 7:
                                      case 'end':
                                        return t.stop();
                                    }
                                },
                                t,
                                this,
                              );
                            }),
                          )),
                          function () {
                            return e.apply(this, arguments);
                          }),
                      },
                    ]),
                    t
                  );
                })()),
                (zs = s((Gs = Us).prototype, 'textureCache', [Rs], {
                  configurable: !0,
                  enumerable: !0,
                  writable: !0,
                  initializer: null,
                })),
                (Fs = s(Gs.prototype, 'engine', [Bs], {
                  configurable: !0,
                  enumerable: !0,
                  writable: !0,
                  initializer: null,
                })),
                (js = Gs)),
              ) || js),
            uu =
              ((qs = (0, b.b2)()),
              (Ks = (0, b.f3)(x.Systems)),
              (Zs = (0, b.t6)(x.RendererSystem)),
              qs(
                ((tu = (function () {
                  function t() {
                    i(this, t),
                      r(this, 'rendererSystem', Js, this),
                      (this.camera = void 0),
                      (this.scene = void 0),
                      (this.viewport = { x: 0, y: 0, width: 0, height: 0 }),
                      (this.clearColor = [1, 1, 1, 1]);
                  }
                  return (
                    a(t, [
                      {
                        key: 'getCamera',
                        value: function () {
                          return this.camera;
                        },
                      },
                      {
                        key: 'getScene',
                        value: function () {
                          return this.scene;
                        },
                      },
                      {
                        key: 'getViewport',
                        value: function () {
                          return this.viewport;
                        },
                      },
                      {
                        key: 'getClearColor',
                        value: function () {
                          return this.clearColor;
                        },
                      },
                      {
                        key: 'setCamera',
                        value: function (t) {
                          return (this.camera = t), this;
                        },
                      },
                      {
                        key: 'setScene',
                        value: function (t) {
                          return (this.scene = t), this;
                        },
                      },
                      {
                        key: 'setViewport',
                        value: function (t) {
                          return (this.viewport = t), this;
                        },
                      },
                      {
                        key: 'setClearColor',
                        value: function (t) {
                          return (this.clearColor = t), this;
                        },
                      },
                      {
                        key: 'pick',
                        value: function (t) {
                          return this.rendererSystem.pick(t, this);
                        },
                      },
                    ]),
                    t
                  );
                })()),
                (Js = s((Qs = tu).prototype, 'rendererSystem', [Ks, Zs], {
                  configurable: !0,
                  enumerable: !0,
                  writable: !0,
                  initializer: null,
                })),
                ($s = Qs)),
              ) || $s);
          function cu(t, e) {
            var n = Object.keys(t);
            if (Object.getOwnPropertySymbols) {
              var r = Object.getOwnPropertySymbols(t);
              e &&
                (r = r.filter(function (e) {
                  return Object.getOwnPropertyDescriptor(t, e).enumerable;
                })),
                n.push.apply(n, r);
            }
            return n;
          }
          function lu(t) {
            for (var e = 1; e < arguments.length; e++) {
              var n = null != arguments[e] ? arguments[e] : {};
              e % 2
                ? cu(Object(n), !0).forEach(function (e) {
                    F(t, e, n[e]);
                  })
                : Object.getOwnPropertyDescriptors
                ? Object.defineProperties(t, Object.getOwnPropertyDescriptors(n))
                : cu(Object(n)).forEach(function (e) {
                    Object.defineProperty(t, e, Object.getOwnPropertyDescriptor(n, e));
                  });
            }
            return t;
          }
          var hu =
            ((eu = (0, b.b2)()),
            (nu = (0, b.f3)(x.ConfigService)),
            eu(
              ((au = (function () {
                function t() {
                  i(this, t), r(this, 'configService', ou, this), (this.container = void 0);
                }
                var e;
                return (
                  a(
                    t,
                    [
                      {
                        key: 'getEngine',
                        value:
                          ((e = h(
                            c().mark(function t() {
                              var e, n, r, i;
                              return c().wrap(
                                function (t) {
                                  for (;;)
                                    switch ((t.prev = t.next)) {
                                      case 0:
                                        return (
                                          (e = this.container.get(x.RenderEngine)),
                                          (n = this.configService.get()),
                                          (r = n.canvas),
                                          (i = n.engineOptions),
                                          (t.next = 4),
                                          e.init(
                                            lu(
                                              {
                                                canvas: r || Hr(),
                                                swapChainFormat: Xr.EV.BGRA8Unorm,
                                                antialiasing: !1,
                                              },
                                              i,
                                            ),
                                          )
                                        );
                                      case 4:
                                        return t.abrupt('return', e);
                                      case 5:
                                      case 'end':
                                        return t.stop();
                                    }
                                },
                                t,
                                this,
                              );
                            }),
                          )),
                          function () {
                            return e.apply(this, arguments);
                          }),
                      },
                      {
                        key: 'getTransformComponent',
                        value: function (t) {
                          return this.container
                            .get(x.TransformComponentManager)
                            .getComponentByEntity(t);
                        },
                      },
                      {
                        key: 'getMeshComponent',
                        value: function (t) {
                          return this.container.get(x.MeshComponentManager).getComponentByEntity(t);
                        },
                      },
                      {
                        key: 'setConfig',
                        value: function (t) {
                          this.configService.set(t);
                        },
                      },
                      {
                        key: 'setContainer',
                        value: function (t) {
                          this.container = t;
                        },
                      },
                      {
                        key: 'getContainer',
                        value: function () {
                          return this.container;
                        },
                      },
                      {
                        key: 'createEntity',
                        value: function () {
                          return d();
                        },
                      },
                      {
                        key: 'createScene',
                        value: function () {
                          return this.container.get(Ws);
                        },
                      },
                      {
                        key: 'createCamera',
                        value: function () {
                          return this.container.get(Wr);
                        },
                      },
                      {
                        key: 'createView',
                        value: function () {
                          return this.container.get(uu);
                        },
                      },
                      {
                        key: 'createRenderable',
                        value: function (t, e) {
                          var n = t
                              ? this.container.getNamed(x.Renderable, t)
                              : this.container.get(Yi),
                            r = d();
                          return n.setConfig(e || {}), n.setEntity(r), n;
                        },
                      },
                      {
                        key: 'createGeometry',
                        value: function (t, e) {
                          var n = this.container.getNamed(x.Geometry, t),
                            r = d();
                          return n.setConfig(e || {}), n.setEntity(r), n.getComponent();
                        },
                      },
                      {
                        key: 'createMaterial',
                        value: function (t, e) {
                          var n = this.container.getNamed(x.Material, t),
                            r = d();
                          return n.setConfig(e || {}), n.setEntity(r, t), n.getComponent();
                        },
                      },
                      {
                        key: 'createTexture2D',
                        value: function (t) {
                          var e = this.container.get(su);
                          return e.setConfig(t), e;
                        },
                      },
                      {
                        key: 'createBufferGeometry',
                        value: function (t) {
                          return this.container
                            .getNamed(x.Systems, x.GeometrySystem)
                            .createBufferGeometry(t);
                        },
                      },
                      {
                        key: 'createInstancedBufferGeometry',
                        value: function (t) {
                          return this.container
                            .getNamed(x.Systems, x.GeometrySystem)
                            .createInstancedBufferGeometry(t);
                        },
                      },
                      {
                        key: 'createShaderMaterial',
                        value: function (t) {
                          return this.container
                            .getNamed(x.Systems, x.MaterialSystem)
                            .createShaderMaterial(t);
                        },
                      },
                      {
                        key: 'createKernel',
                        value: function (t) {
                          var e = this.container.get(Vi);
                          return (
                            'string' == typeof t ? e.setBundle(JSON.parse(t)) : e.setBundle(t),
                            e.init(),
                            e
                          );
                        },
                      },
                      {
                        key: 'createRenderer',
                        value: function () {
                          var t = this.container.get(Vs);
                          return (t.container = this.container), t.init(), t;
                        },
                      },
                      {
                        key: 'destroy',
                        value: function () {
                          this.container.getAll(x.Systems).forEach(function (t) {
                            t.tearDown && t.tearDown();
                          }),
                            this.container.get(x.RenderEngine).destroy(),
                            this.container.get(x.InteractorService).destroy();
                        },
                      },
                    ],
                    [
                      {
                        key: 'create',
                        value: function () {
                          var e =
                              arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : {},
                            n = dr(),
                            r = navigator.gpu ? la : To;
                          n.isBound(x.RenderEngine) ||
                            n.bind(x.RenderEngine).to(r).inSingletonScope(),
                            n.bind(Vs).toSelf(),
                            n.bind(Vi).toSelf(),
                            n.bind(Yi).toSelf(),
                            n.bind(uu).toSelf(),
                            n.bind(Wr).toSelf(),
                            n.bind(Ws).toSelf(),
                            n.bind(t).toSelf(),
                            n.bind(Ys).toSelf(),
                            n.bind(su).toSelf(),
                            n.bind(x.Geometry).to(da).whenTargetNamed(Yr.BOX),
                            n.bind(x.Geometry).to(ka).whenTargetNamed(Yr.SPHERE),
                            n.bind(x.Geometry).to(ya).whenTargetNamed(Yr.PLANE),
                            n.bind(x.Geometry).to(ga).whenTargetNamed(Yr.MERGED),
                            n.bind(x.Material).to(Ga).whenTargetNamed(Wi.BASIC),
                            n.bind(x.Renderable).to(Cs).whenTargetNamed(Yi.POINT),
                            n.bind(x.Renderable).to(gs).whenTargetNamed(Yi.LINE),
                            n.bind(x.Renderable).to(Qa).whenTargetNamed(Yi.GRID);
                          var i = n.get(t);
                          return i.setContainer(n), i.setConfig(e), i;
                        },
                      },
                    ],
                  ),
                  t
                );
              })()),
              (ou = s((iu = au).prototype, 'configService', [nu], {
                configurable: !0,
                enumerable: !0,
                writable: !0,
                initializer: null,
              })),
              (ru = iu)),
            ) || ru);
        },
        9754: (t, e, n) => {
          'use strict';
          n.r(e),
            n.d(e, {
              AbstractEvent: () => Mn,
              AbstractGraph: () => Je,
              AbstractLayout: () => Sn,
              Arrow: () => yn,
              BaseGlobal: () => Tn,
              Combo: () => me,
              Edge: () => ce,
              G6GraphEvent: () => Ot,
              Hull: () => Ze,
              Marker: () => mn,
              Node: () => fe,
              Shape: () => bn,
              Util: () => wn,
              default: () => Nn,
              registerBehavior: () => In,
              registerCombo: () => Cn,
              registerEdge: () => An,
              registerNode: () => kn,
            });
          var r = {};
          n.r(r),
            n.d(r, {
              Line: () => V,
              applyMatrix: () => A,
              compare: () => _,
              distance: () => T,
              floydWarshall: () => P,
              fractionToLine: () => H,
              getAdjMatrix: () => O,
              getBBoxBoundLine: () => W,
              getCircleCenterByPoints: () => I,
              getCircleIntersectByPoint: () => M,
              getDegree: () => j,
              getEllipseIntersectByPoint: () => k,
              getLineIntersect: () => E,
              getPointsCenter: () => q,
              getRectIntersectByPoint: () => S,
              intersectBBox: () => F,
              invertMatrix: () => C,
              isPointInPolygon: () => z,
              isPointsOverlap: () => $,
              isPolygonsIntersect: () => U,
              itemIntersectByLine: () => X,
              lerp: () => tt,
              move: () => L,
              pointLineDistance: () => J,
              pointLineSquareDist: () => Z,
              pointRectSquareDist: () => Q,
              rotate: () => B,
              scale: () => R,
              scaleMatrix: () => N,
              squareDist: () => K,
              translate: () => D,
            });
          var i = {};
          n.r(i),
            n.d(i, {
              cloneBesidesImg: () => It,
              getBBox: () => vt,
              getComboBBox: () => At,
              getLabelPosition: () => mt,
              getLetterWidth: () => Et,
              getLoopCfgs: () => yt,
              getTextSize: () => St,
              plainCombosToTrees: () => Mt,
              reconstructTree: () => kt,
              shouldRefreshEdge: () => Ct,
              traverseTree: () => _t,
              traverseTreeUp: () => wt,
            });
          var o = {};
          n.r(o),
            n.d(o, {
              calculationItemsBBox: () => Gt,
              cloneEvent: () => Rt,
              formatPadding: () => Lt,
              isNaN: () => jt,
              isViewportChanged: () => Bt,
              processParallelEdges: () => zt,
              uniqueId: () => Dt,
            });
          var a = {};
          n.r(a),
            n.d(a, {
              getClosedSpline: () => Le,
              getControlPoint: () => Pe,
              getSpline: () => Ne,
              paddedHull: () => ze,
              pathToPoints: () => De,
              pointsToPolygon: () => Oe,
              roundedHull: () => Ge,
            });
          var s = {};
          n.r(s), n.d(s, { defaultSubjectColors: () => xn });
          var u = n(9242);
          const c = {
            getDefaultCfg: function () {
              return {};
            },
            getEvents: function () {
              return {};
            },
            updateCfg: function (t) {
              return Object.assign(this, t), !0;
            },
            shouldBegin: function () {
              return !0;
            },
            shouldUpdate: function () {
              return !0;
            },
            shouldEnd: function () {
              return !0;
            },
            bind: function (t) {
              var e = this,
                n = this.events;
              (this.graph = t),
                ('drag-canvas' !== this.type &&
                  'brush-select' !== this.type &&
                  'lasso-select' !== this.type) ||
                  t.get('canvas').set('draggable', !0),
                (0, u.each)(n, function (e, n) {
                  t.on(n, e);
                }),
                document.addEventListener('visibilitychange', function () {
                  e.keydown = !1;
                });
            },
            unbind: function (t) {
              var e = this.events,
                n = t.get('canvas').get('draggable');
              ('drag-canvas' !== this.type &&
                'brush-select' !== this.type &&
                'lasso-select' !== this.type) ||
                t.get('canvas').set('draggable', !1),
                (0, u.each)(e, function (e, n) {
                  t.off(n, e);
                }),
                t.get('canvas').set('draggable', n);
            },
            get: function (t) {
              return this[t];
            },
            set: function (t, e) {
              return (this[t] = e), this;
            },
          };
          var l = (function () {
            function t() {}
            return (
              (t.registerBehavior = function (e, n) {
                if (!n) throw new Error('please specify handler for this behavior: '.concat(e));
                var r = (0, u.clone)(c);
                Object.assign(r, n);
                var i = function (t) {
                  var e = this;
                  Object.assign(this, this.getDefaultCfg(), t);
                  var n = this.getEvents();
                  this.events = null;
                  var r = {};
                  n &&
                    ((0, u.each)(n, function (t, n) {
                      r[n] = (0, u.wrapBehavior)(e, t);
                    }),
                    (this.events = r));
                };
                (i.prototype = r), (t.types[e] = i);
              }),
              (t.hasBehavior = function (e) {
                return !!t.types[e];
              }),
              (t.getBehavior = function (e) {
                return t.types[e];
              }),
              (t.types = {}),
              t
            );
          })();
          const h = l,
            f = h;
          var d = n(655),
            p = n(494),
            g = n(1506),
            v = n(3999),
            y = n(7160),
            m = n(5600),
            b = n(1437),
            x = g.transform,
            _ = function (t) {
              return function (e, n) {
                return e[t] - n[t];
              };
            },
            w = function (t, e, n) {
              return t >= e && t <= n;
            },
            E = function (t, e, n, r) {
              var i = n.x - t.x,
                o = n.y - t.y,
                a = e.x - t.x,
                s = e.y - t.y,
                u = r.x - n.x,
                c = r.y - n.y,
                l = a * c - s * u,
                h = 1 / l;
              if (l * l > 1e-4 * (a * a + s * s) * (u * u + c * c)) {
                var f = (i * c - o * u) * h,
                  d = (i * s - o * a) * h;
                return w(f, 0, 1) && w(d, 0, 1) ? { x: t.x + f * a, y: t.y + f * s } : null;
              }
              return null;
            },
            S = function (t, e) {
              var n = t.x,
                r = t.y,
                i = t.width,
                o = t.height,
                a = [],
                s = { x: n + i / 2, y: r + o / 2 };
              a.push({ x: n, y: r }),
                a.push({ x: n + i, y: r }),
                a.push({ x: n + i, y: r + o }),
                a.push({ x: n, y: r + o }),
                a.push({ x: n, y: r });
              for (var u = null, c = 1; c < a.length && !(u = E(a[c - 1], a[c], s, e)); c++);
              return u;
            },
            M = function (t, e) {
              var n = t.x,
                r = t.y,
                i = t.r,
                o = e.x - n,
                a = e.y - r;
              if (o * o + a * a < i * i) return null;
              var s = Math.atan(a / o);
              return {
                x: n + Math.abs(i * Math.cos(s)) * Math.sign(o),
                y: r + Math.abs(i * Math.sin(s)) * Math.sign(a),
              };
            },
            k = function (t, e) {
              var n = t.rx,
                r = t.ry,
                i = t.x,
                o = t.y,
                a = e.x - i,
                s = e.y - o,
                u = Math.atan2(s / r, a / n);
              return (
                u < 0 && (u += 2 * Math.PI), { x: i + n * Math.cos(u), y: o + r * Math.sin(u) }
              );
            },
            A = function (t, e, n) {
              void 0 === n && (n = 1);
              var r = [t.x, t.y, n];
              return (
                (e && !isNaN(e[0])) || (e = [1, 0, 0, 0, 1, 0, 0, 0, 1]),
                y.transformMat3(r, r, e),
                { x: r[0], y: r[1] }
              );
            },
            C = function (t, e, n) {
              void 0 === n && (n = 1), (e && !isNaN(e[0])) || (e = [1, 0, 0, 0, 1, 0, 0, 0, 1]);
              var r = m.invert([1, 0, 0, 0, 1, 0, 0, 0, 1], e);
              r || (r = [1, 0, 0, 0, 1, 0, 0, 0, 1]);
              var i = [t.x, t.y, n];
              return y.transformMat3(i, i, r), { x: i[0], y: i[1] };
            },
            I = function (t, e, n) {
              var r = t.x - e.x,
                i = t.y - e.y,
                o = t.x - n.x,
                a = t.y - n.y,
                s = (t.x * t.x - e.x * e.x - e.y * e.y + t.y * t.y) / 2,
                u = (t.x * t.x - n.x * n.x - n.y * n.y + t.y * t.y) / 2,
                c = i * o - r * a;
              return { x: -(a * s - i * u) / c, y: -(r * u - o * s) / c };
            },
            T = function (t, e) {
              var n = t.x - e.x,
                r = t.y - e.y;
              return Math.sqrt(n * n + r * r);
            },
            N = function (t, e) {
              var n = [];
              return (
                t.forEach(function (t) {
                  var r = [];
                  t.forEach(function (t) {
                    r.push(t * e);
                  }),
                    n.push(r);
                }),
                n
              );
            },
            P = function (t) {
              for (var e = [], n = t.length, r = 0; r < n; r += 1) {
                e[r] = [];
                for (var i = 0; i < n; i += 1)
                  r === i
                    ? (e[r][i] = 0)
                    : 0 !== t[r][i] && t[r][i]
                    ? (e[r][i] = t[r][i])
                    : (e[r][i] = 1 / 0);
              }
              for (var o = 0; o < n; o += 1)
                for (r = 0; r < n; r += 1)
                  for (i = 0; i < n; i += 1)
                    e[r][i] > e[r][o] + e[o][i] && (e[r][i] = e[r][o] + e[o][i]);
              return e;
            },
            O = function (t, e) {
              var n = t.nodes,
                r = t.edges,
                i = [],
                o = {};
              if (!n) throw new Error('invalid nodes data!');
              return (
                n &&
                  n.forEach(function (t, e) {
                    (o[t.id] = e), i.push([]);
                  }),
                r &&
                  r.forEach(function (t) {
                    var n = t.source,
                      r = t.target,
                      a = o[n],
                      s = o[r];
                    (i[a][s] = 1), e || (i[s][a] = 1);
                  }),
                i
              );
            },
            D = function (t, e) {
              t.translate(e.x, e.y);
            },
            L = function (t, e, n, r) {
              void 0 === r && (r = { duration: 500 });
              var i = t.getMatrix();
              i || (i = [1, 0, 0, 0, 1, 0, 0, 0, 1]);
              var o = t.getCanvasBBox(),
                a = e.x - o.minX,
                s = e.y - o.minY;
              if (n) {
                var u = a * i[0],
                  c = s * i[4],
                  l = 0,
                  h = 0,
                  f = 0,
                  d = 0;
                t.animate(function (t) {
                  return (
                    (i = x(i, [['t', (f = u * t) - l, (d = c * t) - h]])),
                    (l = f),
                    (h = d),
                    { matrix: i }
                  );
                }, r);
              } else {
                var p = x(i, [['t', a, s]]);
                t.setMatrix(p);
              }
            },
            R = function (t, e) {
              var n = t.getMatrix();
              n || (n = [1, 0, 0, 0, 1, 0, 0, 0, 1]);
              var r = e;
              (0, u.isArray)(e) || (r = [e, e]),
                (0, u.isArray)(e) && 1 === e.length && (r = [e[0], e[0]]),
                (n = x(n, [['s', r[0], r[1]]])),
                t.setMatrix(n);
            },
            B = function (t, e) {
              var n = t.getMatrix();
              n || (n = [1, 0, 0, 0, 1, 0, 0, 0, 1]), (n = x(n, [['r', e]])), t.setMatrix(n);
            },
            j = function (t, e, n) {
              for (var r = [], i = 0; i < t; i++) r[i] = 0;
              return (
                n.forEach(function (t) {
                  t.source && (r[e[t.source]] += 1), t.target && (r[e[t.target]] += 1);
                }),
                r
              );
            };
          function G(t, e, n) {
            return (
              (n[0] - t[0]) * (e[1] - t[1]) == (e[0] - t[0]) * (n[1] - t[1]) &&
              Math.min(t[0], e[0]) <= n[0] &&
              n[0] <= Math.max(t[0], e[0]) &&
              Math.min(t[1], e[1]) <= n[1] &&
              n[1] <= Math.max(t[1], e[1])
            );
          }
          var z = function (t, e, n) {
              var r = !1,
                i = t.length;
              function o(t) {
                return Math.abs(t) < 1e-6 ? 0 : t < 0 ? -1 : 1;
              }
              if (i <= 2) return !1;
              for (var a = 0; a < i; a++) {
                var s = t[a],
                  u = t[(a + 1) % i];
                if (G(s, u, [e, n])) return !0;
                o(s[1] - n) > 0 != o(u[1] - n) > 0 &&
                  o(e - ((n - s[1]) * (s[0] - u[0])) / (s[1] - u[1]) - s[0]) < 0 &&
                  (r = !r);
              }
              return r;
            },
            F = function (t, e) {
              return !(e.minX > t.maxX || e.maxX < t.minX || e.minY > t.maxY || e.maxY < t.minY);
            },
            U = function (t, e) {
              var n = function (t) {
                  var e = t.map(function (t) {
                      return t[0];
                    }),
                    n = t.map(function (t) {
                      return t[1];
                    });
                  return {
                    minX: Math.min.apply(null, e),
                    maxX: Math.max.apply(null, e),
                    minY: Math.min.apply(null, n),
                    maxY: Math.max.apply(null, n),
                  };
                },
                r = function (t) {
                  for (var e = [], n = t.length, r = 0; r < n - 1; r++) {
                    var i = t[r],
                      o = t[r + 1];
                    e.push({ from: { x: i[0], y: i[1] }, to: { x: o[0], y: o[1] } });
                  }
                  if (e.length > 1) {
                    var a = t[0],
                      s = t[n - 1];
                    e.push({ from: { x: s[0], y: s[1] }, to: { x: a[0], y: a[1] } });
                  }
                  return e;
                };
              if (t.length < 2 || e.length < 2) return !1;
              var i = n(t),
                o = n(e);
              if (!F(i, o)) return !1;
              var a = !1;
              if (
                ((0, u.each)(e, function (e) {
                  if (z(t, e[0], e[1])) return (a = !0), !1;
                }),
                a)
              )
                return !0;
              if (
                ((0, u.each)(t, function (t) {
                  if (z(e, t[0], t[1])) return (a = !0), !1;
                }),
                a)
              )
                return !0;
              var s = r(t),
                c = r(e),
                l = !1;
              return (
                (0, u.each)(c, function (t) {
                  if (
                    (function (t, e) {
                      var n = !1;
                      return (
                        (0, u.each)(t, function (t) {
                          if (E(t.from, t.to, e.from, e.to)) return (n = !0), !1;
                        }),
                        n
                      );
                    })(s, t)
                  )
                    return (l = !0), !1;
                }),
                l
              );
            },
            V = (function () {
              function t(t, e, n, r) {
                (this.x1 = t), (this.y1 = e), (this.x2 = n), (this.y2 = r);
              }
              return (
                (t.prototype.getBBox = function () {
                  var t = Math.min(this.x1, this.x2),
                    e = Math.min(this.y1, this.y2),
                    n = Math.max(this.x1, this.x2),
                    r = Math.max(this.y1, this.y2);
                  return {
                    x: t,
                    y: e,
                    minX: t,
                    minY: e,
                    maxX: n,
                    maxY: r,
                    width: n - t,
                    height: r - e,
                  };
                }),
                t
              );
            })(),
            W = function (t, e) {
              return {
                top: [t.minX, t.minY, t.maxX, t.minY],
                left: [t.minX, t.minY, t.minX, t.maxY],
                bottom: [t.minX, t.maxY, t.maxX, t.maxY],
                right: [t.maxX, t.minY, t.maxX, t.maxY],
              }[e];
            },
            Y = function (t, e) {
              var n = (e.x2 - e.x1) * (t.y1 - e.y1) - (e.y2 - e.y1) * (t.x1 - e.x1),
                r = (t.x2 - t.x1) * (t.y1 - e.y1) - (t.y2 - t.y1) * (t.x1 - e.x1),
                i = (e.y2 - e.y1) * (t.x2 - t.x1) - (e.x2 - e.x1) * (t.y2 - t.y1);
              if (i) {
                var o = n / i,
                  a = r / i;
                if (o >= 0 && o <= 1 && a >= 0 && a <= 1) return o;
              }
              return Number.POSITIVE_INFINITY;
            },
            X = function (t, e) {
              for (
                var n = ['top', 'left', 'bottom', 'right'], r = t.getBBox(), i = 0, o = [], a = 0;
                a < 4;
                a++
              ) {
                var s = W(r, n[a]),
                  u = s[0],
                  c = s[1],
                  l = s[2],
                  h = s[3];
                (o[a] = E(
                  { x: e.x1, y: e.y1 },
                  { x: e.x2, y: e.y2 },
                  { x: u, y: c },
                  { x: l, y: h },
                )),
                  o[a] && (i += 1);
              }
              return [o, i];
            },
            H = function (t, e) {
              for (
                var n = ['top', 'left', 'bottom', 'right'],
                  r = t.getBBox(),
                  i = Number.POSITIVE_INFINITY,
                  o = 0,
                  a = 0;
                a < 4;
                a++
              ) {
                var s = W(r, n[a]),
                  u = s[0],
                  c = s[1],
                  l = s[2],
                  h = s[3],
                  f = Y(e, new V(u, c, l, h));
                (f = Math.abs(f - 0.5)) >= 0 && f <= 1 && ((o += 1), (i = f < i ? f : i));
              }
              return 0 === o ? -1 : i;
            },
            q = function (t) {
              var e = 0,
                n = 0;
              if (t.length > 0) {
                for (var r = 0, i = t; r < i.length; r++) {
                  var o = i[r];
                  (e += o.x), (n += o.y);
                }
                (e /= t.length), (n /= t.length);
              }
              return { x: e, y: n };
            },
            K = function (t, e) {
              return Math.pow(t.x - e.x, 2) + Math.pow(t.y - e.y, 2);
            },
            Z = function (t, e) {
              var n,
                r = e.x1,
                i = e.y1,
                o = e.x2 - r,
                a = e.y2 - i,
                s = t.x - r,
                u = t.y - i,
                c = s * o + u * a;
              n =
                c <= 0 || (c = (s = o - s) * o + (u = a - u) * a) <= 0
                  ? 0
                  : (c * c) / (o * o + a * a);
              var l = s * s + u * u - n;
              return l < 0 && (l = 0), l;
            },
            $ = function (t, e, n) {
              return (
                void 0 === n && (n = 0.001),
                Math.pow(t.x - e.x, 2) + Math.pow(t.y - e.y, 2) < Math.pow(n, 2)
              );
            },
            Q = function (t, e) {
              var n = t.x < e.x,
                r = t.x > e.x + e.width,
                i = t.y > e.y + e.height,
                o = t.y < e.y;
              if (!(n || r || i || o)) return 0;
              if (i && !n && !r) return Math.pow(e.y + e.height - t.y, 2);
              if (o && !n && !r) return Math.pow(t.y - e.y, 2);
              if (n && !i && !o) return Math.pow(e.x - t.x, 2);
              if (r && !i && !o) return Math.pow(e.x + e.width - t.x, 2);
              var a = Math.min(Math.abs(e.x - t.x), Math.abs(e.x + e.width - t.x)),
                s = Math.min(Math.abs(e.y - t.y), Math.abs(e.y + e.height - t.y));
              return a * a + s * s;
            },
            J = function (t, e) {
              var n = t[0],
                r = t[1],
                i = t[2],
                o = t[3],
                a = e.x,
                s = e.y,
                u = [i - n, o - r];
              if (b.exactEquals(u, [0, 0])) return NaN;
              var c = [-u[1], u[0]];
              b.normalize(c, c);
              var l = [a - n, s - r];
              return Math.abs(b.dot(l, c));
            },
            tt = function (t, e, n) {
              return t + (e - t) * n;
            },
            et = 'rgb(95, 149, 255)',
            nt = 'rgb(0, 0, 0)',
            rt = 'rgb(247, 250, 255)',
            it = 'rgb(253, 253, 253)',
            ot = 'rgb(250, 250, 250)',
            at = 'rgb(224, 224, 224)',
            st = 'rgb(234, 234, 234)',
            ut = '#4572d9';
          const ct = {
              version: '0.6.4',
              rootContainerClassName: 'root-container',
              nodeContainerClassName: 'node-container',
              edgeContainerClassName: 'edge-container',
              comboContainerClassName: 'combo-container',
              delegateContainerClassName: 'delegate-container',
              defaultLoopPosition: 'top',
              nodeLabel: {
                style: { fill: '#000', fontSize: 12, textAlign: 'center', textBaseline: 'middle' },
                offset: 4,
              },
              defaultNode: {
                type: 'circle',
                style: { lineWidth: 1, stroke: et, fill: 'rgb(239, 244, 255)' },
                size: 20,
                color: et,
                linkPoints: { size: 8, lineWidth: 1, fill: rt, stroke: et },
              },
              nodeStateStyles: {
                active: { fill: rt, stroke: et, lineWidth: 2, shadowColor: et, shadowBlur: 10 },
                selected: {
                  fill: 'rgb(255, 255, 255)',
                  stroke: et,
                  lineWidth: 4,
                  shadowColor: et,
                  shadowBlur: 10,
                  'text-shape': { fontWeight: 500 },
                },
                highlight: {
                  fill: 'rgb(223, 234, 255)',
                  stroke: ut,
                  lineWidth: 2,
                  'text-shape': { fontWeight: 500 },
                },
                inactive: { fill: rt, stroke: 'rgb(191, 213, 255)', lineWidth: 1 },
                disable: { fill: ot, stroke: at, lineWidth: 1 },
              },
              edgeLabel: {
                style: { fill: nt, textAlign: 'center', textBaseline: 'middle', fontSize: 12 },
              },
              defaultEdge: {
                type: 'line',
                size: 1,
                style: { stroke: at, lineAppendWidth: 2 },
                color: at,
              },
              edgeStateStyles: {
                active: { stroke: et, lineWidth: 1 },
                selected: {
                  stroke: et,
                  lineWidth: 2,
                  shadowColor: et,
                  shadowBlur: 10,
                  'text-shape': { fontWeight: 500 },
                },
                highlight: { stroke: et, lineWidth: 2, 'text-shape': { fontWeight: 500 } },
                inactive: { stroke: st, lineWidth: 1 },
                disable: { stroke: 'rgb(245, 245, 245)', lineWidth: 1 },
              },
              comboLabel: {
                style: { fill: nt, textBaseline: 'middle', fontSize: 12 },
                refY: 10,
                refX: 10,
              },
              defaultCombo: {
                type: 'circle',
                style: { fill: it, lineWidth: 1, stroke: at, r: 5, width: 20, height: 10 },
                size: [20, 5],
                color: at,
                padding: [25, 20, 15, 20],
              },
              comboStateStyles: {
                active: { stroke: et, lineWidth: 1, fill: rt },
                selected: {
                  stroke: et,
                  lineWidth: 2,
                  fill: it,
                  shadowColor: et,
                  shadowBlur: 10,
                  'text-shape': { fontWeight: 500 },
                },
                highlight: {
                  stroke: ut,
                  lineWidth: 2,
                  fill: it,
                  'text-shape': { fontWeight: 500 },
                },
                inactive: { stroke: at, fill: it, lineWidth: 1 },
                disable: { stroke: st, fill: ot, lineWidth: 1 },
              },
              delegateStyle: {
                fill: '#F3F9FF',
                fillOpacity: 0.5,
                stroke: '#1890FF',
                strokeOpacity: 0.9,
                lineDash: [5, 5],
              },
              windowFontFamily:
                ('undefined' != typeof window &&
                  window.getComputedStyle &&
                  document.body &&
                  window.getComputedStyle(document.body, null).getPropertyValue('font-family')) ||
                'Arial, sans-serif',
            },
            lt = {
              ' ': 0.3329986572265625,
              a: 0.5589996337890625,
              A: 0.6569992065429687,
              b: 0.58599853515625,
              B: 0.6769989013671875,
              c: 0.5469985961914062,
              C: 0.7279998779296875,
              d: 0.58599853515625,
              D: 0.705999755859375,
              e: 0.554998779296875,
              E: 0.63699951171875,
              f: 0.37299957275390627,
              F: 0.5769989013671875,
              g: 0.5909988403320312,
              G: 0.7479995727539063,
              h: 0.555999755859375,
              H: 0.7199996948242188,
              i: 0.255999755859375,
              I: 0.23699951171875,
              j: 0.26699981689453123,
              J: 0.5169998168945312,
              k: 0.5289993286132812,
              K: 0.6899993896484375,
              l: 0.23499908447265624,
              L: 0.5879989624023437,
              m: 0.854998779296875,
              M: 0.8819992065429687,
              n: 0.5589996337890625,
              N: 0.7189987182617188,
              o: 0.58599853515625,
              O: 0.7669998168945312,
              p: 0.58599853515625,
              P: 0.6419998168945312,
              q: 0.58599853515625,
              Q: 0.7669998168945312,
              r: 0.3649993896484375,
              R: 0.6759994506835938,
              s: 0.504998779296875,
              S: 0.6319992065429687,
              t: 0.354998779296875,
              T: 0.6189987182617187,
              u: 0.5599990844726562,
              U: 0.7139999389648437,
              v: 0.48199920654296874,
              V: 0.6389999389648438,
              w: 0.754998779296875,
              W: 0.929998779296875,
              x: 0.5089996337890625,
              X: 0.63699951171875,
              y: 0.4959991455078125,
              Y: 0.66199951171875,
              z: 0.48699951171875,
              Z: 0.6239990234375,
              0: 0.6,
              1: 0.40099945068359377,
              2: 0.6,
              3: 0.6,
              4: 0.6,
              5: 0.6,
              6: 0.6,
              7: 0.5469985961914062,
              8: 0.6,
              9: 0.6,
              '[': 0.3329986572265625,
              ']': 0.3329986572265625,
              ',': 0.26399993896484375,
              '.': 0.26399993896484375,
              ';': 0.26399993896484375,
              ':': 0.26399993896484375,
              '{': 0.3329986572265625,
              '}': 0.3329986572265625,
              '\\': 0.5,
              '|': 0.19499969482421875,
              '=': 0.604998779296875,
              '+': 0.604998779296875,
              '-': 0.604998779296875,
              _: 0.5,
              '`': 0.3329986572265625,
              ' ~': 0.8329986572265625,
              '!': 0.3329986572265625,
              '@': 0.8579986572265625,
              '#': 0.6,
              $: 0.6,
              '%': 0.9699996948242188,
              '^': 0.517999267578125,
              '&': 0.7259994506835937,
              '*': 0.505999755859375,
              '(': 0.3329986572265625,
              ')': 0.3329986572265625,
              '<': 0.604998779296875,
              '>': 0.604998779296875,
              '/': 0.5,
              '?': 0.53699951171875,
            };
          var ht = Math.PI,
            ft = Math.sin,
            dt = Math.cos,
            pt = ft(ht / 8),
            gt = dt(ht / 8),
            vt = function (t, e) {
              var n = t.getBBox(),
                r = { x: n.minX, y: n.minY },
                i = { x: n.maxX, y: n.maxY };
              if (e) {
                var o = e.getMatrix();
                o || (o = [1, 0, 0, 0, 1, 0, 0, 0, 1]), (r = A(r, o)), (i = A(i, o));
              }
              var a = r.x,
                s = r.y,
                u = i.x,
                c = i.y;
              return {
                x: a,
                y: s,
                minX: a,
                minY: s,
                maxX: u,
                maxY: c,
                width: u - a,
                height: c - s,
              };
            },
            yt = function (t) {
              var e = t.sourceNode || t.targetNode,
                n = e.get('group').getMatrix();
              n || (n = [1, 0, 0, 0, 1, 0, 0, 0, 1]);
              var r = e.getKeyShape().getBBox(),
                i = t.loopCfg || {},
                o = i.dist || 2 * Math.max(r.width, r.height),
                a = i.position || ct.defaultLoopPosition,
                s = [n[6], n[7]],
                u = [t.startPoint.x, t.startPoint.y],
                c = [t.endPoint.x, t.endPoint.y],
                l = r.height / 2,
                h = r.height / 2,
                f = l * pt,
                d = l * gt,
                p = h * pt,
                g = h * gt;
              if (u[0] === c[0] && u[1] === c[1]) {
                switch (a) {
                  case 'top':
                    (u = [s[0] - f, s[1] - d]), (c = [s[0] + p, s[1] - g]);
                    break;
                  case 'top-right':
                    (l = r.height / 2),
                      (h = r.width / 2),
                      (u = [s[0] + (f = l * pt), s[1] - (d = l * gt)]),
                      (c = [s[0] + (g = h * gt), s[1] - (p = h * pt)]);
                    break;
                  case 'right':
                    (l = r.width / 2),
                      (h = r.width / 2),
                      (u = [s[0] + (d = l * gt), s[1] - (f = l * pt)]),
                      (c = [s[0] + (g = h * gt), s[1] + (p = h * pt)]);
                    break;
                  case 'bottom-right':
                    (l = r.width / 2),
                      (h = r.height / 2),
                      (u = [s[0] + (d = l * gt), s[1] + (f = l * pt)]),
                      (c = [s[0] + (p = h * pt), s[1] + (g = h * gt)]);
                    break;
                  case 'bottom':
                    (l = r.height / 2),
                      (h = r.height / 2),
                      (u = [s[0] + (f = l * pt), s[1] + (d = l * gt)]),
                      (c = [s[0] - (p = h * pt), s[1] + (g = h * gt)]);
                    break;
                  case 'bottom-left':
                    (l = r.height / 2),
                      (h = r.width / 2),
                      (u = [s[0] - (f = l * pt), s[1] + (d = l * gt)]),
                      (c = [s[0] - (g = h * gt), s[1] + (p = h * pt)]);
                    break;
                  case 'left':
                    (l = r.width / 2),
                      (h = r.width / 2),
                      (u = [s[0] - (d = l * gt), s[1] + (f = l * pt)]),
                      (c = [s[0] - (g = h * gt), s[1] - (p = h * pt)]);
                    break;
                  case 'top-left':
                    (l = r.width / 2),
                      (h = r.height / 2),
                      (u = [s[0] - (d = l * gt), s[1] - (f = l * pt)]),
                      (c = [s[0] - (p = h * pt), s[1] - (g = h * gt)]);
                    break;
                  default:
                    (l = r.width / 2),
                      (h = r.width / 2),
                      (u = [s[0] - (f = l * pt), s[1] - (d = l * gt)]),
                      (c = [s[0] + (p = h * pt), s[1] - (g = h * gt)]);
                }
                if (!1 === i.clockwise) {
                  var v = [u[0], u[1]];
                  (u = [c[0], c[1]]), (c = [v[0], v[1]]);
                }
              }
              var y = [u[0] - s[0], u[1] - s[1]],
                m = (l + o) / l,
                x = (h + o) / h;
              !1 === i.clockwise && ((m = (h + o) / h), (x = (l + o) / l));
              var _ = b.scale([0, 0], y, m),
                w = [s[0] + _[0], s[1] + _[1]],
                E = [c[0] - s[0], c[1] - s[1]],
                S = b.scale([0, 0], E, x),
                M = [s[0] + S[0], s[1] + S[1]];
              return (
                (t.startPoint = { x: u[0], y: u[1] }),
                (t.endPoint = { x: c[0], y: c[1] }),
                (t.controlPoints = [
                  { x: w[0], y: w[1] },
                  { x: M[0], y: M[1] },
                ]),
                t
              );
            },
            mt = function (t, e, n, r, i) {
              var o = 1e-4,
                a = [],
                s = null == t ? void 0 : t.getPoint(e);
              if (!s) return { x: 0, y: 0, angle: 0 };
              if (e < o) a = t.getStartTangent().reverse();
              else if (e > 0.9999) a = t.getEndTangent();
              else {
                var u = null == t ? void 0 : t.getPoint(e + o);
                a.push([s.x, s.y]), a.push([u.x, u.y]);
              }
              var c = Math.atan2(a[1][1] - a[0][1], a[1][0] - a[0][0]);
              if ((c < 0 && (c += 2 * ht), n && ((s.x += dt(c) * n), (s.y += ft(c) * n)), r)) {
                var l = c - ht / 2;
                c > 0.5 * ht && c < 1.5 * ht && (l -= ht), (s.x += dt(l) * r), (s.y += ft(l) * r);
              }
              var h = { x: s.x, y: s.y, angle: c };
              return i
                ? (c > 0.5 * ht && c < 1.5 * ht && (c -= ht), (0, d.__assign)({ rotate: c }, h))
                : h;
            },
            bt = function t(e, n) {
              if (!1 === n(e)) return !1;
              if (e && e.children)
                for (var r = e.children.length - 1; r >= 0; r--)
                  if (!t(e.children[r], n)) return !1;
              return !0;
            },
            xt = function t(e, n) {
              if (e && e.children)
                for (var r = e.children.length - 1; r >= 0; r--) if (!t(e.children[r], n)) return;
              return !1 !== n(e);
            },
            _t = function (t, e) {
              'function' == typeof e && bt(t, e);
            },
            wt = function (t, e) {
              'function' == typeof e && xt(t, e);
            },
            Et = function (t, e) {
              return e * (lt[t] || 1);
            },
            St = function (t, e) {
              var n = 0,
                r = new RegExp('[一-龥]+');
              return (
                t.split('').forEach(function (t) {
                  r.test(t) ? (n += e) : (n += Et(t, e));
                }),
                [n, e]
              );
            },
            Mt = function (t, e) {
              var n = [],
                r = {},
                i = {};
              t.forEach(function (t) {
                i[t.id] = t;
              }),
                t.forEach(function (t, e) {
                  var o = (0, u.clone)(t);
                  (o.itemType = 'combo'),
                    (o.children = void 0),
                    o.parentId === o.id
                      ? (console.warn(
                          'The parentId for combo '.concat(
                            o.id,
                            " can not be the same as the combo's id",
                          ),
                        ),
                        delete o.parentId)
                      : o.parentId &&
                        !i[o.parentId] &&
                        (console.warn(
                          'The parent combo for combo '.concat(o.id, ' does not exist!'),
                        ),
                        delete o.parentId);
                  var a = r[o.id];
                  if (a) {
                    if (((o.children = a.children), (r[o.id] = o), !(a = o).parentId))
                      return void n.push(a);
                    var s = r[a.parentId];
                    if (s) s.children ? s.children.push(o) : (s.children = [o]);
                    else {
                      var c = { id: a.parentId, children: [a] };
                      (r[a.parentId] = c), (r[o.id] = o);
                    }
                  } else if ((0, u.isString)(t.parentId)) {
                    var l = r[t.parentId];
                    if (l) l.children ? l.children.push(o) : (l.children = [o]), (r[o.id] = o);
                    else {
                      var h = { id: t.parentId, children: [o] };
                      (r[h.id] = h), (r[o.id] = o);
                    }
                  } else n.push(o), (r[o.id] = o);
                });
              var o = {};
              (e || []).forEach(function (t) {
                o[t.id] = t;
                var e = r[t.comboId];
                if (e) {
                  var n = { id: t.id, comboId: t.comboId };
                  e.children ? e.children.push(n) : (e.children = [n]),
                    (n.itemType = 'node'),
                    (r[t.id] = n);
                }
              });
              var a = 0;
              return (
                n.forEach(function (t) {
                  (t.depth = a + 10),
                    bt(t, function (t) {
                      var e,
                        n = r[t.id].itemType;
                      (e = 'node' === n ? r[t.comboId] : r[t.parentId]),
                        (t.depth = e && 'node' === n ? a + 1 : a + 10),
                        a < t.depth && (a = t.depth);
                      var i = o[t.id];
                      return i && (i.depth = t.depth), !0;
                    });
                }),
                n
              );
            },
            kt = function (t, e, n) {
              var r,
                i,
                o = t,
                a = { root: { children: t } },
                s = !1,
                u = 'root';
              (t || []).forEach(function (t) {
                if (!s)
                  return t.id === e
                    ? ((i = t),
                      'combo' === t.itemType ? (i.parentId = n) : (i.comboId = n),
                      void (s = !0))
                    : void _t(t, function (t) {
                        var r;
                        return (
                          (a[t.id] = { children: (null == t ? void 0 : t.children) || [] }),
                          (o =
                            null === (r = a[t.parentId || t.comboId || 'root']) || void 0 === r
                              ? void 0
                              : r.children),
                          !t ||
                            (!t.removed && e !== t.id) ||
                            !o ||
                            ((u = t.parentId || t.comboId || 'root'),
                            (i = t),
                            'combo' === t.itemType ? (i.parentId = n) : (i.comboId = n),
                            (s = !0),
                            !1)
                        );
                      });
              });
              var c = (o = null === (r = a[u]) || void 0 === r ? void 0 : r.children)
                ? o.indexOf(i)
                : -1;
              if (
                (c > -1 && o.splice(c, 1),
                s || ((i = { id: e, itemType: 'node', comboId: n }), (a[e] = { children: void 0 })),
                e)
              ) {
                var l = !1;
                if (n) {
                  var h = 0;
                  (t || []).forEach(function (t) {
                    l ||
                      _t(t, function (t) {
                        return (
                          n !== t.id ||
                          ((l = !0),
                          t.children ? t.children.push(i) : (t.children = [i]),
                          (h = t.depth),
                          'node' === i.itemType ? (i.depth = h + 2) : (i.depth = h + 1),
                          !1)
                        );
                      });
                  });
                } else (n && l) || 'node' === i.itemType || t.push(i);
                var f = i.depth;
                _t(i, function (t) {
                  return 'node' === t.itemType ? (f += 2) : (f += 1), (t.depth = f), !0;
                });
              }
              return t;
            },
            At = function (t, e, n) {
              var r = {
                minX: 1 / 0,
                minY: 1 / 0,
                maxX: -1 / 0,
                maxY: -1 / 0,
                x: void 0,
                y: void 0,
                width: void 0,
                height: void 0,
                centerX: void 0,
                centerY: void 0,
              };
              if (!t || 0 === t.length) {
                var i = (null == n ? void 0 : n.getModel()) || {},
                  o = i.x,
                  a = i.y;
                return {
                  minX: o,
                  minY: a,
                  maxX: o,
                  maxY: a,
                  x: o,
                  y: a,
                  width: void 0,
                  height: void 0,
                };
              }
              return (
                t.forEach(function (t) {
                  var n = e.findById(t.id);
                  if (n && n.isVisible()) {
                    n.set('bboxCanvasCache', void 0);
                    var i = n.getCanvasBBox();
                    i.x && r.minX > i.minX && (r.minX = i.minX),
                      i.y && r.minY > i.minY && (r.minY = i.minY),
                      i.x && r.maxX < i.maxX && (r.maxX = i.maxX),
                      i.y && r.maxY < i.maxY && (r.maxY = i.maxY);
                  }
                }),
                (r.x = (r.minX + r.maxX) / 2),
                (r.y = (r.minY + r.maxY) / 2),
                (r.width = r.maxX - r.minX),
                (r.height = r.maxY - r.minY),
                (r.centerX = (r.minX + r.maxX) / 2),
                (r.centerY = (r.minY + r.maxY) / 2),
                Object.keys(r).forEach(function (t) {
                  (r[t] !== 1 / 0 && r[t] !== -1 / 0) || (r[t] = void 0);
                }),
                r
              );
            },
            Ct = function (t) {
              var e =
                (0, u.isNumber)(t.x) || (0, u.isNumber)(t.y) || t.type || t.anchorPoints || t.size;
              return (
                t.style &&
                  (e =
                    e ||
                    (0, u.isNumber)(t.style.r) ||
                    (0, u.isNumber)(t.style.width) ||
                    (0, u.isNumber)(t.style.height) ||
                    (0, u.isNumber)(t.style.rx) ||
                    (0, u.isNumber)(t.style.ry)),
                e
              );
            },
            It = function (t) {
              var e = {};
              return (
                Object.keys(t).forEach(function (n) {
                  var r = t[n];
                  if ((0, u.isObject)(r) && !(0, u.isArray)(r)) {
                    var i = {};
                    Object.keys(r).forEach(function (t) {
                      var e = r[t];
                      ('img' !== t || (0, u.isString)(e)) && (i[t] = (0, u.clone)(e));
                    }),
                      (e[n] = i);
                  } else e[n] = (0, u.clone)(r);
                }),
                e
              );
            },
            Tt = function (t) {
              if (!t) return console.error('G6 Error Tips: the data must be defined'), !1;
              var e = t.nodes,
                n = t.edges,
                r = t.combos,
                i = void 0 === r ? [] : r;
              if (!e && !n) {
                var o = !0;
                return (
                  _t(t, function (t) {
                    return !!(0, u.isString)(t.id) || ((o = !1), !1);
                  }),
                  o
                );
              }
              var a = (e || []).find(function (t) {
                return !(0, u.isString)(t.id);
              });
              if (a)
                return (
                  console.warn(
                    "G6 Warning Tips: missing 'id' property, or %c".concat(
                      a.id,
                      '%c is not a string.',
                    ),
                    'font-size: 20px; color: red;',
                    '',
                  ),
                  !1
                );
              var s = (e || []).map(function (t) {
                  return t.id;
                }),
                c =
                  null == i
                    ? void 0
                    : i.map(function (t) {
                        return t.id;
                      }),
                l = (0, d.__spreadArray)((0, d.__spreadArray)([], s, !0), c, !0),
                h = (n || []).find(function (t) {
                  return !l.includes(t.source) || !l.includes(t.target);
                });
              return (
                !h ||
                (console.warn(
                  'G6 Warning Tips: The source %c'
                    .concat(h.source, '%c or the target %c')
                    .concat(h.target, '%c of the edge do not exist in the nodes or combos.'),
                  'font-size: 20px; color: red;',
                  '',
                  'font-size: 20px; color: red;',
                  '',
                ),
                !1)
              );
            },
            Nt = (function () {
              function t(t) {
                (this.graph = t),
                  (this.destroyed = !1),
                  (this.modes = t.get('modes') || { default: [] }),
                  this.formatModes(),
                  (this.mode = t.get('defaultMode') || 'default'),
                  (this.currentBehaves = []),
                  this.setMode(this.mode);
              }
              return (
                (t.prototype.formatModes = function () {
                  var t = this.modes;
                  (0, u.each)(t, function (t) {
                    (0, u.each)(t, function (e, n) {
                      (0, u.isString)(e) && (t[n] = { type: e });
                    });
                  });
                }),
                (t.prototype.setBehaviors = function (t) {
                  var e,
                    n = this.graph,
                    r = this.modes[t],
                    i = [];
                  (0, u.each)(r || [], function (t) {
                    var r = h.getBehavior(t.type || t);
                    r && (e = new r(t)) && (e.bind(n), i.push(e));
                  }),
                    (this.currentBehaves = i);
                }),
                (t.mergeBehaviors = function (t, e) {
                  return (
                    (0, u.each)(e, function (e) {
                      t.indexOf(e) < 0 && ((0, u.isString)(e) && (e = { type: e }), t.push(e));
                    }),
                    t
                  );
                }),
                (t.filterBehaviors = function (t, e) {
                  var n = [];
                  return (
                    t.forEach(function (t) {
                      var r;
                      (r = (0, u.isString)(t) ? t : t.type), e.indexOf(r) < 0 && n.push(t);
                    }),
                    n
                  );
                }),
                (t.prototype.setMode = function (t) {
                  var e = this.modes,
                    n = this.graph,
                    r = t;
                  e[r] &&
                    (n.emit('beforemodechange', { mode: t }),
                    (0, u.each)(this.currentBehaves, function (t) {
                      t.delegate && t.delegate.remove(), t.unbind(n);
                    }),
                    this.setBehaviors(r),
                    n.emit('aftermodechange', { mode: t }),
                    (this.mode = t));
                }),
                (t.prototype.getMode = function () {
                  return this.mode;
                }),
                (t.prototype.manipulateBehaviors = function (e, n, r) {
                  var i,
                    o = this;
                  if (((i = (0, u.isArray)(e) ? e : [e]), (0, u.isArray)(n)))
                    return (
                      (0, u.each)(n, function (e) {
                        o.modes[e]
                          ? (o.modes[e] = r
                              ? t.mergeBehaviors(o.modes[e] || [], i)
                              : t.filterBehaviors(o.modes[e] || [], i))
                          : r && (o.modes[e] = i);
                      }),
                      this
                    );
                  var a = n;
                  return (
                    n || (a = this.mode),
                    this.modes[a] || (r && (this.modes[a] = i)),
                    (this.modes[a] = r
                      ? t.mergeBehaviors(this.modes[a] || [], i)
                      : t.filterBehaviors(this.modes[a] || [], i)),
                    this.formatModes(),
                    this.setMode(this.mode),
                    this
                  );
                }),
                (t.prototype.updateBehavior = function (t, e, n) {
                  (0, u.isString)(t) && (t = { type: t });
                  var r = [];
                  if (n && n !== this.mode && 'default' !== n) {
                    if (!(r = this.modes[n]) || !r.length)
                      return (
                        console.warn(
                          'Update behavior failed! There is no behaviors in this mode on the graph.',
                        ),
                        this
                      );
                    var i = r.length;
                    for (a = 0; a < i; a++) {
                      if ((s = r[a]).type === t.type || s === t.type)
                        return (
                          s === t.type && (s = { type: s }), Object.assign(s, e), (r[a] = s), this
                        );
                      a === i - 1 &&
                        console.warn(
                          'Update behavior failed! There is no such behavior in the mode',
                        );
                    }
                  } else {
                    if (!(r = this.currentBehaves) || !r.length)
                      return (
                        console.warn(
                          'Update behavior failed! There is no behaviors in this mode on the graph.',
                        ),
                        this
                      );
                    for (var o = r.length, a = 0; a < o; a++) {
                      var s;
                      if ((s = r[a]).type === t.type) return s.updateCfg(e), this;
                      a === o - 1 &&
                        console.warn(
                          'Update behavior failed! There is no such behavior in the mode',
                        );
                    }
                  }
                  return this;
                }),
                (t.prototype.destroy = function () {
                  (this.graph = null),
                    (this.modes = null),
                    (this.currentBehaves = null),
                    (this.destroyed = !0);
                }),
                t
              );
            })();
          const Pt = Nt;
          var Ot = (function (t) {
              function e(e, n) {
                var r = t.call(this, e, n) || this;
                return (
                  (r.item = n.item),
                  (r.canvasX = n.canvasX),
                  (r.canvasY = n.canvasY),
                  (r.wheelDelta = n.wheelDelta),
                  (r.detail = n.detail),
                  r
                );
              }
              return (0, d.__extends)(e, t), e;
            })(n(844).Event),
            Dt = function (t) {
              return ''.concat(t, '-').concat(Math.random()).concat(Date.now());
            },
            Lt = function (t) {
              if ((0, u.isArray)(t))
                switch (t.length) {
                  case 4:
                    return t;
                  case 3:
                    return t.push(t[1]), t;
                  case 2:
                    return t.concat(t);
                  case 1:
                    return [t[0], t[0], t[0], t[0]];
                  default:
                    return [0, 0, 0, 0];
                }
              if ((0, u.isNumber)(t)) return [t, t, t, t];
              if ((0, u.isString)(t)) {
                var e = parseInt(t, 10);
                return [e, e, e, e];
              }
              return [0, 0, 0, 0];
            },
            Rt = function (t) {
              var e = new Ot(t.type, t);
              return (
                (e.clientX = t.clientX),
                (e.clientY = t.clientY),
                (e.x = t.x),
                (e.y = t.y),
                (e.target = t.target),
                (e.currentTarget = t.currentTarget),
                (e.bubbles = !0),
                (e.item = t.item),
                e
              );
            },
            Bt = function (t) {
              if (!t) return !1;
              for (var e = [1, 0, 0, 0, 1, 0, 0, 0, 1], n = 0; n < 9; n++)
                if (t[n] !== e[n]) return !0;
              return !1;
            },
            jt = function (t) {
              return Number.isNaN(Number(t));
            },
            Gt = function (t) {
              for (var e = 1 / 0, n = -1 / 0, r = 1 / 0, i = -1 / 0, o = 0; o < t.length; o++) {
                var a = t[o].getBBox(),
                  s = a.minX,
                  u = a.minY,
                  c = a.maxX,
                  l = a.maxY;
                s < e && (e = s), u < r && (r = u), c > n && (n = c), l > i && (i = l);
              }
              return {
                x: Math.floor(e),
                y: Math.floor(r),
                width: Math.ceil(n) - Math.floor(e),
                height: Math.ceil(i) - Math.floor(r),
                minX: e,
                minY: r,
                maxX: n,
                maxY: i,
              };
            },
            zt = function (t, e, n, r, i) {
              void 0 === e && (e = 15),
                void 0 === n && (n = 'quadratic'),
                void 0 === r && (r = void 0),
                void 0 === i && (i = void 0);
              for (
                var o = t.length,
                  a = 2 * e,
                  s = [
                    'top',
                    'top-right',
                    'right',
                    'bottom-right',
                    'bottom',
                    'bottom-left',
                    'left',
                    'top-left',
                  ],
                  u = {},
                  c = [],
                  l = {},
                  h = 0;
                h < o;
                h++
              ) {
                var f = t[h],
                  d = f.source,
                  p = f.target,
                  g = ''.concat(d, '-').concat(p);
                if (!c[h]) {
                  u[g] || (u[g] = []), (c[h] = !0), u[g].push(f);
                  for (var v = 0; v < o; v++)
                    if (h !== v) {
                      var y = t[v],
                        m = y.source,
                        b = y.target;
                      c[v] ||
                        (d === b && p === m
                          ? (u[g].push(y),
                            (c[v] = !0),
                            (l[
                              ''
                                .concat(m, '|')
                                .concat(b, '|')
                                .concat(u[g].length - 1)
                            ] = !0))
                          : d === m && p === b && (u[g].push(y), (c[v] = !0)));
                    }
                }
              }
              for (var x in u)
                for (var _ = u[x], w = _.length, E = 0; E < w; E++) {
                  var S = _[E];
                  if (S.source !== S.target)
                    if (1 === w && r && S.source !== S.target) S.type = r;
                    else {
                      S.type = n;
                      var M =
                        (E % 2 == 0 ? 1 : -1) *
                        (l[''.concat(S.source, '|').concat(S.target, '|').concat(E)] ? -1 : 1);
                      S.curveOffset =
                        w % 2 == 1 ? M * Math.ceil(E / 2) * a : M * (Math.floor(E / 2) * a + e);
                    }
                  else
                    i && (S.type = i),
                      (S.loopCfg = { position: s[E % 8], dist: 20 * Math.floor(E / 8) + 50 });
                }
              return t;
            },
            Ft = (function () {
              function t(t) {
                (this.destroyed = !1), (this.graph = t), (this.destroyed = !1);
              }
              return (
                (t.prototype.getViewCenter = function () {
                  var t = this.getFormatPadding(),
                    e = this.graph,
                    n = this.graph.get('width'),
                    r = e.get('height');
                  return { x: (n - t[1] - t[3]) / 2 + t[3], y: (r - t[0] - t[2]) / 2 + t[0] };
                }),
                (t.prototype.fitCenter = function () {
                  var t = this.graph,
                    e = t.get('group');
                  e.resetMatrix();
                  var n = e.getCanvasBBox();
                  if (0 !== n.width && 0 !== n.height) {
                    var r = this.getViewCenter(),
                      i = n.x + n.width / 2,
                      o = n.y + n.height / 2;
                    t.translate(r.x - i, r.y - o);
                  }
                }),
                (t.prototype.fitView = function () {
                  var t = this.graph,
                    e = this.getFormatPadding(),
                    n = t.get('width'),
                    r = t.get('height'),
                    i = t.get('group');
                  i.resetMatrix();
                  var o = i.getCanvasBBox();
                  if (0 !== o.width && 0 !== o.height) {
                    var a = this.getViewCenter(),
                      s = o.x + o.width / 2,
                      u = o.y + o.height / 2;
                    t.translate(a.x - s, a.y - u);
                    var c = (n - e[1] - e[3]) / o.width,
                      l = (r - e[0] - e[2]) / o.height,
                      h = c;
                    c > l && (h = l),
                      t.zoom(h, a) || console.warn('zoom failed, ratio out of range, ratio: %f', h);
                  }
                }),
                (t.prototype.fitViewByRules = function (t) {
                  var e = t.onlyOutOfViewPort,
                    n = void 0 !== e && e,
                    r = t.direction,
                    i = void 0 === r ? 'both' : r,
                    o = t.ratioRule,
                    a = void 0 === o ? 'min' : o,
                    s = this.graph,
                    u = this.getFormatPadding(),
                    c = s.get('width'),
                    l = s.get('height'),
                    h = s.get('group');
                  h.resetMatrix();
                  var f = h.getCanvasBBox();
                  if (0 !== f.width && 0 !== f.height) {
                    var d = this.getViewCenter(),
                      p = f.x + f.width / 2,
                      g = f.y + f.height / 2;
                    s.translate(d.x - p, d.y - g);
                    var v,
                      y = (c - u[1] - u[3]) / f.width,
                      m = (l - u[0] - u[2]) / f.height;
                    (v =
                      'x' === i
                        ? y
                        : 'y' === i
                        ? m
                        : 'max' === a
                        ? Math.max(y, m)
                        : Math.min(y, m)),
                      n && (v = v < 1 ? v : 1);
                    var b = s.getZoom() * v,
                      x = s.get('minZoom');
                    b < x &&
                      ((b = x),
                      console.warn(
                        'fitview failed, ratio out of range, ratio: %f',
                        v,
                        'graph minzoom has been used instead',
                      )),
                      s.zoomTo(b, d);
                  }
                }),
                (t.prototype.getFormatPadding = function () {
                  var t = this.graph.get('fitViewPadding');
                  return Lt(t);
                }),
                (t.prototype.focusPoint = function (t, e, n) {
                  var r = this,
                    i = this.getViewCenter(),
                    o = this.getPointByCanvas(i.x, i.y),
                    a = this.graph.get('group').getMatrix();
                  if ((a || (a = [1, 0, 0, 0, 1, 0, 0, 0, 1]), e)) {
                    var s = (o.x - t.x) * a[0],
                      u = (o.y - t.y) * a[4],
                      c = 0,
                      l = 0,
                      h = 0,
                      f = 0;
                    this.graph.get('canvas').animate(
                      function (t) {
                        (h = s * t), (f = u * t), r.graph.translate(h - c, f - l), (c = h), (l = f);
                      },
                      (0, d.__assign)({}, n),
                    );
                  } else this.graph.translate((o.x - t.x) * a[0], (o.y - t.y) * a[4]);
                }),
                (t.prototype.getPointByCanvas = function (t, e) {
                  var n = this.graph.get('group').getMatrix();
                  return n || (n = [1, 0, 0, 0, 1, 0, 0, 0, 1]), C({ x: t, y: e }, n);
                }),
                (t.prototype.getPointByClient = function (t, e) {
                  var n = this.graph.get('canvas').getPointByClient(t, e);
                  return this.getPointByCanvas(n.x, n.y);
                }),
                (t.prototype.getClientByPoint = function (t, e) {
                  var n = this.graph.get('canvas'),
                    r = this.getCanvasByPoint(t, e),
                    i = n.getClientByPoint(r.x, r.y);
                  return { x: i.x, y: i.y };
                }),
                (t.prototype.getCanvasByPoint = function (t, e) {
                  var n = this.graph.get('group').getMatrix();
                  return n || (n = [1, 0, 0, 0, 1, 0, 0, 0, 1]), A({ x: t, y: e }, n);
                }),
                (t.prototype.focus = function (t, e, n) {
                  if (((0, u.isString)(t) && (t = this.graph.findById(t)), t)) {
                    var r = 0,
                      i = 0;
                    if (t.getType && 'edge' === t.getType()) {
                      var o = t.getSource().get('group').getMatrix(),
                        a = t.getTarget().get('group').getMatrix();
                      o && a
                        ? ((r = (o[6] + a[6]) / 2), (i = (o[7] + a[7]) / 2))
                        : (o || a) && ((r = o ? o[6] : a[6]), (i = o ? o[7] : a[7]));
                    } else {
                      var s = t.get('group').getMatrix();
                      s || (s = [1, 0, 0, 0, 1, 0, 0, 0, 1]), (r = s[6]), (i = s[7]);
                    }
                    this.focusPoint({ x: r, y: i }, e, n);
                  }
                }),
                (t.prototype.changeSize = function (t, e) {
                  var n = this.graph;
                  if (!(0, u.isNumber)(t) || !(0, u.isNumber)(e))
                    throw Error(
                      'invalid canvas width & height, please make sure width & height type is number',
                    );
                  n.set({ width: t, height: e }),
                    n.get('canvas').changeSize(t, e),
                    n.get('plugins').forEach(function (t) {
                      t.get('gridContainer') && t.positionInit();
                    });
                }),
                (t.prototype.destroy = function () {
                  (this.graph = null), (this.destroyed = !1);
                }),
                t
              );
            })();
          const Ut = Ft;
          function Vt(t) {
            return (
              (Vt =
                'function' == typeof Symbol && 'symbol' == typeof Symbol.iterator
                  ? function (t) {
                      return typeof t;
                    }
                  : function (t) {
                      return t &&
                        'function' == typeof Symbol &&
                        t.constructor === Symbol &&
                        t !== Symbol.prototype
                        ? 'symbol'
                        : typeof t;
                    }),
              Vt(t)
            );
          }
          function Wt(t) {
            if ('string' != typeof t) return t;
            var e = function (t) {
                if ('string' != typeof t) return t;
                try {
                  return JSON.parse(t.trim());
                } catch (e) {
                  return t.trim();
                }
              },
              n = e(t);
            if ('string' != typeof n) return n;
            for (
              var r = function (t) {
                  return t[t.length - 1];
                },
                i = t.trim(),
                o = [],
                a = [],
                s = function () {
                  for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
                  return t.some(function (t) {
                    return r(a) === t;
                  });
                },
                u = null,
                c = 0,
                l = '';
              c < i.length;

            ) {
              var h = i[c],
                f = s('"', "'");
              if (f || h.trim()) {
                var d = '\\' === i[c - 1],
                  p = s('}'),
                  g = s(']'),
                  v = s(','),
                  y = r(o);
                if (f)
                  if (r(a) !== h || d) l += h;
                  else {
                    a.pop();
                    var m = e(l);
                    y.push(m), (u = m), (l = '');
                  }
                else if (g && ',' === h) l && (y.push(e(l)), (l = ''));
                else if (p && ':' === h) a.push(','), l && (y.push(l), (l = ''));
                else if (v && ',' === h) l && (y.push(e(l)), (l = '')), a.pop();
                else if ('}' === h && (p || v)) {
                  l && (y.push(e(l)), (l = '')), v && a.pop();
                  for (var b = {}, x = 1; x < y.length; x += 2) b[y[x - 1]] = y[x];
                  o.pop(), o.length && r(o).push(b), a.pop(), (u = b);
                } else
                  ']' === h && g
                    ? (l && (y.push(e(l)), (l = '')),
                      o.pop(),
                      o.length && r(o).push(y),
                      a.pop(),
                      (u = y))
                    : '{' === h
                    ? (o.push([]), a.push('}'))
                    : '[' === h
                    ? (o.push([]), a.push(']'))
                    : '"' === h
                    ? a.push('"')
                    : "'" === h
                    ? a.push("'")
                    : (l += h);
                c += 1;
              } else c += 1;
            }
            return u || l;
          }
          function Yt(t, e) {
            var n = {},
              r = (t.getAttributeNames && t.getAttributeNames()) || [],
              i =
                t.children &&
                Array.from(t.children).map(function (t) {
                  return Yt(t, e);
                }),
              o = {},
              a = t.tagName ? t.tagName.toLowerCase() : 'group';
            return (
              'text' === a && (n.text = t.innerText),
              (o.type = a),
              'img' === a && (o.type = 'image'),
              Array.from(r).forEach(function (e) {
                var r = e.split('-').reduce(function (t, e) {
                    return t + e.charAt(0).toUpperCase() + e.slice(1);
                  }),
                  i = t.getAttribute(e);
                try {
                  if ('style' === r || 'attrs' === r) {
                    var a = Wt(i);
                    n = (0, d.__assign)((0, d.__assign)({}, n), a);
                  } else o[r] = Wt(i);
                } catch (t) {
                  if ('style' === r) throw t;
                  o[r] = i;
                }
              }),
              (o.attrs = n),
              e &&
                e.style &&
                o.name &&
                'object' === Vt(e.style[o.name]) &&
                (o.attrs = (0, d.__assign)((0, d.__assign)({}, o.attrs), e.style[o.name])),
              e &&
                e.style &&
                o.keyshape &&
                (o.attrs = (0, d.__assign)((0, d.__assign)({}, o.attrs), e.style)),
              i.length && (o.children = i),
              o
            );
          }
          function Xt(t, e) {
            var n;
            void 0 === e && (e = { x: 0, y: 0 });
            var r = (0, d.__assign)({ x: 0, y: 0, width: 0, height: 0 }, e);
            if (null === (n = t.children) || void 0 === n ? void 0 : n.length) {
              var i = t.attrs,
                o = void 0 === i ? {} : i,
                a = o.marginTop,
                s = (0, d.__assign)({}, e);
              a && (s.y += a);
              for (var u = 0; u < t.children.length; u++) {
                t.children[u].attrs.key = ''.concat(o.key || 'root', ' -').concat(u, ' ');
                var c = Xt(t.children[u], s);
                if (c.bbox) {
                  var l = c.bbox;
                  'inline' === c.attrs.next ? (s.x += c.bbox.width) : (s.y += c.bbox.height),
                    l.width + l.x > r.width && (r.width = l.width + l.x),
                    l.height + l.y > r.height && (r.height = l.height + l.y);
                }
              }
            }
            return (
              (t.bbox = (function (t, e, n) {
                var r,
                  i,
                  o = t.attrs,
                  a = void 0 === o ? {} : o,
                  s = { x: e.x || 0, y: e.y || 0, width: n.width || 0, height: n.height || 0 };
                switch (t.type) {
                  case 'maker':
                  case 'circle':
                    a.r && ((i = 2 * a.r), (r = 2 * a.r));
                    break;
                  case 'text':
                    a.text &&
                      ((i = St(a.text, a.fontSize || 12)[0]),
                      (r = 16),
                      (s.y += r),
                      (s.height = r),
                      (s.width = i),
                      (t.attrs = (0, d.__assign)({ fontSize: 12, fill: '#000' }, a)));
                    break;
                  default:
                    a.width && (i = a.width), a.height && (r = a.height);
                }
                return (
                  r >= 0 && (s.height = r),
                  i >= 0 && (s.width = i),
                  a.marginTop && (s.y += a.marginTop),
                  a.marginLeft && (s.x += a.marginLeft),
                  s
                );
              })(t, e, r)),
              (t.attrs = (0, d.__assign)((0, d.__assign)({}, t.attrs), t.bbox)),
              t
            );
          }
          function Ht(t, e) {
            var n,
              r,
              i,
              o,
              a = (t || {}).type,
              s = ((null == e ? void 0 : e.attrs) || {}).key;
            if ((s && t && (t.attrs.key = s), !t && e))
              return { action: 'delete', val: e, type: a, key: s };
            if (t && !e) return { action: 'add', val: t, type: a };
            if (!t && !e) return { action: 'same', type: a };
            var u = [];
            if (
              (null === (n = t.children) || void 0 === n ? void 0 : n.length) > 0 ||
              (null === (r = e.children) || void 0 === r ? void 0 : r.length) > 0
            )
              for (
                var c = Math.max(
                    null === (i = t.children) || void 0 === i ? void 0 : i.length,
                    null === (o = e.children) || void 0 === o ? void 0 : o.length,
                  ),
                  l = e.children || [],
                  h = t.children || [],
                  f = 0;
                f < c;
                f += 1
              )
                u.push(Ht(h[f], l[f]));
            var d = Object.keys(e.attrs),
              p = Object.keys(t.attrs);
            return e.type !== t.type
              ? { action: 'restructure', nowTarget: t, formerTarget: e, key: s, children: u }
              : d
                  .filter(function (t) {
                    return 'children' !== t;
                  })
                  .some(function (n) {
                    return t.attrs[n] !== e.attrs[n] || !p.includes(n);
                  })
              ? { action: 'change', val: t, children: u, type: a, key: s }
              : { action: 'same', children: u, type: a, key: s };
          }
          function qt(t) {
            var e = {},
              n = function (e) {
                var n,
                  r = ((n = 'function' == typeof t ? t(e) : t),
                  function (t) {
                    for (var e = n.length, r = [], i = 0, o = ''; i < e; )
                      if ('{' === n[i] && '{' === n[i + 1]) r.push(o), (o = ''), (i += 2);
                      else if ('}' === n[i] && '}' === n[i + 1]) {
                        if (r.length) {
                          var a = r.pop();
                          (o = (0, u.get)(t, o, a.endsWith('=') ? '"{'.concat(o, '}"') : o)),
                            r.push(a + o);
                        }
                        (i += 2), (o = '');
                      } else (o += n[i]), (i += 1);
                    return (
                      r.push(o),
                      r
                        .map(function (t, e) {
                          return r[e - 1] && r[e - 1].endsWith('=') ? '"{'.concat(t, '}"') : t;
                        })
                        .join('')
                    );
                  })(e),
                  i = document.createElement('div');
                i.innerHTML = r;
                var o = Xt(Yt(i.children[0], e));
                return i.remove(), o;
              };
            return {
              draw: function (t, r) {
                var i = n(t),
                  o = r;
                return (
                  (function t(e) {
                    var n = e.attrs,
                      i = void 0 === n ? {} : n,
                      a = e.bbox,
                      s = e.type,
                      u = e.children,
                      c = (0, d.__rest)(e, ['attrs', 'bbox', 'type', 'children']);
                    if ('group' !== e.type) {
                      var l = r.addShape(
                        e.type,
                        (0, d.__assign)({ attrs: i, origin: { bbox: a, type: s, children: u } }, c),
                      );
                      e.keyshape && (o = l);
                    }
                    e.children &&
                      e.children.forEach(function (e) {
                        return t(e);
                      });
                  })(i),
                  (e[t.id] = [i]),
                  o
                );
              },
              update: function (t, r) {
                e[t.id] || (e[t.id] = []);
                var i = r.getContainer(),
                  o = i.get('children'),
                  a = n(t),
                  s = Ht(a, e[t.id].pop()),
                  u = function t(e) {
                    var n;
                    'group' !== e.type && i.addShape(e.type, { attrs: e.attrs }),
                      (null === (n = e.children) || void 0 === n ? void 0 : n.length) &&
                        e.children.map(function (e) {
                          return t(e);
                        });
                  },
                  c = function t(e) {
                    var n,
                      r = o.find(function (t) {
                        return t.attrs.key === e.attrs.key;
                      });
                    r && i.removeChild(r),
                      (null === (n = e.children) || void 0 === n ? void 0 : n.length) &&
                        e.children.map(function (e) {
                          return t(e);
                        });
                  };
                !(function t(e) {
                  var n = e.key;
                  if ('group' !== e.type) {
                    var i = o.find(function (t) {
                      return t.attrs.key === n;
                    });
                    switch (e.action) {
                      case 'change':
                        if (i) {
                          var a = e.val.keyshape ? r.getOriginStyle() : {};
                          i.attr((0, d.__assign)((0, d.__assign)({}, a), e.val.attrs));
                        }
                        break;
                      case 'add':
                        u(e.val);
                        break;
                      case 'delete':
                        c(e.val);
                        break;
                      case 'restructure':
                        c(e.formerTarget), u(e.nowTarget);
                    }
                  }
                  e.children &&
                    e.children.forEach(function (e) {
                      return t(e);
                    });
                })(s),
                  e[t.id].push(a);
              },
              getAnchorPoints: function () {
                return [
                  [0, 0.5],
                  [1, 0.5],
                  [0.5, 1],
                  [0.5, 0],
                ];
              },
            };
          }
          var Kt = {};
          function Zt(t) {
            return Kt[t] || (Kt[t] = (0, u.upperFirst)(t)), Kt[t];
          }
          var $t = {
              defaultShapeType: 'defaultType',
              className: null,
              getShape: function (t) {
                var e = this;
                return e[t] || e[e.defaultShapeType] || e['simple-circle'];
              },
              draw: function (t, e, n) {
                var r = this.getShape(t);
                n.shapeMap = {};
                var i = r.draw(e, n);
                return r.afterDraw && r.afterDraw(e, n, i), i;
              },
              baseUpdate: function (t, e, n, r) {
                var i,
                  o,
                  a = this.getShape(t);
                a.update &&
                  ((a.mergeStyle =
                    null === (i = a.getOptions) || void 0 === i ? void 0 : i.call(a, e, r)),
                  null === (o = a.update) || void 0 === o || o.call(a, e, n, r)),
                  a.afterUpdate && a.afterUpdate(e, n);
              },
              setState: function (t, e, n, r) {
                this.getShape(t).setState(e, n, r);
              },
              shouldUpdate: function (t) {
                return !!this.getShape(t).update;
              },
              getControlPoints: function (t, e) {
                return this.getShape(t).getControlPoints(e);
              },
              getAnchorPoints: function (t, e) {
                return this.getShape(t).getAnchorPoints(e);
              },
            },
            Qt = {
              options: {},
              draw: function (t, e) {
                return this.drawShape(t, e);
              },
              drawShape: function () {},
              afterDraw: function () {},
              afterUpdate: function () {},
              setState: function () {},
              getControlPoints: function (t) {
                return t.controlPoints;
              },
              getAnchorPoints: function (t) {
                var e = this.options.anchorPoints;
                return t.anchorPoints || e;
              },
            },
            Jt = (function () {
              function t() {}
              return (
                (t.registerFactory = function (e, n) {
                  var r = Zt(e),
                    i = $t,
                    o = (0, d.__assign)((0, d.__assign)({}, i), n);
                  return (t[r] = o), (o.className = r), o;
                }),
                (t.getFactory = function (e) {
                  return t[Zt(e)];
                }),
                (t.registerNode = function (e, n, r) {
                  var i,
                    o = t.Node;
                  if ('string' == typeof n || 'function' == typeof n) {
                    var a = qt(n);
                    i = (0, d.__assign)((0, d.__assign)({}, o.getShape('single-node')), a);
                  } else if (n.jsx)
                    (a = qt(n.jsx)),
                      (i = (0, d.__assign)(
                        (0, d.__assign)((0, d.__assign)({}, o.getShape('single-node')), a),
                        n,
                      ));
                  else {
                    o.getShape(r);
                    var s = r ? o.getShape(r) : Qt;
                    i = (0, d.__assign)((0, d.__assign)({}, s), n);
                  }
                  return (i.type = e), (i.itemType = 'node'), (o[e] = i), i;
                }),
                (t.registerEdge = function (e, n, r) {
                  var i = t.Edge,
                    o = r ? i.getShape(r) : Qt,
                    a = (0, d.__assign)((0, d.__assign)({}, o), n);
                  return (a.type = e), (a.itemType = 'edge'), (i[e] = a), a;
                }),
                (t.registerCombo = function (e, n, r) {
                  var i = t.Combo,
                    o = r ? i.getShape(r) : Qt,
                    a = (0, d.__assign)((0, d.__assign)({}, o), n);
                  return (a.type = e), (a.itemType = 'combo'), (i[e] = a), a;
                }),
                t
              );
            })();
          const te = Jt;
          Jt.registerFactory('node', { defaultShapeType: 'circle' }),
            Jt.registerFactory('edge', { defaultShapeType: 'line' }),
            Jt.registerFactory('combo', { defaultShapeType: 'circle' });
          var ee = 'bboxCache',
            ne = 'bboxCanvasCache',
            re = (function () {
              function t(t) {
                (this._cfg = {}), (this.destroyed = !1);
                this._cfg = Object.assign(
                  {
                    id: void 0,
                    type: 'item',
                    model: {},
                    group: void 0,
                    animate: !1,
                    visible: !0,
                    locked: !1,
                    event: !0,
                    keyShape: void 0,
                    states: [],
                  },
                  this.getDefaultCfg(),
                  t,
                );
                var e = this.get('model'),
                  n = e.id,
                  r = this.get('type');
                n || ((n = Dt(r)), (this.get('model').id = n)), this.set('id', n);
                var i = t.group;
                i && (i.set('item', this), i.set('id', n)), this.init(), this.draw();
                var o = e.shape || e.type || ('edge' === r ? 'line' : 'circle'),
                  a = this.get('shapeFactory');
                if (a && a[o]) {
                  var s = a[o].options;
                  if (s && s.stateStyles) {
                    var c = this.get('styles') || e.stateStyles;
                    (c = (0, u.deepMix)({}, s.stateStyles, c)), this.set('styles', c);
                  }
                }
              }
              return (
                (t.prototype.calculateBBox = function () {
                  var t = this.get('keyShape'),
                    e = this.get('group'),
                    n = vt(t, e);
                  return (
                    (n.x = n.minX),
                    (n.y = n.minY),
                    (n.width = n.maxX - n.minX),
                    (n.height = n.maxY - n.minY),
                    (n.centerX = (n.minX + n.maxX) / 2),
                    (n.centerY = (n.minY + n.maxY) / 2),
                    n
                  );
                }),
                (t.prototype.calculateCanvasBBox = function () {
                  var t = this.get('keyShape'),
                    e = this.get('group'),
                    n = vt(t, e);
                  return (
                    (n.x = n.minX),
                    (n.y = n.minY),
                    (n.width = n.maxX - n.minX),
                    (n.height = n.maxY - n.minY),
                    (n.centerX = (n.minX + n.maxX) / 2),
                    (n.centerY = (n.minY + n.maxY) / 2),
                    n
                  );
                }),
                (t.prototype.drawInner = function () {
                  var t = this,
                    e = t.get('shapeFactory'),
                    n = t.get('group'),
                    r = t.get('model');
                  n.clear();
                  var i = r.visible;
                  if ((void 0 === i || i || t.changeVisibility(i), e)) {
                    t.updatePosition(r);
                    var o = t.getShapeCfg(r),
                      a = o.type,
                      s = e.draw(a, o, n);
                    s && (t.set('keyShape', s), s.set('isKeyShape', !0), s.set('draggable', !0)),
                      this.setOriginStyle(),
                      this.set('currentShape', a),
                      this.restoreStates(e, a);
                  }
                }),
                (t.prototype.setOriginStyle = function () {
                  var t = this.get('group'),
                    e = t.get('children'),
                    n = this.getKeyShape(),
                    r = this,
                    i = n.get('name');
                  if (this.get('originStyle')) {
                    var o = this.get('originStyle');
                    i && !o[i] && (o[i] = {});
                    var a = this.getCurrentStatesStyle(),
                      s = function (t) {
                        var n = e[t],
                          s = n.get('name'),
                          c = n.attr();
                        if (s && s !== i) {
                          var l = a[s];
                          o[s] || (o[s] = {}),
                            l
                              ? Object.keys(c).forEach(function (t) {
                                  var e = c[t];
                                  e !== l[t] && (o[s][t] = e);
                                })
                              : (o[s] =
                                  'image' !== n.get('type')
                                    ? (0, u.clone)(c)
                                    : r.getShapeStyleByName(s));
                        } else {
                          var h = n.attr(),
                            f = {};
                          Object.keys(a).forEach(function (t) {
                            var e = a[t];
                            (t !== i && (0, u.isPlainObject)(e)) || (f[t] = e);
                          }),
                            Object.keys(h).forEach(function (t) {
                              var e = h[t];
                              f[t] !== e && (i ? (o[i][t] = e) : (o[t] = e));
                            });
                        }
                      };
                    for (l = 0; l < e.length; l++) s(l);
                    delete o.path,
                      delete o.matrix,
                      delete o.x,
                      delete o.y,
                      o[i] && (delete o[i].x, delete o[i].y, delete o[i].matrix, delete o[i].path),
                      r.set('originStyle', o);
                  } else {
                    for (var c = {}, l = 0; l < e.length; l++) {
                      var h = e[l],
                        f = h.get('type'),
                        d = h.get('name');
                      if (d && d !== i)
                        (c[d] = 'image' !== f ? (0, u.clone)(h.attr()) : r.getShapeStyleByName(d)),
                          'text' === f &&
                            c[d] &&
                            (delete c[d].x, delete c[d].y, delete c[d].matrix);
                      else {
                        var p = r.getShapeStyleByName();
                        if ((delete p.path, delete p.matrix, i))
                          if (d) c[i] = p;
                          else {
                            var g = Dt('shape');
                            h.set('name', g),
                              (t.shapeMap[g] = h),
                              (c[g] =
                                'image' !== f ? (0, u.clone)(h.attr()) : r.getShapeStyleByName(d));
                          }
                        else Object.assign(c, p);
                      }
                    }
                    r.set('originStyle', c);
                  }
                }),
                (t.prototype.restoreStates = function (t, e) {
                  var n = this,
                    r = n.get('states');
                  (0, u.each)(r, function (r) {
                    t.setState(e, r, !0, n);
                  });
                }),
                (t.prototype.init = function () {
                  var t = te.getFactory(this.get('type'));
                  this.set('shapeFactory', t);
                }),
                (t.prototype.get = function (t) {
                  return this._cfg[t];
                }),
                (t.prototype.set = function (t, e) {
                  (0, u.isPlainObject)(t)
                    ? (this._cfg = (0, d.__assign)((0, d.__assign)({}, this._cfg), t))
                    : (this._cfg[t] = e);
                }),
                (t.prototype.getDefaultCfg = function () {
                  return {};
                }),
                (t.prototype.clearCache = function () {
                  this.set(ee, null), this.set(ne, null);
                }),
                (t.prototype.beforeDraw = function () {}),
                (t.prototype.afterDraw = function () {}),
                (t.prototype.afterUpdate = function () {}),
                (t.prototype.draw = function () {
                  this.beforeDraw(), this.drawInner(), this.afterDraw();
                }),
                (t.prototype.getShapeStyleByName = function (t) {
                  var e,
                    n = this.get('group');
                  if ((e = t ? n.shapeMap[t] : this.getKeyShape())) {
                    var r = {};
                    return (
                      (0, u.each)(e.attr(), function (t, e) {
                        ('img' !== e || (0, u.isString)(t)) && (r[e] = t);
                      }),
                      r
                    );
                  }
                  return {};
                }),
                (t.prototype.getShapeCfg = function (t, e) {
                  var n = this.get('styles');
                  if (n) {
                    var r = t;
                    return (r.style = (0, d.__assign)((0, d.__assign)({}, n), t.style)), r;
                  }
                  return t;
                }),
                (t.prototype.getStateStyle = function (t) {
                  var e = this.get('styles');
                  return e && e[t];
                }),
                (t.prototype.getOriginStyle = function () {
                  return this.get('originStyle');
                }),
                (t.prototype.getCurrentStatesStyle = function () {
                  var t = this,
                    e = {},
                    n = t.getStates();
                  return n && n.length
                    ? ((0, u.each)(t.getStates(), function (n) {
                        e = Object.assign(e, t.getStateStyle(n));
                      }),
                      e)
                    : this.get('originStyle');
                }),
                (t.prototype.setState = function (t, e) {
                  var n = this.get('states'),
                    r = this.get('shapeFactory'),
                    i = t,
                    o = t;
                  (0, u.isString)(e) &&
                    ((i = ''.concat(t, ':').concat(e)), (o = ''.concat(t, ':')));
                  var a = n;
                  if ((0, u.isBoolean)(e)) {
                    var s = n.indexOf(o);
                    if (e) {
                      if (s > -1) return;
                      n.push(i);
                    } else s > -1 && n.splice(s, 1);
                  } else if ((0, u.isString)(e)) {
                    var c = n.filter(function (t) {
                      return t.includes(o);
                    });
                    c.length > 0 && this.clearStates(c),
                      (a = a.filter(function (t) {
                        return !t.includes(o);
                      })).push(i),
                      this.set('states', a);
                  }
                  if (r) {
                    var l = this.get('model').type;
                    r.setState(l, t, e, this);
                  }
                }),
                (t.prototype.clearStates = function (t) {
                  var e = this,
                    n = e.getStates(),
                    r = e.get('shapeFactory'),
                    i = e.get('model').type;
                  t || (t = n), (0, u.isString)(t) && (t = [t]);
                  var o = n.filter(function (e) {
                    return -1 === t.indexOf(e);
                  });
                  e.set('states', o),
                    t.forEach(function (t) {
                      r.setState(i, t, !1, e);
                    });
                }),
                (t.prototype.getContainer = function () {
                  return this.get('group');
                }),
                (t.prototype.getKeyShape = function () {
                  return this.get('keyShape');
                }),
                (t.prototype.getModel = function () {
                  return this.get('model');
                }),
                (t.prototype.getType = function () {
                  return this.get('type');
                }),
                (t.prototype.getID = function () {
                  return this.get('id');
                }),
                (t.prototype.isItem = function () {
                  return !0;
                }),
                (t.prototype.getStates = function () {
                  return this.get('states');
                }),
                (t.prototype.hasState = function (t) {
                  return this.getStates().indexOf(t) >= 0;
                }),
                (t.prototype.refresh = function (t) {
                  var e = this.get('model');
                  this.updatePosition(e),
                    this.updateShape(t),
                    this.afterUpdate(),
                    this.clearCache();
                }),
                (t.prototype.getUpdateType = function (t) {}),
                (t.prototype.update = function (t, e) {
                  void 0 === e && (e = void 0);
                  var n = this.get('model');
                  if ('move' === e) this.updatePosition(t);
                  else {
                    var r = n.visible,
                      i = t.visible;
                    r !== i && void 0 !== i && this.changeVisibility(i);
                    var o = { x: n.x, y: n.y };
                    (t.x = isNaN(+t.x) ? n.x : +t.x), (t.y = isNaN(+t.y) ? n.y : +t.y);
                    var a = this.get('styles');
                    if (t.stateStyles) {
                      var s = t.stateStyles;
                      (0, u.mix)(a, s), delete t.stateStyles;
                    }
                    Object.assign(n, t),
                      (o.x === t.x && o.y === t.y) || this.updatePosition(t),
                      this.updateShape(e);
                  }
                  this.afterUpdate(), this.clearCache();
                }),
                (t.prototype.updateShape = function (t) {
                  var e = this.get('shapeFactory'),
                    n = this.get('model'),
                    r = n.type;
                  if (e.shouldUpdate(r) && r === this.get('currentShape')) {
                    var i = this.getShapeCfg(n, t);
                    e.baseUpdate(r, i, this, t), 'move' !== t && this.setOriginStyle();
                  } else this.draw();
                  this.restoreStates(e, r);
                }),
                (t.prototype.updatePosition = function (t) {
                  var e = this.get('model'),
                    n = isNaN(+t.x) ? +e.x : +t.x,
                    r = isNaN(+t.y) ? +e.y : +t.y,
                    i = this.get('group');
                  if (isNaN(n) || isNaN(r)) return !1;
                  (e.x = n), (e.y = r);
                  var o = i.getMatrix();
                  return !(
                    (o && o[6] === n && o[7] === r) ||
                    (i.resetMatrix(), D(i, { x: n, y: r }), this.clearCache(), 0)
                  );
                }),
                (t.prototype.getBBox = function () {
                  var t = this.get(ee);
                  return t || ((t = this.calculateBBox()), this.set(ee, t)), t;
                }),
                (t.prototype.getCanvasBBox = function () {
                  var t = this.get(ne);
                  return t || ((t = this.calculateCanvasBBox()), this.set(ne, t)), t;
                }),
                (t.prototype.toFront = function () {
                  this.get('group').toFront();
                }),
                (t.prototype.toBack = function () {
                  this.get('group').toBack();
                }),
                (t.prototype.show = function () {
                  this.changeVisibility(!0);
                }),
                (t.prototype.hide = function () {
                  this.changeVisibility(!1);
                }),
                (t.prototype.changeVisibility = function (t) {
                  var e = this.get('group');
                  t ? e.show() : e.hide(), this.set('visible', t);
                }),
                (t.prototype.isVisible = function () {
                  return this.get('visible');
                }),
                (t.prototype.enableCapture = function (t) {
                  var e = this.get('group');
                  e && e.set('capture', t);
                }),
                (t.prototype.destroy = function () {
                  if (!this.destroyed) {
                    var t = this.get('animate'),
                      e = this.get('group');
                    t && e.stopAnimate(),
                      (e.shapeMap = {}),
                      this.clearCache(),
                      e.remove(),
                      (this._cfg = null),
                      (this.destroyed = !0);
                  }
                }),
                t
              );
            })();
          const ie = re;
          var oe = { source: 'start', target: 'end' },
            ae = 'Node',
            se = 'Point',
            ue = (function (t) {
              function e() {
                return (null !== t && t.apply(this, arguments)) || this;
              }
              return (
                (0, d.__extends)(e, t),
                (e.prototype.getDefaultCfg = function () {
                  return {
                    type: 'edge',
                    sourceNode: null,
                    targetNode: null,
                    startPoint: null,
                    endPoint: null,
                    linkCenter: !1,
                  };
                }),
                (e.prototype.setEnd = function (t, e) {
                  var n = oe[t] + se,
                    r = t + ae,
                    i = this.get(r);
                  i && !i.destroyed && i.removeEdge(this),
                    (0, u.isPlainObject)(e)
                      ? (this.set(n, e), this.set(r, null))
                      : e && (e.addEdge(this), this.set(r, e), this.set(n, null));
                }),
                (e.prototype.getLinkPoint = function (t, e, n) {
                  var r = oe[t] + se,
                    i = t + ae,
                    o = this.get(r);
                  if (!o) {
                    var a = this.get(i),
                      s = t + 'Anchor',
                      c = this.getPrePoint(t, n),
                      l = e[s];
                    (0, u.isNil)(l) || (o = a.getLinkPointByAnchor(l)),
                      (o = o || a.getLinkPoint(c)),
                      (0, u.isNil)(o.index) || this.set(''.concat(t, 'AnchorIndex'), o.index);
                  }
                  return o;
                }),
                (e.prototype.getPrePoint = function (t, e) {
                  if (e && e.length) return e['source' === t ? 0 : e.length - 1];
                  var n = 'source' === t ? 'target' : 'source';
                  return this.getEndPoint(n);
                }),
                (e.prototype.getEndPoint = function (t) {
                  var e = t + ae,
                    n = oe[t] + se,
                    r = this.get(e);
                  return r ? r.get('model') : this.get(n);
                }),
                (e.prototype.getControlPointsByCenter = function (t) {
                  var e = this.getEndPoint('source'),
                    n = this.getEndPoint('target'),
                    r = this.get('shapeFactory'),
                    i = t.type;
                  return r.getControlPoints(i, { startPoint: e, endPoint: n });
                }),
                (e.prototype.getEndCenter = function (t) {
                  var e = t + ae,
                    n = oe[t] + se,
                    r = this.get(e);
                  if (r) {
                    var i = r.getBBox();
                    return { x: i.centerX, y: i.centerY };
                  }
                  return this.get(n);
                }),
                (e.prototype.init = function () {
                  t.prototype.init.call(this),
                    this.setSource(this.get('source')),
                    this.setTarget(this.get('target'));
                }),
                (e.prototype.getShapeCfg = function (e, n) {
                  var r = this,
                    i = r.get('linkCenter'),
                    o = (null == n ? void 0 : n.includes('move'))
                      ? e
                      : t.prototype.getShapeCfg.call(this, e);
                  if (i)
                    (o.startPoint = r.getEndCenter('source')),
                      (o.endPoint = r.getEndCenter('target'));
                  else {
                    var a = o.controlPoints || r.getControlPointsByCenter(o);
                    (o.startPoint = r.getLinkPoint('source', e, a)),
                      (o.endPoint = r.getLinkPoint('target', e, a));
                  }
                  return (
                    (o.sourceNode = r.get('sourceNode')), (o.targetNode = r.get('targetNode')), o
                  );
                }),
                (e.prototype.getModel = function () {
                  var t = this.get('model'),
                    e = this.get('source'.concat(ae)),
                    n = this.get('target'.concat(ae));
                  return (
                    e ? delete t['source'.concat(ae)] : (t.source = this.get('start'.concat(se))),
                    n ? delete t['target'.concat(ae)] : (t.target = this.get('end'.concat(se))),
                    (0, u.isString)(t.source) ||
                      (0, u.isPlainObject)(t.source) ||
                      (t.source = t.source.getID()),
                    (0, u.isString)(t.target) ||
                      (0, u.isPlainObject)(t.target) ||
                      (t.target = t.target.getID()),
                    t
                  );
                }),
                (e.prototype.setSource = function (t) {
                  this.setEnd('source', t), this.set('source', t);
                }),
                (e.prototype.setTarget = function (t) {
                  this.setEnd('target', t), this.set('target', t);
                }),
                (e.prototype.getSource = function () {
                  return this.get('source');
                }),
                (e.prototype.getTarget = function () {
                  return this.get('target');
                }),
                (e.prototype.updatePosition = function () {
                  return !1;
                }),
                (e.prototype.update = function (t, e) {
                  void 0 === e && (e = void 0);
                  var n = this.get('model'),
                    r = n.visible,
                    i = t.visible;
                  r !== i && void 0 !== i && this.changeVisibility(i);
                  var o = this.get('styles');
                  if (t.stateStyles) {
                    var a = t.stateStyles;
                    (0, u.mix)(o, a), delete t.stateStyles;
                  }
                  Object.assign(n, t), this.updateShape(e), this.afterUpdate(), this.clearCache();
                }),
                (e.prototype.destroy = function () {
                  var e = this.get('source'.concat(ae)),
                    n = this.get('target'.concat(ae));
                  e && !e.destroyed && e.removeEdge(this),
                    n && !n.destroyed && n.removeEdge(this),
                    t.prototype.destroy.call(this);
                }),
                e
              );
            })(ie);
          const ce = ue;
          var le = 'anchorPointsCache',
            he = (function (t) {
              function e() {
                return (null !== t && t.apply(this, arguments)) || this;
              }
              return (
                (0, d.__extends)(e, t),
                (e.prototype.getNearestPoint = function (t, e) {
                  for (var n = 0, r = t[0], i = T(t[0], e), o = 0; o < t.length; o++) {
                    var a = t[o],
                      s = T(a, e);
                    s < i && ((r = a), (i = s), (n = o));
                  }
                  return (r.anchorIndex = n), r;
                }),
                (e.prototype.getDefaultCfg = function () {
                  return { type: 'node', edges: [] };
                }),
                (e.prototype.getEdges = function () {
                  return this.get('edges');
                }),
                (e.prototype.getInEdges = function () {
                  var t = this;
                  return this.get('edges').filter(function (e) {
                    return e.get('target') === t;
                  });
                }),
                (e.prototype.getOutEdges = function () {
                  var t = this;
                  return this.get('edges').filter(function (e) {
                    return e.get('source') === t;
                  });
                }),
                (e.prototype.getNeighbors = function (t) {
                  var e = this,
                    n = this.get('edges');
                  return 'target' === t
                    ? n
                        .filter(function (t) {
                          return t.getSource() === e;
                        })
                        .map(function (t) {
                          return t.getTarget();
                        })
                    : 'source' === t
                    ? n
                        .filter(function (t) {
                          return t.getTarget() === e;
                        })
                        .map(function (t) {
                          return t.getSource();
                        })
                    : n.map(function (t) {
                        return t.getSource() === e ? t.getTarget() : t.getSource();
                      });
                }),
                (e.prototype.getLinkPointByAnchor = function (t) {
                  return this.getAnchorPoints()[t];
                }),
                (e.prototype.getLinkPoint = function (t) {
                  var e,
                    n,
                    r = this.get('keyShape').get('type'),
                    i = this.get('type'),
                    o = this.getBBox();
                  'combo' === i
                    ? ((e = o.centerX || (o.maxX + o.minX) / 2),
                      (n = o.centerY || (o.maxY + o.minY) / 2))
                    : ((e = o.centerX), (n = o.centerY));
                  var a,
                    s = this.getAnchorPoints();
                  switch (r) {
                    case 'circle':
                      a = M({ x: e, y: n, r: o.width / 2 }, t);
                      break;
                    case 'ellipse':
                      a = k({ x: e, y: n, rx: o.width / 2, ry: o.height / 2 }, t);
                      break;
                    default:
                      a = S(o, t);
                  }
                  var u = a;
                  return (
                    s.length && (u || (u = t), (u = this.getNearestPoint(s, u))),
                    u || (u = { x: e, y: n }),
                    u
                  );
                }),
                (e.prototype.getAnchorPoints = function () {
                  var t = this.get(le);
                  if (!t) {
                    t = [];
                    var e = this.get('shapeFactory'),
                      n = this.getBBox(),
                      r = this.get('model'),
                      i = this.getShapeCfg(r),
                      o = r.type,
                      a = e.getAnchorPoints(o, i) || [];
                    (0, u.each)(a, function (e, r) {
                      var i = {
                        x: n.minX + e[0] * n.width,
                        y: n.minY + e[1] * n.height,
                        anchorIndex: r,
                      };
                      t.push(i);
                    }),
                      this.set(le, t);
                  }
                  return t;
                }),
                (e.prototype.addEdge = function (t) {
                  this.get('edges').push(t);
                }),
                (e.prototype.lock = function () {
                  this.set('locked', !0);
                }),
                (e.prototype.unlock = function () {
                  this.set('locked', !1);
                }),
                (e.prototype.hasLocked = function () {
                  return this.get('locked');
                }),
                (e.prototype.removeEdge = function (t) {
                  var e = this.getEdges(),
                    n = e.indexOf(t);
                  n > -1 && e.splice(n, 1);
                }),
                (e.prototype.clearCache = function () {
                  this.set('bboxCache', null), this.set(le, null);
                }),
                (e.prototype.getUpdateType = function (t) {
                  var e, n, r, i, o;
                  if (t) {
                    var a = !(0, u.isNil)(t.x),
                      s = !(0, u.isNil)(t.y),
                      c = Object.keys(t);
                    return (1 === c.length && (a || s)) || (2 === c.length && a && s)
                      ? 'move'
                      : (0, u.isNumber)(t.x) ||
                        (0, u.isNumber)(t.y) ||
                        t.type ||
                        t.anchorPoints ||
                        t.size ||
                        ((null == t ? void 0 : t.style) &&
                          ((null === (e = null == t ? void 0 : t.style) || void 0 === e
                            ? void 0
                            : e.r) ||
                            (null === (n = null == t ? void 0 : t.style) || void 0 === n
                              ? void 0
                              : n.width) ||
                            (null === (r = null == t ? void 0 : t.style) || void 0 === r
                              ? void 0
                              : r.height) ||
                            (null === (i = null == t ? void 0 : t.style) || void 0 === i
                              ? void 0
                              : i.rx) ||
                            (null === (o = null == t ? void 0 : t.style) || void 0 === o
                              ? void 0
                              : o.ry)))
                      ? 'bbox|label'
                      : c.includes('label') || c.includes('labelCfg')
                      ? 'style|label'
                      : 'style';
                  }
                }),
                e
              );
            })(ie);
          const fe = he;
          var de = 'bboxCache',
            pe = 'bboxCanvasCache',
            ge = 'sizeCache',
            ve = 'anchorPointsCache',
            ye = (function (t) {
              function e() {
                return (null !== t && t.apply(this, arguments)) || this;
              }
              return (
                (0, d.__extends)(e, t),
                (e.prototype.getDefaultCfg = function () {
                  return { type: 'combo', nodes: [], edges: [], combos: [] };
                }),
                (e.prototype.getShapeCfg = function (t) {
                  var e = this.get('styles'),
                    n = this.get('bbox');
                  if (e && n) {
                    var r = t,
                      i = {
                        r: Math.hypot(n.height, n.width) / 2 || ct.defaultCombo.size[0] / 2,
                        width: n.width || ct.defaultCombo.size[0],
                        height: n.height || ct.defaultCombo.size[1],
                      };
                    r.style = (0, d.__assign)((0, d.__assign)((0, d.__assign)({}, e), t.style), i);
                    var o = t.padding || ct.defaultCombo.padding;
                    return (
                      (0, u.isNumber)(o)
                        ? ((i.r += o), (i.width += 2 * o), (i.height += 2 * o))
                        : ((i.r += o[0]),
                          (i.width += o[1] + o[3] || 2 * o[1]),
                          (i.height += o[0] + o[2] || 2 * o[0])),
                      this.set(ge, i),
                      r
                    );
                  }
                  return t;
                }),
                (e.prototype.calculateCanvasBBox = function () {
                  if (!this.destroyed) {
                    var t = this.get('keyShape'),
                      e = this.get('group'),
                      n = vt(t, e);
                    (n.centerX = (n.minX + n.maxX) / 2), (n.centerY = (n.minY + n.maxY) / 2);
                    var r = this.get(ge),
                      i = this.get(de) || {},
                      o = i.x,
                      a = i.x;
                    return (
                      r
                        ? ((r.width = Math.max(r.width, n.width)),
                          (r.height = Math.max(r.height, n.height)),
                          'circle' === t.get('type')
                            ? ((n.width = 2 * r.r), (n.height = 2 * r.r))
                            : ((n.width = r.width), (n.height = r.height)),
                          (n.minX = n.centerX - n.width / 2),
                          (n.minY = n.centerY - n.height / 2),
                          (n.maxX = n.centerX + n.width / 2),
                          (n.maxY = n.centerY + n.height / 2))
                        : ((n.width = n.maxX - n.minX),
                          (n.height = n.maxY - n.minY),
                          (n.centerX = (n.minX + n.maxX) / 2),
                          (n.centerY = (n.minY + n.maxY) / 2)),
                      (n.x = n.minX),
                      (n.y = n.minY),
                      (n.x === o && n.y === a) || this.set(ve, null),
                      n
                    );
                  }
                }),
                (e.prototype.getChildren = function () {
                  return { nodes: this.getNodes(), combos: this.getCombos() };
                }),
                (e.prototype.getNodes = function () {
                  return this.get('nodes');
                }),
                (e.prototype.getCombos = function () {
                  return this.get('combos');
                }),
                (e.prototype.addChild = function (t) {
                  switch (t.getType()) {
                    case 'node':
                      this.addNode(t);
                      break;
                    case 'combo':
                      this.addCombo(t);
                      break;
                    default:
                      return (
                        console.warn(
                          'Only node or combo items are allowed to be added into a combo',
                        ),
                        !1
                      );
                  }
                  return !0;
                }),
                (e.prototype.addCombo = function (t) {
                  return this.get('combos').push(t), !0;
                }),
                (e.prototype.addNode = function (t) {
                  return this.get('nodes').push(t), !0;
                }),
                (e.prototype.removeChild = function (t) {
                  switch (t.getType()) {
                    case 'node':
                      this.removeNode(t);
                      break;
                    case 'combo':
                      this.removeCombo(t);
                      break;
                    default:
                      return (
                        console.warn(
                          'Only node or combo items are allowed to be added into a combo',
                        ),
                        !1
                      );
                  }
                  return !0;
                }),
                (e.prototype.removeCombo = function (t) {
                  if (t) {
                    var e = this.getCombos(),
                      n = e.indexOf(t);
                    return n > -1 && (e.splice(n, 1), !0);
                  }
                }),
                (e.prototype.removeNode = function (t) {
                  if (t) {
                    var e = this.getNodes(),
                      n = e.indexOf(t);
                    return n > -1 && (e.splice(n, 1), !0);
                  }
                }),
                (e.prototype.getUpdateType = function (t) {}),
                (e.prototype.getBBox = function () {
                  return this.set(pe, null), this.calculateCanvasBBox();
                }),
                (e.prototype.clearCache = function () {
                  this.set(de, null), this.set(pe, null), this.set(ve, null);
                }),
                (e.prototype.destroy = function () {
                  if (!this.destroyed) {
                    var t = this.get('animate'),
                      e = this.get('group');
                    t && e.stopAnimate(),
                      (e.shapeMap = {}),
                      this.clearCache(),
                      this.set(ge, null),
                      this.set('bbox', null),
                      e.remove(),
                      (this._cfg = null),
                      (this.destroyed = !0);
                  }
                }),
                e
              );
            })(fe);
          const me = ye;
          var be = 'node',
            xe = 'edge',
            _e = 'vedge',
            we = 'combo',
            Ee = 'Mapper',
            Se = (function () {
              function t(t) {
                var e = this;
                (this.edgeToBeUpdateMap = {}),
                  (this.throttleRefresh = (0, u.throttle)(
                    function (t) {
                      var n,
                        r = e.graph;
                      if (r && !r.get('destroyed')) {
                        var i = e.edgeToBeUpdateMap;
                        i &&
                          (null === (n = Object.keys(i)) || void 0 === n ? void 0 : n.length) &&
                          (Object.keys(i).forEach(function (t) {
                            var e = i[t].edge;
                            if (e && !e.destroyed) {
                              var n = e.getSource(),
                                r = e.getTarget();
                              n && !n.destroyed && r && !r.destroyed && e.refresh(i[t].updateType);
                            }
                          }),
                          (e.edgeToBeUpdateMap = {}));
                      }
                    },
                    16,
                    { trailing: !0, leading: !0 },
                  )),
                  (this.graph = t),
                  (this.destroyed = !1);
              }
              return (
                (t.prototype.addItem = function (t, e) {
                  var n = this.graph,
                    r = t === _e ? xe : t,
                    i = n.get(''.concat(r, 'Group')) || n.get('group'),
                    o = (0, u.upperFirst)(r),
                    a = null,
                    s = n.get(r + (0, u.upperFirst)('stateStyles')) || {},
                    c = n.get('default' + o);
                  e.stateStyles && (s = e.stateStyles),
                    c &&
                      (0, u.each)(c, function (t, n) {
                        (0, u.isObject)(t) && !(0, u.isArray)(t)
                          ? (e[n] = (0, u.deepMix)({}, t, e[n]))
                          : (0, u.isArray)(t)
                          ? (e[n] = e[n] || (0, u.clone)(c[n]))
                          : (e[n] = e[n] || c[n]);
                      });
                  var l = n.get(r + Ee);
                  if (l) {
                    var h = l(e);
                    h.stateStyles && ((s = h.stateStyles), delete h.stateStyles),
                      (0, u.each)(h, function (t, n) {
                        (0, u.isObject)(t) && !(0, u.isArray)(t)
                          ? (e[n] = (0, u.deepMix)({}, e[n], t))
                          : (e[n] = h[n] || e[n]);
                      });
                  }
                  if ((n.emit('beforeadditem', { type: t, model: e }), t === xe || t === _e)) {
                    var f = void 0,
                      d = void 0;
                    if (
                      ((f = e.source),
                      (d = e.target),
                      f && (0, u.isString)(f) && (f = n.findById(f)),
                      d && (0, u.isString)(d) && (d = n.findById(d)),
                      !f || !d)
                    )
                      return void console.warn(
                        'The source or target node of edge '.concat(e.id, ' does not exist!'),
                      );
                    f.getType && 'combo' === f.getType() && (e.isComboEdge = !0),
                      d.getType && 'combo' === d.getType() && (e.isComboEdge = !0),
                      (a = new ce({
                        model: e,
                        source: f,
                        target: d,
                        styles: s,
                        linkCenter: n.get('linkCenter'),
                        group: i.addGroup(),
                      }));
                  } else if (t === be) a = new fe({ model: e, styles: s, group: i.addGroup() });
                  else if (t === we) {
                    var p = e.children,
                      g = At(p, n),
                      v = void 0,
                      y = void 0;
                    if (
                      (isNaN(g.x) ? isNaN(e.x) && (v = 100 * Math.random()) : (v = g.x),
                      isNaN(g.y) ? isNaN(e.y) && (y = 100 * Math.random()) : (y = g.y),
                      isNaN(e.x) || isNaN(e.y))
                    )
                      (e.x = v), (e.y = y);
                    else {
                      var m = e.x - v,
                        b = e.y - y;
                      this.updateComboSucceeds(e.id, m, b, p);
                    }
                    var x = i.addGroup();
                    x.setZIndex(e.depth);
                    var _ = (a = new me({
                      model: e,
                      styles: s,
                      bbox: e.collapsed ? At([], n) : g,
                      group: x,
                    })).getModel();
                    (p || []).forEach(function (t) {
                      var e = n.findById(t.id);
                      a.addChild(e), (t.depth = _.depth + 2);
                    }),
                      e.collapsed &&
                        setTimeout(function () {
                          a.destroyed || (n.collapseCombo(a), n.updateCombo(a));
                        }, 0);
                  }
                  if (a)
                    return (
                      n.get(''.concat(t, 's')).push(a),
                      (n.get('itemMap')[a.get('id')] = a),
                      n.emit('afteradditem', { item: a, model: e }),
                      a
                    );
                }),
                (t.prototype.updateItem = function (t, e) {
                  var n,
                    r,
                    i = this,
                    o = this.graph;
                  if (((0, u.isString)(t) && (t = o.findById(t)), t && !t.destroyed)) {
                    var a = '';
                    t.getType && (a = t.getType());
                    var s = o.get(a + Ee),
                      c = t.getModel(),
                      l = c.x,
                      h = c.y,
                      f = t.getUpdateType(e);
                    if (s) {
                      var p = s((0, u.deepMix)({}, c, e)),
                        g = (0, u.deepMix)({}, c, p, e);
                      p.stateStyles && (t.set('styles', g.stateStyles), delete g.stateStyles),
                        (0, u.each)(g, function (t, n) {
                          e[n] = t;
                        });
                    } else
                      (0, u.each)(e, function (t, n) {
                        c[n] &&
                          (0, u.isObject)(t) &&
                          !(0, u.isArray)(t) &&
                          (e[n] = (0, d.__assign)((0, d.__assign)({}, c[n]), e[n]));
                      });
                    if ((o.emit('beforeupdateitem', { item: t, cfg: e }), a === xe)) {
                      if (e.source) {
                        var v = e.source;
                        (0, u.isString)(v) && (v = o.findById(v)), t.setSource(v);
                      }
                      if (e.target) {
                        var y = e.target;
                        (0, u.isString)(y) && (y = o.findById(y)), t.setTarget(y);
                      }
                      t.update(e);
                    } else if (a === be) {
                      t.update(e, f);
                      var m = t.getEdges(),
                        b = (null == f ? void 0 : f.includes('bbox')) || 'move' === f;
                      'move' === f
                        ? (0, u.each)(m, function (t) {
                            (i.edgeToBeUpdateMap[t.getID()] = { edge: t, updateType: f }),
                              i.throttleRefresh();
                          })
                        : b &&
                          (0, u.each)(m, function (t) {
                            t.refresh(f);
                          });
                    } else if (a === we) {
                      if ((t.update(e, f), !isNaN(e.x) || !isNaN(e.y))) {
                        var x = e.x - l || 0,
                          _ = e.y - h || 0;
                        this.updateComboSucceeds(c.id, x, _);
                      }
                      var w = t.getEdges();
                      if (
                        (b = (null == f ? void 0 : f.includes('bbox')) || 'move' === f) &&
                        a === we
                      ) {
                        var E = t.get('shapeFactory'),
                          S = c.type || 'circle';
                        (
                          void 0 === c.animate || void 0 === e.animate
                            ? null ===
                                (r = null === (n = E[S]) || void 0 === n ? void 0 : n.options) ||
                              void 0 === r
                              ? void 0
                              : r.animate
                            : c.animate || e.animate
                        )
                          ? setTimeout(function () {
                              if (t && !t.destroyed) {
                                var e = t.getKeyShape();
                                e &&
                                  !e.destroyed &&
                                  (0, u.each)(w, function (t) {
                                    t && !t.destroyed && t.refresh();
                                  });
                              }
                            }, 201)
                          : (0, u.each)(w, function (t) {
                              t.refresh();
                            });
                      }
                    }
                    o.emit('afterupdateitem', { item: t, cfg: e });
                  }
                }),
                (t.prototype.updateCombo = function (t, e, n) {
                  var r,
                    i,
                    o = this,
                    a = this.graph;
                  if (((0, u.isString)(t) && (t = a.findById(t)), t && !t.destroyed)) {
                    var s = t.getModel(),
                      c = At(e, a, t),
                      l = c.x,
                      h = c.y;
                    t.set('bbox', c);
                    var f = l,
                      d = h;
                    n
                      ? ((f = isNaN(s.x) ? l : s.x), (d = isNaN(s.y) ? h : s.y))
                      : ((f = isNaN(l) ? s.x : l), (d = isNaN(h) ? s.y : h)),
                      t.update({ x: f, y: d });
                    var p = t.get('shapeFactory'),
                      g = s.type || 'circle';
                    (
                      void 0 === s.animate
                        ? null === (i = null === (r = p[g]) || void 0 === r ? void 0 : r.options) ||
                          void 0 === i
                          ? void 0
                          : i.animate
                        : s.animate
                    )
                      ? setTimeout(function () {
                          if (t && !t.destroyed) {
                            var e = t.getKeyShape();
                            e && !e.destroyed && (t.getShapeCfg(s), o.updateComboEdges(t));
                          }
                        }, 201)
                      : this.updateComboEdges(t);
                  }
                }),
                (t.prototype.updateComboEdges = function (t) {
                  for (var e = t.getEdges() || [], n = 0; n < e.length; n++) {
                    var r = e[n];
                    if (r && !r.destroyed) {
                      var i = r.get('shapeFactory'),
                        o = r.getShapeCfg(r.getModel()),
                        a = r.getContainer();
                      a.clear();
                      var s = i.draw(o.type, o, a);
                      r.set('keyShape', s),
                        s.set('isKeyShape', !0),
                        s.set('draggable', !0),
                        r.setOriginStyle();
                    }
                  }
                }),
                (t.prototype.collapseCombo = function (t) {
                  var e = this.graph;
                  (0, u.isString)(t) && (t = e.findById(t));
                  var n = t.getChildren();
                  n.nodes.forEach(function (t) {
                    e.hideItem(t);
                  }),
                    n.combos.forEach(function (t) {
                      e.hideItem(t);
                    });
                }),
                (t.prototype.updateComboSucceeds = function (t, e, n, r) {
                  var i = this;
                  void 0 === r && (r = []);
                  var o = this.graph;
                  if (e || n) {
                    var a = r;
                    if (!(null == a ? void 0 : a.length)) {
                      var s = o.get('comboTrees');
                      null == s ||
                        s.forEach(function (e) {
                          _t(e, function (e) {
                            return e.id !== t || ((a = e.children), !1);
                          });
                        });
                    }
                    null == a ||
                      a.forEach(function (t) {
                        var r = o.findById(t.id);
                        if (r) {
                          var a = r.getModel();
                          i.updateItem(t.id, { x: (a.x || 0) + e, y: (a.y || 0) + n });
                        }
                      });
                  }
                }),
                (t.prototype.expandCombo = function (t) {
                  var e = this.graph;
                  (0, u.isString)(t) && (t = e.findById(t));
                  var n = t.getChildren();
                  n.nodes.forEach(function (t) {
                    e.showItem(t);
                  }),
                    n.combos.forEach(function (t) {
                      t.getModel().collapsed ? t.show() : e.showItem(t);
                    });
                }),
                (t.prototype.removeItem = function (t) {
                  var e = this,
                    n = this.graph;
                  if (((0, u.isString)(t) && (t = n.findById(t)), t && !t.destroyed)) {
                    var r = (0, u.clone)(t.getModel());
                    n.emit('beforeremoveitem', { item: r });
                    var i = '';
                    t.getType && (i = t.getType());
                    var o = n.get(''.concat(i, 's')),
                      a = o.indexOf(t);
                    if ((a > -1 && o.splice(a, 1), i === xe)) {
                      var s = n.get('v'.concat(i, 's')),
                        c = s.indexOf(t);
                      c > -1 && s.splice(c, 1);
                    }
                    var l = t.get('id');
                    delete n.get('itemMap')[l];
                    var h = n.get('comboTrees'),
                      f = t.get('id');
                    if (i === be) {
                      var d = t.getModel().comboId;
                      if (h && d) {
                        var p = h,
                          g = !1;
                        h.forEach(function (t) {
                          g ||
                            _t(t, function (t) {
                              if (t.id === f && p) {
                                var e = p.indexOf(t);
                                return p.splice(e, 1), (g = !0), !1;
                              }
                              return (p = t.children), !0;
                            });
                        });
                      }
                      for (var v = (m = t.getEdges()).length - 1; v >= 0; v--)
                        n.removeItem(m[v], !1);
                      d && n.updateCombo(d);
                    } else if (i === we) {
                      var y,
                        m,
                        b = t.getModel().parentId,
                        x = !1;
                      for (
                        (h || []).forEach(function (t) {
                          x ||
                            _t(t, function (t) {
                              return t.id !== f || ((y = t), (x = !0), !1);
                            });
                        }),
                          y.removed = !0,
                          y &&
                            y.children &&
                            y.children.forEach(function (t) {
                              e.removeItem(t.id);
                            }),
                          v = (m = t.getEdges()).length;
                        v >= 0;
                        v--
                      )
                        n.removeItem(m[v], !1);
                      b && n.updateCombo(b);
                    }
                    t.destroy(), n.emit('afterremoveitem', { item: r, type: i });
                  }
                }),
                (t.prototype.setItemState = function (t, e, n) {
                  var r = this.graph,
                    i = e;
                  (0, u.isString)(n) && (i = ''.concat(e, ':').concat(n)),
                    (t.hasState(i) === n && n) ||
                      ((0, u.isString)(n) && t.hasState(i)) ||
                      (r.emit('beforeitemstatechange', { item: t, state: i, enabled: n }),
                      t.setState(e, n),
                      r.autoPaint(),
                      r.emit('afteritemstatechange', { item: t, state: i, enabled: n }));
                }),
                (t.prototype.priorityState = function (t, e) {
                  var n = this.graph,
                    r = t;
                  (0, u.isString)(t) && (r = n.findById(t)),
                    this.setItemState(r, e, !1),
                    this.setItemState(r, e, !0);
                }),
                (t.prototype.clearItemStates = function (t, e) {
                  var n = this.graph;
                  (0, u.isString)(t) && (t = n.findById(t)),
                    n.emit('beforeitemstatesclear', { item: t, states: e }),
                    t.clearStates(e),
                    n.emit('afteritemstatesclear', { item: t, states: e });
                }),
                (t.prototype.refreshItem = function (t) {
                  var e = this.graph;
                  (0, u.isString)(t) && (t = e.findById(t)),
                    e.emit('beforeitemrefresh', { item: t }),
                    t.refresh(),
                    e.emit('afteritemrefresh', { item: t });
                }),
                (t.prototype.addCombos = function (t, e) {
                  var n = this,
                    r = this.graph;
                  (t || []).forEach(function (t) {
                    wt(t, function (t) {
                      var r;
                      return (
                        e.forEach(function (e) {
                          e.id === t.id &&
                            ((e.children = t.children), (e.depth = t.depth), (r = e));
                        }),
                        r && n.addItem('combo', r),
                        !0
                      );
                    });
                  });
                  var i = r.get('comboGroup');
                  i && i.sort();
                }),
                (t.prototype.changeItemVisibility = function (t, e) {
                  var n = this,
                    r = this.graph;
                  if (((0, u.isString)(t) && (t = r.findById(t)), t)) {
                    if (
                      (r.emit('beforeitemvisibilitychange', { item: t, visible: e }),
                      t.changeVisibility(e),
                      t.getType && t.getType() === be)
                    ) {
                      var i = t.getEdges();
                      (0, u.each)(i, function (t) {
                        (!e || (t.get('source').isVisible() && t.get('target').isVisible())) &&
                          n.changeItemVisibility(t, e);
                      });
                    } else if (t.getType && t.getType() === we) {
                      var o = r.get('comboTrees'),
                        a = t.get('id'),
                        s = [],
                        c = !1;
                      (o || []).forEach(function (t) {
                        c ||
                          (t.children &&
                            0 !== t.children.length &&
                            _t(t, function (t) {
                              return t.id !== a || ((s = t.children), (c = !0), !1);
                            }));
                      }),
                        s &&
                          (!e || (e && !t.getModel().collapsed)) &&
                          s.forEach(function (t) {
                            var i = r.findById(t.id);
                            n.changeItemVisibility(i, e);
                          }),
                        (i = t.getEdges()),
                        (0, u.each)(i, function (t) {
                          (!e || (t.get('source').isVisible() && t.get('target').isVisible())) &&
                            n.changeItemVisibility(t, e);
                        });
                    }
                    return r.emit('afteritemvisibilitychange', { item: t, visible: e }), t;
                  }
                  console.warn('The item to be shown or hidden does not exist!');
                }),
                (t.prototype.destroy = function () {
                  (this.graph = null), (this.destroyed = !0);
                }),
                t
              );
            })();
          const Me = Se;
          var ke = null,
            Ae = (function () {
              function t(t) {
                (this.graph = t),
                  (this.cachedStates = { enabled: {}, disabled: {} }),
                  (this.destroyed = !1);
              }
              return (
                (t.checkCache = function (t, e, n) {
                  if (n[e]) {
                    var r = n[e].indexOf(t);
                    r >= 0 && n[e].splice(r, 1);
                  }
                }),
                (t.cacheState = function (t, e, n) {
                  n[e] || (n[e] = []), n[e].push(t);
                }),
                (t.prototype.updateState = function (e, n, r) {
                  var i = this,
                    o = t.checkCache,
                    a = t.cacheState;
                  if (!e.destroyed) {
                    var s = this.cachedStates,
                      u = s.enabled,
                      c = s.disabled;
                    r ? (o(e, n, c), a(e, n, u)) : (o(e, n, u), a(e, n, c)),
                      ke && clearTimeout(ke),
                      (ke = setTimeout(function () {
                        (ke = null), i.updateGraphStates();
                      }, 16));
                  }
                }),
                (t.prototype.updateStates = function (t, e, n) {
                  var r = this;
                  (0, u.isString)(e)
                    ? this.updateState(t, e, n)
                    : e.forEach(function (e) {
                        r.updateState(t, e, n);
                      });
                }),
                (t.prototype.updateGraphStates = function () {
                  var t = this.graph.get('states'),
                    e = this.cachedStates;
                  (0, u.each)(e.disabled, function (e, n) {
                    t[n] &&
                      (t[n] = t[n].filter(function (t) {
                        return e.indexOf(t) < 0 && !e.destroyed;
                      }));
                  }),
                    (0, u.each)(e.enabled, function (e, n) {
                      if (t[n]) {
                        var r = {};
                        t[n].forEach(function (t) {
                          t.destroyed || (r[t.get('id')] = !0);
                        }),
                          e.forEach(function (e) {
                            if (!e.destroyed) {
                              var i = e.get('id');
                              r[i] || ((r[i] = !0), t[n].push(e));
                            }
                          });
                      } else t[n] = e;
                    }),
                    this.graph.emit('graphstatechange', { states: t }),
                    (this.cachedStates = { enabled: {}, disabled: {} });
                }),
                (t.prototype.destroy = function () {
                  (this.graph = null),
                    (this.cachedStates = null),
                    ke && clearTimeout(ke),
                    (ke = null),
                    (this.destroyed = !0);
                }),
                t
              );
            })();
          const Ce = Ae;
          var Ie = n(2093),
            Te = function (t, e) {
              return t && e
                ? t.replace(/\\?\{([^{}]+)\}/g, function (t, n) {
                    if ('\\' === t.charAt(0)) return t.slice(1);
                    var r = e[n];
                    return 0 === r && (r = '0'), r || '';
                  })
                : t;
            },
            Ne = function (t) {
              var e = [];
              if (t.length < 2)
                throw new Error("point length must largn than 2, now it's ".concat(t.length));
              for (var n = 0, r = t; n < r.length; n++) {
                var i = r[n],
                  o = i.x,
                  a = i.y;
                e.push(o), e.push(a);
              }
              var s = (0, Ie.e9)(e);
              return s.unshift(['M', t[0].x, t[0].y]), s;
            },
            Pe = function (t, e, n, r) {
              void 0 === n && (n = 0), void 0 === r && (r = 0);
              var i = { x: (1 - n) * t.x + n * e.x, y: (1 - n) * t.y + n * e.y },
                o = [0, 0];
              b.normalize(o, [e.x - t.x, e.y - t.y]), (o && (o[0] || o[1])) || (o = [0, 0]);
              var a = [-o[1] * r, o[0] * r];
              return (i.x += a[0]), (i.y += a[1]), i;
            },
            Oe = function (t, e) {
              var n = t.length;
              if (!n) return '';
              for (var r = '', i = 0; i < n; i++) {
                var o = t[i];
                r += Te(0 === i ? 'M{x} {y}' : 'L{x} {y}', o);
              }
              return e && (r += 'Z'), r;
            },
            De = function (t) {
              var e = [];
              return (
                t.forEach(function (t) {
                  if ('A' !== t[0]) for (var n = 1; n < t.length; n += 2) e.push([t[n], t[n + 1]]);
                  else {
                    var r = t.length;
                    e.push([t[r - 2], t[r - 1]]);
                  }
                }),
                e
              );
            },
            Le = function (t) {
              if (t.length < 2)
                throw new Error("point length must largn than 2, now it's ".concat(t.length));
              var e = t[0],
                n = t[1],
                r = t[t.length - 1],
                i = t[t.length - 2];
              t.unshift(r), t.unshift(i), t.push(e), t.push(n);
              for (var o = [], a = 1; a < t.length - 2; a += 1) {
                var s = t[a - 1].x,
                  u = t[a - 1].y,
                  c = t[a].x,
                  l = t[a].y,
                  h = t[a + 1].x,
                  f = t[a + 1].y,
                  d = c + (h - s) / 6,
                  p = l + (f - u) / 6,
                  g = h - ((a !== t.length - 2 ? t[a + 2].x : h) - c) / 6,
                  v = f - ((a !== t.length - 2 ? t[a + 2].y : f) - l) / 6;
                o.push(['C', d, p, g, v, h, f]);
              }
              return o.unshift(['M', r.x, r.y]), o;
            },
            Re = function (t, e) {
              return b.scale([0, 0], b.normalize([0, 0], t), e);
            },
            Be = function (t, e) {
              var n = [t[1] - e[1], e[0] - t[0]],
                r = Math.sqrt(n[0] * n[0] + n[1] * n[1]);
              if (0 === r) throw new Error('p0 should not be equal to p1');
              return [n[0] / r, n[1] / r];
            },
            je = function (t, e) {
              return [e[0] - t[0], e[1] - t[1]];
            };
          function Ge(t, e) {
            if (!t || t.length < 1) return '';
            if (1 === t.length)
              return (function (t) {
                var n = [t[0][0], t[0][1] - e],
                  r = [t[0][0], t[0][1] + e];
                return 'M '
                  .concat(n, ' A ')
                  .concat(e, ',')
                  .concat(e, ',0,0,0,')
                  .concat(r, ' A ')
                  .concat(e, ',')
                  .concat(e, ',0,0,0,')
                  .concat(n);
              })(t);
            if (2 === t.length)
              return (function (t) {
                var n = b.scale([0, 0], Be(t[0], t[1]), e),
                  r = b.scale([0, 0], n, -1),
                  i = b.add([0, 0], t[0], n),
                  o = b.add([0, 0], t[1], n),
                  a = b.add([0, 0], t[1], r),
                  s = b.add([0, 0], t[0], r);
                return 'M '
                  .concat(i, ' L ')
                  .concat(o, ' A ')
                  .concat([e, e, '0,0,0', a].join(','), ' L ')
                  .concat(s, ' A ')
                  .concat([e, e, '0,0,0', i].join(','));
              })(t);
            for (var n = new Array(t.length), r = 0; r < n.length; ++r) {
              var i = 0 === r ? t[t.length - 1] : t[r - 1],
                o = t[r],
                a = b.scale([0, 0], Be(i, o), e);
              n[r] = [b.add([0, 0], i, a), b.add([0, 0], o, a)];
            }
            var s = 'A '.concat([e, e, '0,0,0,'].join(','));
            return (n = n.map(function (t, e) {
              var r = '';
              return (
                0 === e && (r = 'M '.concat(n[n.length - 1][1], ' ')),
                r + ''.concat(s + t[0], ' L ').concat(t[1])
              );
            })).join(' ');
          }
          function ze(t, e) {
            var n,
              r,
              i,
              o = t.length;
            if (!t || o < 1) return '';
            if (1 === o)
              return (
                (r = [(n = t)[0][0], n[0][1] - e]),
                (i = [n[0][0], n[0][1] + e]),
                'M '
                  .concat(r, ' A ')
                  .concat([e, e, '0,0,0', i].join(','), ' A ')
                  .concat([e, e, '0,0,0', r].join(','))
              );
            if (2 === o)
              return (function (t) {
                var n = je(t[0], t[1]),
                  r = Re(n, e),
                  i = b.add([0, 0], t[0], b.scale([0, 0], r, -1)),
                  o = b.add([0, 0], t[1], r),
                  a = 1.2 * e,
                  s = Re(b.normalize([0, 0], n), a),
                  u = b.scale([0, 0], s, -1),
                  c = b.add([0, 0], i, u),
                  l = b.add([0, 0], o, u),
                  h = b.add([0, 0], i, s);
                return 'M '
                  .concat(i, ' C ')
                  .concat([c, l, o].join(','), ' S ')
                  .concat([h, i].join(','), ' Z');
              })(t);
            for (
              var a = t.map(function (e, n) {
                  var r = t[(n + 1) % o];
                  return { p: e, v: b.normalize([0, 0], je(e, r)) };
                }),
                s = 0;
              s < a.length;
              ++s
            ) {
              var u = s > 0 ? s - 1 : o - 1,
                c = b.normalize([0, 0], b.add([0, 0], a[u].v, b.scale([0, 0], a[s].v, -1)));
              a[s].p = b.add([0, 0], a[s].p, b.scale([0, 0], c, e));
            }
            return a.map(function (t) {
              var e = t.p;
              return { x: e[0], y: e[1] };
            });
          }
          var Fe = function (t, e, n) {
              return (t.y - n.y) * (e.x - n.x) - (t.x - n.x) * (e.y - n.y);
            },
            Ue = function (t) {
              var e = t.map(function (t) {
                return { x: t.getModel().x, y: t.getModel().y };
              });
              if (
                (e.sort(function (t, e) {
                  return t.x === e.x ? t.y - e.y : t.x - e.x;
                }),
                1 === e.length)
              )
                return e;
              for (var n = [], r = 0; r < e.length; r++) {
                for (; n.length >= 2 && Fe(n[n.length - 2], n[n.length - 1], e[r]) <= 0; ) n.pop();
                n.push(e[r]);
              }
              var i = [];
              for (r = e.length - 1; r >= 0; r--) {
                for (; i.length >= 2 && Fe(i[i.length - 2], i[i.length - 1], e[r]) <= 0; ) i.pop();
                i.push(e[r]);
              }
              return i.pop(), n.pop(), n.concat(i);
            },
            Ve = {
              maxRoutingIterations: 100,
              maxMarchingIterations: 100,
              pixelGroupSize: 2,
              edgeR0: 10,
              edgeR1: 10,
              nodeR0: 5,
              nodeR1: 10,
              morphBuffer: 5,
              threshold: 0.001,
              skip: 16,
              nodeInfluenceFactor: 1,
              edgeInfluenceFactor: 1,
              negativeNodeInfluenceFactor: -0.5,
            };
          function We(t, e, n) {
            var r = !1,
              i = function (t, n) {
                return e.cells[t + n * e.width];
              },
              o = function (t, e) {
                var r = 0;
                return (
                  i(t - 1, e - 1) >= n && (r += 1),
                  i(t, e - 1) > n && (r += 2),
                  i(t - 1, e) > n && (r += 4),
                  i(t, e) > n && (r += 8),
                  r
                );
              },
              a = function (n, r) {
                for (var i, a, s = n, u = r, c = 0; c < e.width * e.height; c++) {
                  if (
                    ((i = s),
                    (a = u),
                    t.findIndex(function (t) {
                      return t.x === s && t.y === u;
                    }) > -1)
                  ) {
                    if (t[0].x === s && t[0].y === u) return !0;
                  } else t.push({ x: s, y: u });
                  var l = o(s, u);
                  switch (l) {
                    case -1:
                      return console.warn('Marched out of bounds'), !0;
                    case 0:
                    case 3:
                    case 2:
                    case 7:
                      s++;
                      break;
                    case 12:
                    case 14:
                    case 4:
                      s--;
                      break;
                    case 6:
                      0 === i && (-1 === a ? (s -= 1) : (s += 1));
                      break;
                    case 1:
                    case 13:
                    case 5:
                      u--;
                      break;
                    case 9:
                      1 === i && (0 === a ? (u -= 1) : (u += 1));
                      break;
                    case 10:
                    case 8:
                    case 11:
                      u++;
                      break;
                    default:
                      return console.warn('Marching squares invalid state: '.concat(l)), !0;
                  }
                }
              };
            this.march = function () {
              for (var t = 0; t < e.width && !r; t += 1)
                for (var s = 0; s < e.height && !r; s += 1)
                  i(t, s) > n && 15 !== o(t, s) && (r = a(t, s));
              return r;
            };
          }
          var Ye = function (t, e) {
            var n = Number.POSITIVE_INFINITY,
              r = null;
            return (
              t.forEach(function (t) {
                var i = H(t, e);
                i >= 0 && i < n && ((r = t), (n = i));
              }),
              r
            );
          };
          var Xe = function (t, e, n) {
            var r = Object.assign(Ve, n),
              i = q(
                t.map(function (t) {
                  return { x: t.getModel().x, y: t.getModel().y };
                }),
              );
            t = t.sort(function (t, e) {
              return (
                K({ x: t.getModel().x, y: t.getModel().y }, i) -
                K({ x: e.getModel().x, y: e.getModel().y }, i)
              );
            });
            var o = [],
              a = [];
            t.forEach(function (t) {
              (function (t, e, n, r, i) {
                var o = (function (t, e, n) {
                  var r = null,
                    i = Number.POSITIVE_INFINITY;
                  return (
                    e.forEach(function (e) {
                      var o = { x: t.getModel().x, y: t.getModel().y },
                        a = { x: e.getModel().x, y: e.getModel().y },
                        s = K(o, a),
                        u = new V(o.x, o.y, a.x, a.y),
                        c = n.reduce(function (t, e) {
                          return H(e, u) > 0 ? t + 1 : t;
                        }, 0);
                      s * Math.pow(c + 1, 2) < i && ((r = e), (i = s * Math.pow(c + 1, 2)));
                    }),
                    r
                  );
                })(t, n, e);
                if (null === o) return [];
                var a = (function (t, e, n, r) {
                    var i = [],
                      o = [];
                    o.push(t);
                    for (
                      var a = !0,
                        s = 0,
                        u = function (t, e) {
                          var n = !1;
                          return (
                            e.forEach(function (e) {
                              n ||
                                (($(t, { x: e.x1, y: e.y1 }) || $(t, { x: e.x2, y: e.y2 })) &&
                                  (n = !0));
                            }),
                            n
                          );
                        },
                        c = function (t, e) {
                          for (var n = 0, r = e; n < r.length; n++) {
                            var i = r[n].getBBox(),
                              o = [
                                [i.x, i.y],
                                [i.x + i.width, i.y],
                                [i.x, i.y + i.height],
                                [i.x + i.width, i.y + i.height],
                              ];
                            if (z(o, t.x, t.y)) return !0;
                          }
                          return !1;
                        };
                      a && s < n;

                    ) {
                      a = !1;
                      for (
                        var l = function () {
                          var t = o.pop(),
                            n = Ye(e, t);
                          if (n) {
                            var l = X(n, t),
                              h = l[0];
                            if (2 === l[1]) {
                              var f = function (s) {
                                for (
                                  var l = r,
                                    f = qe(n, l, h, s),
                                    d = u(f, o) || u(f, i),
                                    p = c(f, e);
                                  !d && p && l >= 1;

                                )
                                  (f = qe(n, (l /= 1.5), h, s)),
                                    (d = u(f, o) || u(f, i)),
                                    (p = c(f, e));
                                !f ||
                                  d ||
                                  (s && p) ||
                                  (o.push(new V(t.x1, t.y1, f.x, f.y)),
                                  o.push(new V(f.x, f.y, t.x2, t.y2)),
                                  (a = !0));
                              };
                              f(!0), a || f(!1);
                            }
                          }
                          a || i.push(t), (s += 1);
                        };
                        !a && o.length;

                      )
                        l();
                    }
                    for (; o.length; ) i.push(o.pop());
                    return i;
                  })(
                    new V(t.getModel().x, t.getModel().y, o.getModel().x, o.getModel().y),
                    e,
                    r,
                    i,
                  ),
                  s = (function (t) {
                    for (var n = []; t.length > 0; ) {
                      var r = t.pop();
                      if (0 === t.length) {
                        n.push(r);
                        break;
                      }
                      var i = t.pop(),
                        o = new V(r.x1, r.y1, i.x2, i.y2);
                      Ye(e, o) ? (n.push(r), t.push(i)) : t.push(o);
                    }
                    return n;
                  })(a);
                return s;
              })(t, e, o, r.maxRoutingIterations, r.morphBuffer).forEach(function (t) {
                a.push(t);
              }),
                o.push(t);
            });
            for (
              var s,
                u,
                c,
                l,
                h,
                f = (function (t, e, n) {
                  var r = {
                      minX: Number.POSITIVE_INFINITY,
                      minY: Number.POSITIVE_INFINITY,
                      maxX: Number.NEGATIVE_INFINITY,
                      maxY: Number.NEGATIVE_INFINITY,
                      width: 0,
                      height: 0,
                      x: 0,
                      y: 0,
                    },
                    i = [];
                  t.forEach(function (t) {
                    i.push(t.getBBox());
                  }),
                    e.forEach(function (t) {
                      i.push(t.getBBox());
                    });
                  for (var o = 0, a = i; o < a.length; o++) {
                    var s = a[o];
                    (r.minX = (s.minX < r.minX ? s.minX : r.minX) - n),
                      (r.minY = (s.minY < r.minY ? s.minY : r.minY) - n),
                      (r.maxX = (s.maxX > r.maxX ? s.maxX : r.maxX) + n),
                      (r.maxY = (s.maxY > r.maxY ? s.maxY : r.maxY) + n);
                  }
                  return (
                    (r.width = r.maxX - r.minX),
                    (r.height = r.maxY - r.minY),
                    (r.x = r.minX),
                    (r.y = r.minY),
                    r
                  );
                })(t, a, r.nodeR0),
                d =
                  ((s = f.width),
                  (u = f.height),
                  (c = r.pixelGroupSize),
                  (l = Math.ceil(s / c)),
                  (h = Math.ceil(u / c)),
                  { cells: new Float32Array(Math.max(0, l * h)).fill(0), width: l, height: h }),
                p = [],
                g = [],
                v = 0;
              v < r.maxMarchingIterations;
              v++
            )
              if ((He(t, e, a, f, d, r), (g = []), new We((p = []), d, r.threshold).march())) {
                var y = p.map(function (t) {
                  return {
                    x: Math.round(t.x * r.pixelGroupSize + f.minX),
                    y: Math.round(t.y * r.pixelGroupSize + f.minY),
                  };
                });
                if (y) {
                  var m = y.length;
                  if (r.skip > 1)
                    for (m = Math.floor(y.length / r.skip); m < 3 && r.skip > 1; )
                      (r.skip -= 1), (m = Math.floor(y.length / r.skip));
                  for (var b = 0, x = 0; x < m; x += 1, b += r.skip)
                    g.push({ x: y[b].x, y: y[b].y });
                }
                if (
                  g &&
                  (function () {
                    for (var e = 0, n = t; e < n.length; e++) {
                      var r = n[e],
                        i = g.map(function (t) {
                          return [t.x, t.y];
                        });
                      if (!z(i, r.getBBox().centerX, r.getBBox().centerY)) return !1;
                    }
                    return !0;
                  })()
                )
                  return g;
                if (((r.threshold *= 0.9), v <= 0.5 * r.maxMarchingIterations))
                  (r.memberInfluenceFactor *= 1.2), (r.edgeInfluenceFactor *= 1.2);
                else {
                  if (!(0 !== r.nonMemberInfluenceFactor && e.length > 0)) break;
                  r.nonMemberInfluenceFactor *= 0.8;
                }
              }
            return g;
          };
          function He(t, e, n, r, i, o) {
            function a(t, e) {
              var n = Math.floor((t - e) / o.pixelGroupSize);
              return n < 0 ? 0 : n;
            }
            function s(t, e) {
              return t * o.pixelGroupSize + e;
            }
            var u = (o.nodeR0 - o.nodeR1) * (o.nodeR0 - o.nodeR1),
              c = (o.edgeR0 - o.edgeR1) * (o.edgeR0 - o.edgeR1),
              l = function (t, e) {
                return [
                  Math.min(a(t.minX, e + r.minX), i.width),
                  Math.min(a(t.minY, e + r.minY), i.height),
                  Math.min(a(t.maxX, -e + r.minX), i.width),
                  Math.min(a(t.maxY, -e + r.minY), i.height),
                ];
              },
              h = function (t, e) {
                for (
                  var n = t.getBBox(),
                    a = l(n, o.nodeR1),
                    u = a[0],
                    c = a[1],
                    h = a[2],
                    f = a[3],
                    d = c;
                  d < f;
                  d += 1
                )
                  for (var p = u; p < h; p += 1)
                    if (!(e < 0 && i[p + d * i.width] <= 0)) {
                      var g = s(p, r.minX),
                        v = s(d, r.minY),
                        y = Q(
                          { x: g, y: v },
                          { x: n.minX, y: n.minY, width: n.width, height: n.height },
                        );
                      if (y < Math.pow(o.nodeR1, 2)) {
                        var m = Math.sqrt(y) - o.nodeR1;
                        i.cells[p + d * i.width] += e * m * m;
                      }
                    }
              };
            o.nodeInfluenceFactor &&
              t.forEach(function (t) {
                h(t, o.nodeInfluenceFactor / u);
              }),
              o.edgeInfluenceFactor &&
                n.forEach(function (t) {
                  !(function (t, e) {
                    for (
                      var n = t.getBBox(),
                        a = l(n, o.edgeR1),
                        u = a[0],
                        c = a[1],
                        h = a[2],
                        f = a[3],
                        d = c;
                      d < f;
                      d += 1
                    )
                      for (var p = u; p < h; p += 1)
                        if (!(e < 0 && i.cells[p + d * i.width] <= 0)) {
                          var g = s(p, r.minX),
                            v = s(d, r.minY),
                            y = Z({ x: g, y: v }, t);
                          if (y < Math.pow(o.edgeR1, 2)) {
                            var m = Math.sqrt(y) - o.edgeR1;
                            i.cells[p + d * i.width] += e * m * m;
                          }
                        }
                  })(t, o.edgeInfluenceFactor / c);
                }),
              o.negativeNodeInfluenceFactor &&
                e.forEach(function (t) {
                  h(t, o.negativeNodeInfluenceFactor / u);
                });
          }
          function qe(t, e, n, r) {
            var i = t.getBBox(),
              o = n[0],
              a = n[1],
              s = n[2],
              u = n[3],
              c = {
                topLeft: { x: i.minX - e, y: i.minY - e },
                topRight: { x: i.maxX + e, y: i.minY - e },
                bottomLeft: { x: i.minX - e, y: i.maxY + e },
                bottomRight: { x: i.maxX + e, y: i.maxY + e },
              },
              l = i.height * i.width;
            function h(t, e) {
              return i.width * (0.5 * (t.y - i.minY + (e.y - i.minY)));
            }
            if (a)
              return o
                ? r
                  ? c.topLeft
                  : c.bottomRight
                : s
                ? r
                  ? c.bottomLeft
                  : c.topRight
                : h(a, u) < 0.5 * l
                ? a.y > u.y
                  ? r
                    ? c.topLeft
                    : c.bottomRight
                  : r
                  ? c.topRight
                  : c.bottomLeft
                : a.y < u.y
                ? r
                  ? c.bottomLeft
                  : c.topRight
                : r
                ? c.bottomRight
                : c.topLeft;
            if (u) {
              if (o) return r ? c.topRight : c.bottomLeft;
              if (s) return r ? c.bottomRight : c.topLeft;
            }
            return h(o, s) < 0.5 * l
              ? o.x > s.x
                ? r
                  ? c.topLeft
                  : c.bottomRight
                : r
                ? c.bottomLeft
                : c.topRight
              : o.x < s.x
              ? r
                ? c.topRight
                : c.bottomLeft
              : r
              ? c.bottomRight
              : c.topLeft;
          }
          var Ke = (function () {
            function t(t, e) {
              (this.cfg = (0, u.deepMix)(this.getDefaultCfg(), e)),
                (this.graph = t),
                (this.id = this.cfg.id),
                (this.group = this.cfg.group),
                (this.members = this.cfg.members.map(function (e) {
                  return (0, u.isString)(e) ? t.findById(e) : e;
                })),
                (this.nonMembers = this.cfg.nonMembers.map(function (e) {
                  return (0, u.isString)(e) ? t.findById(e) : e;
                })),
                this.setPadding(),
                this.setType(),
                (this.path = this.calcPath(this.members, this.nonMembers)),
                this.render();
            }
            return (
              (t.prototype.getDefaultCfg = function () {
                return {
                  id: 'g6-hull',
                  type: 'round-convex',
                  members: [],
                  nonMembers: [],
                  style: { fill: 'lightblue', stroke: 'blue', opacity: 0.2 },
                  padding: 10,
                };
              }),
              (t.prototype.setPadding = function () {
                var t =
                  this.members.length && this.members[0].getKeyShape().getCanvasBBox().width / 2;
                (this.padding = this.cfg.padding > 0 ? this.cfg.padding + t : 10 + t),
                  (this.cfg.bubbleCfg = {
                    nodeR0: this.padding - t,
                    nodeR1: this.padding - t,
                    morphBuffer: this.padding - t,
                  });
              }),
              (t.prototype.setType = function () {
                (this.type = this.cfg.type),
                  this.members.length < 3 && (this.type = 'round-convex'),
                  'round-convex' !== this.type &&
                    'smooth-convex' !== this.type &&
                    'bubble' !== this.type &&
                    (console.warn(
                      'The hull type should be either round-convex, smooth-convex or bubble, round-convex is used by default.',
                    ),
                    (this.type = 'round-convex'));
              }),
              (t.prototype.calcPath = function (t, e) {
                var n, r, i;
                switch (this.type) {
                  case 'round-convex':
                    (i = Ge(
                      (n = Ue(t)).map(function (t) {
                        return [t.x, t.y];
                      }),
                      this.padding,
                    )),
                      (r = (0, Ie.tr)(i));
                    break;
                  case 'smooth-convex':
                    2 === (n = Ue(t)).length
                      ? ((i = Ge(
                          n.map(function (t) {
                            return [t.x, t.y];
                          }),
                          this.padding,
                        )),
                        (r = (0, Ie.tr)(i)))
                      : n.length > 2 &&
                        ((i = ze(
                          n.map(function (t) {
                            return [t.x, t.y];
                          }),
                          this.padding,
                        )),
                        (r = Le(i)));
                    break;
                  case 'bubble':
                    r = (n = Xe(t, e, this.cfg.bubbleCfg)).length >= 2 && Le(n);
                }
                return r;
              }),
              (t.prototype.render = function () {
                this.group.addShape('path', {
                  attrs: (0, d.__assign)({ path: this.path }, this.cfg.style),
                  id: this.id,
                  name: this.cfg.id,
                  capture: !1,
                }),
                  this.group.toBack();
              }),
              (t.prototype.addMember = function (t) {
                if (t) {
                  (0, u.isString)(t) && (t = this.graph.findById(t)), this.members.push(t);
                  var e = this.nonMembers.indexOf(t);
                  return (
                    e > -1 && this.nonMembers.splice(e, 1),
                    this.updateData(this.members, this.nonMembers),
                    !0
                  );
                }
              }),
              (t.prototype.addNonMember = function (t) {
                if (t) {
                  (0, u.isString)(t) && (t = this.graph.findById(t)), this.nonMembers.push(t);
                  var e = this.members.indexOf(t);
                  return (
                    e > -1 && this.members.splice(e, 1),
                    this.updateData(this.members, this.nonMembers),
                    !0
                  );
                }
              }),
              (t.prototype.removeMember = function (t) {
                if (t) {
                  (0, u.isString)(t) && (t = this.graph.findById(t));
                  var e = this.members.indexOf(t);
                  return (
                    e > -1 &&
                    (this.members.splice(e, 1), this.updateData(this.members, this.nonMembers), !0)
                  );
                }
              }),
              (t.prototype.removeNonMember = function (t) {
                if (t) {
                  (0, u.isString)(t) && (t = this.graph.findById(t));
                  var e = this.nonMembers.indexOf(t);
                  return (
                    e > -1 &&
                    (this.nonMembers.splice(e, 1),
                    this.updateData(this.members, this.nonMembers),
                    !0)
                  );
                }
              }),
              (t.prototype.updateData = function (t, e) {
                var n = this;
                this.group.findById(this.id).remove(),
                  t &&
                    (this.members = t.map(function (t) {
                      return (0, u.isString)(t) ? n.graph.findById(t) : t;
                    })),
                  e &&
                    (this.nonMembers = e.map(function (t) {
                      return (0, u.isString)(t) ? n.graph.findById(t) : t;
                    })),
                  (this.path = this.calcPath(this.members, this.nonMembers)),
                  this.render();
              }),
              (t.prototype.updateStyle = function (t) {
                this.group.findById(this.id).attr((0, d.__assign)({}, t));
              }),
              (t.prototype.updateCfg = function (t) {
                var e = this;
                (this.cfg = (0, u.deepMix)(this.cfg, t)),
                  (this.id = this.cfg.id),
                  (this.group = this.cfg.group),
                  t.members &&
                    (this.members = this.cfg.members.map(function (t) {
                      return (0, u.isString)(t) ? e.graph.findById(t) : t;
                    })),
                  t.nonMembers &&
                    (this.nonMembers = this.cfg.nonMembers.map(function (t) {
                      return (0, u.isString)(t) ? e.graph.findById(t) : t;
                    })),
                  this.setPadding(),
                  this.setType(),
                  (this.path = this.calcPath(this.members, this.nonMembers)),
                  this.render();
              }),
              (t.prototype.contain = function (t) {
                var e,
                  n,
                  r = this,
                  i = (e = (0, u.isString)(t) ? this.graph.findById(t) : t).getKeyShape();
                if ('path' === e.get('type')) n = De(i.attr('path'));
                else {
                  var o = i.getCanvasBBox();
                  n = [
                    [o.minX, o.minY],
                    [o.maxX, o.minY],
                    [o.maxX, o.maxY],
                    [o.minX, o.maxY],
                  ];
                }
                return (
                  (n = n.map(function (t) {
                    var e = r.graph.getPointByCanvas(t[0], t[1]);
                    return [e.x, e.y];
                  })),
                  U(n, De(this.path))
                );
              }),
              (t.prototype.destroy = function () {
                this.group.remove(), (this.cfg = null);
              }),
              t
            );
          })();
          const Ze = Ke;
          var $e = g.transform,
            Qe = (function (t) {
              function e(e) {
                var n = t.call(this) || this;
                return (
                  (n.cfg = (0, u.deepMix)(n.getDefaultCfg(), e)),
                  n.init(),
                  (n.animating = !1),
                  (n.destroyed = !1),
                  n.cfg.enabledStack &&
                    ((n.undoStack = new v.Stack(n.cfg.maxStep)),
                    (n.redoStack = new v.Stack(n.cfg.maxStep))),
                  n
                );
              }
              return (
                (0, d.__extends)(e, t),
                (e.prototype.init = function () {
                  this.initCanvas();
                  var t = new Ut(this),
                    e = new Pt(this),
                    n = new Me(this),
                    r = new Ce(this);
                  this.set({
                    viewController: t,
                    modeController: e,
                    itemController: n,
                    stateController: r,
                  }),
                    this.initLayoutController(),
                    this.initEventController(),
                    this.initGroups(),
                    this.initPlugins();
                }),
                (e.prototype.initGroups = function () {
                  var t = this.get('canvas');
                  if (t) {
                    var e = (t.get('el') || {}).id,
                      n = void 0 === e ? 'g6' : e,
                      r = t.addGroup({
                        id: ''.concat(n, '-root'),
                        className: ct.rootContainerClassName,
                      });
                    if (this.get('groupByTypes')) {
                      var i = r.addGroup({
                          id: ''.concat(n, '-edge'),
                          className: ct.edgeContainerClassName,
                        }),
                        o = r.addGroup({
                          id: ''.concat(n, '-node'),
                          className: ct.nodeContainerClassName,
                        }),
                        a = r.addGroup({
                          id: ''.concat(n, '-combo'),
                          className: ct.comboContainerClassName,
                        });
                      a.toBack(), this.set({ nodeGroup: o, edgeGroup: i, comboGroup: a });
                    }
                    var s = r.addGroup({
                      id: ''.concat(n, '-delegate'),
                      className: ct.delegateContainerClassName,
                    });
                    this.set({ delegateGroup: s }), this.set('group', r);
                  }
                }),
                (e.prototype.getDefaultCfg = function () {
                  return {
                    container: void 0,
                    width: void 0,
                    height: void 0,
                    renderer: 'canvas',
                    modes: {},
                    plugins: [],
                    data: {},
                    fitViewPadding: 10,
                    minZoom: 0.2,
                    maxZoom: 10,
                    event: !0,
                    groupByTypes: !0,
                    directed: !1,
                    autoPaint: !0,
                    nodes: [],
                    edges: [],
                    combos: [],
                    vedges: [],
                    itemMap: {},
                    linkCenter: !1,
                    defaultNode: {},
                    defaultEdge: {},
                    nodeStateStyles: {},
                    edgeStateStyles: {},
                    states: {},
                    animate: !1,
                    animateCfg: { onFrame: void 0, duration: 500, easing: 'easeLinear' },
                    callback: void 0,
                    enabledStack: !1,
                    maxStep: 10,
                    tooltips: [],
                  };
                }),
                (e.prototype.set = function (t, e) {
                  return (
                    (0, u.isPlainObject)(t)
                      ? (this.cfg = (0, d.__assign)((0, d.__assign)({}, this.cfg), t))
                      : (this.cfg[t] = e),
                    'enabledStack' !== t ||
                      !e ||
                      this.undoStack ||
                      this.redoStack ||
                      ((this.undoStack = new v.Stack(this.cfg.maxStep)),
                      (this.redoStack = new v.Stack(this.cfg.maxStep))),
                    this
                  );
                }),
                (e.prototype.get = function (t) {
                  var e;
                  return null === (e = this.cfg) || void 0 === e ? void 0 : e[t];
                }),
                (e.prototype.getGroup = function () {
                  return this.get('group');
                }),
                (e.prototype.getContainer = function () {
                  return this.get('container');
                }),
                (e.prototype.getMinZoom = function () {
                  return this.get('minZoom');
                }),
                (e.prototype.setMinZoom = function (t) {
                  return this.set('minZoom', t);
                }),
                (e.prototype.getMaxZoom = function () {
                  return this.get('maxZoom');
                }),
                (e.prototype.setMaxZoom = function (t) {
                  return this.set('maxZoom', t);
                }),
                (e.prototype.getWidth = function () {
                  return this.get('width');
                }),
                (e.prototype.getHeight = function () {
                  return this.get('height');
                }),
                (e.prototype.clearItemStates = function (t, e) {
                  (0, u.isString)(t) && (t = this.findById(t));
                  var n = this.get('itemController');
                  e || (e = t.get('states')),
                    n.clearItemStates(t, e),
                    this.get('stateController').updateStates(t, e, !1);
                }),
                (e.prototype.node = function (t) {
                  'function' == typeof t && this.set('nodeMapper', t);
                }),
                (e.prototype.edge = function (t) {
                  'function' == typeof t && this.set('edgeMapper', t);
                }),
                (e.prototype.combo = function (t) {
                  'function' == typeof t && this.set('comboMapper', t);
                }),
                (e.prototype.findById = function (t) {
                  return this.get('itemMap')[t];
                }),
                (e.prototype.find = function (t, e) {
                  var n,
                    r = this.get(''.concat(t, 's'));
                  return (
                    (0, u.each)(r, function (t, r) {
                      if (e(t, r)) return (n = t);
                    }),
                    n
                  );
                }),
                (e.prototype.findAll = function (t, e) {
                  var n = [];
                  return (
                    (0, u.each)(this.get(''.concat(t, 's')), function (t, r) {
                      e(t, r) && n.push(t);
                    }),
                    n
                  );
                }),
                (e.prototype.findAllByState = function (t, e) {
                  return this.findAll(t, function (t) {
                    return t.hasState(e);
                  });
                }),
                (e.prototype.getAnimateCfgWithCallback = function (t) {
                  var e,
                    n = t.animateCfg,
                    r = t.callback;
                  if (n)
                    if (((e = (0, u.clone)(n)), n.callback)) {
                      var i = n.callback;
                      e.callback = function () {
                        r(), i();
                      };
                    } else e.callback = r;
                  else e = { duration: 500, callback: r };
                  return e;
                }),
                (e.prototype.translate = function (t, e, n, r) {
                  var i = this,
                    o = this.get('group'),
                    a = (0, u.clone)(o.getMatrix());
                  if ((a || (a = [1, 0, 0, 0, 1, 0, 0, 0, 1]), n)) {
                    var s = this.getAnimateCfgWithCallback({
                      animateCfg: r,
                      callback: function () {
                        return i.emit('viewportchange', {
                          action: 'translate',
                          matrix: o.getMatrix(),
                        });
                      },
                    });
                    L(
                      o,
                      { x: o.getCanvasBBox().x + t, y: o.getCanvasBBox().y + e },
                      n,
                      s || { duration: 500, easing: 'easeCubic' },
                    );
                  } else
                    (a = $e(a, [['t', t, e]])),
                      o.setMatrix(a),
                      this.emit('viewportchange', { action: 'translate', matrix: a }),
                      this.autoPaint();
                }),
                (e.prototype.moveTo = function (t, e, n, r) {
                  var i = this.get('group');
                  L(i, { x: t, y: e }, n, r || { duration: 500, easing: 'easeCubic' }),
                    this.emit('viewportchange', { action: 'move', matrix: i.getMatrix() });
                }),
                (e.prototype.fitView = function (t, e) {
                  t && this.set('fitViewPadding', t);
                  var n = this.get('viewController');
                  e ? n.fitViewByRules(e) : n.fitView(), this.autoPaint();
                }),
                (e.prototype.fitCenter = function () {
                  this.get('viewController').fitCenter(), this.autoPaint();
                }),
                (e.prototype.addBehaviors = function (t, e) {
                  return this.get('modeController').manipulateBehaviors(t, e, !0), this;
                }),
                (e.prototype.removeBehaviors = function (t, e) {
                  return this.get('modeController').manipulateBehaviors(t, e, !1), this;
                }),
                (e.prototype.updateBehavior = function (t, e, n) {
                  return this.get('modeController').updateBehavior(t, e, n), this;
                }),
                (e.prototype.zoom = function (t, e, n, r) {
                  var i = this,
                    o = this.get('group'),
                    a = (0, u.clone)(o.getMatrix()),
                    s = this.get('minZoom'),
                    c = this.get('maxZoom');
                  if (
                    (a || (a = [1, 0, 0, 0, 1, 0, 0, 0, 1]),
                    (a = $e(
                      a,
                      e
                        ? [
                            ['t', -e.x, -e.y],
                            ['s', t, t],
                            ['t', e.x, e.y],
                          ]
                        : [['s', t, t]],
                    )),
                    (s && a[0] < s) || (c && a[0] > c))
                  )
                    return !1;
                  if (n) {
                    var l = (0, u.clone)(o.getMatrix());
                    l || (l = [1, 0, 0, 0, 1, 0, 0, 0, 1]);
                    var h = l[0],
                      f = h * t,
                      d = this.getAnimateCfgWithCallback({
                        animateCfg: r,
                        callback: function () {
                          return i.emit('viewportchange', {
                            action: 'zoom',
                            matrix: o.getMatrix(),
                          });
                        },
                      });
                    o.animate(function (t) {
                      if (1 === t) l = a;
                      else {
                        var n = tt(h, f, t) / l[0];
                        l = $e(
                          l,
                          e
                            ? [
                                ['t', -e.x, -e.y],
                                ['s', n, n],
                                ['t', e.x, e.y],
                              ]
                            : [['s', n, n]],
                        );
                      }
                      return { matrix: l };
                    }, d);
                  } else
                    o.setMatrix(a),
                      this.emit('viewportchange', { action: 'zoom', matrix: a }),
                      this.autoPaint();
                  return !0;
                }),
                (e.prototype.zoomTo = function (t, e, n, r) {
                  var i = t / this.getZoom();
                  return this.zoom(i, e, n, r);
                }),
                (e.prototype.focusItem = function (t, e, n) {
                  var r = this.get('viewController'),
                    i = !1;
                  e ? (i = !0) : void 0 === e && (i = this.get('animate'));
                  var o = {};
                  n ? (o = n) : void 0 === n && (o = this.get('animateCfg')),
                    r.focus(t, i, o),
                    this.autoPaint();
                }),
                (e.prototype.autoPaint = function () {
                  this.get('autoPaint') && this.paint();
                }),
                (e.prototype.paint = function () {
                  this.emit('beforepaint'), this.get('canvas').draw(), this.emit('afterpaint');
                }),
                (e.prototype.getPointByClient = function (t, e) {
                  return this.get('viewController').getPointByClient(t, e);
                }),
                (e.prototype.getClientByPoint = function (t, e) {
                  return this.get('viewController').getClientByPoint(t, e);
                }),
                (e.prototype.getPointByCanvas = function (t, e) {
                  return this.get('viewController').getPointByCanvas(t, e);
                }),
                (e.prototype.getCanvasByPoint = function (t, e) {
                  return this.get('viewController').getCanvasByPoint(t, e);
                }),
                (e.prototype.getGraphCenterPoint = function () {
                  var t = this.get('group').getCanvasBBox();
                  return { x: (t.minX + t.maxX) / 2, y: (t.minY + t.maxY) / 2 };
                }),
                (e.prototype.getViewPortCenterPoint = function () {
                  return this.getPointByCanvas(this.get('width') / 2, this.get('height') / 2);
                }),
                (e.prototype.showItem = function (t, e) {
                  void 0 === e && (e = !0);
                  var n = this.get('itemController').changeItemVisibility(t, !0);
                  if (e && this.get('enabledStack')) {
                    var r = n.getID(),
                      i = {},
                      o = {};
                    switch (n.getType()) {
                      case 'node':
                        (i.nodes = [{ id: r, visible: !1 }]), (o.nodes = [{ id: r, visible: !0 }]);
                        break;
                      case 'edge':
                        (i.nodes = [{ id: r, visible: !1 }]), (o.edges = [{ id: r, visible: !0 }]);
                        break;
                      case 'combo':
                        (i.nodes = [{ id: r, visible: !1 }]), (o.combos = [{ id: r, visible: !0 }]);
                    }
                    this.pushStack('visible', { before: i, after: o });
                  }
                }),
                (e.prototype.hideItem = function (t, e) {
                  void 0 === e && (e = !0);
                  var n = this.get('itemController').changeItemVisibility(t, !1);
                  if (e && this.get('enabledStack')) {
                    var r = n.getID(),
                      i = {},
                      o = {};
                    switch (n.getType()) {
                      case 'node':
                        (i.nodes = [{ id: r, visible: !0 }]), (o.nodes = [{ id: r, visible: !1 }]);
                        break;
                      case 'edge':
                        (i.nodes = [{ id: r, visible: !0 }]), (o.edges = [{ id: r, visible: !1 }]);
                        break;
                      case 'combo':
                        (i.nodes = [{ id: r, visible: !0 }]), (o.combos = [{ id: r, visible: !1 }]);
                    }
                    this.pushStack('visible', { before: i, after: o });
                  }
                }),
                (e.prototype.refreshItem = function (t) {
                  this.get('itemController').refreshItem(t);
                }),
                (e.prototype.setAutoPaint = function (t) {
                  this.set('autoPaint', t), this.get('canvas').set('autoDraw', t);
                }),
                (e.prototype.remove = function (t, e) {
                  void 0 === e && (e = !0), this.removeItem(t, e);
                }),
                (e.prototype.removeItem = function (t, e) {
                  void 0 === e && (e = !0);
                  var n = t;
                  if (((0, u.isString)(t) && (n = this.findById(t)), !n && (0, u.isString)(t)))
                    console.warn('The item '.concat(t, ' to be removed does not exist!'));
                  else if (n) {
                    var r = '';
                    if ((n.getType && (r = n.getType()), e && this.get('enabledStack'))) {
                      var i = (0, d.__assign)((0, d.__assign)({}, n.getModel()), { itemType: r }),
                        o = {};
                      switch (r) {
                        case 'node':
                          (o.nodes = [i]), (o.edges = []);
                          for (var a = n.getEdges(), s = a.length - 1; s >= 0; s--)
                            o.edges.push(
                              (0, d.__assign)((0, d.__assign)({}, a[s].getModel()), {
                                itemType: 'edge',
                              }),
                            );
                          break;
                        case 'edge':
                          o.edges = [i];
                          break;
                        case 'combo':
                          o.combos = [i];
                      }
                      this.pushStack('delete', { before: o, after: {} });
                    }
                    if (
                      ('node' === r && n.getModel().comboId && this.updateComboTree(n, void 0, !1),
                      this.get('itemController').removeItem(n),
                      'combo' === r)
                    ) {
                      var c = kt(this.get('comboTrees'));
                      this.set('comboTrees', c);
                    }
                  }
                }),
                (e.prototype.addItem = function (t, e, n, r) {
                  void 0 === n && (n = !0), void 0 === r && (r = !0);
                  var i = this.get('comboSorted');
                  this.set('comboSorted', i && !r);
                  var o = this.get('itemController');
                  if (
                    !(function (t, e) {
                      if ('node' === t || 'combo' === t) {
                        if (e.id && !(0, u.isString)(e.id))
                          return (
                            console.warn(
                              "G6 Warning Tips: missing 'id' property, or the 'id' %c".concat(
                                e.id,
                                '%c is not a string.',
                              ),
                              'font-size: 20px; color: red;',
                              '',
                            ),
                            !1
                          );
                      } else if (!('edge' !== t || (e.source && e.target)))
                        return (
                          console.warn(
                            "G6 Warning Tips: missing 'source' or 'target' for the edge.",
                          ),
                          !1
                        );
                      return !0;
                    })(t, e)
                  )
                    return !1;
                  if (!e.id || !this.findById(e.id)) {
                    var a,
                      s = this.get('comboTrees') || [];
                    if ('combo' === t) {
                      var c = this.get('itemMap'),
                        l = !1;
                      if (
                        (s.forEach(function (n) {
                          l ||
                            wt(n, function (n) {
                              if (e.parentId === n.id) {
                                l = !0;
                                var r = (0, d.__assign)({ id: e.id, depth: n.depth + 2 }, e);
                                n.children ? n.children.push(r) : (n.children = [r]),
                                  (e.depth = r.depth),
                                  (a = o.addItem(t, e));
                              }
                              var i = c[n.id];
                              return (
                                l &&
                                  i &&
                                  i.getType &&
                                  'combo' === i.getType() &&
                                  o.updateCombo(i, n.children),
                                !0
                              );
                            });
                        }),
                        !l)
                      ) {
                        var h = (0, d.__assign)({ id: e.id, depth: 0 }, e);
                        (e.depth = h.depth), s.push(h), (a = o.addItem(t, e));
                      }
                      this.set('comboTrees', s);
                    } else if ('node' === t && (0, u.isString)(e.comboId) && s) {
                      var f;
                      (f = this.findById(e.comboId)) &&
                        f.getType &&
                        'combo' !== f.getType() &&
                        console.warn(
                          "'".concat(
                            e.comboId,
                            "' is not a id of a combo in the graph, the node will be added without combo.",
                          ),
                        ),
                        (a = o.addItem(t, e));
                      var p = this.get('itemMap'),
                        g = !1,
                        v = !1;
                      s.forEach(function (t) {
                        v ||
                          g ||
                          wt(t, function (t) {
                            if (t.id === e.id) return (v = !0), !1;
                            if (e.comboId === t.id && !v) {
                              g = !0;
                              var n = (0, u.clone)(e);
                              (n.itemType = 'node'),
                                t.children ? t.children.push(n) : (t.children = [n]),
                                (n.depth = t.depth + 1);
                            }
                            return (
                              g &&
                                p[t.id].getType &&
                                'combo' === p[t.id].getType() &&
                                o.updateCombo(p[t.id], t.children),
                              !0
                            );
                          });
                      });
                    } else a = o.addItem(t, e);
                    (('node' === t && e.comboId) || ('combo' === t && e.parentId)) &&
                      (f = this.findById(e.comboId || e.parentId)) &&
                      f.getType &&
                      'combo' === f.getType() &&
                      f.addChild(a);
                    var y = this.get('combos');
                    if (
                      (y && y.length > 0 && this.sortCombos(),
                      this.autoPaint(),
                      n && this.get('enabledStack'))
                    ) {
                      var m = (0, d.__assign)((0, d.__assign)({}, a.getModel()), { itemType: t }),
                        b = {};
                      switch (t) {
                        case 'node':
                          b.nodes = [m];
                          break;
                        case 'edge':
                          b.edges = [m];
                          break;
                        case 'combo':
                          b.combos = [m];
                      }
                      this.pushStack('add', { before: {}, after: b });
                    }
                    return a;
                  }
                  console.warn(
                    'This item exists already. Be sure the id %c'.concat(e.id, '%c is unique.'),
                    'font-size: 20px; color: red;',
                    '',
                  );
                }),
                (e.prototype.add = function (t, e, n, r) {
                  return (
                    void 0 === n && (n = !0), void 0 === r && (r = !0), this.addItem(t, e, n, r)
                  );
                }),
                (e.prototype.updateItem = function (t, e, n) {
                  var r = this;
                  void 0 === n && (n = !0);
                  var i,
                    o = this.get('itemController');
                  i = (0, u.isString)(t) ? this.findById(t) : t;
                  var a = (0, u.clone)(i.getModel()),
                    s = '';
                  i.getType && (s = i.getType());
                  var c = (0, d.__spreadArray)([], i.getStates(), !0);
                  if (
                    ('combo' === s &&
                      (0, u.each)(c, function (t) {
                        return r.setItemState(i, t, !1);
                      }),
                    o.updateItem(i, e),
                    'combo' === s &&
                      (0, u.each)(c, function (t) {
                        return r.setItemState(i, t, !0);
                      }),
                    n && this.get('enabledStack'))
                  ) {
                    var l = { nodes: [], edges: [], combos: [] },
                      h = { nodes: [], edges: [], combos: [] },
                      f = (0, d.__assign)({ id: a.id }, e);
                    switch (s) {
                      case 'node':
                        l.nodes.push(a), h.nodes.push(f);
                        break;
                      case 'edge':
                        l.edges.push(a), h.edges.push(f);
                        break;
                      case 'combo':
                        l.combos.push(a), h.combos.push(f);
                    }
                    'node' === s && l.nodes.push(a),
                      this.pushStack('update', { before: l, after: h });
                  }
                }),
                (e.prototype.update = function (t, e, n) {
                  void 0 === n && (n = !0), this.updateItem(t, e, n);
                }),
                (e.prototype.setItemState = function (t, e, n) {
                  (0, u.isString)(t) && (t = this.findById(t)),
                    this.get('itemController').setItemState(t, e, n);
                  var r = this.get('stateController');
                  (0, u.isString)(n)
                    ? r.updateState(t, ''.concat(e, ':').concat(n), !0)
                    : r.updateState(t, e, n);
                }),
                (e.prototype.priorityState = function (t, e) {
                  this.get('itemController').priorityState(t, e);
                }),
                (e.prototype.data = function (t) {
                  Tt(t), this.set('data', t);
                }),
                (e.prototype.render = function () {
                  var t = this;
                  this.set('comboSorted', !1);
                  var e = this.get('data');
                  if ((this.get('enabledStack') && this.clearStack(), !e))
                    throw new Error('data must be defined first');
                  var n = e.nodes,
                    r = void 0 === n ? [] : n,
                    i = e.edges,
                    o = void 0 === i ? [] : i,
                    a = e.combos,
                    s = void 0 === a ? [] : a;
                  if (
                    (this.clear(!0),
                    this.emit('beforerender'),
                    (0, u.each)(r, function (e) {
                      t.add('node', e, !1, !1);
                    }),
                    0 !== (null == s ? void 0 : s.length))
                  ) {
                    var c = Mt(s, r);
                    this.set('comboTrees', c), t.addCombos(s);
                  }
                  (0, u.each)(o, function (e) {
                    t.add('edge', e, !1, !1);
                  });
                  var l = t.get('animate');
                  (t.get('fitView') || t.get('fitCenter')) && t.set('animate', !1);
                  var h = t.get('layoutController');
                  if (h) {
                    if (
                      (h.layout(function () {
                        t.get('fitView') ? t.fitView() : t.get('fitCenter') && t.fitCenter(),
                          t.autoPaint(),
                          t.emit('afterrender'),
                          (t.get('fitView') || t.get('fitCenter')) && t.set('animate', l);
                      }),
                      this.destroyed)
                    )
                      return;
                  } else
                    t.get('fitView') && t.fitView(),
                      t.get('fitCenter') && t.fitCenter(),
                      t.emit('afterrender'),
                      t.set('animate', l);
                  this.get('groupByTypes') ||
                    (s && 0 !== s.length
                      ? this.sortCombos()
                      : e.nodes && e.edges && e.nodes.length < e.edges.length
                      ? this.getNodes().forEach(function (t) {
                          t.toFront();
                        })
                      : this.getEdges().forEach(function (t) {
                          t.toBack();
                        })),
                    this.get('enabledStack') && this.pushStack('render');
                }),
                (e.prototype.read = function (t) {
                  this.data(t), this.render();
                }),
                (e.prototype.diffItems = function (t, e, n) {
                  var r,
                    i = this,
                    o = this.get('itemMap');
                  (0, u.each)(n, function (n) {
                    if ((r = o[n.id])) {
                      if (i.get('animate') && 'node' === t) {
                        var a = r.getContainer().getMatrix();
                        a || (a = [1, 0, 0, 0, 1, 0, 0, 0, 1]),
                          r.set('originAttrs', { x: a[6], y: a[7] });
                      }
                      i.updateItem(r, n, !1);
                    } else r = i.addItem(t, n, !1);
                    r && e[''.concat(t, 's')].push(r);
                  });
                }),
                (e.prototype.changeData = function (t, e) {
                  void 0 === e && (e = !0);
                  var n = this,
                    r = t || n.get('data');
                  if (!Tt(r)) return this;
                  e &&
                    this.get('enabledStack') &&
                    this.pushStack('changedata', { before: n.save(), after: r }),
                    this.set('comboSorted', !1),
                    this.removeHulls(),
                    this.getNodes().map(function (t) {
                      return n.clearItemStates(t);
                    }),
                    this.getEdges().map(function (t) {
                      return n.clearItemStates(t);
                    });
                  var i = this.get('canvas'),
                    o = i.get('localRefresh');
                  i.set('localRefresh', !1), n.get('data') || (n.data(r), n.render());
                  var a = this.get('itemMap'),
                    s = { nodes: [], edges: [] },
                    c = r.combos;
                  if (c) {
                    var l = Mt(c, r.nodes);
                    this.set('comboTrees', l);
                  } else this.set('comboTrees', []);
                  this.diffItems('node', s, r.nodes),
                    (0, u.each)(a, function (t, e) {
                      (a[e].getModel().depth = 0),
                        (t.getType && 'edge' === t.getType()) ||
                          (t.getType && 'combo' === t.getType()
                            ? (delete a[e], t.destroy())
                            : s.nodes.indexOf(t) < 0 && (delete a[e], n.remove(t, !1)));
                    });
                  for (var h = this.getCombos(), f = h.length - 1; f >= 0; f--)
                    h[f].destroyed && h.splice(f, 1);
                  c && (n.addCombos(c), this.get('groupByTypes') || this.sortCombos()),
                    this.diffItems('edge', s, r.edges),
                    (0, u.each)(a, function (t, e) {
                      (!t.getType || ('node' !== t.getType() && 'combo' !== t.getType())) &&
                        s.edges.indexOf(t) < 0 &&
                        (delete a[e], n.remove(t, !1));
                    }),
                    this.set({ nodes: s.nodes, edges: s.edges });
                  var d = this.get('layoutController');
                  return (
                    d &&
                      (d.changeData(),
                      n.get('animate') && !d.getLayoutType()
                        ? n.positionsAnimate()
                        : n.autoPaint()),
                    setTimeout(function () {
                      i.set('localRefresh', o);
                    }, 16),
                    this
                  );
                }),
                (e.prototype.addCombos = function (t) {
                  var e = this.get('comboTrees');
                  this.get('itemController').addCombos(e, t);
                }),
                (e.prototype.createCombo = function (t, e) {
                  var n = this;
                  this.set('comboSorted', !1);
                  var r,
                    i = '';
                  if (t) {
                    if ((0, u.isString)(t)) (i = t), (r = { id: t });
                    else {
                      if (!(i = t.id))
                        return void console.warn(
                          'Create combo failed. Please assign a unique string id for the adding combo.',
                        );
                      r = t;
                    }
                    var o = e.map(function (t) {
                      var e = n.findById(t),
                        r = e.getModel(),
                        o = '';
                      e.getType && (o = e.getType());
                      var a = { id: e.getID(), itemType: o };
                      return (
                        'combo' === o
                          ? ((a.parentId = i), (r.parentId = i))
                          : 'node' === o && ((a.comboId = i), (r.comboId = i)),
                        a
                      );
                    });
                    (r.children = o), this.addItem('combo', r, !1), this.set('comboSorted', !1);
                    var a = this.get('comboTrees');
                    (a || []).forEach(function (t) {
                      wt(t, function (t) {
                        return t.id !== i || ((t.itemType = 'combo'), (t.children = o), !1);
                      });
                    }),
                      a && this.sortCombos();
                  }
                }),
                (e.prototype.uncombo = function (t) {
                  var e,
                    n = this,
                    r = t;
                  if (
                    ((0, u.isString)(t) && (r = this.findById(t)),
                    !r || (r.getType && 'combo' !== r.getType()))
                  )
                    console.warn('The item is not a combo!');
                  else {
                    var i = r.getModel().parentId,
                      o = this.get('comboTrees');
                    o || (o = []);
                    var a,
                      s = this.get('itemMap'),
                      c = r.get('id'),
                      l = [],
                      h = this.get('combos'),
                      f = this.findById(i);
                    if (
                      (o.forEach(function (t) {
                        a ||
                          wt(t, function (t) {
                            var e;
                            if (t.id === c) {
                              a = t;
                              var o = r.getEdges().map(function (t) {
                                return t.getID();
                              });
                              o.forEach(function (t) {
                                n.removeItem(t, !1);
                              });
                              var u = h.indexOf(r);
                              h.splice(u, 1),
                                delete s[c],
                                r.destroy(),
                                n.emit('afterremoveitem', { item: r, type: 'combo' });
                            }
                            return (
                              !i ||
                              !a ||
                              t.id !== i ||
                              (f.removeCombo(r),
                              -1 !== (u = (l = t.children).indexOf(a)) && l.splice(u, 1),
                              null === (e = a.children) ||
                                void 0 === e ||
                                e.forEach(function (t) {
                                  var e = n.findById(t.id),
                                    r = e.getModel();
                                  e.getType && 'combo' === e.getType()
                                    ? ((t.parentId = i),
                                      delete t.comboId,
                                      (r.parentId = i),
                                      delete r.comboId)
                                    : e.getType &&
                                      'node' === e.getType() &&
                                      ((t.comboId = i), (r.comboId = i)),
                                    f.addChild(e),
                                    l.push(t);
                                }),
                              !1)
                            );
                          });
                      }),
                      !i && a)
                    ) {
                      var d = o.indexOf(a);
                      o.splice(d, 1),
                        null === (e = a.children) ||
                          void 0 === e ||
                          e.forEach(function (t) {
                            t.parentId = void 0;
                            var e = n.findById(t.id).getModel();
                            delete e.parentId, delete e.comboId, 'node' !== t.itemType && o.push(t);
                          });
                    }
                  }
                }),
                (e.prototype.updateCombos = function (t) {
                  var e = this;
                  void 0 === t && (t = !1);
                  var n = this,
                    r = this.get('comboTrees'),
                    i = n.get('itemController'),
                    o = n.get('itemMap');
                  (r || []).forEach(function (n) {
                    wt(n, function (n) {
                      if (!n) return !0;
                      var r = o[n.id];
                      if (r && r.getType && 'combo' === r.getType()) {
                        var a = (0, d.__spreadArray)([], r.getStates(), !0);
                        (0, u.each)(a, function (t) {
                          return e.setItemState(r, t, !1);
                        }),
                          i.updateCombo(r, n.children, t),
                          (0, u.each)(a, function (t) {
                            return e.setItemState(r, t, !0);
                          });
                      }
                      return !0;
                    });
                  }),
                    n.sortCombos();
                }),
                (e.prototype.updateCombo = function (t) {
                  var e,
                    n = this,
                    r = t;
                  if (
                    ((0, u.isString)(t) && (r = this.findById(t)),
                    !r || (r.getType && 'combo' !== r.getType()))
                  )
                    console.warn('The item to be updated is not a combo!');
                  else {
                    e = r.get('id');
                    var i = this.get('comboTrees'),
                      o = this.get('itemController'),
                      a = this.get('itemMap');
                    (i || []).forEach(function (t) {
                      wt(t, function (t) {
                        if (!t) return !0;
                        var r = a[t.id];
                        if (e === t.id && r && r.getType && 'combo' === r.getType()) {
                          var i = (0, d.__spreadArray)([], r.getStates(), !0);
                          (0, u.each)(i, function (t) {
                            r.getStateStyle(t) && n.setItemState(r, t, !1);
                          }),
                            o.updateCombo(r, t.children),
                            (0, u.each)(i, function (t) {
                              r.getStateStyle(t) && n.setItemState(r, t, !0);
                            }),
                            e && (e = t.parentId);
                        }
                        return !0;
                      });
                    });
                  }
                }),
                (e.prototype.updateComboTree = function (t, e, n) {
                  var r;
                  void 0 === n && (n = !0), this.set('comboSorted', !1);
                  var i,
                    o = (r = (0, u.isString)(t) ? this.findById(t) : t).getModel(),
                    a = o.comboId || o.parentId,
                    s = '';
                  if ((r.getType && (s = r.getType()), e && 'combo' === s)) {
                    var c,
                      l = this.get('comboTrees'),
                      h = !0;
                    if (
                      ((l || []).forEach(function (t) {
                        c ||
                          _t(t, function (t) {
                            if (!c) return t.id === r.getID() && (c = t), !0;
                          });
                      }),
                      _t(c, function (t) {
                        return t.id !== e || ((h = !1), !1);
                      }),
                      !h)
                    )
                      return void console.warn(
                        'Failed to update the combo tree! The parentId points to a descendant of the combo!',
                      );
                  }
                  if (n && this.get('enabledStack')) {
                    var f = {},
                      d = {};
                    'combo' === s
                      ? ((f.combos = [{ id: o.id, parentId: o.parentId }]),
                        (d.combos = [{ id: o.id, parentId: e }]))
                      : 'node' === s &&
                        ((f.nodes = [{ id: o.id, parentId: o.comboId }]),
                        (d.nodes = [{ id: o.id, parentId: e }])),
                      this.pushStack('updateComboTree', { before: f, after: d });
                  }
                  if (o.parentId || o.comboId) {
                    var p = this.findById(o.parentId || o.comboId);
                    p && p.removeChild(r);
                  }
                  'combo' === s ? (o.parentId = e) : 'node' === s && (o.comboId = e),
                    e && (i = this.findById(e)) && i.addChild(r),
                    a && (i = this.findById(a)) && i.removeChild(r);
                  var g = kt(this.get('comboTrees'), o.id, e);
                  this.set('comboTrees', g), this.updateCombos();
                }),
                (e.prototype.save = function () {
                  var t = [],
                    e = [],
                    n = [];
                  return (
                    (0, u.each)(this.get('nodes'), function (e) {
                      t.push(e.getModel());
                    }),
                    (0, u.each)(this.get('edges'), function (t) {
                      e.push(t.getModel());
                    }),
                    (0, u.each)(this.get('combos'), function (t) {
                      n.push(t.getModel());
                    }),
                    { nodes: t, edges: e, combos: n }
                  );
                }),
                (e.prototype.changeSize = function (t, e) {
                  return this.get('viewController').changeSize(t, e), this;
                }),
                (e.prototype.refresh = function () {
                  var t = this;
                  if ((t.emit('beforegraphrefresh'), t.get('animate'))) t.positionsAnimate();
                  else {
                    var e = t.get('nodes'),
                      n = t.get('edges'),
                      r = t.get('edges');
                    (0, u.each)(e, function (t) {
                      t.refresh();
                    }),
                      (0, u.each)(n, function (t) {
                        t.refresh();
                      }),
                      (0, u.each)(r, function (t) {
                        t.refresh();
                      });
                  }
                  t.emit('aftergraphrefresh'), t.autoPaint();
                }),
                (e.prototype.getNodes = function () {
                  return this.get('nodes');
                }),
                (e.prototype.getEdges = function () {
                  return this.get('edges');
                }),
                (e.prototype.getCombos = function () {
                  return this.get('combos');
                }),
                (e.prototype.getComboChildren = function (t) {
                  if (
                    ((0, u.isString)(t) && (t = this.findById(t)),
                    t && (!t.getType || 'combo' === t.getType()))
                  )
                    return t.getChildren();
                  console.warn('The combo does not exist!');
                }),
                (e.prototype.positionsAnimate = function (t) {
                  var e = this;
                  e.emit('beforeanimate');
                  var n = e.get('animateCfg'),
                    r = n.onFrame,
                    i = t ? e.getNodes().concat(e.getCombos()) : e.getNodes(),
                    o = i.map(function (t) {
                      var e = t.getModel();
                      return { id: e.id, x: e.x, y: e.y };
                    });
                  e.isAnimating() && e.stopAnimate(),
                    e.get('canvas').animate(
                      function (n) {
                        (0, u.each)(o, function (t) {
                          var i = e.findById(t.id);
                          if (i && !i.destroyed) {
                            var o = i.get('originAttrs'),
                              a = i.get('model'),
                              s = i.getContainer().getMatrix();
                            if (
                              (null == o &&
                                (s && (o = { x: s[6], y: s[7] }), i.set('originAttrs', o || 0)),
                              r)
                            ) {
                              var u = r(i, n, t, o || { x: 0, y: 0 });
                              i.set('model', Object.assign(a, u));
                            } else
                              o
                                ? ((a.x = o.x + (t.x - o.x) * n), (a.y = o.y + (t.y - o.y) * n))
                                : ((a.x = t.x), (a.y = t.y));
                          }
                        }),
                          e.refreshPositions(t);
                      },
                      {
                        duration: n.duration,
                        easing: n.easing,
                        callback: function () {
                          (0, u.each)(i, function (t) {
                            t.set('originAttrs', null);
                          }),
                            n.callback && n.callback(),
                            e.emit('afteranimate'),
                            (e.animating = !1);
                        },
                      },
                    );
                }),
                (e.prototype.refreshPositions = function (t) {
                  var e = this;
                  e.emit('beforegraphrefreshposition');
                  var n,
                    r = e.get('nodes'),
                    i = e.get('edges'),
                    o = e.get('vedges'),
                    a = e.get('combos'),
                    s = {},
                    c = function (t) {
                      (0, u.each)(t, function (t) {
                        n = t.getModel();
                        var e = t.get('originAttrs');
                        if (!e || n.x !== e.x || n.y !== e.y) {
                          var r = t.updatePosition({ x: n.x, y: n.y });
                          (s[n.id] = r), n.comboId && (s[n.comboId] = s[n.comboId] || r);
                        }
                      });
                    };
                  c(r),
                    a &&
                      0 !== a.length &&
                      (t
                        ? (c(a),
                          setTimeout(function () {
                            e.updateCombos();
                          }, 0))
                        : e.updateCombos()),
                    (0, u.each)(i, function (t) {
                      var e = t.getSource().getModel(),
                        n = t.getTarget();
                      if (!(0, u.isPlainObject)(n)) {
                        var r = n.getModel();
                        (s[e.id] || s[r.id] || t.getModel().isComboEdge) && t.refresh();
                      }
                    }),
                    (0, u.each)(o, function (t) {
                      t.refresh();
                    }),
                    e.emit('aftergraphrefreshposition'),
                    e.autoPaint();
                }),
                (e.prototype.stopAnimate = function () {
                  this.get('canvas').stopAnimate();
                }),
                (e.prototype.isAnimating = function () {
                  return this.animating;
                }),
                (e.prototype.getZoom = function () {
                  var t = this.get('group').getMatrix();
                  return t ? t[0] : 1;
                }),
                (e.prototype.getCurrentMode = function () {
                  return this.get('modeController').getMode();
                }),
                (e.prototype.setMode = function (t) {
                  return this.get('modeController').setMode(t), this;
                }),
                (e.prototype.clear = function (t) {
                  var e;
                  return (
                    void 0 === t && (t = !1),
                    null === (e = this.get('canvas')) || void 0 === e || e.clear(),
                    this.initGroups(),
                    this.set({
                      itemMap: {},
                      nodes: [],
                      edges: [],
                      groups: [],
                      combos: [],
                      comboTrees: [],
                    }),
                    t || this.emit('afterrender'),
                    this
                  );
                }),
                (e.prototype.updateLayout = function (t, e, n) {
                  var r = this,
                    i = this.get('layoutController');
                  if (((0, u.isString)(t) && (t = { type: t }), e)) {
                    var o = n;
                    o ||
                      (o =
                        'begin' === e
                          ? { x: 0, y: 0 }
                          : { x: this.getWidth() / 2, y: this.getHeight() / 2 }),
                      (o = this.getPointByCanvas(o.x, o.y));
                    var a = ['force', 'gForce', 'fruchterman'];
                    a.includes(t.type) || (!t.type && a.includes(null == i ? void 0 : i.layoutType))
                      ? (t.center = [o.x, o.y])
                      : this.once('afterlayout', function (t) {
                          var n = r.getGroup().getMatrix() || [1, 0, 0, 0, 1, 0, 0, 0, 1];
                          (o.x = o.x * n[0] + n[6]), (o.y = o.y * n[0] + n[7]);
                          var i = r.getGroup().getCanvasBBox(),
                            a = i.minX,
                            s = i.maxX,
                            u = i.minY,
                            c = { x: (a + s) / 2, y: (u + i.maxY) / 2 };
                          'begin' === e && ((c.x = a), (c.y = u)),
                            r.translate(o.x - c.x, o.y - c.y);
                        });
                  }
                  var s = this.get('layout'),
                    c = {};
                  Object.assign(c, s, t),
                    this.set('layout', c),
                    i &&
                      (i.isLayoutTypeSame(c) && c.gpuEnabled === s.gpuEnabled
                        ? i.updateLayoutCfg(c)
                        : i.changeLayout(c));
                }),
                (e.prototype.destroyLayout = function () {
                  var t = this.get('layoutController');
                  null == t || t.destroyLayout();
                }),
                (e.prototype.layout = function () {
                  var t = this.get('layoutController'),
                    e = this.get('layout');
                  e &&
                    t &&
                    (e.workerEnabled ? t.layout() : t.layoutMethod ? t.relayout(!0) : t.layout());
                }),
                (e.prototype.collapseCombo = function (t) {
                  var e = this;
                  if (!this.destroyed)
                    if (((0, u.isString)(t) && (t = this.findById(t)), t)) {
                      this.emit('beforecollapseexpandcombo', { action: 'expand', item: t });
                      var n = t.getModel();
                      this.get('itemController').collapseCombo(t), (n.collapsed = !0);
                      var r = this.getEdges().concat(this.get('vedges')),
                        i = [],
                        o = [],
                        a = this.get('comboTrees'),
                        s = !1;
                      (a || []).forEach(function (t) {
                        s ||
                          _t(t, function (t) {
                            if (s && t.depth <= n.depth) return !1;
                            if ((n.id === t.id && (s = !0), s)) {
                              var r = e.findById(t.id);
                              r &&
                                r.getType &&
                                'combo' === r.getType() &&
                                ((i = i.concat(r.getNodes())), (o = o.concat(r.getCombos())));
                            }
                            return !0;
                          });
                      });
                      var c = {},
                        l = [];
                      r.forEach(function (t) {
                        if (!t.isVisible() || t.getModel().isVEdge) {
                          var r = t.getSource(),
                            a = t.getTarget();
                          if (
                            ((i.includes(r) || o.includes(r)) &&
                              !i.includes(a) &&
                              !o.includes(a)) ||
                            r.getModel().id === n.id
                          ) {
                            if ((f = t.getModel()).isVEdge) return void e.removeItem(t, !1);
                            for (var s = a.getModel(); !a.isVisible(); ) {
                              if (
                                !(a = e.findById(s.parentId || s.comboId)) ||
                                (!s.parentId && !s.comboId)
                              )
                                return;
                              s = a.getModel();
                            }
                            var u = s.id;
                            if (c[''.concat(n.id, '-').concat(u)])
                              return void (c[''.concat(n.id, '-').concat(u)] += f.size || 1);
                            var h = e.addItem(
                              'vedge',
                              { source: n.id, target: u, isVEdge: !0 },
                              !1,
                            );
                            (c[''.concat(n.id, '-').concat(u)] = f.size || 1), l.push(h);
                          } else if (
                            (!i.includes(r) &&
                              !o.includes(r) &&
                              (i.includes(a) || o.includes(a))) ||
                            a.getModel().id === n.id
                          ) {
                            var f;
                            if ((f = t.getModel()).isVEdge) return void e.removeItem(t, !1);
                            for (var d = r.getModel(); !r.isVisible(); ) {
                              if (
                                !(r = e.findById(d.parentId || d.comboId)) ||
                                (!d.parentId && !d.comboId)
                              )
                                return;
                              d = r.getModel();
                            }
                            var p = d.id;
                            if (c[''.concat(p, '-').concat(n.id)])
                              return void (c[''.concat(p, '-').concat(n.id)] += f.size || 1);
                            (h = e.addItem('vedge', { target: n.id, source: p, isVEdge: !0 }, !1)),
                              (c[''.concat(p, '-').concat(n.id)] = f.size || 1),
                              l.push(h);
                          }
                        }
                      }),
                        l.forEach(function (t) {
                          var n = t.getModel();
                          e.updateItem(
                            t,
                            { size: c[''.concat(n.source, '-').concat(n.target)] },
                            !1,
                          );
                        }),
                        this.emit('aftercollapseexpandcombo', { action: 'collapse', item: t });
                    } else console.warn('The combo to be collapsed does not exist!');
                }),
                (e.prototype.expandCombo = function (t) {
                  var e = this;
                  if (
                    ((0, u.isString)(t) && (t = this.findById(t)),
                    !t || (t.getType && 'combo' !== t.getType()))
                  )
                    console.warn('The combo to be collapsed does not exist!');
                  else {
                    this.emit('beforecollapseexpandcombo', { action: 'expand', item: t });
                    var n = t.getModel();
                    this.get('itemController').expandCombo(t), (n.collapsed = !1);
                    var r = this.getEdges().concat(this.get('vedges')),
                      i = [],
                      o = [],
                      a = this.get('comboTrees'),
                      s = !1;
                    (a || []).forEach(function (t) {
                      s ||
                        _t(t, function (t) {
                          if (s && t.depth <= n.depth) return !1;
                          if ((n.id === t.id && (s = !0), s)) {
                            var r = e.findById(t.id);
                            r &&
                              r.getType &&
                              'combo' === r.getType() &&
                              ((i = i.concat(r.getNodes())), (o = o.concat(r.getCombos())));
                          }
                          return !0;
                        });
                    });
                    var c = {},
                      l = {};
                    r.forEach(function (t) {
                      if (!t.isVisible() || t.getModel().isVEdge) {
                        var r = t.getSource(),
                          a = t.getTarget(),
                          s = r.get('id'),
                          u = a.get('id');
                        if (
                          ((i.includes(r) || o.includes(r)) && !i.includes(a) && !o.includes(a)) ||
                          s === n.id
                        ) {
                          if (t.getModel().isVEdge) return void e.removeItem(t, !1);
                          for (var h = a.getModel(); !a.isVisible(); ) {
                            if (
                              !(a = e.findById(h.comboId || h.parentId)) ||
                              (!h.parentId && !h.comboId)
                            )
                              return;
                            h = a.getModel();
                          }
                          u = h.id;
                          for (var f = r.getModel(); !r.isVisible(); ) {
                            if (
                              !(r = e.findById(f.comboId || f.parentId)) ||
                              (!f.parentId && !f.comboId)
                            )
                              return;
                            if (f.comboId === n.id || f.parentId === n.id) break;
                            f = r.getModel();
                          }
                          if (((s = f.id), u)) {
                            var d = ''.concat(s, '-').concat(u);
                            if (c[d])
                              return (
                                (c[d] += t.getModel().size || 1),
                                void e.updateItem(l[d], { size: c[d] }, !1)
                              );
                            var p = e.addItem('vedge', { source: s, target: u, isVEdge: !0 }, !1);
                            (c[d] = t.getModel().size || 1), (l[d] = p);
                          }
                        } else if (
                          (!i.includes(r) && !o.includes(r) && (i.includes(a) || o.includes(a))) ||
                          u === n.id
                        ) {
                          if (t.getModel().isVEdge) return void e.removeItem(t, !1);
                          for (f = r.getModel(); !r.isVisible(); ) {
                            if (
                              !(r = e.findById(f.comboId || f.parentId)) ||
                              (!f.parentId && !f.comboId)
                            )
                              return;
                            f = r.getModel();
                          }
                          for (s = f.id, h = a.getModel(); !a.isVisible(); ) {
                            if (
                              !(a = e.findById(h.comboId || h.parentId)) ||
                              (!h.parentId && !h.comboId)
                            )
                              return;
                            if (h.comboId === n.id || h.parentId === n.id) break;
                            h = a.getModel();
                          }
                          if (((u = h.id), s)) {
                            if (((d = ''.concat(s, '-').concat(u)), c[d]))
                              return (
                                (c[d] += t.getModel().size || 1),
                                void e.updateItem(l[d], { size: c[d] }, !1)
                              );
                            (p = e.addItem('vedge', { target: u, source: s, isVEdge: !0 }, !1)),
                              (c[d] = t.getModel().size || 1),
                              (l[d] = p);
                          }
                        } else
                          (i.includes(r) || o.includes(r)) &&
                            (i.includes(a) || o.includes(a)) &&
                            r.isVisible() &&
                            a.isVisible() &&
                            t.show();
                      }
                    }),
                      this.emit('aftercollapseexpandcombo', { action: 'expand', item: t });
                  }
                }),
                (e.prototype.collapseExpandCombo = function (t) {
                  if (
                    ((0, u.isString)(t) && (t = this.findById(t)),
                    t && (!t.getType || 'combo' === t.getType()))
                  ) {
                    for (var e = t.getModel(), n = this.findById(e.parentId); n; ) {
                      var r = n.getModel();
                      if (r.collapsed)
                        return (
                          console.warn(
                            "Fail to expand the combo since it's ancestor combo is collapsed.",
                          ),
                          void (n = void 0)
                        );
                      n = this.findById(r.parentId);
                    }
                    e.collapsed ? this.expandCombo(t) : this.collapseCombo(t), this.updateCombo(t);
                  }
                }),
                (e.prototype.sortCombos = function () {
                  var t = this;
                  if (!this.get('comboSorted')) {
                    this.set('comboSorted', !0);
                    var e = [],
                      n = {};
                    (this.get('comboTrees') || []).forEach(function (t) {
                      _t(t, function (t) {
                        return (
                          e[t.depth] ? e[t.depth].push(t.id) : (e[t.depth] = [t.id]),
                          (n[t.id] = t.depth),
                          !0
                        );
                      });
                    }),
                      (this.getEdges().concat(this.get('vedges')) || []).forEach(function (t) {
                        var r = t.getModel(),
                          i = n[r.source] || 0,
                          o = n[r.target] || 0,
                          a = Math.max(i, o);
                        e[a] ? e[a].push(r.id) : (e[a] = [r.id]);
                      }),
                      e.forEach(function (e) {
                        if (e && e.length)
                          for (var n = e.length - 1; n >= 0; n--) {
                            var r = t.findById(e[n]);
                            r && r.toFront();
                          }
                      });
                  }
                }),
                (e.prototype.getNeighbors = function (t, e) {
                  var n = t;
                  return (0, u.isString)(t) && (n = this.findById(t)), n.getNeighbors(e);
                }),
                (e.prototype.getNodeDegree = function (t, e, n) {
                  void 0 === e && (e = void 0), void 0 === n && (n = !1);
                  var r = t;
                  (0, u.isString)(t) && (r = this.findById(t));
                  var i = this.get('degrees');
                  (i && !n) || ((i = (0, v.getDegree)(this.save())), this.set('degrees', i));
                  var o = i[r.getID()],
                    a = 0;
                  if (!o) return 0;
                  switch (e) {
                    case 'in':
                      a = o.inDegree;
                      break;
                    case 'out':
                      a = o.outDegree;
                      break;
                    case 'all':
                      a = o;
                      break;
                    default:
                      a = o.degree;
                  }
                  return a;
                }),
                (e.prototype.getUndoStack = function () {
                  return this.undoStack;
                }),
                (e.prototype.getRedoStack = function () {
                  return this.redoStack;
                }),
                (e.prototype.getStackData = function () {
                  return this.get('enabledStack')
                    ? { undoStack: this.undoStack.toArray(), redoStack: this.redoStack.toArray() }
                    : null;
                }),
                (e.prototype.clearStack = function () {
                  this.get('enabledStack') && (this.undoStack.clear(), this.redoStack.clear());
                }),
                (e.prototype.pushStack = function (t, e, n) {
                  if (
                    (void 0 === t && (t = 'update'),
                    void 0 === n && (n = 'undo'),
                    this.get('enabledStack'))
                  ) {
                    var r = e ? (0, u.clone)(e) : { before: {}, after: (0, u.clone)(this.save()) };
                    'redo' === n
                      ? this.redoStack.push({ action: t, data: r })
                      : this.undoStack.push({ action: t, data: r }),
                      this.emit('stackchange', {
                        undoStack: this.undoStack,
                        redoStack: this.redoStack,
                      });
                  } else
                    console.warn(
                      '请先启用 undo & redo 功能，在实例化 Graph 时候配置 enabledStack: true !',
                    );
                }),
                (e.prototype.getAdjMatrix = function (t, e) {
                  void 0 === t && (t = !0), void 0 === e && (e = this.get('directed'));
                  var n = this.get('adjMatrix');
                  return (
                    (n && t) ||
                      ((n = (0, v.getAdjMatrix)(this.save(), e)), this.set('adjMatrix', n)),
                    n
                  );
                }),
                (e.prototype.getShortestPathMatrix = function (t, e) {
                  void 0 === t && (t = !0), void 0 === e && (e = this.get('directed'));
                  var n = this.get('adjMatrix'),
                    r = this.get('shortestPathMatrix');
                  return (
                    (n && t) ||
                      ((n = (0, v.getAdjMatrix)(this.save(), e)), this.set('adjMatrix', n)),
                    (r && t) ||
                      ((r = (0, v.floydWarshall)(this.save(), e)),
                      this.set('shortestPathMatrix', r)),
                    r
                  );
                }),
                (e.prototype.on = function (e, n, r) {
                  return t.prototype.on.call(this, e, n, r);
                }),
                (e.prototype.destroy = function () {
                  var t, e, n, r, i;
                  this.clear(),
                    this.clearStack(),
                    null === (t = this.get('itemController')) || void 0 === t || t.destroy(),
                    null === (e = this.get('modeController')) || void 0 === e || e.destroy(),
                    null === (n = this.get('viewController')) || void 0 === n || n.destroy(),
                    null === (r = this.get('stateController')) || void 0 === r || r.destroy(),
                    null === (i = this.get('canvas')) || void 0 === i || i.destroy(),
                    (this.cfg = null),
                    (this.destroyed = !0),
                    (this.redoStack = null),
                    (this.undoStack = null);
                }),
                (e.prototype.createHull = function (t) {
                  if (t.members && !(t.members.length < 1)) {
                    var e = this.get('hullGroup'),
                      n = this.get('hullMap');
                    if (
                      (n || ((n = {}), this.set('hullMap', n)),
                      (e && !e.get('destroyed')) ||
                        ((e = this.get('group').addGroup({ id: 'hullGroup' })).toBack(),
                        this.set('hullGroup', e)),
                      n[t.id])
                    )
                      return console.warn('Existed hull id.'), n[t.id];
                    var r = e.addGroup({ id: ''.concat(t.id, '-container') }),
                      i = new Ze(this, (0, d.__assign)((0, d.__assign)({}, t), { group: r }));
                    return (n[i.id] = i), i;
                  }
                  console.warn('Create hull failed! The members is empty.');
                }),
                (e.prototype.getHulls = function () {
                  return this.get('hullMap');
                }),
                (e.prototype.getHullById = function (t) {
                  return this.get('hullMap')[t];
                }),
                (e.prototype.removeHull = function (t) {
                  var e, n;
                  (n = (0, u.isString)(t) ? this.getHullById(t) : t),
                    null === (e = this.get('hullMap')) || void 0 === e || delete e[n.id],
                    n.destroy();
                }),
                (e.prototype.removeHulls = function () {
                  var t = this.getHulls();
                  t &&
                    Object.keys(t).length &&
                    (Object.keys(t).forEach(function (e) {
                      t[e].destroy();
                    }),
                    this.set('hullMap', {}));
                }),
                e
              );
            })(p.Z);
          const Je = Qe;
          function tn(t) {
            return (
              (tn =
                'function' == typeof Symbol && 'symbol' == typeof Symbol.iterator
                  ? function (t) {
                      return typeof t;
                    }
                  : function (t) {
                      return t &&
                        'function' == typeof Symbol &&
                        t.constructor === Symbol &&
                        t !== Symbol.prototype
                        ? 'symbol'
                        : typeof t;
                    }),
              tn(t)
            );
          }
          var en = g.transform,
            nn = '-shape',
            rn = '-label',
            on = ['startArrow', 'endArrow'],
            an = {
              lineWidth: 1,
              stroke: void 0,
              fill: void 0,
              lineAppendWidth: 1,
              opacity: void 0,
              strokeOpacity: void 0,
              fillOpacity: void 0,
              x: 0,
              y: 0,
              r: 10,
              width: 20,
              height: 20,
              shadowColor: void 0,
              shadowBlur: 0,
              shadowOffsetX: 0,
              shadowOffsetY: 0,
            },
            sn = {
              edge: {
                lineWidth: 1,
                stroke: '#000',
                lineDash: void 0,
                startArrow: !1,
                endArrow: !1,
                opacity: void 0,
                strokeOpacity: void 0,
                fillOpacity: void 0,
                shadowColor: void 0,
                shadowBlur: 0,
                shadowOffsetX: 0,
                shadowOffsetY: 0,
              },
              node: an,
              combo: an,
            },
            un = '-label-bg',
            cn = {
              options: {
                labelCfg: { style: { fontFamily: ct.windowFontFamily } },
                descriptionCfg: { style: { fontFamily: ct.windowFontFamily } },
              },
              itemType: '',
              type: '',
              getCustomConfig: function (t) {
                return {};
              },
              getOptions: function (t, e) {
                return 'move' === e || (null == e ? void 0 : e.includes('bbox'))
                  ? {}
                  : (0, u.deepMix)({}, this.options, this.getCustomConfig(t) || {}, t);
              },
              draw: function (t, e) {
                (e.shapeMap = {}), (this.mergeStyle = this.getOptions(t));
                var n = this.drawShape(t, e);
                if (
                  (n.set('className', this.itemType + nn),
                  (e.shapeMap[this.itemType + nn] = n),
                  t.label)
                ) {
                  var r = this.drawLabel(t, e);
                  r.set('className', this.itemType + rn), (e.shapeMap[this.itemType + rn] = r);
                }
                return n;
              },
              afterDraw: function (t, e, n) {},
              drawShape: function (t, e) {
                return null;
              },
              drawLabel: function (t, e) {
                var n = (this.mergeStyle || this.getOptions(t) || {}).labelCfg || {},
                  r = this.getLabelStyle(t, n, e),
                  i = r.rotate;
                delete r.rotate;
                var o = e.addShape('text', {
                  attrs: r,
                  draggable: !0,
                  className: 'text-shape',
                  name: 'text-shape',
                  labelRelated: !0,
                });
                if (((e.shapeMap['text-shape'] = o), !isNaN(i) && '' !== i)) {
                  var a = o.getBBox(),
                    s = [1, 0, 0, 0, 1, 0, 0, 0, 1];
                  if (r.rotateCenter)
                    switch (r.rotateCenter) {
                      case 'center':
                      default:
                        s = en(s, [
                          ['t', -a.width / 2, -a.height / 2],
                          ['r', i],
                          ['t', a.width / 2, a.height / 2],
                        ]);
                        break;
                      case 'lefttop':
                        s = en(s, [
                          ['t', -r.x, -r.y],
                          ['r', i],
                          ['t', r.x, r.y],
                        ]);
                        break;
                      case 'leftcenter':
                        s = en(s, [
                          ['t', -r.x, -r.y - a.height / 2],
                          ['r', i],
                          ['t', r.x, r.y + a.height / 2],
                        ]);
                    }
                  else
                    s = en(s, [
                      ['t', -r.x, -r.y - a.height / 2],
                      ['r', i],
                      ['t', r.x, r.y + a.height / 2],
                    ]);
                  o.setMatrix(s);
                }
                if (r.background) {
                  var u = this.drawLabelBg(t, e, o),
                    c = this.itemType + un;
                  u.set('classname', c), (e.shapeMap[c] = u), o.toFront();
                }
                return o;
              },
              drawLabelBg: function (t, e, n) {
                var r = this.options.labelCfg,
                  i = (0, u.mix)({}, r, t.labelCfg),
                  o = this.getLabelBgStyleByPosition(n, i),
                  a = e.addShape('rect', { name: 'text-bg-shape', attrs: o, labelRelated: !0 });
                return (e.shapeMap['text-bg-shape'] = a), a;
              },
              getLabelStyleByPosition: function (t, e, n) {
                return { text: t.label };
              },
              getLabelBgStyleByPosition: function (t, e) {
                return {};
              },
              getLabelStyle: function (t, e, n) {
                var r = this.getLabelStyleByPosition(t, e, n),
                  i = ''.concat(this.itemType, 'Label'),
                  o = ct[i] ? ct[i].style : null;
                return (0, d.__assign)((0, d.__assign)((0, d.__assign)({}, o), r), e.style);
              },
              getShapeStyle: function (t) {
                return t.style;
              },
              update: function (t, e, n) {
                this.updateShapeStyle(t, e, n), this.updateLabel(t, e, n);
              },
              updateShapeStyle: function (t, e, n) {
                var r,
                  i = e.getContainer(),
                  o = e.getKeyShape(),
                  a = (0, u.mix)({}, o.attr(), t.style),
                  s = function (t) {
                    var e,
                      n = a[t];
                    if ((0, u.isPlainObject)(n)) {
                      var s =
                        (null === (r = i.shapeMap) || void 0 === r ? void 0 : r[t]) ||
                        i.find(function (e) {
                          return e.get('name') === t;
                        });
                      null == s || s.attr(n);
                    } else o.attr((((e = {})[t] = n), e));
                  };
                for (var c in a) s(c);
              },
              updateLabel: function (t, e, n) {
                var r, i;
                if (t.label || '' === t.label) {
                  var o = e.getContainer(),
                    a = (this.mergeStyle || this.getOptions({}, n) || {}).labelCfg,
                    s = void 0 === a ? {} : a,
                    c = this.itemType + rn,
                    l =
                      o.shapeMap[c] ||
                      o.find(function (t) {
                        return t.get('className') === c;
                      }),
                    h = this.itemType + un,
                    f =
                      o.shapeMap[h] ||
                      o.find(function (t) {
                        return t.get('className') === h;
                      });
                  if (l) {
                    (!n || 'bbox|label' === n || ('edge' === this.itemType && 'style' !== n)) &&
                      (s = (0, u.deepMix)(s, t.labelCfg));
                    var p = this.getLabelStyleByPosition(t, s, o),
                      g = null === (r = t.labelCfg) || void 0 === r ? void 0 : r.style,
                      v = (0, d.__assign)((0, d.__assign)({}, p), g),
                      y = v.rotate;
                    if ((delete v.rotate, isNaN(y) || '' === y))
                      1 !== (null === (i = l.getMatrix()) || void 0 === i ? void 0 : i[4]) &&
                        l.resetMatrix(),
                        l.attr(v);
                    else {
                      var m = [1, 0, 0, 0, 1, 0, 0, 0, 1];
                      (m = en(m, [
                        ['t', -v.x, -v.y],
                        ['r', y],
                        ['t', v.x, v.y],
                      ])),
                        (v.matrix = m),
                        l.attr(v);
                    }
                    if (f)
                      if (v.background) {
                        var b = this.getLabelBgStyleByPosition(l, s);
                        f.attr(b);
                      } else o.removeChild(f);
                    else
                      v.background &&
                        ((f = this.drawLabelBg(t, o, l)).set('classname', h),
                        (o.shapeMap[h] = f),
                        l.toFront());
                  } else {
                    var x = this.drawLabel(t, o);
                    x.set('className', c), (o.shapeMap[c] = x);
                  }
                }
              },
              afterUpdate: function (t, e) {},
              setState: function (t, e, n) {
                var r,
                  i,
                  o,
                  a = n.get('keyShape');
                if (a && !a.destroyed) {
                  var s = n.getType(),
                    c = (0, u.isBoolean)(e) ? t : ''.concat(t, ':').concat(e),
                    l = this.getStateStyle(c, n),
                    h = n.getStateStyle(c);
                  if (h || l) {
                    var f = (0, u.mix)({}, h || l),
                      d = n.getContainer(),
                      p = { x: 1, y: 1, cx: 1, cy: 1, matrix: 1 };
                    if (('combo' === s && ((p.r = 1), (p.width = 1), (p.height = 1)), e)) {
                      var g = function (t) {
                        var e,
                          n = f[t];
                        if ((0, u.isPlainObject)(n) && !on.includes(t)) {
                          var r =
                            (null === (o = d.shapeMap) || void 0 === o ? void 0 : o[t]) ||
                            d.find(function (e) {
                              return e.get('name') === t;
                            });
                          null == r || r.attr(n);
                        } else a.attr((((e = {})[t] = n), e));
                      };
                      for (var v in f) g(v);
                    } else {
                      var y = It(n.getCurrentStatesStyle()),
                        m = n.getModel(),
                        b = (0, u.mix)({}, m.style, It(n.getOriginStyle())),
                        x = a.get('name'),
                        _ = a.attr(),
                        w = {};
                      Object.keys(_).forEach(function (t) {
                        if ('img' !== t) {
                          var e = _[t];
                          e && 'object' === tn(e) ? (w[t] = (0, u.clone)(e)) : (w[t] = e);
                        }
                      });
                      var E = {},
                        S = function (t) {
                          var e = f[t];
                          if ((0, u.isPlainObject)(e) && !on.includes(t)) {
                            var n =
                              d.shapeMap[t] ||
                              d.find(function (e) {
                                return e.get('name') === t;
                              });
                            if (n) {
                              var r = It(n.attr());
                              (0, u.each)(e, function (e, i) {
                                if (t === x && w[i] && !p[i]) {
                                  delete w[i];
                                  var o = b[t][i] || sn[s][i];
                                  a.attr(i, o);
                                } else if (r[i] || 0 === r[i]) {
                                  delete r[i];
                                  var u = b[t][i] || sn[s][i];
                                  n.attr(i, u);
                                }
                              }),
                                (E[t] = r);
                            }
                          } else if (w[t] && !p[t]) {
                            delete w[t];
                            var i = b[t] || (b[x] ? b[x][t] : void 0) || sn[s][t];
                            a.attr(t, i);
                          }
                        };
                      for (var M in f) S(M);
                      for (var v in (x ? (E[x] = w) : (0, u.mix)(E, w), y))
                        if (!p[v]) {
                          var k = y[v];
                          ((0, u.isPlainObject)(k) && !on.includes(v)) ||
                            (x
                              ? ((0, u.mix)(b[x], (((i = {})[v] = k), i)), delete b[v])
                              : (0, u.mix)(b, (((r = {})[v] = k), r)),
                            delete y[v]);
                        }
                      var A = {};
                      (0, u.deepMix)(A, b, E, y);
                      var C = !1,
                        I = function (t) {
                          var e,
                            n,
                            r = A[t];
                          if ((0, u.isPlainObject)(r) && !on.includes(t)) {
                            var i =
                              d.shapeMap[t] ||
                              d.find(function (e) {
                                return e.get('name') === t;
                              });
                            i &&
                              (('text' === i.get('type') || i.get('labelRelated')) &&
                                (delete r.x, delete r.y, delete r.matrix),
                              t === x &&
                                ('combo' === s && (delete r.r, delete r.width, delete r.height),
                                (C = !0)),
                              i.attr(r));
                          } else if (!C) {
                            var o = r || sn[s][t];
                            'combo' === s
                              ? x || a.attr((((e = {})[t] = o), e))
                              : a.attr((((n = {})[t] = o), n));
                          }
                        };
                      for (var T in A) I(T);
                    }
                  }
                }
              },
              getStateStyle: function (t, e) {
                var n = e.getModel(),
                  r = e.getType(),
                  i = this.getOptions(n),
                  o = i.stateStyles,
                  a = i.style,
                  s = void 0 === a ? {} : a,
                  c = n.stateStyles ? n.stateStyles[t] : o && o[t];
                return 'combo' === r ? (0, u.clone)(c) : (0, u.mix)({}, s, c);
              },
              getControlPoints: function (t) {
                return t.controlPoints;
              },
              getAnchorPoints: function (t) {
                var e, n;
                return (
                  (null == t ? void 0 : t.anchorPoints) ||
                  (null === (e = this.getCustomConfig(t)) || void 0 === e
                    ? void 0
                    : e.anchorPoints) ||
                  (null === (n = this.options) || void 0 === n ? void 0 : n.anchorPoints)
                );
              },
            },
            ln = {
              itemType: 'node',
              shapeType: 'single-node',
              labelPosition: 'center',
              offset: ct.nodeLabel.offset,
              getSize: function (t) {
                var e,
                  n =
                    (null === (e = this.mergeStyle) || void 0 === e ? void 0 : e.size) ||
                    t.size ||
                    this.getOptions({}).size ||
                    ct.defaultNode.size;
                return (
                  (0, u.isArray)(n) && 1 === n.length && (n = [n[0], n[0]]),
                  (0, u.isArray)(n) || (n = [n, n]),
                  n
                );
              },
              getLabelStyleByPosition: function (t, e) {
                var n = e.position || this.labelPosition;
                if ('center' === n)
                  return { x: 0, y: 0, text: t.label, textBaseline: 'middle', textAlign: 'center' };
                var r = e.offset;
                (0, u.isNil)(r) && (r = this.offset);
                var i,
                  o = this.getSize(t);
                switch (n) {
                  case 'top':
                    i = { x: 0, y: -o[1] / 2 - r, textBaseline: 'bottom', textAlign: 'center' };
                    break;
                  case 'bottom':
                    i = { x: 0, y: o[1] / 2 + r, textBaseline: 'top', textAlign: 'center' };
                    break;
                  case 'left':
                    i = { x: -o[0] / 2 - r, y: 0, textBaseline: 'middle', textAlign: 'right' };
                    break;
                  default:
                    i = { x: o[0] / 2 + r, y: 0, textBaseline: 'middle', textAlign: 'left' };
                }
                return (i.text = t.label), i;
              },
              getLabelBgStyleByPosition: function (t, e) {
                var n;
                if (!t) return {};
                var r = null === (n = e.style) || void 0 === n ? void 0 : n.background;
                if (!r) return {};
                var i = t.getBBox(),
                  o = Lt(r.padding),
                  a = i.width + o[1] + o[3],
                  s = i.height + o[0] + o[2];
                return (0, d.__assign)((0, d.__assign)({ x: i.minX - o[3], y: i.minY - o[0] }, r), {
                  width: a,
                  height: s,
                });
              },
              drawShape: function (t, e) {
                var n = this.shapeType,
                  r = this.getShapeStyle(t),
                  i = e.addShape(n, { attrs: r, draggable: !0, name: 'node-shape' });
                return (e.shapeMap['node-shape'] = i), i;
              },
              updateLinkPoints: function (t, e) {
                var n,
                  r = (this.mergeStyle || this.getOptions(t)).linkPoints,
                  i =
                    e.shapeMap['link-point-left'] ||
                    e.find(function (t) {
                      return 'link-point-left' === t.get('className');
                    }),
                  o =
                    e.shapeMap['link-point-right'] ||
                    e.find(function (t) {
                      return 'link-point-right' === t.get('className');
                    }),
                  a =
                    e.shapeMap['link-point-top'] ||
                    e.find(function (t) {
                      return 'link-point-top' === t.get('className');
                    }),
                  s =
                    e.shapeMap['link-point-bottom'] ||
                    e.find(function (t) {
                      return 'link-point-bottom' === t.get('className');
                    });
                i && (n = i.attr()),
                  o && !n && (n = o.attr()),
                  a && !n && (n = a.attr()),
                  s && !n && (n = s.attr()),
                  n || (n = r);
                var c = (0, u.mix)({}, n, t.linkPoints),
                  l = c.fill,
                  h = c.stroke,
                  f = c.lineWidth,
                  p = c.size / 2;
                p || (p = c.r);
                var g = t.linkPoints
                    ? t.linkPoints
                    : { left: void 0, right: void 0, top: void 0, bottom: void 0 },
                  v = g.left,
                  y = g.right,
                  m = g.top,
                  b = g.bottom,
                  x = this.getSize(t),
                  _ = x[0],
                  w = x[1],
                  E = { r: p, fill: l, stroke: h, lineWidth: f };
                if (i)
                  v || void 0 === v
                    ? i.attr((0, d.__assign)((0, d.__assign)({}, E), { x: -_ / 2, y: 0 }))
                    : (i.remove(), delete e.shapeMap['link-point-left']);
                else if (v) {
                  var S = 'link-point-left';
                  e.shapeMap[S] = e.addShape('circle', {
                    attrs: (0, d.__assign)((0, d.__assign)({}, E), { x: -_ / 2, y: 0 }),
                    className: S,
                    name: S,
                    isAnchorPoint: !0,
                  });
                }
                if (o)
                  y || void 0 === y || (o.remove(), delete e.shapeMap['link-point-right']),
                    o.attr((0, d.__assign)((0, d.__assign)({}, E), { x: _ / 2, y: 0 }));
                else if (y) {
                  var M = 'link-point-right';
                  e.shapeMap[M] = e.addShape('circle', {
                    attrs: (0, d.__assign)((0, d.__assign)({}, E), { x: _ / 2, y: 0 }),
                    className: M,
                    name: M,
                    isAnchorPoint: !0,
                  });
                }
                if (a)
                  m || void 0 === m || (a.remove(), delete e.shapeMap['link-point-top']),
                    a.attr((0, d.__assign)((0, d.__assign)({}, E), { x: 0, y: -w / 2 }));
                else if (m) {
                  var k = 'link-point-top';
                  e.shapeMap[k] = e.addShape('circle', {
                    attrs: (0, d.__assign)((0, d.__assign)({}, E), { x: 0, y: -w / 2 }),
                    className: k,
                    name: k,
                    isAnchorPoint: !0,
                  });
                }
                if (s)
                  b || void 0 === b
                    ? s.attr((0, d.__assign)((0, d.__assign)({}, E), { x: 0, y: w / 2 }))
                    : (s.remove(), delete e.shapeMap['link-point-bottom']);
                else if (b) {
                  var A = 'link-point-bottom';
                  e.shapeMap[A] = e.addShape('circle', {
                    attrs: (0, d.__assign)((0, d.__assign)({}, E), { x: 0, y: w / 2 }),
                    className: A,
                    name: A,
                    isAnchorPoint: !0,
                  });
                }
              },
              updateShape: function (t, e, n, r, i) {
                e.get('keyShape').attr((0, d.__assign)({}, n)),
                  this.updateLabel(t, e, i),
                  r && this.updateIcon(t, e);
              },
              updateIcon: function (t, e) {
                var n = this,
                  r = e.getContainer(),
                  i = (this.mergeStyle || this.getOptions(t)).icon,
                  o = t.icon ? t.icon : { show: void 0, text: void 0 },
                  a = o.show,
                  s = o.text,
                  c =
                    r.shapeMap[''.concat(this.type, '-icon')] ||
                    r.find(function (t) {
                      return t.get('name') === ''.concat(n.type, '-icon');
                    });
                if (c)
                  if (a || void 0 === a) {
                    var l = (0, u.mix)({}, c.attr(), i),
                      h = l.width,
                      f = void 0 === h ? 20 : h,
                      p = l.height,
                      g = void 0 === p ? 20 : p;
                    ('iconfont' === l.fontFamily || l.hasOwnProperty('text')) && ((f = 0), (g = 0)),
                      c.attr((0, d.__assign)((0, d.__assign)({}, l), { x: -f / 2, y: -g / 2 }));
                  } else c.remove();
                else if (a) {
                  var v = ''.concat(this.type, '-icon');
                  s
                    ? (r.shapeMap[v] = r.addShape('text', {
                        attrs: (0, d.__assign)(
                          {
                            x: 0,
                            y: 0,
                            fontSize: 12,
                            fill: '#000',
                            stroke: '#000',
                            textBaseline: 'middle',
                            textAlign: 'center',
                          },
                          i,
                        ),
                        className: v,
                        name: v,
                      }))
                    : ((f = i.width),
                      (g = i.height),
                      (r.shapeMap[v] = r.addShape('image', {
                        attrs: (0, d.__assign)((0, d.__assign)({}, i), { x: -f / 2, y: -g / 2 }),
                        className: v,
                        name: v,
                      })));
                  var y =
                    r.shapeMap['node-label'] ||
                    r.find(function (t) {
                      return 'node-label' === t.get('name');
                    });
                  y && y.toFront();
                }
              },
            },
            hn = (0, d.__assign)((0, d.__assign)({}, cn), ln);
          te.registerNode('single-node', hn);
          var fn = 'edge-shape',
            dn = {
              itemType: 'edge',
              labelPosition: 'center',
              refX: 0,
              refY: 0,
              labelAutoRotate: !1,
              options: {
                size: ct.defaultEdge.size,
                style: {
                  x: 0,
                  y: 0,
                  stroke: ct.defaultEdge.style.stroke,
                  lineAppendWidth: ct.defaultEdge.style.lineAppendWidth,
                },
                labelCfg: {
                  style: {
                    fill: ct.edgeLabel.style.fill,
                    fontSize: ct.edgeLabel.style.fontSize,
                    fontFamily: ct.windowFontFamily,
                  },
                },
                stateStyles: (0, d.__assign)({}, ct.edgeStateStyles),
              },
              getPath: function (t) {
                var e = [];
                return (
                  (0, u.each)(t, function (t, n) {
                    0 === n ? e.push(['M', t.x, t.y]) : e.push(['L', t.x, t.y]);
                  }),
                  e
                );
              },
              getShapeStyle: function (t) {
                var e = this.options.style,
                  n = { stroke: t.color },
                  r = (0, u.mix)({}, e, n, t.style),
                  i = t.size || ct.defaultEdge.size,
                  o = (t = this.getPathPoints(t)).startPoint,
                  a = t.endPoint,
                  s = this.getControlPoints(t),
                  c = [o];
                s && (c = c.concat(s)), c.push(a);
                var l = this.getPath(c);
                return (0, u.mix)(
                  {},
                  ct.defaultEdge.style,
                  { stroke: ct.defaultEdge.color, lineWidth: i, path: l },
                  r,
                );
              },
              updateShapeStyle: function (t, e, n) {
                var r,
                  i = e.getContainer(),
                  o =
                    (null === (r = e.getKeyShape) || void 0 === r ? void 0 : r.call(e)) ||
                    i.shapeMap['edge-shape'],
                  a = t.size,
                  s = (t = this.getPathPoints(t)).startPoint,
                  c = t.endPoint,
                  l = this.getControlPoints(t),
                  h = [s];
                l && (h = h.concat(l)), h.push(c);
                var f = o.attr(),
                  p = t.style || {};
                void 0 === p.stroke && (p.stroke = t.color);
                var g = t.sourceNode,
                  v = t.targetNode,
                  y = { radius: p.radius };
                l || (y = { source: g, target: v, offset: p.offset, radius: p.radius });
                var m = this.getPath(h, y),
                  b = {};
                'move' === n
                  ? (b = { path: m })
                  : (f.endArrow && !1 === p.endArrow && (t.style.endArrow = { path: '' }),
                    f.startArrow && !1 === p.startArrow && (t.style.startArrow = { path: '' }),
                    void 0 === (b = (0, d.__assign)({}, t.style)).lineWidth &&
                      (b.lineWdith =
                        ((0, u.isNumber)(a) ? a : null == a ? void 0 : a[0]) || f.lineWidth),
                    void 0 === b.path && (b.path = m),
                    void 0 === b.stroke && (b.stroke = f.stroke || t.color)),
                  o && o.attr(b);
              },
              getLabelStyleByPosition: function (t, e, n) {
                var r,
                  i = e.position || this.labelPosition,
                  o = {},
                  a = null == n ? void 0 : n.shapeMap[fn];
                r = 'start' === i ? 0 : 'end' === i ? 1 : 0.5;
                var s,
                  c = e.refX || this.refX,
                  l = e.refY || this.refY;
                if (t.startPoint.x === t.endPoint.x && t.startPoint.y === t.endPoint.y)
                  return (
                    (o.x = t.startPoint.x + c), (o.y = t.startPoint.y + l), (o.text = t.label), o
                  );
                s = (0, u.isNil)(e.autoRotate) ? this.labelAutoRotate : e.autoRotate;
                var h = mt(a, r, c, l, s);
                return (
                  (o.x = h.x),
                  (o.y = h.y),
                  (o.rotate = h.rotate),
                  (o.textAlign = this._getTextAlign(i, h.angle)),
                  (o.text = t.label),
                  o
                );
              },
              getLabelBgStyleByPosition: function (t, e) {
                if (!t) return {};
                var n = t.getBBox(),
                  r = e.style && e.style.background;
                if (!r) return {};
                var i = r.padding,
                  o = n.width + i[1] + i[3],
                  a = n.height + i[0] + i[2],
                  s = (0, d.__assign)((0, d.__assign)({}, r), {
                    width: o,
                    height: a,
                    x: n.minX - i[3],
                    y: n.minY - i[0],
                    matrix: [1, 0, 0, 0, 1, 0, 0, 0, 1],
                  });
                return (
                  ((0, u.isNil)(e.autoRotate) ? this.labelAutoRotate : e.autoRotate) &&
                    (s.matrix = t.attr('matrix') || [1, 0, 0, 0, 1, 0, 0, 0, 1]),
                  s
                );
              },
              _getTextAlign: function (t, e) {
                var n = 'center';
                return e
                  ? ((e %= 2 * Math.PI),
                    'center' !== t &&
                      (n =
                        (e >= 0 && e <= Math.PI / 2) || (e >= 1.5 * Math.PI && e < 2 * Math.PI)
                          ? t
                          : (function (t) {
                              var e = t;
                              return 'start' === t ? (e = 'end') : 'end' === t && (e = 'start'), e;
                            })(t)),
                    n)
                  : t;
              },
              getControlPoints: function (t) {
                return t.controlPoints;
              },
              getPathPoints: function (t) {
                return t;
              },
              drawShape: function (t, e) {
                var n = this.getShapeStyle(t),
                  r = e.addShape('path', { className: fn, name: fn, attrs: n });
                return (e.shapeMap[fn] = r), r;
              },
              drawLabel: function (t, e) {
                var n = this.options.labelCfg,
                  r = (0, u.deepMix)({}, n, t.labelCfg),
                  i = this.getLabelStyle(t, r, e),
                  o = i.rotate;
                delete i.rotate;
                var a = e.addShape('text', { attrs: i, name: 'text-shape', labelRelated: !0 });
                if (
                  ((e.shapeMap['text-shape'] = a),
                  isNaN(o) || '' === o || a.rotateAtStart(o),
                  i.background)
                ) {
                  var s = this.drawLabelBg(t, e, a, i, o),
                    c = this.itemType + un;
                  s.set('classname', c), (e.shapeMap[c] = s), a.toFront();
                }
                return a;
              },
              drawLabelBg: function (t, e, n, r, i) {
                var o = this.options.labelCfg,
                  a = (0, u.deepMix)({}, o, t.labelCfg),
                  s = this.getLabelBgStyleByPosition(n, a),
                  c = e.addShape('rect', { name: 'text-bg-shape', attrs: s, labelRelated: !0 });
                return (e.shapeMap['text-bg-shape'] = c), c;
              },
            },
            pn = (0, d.__assign)((0, d.__assign)({}, cn), dn);
          te.registerEdge('single-edge', pn),
            te.registerEdge('line', { getControlPoints: function () {} }, 'single-edge'),
            te.registerEdge(
              'spline',
              {
                getPath: function (t) {
                  return Ne(t);
                },
              },
              'single-edge',
            ),
            te.registerEdge(
              'arc',
              {
                curveOffset: 20,
                clockwise: 1,
                getControlPoints: function (t) {
                  var e,
                    n,
                    r = t.startPoint,
                    i = t.endPoint,
                    o = (r.x + i.x) / 2,
                    a = (r.y + i.y) / 2;
                  if (void 0 !== t.controlPoints) {
                    if (
                      ((n = t.controlPoints[0]),
                      (e = I(r, n, i)),
                      r.x <= i.x && r.y > i.y
                        ? (this.clockwise = e.x > n.x ? 0 : 1)
                        : r.x <= i.x && r.y < i.y
                        ? (this.clockwise = e.x > n.x ? 1 : 0)
                        : r.x > i.x && r.y <= i.y
                        ? (this.clockwise = e.y < n.y ? 0 : 1)
                        : (this.clockwise = e.y < n.y ? 1 : 0),
                      (n.x - r.x) / (n.y - r.y) == (i.x - r.x) / (i.y - r.y))
                    )
                      return [];
                  } else {
                    void 0 === t.curveOffset && (t.curveOffset = this.curveOffset),
                      (0, u.isArray)(t.curveOffset) && (t.curveOffset = t.curveOffset[0]),
                      t.curveOffset < 0 ? (this.clockwise = 0) : (this.clockwise = 1);
                    var s = { x: i.x - r.x, y: i.y - r.y },
                      c = Math.atan2(s.y, s.x);
                    (n = {
                      x: t.curveOffset * Math.cos(-Math.PI / 2 + c) + o,
                      y: t.curveOffset * Math.sin(-Math.PI / 2 + c) + a,
                    }),
                      (e = I(r, n, i));
                  }
                  var l = T(r, e);
                  return [{ x: l, y: l }];
                },
                getPath: function (t) {
                  var e = [];
                  return (
                    e.push(['M', t[0].x, t[0].y]),
                    2 === t.length
                      ? e.push(['L', t[1].x, t[1].y])
                      : e.push(['A', t[1].x, t[1].y, 0, 0, this.clockwise, t[2].x, t[2].y]),
                    e
                  );
                },
              },
              'single-edge',
            ),
            te.registerEdge(
              'quadratic',
              {
                curvePosition: 0.5,
                curveOffset: -20,
                getControlPoints: function (t) {
                  var e = t.controlPoints;
                  if (!e || !e.length) {
                    var n = t.startPoint,
                      r = t.endPoint;
                    void 0 === t.curveOffset && (t.curveOffset = this.curveOffset),
                      void 0 === t.curvePosition && (t.curvePosition = this.curvePosition),
                      (0, u.isArray)(this.curveOffset) && (t.curveOffset = t.curveOffset[0]),
                      (0, u.isArray)(this.curvePosition) && (t.curvePosition = t.curveOffset[0]),
                      (e = [Pe(n, r, t.curvePosition, t.curveOffset)]);
                  }
                  return e;
                },
                getPath: function (t) {
                  var e = [];
                  return (
                    e.push(['M', t[0].x, t[0].y]), e.push(['Q', t[1].x, t[1].y, t[2].x, t[2].y]), e
                  );
                },
              },
              'single-edge',
            ),
            te.registerEdge(
              'cubic',
              {
                curvePosition: [0.5, 0.5],
                curveOffset: [-20, 20],
                getControlPoints: function (t) {
                  var e = t.controlPoints;
                  if (
                    (void 0 === t.curveOffset && (t.curveOffset = this.curveOffset),
                    void 0 === t.curvePosition && (t.curvePosition = this.curvePosition),
                    (0, u.isNumber)(t.curveOffset) &&
                      (t.curveOffset = [t.curveOffset, -t.curveOffset]),
                    (0, u.isNumber)(t.curvePosition) &&
                      (t.curvePosition = [t.curvePosition, 1 - t.curvePosition]),
                    !e || !e.length || e.length < 2)
                  ) {
                    var n = t.startPoint,
                      r = t.endPoint;
                    e = [
                      Pe(n, r, t.curvePosition[0], t.curveOffset[0]),
                      Pe(n, r, t.curvePosition[1], t.curveOffset[1]),
                    ];
                  }
                  return e;
                },
                getPath: function (t) {
                  var e = [];
                  return (
                    e.push(['M', t[0].x, t[0].y]),
                    e.push(['C', t[1].x, t[1].y, t[2].x, t[2].y, t[3].x, t[3].y]),
                    e
                  );
                },
              },
              'single-edge',
            ),
            te.registerEdge(
              'cubic-vertical',
              {
                curvePosition: [0.5, 0.5],
                minCurveOffset: [0, 0],
                curveOffset: void 0,
                getControlPoints: function (t) {
                  var e = t.startPoint,
                    n = t.endPoint;
                  void 0 === t.curvePosition && (t.curvePosition = this.curvePosition),
                    void 0 === t.curveOffset && (t.curveOffset = this.curveOffset),
                    void 0 === t.minCurveOffset && (t.minCurveOffset = this.minCurveOffset),
                    (0, u.isNumber)(t.curveOffset) &&
                      (t.curveOffset = [t.curveOffset, -t.curveOffset]),
                    (0, u.isNumber)(t.minCurveOffset) &&
                      (t.minCurveOffset = [t.minCurveOffset, -t.minCurveOffset]),
                    (0, u.isNumber)(t.curvePosition) &&
                      (t.curvePosition = [t.curvePosition, 1 - t.curvePosition]);
                  var r = n.y - e.y,
                    i = [0, 0];
                  return (
                    t.curveOffset
                      ? (i = t.curveOffset)
                      : Math.abs(r) < Math.abs(t.minCurveOffset[0]) && (i = t.minCurveOffset),
                    [
                      { x: e.x, y: e.y + r * this.curvePosition[0] + i[0] },
                      { x: n.x, y: n.y - r * this.curvePosition[1] + i[1] },
                    ]
                  );
                },
              },
              'cubic',
            ),
            te.registerEdge(
              'cubic-horizontal',
              {
                curvePosition: [0.5, 0.5],
                minCurveOffset: [0, 0],
                curveOffset: void 0,
                getControlPoints: function (t) {
                  var e = t.startPoint,
                    n = t.endPoint;
                  void 0 === t.curvePosition && (t.curvePosition = this.curvePosition),
                    void 0 === t.curveOffset && (t.curveOffset = this.curveOffset),
                    void 0 === t.minCurveOffset && (t.minCurveOffset = this.minCurveOffset),
                    (0, u.isNumber)(t.curveOffset) &&
                      (t.curveOffset = [t.curveOffset, -t.curveOffset]),
                    (0, u.isNumber)(t.minCurveOffset) &&
                      (t.minCurveOffset = [t.minCurveOffset, -t.minCurveOffset]),
                    (0, u.isNumber)(t.curvePosition) &&
                      (t.curvePosition = [t.curvePosition, 1 - t.curvePosition]);
                  var r = n.x - e.x,
                    i = [0, 0];
                  return (
                    t.curveOffset
                      ? (i = t.curveOffset)
                      : Math.abs(r) < Math.abs(t.minCurveOffset[0]) && (i = t.minCurveOffset),
                    [
                      { x: e.x + r * this.curvePosition[0] + i[0], y: e.y },
                      { x: n.x - r * this.curvePosition[1] + i[1], y: n.y },
                    ]
                  );
                },
              },
              'cubic',
            ),
            te.registerEdge(
              'loop',
              {
                getPathPoints: function (t) {
                  return yt(t);
                },
                getControlPoints: function (t) {
                  return t.controlPoints;
                },
                afterDraw: function (t) {
                  t.controlPoints = void 0;
                },
                afterUpdate: function (t) {
                  t.controlPoints = void 0;
                },
              },
              'cubic',
            );
          var gn = {
              itemType: 'combo',
              shapeType: 'single-combo',
              labelPosition: 'top',
              refX: ct.comboLabel.refX,
              refY: ct.comboLabel.refY,
              options: {
                style: {
                  stroke: ct.defaultCombo.style.stroke,
                  fill: ct.defaultCombo.style.fill,
                  lineWidth: ct.defaultCombo.style.lineWidth,
                },
                labelCfg: {
                  style: {
                    fill: ct.comboLabel.style.fill,
                    fontSize: ct.comboLabel.style.fontSize,
                    fontFamily: ct.windowFontFamily,
                  },
                },
                stateStyles: (0, d.__assign)({}, ct.comboStateStyles),
              },
              getSize: function (t) {
                var e = (0, u.clone)(t.size || this.options.size || ct.defaultCombo.size);
                return (
                  (0, u.isArray)(e) && 1 === e.length && (e = [e[0], e[0]]),
                  (0, u.isArray)(e) || (e = [e, e]),
                  e
                );
              },
              getLabelStyleByPosition: function (t, e) {
                var n = e.position || this.labelPosition,
                  r = t.style,
                  i = t.padding || this.options.padding;
                (0, u.isArray)(i) && (i = i[0]);
                var o = e.refX,
                  a = e.refY;
                (0, u.isNil)(o) && (o = this.refX), (0, u.isNil)(a) && (a = this.refY);
                var s,
                  c = this.getSize(t),
                  l = (Math.max(r.r, c[0] / 2) || c[0] / 2) + i;
                switch (n) {
                  case 'top':
                    s = { x: 0, y: -l - a, textBaseline: 'bottom', textAlign: 'center' };
                    break;
                  case 'bottom':
                    s = { x: 0, y: l + a, textBaseline: 'bottom', textAlign: 'center' };
                    break;
                  case 'left':
                    s = { x: -l + o, y: 0, textAlign: 'left' };
                    break;
                  case 'center':
                    s = { x: 0, y: 0, text: t.label, textAlign: 'center' };
                    break;
                  default:
                    s = { x: l + o, y: 0, textAlign: 'right' };
                }
                return (s.text = t.label), s;
              },
              drawShape: function (t, e) {
                var n = this.shapeType,
                  r = this.getShapeStyle(t);
                return e.addShape(n, { attrs: r, draggable: !0, name: 'combo-shape' });
              },
              updateShape: function (t, e, n) {
                var r = e.get('keyShape');
                (void 0 === t.animate ? this.options.animate : t.animate) && r.animate
                  ? r.animate(n, { duration: 200, easing: 'easeLinear' })
                  : r.attr((0, d.__assign)({}, n)),
                  this.updateLabel(t, e);
              },
            },
            vn = (0, d.__assign)((0, d.__assign)({}, cn), gn);
          te.registerCombo('single-combo', vn),
            te.registerCombo(
              'circle',
              {
                options: {
                  size: [ct.defaultCombo.size[0], ct.defaultCombo.size[0]],
                  padding: ct.defaultCombo.padding[0],
                  animate: !0,
                  style: {
                    stroke: ct.defaultCombo.style.stroke,
                    fill: ct.defaultCombo.style.fill,
                    lineWidth: ct.defaultCombo.style.lineWidth,
                  },
                  labelCfg: {
                    style: {
                      fill: ct.comboLabel.style.fill,
                      fontSize: ct.comboLabel.style.fontSize,
                    },
                    refX: 0,
                    refY: 0,
                  },
                  stateStyles: (0, d.__assign)({}, ct.comboStateStyles),
                },
                shapeType: 'circle',
                labelPosition: 'top',
                drawShape: function (t, e) {
                  var n = this.getShapeStyle(t);
                  return (
                    delete n.height,
                    delete n.width,
                    e.addShape('circle', {
                      attrs: n,
                      className: 'circle-combo',
                      name: 'circle-combo',
                      draggable: !0,
                    })
                  );
                },
                getShapeStyle: function (t) {
                  var e = this.options.style,
                    n = t.padding || this.options.padding;
                  (0, u.isArray)(n) && (n = n[0]);
                  var r,
                    i = { stroke: t.color },
                    o = (0, u.mix)({}, e, i, t.style);
                  if (t.fixSize) r = (0, u.isNumber)(t.fixSize) ? t.fixSize : t.fixSize[0];
                  else {
                    var a = this.getSize(t);
                    r =
                      !(0, u.isNumber)(o.r) || isNaN(o.r)
                        ? a[0] / 2 || ct.defaultCombo.style.r
                        : Math.max(o.r, a[0] / 2) || a[0] / 2;
                  }
                  o.r = r + n;
                  var s = (0, d.__assign)({ x: 0, y: 0 }, o);
                  return t.style ? (t.style.r = r) : (t.style = { r }), s;
                },
                update: function (t, e) {
                  var n = this.getSize(t),
                    r = t.padding || this.options.padding;
                  (0, u.isArray)(r) && (r = r[0]);
                  var i,
                    o = (0, u.clone)(t.style);
                  (i = t.fixSize
                    ? (0, u.isNumber)(t.fixSize)
                      ? t.fixSize
                      : t.fixSize[0]
                    : Math.max(o.r, n[0] / 2) || n[0] / 2),
                    (o.r = i + r);
                  var a = e.get('sizeCache');
                  a && (a.r = o.r);
                  var s = { stroke: t.color },
                    c = e.get('keyShape'),
                    l = (0, u.mix)({}, c.attr(), s, o);
                  t.style ? (t.style.r = i) : (t.style = { r: i }), this.updateShape(t, e, l, !0);
                },
              },
              'single-combo',
            ),
            te.registerCombo(
              'rect',
              {
                options: {
                  size: [40, 5],
                  padding: [25, 20, 15, 20],
                  animate: !0,
                  style: {
                    radius: 0,
                    stroke: ct.defaultCombo.style.stroke,
                    fill: ct.defaultCombo.style.fill,
                    lineWidth: ct.defaultCombo.style.lineWidth,
                  },
                  labelCfg: {
                    style: {
                      fill: ct.comboLabel.style.fill,
                      fontSize: ct.comboLabel.style.fontSize,
                      fontFamily: ct.windowFontFamily,
                    },
                  },
                  anchorPoints: [
                    [0, 0.5],
                    [1, 0.5],
                  ],
                  stateStyles: (0, d.__assign)({}, ct.comboStateStyles),
                },
                shapeType: 'rect',
                labelPosition: 'top',
                drawShape: function (t, e) {
                  var n = this.getShapeStyle(t);
                  return e.addShape('rect', {
                    attrs: n,
                    className: 'rect-combo',
                    name: 'rect-combo',
                    draggable: !0,
                  });
                },
                getLabelStyleByPosition: function (t, e) {
                  var n = e.position || this.labelPosition,
                    r = t.style,
                    i = t.padding || this.options.padding;
                  (0, u.isNumber)(i) && (i = [i, i, i, i]);
                  var o = e.refX,
                    a = e.refY;
                  (0, u.isNil)(o) && (o = this.refX), (0, u.isNil)(a) && (a = this.refY);
                  var s,
                    c = r.width / 2 + i[3],
                    l = r.height / 2 + i[0];
                  switch (n) {
                    case 'top':
                      s = { x: 0 - c + o, y: 0 - l + a, textBaseline: 'top', textAlign: 'left' };
                      break;
                    case 'bottom':
                      s = { x: 0, y: l + a, textBaseline: 'bottom', textAlign: 'center' };
                      break;
                    case 'left':
                      s = { x: 0 - c + a, y: 0, textAlign: 'left' };
                      break;
                    case 'center':
                      s = { x: 0, y: 0, text: t.label, textAlign: 'center' };
                      break;
                    default:
                      s = { x: c + o, y: 0, textAlign: 'right' };
                  }
                  return (s.text = t.label), s;
                },
                getShapeStyle: function (t) {
                  var e = this.options.style,
                    n = t.padding || this.options.padding;
                  (0, u.isNumber)(n) && (n = [n, n, n, n]);
                  var r,
                    i,
                    o = { stroke: t.color },
                    a = (0, u.mix)({}, e, o, t.style),
                    s = this.getSize(t),
                    c = t.collapsed && t.fixCollapseSize ? t.fixCollapseSize : t.fixSize;
                  c
                    ? (0, u.isNumber)(c)
                      ? ((r = c), (i = c))
                      : ((r = c[0]), (i = c[1]))
                    : ((r =
                        !(0, u.isNumber)(a.width) || isNaN(a.width)
                          ? s[0] || ct.defaultCombo.style.width
                          : Math.max(a.width, s[0]) || s[0]),
                      (i =
                        !(0, u.isNumber)(a.height) || isNaN(a.height)
                          ? s[1] || ct.defaultCombo.style.height
                          : Math.max(a.height, s[1]) || s[1]));
                  var l = -r / 2 - n[3],
                    h = -i / 2 - n[0];
                  (a.width = r + n[1] + n[3]), (a.height = i + n[0] + n[2]);
                  var f = (0, d.__assign)({ x: l, y: h }, a);
                  return (
                    t.style
                      ? ((t.style.width = r), (t.style.height = i))
                      : (t.style = { width: r, height: i }),
                    f
                  );
                },
                update: function (t, e) {
                  var n = this.getSize(t),
                    r = t.padding || this.options.padding;
                  (0, u.isNumber)(r) && (r = [r, r, r, r]);
                  var i,
                    o,
                    a = (0, u.clone)(t.style),
                    s = t.collapsed && t.fixCollapseSize ? t.fixCollapseSize : t.fixSize;
                  s
                    ? (0, u.isNumber)(s)
                      ? ((i = s), (o = s))
                      : ((i = s[0]), (o = s[1]))
                    : ((i = Math.max(a.width, n[0]) || n[0]),
                      (o = Math.max(a.height, n[1]) || n[1])),
                    (a.width = i + r[1] + r[3]),
                    (a.height = o + r[0] + r[2]);
                  var c = e.get('sizeCache');
                  c && ((c.width = a.width), (c.height = a.height)),
                    (a.x = -i / 2 - r[3]),
                    (a.y = -o / 2 - r[0]);
                  var l = { stroke: t.color },
                    h = e.get('keyShape'),
                    f = (0, u.mix)({}, h.attr(), l, a);
                  t.style
                    ? ((t.style.width = i), (t.style.height = o))
                    : (t.style = { width: i, height: o }),
                    this.updateShape(t, e, f, !1);
                },
                updateShape: function (t, e, n) {
                  var r = e.get('keyShape');
                  (void 0 === t.animate ? this.options.animate : t.animate) && r.animate
                    ? r.animate(n, { duration: 200, easing: 'easeLinear' })
                    : r.attr((0, d.__assign)({}, n)),
                    this.updateLabel(t, e);
                },
              },
              'single-combo',
            ),
            te.registerNode(
              'simple-circle',
              {
                options: {
                  size: ct.defaultNode.size,
                  style: {
                    x: 0,
                    y: 0,
                    stroke: ct.defaultNode.style.stroke,
                    fill: ct.defaultNode.style.fill,
                    lineWidth: ct.defaultNode.style.lineWidth,
                  },
                  labelCfg: {
                    style: {
                      fill: ct.nodeLabel.style.fill,
                      fontSize: ct.nodeLabel.style.fontSize,
                      fontFamily: ct.windowFontFamily,
                    },
                  },
                  stateStyles: (0, d.__assign)({}, ct.nodeStateStyles),
                },
                shapeType: 'simple-circle',
                labelPosition: 'center',
                shapeMap: {},
                drawShape: function (t, e) {
                  var n = this.getShapeStyle(t),
                    r = ''.concat(this.type, '-keyShape'),
                    i = e.addShape('circle', {
                      attrs: n,
                      className: ''.concat(this.type, '-keyShape'),
                      name: r,
                      draggable: !0,
                    });
                  return (e.shapeMap[r] = i), i;
                },
                getShapeStyle: function (t) {
                  var e = (this.mergeStyle || this.getOptions(t)).style,
                    n = { stroke: t.color },
                    r = (0, u.deepMix)({}, e, n),
                    i = this.getSize(t)[0] / 2;
                  return (0, d.__assign)({ x: 0, y: 0, r: i }, r);
                },
                update: function (t, e, n) {
                  var r = this.getSize(t),
                    i = { stroke: t.color, r: r[0] / 2 },
                    o = e.get('keyShape'),
                    a = (0, u.deepMix)({}, o.attr(), i, t.style);
                  this.updateShape(t, e, a, !0, n);
                },
              },
              'single-node',
            ),
            te.registerNode(
              'simple-rect',
              {
                options: {
                  size: [100, 30],
                  style: {
                    radius: 0,
                    stroke: ct.defaultNode.style.stroke,
                    fill: ct.defaultNode.style.fill,
                    lineWidth: ct.defaultNode.style.lineWidth,
                  },
                  labelCfg: {
                    style: {
                      fill: ct.nodeLabel.style.fill,
                      fontSize: ct.nodeLabel.style.fontSize,
                      fontFamily: ct.windowFontFamily,
                    },
                  },
                  anchorPoints: [
                    [0, 0.5],
                    [1, 0.5],
                  ],
                  stateStyles: (0, d.__assign)({}, ct.nodeStateStyles),
                },
                shapeType: 'simple-rect',
                labelPosition: 'center',
                drawShape: function (t, e) {
                  var n = this.getShapeStyle(t);
                  return e.addShape('rect', {
                    attrs: n,
                    className: ''.concat(this.type, '-keyShape'),
                    name: ''.concat(this.type, '-keyShape'),
                    draggable: !0,
                  });
                },
                getShapeStyle: function (t) {
                  var e = (this.mergeStyle || this.getOptions(t)).style,
                    n = { stroke: t.color },
                    r = (0, u.mix)({}, e, n),
                    i = this.getSize(t),
                    o = r.width || i[0],
                    a = r.height || i[1];
                  return (0, d.__assign)({ x: -o / 2, y: -a / 2, width: o, height: a }, r);
                },
                update: function (t, e, n) {
                  e.getContainer();
                  var r = (this.mergeStyle || this.getOptions(t)).style,
                    i = this.getSize(t),
                    o = e.get('keyShape');
                  t.size ||
                    ((i[0] = o.attr('width') || r.width), (i[1] = o.attr('height') || r.height));
                  var a = {
                      stroke: t.color,
                      x: -i[0] / 2,
                      y: -i[1] / 2,
                      width: i[0],
                      height: i[1],
                    },
                    s = (0, u.mix)({}, r, o.attr(), a);
                  (s = (0, u.mix)(s, t.style)), this.updateShape(t, e, s, !1, n);
                },
              },
              'single-node',
            ),
            te.registerNode(
              'image',
              {
                options: {
                  img: 'https://gw.alipayobjects.com/mdn/rms_f8c6a0/afts/img/A*eD7nT6tmYgAAAAAAAAAAAABkARQnAQ',
                  size: 200,
                  labelCfg: { style: { fontFamily: ct.windowFontFamily } },
                  clipCfg: {
                    show: !1,
                    type: 'circle',
                    r: 50,
                    rx: 50,
                    ry: 35,
                    width: 50,
                    height: 35,
                    points: [
                      [30, 12],
                      [12, 30],
                      [30, 48],
                      [48, 30],
                    ],
                    path: [
                      ['M', 25, 25],
                      ['L', 50, 25],
                      ['A', 12.5, 12.5, 0, 1, 1, 50, 50],
                      ['A', 12.5, 12.5, 0, 1, 0, 50, 50],
                      ['L', 25, 75],
                      ['Z'],
                    ],
                    x: 0,
                    y: 0,
                  },
                },
                shapeType: 'image',
                labelPosition: 'bottom',
                drawShape: function (t, e) {
                  var n = this.shapeType,
                    r = this.getShapeStyle(t);
                  delete r.fill;
                  var i = e.addShape(n, {
                    attrs: r,
                    className: ''.concat(this.type, '-keyShape'),
                    name: ''.concat(this.type, '-keyShape'),
                    draggable: !0,
                  });
                  return this.drawClip(t, i), i;
                },
                drawClip: function (t, e) {
                  var n = (this.mergeStyle || this.getOptions(t)).clipCfg;
                  if (n.show) {
                    var r = n.type,
                      i = n.x,
                      o = n.y,
                      a = n.style;
                    if ('circle' === r) {
                      var s = n.r;
                      e.setClip({
                        type: 'circle',
                        attrs: (0, d.__assign)({ r: s, x: i, y: o }, a),
                      });
                    } else if ('rect' === r) {
                      var u = n.width,
                        c = n.height,
                        l = i - u / 2,
                        h = o - c / 2;
                      e.setClip({
                        type: 'rect',
                        attrs: (0, d.__assign)({ x: l, y: h, width: u, height: c }, a),
                      });
                    } else if ('ellipse' === r) {
                      var f = n.rx,
                        p = n.ry;
                      e.setClip({
                        type: 'ellipse',
                        attrs: (0, d.__assign)({ x: i, y: o, rx: f, ry: p }, a),
                      });
                    } else if ('polygon' === r) {
                      var g = n.points;
                      e.setClip({ type: 'polygon', attrs: (0, d.__assign)({ points: g }, a) });
                    } else if ('path' === r) {
                      var v = n.path;
                      e.setClip({ type: 'path', attrs: (0, d.__assign)({ path: v }, a) });
                    }
                  }
                },
                getShapeStyle: function (t) {
                  var e = this.mergeStyle || this.getOptions(t),
                    n = e.style,
                    r = e.img,
                    i = this.getSize(t),
                    o = i[0],
                    a = i[1];
                  return (
                    n && ((o = n.width || i[0]), (a = n.height || i[1])),
                    (0, d.__assign)({ x: -o / 2, y: -a / 2, width: o, height: a, img: r }, n)
                  );
                },
                updateShapeStyle: function (t, e) {
                  var n = e.getContainer(),
                    r = ''.concat(this.itemType, '-shape'),
                    i =
                      n.shapeMap[r] ||
                      n.find(function (t) {
                        return t.get('className') === r;
                      }) ||
                      e.getKeyShape(),
                    o = this.getShapeStyle(t);
                  i && !i.destroyed && i.attr(o);
                },
              },
              'single-node',
            );
          const yn = {
              triangle: function (t, e, n) {
                void 0 === t && (t = 10), void 0 === e && (e = 15), void 0 === n && (n = 0);
                var r = 2 * n;
                return 'M '
                  .concat(r, ',0 L ')
                  .concat(r + e, ',-')
                  .concat(t / 2, ' L ')
                  .concat(r + e, ',')
                  .concat(t / 2, ' Z');
              },
              vee: function (t, e, n) {
                void 0 === t && (t = 15), void 0 === e && (e = 20), void 0 === n && (n = 0);
                var r = 2 * n;
                return 'M '
                  .concat(r, ',0 L ')
                  .concat(r + e, ',-')
                  .concat(t / 2, '\n        L ')
                  .concat(r + (2 * e) / 3, ',0 L ')
                  .concat(r + e, ',')
                  .concat(t / 2, ' Z');
              },
              circle: function (t, e) {
                return (
                  void 0 === t && (t = 5),
                  void 0 === e && (e = 0),
                  'M '
                    .concat(2 * e, ', 0\n            a ')
                    .concat(t, ',')
                    .concat(t, ' 0 1,0 ')
                    .concat(2 * t, ',0\n            a ')
                    .concat(t, ',')
                    .concat(t, ' 0 1,0 ')
                    .concat(2 * -t, ',0')
                );
              },
              rect: function (t, e, n) {
                void 0 === t && (t = 10), void 0 === e && (e = 10), void 0 === n && (n = 0);
                var r = 2 * n;
                return 'M '
                  .concat(r, ',')
                  .concat(-t / 2, ' \n        L ')
                  .concat(r + e, ',')
                  .concat(-t / 2, ' \n        L ')
                  .concat(r + e, ',')
                  .concat(t / 2, ' \n        L ')
                  .concat(r, ',')
                  .concat(t / 2, ' Z');
              },
              diamond: function (t, e, n) {
                void 0 === t && (t = 15), void 0 === e && (e = 15), void 0 === n && (n = 0);
                var r = 2 * n;
                return 'M '
                  .concat(r, ',0 \n        L ')
                  .concat(r + e / 2, ',')
                  .concat(-t / 2, ' \n        L ')
                  .concat(r + e, ',0 \n        L ')
                  .concat(r + e / 2, ',')
                  .concat(t / 2, ' Z');
              },
              triangleRect: function (t, e, n, r, i, o) {
                void 0 === t && (t = 15),
                  void 0 === e && (e = 15),
                  void 0 === n && (n = 15),
                  void 0 === r && (r = 3),
                  void 0 === i && (i = 5),
                  void 0 === o && (o = 0);
                var a = 2 * o,
                  s = a + e + i;
                return 'M '
                  .concat(a, ',0 L ')
                  .concat(a + e, ',-')
                  .concat(t / 2, ' L ')
                  .concat(a + e, ',')
                  .concat(t / 2, ' Z\n            M ')
                  .concat(s, ', -')
                  .concat(n / 2, '\n            L ')
                  .concat(s + r, ' -')
                  .concat(n / 2, '\n            L ')
                  .concat(s + r, ' ')
                  .concat(n / 2, '\n            L ')
                  .concat(s, ' ')
                  .concat(n / 2, '\n            Z');
              },
            },
            mn = {
              collapse: function (t, e, n) {
                return [
                  ['M', t - n, e],
                  ['a', n, n, 0, 1, 0, 2 * n, 0],
                  ['a', n, n, 0, 1, 0, 2 * -n, 0],
                  ['M', t - n + 4, e],
                  ['L', t + n - 4, e],
                ];
              },
              expand: function (t, e, n) {
                return [
                  ['M', t - n, e],
                  ['a', n, n, 0, 1, 0, 2 * n, 0],
                  ['a', n, n, 0, 1, 0, 2 * -n, 0],
                  ['M', t - n + 4, e],
                  ['L', t - n + 2 * n - 4, e],
                  ['M', t - n + n, e - n + 4],
                  ['L', t, e + n - 4],
                ];
              },
              upTriangle: function (t, e, n) {
                var r = n * Math.cos(Math.PI / 6),
                  i = n * Math.sin(Math.PI / 6);
                return [['M', t - r, e + i], ['L', t + r, e + i], ['L', t, e - n], ['Z']];
              },
              downTriangle: function (t, e, n) {
                var r = n * Math.cos(Math.PI / 6),
                  i = n * Math.sin(Math.PI / 6);
                return [['M', t - r, e - i], ['L', t + r, e - i], ['L', t, e + n], ['Z']];
              },
            },
            bn = te;
          var xn = [
              '#5F95FF',
              '#61DDAA',
              '#65789B',
              '#F6BD16',
              '#7262FD',
              '#78D3F8',
              '#9661BC',
              '#F6903D',
              '#008685',
              '#F08BB4',
            ],
            _n = g.transform;
          const wn = (0, d.__assign)(
            (0, d.__assign)(
              (0, d.__assign)((0, d.__assign)((0, d.__assign)((0, d.__assign)({}, o), i), a), r),
              s,
            ),
            { transform: _n, mat3: m },
          );
          var En = (function () {
            function t(t) {
              (this.graph = t),
                (this.layoutCfg = t.get('layout') || {}),
                (this.layoutType = this.getLayoutType()),
                (this.layoutMethods = []),
                this.initLayout();
            }
            return (
              (t.prototype.initLayout = function () {}),
              (t.prototype.getLayoutType = function () {
                return this.getLayoutCfgType(this.layoutCfg);
              }),
              (t.prototype.getLayoutCfgType = function (t) {
                var e = t.type;
                if (e) return e;
                var n = t.pipes;
                return Array.isArray(n)
                  ? n.map(function (t) {
                      return (null == t ? void 0 : t.type) || '';
                    })
                  : null;
              }),
              (t.prototype.isLayoutTypeSame = function (t) {
                var e = this.getLayoutCfgType(t);
                return Array.isArray(this.layoutType)
                  ? this.layoutType.every(function (t, n) {
                      return t === e[n];
                    })
                  : (null == t ? void 0 : t.type) === this.layoutType;
              }),
              (t.prototype.refreshLayout = function () {
                var t = this,
                  e = t.graph,
                  n = t.layoutType;
                t.data,
                  e &&
                    (e.get('animate')
                      ? e.positionsAnimate('comboCombined' === n)
                      : e.refreshPositions('comboCombined' === n));
              }),
              (t.prototype.changeLayout = function (t) {
                (this.layoutCfg = t), this.destoryLayoutMethods(), this.layout();
              }),
              (t.prototype.changeData = function () {
                this.destoryLayoutMethods(), this.layout();
              }),
              (t.prototype.destoryLayoutMethods = function () {
                var t = this.layoutMethods;
                null == t ||
                  t.forEach(function (t) {
                    t.destroy();
                  }),
                  (this.layoutMethods = []);
              }),
              (t.prototype.destroyLayout = function () {
                var t = this.graph;
                this.destoryLayoutMethods(),
                  t.set('layout', void 0),
                  (this.layoutCfg = void 0),
                  (this.layoutType = void 0),
                  (this.layoutMethods = void 0);
              }),
              (t.prototype.setDataFromGraph = function () {
                for (
                  var t = [],
                    e = [],
                    n = [],
                    r = [],
                    i = [],
                    o = [],
                    a = [],
                    s = this.graph.getNodes(),
                    u = this.graph.getEdges(),
                    c = this.graph.getCombos(),
                    l = s.length,
                    h = 0;
                  h < l;
                  h++
                ) {
                  var f = s[h];
                  if (f && !f.destroyed) {
                    var d = f.getModel();
                    f.isVisible() ? t.push(d) : e.push(d);
                  }
                }
                var p = u.length;
                for (h = 0; h < p; h++) {
                  var g = u[h];
                  g &&
                    !g.destroyed &&
                    ((d = g.getModel()),
                    g.isVisible() ? (d.isComboEdge ? i.push(d) : n.push(d)) : r.push(d));
                }
                var v = c.length;
                for (h = 0; h < v; h++) {
                  var y = c[h];
                  y.destroyed || ((d = y.getModel()), y.isVisible() ? o.push(d) : a.push(d));
                }
                return {
                  nodes: t,
                  hiddenNodes: e,
                  edges: n,
                  hiddenEdges: r,
                  combos: o,
                  hiddenCombos: a,
                  comboEdges: i,
                };
              }),
              (t.prototype.reLayoutMethod = function (t, e) {
                var n = this;
                return new Promise(function (r, i) {
                  var o = n.graph,
                    a = null == e ? void 0 : e.type;
                  (e.onLayoutEnd = function () {
                    o.emit('aftersublayout', { type: a }), r();
                  }),
                    t.init(n.data),
                    'force' === a && ((t.ticking = !1), t.forceSimulation.stop()),
                    o.emit('beforesublayout', { type: a }),
                    t.execute(),
                    t.isCustomLayout && e.onLayoutEnd && e.onLayoutEnd();
                });
              }),
              (t.prototype.relayout = function (t) {
                var e = this,
                  n = this,
                  r = n.graph,
                  i = n.layoutMethods,
                  o = n.layoutCfg;
                if (t) {
                  this.data = this.setDataFromGraph();
                  var a = this.data.nodes;
                  if (!a) return !1;
                  this.initPositions(o.center, a);
                }
                r.emit('beforelayout');
                var s = Promise.resolve();
                null == i ||
                  i.forEach(function (t, n) {
                    var r = o[n];
                    s = s.then(function () {
                      return e.reLayoutMethod(t, r);
                    });
                  }),
                  (null == i ? void 0 : i.length) &&
                    s
                      .then(function () {
                        o.onAllLayoutEnd && o.onAllLayoutEnd();
                      })
                      .catch(function (t) {
                        console.warn('relayout failed', t);
                      });
              }),
              (t.prototype.filterLayoutData = function (t, e) {
                var n,
                  r,
                  i = t.nodes,
                  o = t.edges,
                  a = (0, d.__rest)(t, ['nodes', 'edges']);
                if (!i) return t;
                n = (0, u.isFunction)(null == e ? void 0 : e.nodesFilter)
                  ? e.nodesFilter
                  : function () {
                      return !0;
                    };
                var s = i.filter(n);
                if ((0, u.isFunction)(null == e ? void 0 : e.edgesFilter)) r = e.edgesFilter;
                else {
                  var c = s.reduce(function (t, e) {
                    return (t[e.id] = !0), t;
                  }, {});
                  r = function (t) {
                    return c[t.source] && c[t.target];
                  };
                }
                return (0, d.__assign)({ nodes: s, edges: o.filter(r) }, a);
              }),
              (t.prototype.getLayoutBBox = function (t) {
                var e = this.graph,
                  n = (0, u.groupBy)(e.getNodes(), function (t) {
                    return t.getModel().layoutOrder;
                  }),
                  r = Object.values(n).map(function (t) {
                    var e = Gt(t);
                    return (e.size = [e.width, e.height]), e;
                  });
                return {
                  groupNodes: Object.values((0, u.groupBy)(t, 'layoutOrder')),
                  layoutNodes: r,
                };
              }),
              (t.prototype.layoutAnimate = function () {}),
              (t.prototype.moveToZero = function () {
                var t = this.graph.get('data').nodes;
                if (void 0 !== t[0].x && null !== t[0].x && !jt(t[0].x)) {
                  for (var e = [0, 0], n = t.length, r = 0; r < n; r++) {
                    var i = t[r];
                    (e[0] += i.x), (e[1] += i.y);
                  }
                  for (e[0] /= t.length, e[1] /= t.length, r = 0; r < n; r++)
                    ((i = t[r]).x -= e[0]), (i.y -= e[1]);
                }
              }),
              (t.prototype.initPositions = function (t, e) {
                var n = this.graph;
                if (!e) return !1;
                var r = e ? e.length : 0;
                if (r) {
                  var i = 0.85 * n.get('width'),
                    o = 0.85 * n.get('height'),
                    a = Math.ceil(Math.sqrt(r) * (i / o)),
                    s = i / (a - 1),
                    u = o / (Math.ceil(r / a) - 1);
                  (isFinite(s) && s) || (s = 0), (isFinite(u) && s) || (u = 0);
                  for (var c = t[0] - i / 2, l = t[1] - o / 2, h = !0, f = 0; f < r; f++) {
                    var d = e[f];
                    jt(+d.x) && ((h = !1), (d.x = (f % a) * s + c)),
                      jt(+d.y) && ((h = !1), (d.y = Math.floor(f / a) * u + l));
                  }
                  return h;
                }
              }),
              (t.prototype.destroy = function () {
                (this.graph = null), this.destoryLayoutMethods(), (this.destroyed = !0);
              }),
              t
            );
          })();
          const Sn = En;
          const Mn = function (t) {
            (this.graph = t), (this.destroyed = !1), this.initEvents();
          };
          var kn = bn.registerNode,
            An = bn.registerEdge,
            Cn = bn.registerCombo,
            In = f.registerBehavior,
            Tn = ct;
          const Nn = {
            version: ct.version,
            AbstractGraph: Je,
            BaseGlobal: Tn,
            Util: wn,
            Shape: bn,
            Node: fe,
            Edge: ce,
            Combo: me,
            Hull: Ze,
            registerNode: bn.registerNode,
            registerEdge: bn.registerEdge,
            registerCombo: bn.registerCombo,
            registerBehavior: f.registerBehavior,
            Arrow: yn,
            Marker: mn,
            AbstractLayout: Sn,
            AbstractEvent: Mn,
          };
        },
        4812: (t, e, n) => {
          'use strict';
          n.r(e),
            n.d(e, {
              AbstractEvent: () => l.AbstractEvent,
              AbstractGraph: () => l.AbstractGraph,
              AbstractLayout: () => l.AbstractLayout,
              Algorithm: () => ru,
              Arrow: () => l.Arrow,
              BaseGlobal: () => l.BaseGlobal,
              Bundling: () => au,
              Combo: () => l.Combo,
              Edge: () => l.Edge,
              EdgeFilterLens: () => du,
              Fisheye: () => uu,
              G6GraphEvent: () => l.G6GraphEvent,
              Global: () => un,
              Graph: () => Hn,
              Grid: () => iu,
              Hull: () => l.Hull,
              ImageMinimap: () => fu,
              Layout: () => pn.Layouts,
              Legend: () => gu,
              Marker: () => l.Marker,
              Menu: () => su,
              Minimap: () => ou,
              Node: () => l.Node,
              Shape: () => l.Shape,
              SnapLine: () => pu,
              TimeBar: () => hu,
              ToolBar: () => cu,
              Tooltip: () => lu,
              TreeGraph: () => Zn,
              TreeLayout: () => Cn,
              Util: () => kn,
              default: () => vu,
              registerBehavior: () => l.registerBehavior,
              registerCombo: () => l.registerCombo,
              registerEdge: () => l.registerEdge,
              registerLayout: () => In,
              registerNode: () => l.registerNode,
              version: () => yu,
            });
          var r = {};
          n.r(r),
            n.d(r, {
              Base: () => $,
              Circle: () => J,
              Ellipse: () => nt,
              Image: () => ot,
              Line: () => ct,
              Marker: () => dt,
              Path: () => Mt,
              Polygon: () => Ct,
              Polyline: () => Tt,
              Rect: () => Pt,
              Text: () => Dt,
            });
          var i = {};
          n.r(i),
            n.d(i, {
              Base: () => Qt,
              Circle: () => te,
              Dom: () => ne,
              Ellipse: () => ie,
              Image: () => ae,
              Line: () => ue,
              Marker: () => fe,
              Path: () => pe,
              Polygon: () => ve,
              Polyline: () => me,
              Rect: () => xe,
              Text: () => ke,
            });
          var o = {};
          n.r(o),
            n.d(o, {
              getColorSetsBySubjectColors: () => on,
              getColorsWithSubjectColor: () => rn,
              mixColor: () => nn,
            });
          var a = {};
          n.r(a),
            n.d(a, {
              arrayToTextureData: () => En,
              attributesToTextureData: () => wn,
              buildTextureData: () => bn,
              buildTextureDataWithOneEdgeAttr: () => xn,
              buildTextureDataWithTwoEdgeAttr: () => _n,
              proccessToFunc: () => mn,
              radialLayout: () => Sn,
            });
          var s = {};
          n.r(s), n.d(s, { gpuDetector: () => Mn });
          var u = {};
          n.r(u),
            n.d(u, {
              assign: () => Yr,
              default: () => hi,
              defaultI18n: () => Kr,
              format: () => ci,
              parse: () => li,
              setGlobalDateI18n: () => $r,
              setGlobalDateMasks: () => ui,
            });
          var c = n(655),
            l = n(9754),
            h = n(3999),
            f = n(369),
            d = n(844),
            p = n(9242);
          function g(t, e, n, r) {
            var i = t - n,
              o = e - r;
            return Math.sqrt(i * i + o * o);
          }
          function v(t, e, n, r, i, o) {
            return i >= t && i <= t + n && o >= e && o <= e + r;
          }
          function y(t, e) {
            return !(e.minX > t.maxX || e.maxX < t.minX || e.minY > t.maxY || e.maxY < t.minY);
          }
          function m(t, e) {
            return t[0] === e[0] && t[1] === e[1];
          }
          var b = /^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,
            x = /^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,
            _ = /^p\s*\(\s*([axyn])\s*\)\s*(.*)/i,
            w = /[\d.]+:(#[^\s]+|[^\)]+\))/gi;
          function E(t, e) {
            var n = t.match(w);
            (0, p.each)(n, function (t) {
              var n = t.split(':');
              e.addColorStop(n[0], n[1]);
            });
          }
          function S(t, e, n) {
            var r = e.getBBox();
            if (isNaN(r.x) || isNaN(r.y) || isNaN(r.width) || isNaN(r.height)) return n;
            if ((0, p.isString)(n)) {
              if ('(' === n[1] || '(' === n[2]) {
                if ('l' === n[0])
                  return (function (t, e, n) {
                    var r,
                      i,
                      o = b.exec(n),
                      a = (parseFloat(o[1]) % 360) * (Math.PI / 180),
                      s = o[2],
                      u = e.getBBox();
                    a >= 0 && a < 0.5 * Math.PI
                      ? ((r = { x: u.minX, y: u.minY }), (i = { x: u.maxX, y: u.maxY }))
                      : 0.5 * Math.PI <= a && a < Math.PI
                      ? ((r = { x: u.maxX, y: u.minY }), (i = { x: u.minX, y: u.maxY }))
                      : Math.PI <= a && a < 1.5 * Math.PI
                      ? ((r = { x: u.maxX, y: u.maxY }), (i = { x: u.minX, y: u.minY }))
                      : ((r = { x: u.minX, y: u.maxY }), (i = { x: u.maxX, y: u.minY }));
                    var c = Math.tan(a),
                      l = c * c,
                      h = (i.x - r.x + c * (i.y - r.y)) / (l + 1) + r.x,
                      f = (c * (i.x - r.x + c * (i.y - r.y))) / (l + 1) + r.y,
                      d = t.createLinearGradient(r.x, r.y, h, f);
                    return E(s, d), d;
                  })(t, e, n);
                if ('r' === n[0])
                  return (function (t, e, n) {
                    var r = x.exec(n),
                      i = parseFloat(r[1]),
                      o = parseFloat(r[2]),
                      a = parseFloat(r[3]),
                      s = r[4];
                    if (0 === a) {
                      var u = s.match(w);
                      return u[u.length - 1].split(':')[1];
                    }
                    var c = e.getBBox(),
                      l = c.maxX - c.minX,
                      h = c.maxY - c.minY,
                      f = Math.sqrt(l * l + h * h) / 2,
                      d = t.createRadialGradient(
                        c.minX + l * i,
                        c.minY + h * o,
                        0,
                        c.minX + l / 2,
                        c.minY + h / 2,
                        a * f,
                      );
                    return E(s, d), d;
                  })(t, e, n);
                if ('p' === n[0])
                  return (function (t, e, n) {
                    if (e.get('patternSource') && e.get('patternSource') === n)
                      return e.get('pattern');
                    var r,
                      i,
                      o = _.exec(n),
                      a = o[1],
                      s = o[2];
                    function u() {
                      (r = t.createPattern(i, a)), e.set('pattern', r), e.set('patternSource', n);
                    }
                    switch (a) {
                      case 'a':
                        a = 'repeat';
                        break;
                      case 'x':
                        a = 'repeat-x';
                        break;
                      case 'y':
                        a = 'repeat-y';
                        break;
                      default:
                        a = 'no-repeat';
                    }
                    return (
                      (i = new Image()),
                      s.match(/^data:/i) || (i.crossOrigin = 'Anonymous'),
                      (i.src = s),
                      i.complete ? u() : ((i.onload = u), (i.src = i.src)),
                      r
                    );
                  })(t, e, n);
              }
              return n;
            }
            return n instanceof CanvasPattern ? n : void 0;
          }
          function M(t) {
            return Math.sqrt(t[0] * t[0] + t[1] * t[1]);
          }
          function k(t, e) {
            return M(t) * M(e) ? (t[0] * e[0] + t[1] * e[1]) / (M(t) * M(e)) : 1;
          }
          function A(t, e) {
            return (t[0] * e[1] < t[1] * e[0] ? -1 : 1) * Math.acos(k(t, e));
          }
          function C(t, e) {
            var n = e[1],
              r = e[2],
              i = (0, p.mod)((0, p.toRadian)(e[3]), 2 * Math.PI),
              o = e[4],
              a = e[5],
              s = t[0],
              u = t[1],
              c = e[6],
              l = e[7],
              h = (Math.cos(i) * (s - c)) / 2 + (Math.sin(i) * (u - l)) / 2,
              f = (-1 * Math.sin(i) * (s - c)) / 2 + (Math.cos(i) * (u - l)) / 2,
              d = (h * h) / (n * n) + (f * f) / (r * r);
            d > 1 && ((n *= Math.sqrt(d)), (r *= Math.sqrt(d)));
            var g = n * n * (f * f) + r * r * (h * h),
              v = g ? Math.sqrt((n * n * (r * r) - g) / g) : 1;
            o === a && (v *= -1), isNaN(v) && (v = 0);
            var y = r ? (v * n * f) / r : 0,
              b = n ? (v * -r * h) / n : 0,
              x = (s + c) / 2 + Math.cos(i) * y - Math.sin(i) * b,
              _ = (u + l) / 2 + Math.sin(i) * y + Math.cos(i) * b,
              w = [(h - y) / n, (f - b) / r],
              E = [(-1 * h - y) / n, (-1 * f - b) / r],
              S = A([1, 0], w),
              M = A(w, E);
            return (
              k(w, E) <= -1 && (M = Math.PI),
              k(w, E) >= 1 && (M = 0),
              0 === a && M > 0 && (M -= 2 * Math.PI),
              1 === a && M < 0 && (M += 2 * Math.PI),
              {
                cx: x,
                cy: _,
                rx: m(t, [c, l]) ? 0 : n,
                ry: m(t, [c, l]) ? 0 : r,
                startAngle: S,
                endAngle: S + M,
                xRotation: i,
                arcFlag: o,
                sweepFlag: a,
              }
            );
          }
          var I = Math.sin,
            T = Math.cos,
            N = Math.atan2,
            P = Math.PI;
          function O(t, e, n, r, i, o, a) {
            var s = e.stroke,
              u = e.lineWidth,
              c = N(r - o, n - i),
              l = new Mt({
                type: 'path',
                canvas: t.get('canvas'),
                isArrowShape: !0,
                attrs: {
                  path:
                    'M' +
                    10 * T(P / 6) +
                    ',' +
                    10 * I(P / 6) +
                    ' L0,0 L' +
                    10 * T(P / 6) +
                    ',-' +
                    10 * I(P / 6),
                  stroke: s,
                  lineWidth: u,
                },
              });
            l.translate(i, o),
              l.rotateAtPoint(i, o, c),
              t.set(a ? 'startArrowShape' : 'endArrowShape', l);
          }
          function D(t, e, n, r, i, o, a) {
            var s = e.startArrow,
              u = e.endArrow,
              l = e.stroke,
              h = e.lineWidth,
              f = a ? s : u,
              d = f.d,
              p = f.fill,
              g = f.stroke,
              v = f.lineWidth,
              y = (0, c.__rest)(f, ['d', 'fill', 'stroke', 'lineWidth']),
              m = N(r - o, n - i);
            d && ((i -= T(m) * d), (o -= I(m) * d));
            var b = new Mt({
              type: 'path',
              canvas: t.get('canvas'),
              isArrowShape: !0,
              attrs: (0, c.__assign)((0, c.__assign)({}, y), {
                stroke: g || l,
                lineWidth: v || h,
                fill: p,
              }),
            });
            b.translate(i, o),
              b.rotateAtPoint(i, o, m),
              t.set(a ? 'startArrowShape' : 'endArrowShape', b);
          }
          function L(t, e, n, r, i) {
            var o = N(r - e, n - t);
            return { dx: T(o) * i, dy: I(o) * i };
          }
          function R(t, e, n, r, i, o) {
            'object' == typeof e.startArrow
              ? D(t, e, n, r, i, o, !0)
              : e.startArrow
              ? O(t, e, n, r, i, o, !0)
              : t.set('startArrowShape', null);
          }
          function B(t, e, n, r, i, o) {
            'object' == typeof e.endArrow
              ? D(t, e, n, r, i, o, !1)
              : e.endArrow
              ? O(t, e, n, r, i, o, !1)
              : t.set('startArrowShape', null);
          }
          var j = { fill: 'fillStyle', stroke: 'strokeStyle', opacity: 'globalAlpha' };
          function G(t, e) {
            var n = e.attr();
            for (var r in n) {
              var i = n[r],
                o = j[r] ? j[r] : r;
              'matrix' === o && i
                ? t.transform(i[0], i[1], i[3], i[4], i[6], i[7])
                : 'lineDash' === o && t.setLineDash
                ? (0, p.isArray)(i) && t.setLineDash(i)
                : ('strokeStyle' === o || 'fillStyle' === o
                    ? (i = S(t, e, i))
                    : 'globalAlpha' === o && (i *= t.globalAlpha),
                  (t[o] = i));
            }
          }
          function z(t, e, n) {
            for (var r = 0; r < e.length; r++) {
              var i = e[r];
              i.cfg.visible ? i.draw(t, n) : i.skipDraw();
            }
          }
          function F(t, e, n) {
            var r = t.get('refreshElements');
            (0, p.each)(r, function (e) {
              if (e !== t)
                for (var n = e.cfg.parent; n && n !== t && !n.cfg.refresh; )
                  (n.cfg.refresh = !0), (n = n.cfg.parent);
            }),
              r[0] === t ? W(e, n) : U(e, n);
          }
          function U(t, e) {
            for (var n = 0; n < t.length; n++) {
              var r = t[n];
              if (r.cfg.visible)
                if (r.cfg.hasChanged) (r.cfg.refresh = !0), r.isGroup() && W(r.cfg.children, e);
                else if (r.cfg.refresh) r.isGroup() && U(r.cfg.children, e);
                else {
                  var i = Y(r, e);
                  (r.cfg.refresh = i), i && r.isGroup() && U(r.cfg.children, e);
                }
            }
          }
          function V(t) {
            for (var e = 0; e < t.length; e++) {
              var n = t[e];
              (n.cfg.hasChanged = !1), n.isGroup() && !n.destroyed && V(n.cfg.children);
            }
          }
          function W(t, e) {
            for (var n = 0; n < t.length; n++) {
              var r = t[n];
              (r.cfg.refresh = !0), r.isGroup() && W(r.get('children'), e);
            }
          }
          function Y(t, e) {
            var n = t.cfg.cacheCanvasBBox;
            return t.cfg.isInView && n && y(n, e);
          }
          function X(t, e, n, r) {
            var i = n.path,
              o = n.startArrow,
              a = n.endArrow;
            if (i) {
              var s = [0, 0],
                u = [0, 0],
                c = { dx: 0, dy: 0 };
              e.beginPath();
              for (var l = 0; l < i.length; l++) {
                var h = i[l],
                  f = h[0];
                if (0 === l && o && o.d)
                  c = L((d = t.getStartTangent())[0][0], d[0][1], d[1][0], d[1][1], o.d);
                else if (l === i.length - 2 && 'Z' === i[l + 1][0] && a && a.d)
                  'Z' === i[l + 1][0] &&
                    (c = L((d = t.getEndTangent())[0][0], d[0][1], d[1][0], d[1][1], a.d));
                else if (l === i.length - 1 && a && a.d) {
                  var d;
                  'Z' !== i[0] &&
                    (c = L((d = t.getEndTangent())[0][0], d[0][1], d[1][0], d[1][1], a.d));
                }
                var p = c.dx,
                  g = c.dy;
                switch (f) {
                  case 'M':
                    e.moveTo(h[1] - p, h[2] - g), (u = [h[1], h[2]]);
                    break;
                  case 'L':
                    e.lineTo(h[1] - p, h[2] - g);
                    break;
                  case 'Q':
                    e.quadraticCurveTo(h[1], h[2], h[3] - p, h[4] - g);
                    break;
                  case 'C':
                    e.bezierCurveTo(h[1], h[2], h[3], h[4], h[5] - p, h[6] - g);
                    break;
                  case 'A':
                    var v = void 0;
                    r ? (v = r[l]) || ((v = C(s, h)), (r[l] = v)) : (v = C(s, h));
                    var y = v.cx,
                      m = v.cy,
                      b = v.rx,
                      x = v.ry,
                      _ = v.startAngle,
                      w = v.endAngle,
                      E = v.xRotation,
                      S = v.sweepFlag;
                    if (e.ellipse) e.ellipse(y, m, b, x, E, _, w, 1 - S);
                    else {
                      var M = b > x ? b : x,
                        k = b > x ? 1 : b / x,
                        A = b > x ? x / b : 1;
                      e.translate(y, m),
                        e.rotate(E),
                        e.scale(k, A),
                        e.arc(0, 0, M, _, w, 1 - S),
                        e.scale(1 / k, 1 / A),
                        e.rotate(-E),
                        e.translate(-y, -m);
                    }
                    break;
                  case 'Z':
                    e.closePath();
                }
                if ('Z' === f) s = u;
                else {
                  var I = h.length;
                  s = [h[I - 2], h[I - 1]];
                }
              }
            }
          }
          function H(t, e) {
            var n = t.get('canvas');
            n &&
              ('remove' === e && (t._cacheCanvasBBox = t.get('cacheCanvasBBox')),
              t.get('hasChanged') ||
                (t.set('hasChanged', !0),
                (t.cfg.parent && t.cfg.parent.get('hasChanged')) ||
                  (n.refreshElement(t, e, n), n.get('autoDraw') && n.draw())));
          }
          var q = (function (t) {
            function e() {
              return (null !== t && t.apply(this, arguments)) || this;
            }
            return (
              (0, c.__extends)(e, t),
              (e.prototype.onCanvasChange = function (t) {
                H(this, t);
              }),
              (e.prototype.getShapeBase = function () {
                return r;
              }),
              (e.prototype.getGroupBase = function () {
                return e;
              }),
              (e.prototype._applyClip = function (t, e) {
                e && (t.save(), G(t, e), e.createPath(t), t.restore(), t.clip(), e._afterDraw());
              }),
              (e.prototype.cacheCanvasBBox = function () {
                var t = this.cfg.children,
                  e = [],
                  n = [];
                (0, p.each)(t, function (t) {
                  var r = t.cfg.cacheCanvasBBox;
                  r && t.cfg.isInView && (e.push(r.minX, r.maxX), n.push(r.minY, r.maxY));
                });
                var r = null;
                if (e.length) {
                  var i = (0, p.min)(e),
                    o = (0, p.max)(e),
                    a = (0, p.min)(n),
                    s = (0, p.max)(n);
                  r = {
                    minX: i,
                    minY: a,
                    x: i,
                    y: a,
                    maxX: o,
                    maxY: s,
                    width: o - i,
                    height: s - a,
                  };
                  var u = this.cfg.canvas;
                  if (u) {
                    var c = u.getViewRange();
                    this.set('isInView', y(r, c));
                  }
                } else this.set('isInView', !1);
                this.set('cacheCanvasBBox', r);
              }),
              (e.prototype.draw = function (t, e) {
                var n = this.cfg.children,
                  r = !e || this.cfg.refresh;
                n.length &&
                  r &&
                  (t.save(),
                  G(t, this),
                  this._applyClip(t, this.getClip()),
                  z(t, n, e),
                  t.restore(),
                  this.cacheCanvasBBox()),
                  (this.cfg.refresh = null),
                  this.set('hasChanged', !1);
              }),
              (e.prototype.skipDraw = function () {
                this.set('cacheCanvasBBox', null), this.set('hasChanged', !1);
              }),
              e
            );
          })(d.AbstractGroup);
          const K = q;
          var Z = (function (t) {
            function e() {
              return (null !== t && t.apply(this, arguments)) || this;
            }
            return (
              (0, c.__extends)(e, t),
              (e.prototype.getDefaultAttrs = function () {
                var e = t.prototype.getDefaultAttrs.call(this);
                return (0, c.__assign)((0, c.__assign)({}, e), {
                  lineWidth: 1,
                  lineAppendWidth: 0,
                  strokeOpacity: 1,
                  fillOpacity: 1,
                });
              }),
              (e.prototype.getShapeBase = function () {
                return r;
              }),
              (e.prototype.getGroupBase = function () {
                return K;
              }),
              (e.prototype.onCanvasChange = function (t) {
                H(this, t);
              }),
              (e.prototype.calculateBBox = function () {
                var t = this.get('type'),
                  e = this.getHitLineWidth(),
                  n = (0, d.getBBoxMethod)(t)(this),
                  r = e / 2,
                  i = n.x - r,
                  o = n.y - r,
                  a = n.x + n.width + r,
                  s = n.y + n.height + r;
                return {
                  x: i,
                  minX: i,
                  y: o,
                  minY: o,
                  width: n.width + e,
                  height: n.height + e,
                  maxX: a,
                  maxY: s,
                };
              }),
              (e.prototype.isFill = function () {
                return !!this.attrs.fill || this.isClipShape();
              }),
              (e.prototype.isStroke = function () {
                return !!this.attrs.stroke;
              }),
              (e.prototype._applyClip = function (t, e) {
                e && (t.save(), G(t, e), e.createPath(t), t.restore(), t.clip(), e._afterDraw());
              }),
              (e.prototype.draw = function (t, e) {
                var n = this.cfg.clipShape;
                if (e) {
                  if (!1 === this.cfg.refresh) return void this.set('hasChanged', !1);
                  if (!y(e, this.getCanvasBBox()))
                    return (
                      this.set('hasChanged', !1), void (this.cfg.isInView && this._afterDraw())
                    );
                }
                t.save(),
                  G(t, this),
                  this._applyClip(t, n),
                  this.drawPath(t),
                  t.restore(),
                  this._afterDraw();
              }),
              (e.prototype.getCanvasViewBox = function () {
                var t = this.cfg.canvas;
                return t ? t.getViewRange() : null;
              }),
              (e.prototype.cacheCanvasBBox = function () {
                var t = this.getCanvasViewBox();
                if (t) {
                  var e = this.getCanvasBBox(),
                    n = y(e, t);
                  this.set('isInView', n),
                    n ? this.set('cacheCanvasBBox', e) : this.set('cacheCanvasBBox', null);
                }
              }),
              (e.prototype._afterDraw = function () {
                this.cacheCanvasBBox(), this.set('hasChanged', !1), this.set('refresh', null);
              }),
              (e.prototype.skipDraw = function () {
                this.set('cacheCanvasBBox', null),
                  this.set('isInView', null),
                  this.set('hasChanged', !1);
              }),
              (e.prototype.drawPath = function (t) {
                this.createPath(t), this.strokeAndFill(t), this.afterDrawPath(t);
              }),
              (e.prototype.fill = function (t) {
                t.fill();
              }),
              (e.prototype.stroke = function (t) {
                t.stroke();
              }),
              (e.prototype.strokeAndFill = function (t) {
                var e = this.attrs,
                  n = e.lineWidth,
                  r = e.opacity,
                  i = e.strokeOpacity,
                  o = e.fillOpacity;
                this.isFill() &&
                  ((0, p.isNil)(o) || 1 === o
                    ? this.fill(t)
                    : ((t.globalAlpha = o), this.fill(t), (t.globalAlpha = r))),
                  this.isStroke() &&
                    n > 0 &&
                    ((0, p.isNil)(i) || 1 === i || (t.globalAlpha = i), this.stroke(t)),
                  this.afterDrawPath(t);
              }),
              (e.prototype.createPath = function (t) {}),
              (e.prototype.afterDrawPath = function (t) {}),
              (e.prototype.isInShape = function (t, e) {
                var n = this.isStroke(),
                  r = this.isFill(),
                  i = this.getHitLineWidth();
                return this.isInStrokeOrPath(t, e, n, r, i);
              }),
              (e.prototype.isInStrokeOrPath = function (t, e, n, r, i) {
                return !1;
              }),
              (e.prototype.getHitLineWidth = function () {
                if (!this.isStroke()) return 0;
                var t = this.attrs;
                return t.lineWidth + t.lineAppendWidth;
              }),
              e
            );
          })(d.AbstractShape);
          const $ = Z;
          var Q = (function (t) {
            function e() {
              return (null !== t && t.apply(this, arguments)) || this;
            }
            return (
              (0, c.__extends)(e, t),
              (e.prototype.getDefaultAttrs = function () {
                var e = t.prototype.getDefaultAttrs.call(this);
                return (0, c.__assign)((0, c.__assign)({}, e), { x: 0, y: 0, r: 0 });
              }),
              (e.prototype.isInStrokeOrPath = function (t, e, n, r, i) {
                var o = this.attr(),
                  a = o.x,
                  s = o.y,
                  u = o.r,
                  c = i / 2,
                  l = g(a, s, t, e);
                return r && n ? l <= u + c : r ? l <= u : !!n && l >= u - c && l <= u + c;
              }),
              (e.prototype.createPath = function (t) {
                var e = this.attr(),
                  n = e.x,
                  r = e.y,
                  i = e.r;
                t.beginPath(), t.arc(n, r, i, 0, 2 * Math.PI, !1), t.closePath();
              }),
              e
            );
          })($);
          const J = Q;
          function tt(t, e, n, r) {
            return t / (n * n) + e / (r * r);
          }
          var et = (function (t) {
            function e() {
              return (null !== t && t.apply(this, arguments)) || this;
            }
            return (
              (0, c.__extends)(e, t),
              (e.prototype.getDefaultAttrs = function () {
                var e = t.prototype.getDefaultAttrs.call(this);
                return (0, c.__assign)((0, c.__assign)({}, e), { x: 0, y: 0, rx: 0, ry: 0 });
              }),
              (e.prototype.isInStrokeOrPath = function (t, e, n, r, i) {
                var o = this.attr(),
                  a = i / 2,
                  s = o.x,
                  u = o.y,
                  c = o.rx,
                  l = o.ry,
                  h = (t - s) * (t - s),
                  f = (e - u) * (e - u);
                return r && n
                  ? tt(h, f, c + a, l + a) <= 1
                  : r
                  ? tt(h, f, c, l) <= 1
                  : !!n && tt(h, f, c - a, l - a) >= 1 && tt(h, f, c + a, l + a) <= 1;
              }),
              (e.prototype.createPath = function (t) {
                var e = this.attr(),
                  n = e.x,
                  r = e.y,
                  i = e.rx,
                  o = e.ry;
                if ((t.beginPath(), t.ellipse)) t.ellipse(n, r, i, o, 0, 0, 2 * Math.PI, !1);
                else {
                  var a = i > o ? i : o,
                    s = i > o ? 1 : i / o,
                    u = i > o ? o / i : 1;
                  t.save(),
                    t.translate(n, r),
                    t.scale(s, u),
                    t.arc(0, 0, a, 0, 2 * Math.PI),
                    t.restore(),
                    t.closePath();
                }
              }),
              e
            );
          })($);
          const nt = et;
          function rt(t) {
            return (
              t instanceof HTMLElement &&
              (0, p.isString)(t.nodeName) &&
              'CANVAS' === t.nodeName.toUpperCase()
            );
          }
          var it = (function (t) {
            function e() {
              return (null !== t && t.apply(this, arguments)) || this;
            }
            return (
              (0, c.__extends)(e, t),
              (e.prototype.getDefaultAttrs = function () {
                var e = t.prototype.getDefaultAttrs.call(this);
                return (0, c.__assign)((0, c.__assign)({}, e), { x: 0, y: 0, width: 0, height: 0 });
              }),
              (e.prototype.initAttrs = function (t) {
                this._setImage(t.img);
              }),
              (e.prototype.isStroke = function () {
                return !1;
              }),
              (e.prototype.isOnlyHitBox = function () {
                return !0;
              }),
              (e.prototype._afterLoading = function () {
                if (!0 === this.get('toDraw')) {
                  var t = this.get('canvas');
                  t ? t.draw() : this.createPath(this.get('context'));
                }
              }),
              (e.prototype._setImage = function (t) {
                var e = this,
                  n = this.attrs;
                if ((0, p.isString)(t)) {
                  var r = new Image();
                  (r.onload = function () {
                    if (e.destroyed) return !1;
                    e.attr('img', r), e.set('loading', !1), e._afterLoading();
                    var t = e.get('callback');
                    t && t.call(e);
                  }),
                    (r.crossOrigin = 'Anonymous'),
                    (r.src = t),
                    this.set('loading', !0);
                } else
                  t instanceof Image
                    ? (n.width || (n.width = t.width), n.height || (n.height = t.height))
                    : rt(t) &&
                      (n.width || (n.width = Number(t.getAttribute('width'))),
                      n.height || (n.height, Number(t.getAttribute('height'))));
              }),
              (e.prototype.onAttrChange = function (e, n, r) {
                t.prototype.onAttrChange.call(this, e, n, r), 'img' === e && this._setImage(n);
              }),
              (e.prototype.createPath = function (t) {
                if (this.get('loading')) return this.set('toDraw', !0), void this.set('context', t);
                var e = this.attr(),
                  n = e.x,
                  r = e.y,
                  i = e.width,
                  o = e.height,
                  a = e.sx,
                  s = e.sy,
                  u = e.swidth,
                  c = e.sheight,
                  l = e.img;
                (l instanceof Image || rt(l)) &&
                  ((0, p.isNil)(a) || (0, p.isNil)(s) || (0, p.isNil)(u) || (0, p.isNil)(c)
                    ? t.drawImage(l, n, r, i, o)
                    : t.drawImage(l, a, s, u, c, n, r, i, o));
              }),
              e
            );
          })($);
          const ot = it;
          var at = n(9838);
          function st(t, e, n, r, i, o, a) {
            var s = Math.min(t, n),
              u = Math.max(t, n),
              c = Math.min(e, r),
              l = Math.max(e, r),
              h = i / 2;
            return (
              o >= s - h &&
              o <= u + h &&
              a >= c - h &&
              a <= l + h &&
              at.x1.pointToLine(t, e, n, r, o, a) <= i / 2
            );
          }
          var ut = (function (t) {
            function e() {
              return (null !== t && t.apply(this, arguments)) || this;
            }
            return (
              (0, c.__extends)(e, t),
              (e.prototype.getDefaultAttrs = function () {
                var e = t.prototype.getDefaultAttrs.call(this);
                return (0, c.__assign)((0, c.__assign)({}, e), {
                  x1: 0,
                  y1: 0,
                  x2: 0,
                  y2: 0,
                  startArrow: !1,
                  endArrow: !1,
                });
              }),
              (e.prototype.initAttrs = function (t) {
                this.setArrow();
              }),
              (e.prototype.onAttrChange = function (e, n, r) {
                t.prototype.onAttrChange.call(this, e, n, r), this.setArrow();
              }),
              (e.prototype.setArrow = function () {
                var t = this.attr(),
                  e = t.x1,
                  n = t.y1,
                  r = t.x2,
                  i = t.y2,
                  o = t.startArrow,
                  a = t.endArrow;
                o && R(this, t, r, i, e, n), a && B(this, t, e, n, r, i);
              }),
              (e.prototype.isInStrokeOrPath = function (t, e, n, r, i) {
                if (!n || !i) return !1;
                var o = this.attr();
                return st(o.x1, o.y1, o.x2, o.y2, i, t, e);
              }),
              (e.prototype.createPath = function (t) {
                var e = this.attr(),
                  n = e.x1,
                  r = e.y1,
                  i = e.x2,
                  o = e.y2,
                  a = e.startArrow,
                  s = e.endArrow,
                  u = { dx: 0, dy: 0 },
                  c = { dx: 0, dy: 0 };
                a && a.d && (u = L(n, r, i, o, e.startArrow.d)),
                  s && s.d && (c = L(n, r, i, o, e.endArrow.d)),
                  t.beginPath(),
                  t.moveTo(n + u.dx, r + u.dy),
                  t.lineTo(i - c.dx, o - c.dy);
              }),
              (e.prototype.afterDrawPath = function (t) {
                var e = this.get('startArrowShape'),
                  n = this.get('endArrowShape');
                e && e.draw(t), n && n.draw(t);
              }),
              (e.prototype.getTotalLength = function () {
                var t = this.attr(),
                  e = t.x1,
                  n = t.y1,
                  r = t.x2,
                  i = t.y2;
                return at.x1.length(e, n, r, i);
              }),
              (e.prototype.getPoint = function (t) {
                var e = this.attr(),
                  n = e.x1,
                  r = e.y1,
                  i = e.x2,
                  o = e.y2;
                return at.x1.pointAt(n, r, i, o, t);
              }),
              e
            );
          })($);
          const ct = ut;
          var lt = n(2093),
            ht = {
              circle: function (t, e, n) {
                return [
                  ['M', t - n, e],
                  ['A', n, n, 0, 1, 0, t + n, e],
                  ['A', n, n, 0, 1, 0, t - n, e],
                ];
              },
              square: function (t, e, n) {
                return [
                  ['M', t - n, e - n],
                  ['L', t + n, e - n],
                  ['L', t + n, e + n],
                  ['L', t - n, e + n],
                  ['Z'],
                ];
              },
              diamond: function (t, e, n) {
                return [['M', t - n, e], ['L', t, e - n], ['L', t + n, e], ['L', t, e + n], ['Z']];
              },
              triangle: function (t, e, n) {
                var r = n * Math.sin((1 / 3) * Math.PI);
                return [['M', t - n, e + r], ['L', t, e - r], ['L', t + n, e + r], ['Z']];
              },
              'triangle-down': function (t, e, n) {
                var r = n * Math.sin((1 / 3) * Math.PI);
                return [['M', t - n, e - r], ['L', t + n, e - r], ['L', t, e + r], ['Z']];
              },
            },
            ft = (function (t) {
              function e() {
                return (null !== t && t.apply(this, arguments)) || this;
              }
              return (
                (0, c.__extends)(e, t),
                (e.prototype.initAttrs = function (t) {
                  this._resetParamsCache();
                }),
                (e.prototype._resetParamsCache = function () {
                  this.set('paramsCache', {});
                }),
                (e.prototype.onAttrChange = function (e, n, r) {
                  t.prototype.onAttrChange.call(this, e, n, r),
                    -1 !== ['symbol', 'x', 'y', 'r', 'radius'].indexOf(e) &&
                      this._resetParamsCache();
                }),
                (e.prototype.isOnlyHitBox = function () {
                  return !0;
                }),
                (e.prototype._getR = function (t) {
                  return (0, p.isNil)(t.r) ? t.radius : t.r;
                }),
                (e.prototype._getPath = function () {
                  var t,
                    n,
                    r = this.attr(),
                    i = r.x,
                    o = r.y,
                    a = r.symbol || 'circle',
                    s = this._getR(r);
                  if ((0, p.isFunction)(a)) (n = (t = a)(i, o, s)), (n = (0, lt.wb)(n));
                  else {
                    if (!(t = e.Symbols[a]))
                      return console.warn(a + ' marker is not supported.'), null;
                    n = t(i, o, s);
                  }
                  return n;
                }),
                (e.prototype.createPath = function (t) {
                  X(this, t, { path: this._getPath() }, this.get('paramsCache'));
                }),
                (e.Symbols = ht),
                e
              );
            })($);
          const dt = ft;
          function pt(t, e, n) {
            var r = (0, d.getOffScreenContext)();
            return t.createPath(r), r.isPointInPath(e, n);
          }
          function gt(t) {
            return Math.abs(t) < 1e-6 ? 0 : t < 0 ? -1 : 1;
          }
          function vt(t, e, n) {
            return (
              (n[0] - t[0]) * (e[1] - t[1]) == (e[0] - t[0]) * (n[1] - t[1]) &&
              Math.min(t[0], e[0]) <= n[0] &&
              n[0] <= Math.max(t[0], e[0]) &&
              Math.min(t[1], e[1]) <= n[1] &&
              n[1] <= Math.max(t[1], e[1])
            );
          }
          function yt(t, e, n) {
            var r = !1,
              i = t.length;
            if (i <= 2) return !1;
            for (var o = 0; o < i; o++) {
              var a = t[o],
                s = t[(o + 1) % i];
              if (vt(a, s, [e, n])) return !0;
              gt(a[1] - n) > 0 != gt(s[1] - n) > 0 &&
                gt(e - ((n - a[1]) * (a[0] - s[0])) / (a[1] - s[1]) - a[0]) < 0 &&
                (r = !r);
            }
            return r;
          }
          var mt = n(1506),
            bt = n(7160);
          function xt(t, e, n, r, i, o, a, s) {
            var u = (Math.atan2(s - e, a - t) + 2 * Math.PI) % (2 * Math.PI);
            if (u < r || u > i) return !1;
            var c = { x: t + n * Math.cos(u), y: e + n * Math.sin(u) };
            return g(c.x, c.y, a, s) <= o / 2;
          }
          var _t = mt.transform;
          const wt = (0, c.__assign)(
            {
              hasArc: function (t) {
                for (var e = !1, n = t.length, r = 0; r < n; r++) {
                  var i = t[r][0];
                  if ('C' === i || 'A' === i || 'Q' === i) {
                    e = !0;
                    break;
                  }
                }
                return e;
              },
              extractPolygons: function (t) {
                for (var e = t.length, n = [], r = [], i = [], o = 0; o < e; o++) {
                  var a = t[o],
                    s = a[0];
                  'M' === s
                    ? (i.length && (r.push(i), (i = [])), i.push([a[1], a[2]]))
                    : 'Z' === s
                    ? i.length && (n.push(i), (i = []))
                    : i.push([a[1], a[2]]);
                }
                return i.length > 0 && r.push(i), { polygons: n, polylines: r };
              },
              isPointInStroke: function (t, e, n, r, i) {
                for (var o = !1, a = e / 2, s = 0; s < t.length; s++) {
                  var u = t[s],
                    c = u.currentPoint,
                    l = u.params,
                    h = u.prePoint,
                    f = u.box;
                  if (!f || v(f.x - a, f.y - a, f.width + e, f.height + e, n, r)) {
                    switch (u.command) {
                      case 'L':
                      case 'Z':
                        o = st(h[0], h[1], c[0], c[1], e, n, r);
                        break;
                      case 'Q':
                        o = at.lD.pointDistance(h[0], h[1], l[1], l[2], l[3], l[4], n, r) <= e / 2;
                        break;
                      case 'C':
                        o =
                          at.Ll.pointDistance(
                            h[0],
                            h[1],
                            l[1],
                            l[2],
                            l[3],
                            l[4],
                            l[5],
                            l[6],
                            n,
                            r,
                            i,
                          ) <=
                          e / 2;
                        break;
                      case 'A':
                        var d = u.arcParams,
                          p = d.cx,
                          g = d.cy,
                          y = d.rx,
                          m = d.ry,
                          b = d.startAngle,
                          x = d.endAngle,
                          _ = d.xRotation,
                          w = [n, r, 1],
                          E = y > m ? y : m,
                          S = _t(null, [
                            ['t', -p, -g],
                            ['r', -_],
                            ['s', 1 / (y > m ? 1 : y / m), 1 / (y > m ? m / y : 1)],
                          ]);
                        bt.transformMat3(w, w, S), (o = xt(0, 0, E, b, x, e, w[0], w[1]));
                    }
                    if (o) break;
                  }
                }
                return o;
              },
            },
            d.PathUtil,
          );
          function Et(t, e, n) {
            for (var r = !1, i = 0; i < t.length && !(r = yt(t[i], e, n)); i++);
            return r;
          }
          var St = (function (t) {
            function e() {
              return (null !== t && t.apply(this, arguments)) || this;
            }
            return (
              (0, c.__extends)(e, t),
              (e.prototype.getDefaultAttrs = function () {
                var e = t.prototype.getDefaultAttrs.call(this);
                return (0, c.__assign)((0, c.__assign)({}, e), { startArrow: !1, endArrow: !1 });
              }),
              (e.prototype.initAttrs = function (t) {
                this._setPathArr(t.path), this.setArrow();
              }),
              (e.prototype.onAttrChange = function (e, n, r) {
                t.prototype.onAttrChange.call(this, e, n, r),
                  'path' === e && this._setPathArr(n),
                  this.setArrow();
              }),
              (e.prototype._setPathArr = function (t) {
                this.attrs.path = (0, lt.wb)(t);
                var e = wt.hasArc(t);
                this.set('hasArc', e),
                  this.set('paramsCache', {}),
                  this.set('segments', null),
                  this.set('curve', null),
                  this.set('tCache', null),
                  this.set('totalLength', null);
              }),
              (e.prototype.getSegments = function () {
                var t = this.get('segements');
                return t || ((t = (0, lt.zx)(this.attr('path'))), this.set('segments', t)), t;
              }),
              (e.prototype.setArrow = function () {
                var t,
                  e = this.attr(),
                  n = e.startArrow,
                  r = e.endArrow;
                n && R(this, e, (t = this.getStartTangent())[0][0], t[0][1], t[1][0], t[1][1]),
                  r && B(this, e, (t = this.getEndTangent())[0][0], t[0][1], t[1][0], t[1][1]);
              }),
              (e.prototype.isInStrokeOrPath = function (t, e, n, r, i) {
                var o = this.getSegments(),
                  a = this.get('hasArc'),
                  s = !1;
                if (n) {
                  var u = this.getTotalLength();
                  s = wt.isPointInStroke(o, i, t, e, u);
                }
                if (!s && r)
                  if (a) s = pt(this, t, e);
                  else {
                    var c = this.attr('path'),
                      l = wt.extractPolygons(c);
                    s = Et(l.polygons, t, e) || Et(l.polylines, t, e);
                  }
                return s;
              }),
              (e.prototype.createPath = function (t) {
                X(this, t, this.attr(), this.get('paramsCache'));
              }),
              (e.prototype.afterDrawPath = function (t) {
                var e = this.get('startArrowShape'),
                  n = this.get('endArrowShape');
                e && e.draw(t), n && n.draw(t);
              }),
              (e.prototype.getTotalLength = function () {
                var t = this.get('totalLength');
                return (0, p.isNil)(t)
                  ? (this._calculateCurve(), this._setTcache(), this.get('totalLength'))
                  : t;
              }),
              (e.prototype.getPoint = function (t) {
                var e,
                  n,
                  r = this.get('tCache');
                r || (this._calculateCurve(), this._setTcache(), (r = this.get('tCache')));
                var i = this.get('curve');
                if (!r || 0 === r.length) return i ? { x: i[0][1], y: i[0][2] } : null;
                (0, p.each)(r, function (r, i) {
                  t >= r[0] && t <= r[1] && ((e = (t - r[0]) / (r[1] - r[0])), (n = i));
                });
                var o = i[n];
                if ((0, p.isNil)(o) || (0, p.isNil)(n)) return null;
                var a = o.length,
                  s = i[n + 1];
                return at.Ll.pointAt(o[a - 2], o[a - 1], s[1], s[2], s[3], s[4], s[5], s[6], e);
              }),
              (e.prototype._calculateCurve = function () {
                var t = this.attr().path;
                this.set('curve', wt.pathToCurve(t));
              }),
              (e.prototype._setTcache = function () {
                var t,
                  e,
                  n,
                  r,
                  i = 0,
                  o = 0,
                  a = [],
                  s = this.get('curve');
                s &&
                  ((0, p.each)(s, function (t, e) {
                    (n = s[e + 1]),
                      (r = t.length),
                      n &&
                        (i +=
                          at.Ll.length(t[r - 2], t[r - 1], n[1], n[2], n[3], n[4], n[5], n[6]) ||
                          0);
                  }),
                  this.set('totalLength', i),
                  0 !== i
                    ? ((0, p.each)(s, function (u, c) {
                        (n = s[c + 1]),
                          (r = u.length),
                          n &&
                            (((t = [])[0] = o / i),
                            (e = at.Ll.length(
                              u[r - 2],
                              u[r - 1],
                              n[1],
                              n[2],
                              n[3],
                              n[4],
                              n[5],
                              n[6],
                            )),
                            (o += e || 0),
                            (t[1] = o / i),
                            a.push(t));
                      }),
                      this.set('tCache', a))
                    : this.set('tCache', []));
              }),
              (e.prototype.getStartTangent = function () {
                var t,
                  e = this.getSegments();
                if (e.length > 1) {
                  var n = e[0].currentPoint,
                    r = e[1].currentPoint,
                    i = e[1].startTangent;
                  (t = []),
                    i
                      ? (t.push([n[0] - i[0], n[1] - i[1]]), t.push([n[0], n[1]]))
                      : (t.push([r[0], r[1]]), t.push([n[0], n[1]]));
                }
                return t;
              }),
              (e.prototype.getEndTangent = function () {
                var t,
                  e = this.getSegments(),
                  n = e.length;
                if (n > 1) {
                  var r = e[n - 2].currentPoint,
                    i = e[n - 1].currentPoint,
                    o = e[n - 1].endTangent;
                  (t = []),
                    o
                      ? (t.push([i[0] - o[0], i[1] - o[1]]), t.push([i[0], i[1]]))
                      : (t.push([r[0], r[1]]), t.push([i[0], i[1]]));
                }
                return t;
              }),
              e
            );
          })($);
          const Mt = St;
          function kt(t, e, n, r, i) {
            var o = t.length;
            if (o < 2) return !1;
            for (var a = 0; a < o - 1; a++)
              if (st(t[a][0], t[a][1], t[a + 1][0], t[a + 1][1], e, n, r)) return !0;
            if (i) {
              var s = t[0],
                u = t[o - 1];
              if (st(s[0], s[1], u[0], u[1], e, n, r)) return !0;
            }
            return !1;
          }
          var At = (function (t) {
            function e() {
              return (null !== t && t.apply(this, arguments)) || this;
            }
            return (
              (0, c.__extends)(e, t),
              (e.prototype.isInStrokeOrPath = function (t, e, n, r, i) {
                var o = this.attr().points,
                  a = !1;
                return n && (a = kt(o, i, t, e, !0)), !a && r && (a = yt(o, t, e)), a;
              }),
              (e.prototype.createPath = function (t) {
                var e = this.attr().points;
                if (!(e.length < 2)) {
                  t.beginPath();
                  for (var n = 0; n < e.length; n++) {
                    var r = e[n];
                    0 === n ? t.moveTo(r[0], r[1]) : t.lineTo(r[0], r[1]);
                  }
                  t.closePath();
                }
              }),
              e
            );
          })($);
          const Ct = At;
          var It = (function (t) {
            function e() {
              return (null !== t && t.apply(this, arguments)) || this;
            }
            return (
              (0, c.__extends)(e, t),
              (e.prototype.getDefaultAttrs = function () {
                var e = t.prototype.getDefaultAttrs.call(this);
                return (0, c.__assign)((0, c.__assign)({}, e), { startArrow: !1, endArrow: !1 });
              }),
              (e.prototype.initAttrs = function (t) {
                this.setArrow();
              }),
              (e.prototype.onAttrChange = function (e, n, r) {
                t.prototype.onAttrChange.call(this, e, n, r),
                  this.setArrow(),
                  -1 !== ['points'].indexOf(e) && this._resetCache();
              }),
              (e.prototype._resetCache = function () {
                this.set('totalLength', null), this.set('tCache', null);
              }),
              (e.prototype.setArrow = function () {
                var t = this.attr(),
                  e = this.attrs,
                  n = e.points,
                  r = e.startArrow,
                  i = e.endArrow,
                  o = n.length,
                  a = n[0][0],
                  s = n[0][1],
                  u = n[o - 1][0],
                  c = n[o - 1][1];
                r && R(this, t, n[1][0], n[1][1], a, s),
                  i && B(this, t, n[o - 2][0], n[o - 2][1], u, c);
              }),
              (e.prototype.isFill = function () {
                return !1;
              }),
              (e.prototype.isInStrokeOrPath = function (t, e, n, r, i) {
                return !(!n || !i) && kt(this.attr().points, i, t, e, !1);
              }),
              (e.prototype.isStroke = function () {
                return !0;
              }),
              (e.prototype.createPath = function (t) {
                var e = this.attr(),
                  n = e.points,
                  r = e.startArrow,
                  i = e.endArrow,
                  o = n.length;
                if (!(n.length < 2)) {
                  var a,
                    s = n[0][0],
                    u = n[0][1],
                    c = n[o - 1][0],
                    l = n[o - 1][1];
                  r && r.d && ((s += (a = L(s, u, n[1][0], n[1][1], r.d)).dx), (u += a.dy)),
                    i &&
                      i.d &&
                      ((c -= (a = L(n[o - 2][0], n[o - 2][1], c, l, i.d)).dx), (l -= a.dy)),
                    t.beginPath(),
                    t.moveTo(s, u);
                  for (var h = 0; h < o - 1; h++) {
                    var f = n[h];
                    t.lineTo(f[0], f[1]);
                  }
                  t.lineTo(c, l);
                }
              }),
              (e.prototype.afterDrawPath = function (t) {
                var e = this.get('startArrowShape'),
                  n = this.get('endArrowShape');
                e && e.draw(t), n && n.draw(t);
              }),
              (e.prototype.getTotalLength = function () {
                var t = this.attr().points,
                  e = this.get('totalLength');
                return (0, p.isNil)(e)
                  ? (this.set('totalLength', at.aH.length(t)), this.get('totalLength'))
                  : e;
              }),
              (e.prototype.getPoint = function (t) {
                var e,
                  n,
                  r = this.attr().points,
                  i = this.get('tCache');
                return (
                  i || (this._setTcache(), (i = this.get('tCache'))),
                  (0, p.each)(i, function (r, i) {
                    t >= r[0] && t <= r[1] && ((e = (t - r[0]) / (r[1] - r[0])), (n = i));
                  }),
                  at.x1.pointAt(r[n][0], r[n][1], r[n + 1][0], r[n + 1][1], e)
                );
              }),
              (e.prototype._setTcache = function () {
                var t = this.attr().points;
                if (t && 0 !== t.length) {
                  var e = this.getTotalLength();
                  if (!(e <= 0)) {
                    var n,
                      r,
                      i = 0,
                      o = [];
                    (0, p.each)(t, function (a, s) {
                      t[s + 1] &&
                        (((n = [])[0] = i / e),
                        (r = at.x1.length(a[0], a[1], t[s + 1][0], t[s + 1][1])),
                        (i += r),
                        (n[1] = i / e),
                        o.push(n));
                    }),
                      this.set('tCache', o);
                  }
                }
              }),
              (e.prototype.getStartTangent = function () {
                var t = this.attr().points,
                  e = [];
                return e.push([t[1][0], t[1][1]]), e.push([t[0][0], t[0][1]]), e;
              }),
              (e.prototype.getEndTangent = function () {
                var t = this.attr().points,
                  e = t.length - 1,
                  n = [];
                return n.push([t[e - 1][0], t[e - 1][1]]), n.push([t[e][0], t[e][1]]), n;
              }),
              e
            );
          })($);
          const Tt = It;
          var Nt = (function (t) {
            function e() {
              return (null !== t && t.apply(this, arguments)) || this;
            }
            return (
              (0, c.__extends)(e, t),
              (e.prototype.getDefaultAttrs = function () {
                var e = t.prototype.getDefaultAttrs.call(this);
                return (0, c.__assign)((0, c.__assign)({}, e), {
                  x: 0,
                  y: 0,
                  width: 0,
                  height: 0,
                  radius: 0,
                });
              }),
              (e.prototype.isInStrokeOrPath = function (t, e, n, r, i) {
                var o = this.attr(),
                  a = o.x,
                  s = o.y,
                  u = o.width,
                  c = o.height,
                  l = o.radius;
                if (l) {
                  var h = !1;
                  return (
                    n &&
                      (h = (function (t, e, n, r, i, o, a, s) {
                        return (
                          st(t + i, e, t + n - i, e, o, a, s) ||
                          st(t + n, e + i, t + n, e + r - i, o, a, s) ||
                          st(t + n - i, e + r, t + i, e + r, o, a, s) ||
                          st(t, e + r - i, t, e + i, o, a, s) ||
                          xt(t + n - i, e + i, i, 1.5 * Math.PI, 2 * Math.PI, o, a, s) ||
                          xt(t + n - i, e + r - i, i, 0, 0.5 * Math.PI, o, a, s) ||
                          xt(t + i, e + r - i, i, 0.5 * Math.PI, Math.PI, o, a, s) ||
                          xt(t + i, e + i, i, Math.PI, 1.5 * Math.PI, o, a, s)
                        );
                      })(a, s, u, c, l, i, t, e)),
                    !h && r && (h = pt(this, t, e)),
                    h
                  );
                }
                var f = i / 2;
                return r && n
                  ? v(a - f, s - f, u + f, c + f, t, e)
                  : r
                  ? v(a, s, u, c, t, e)
                  : n
                  ? (function (t, e, n, r, i, o, a) {
                      var s = i / 2;
                      return (
                        v(t - s, e - s, n, i, o, a) ||
                        v(t + n - s, e - s, i, r, o, a) ||
                        v(t + s, e + r - s, n, i, o, a) ||
                        v(t - s, e + s, i, r, o, a)
                      );
                    })(a, s, u, c, i, t, e)
                  : void 0;
              }),
              (e.prototype.createPath = function (t) {
                var e = this.attr(),
                  n = e.x,
                  r = e.y,
                  i = e.width,
                  o = e.height,
                  a = e.radius;
                if ((t.beginPath(), 0 === a)) t.rect(n, r, i, o);
                else {
                  var s = (function (t) {
                      var e = 0,
                        n = 0,
                        r = 0,
                        i = 0;
                      return (
                        (0, p.isArray)(t)
                          ? 1 === t.length
                            ? (e = n = r = i = t[0])
                            : 2 === t.length
                            ? ((e = r = t[0]), (n = i = t[1]))
                            : 3 === t.length
                            ? ((e = t[0]), (n = i = t[1]), (r = t[2]))
                            : ((e = t[0]), (n = t[1]), (r = t[2]), (i = t[3]))
                          : (e = n = r = i = t),
                        [e, n, r, i]
                      );
                    })(a),
                    u = s[0],
                    c = s[1],
                    l = s[2],
                    h = s[3];
                  t.moveTo(n + u, r),
                    t.lineTo(n + i - c, r),
                    0 !== c && t.arc(n + i - c, r + c, c, -Math.PI / 2, 0),
                    t.lineTo(n + i, r + o - l),
                    0 !== l && t.arc(n + i - l, r + o - l, l, 0, Math.PI / 2),
                    t.lineTo(n + h, r + o),
                    0 !== h && t.arc(n + h, r + o - h, h, Math.PI / 2, Math.PI),
                    t.lineTo(n, r + u),
                    0 !== u && t.arc(n + u, r + u, u, Math.PI, 1.5 * Math.PI),
                    t.closePath();
                }
              }),
              e
            );
          })($);
          const Pt = Nt;
          var Ot = (function (t) {
            function e() {
              return (null !== t && t.apply(this, arguments)) || this;
            }
            return (
              (0, c.__extends)(e, t),
              (e.prototype.getDefaultAttrs = function () {
                var e = t.prototype.getDefaultAttrs.call(this);
                return (0, c.__assign)((0, c.__assign)({}, e), {
                  x: 0,
                  y: 0,
                  text: null,
                  fontSize: 12,
                  fontFamily: 'sans-serif',
                  fontStyle: 'normal',
                  fontWeight: 'normal',
                  fontVariant: 'normal',
                  textAlign: 'start',
                  textBaseline: 'bottom',
                });
              }),
              (e.prototype.isOnlyHitBox = function () {
                return !0;
              }),
              (e.prototype.initAttrs = function (t) {
                this._assembleFont(), t.text && this._setText(t.text);
              }),
              (e.prototype._assembleFont = function () {
                var t = this.attrs;
                t.font = (0, d.assembleFont)(t);
              }),
              (e.prototype._setText = function (t) {
                var e = null;
                (0, p.isString)(t) && -1 !== t.indexOf('\n') && (e = t.split('\n')),
                  this.set('textArr', e);
              }),
              (e.prototype.onAttrChange = function (e, n, r) {
                t.prototype.onAttrChange.call(this, e, n, r),
                  e.startsWith('font') && this._assembleFont(),
                  'text' === e && this._setText(n);
              }),
              (e.prototype._getSpaceingY = function () {
                var t = this.attrs,
                  e = t.lineHeight,
                  n = 1 * t.fontSize;
                return e ? e - n : 0.14 * n;
              }),
              (e.prototype._drawTextArr = function (t, e, n) {
                var r,
                  i = this.attrs,
                  o = i.textBaseline,
                  a = i.x,
                  s = i.y,
                  u = 1 * i.fontSize,
                  c = this._getSpaceingY(),
                  l = (0, d.getTextHeight)(i.text, i.fontSize, i.lineHeight);
                (0, p.each)(e, function (e, i) {
                  (r = s + i * (c + u) - l + u),
                    'middle' === o && (r += l - u - (l - u) / 2),
                    'top' === o && (r += l - u),
                    (0, p.isNil)(e) || (n ? t.fillText(e, a, r) : t.strokeText(e, a, r));
                });
              }),
              (e.prototype._drawText = function (t, e) {
                var n = this.attr(),
                  r = n.x,
                  i = n.y,
                  o = this.get('textArr');
                if (o) this._drawTextArr(t, o, e);
                else {
                  var a = n.text;
                  (0, p.isNil)(a) || (e ? t.fillText(a, r, i) : t.strokeText(a, r, i));
                }
              }),
              (e.prototype.strokeAndFill = function (t) {
                var e = this.attrs,
                  n = e.lineWidth,
                  r = e.opacity,
                  i = e.strokeOpacity,
                  o = e.fillOpacity;
                this.isStroke() &&
                  n > 0 &&
                  ((0, p.isNil)(i) || 1 === i || (t.globalAlpha = r), this.stroke(t)),
                  this.isFill() &&
                    ((0, p.isNil)(o) || 1 === o
                      ? this.fill(t)
                      : ((t.globalAlpha = o), this.fill(t), (t.globalAlpha = r))),
                  this.afterDrawPath(t);
              }),
              (e.prototype.fill = function (t) {
                this._drawText(t, !0);
              }),
              (e.prototype.stroke = function (t) {
                this._drawText(t, !1);
              }),
              e
            );
          })($);
          const Dt = Ot;
          function Lt(t, e, n) {
            var r = t.getTotalMatrix();
            if (r) {
              var i = (function (t, e) {
                if (e) {
                  var n = (0, d.invert)(e);
                  return (0, d.multiplyVec2)(n, t);
                }
                return t;
              })([e, n, 1], r);
              return [i[0], i[1]];
            }
            return [e, n];
          }
          function Rt(t, e, n) {
            if (t.isCanvas && t.isCanvas()) return !0;
            if (!(0, d.isAllowCapture)(t) || !1 === t.cfg.isInView) return !1;
            if (t.cfg.clipShape) {
              var r = Lt(t, e, n),
                i = r[0],
                o = r[1];
              if (t.isClipped(i, o)) return !1;
            }
            var a = t.cfg.cacheCanvasBBox || t.getCanvasBBox();
            return e >= a.minX && e <= a.maxX && n >= a.minY && n <= a.maxY;
          }
          function Bt(t, e, n) {
            if (!Rt(t, e, n)) return null;
            for (var r = null, i = t.getChildren(), o = i.length - 1; o >= 0; o--) {
              var a = i[o];
              if (a.isGroup()) r = Bt(a, e, n);
              else if (Rt(a, e, n)) {
                var s = a,
                  u = Lt(a, e, n),
                  c = u[0],
                  l = u[1];
                s.isInShape(c, l) && (r = a);
              }
              if (r) break;
            }
            return r;
          }
          var jt = (function (t) {
            function e() {
              return (null !== t && t.apply(this, arguments)) || this;
            }
            return (
              (0, c.__extends)(e, t),
              (e.prototype.getDefaultCfg = function () {
                var e = t.prototype.getDefaultCfg.call(this);
                return (
                  (e.renderer = 'canvas'),
                  (e.autoDraw = !0),
                  (e.localRefresh = !0),
                  (e.refreshElements = []),
                  (e.clipView = !0),
                  (e.quickHit = !1),
                  e
                );
              }),
              (e.prototype.onCanvasChange = function (t) {
                ('attr' !== t && 'sort' !== t && 'changeSize' !== t) ||
                  (this.set('refreshElements', [this]), this.draw());
              }),
              (e.prototype.getShapeBase = function () {
                return r;
              }),
              (e.prototype.getGroupBase = function () {
                return K;
              }),
              (e.prototype.getPixelRatio = function () {
                var t = this.get('pixelRatio') || (window ? window.devicePixelRatio : 1);
                return t >= 1 ? Math.ceil(t) : 1;
              }),
              (e.prototype.getViewRange = function () {
                return { minX: 0, minY: 0, maxX: this.cfg.width, maxY: this.cfg.height };
              }),
              (e.prototype.createDom = function () {
                var t = document.createElement('canvas'),
                  e = t.getContext('2d');
                return this.set('context', e), t;
              }),
              (e.prototype.setDOMSize = function (e, n) {
                t.prototype.setDOMSize.call(this, e, n);
                var r = this.get('context'),
                  i = this.get('el'),
                  o = this.getPixelRatio();
                (i.width = o * e), (i.height = o * n), o > 1 && r.scale(o, o);
              }),
              (e.prototype.clear = function () {
                t.prototype.clear.call(this), this._clearFrame();
                var e = this.get('context'),
                  n = this.get('el');
                e.clearRect(0, 0, n.width, n.height);
              }),
              (e.prototype.getShape = function (e, n) {
                return this.get('quickHit')
                  ? Bt(this, e, n)
                  : t.prototype.getShape.call(this, e, n, null);
              }),
              (e.prototype._getRefreshRegion = function () {
                var t,
                  e = this.get('refreshElements'),
                  n = this.getViewRange();
                return (
                  e.length && e[0] === this
                    ? (t = n)
                    : ((t = (function (t) {
                        if (!t.length) return null;
                        var e = [],
                          n = [],
                          r = [],
                          i = [];
                        return (
                          (0, p.each)(t, function (t) {
                            var o = (function (t) {
                              var e, n, r;
                              if (t.destroyed) e = t._cacheCanvasBBox;
                              else {
                                var i = t.get('cacheCanvasBBox'),
                                  o = i && !(!i.width || !i.height),
                                  a = t.getCanvasBBox(),
                                  s = a && !(!a.width || !a.height);
                                o && s
                                  ? ((r = a),
                                    (e =
                                      (n = i) && r
                                        ? {
                                            minX: Math.min(n.minX, r.minX),
                                            minY: Math.min(n.minY, r.minY),
                                            maxX: Math.max(n.maxX, r.maxX),
                                            maxY: Math.max(n.maxY, r.maxY),
                                          }
                                        : n || r))
                                  : o
                                  ? (e = i)
                                  : s && (e = a);
                              }
                              return e;
                            })(t);
                            o && (e.push(o.minX), n.push(o.minY), r.push(o.maxX), i.push(o.maxY));
                          }),
                          {
                            minX: (0, p.min)(e),
                            minY: (0, p.min)(n),
                            maxX: (0, p.max)(r),
                            maxY: (0, p.max)(i),
                          }
                        );
                      })(e)),
                      t &&
                        ((t.minX = Math.floor(t.minX)),
                        (t.minY = Math.floor(t.minY)),
                        (t.maxX = Math.ceil(t.maxX)),
                        (t.maxY = Math.ceil(t.maxY)),
                        (t.maxY += 1),
                        this.get('clipView') &&
                          (t = (function (t, e) {
                            return t && e && y(t, e)
                              ? {
                                  minX: Math.max(t.minX, e.minX),
                                  minY: Math.max(t.minY, e.minY),
                                  maxX: Math.min(t.maxX, e.maxX),
                                  maxY: Math.min(t.maxY, e.maxY),
                                }
                              : null;
                          })(t, n)))),
                  t
                );
              }),
              (e.prototype.refreshElement = function (t) {
                this.get('refreshElements').push(t);
              }),
              (e.prototype._clearFrame = function () {
                var t = this.get('drawFrame');
                t &&
                  ((0, p.clearAnimationFrame)(t),
                  this.set('drawFrame', null),
                  this.set('refreshElements', []));
              }),
              (e.prototype.draw = function () {
                var t = this.get('drawFrame');
                (this.get('autoDraw') && t) || this._startDraw();
              }),
              (e.prototype._drawAll = function () {
                var t = this.get('context'),
                  e = this.get('el'),
                  n = this.getChildren();
                t.clearRect(0, 0, e.width, e.height),
                  G(t, this),
                  z(t, n),
                  this.set('refreshElements', []);
              }),
              (e.prototype._drawRegion = function () {
                var t = this.get('context'),
                  e = this.get('refreshElements'),
                  n = this.getChildren(),
                  r = this._getRefreshRegion();
                r
                  ? (t.clearRect(r.minX, r.minY, r.maxX - r.minX, r.maxY - r.minY),
                    t.save(),
                    t.beginPath(),
                    t.rect(r.minX, r.minY, r.maxX - r.minX, r.maxY - r.minY),
                    t.clip(),
                    G(t, this),
                    F(this, n, r),
                    z(t, n, r),
                    t.restore())
                  : e.length && V(e),
                  (0, p.each)(e, function (t) {
                    t.get('hasChanged') && t.set('hasChanged', !1);
                  }),
                  this.set('refreshElements', []);
              }),
              (e.prototype._startDraw = function () {
                var t = this,
                  e = this.get('drawFrame');
                e ||
                  ((e = (0, p.requestAnimationFrame)(function () {
                    t.get('localRefresh') ? t._drawRegion() : t._drawAll(),
                      t.set('drawFrame', null);
                  })),
                  this.set('drawFrame', e));
              }),
              (e.prototype.skipDraw = function () {}),
              (e.prototype.removeDom = function () {
                var t = this.get('el');
                (t.width = 0), (t.height = 0), t.parentNode.removeChild(t);
              }),
              e
            );
          })(d.AbstractCanvas);
          const Gt = jt;
          var zt = {
              rect: 'path',
              circle: 'circle',
              line: 'line',
              path: 'path',
              marker: 'path',
              text: 'text',
              polyline: 'polyline',
              polygon: 'polygon',
              image: 'image',
              ellipse: 'ellipse',
              dom: 'foreignObject',
            },
            Ft = {
              opacity: 'opacity',
              fillStyle: 'fill',
              fill: 'fill',
              fillOpacity: 'fill-opacity',
              strokeStyle: 'stroke',
              strokeOpacity: 'stroke-opacity',
              stroke: 'stroke',
              x: 'x',
              y: 'y',
              r: 'r',
              rx: 'rx',
              ry: 'ry',
              width: 'width',
              height: 'height',
              x1: 'x1',
              x2: 'x2',
              y1: 'y1',
              y2: 'y2',
              lineCap: 'stroke-linecap',
              lineJoin: 'stroke-linejoin',
              lineWidth: 'stroke-width',
              lineDash: 'stroke-dasharray',
              lineDashOffset: 'stroke-dashoffset',
              miterLimit: 'stroke-miterlimit',
              font: 'font',
              fontSize: 'font-size',
              fontStyle: 'font-style',
              fontVariant: 'font-variant',
              fontWeight: 'font-weight',
              fontFamily: 'font-family',
              startArrow: 'marker-start',
              endArrow: 'marker-end',
              path: 'd',
              class: 'class',
              id: 'id',
              style: 'style',
              preserveAspectRatio: 'preserveAspectRatio',
            };
          function Ut(t) {
            return document.createElementNS('http://www.w3.org/2000/svg', t);
          }
          function Vt(t) {
            var e = zt[t.type],
              n = t.getParent();
            if (!e) throw new Error('the type ' + t.type + ' is not supported by svg');
            var r = Ut(e);
            if ((t.get('id') && (r.id = t.get('id')), t.set('el', r), t.set('attrs', {}), n)) {
              var i = n.get('el');
              i || ((i = n.createDom()), n.set('el', i)), i.appendChild(r);
            }
            return r;
          }
          function Wt(t, e) {
            var n = t.get('el'),
              r = (0, p.toArray)(n.children).sort(e),
              i = document.createDocumentFragment();
            r.forEach(function (t) {
              i.appendChild(t);
            }),
              n.appendChild(i);
          }
          function Yt(t) {
            var e = t.attr().matrix;
            if (e) {
              for (var n = t.cfg.el, r = [], i = 0; i < 9; i += 3) r.push(e[i] + ',' + e[i + 1]);
              -1 === (r = r.join(',')).indexOf('NaN')
                ? n.setAttribute('transform', 'matrix(' + r + ')')
                : console.warn('invalid matrix:', e);
            }
          }
          function Xt(t, e) {
            var n = t.getClip(),
              r = t.get('el');
            if (n) {
              if (n && !r.hasAttribute('clip-path')) {
                Vt(n), n.createPath(e);
                var i = e.addClip(n);
                r.setAttribute('clip-path', 'url(#' + i + ')');
              }
            } else r.removeAttribute('clip-path');
          }
          function Ht(t, e) {
            e.forEach(function (e) {
              e.draw(t);
            });
          }
          function qt(t, e) {
            var n = t.get('canvas');
            if (n && n.get('autoDraw')) {
              var r = n.get('context'),
                i = t.getParent(),
                o = i ? i.getChildren() : [n],
                a = t.get('el');
              if ('remove' === e)
                if (t.get('isClipShape')) {
                  var s = a && a.parentNode,
                    u = s && s.parentNode;
                  s && u && u.removeChild(s);
                } else a && a.parentNode && a.parentNode.removeChild(a);
              else if ('show' === e) a.setAttribute('visibility', 'visible');
              else if ('hide' === e) a.setAttribute('visibility', 'hidden');
              else if ('zIndex' === e)
                !(function (t, e) {
                  var n = t.parentNode,
                    r = Array.from(n.childNodes).filter(function (t) {
                      return 1 === t.nodeType && 'defs' !== t.nodeName.toLowerCase();
                    }),
                    i = r[e],
                    o = r.indexOf(t);
                  if (i) {
                    if (o > e) n.insertBefore(t, i);
                    else if (o < e) {
                      var a = r[e + 1];
                      a ? n.insertBefore(t, a) : n.appendChild(t);
                    }
                  } else n.appendChild(t);
                })(a, o.indexOf(t));
              else if ('sort' === e) {
                var c = t.get('children');
                c &&
                  c.length &&
                  Wt(t, function (t, e) {
                    return c.indexOf(t) - c.indexOf(e) ? 1 : 0;
                  });
              } else
                'clear' === e
                  ? a && (a.innerHTML = '')
                  : 'matrix' === e
                  ? Yt(t)
                  : 'clip' === e
                  ? Xt(t, r)
                  : 'attr' === e || ('add' === e && t.draw(r));
            }
          }
          var Kt = (function (t) {
            function e() {
              return (null !== t && t.apply(this, arguments)) || this;
            }
            return (
              (0, c.__extends)(e, t),
              (e.prototype.isEntityGroup = function () {
                return !0;
              }),
              (e.prototype.createDom = function () {
                var t = Ut('g');
                this.set('el', t);
                var e = this.getParent();
                if (e) {
                  var n = e.get('el');
                  n || ((n = e.createDom()), e.set('el', n)), n.appendChild(t);
                }
                return t;
              }),
              (e.prototype.afterAttrsChange = function (e) {
                t.prototype.afterAttrsChange.call(this, e);
                var n = this.get('canvas');
                if (n && n.get('autoDraw')) {
                  var r = n.get('context');
                  this.createPath(r, e);
                }
              }),
              (e.prototype.onCanvasChange = function (t) {
                qt(this, t);
              }),
              (e.prototype.getShapeBase = function () {
                return i;
              }),
              (e.prototype.getGroupBase = function () {
                return e;
              }),
              (e.prototype.draw = function (t) {
                var e = this.getChildren(),
                  n = this.get('el');
                this.get('destroyed')
                  ? n && n.parentNode.removeChild(n)
                  : (n || this.createDom(), Xt(this, t), this.createPath(t), e.length && Ht(t, e));
              }),
              (e.prototype.createPath = function (t, e) {
                var n = this.attr(),
                  r = this.get('el');
                (0, p.each)(e || n, function (t, e) {
                  Ft[e] && r.setAttribute(Ft[e], t);
                }),
                  Yt(this);
              }),
              e
            );
          })(d.AbstractGroup);
          const Zt = Kt;
          var $t = (function (t) {
            function e() {
              var e = (null !== t && t.apply(this, arguments)) || this;
              return (e.type = 'svg'), (e.canFill = !1), (e.canStroke = !1), e;
            }
            return (
              (0, c.__extends)(e, t),
              (e.prototype.getDefaultAttrs = function () {
                var e = t.prototype.getDefaultAttrs.call(this);
                return (0, c.__assign)((0, c.__assign)({}, e), {
                  lineWidth: 1,
                  lineAppendWidth: 0,
                  strokeOpacity: 1,
                  fillOpacity: 1,
                });
              }),
              (e.prototype.afterAttrsChange = function (e) {
                t.prototype.afterAttrsChange.call(this, e);
                var n = this.get('canvas');
                if (n && n.get('autoDraw')) {
                  var r = n.get('context');
                  this.draw(r, e);
                }
              }),
              (e.prototype.getShapeBase = function () {
                return i;
              }),
              (e.prototype.getGroupBase = function () {
                return Zt;
              }),
              (e.prototype.onCanvasChange = function (t) {
                qt(this, t);
              }),
              (e.prototype.calculateBBox = function () {
                var t = this.get('el'),
                  e = null;
                if (t) e = t.getBBox();
                else {
                  var n = (0, d.getBBoxMethod)(this.get('type'));
                  n && (e = n(this));
                }
                if (e) {
                  var r = e.x,
                    i = e.y,
                    o = e.width,
                    a = e.height,
                    s = this.getHitLineWidth(),
                    u = s / 2,
                    c = r - u,
                    l = i - u;
                  return {
                    x: c,
                    y: l,
                    minX: c,
                    minY: l,
                    maxX: r + o + u,
                    maxY: i + a + u,
                    width: o + s,
                    height: a + s,
                  };
                }
                return { x: 0, y: 0, minX: 0, minY: 0, maxX: 0, maxY: 0, width: 0, height: 0 };
              }),
              (e.prototype.isFill = function () {
                var t = this.attr(),
                  e = t.fill,
                  n = t.fillStyle;
                return (e || n || this.isClipShape()) && this.canFill;
              }),
              (e.prototype.isStroke = function () {
                var t = this.attr(),
                  e = t.stroke,
                  n = t.strokeStyle;
                return (e || n) && this.canStroke;
              }),
              (e.prototype.draw = function (t, e) {
                var n = this.get('el');
                this.get('destroyed')
                  ? n && n.parentNode.removeChild(n)
                  : (n || Vt(this),
                    Xt(this, t),
                    this.createPath(t, e),
                    this.shadow(t, e),
                    this.strokeAndFill(t, e),
                    this.transform(e));
              }),
              (e.prototype.createPath = function (t, e) {}),
              (e.prototype.strokeAndFill = function (t, e) {
                var n = e || this.attr(),
                  r = n.fill,
                  i = n.fillStyle,
                  o = n.stroke,
                  a = n.strokeStyle,
                  s = n.fillOpacity,
                  u = n.strokeOpacity,
                  c = n.lineWidth,
                  l = this.get('el');
                this.canFill &&
                  (e
                    ? 'fill' in n
                      ? this._setColor(t, 'fill', r)
                      : 'fillStyle' in n && this._setColor(t, 'fill', i)
                    : this._setColor(t, 'fill', r || i),
                  s && l.setAttribute(Ft.fillOpacity, s)),
                  this.canStroke &&
                    c > 0 &&
                    (e
                      ? 'stroke' in n
                        ? this._setColor(t, 'stroke', o)
                        : 'strokeStyle' in n && this._setColor(t, 'stroke', a)
                      : this._setColor(t, 'stroke', o || a),
                    u && l.setAttribute(Ft.strokeOpacity, u),
                    c && l.setAttribute(Ft.lineWidth, c));
              }),
              (e.prototype._setColor = function (t, e, n) {
                var r = this.get('el');
                if (n)
                  if (((n = n.trim()), /^[r,R,L,l]{1}[\s]*\(/.test(n)))
                    (i = t.find('gradient', n)) || (i = t.addGradient(n)),
                      r.setAttribute(Ft[e], 'url(#' + i + ')');
                  else if (/^[p,P]{1}[\s]*\(/.test(n)) {
                    var i;
                    (i = t.find('pattern', n)) || (i = t.addPattern(n)),
                      r.setAttribute(Ft[e], 'url(#' + i + ')');
                  } else r.setAttribute(Ft[e], n);
                else r.setAttribute(Ft[e], 'none');
              }),
              (e.prototype.shadow = function (t, e) {
                var n = this.attr(),
                  r = e || n,
                  i = r.shadowOffsetX,
                  o = r.shadowOffsetY,
                  a = r.shadowBlur,
                  s = r.shadowColor;
                (i || o || a || s) &&
                  (function (t, e) {
                    var n = t.cfg.el,
                      r = t.attr(),
                      i = {
                        dx: r.shadowOffsetX,
                        dy: r.shadowOffsetY,
                        blur: r.shadowBlur,
                        color: r.shadowColor,
                      };
                    if (i.dx || i.dy || i.blur || i.color) {
                      var o = e.find('filter', i);
                      o || (o = e.addShadow(i)), n.setAttribute('filter', 'url(#' + o + ')');
                    } else n.removeAttribute('filter');
                  })(this, t);
              }),
              (e.prototype.transform = function (t) {
                var e = this.attr();
                (t || e).matrix && Yt(this);
              }),
              (e.prototype.isInShape = function (t, e) {
                return this.isPointInPath(t, e);
              }),
              (e.prototype.isPointInPath = function (t, e) {
                var n = this.get('el'),
                  r = this.get('canvas').get('el').getBoundingClientRect(),
                  i = t + r.left,
                  o = e + r.top,
                  a = document.elementFromPoint(i, o);
                return !(!a || !a.isEqualNode(n));
              }),
              (e.prototype.getHitLineWidth = function () {
                var t = this.attrs,
                  e = t.lineWidth,
                  n = t.lineAppendWidth;
                return this.isStroke() ? e + n : 0;
              }),
              e
            );
          })(d.AbstractShape);
          const Qt = $t;
          var Jt = (function (t) {
            function e() {
              var e = (null !== t && t.apply(this, arguments)) || this;
              return (e.type = 'circle'), (e.canFill = !0), (e.canStroke = !0), e;
            }
            return (
              (0, c.__extends)(e, t),
              (e.prototype.getDefaultAttrs = function () {
                var e = t.prototype.getDefaultAttrs.call(this);
                return (0, c.__assign)((0, c.__assign)({}, e), { x: 0, y: 0, r: 0 });
              }),
              (e.prototype.createPath = function (t, e) {
                var n = this.attr(),
                  r = this.get('el');
                (0, p.each)(e || n, function (t, e) {
                  'x' === e || 'y' === e
                    ? r.setAttribute('c' + e, t)
                    : Ft[e] && r.setAttribute(Ft[e], t);
                });
              }),
              e
            );
          })(Qt);
          const te = Jt;
          var ee = (function (t) {
            function e() {
              var e = (null !== t && t.apply(this, arguments)) || this;
              return (e.type = 'dom'), (e.canFill = !1), (e.canStroke = !1), e;
            }
            return (
              (0, c.__extends)(e, t),
              (e.prototype.createPath = function (t, e) {
                var n = this.attr(),
                  r = this.get('el');
                if (
                  ((0, p.each)(e || n, function (t, e) {
                    Ft[e] && r.setAttribute(Ft[e], t);
                  }),
                  'function' == typeof n.html)
                ) {
                  var i = n.html.call(this, n);
                  if (i instanceof Element || i instanceof HTMLDocument) {
                    for (var o = r.childNodes, a = o.length - 1; a >= 0; a--) r.removeChild(o[a]);
                    r.appendChild(i);
                  } else r.innerHTML = i;
                } else r.innerHTML = n.html;
              }),
              e
            );
          })(Qt);
          const ne = ee;
          var re = (function (t) {
            function e() {
              var e = (null !== t && t.apply(this, arguments)) || this;
              return (e.type = 'ellipse'), (e.canFill = !0), (e.canStroke = !0), e;
            }
            return (
              (0, c.__extends)(e, t),
              (e.prototype.getDefaultAttrs = function () {
                var e = t.prototype.getDefaultAttrs.call(this);
                return (0, c.__assign)((0, c.__assign)({}, e), { x: 0, y: 0, rx: 0, ry: 0 });
              }),
              (e.prototype.createPath = function (t, e) {
                var n = this.attr(),
                  r = this.get('el');
                (0, p.each)(e || n, function (t, e) {
                  'x' === e || 'y' === e
                    ? r.setAttribute('c' + e, t)
                    : Ft[e] && r.setAttribute(Ft[e], t);
                });
              }),
              e
            );
          })(Qt);
          const ie = re;
          var oe = (function (t) {
            function e() {
              var e = (null !== t && t.apply(this, arguments)) || this;
              return (e.type = 'image'), (e.canFill = !1), (e.canStroke = !1), e;
            }
            return (
              (0, c.__extends)(e, t),
              (e.prototype.getDefaultAttrs = function () {
                var e = t.prototype.getDefaultAttrs.call(this);
                return (0, c.__assign)((0, c.__assign)({}, e), { x: 0, y: 0, width: 0, height: 0 });
              }),
              (e.prototype.createPath = function (t, e) {
                var n = this,
                  r = this.attr(),
                  i = this.get('el');
                (0, p.each)(e || r, function (t, e) {
                  'img' === e ? n._setImage(r.img) : Ft[e] && i.setAttribute(Ft[e], t);
                });
              }),
              (e.prototype.setAttr = function (t, e) {
                (this.attrs[t] = e), 'img' === t && this._setImage(e);
              }),
              (e.prototype._setImage = function (t) {
                var e = this.attr(),
                  n = this.get('el');
                if ((0, p.isString)(t)) n.setAttribute('href', t);
                else if (t instanceof window.Image)
                  e.width || (n.setAttribute('width', t.width), this.attr('width', t.width)),
                    e.height || (n.setAttribute('height', t.height), this.attr('height', t.height)),
                    n.setAttribute('href', t.src);
                else if (
                  t instanceof HTMLElement &&
                  (0, p.isString)(t.nodeName) &&
                  'CANVAS' === t.nodeName.toUpperCase()
                )
                  n.setAttribute('href', t.toDataURL());
                else if (t instanceof ImageData) {
                  var r = document.createElement('canvas');
                  r.setAttribute('width', '' + t.width),
                    r.setAttribute('height', '' + t.height),
                    r.getContext('2d').putImageData(t, 0, 0),
                    e.width || (n.setAttribute('width', '' + t.width), this.attr('width', t.width)),
                    e.height ||
                      (n.setAttribute('height', '' + t.height), this.attr('height', t.height)),
                    n.setAttribute('href', r.toDataURL());
                }
              }),
              e
            );
          })(Qt);
          const ae = oe;
          var se = (function (t) {
            function e() {
              var e = (null !== t && t.apply(this, arguments)) || this;
              return (e.type = 'line'), (e.canFill = !1), (e.canStroke = !0), e;
            }
            return (
              (0, c.__extends)(e, t),
              (e.prototype.getDefaultAttrs = function () {
                var e = t.prototype.getDefaultAttrs.call(this);
                return (0, c.__assign)((0, c.__assign)({}, e), {
                  x1: 0,
                  y1: 0,
                  x2: 0,
                  y2: 0,
                  startArrow: !1,
                  endArrow: !1,
                });
              }),
              (e.prototype.createPath = function (t, e) {
                var n = this.attr(),
                  r = this.get('el');
                (0, p.each)(e || n, function (e, i) {
                  if ('startArrow' === i || 'endArrow' === i)
                    if (e) {
                      var o = (0, p.isObject)(e)
                        ? t.addArrow(n, Ft[i])
                        : t.getDefaultArrow(n, Ft[i]);
                      r.setAttribute(Ft[i], 'url(#' + o + ')');
                    } else r.removeAttribute(Ft[i]);
                  else Ft[i] && r.setAttribute(Ft[i], e);
                });
              }),
              (e.prototype.getTotalLength = function () {
                var t = this.attr(),
                  e = t.x1,
                  n = t.y1,
                  r = t.x2,
                  i = t.y2;
                return at.x1.length(e, n, r, i);
              }),
              (e.prototype.getPoint = function (t) {
                var e = this.attr(),
                  n = e.x1,
                  r = e.y1,
                  i = e.x2,
                  o = e.y2;
                return at.x1.pointAt(n, r, i, o, t);
              }),
              e
            );
          })(Qt);
          const ue = se;
          var ce = {
            circle: function (t, e, n) {
              return [
                ['M', t, e],
                ['m', -n, 0],
                ['a', n, n, 0, 1, 0, 2 * n, 0],
                ['a', n, n, 0, 1, 0, 2 * -n, 0],
              ];
            },
            square: function (t, e, n) {
              return [
                ['M', t - n, e - n],
                ['L', t + n, e - n],
                ['L', t + n, e + n],
                ['L', t - n, e + n],
                ['Z'],
              ];
            },
            diamond: function (t, e, n) {
              return [['M', t - n, e], ['L', t, e - n], ['L', t + n, e], ['L', t, e + n], ['Z']];
            },
            triangle: function (t, e, n) {
              var r = n * Math.sin((1 / 3) * Math.PI);
              return [['M', t - n, e + r], ['L', t, e - r], ['L', t + n, e + r], ['z']];
            },
            triangleDown: function (t, e, n) {
              var r = n * Math.sin((1 / 3) * Math.PI);
              return [['M', t - n, e - r], ['L', t + n, e - r], ['L', t, e + r], ['Z']];
            },
          };
          const le = {
            get: function (t) {
              return ce[t];
            },
            register: function (t, e) {
              ce[t] = e;
            },
            remove: function (t) {
              delete ce[t];
            },
            getAll: function () {
              return ce;
            },
          };
          var he = (function (t) {
            function e() {
              var e = (null !== t && t.apply(this, arguments)) || this;
              return (e.type = 'marker'), (e.canFill = !0), (e.canStroke = !0), e;
            }
            return (
              (0, c.__extends)(e, t),
              (e.prototype.createPath = function (t) {
                this.get('el').setAttribute('d', this._assembleMarker());
              }),
              (e.prototype._assembleMarker = function () {
                var t = this._getPath();
                return (0, p.isArray)(t)
                  ? t
                      .map(function (t) {
                        return t.join(' ');
                      })
                      .join('')
                  : t;
              }),
              (e.prototype._getPath = function () {
                var t,
                  e = this.attr(),
                  n = e.x,
                  r = e.y,
                  i = e.r || e.radius,
                  o = e.symbol || 'circle';
                return (t = (0, p.isFunction)(o) ? o : le.get(o))
                  ? t(n, r, i)
                  : (console.warn(t + ' symbol is not exist.'), null);
              }),
              (e.symbolsFactory = le),
              e
            );
          })(Qt);
          const fe = he;
          var de = (function (t) {
            function e() {
              var e = (null !== t && t.apply(this, arguments)) || this;
              return (e.type = 'path'), (e.canFill = !0), (e.canStroke = !0), e;
            }
            return (
              (0, c.__extends)(e, t),
              (e.prototype.getDefaultAttrs = function () {
                var e = t.prototype.getDefaultAttrs.call(this);
                return (0, c.__assign)((0, c.__assign)({}, e), { startArrow: !1, endArrow: !1 });
              }),
              (e.prototype.createPath = function (t, e) {
                var n = this,
                  r = this.attr(),
                  i = this.get('el');
                (0, p.each)(e || r, function (e, o) {
                  if ('path' === o && (0, p.isArray)(e)) i.setAttribute('d', n._formatPath(e));
                  else if ('startArrow' === o || 'endArrow' === o)
                    if (e) {
                      var a = (0, p.isObject)(e)
                        ? t.addArrow(r, Ft[o])
                        : t.getDefaultArrow(r, Ft[o]);
                      i.setAttribute(Ft[o], 'url(#' + a + ')');
                    } else i.removeAttribute(Ft[o]);
                  else Ft[o] && i.setAttribute(Ft[o], e);
                });
              }),
              (e.prototype._formatPath = function (t) {
                var e = t
                  .map(function (t) {
                    return t.join(' ');
                  })
                  .join('');
                return ~e.indexOf('NaN') ? '' : e;
              }),
              (e.prototype.getTotalLength = function () {
                var t = this.get('el');
                return t ? t.getTotalLength() : null;
              }),
              (e.prototype.getPoint = function (t) {
                var e = this.get('el'),
                  n = this.getTotalLength();
                if (0 === n) return null;
                var r = e ? e.getPointAtLength(t * n) : null;
                return r ? { x: r.x, y: r.y } : null;
              }),
              e
            );
          })(Qt);
          const pe = de;
          var ge = (function (t) {
            function e() {
              var e = (null !== t && t.apply(this, arguments)) || this;
              return (e.type = 'polygon'), (e.canFill = !0), (e.canStroke = !0), e;
            }
            return (
              (0, c.__extends)(e, t),
              (e.prototype.createPath = function (t, e) {
                var n = this.attr(),
                  r = this.get('el');
                (0, p.each)(e || n, function (t, e) {
                  'points' === e && (0, p.isArray)(t) && t.length >= 2
                    ? r.setAttribute(
                        'points',
                        t
                          .map(function (t) {
                            return t[0] + ',' + t[1];
                          })
                          .join(' '),
                      )
                    : Ft[e] && r.setAttribute(Ft[e], t);
                });
              }),
              e
            );
          })(Qt);
          const ve = ge;
          var ye = (function (t) {
            function e() {
              var e = (null !== t && t.apply(this, arguments)) || this;
              return (e.type = 'polyline'), (e.canFill = !0), (e.canStroke = !0), e;
            }
            return (
              (0, c.__extends)(e, t),
              (e.prototype.getDefaultAttrs = function () {
                var e = t.prototype.getDefaultAttrs.call(this);
                return (0, c.__assign)((0, c.__assign)({}, e), { startArrow: !1, endArrow: !1 });
              }),
              (e.prototype.onAttrChange = function (e, n, r) {
                t.prototype.onAttrChange.call(this, e, n, r),
                  -1 !== ['points'].indexOf(e) && this._resetCache();
              }),
              (e.prototype._resetCache = function () {
                this.set('totalLength', null), this.set('tCache', null);
              }),
              (e.prototype.createPath = function (t, e) {
                var n = this.attr(),
                  r = this.get('el');
                (0, p.each)(e || n, function (t, e) {
                  'points' === e && (0, p.isArray)(t) && t.length >= 2
                    ? r.setAttribute(
                        'points',
                        t
                          .map(function (t) {
                            return t[0] + ',' + t[1];
                          })
                          .join(' '),
                      )
                    : Ft[e] && r.setAttribute(Ft[e], t);
                });
              }),
              (e.prototype.getTotalLength = function () {
                var t = this.attr().points,
                  e = this.get('totalLength');
                return (0, p.isNil)(e)
                  ? (this.set('totalLength', at.aH.length(t)), this.get('totalLength'))
                  : e;
              }),
              (e.prototype.getPoint = function (t) {
                var e,
                  n,
                  r = this.attr().points,
                  i = this.get('tCache');
                return (
                  i || (this._setTcache(), (i = this.get('tCache'))),
                  (0, p.each)(i, function (r, i) {
                    t >= r[0] && t <= r[1] && ((e = (t - r[0]) / (r[1] - r[0])), (n = i));
                  }),
                  at.x1.pointAt(r[n][0], r[n][1], r[n + 1][0], r[n + 1][1], e)
                );
              }),
              (e.prototype._setTcache = function () {
                var t = this.attr().points;
                if (t && 0 !== t.length) {
                  var e = this.getTotalLength();
                  if (!(e <= 0)) {
                    var n,
                      r,
                      i = 0,
                      o = [];
                    (0, p.each)(t, function (a, s) {
                      t[s + 1] &&
                        (((n = [])[0] = i / e),
                        (r = at.x1.length(a[0], a[1], t[s + 1][0], t[s + 1][1])),
                        (i += r),
                        (n[1] = i / e),
                        o.push(n));
                    }),
                      this.set('tCache', o);
                  }
                }
              }),
              (e.prototype.getStartTangent = function () {
                var t = this.attr().points,
                  e = [];
                return e.push([t[1][0], t[1][1]]), e.push([t[0][0], t[0][1]]), e;
              }),
              (e.prototype.getEndTangent = function () {
                var t = this.attr().points,
                  e = t.length - 1,
                  n = [];
                return n.push([t[e - 1][0], t[e - 1][1]]), n.push([t[e][0], t[e][1]]), n;
              }),
              e
            );
          })(Qt);
          const me = ye;
          var be = (function (t) {
            function e() {
              var e = (null !== t && t.apply(this, arguments)) || this;
              return (e.type = 'rect'), (e.canFill = !0), (e.canStroke = !0), e;
            }
            return (
              (0, c.__extends)(e, t),
              (e.prototype.getDefaultAttrs = function () {
                var e = t.prototype.getDefaultAttrs.call(this);
                return (0, c.__assign)((0, c.__assign)({}, e), {
                  x: 0,
                  y: 0,
                  width: 0,
                  height: 0,
                  radius: 0,
                });
              }),
              (e.prototype.createPath = function (t, e) {
                var n = this,
                  r = this.attr(),
                  i = this.get('el'),
                  o = !1,
                  a = ['x', 'y', 'width', 'height', 'radius'];
                (0, p.each)(e || r, function (t, e) {
                  -1 === a.indexOf(e) || o
                    ? -1 === a.indexOf(e) && Ft[e] && i.setAttribute(Ft[e], t)
                    : (i.setAttribute('d', n._assembleRect(r)), (o = !0));
                });
              }),
              (e.prototype._assembleRect = function (t) {
                var e = t.x,
                  n = t.y,
                  r = t.width,
                  i = t.height,
                  o = t.radius;
                if (!o) return 'M ' + e + ',' + n + ' l ' + r + ',0 l 0,' + i + ' l' + -r + ' 0 z';
                var a = (function (t) {
                  var e = 0,
                    n = 0,
                    r = 0,
                    i = 0;
                  return (
                    (0, p.isArray)(t)
                      ? 1 === t.length
                        ? (e = n = r = i = t[0])
                        : 2 === t.length
                        ? ((e = r = t[0]), (n = i = t[1]))
                        : 3 === t.length
                        ? ((e = t[0]), (n = i = t[1]), (r = t[2]))
                        : ((e = t[0]), (n = t[1]), (r = t[2]), (i = t[3]))
                      : (e = n = r = i = t),
                    { r1: e, r2: n, r3: r, r4: i }
                  );
                })(o);
                return (
                  (0, p.isArray)(o)
                    ? 1 === o.length
                      ? (a.r1 = a.r2 = a.r3 = a.r4 = o[0])
                      : 2 === o.length
                      ? ((a.r1 = a.r3 = o[0]), (a.r2 = a.r4 = o[1]))
                      : 3 === o.length
                      ? ((a.r1 = o[0]), (a.r2 = a.r4 = o[1]), (a.r3 = o[2]))
                      : ((a.r1 = o[0]), (a.r2 = o[1]), (a.r3 = o[2]), (a.r4 = o[3]))
                    : (a.r1 = a.r2 = a.r3 = a.r4 = o),
                  [
                    ['M ' + (e + a.r1) + ',' + n],
                    ['l ' + (r - a.r1 - a.r2) + ',0'],
                    ['a ' + a.r2 + ',' + a.r2 + ',0,0,1,' + a.r2 + ',' + a.r2],
                    ['l 0,' + (i - a.r2 - a.r3)],
                    ['a ' + a.r3 + ',' + a.r3 + ',0,0,1,' + -a.r3 + ',' + a.r3],
                    ['l ' + (a.r3 + a.r4 - r) + ',0'],
                    ['a ' + a.r4 + ',' + a.r4 + ',0,0,1,' + -a.r4 + ',' + -a.r4],
                    ['l 0,' + (a.r4 + a.r1 - i)],
                    ['a ' + a.r1 + ',' + a.r1 + ',0,0,1,' + a.r1 + ',' + -a.r1],
                    ['z'],
                  ].join(' ')
                );
              }),
              e
            );
          })(Qt);
          const xe = be;
          var _e = n(3631),
            we = {
              top: 'before-edge',
              middle: 'central',
              bottom: 'after-edge',
              alphabetic: 'baseline',
              hanging: 'hanging',
            },
            Ee = {
              top: 'text-before-edge',
              middle: 'central',
              bottom: 'text-after-edge',
              alphabetic: 'alphabetic',
              hanging: 'hanging',
            },
            Se = { left: 'left', start: 'left', center: 'middle', right: 'end', end: 'end' },
            Me = (function (t) {
              function e() {
                var e = (null !== t && t.apply(this, arguments)) || this;
                return (e.type = 'text'), (e.canFill = !0), (e.canStroke = !0), e;
              }
              return (
                (0, c.__extends)(e, t),
                (e.prototype.getDefaultAttrs = function () {
                  var e = t.prototype.getDefaultAttrs.call(this);
                  return (0, c.__assign)((0, c.__assign)({}, e), {
                    x: 0,
                    y: 0,
                    text: null,
                    fontSize: 12,
                    fontFamily: 'sans-serif',
                    fontStyle: 'normal',
                    fontWeight: 'normal',
                    fontVariant: 'normal',
                    textAlign: 'start',
                    textBaseline: 'bottom',
                  });
                }),
                (e.prototype.createPath = function (t, e) {
                  var n = this,
                    r = this.attr(),
                    i = this.get('el');
                  this._setFont(),
                    (0, p.each)(e || r, function (t, e) {
                      'text' === e
                        ? n._setText('' + t)
                        : 'matrix' === e && t
                        ? Yt(n)
                        : Ft[e] && i.setAttribute(Ft[e], t);
                    }),
                    i.setAttribute('paint-order', 'stroke'),
                    i.setAttribute('style', 'stroke-linecap:butt; stroke-linejoin:miter;');
                }),
                (e.prototype._setFont = function () {
                  var t = this.get('el'),
                    e = this.attr(),
                    n = e.textBaseline,
                    r = e.textAlign,
                    i = (0, _e.qY)();
                  i && 'firefox' === i.name
                    ? t.setAttribute('dominant-baseline', Ee[n] || 'alphabetic')
                    : t.setAttribute('alignment-baseline', we[n] || 'baseline'),
                    t.setAttribute('text-anchor', Se[r] || 'left');
                }),
                (e.prototype._setText = function (t) {
                  var e = this.get('el'),
                    n = this.attr(),
                    r = n.x,
                    i = n.textBaseline,
                    o = void 0 === i ? 'bottom' : i;
                  if (t)
                    if (~t.indexOf('\n')) {
                      var a = t.split('\n'),
                        s = a.length - 1,
                        u = '';
                      (0, p.each)(a, function (t, e) {
                        0 === e
                          ? 'alphabetic' === o
                            ? (u += '<tspan x="' + r + '" dy="' + -s + 'em">' + t + '</tspan>')
                            : 'top' === o
                            ? (u += '<tspan x="' + r + '" dy="0.9em">' + t + '</tspan>')
                            : 'middle' === o
                            ? (u +=
                                '<tspan x="' +
                                r +
                                '" dy="' +
                                -(s - 1) / 2 +
                                'em">' +
                                t +
                                '</tspan>')
                            : 'bottom' === o
                            ? (u +=
                                '<tspan x="' + r + '" dy="-' + (s + 0.3) + 'em">' + t + '</tspan>')
                            : 'hanging' === o &&
                              (u +=
                                '<tspan x="' +
                                r +
                                '" dy="' +
                                (-(s - 1) - 0.3) +
                                'em">' +
                                t +
                                '</tspan>')
                          : (u += '<tspan x="' + r + '" dy="1em">' + t + '</tspan>');
                      }),
                        (e.innerHTML = u);
                    } else e.innerHTML = t;
                  else e.innerHTML = '';
                }),
                e
              );
            })(Qt);
          const ke = Me;
          var Ae = /^l\s*\(\s*([\d.]+)\s*\)\s*(.*)/i,
            Ce = /^r\s*\(\s*([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*\)\s*(.*)/i,
            Ie = /[\d.]+:(#[^\s]+|[^)]+\))/gi;
          function Te(t) {
            var e = t.match(Ie);
            if (!e) return '';
            var n = '';
            return (
              e.sort(function (t, e) {
                return (t = t.split(':')), (e = e.split(':')), Number(t[0]) - Number(e[0]);
              }),
              (0, p.each)(e, function (t) {
                (t = t.split(':')),
                  (n += '<stop offset="' + t[0] + '" stop-color="' + t[1] + '"></stop>');
              }),
              n
            );
          }
          var Ne = (function () {
            function t(t) {
              this.cfg = {};
              var e = null,
                n = (0, p.uniqueId)('gradient_');
              return (
                'l' === t.toLowerCase()[0]
                  ? (function (t, e) {
                      var n,
                        r,
                        i = Ae.exec(t),
                        o = (0, p.mod)((0, p.toRadian)(parseFloat(i[1])), 2 * Math.PI),
                        a = i[2];
                      o >= 0 && o < 0.5 * Math.PI
                        ? ((n = { x: 0, y: 0 }), (r = { x: 1, y: 1 }))
                        : 0.5 * Math.PI <= o && o < Math.PI
                        ? ((n = { x: 1, y: 0 }), (r = { x: 0, y: 1 }))
                        : Math.PI <= o && o < 1.5 * Math.PI
                        ? ((n = { x: 1, y: 1 }), (r = { x: 0, y: 0 }))
                        : ((n = { x: 0, y: 1 }), (r = { x: 1, y: 0 }));
                      var s = Math.tan(o),
                        u = s * s,
                        c = (r.x - n.x + s * (r.y - n.y)) / (u + 1) + n.x,
                        l = (s * (r.x - n.x + s * (r.y - n.y))) / (u + 1) + n.y;
                      e.setAttribute('x1', n.x),
                        e.setAttribute('y1', n.y),
                        e.setAttribute('x2', c),
                        e.setAttribute('y2', l),
                        (e.innerHTML = Te(a));
                    })(t, (e = Ut('linearGradient')))
                  : (function (t, e) {
                      var n = Ce.exec(t),
                        r = parseFloat(n[1]),
                        i = parseFloat(n[2]),
                        o = parseFloat(n[3]),
                        a = n[4];
                      e.setAttribute('cx', r),
                        e.setAttribute('cy', i),
                        e.setAttribute('r', o),
                        (e.innerHTML = Te(a));
                    })(t, (e = Ut('radialGradient'))),
                e.setAttribute('id', n),
                (this.el = e),
                (this.id = n),
                (this.cfg = t),
                this
              );
            }
            return (
              (t.prototype.match = function (t, e) {
                return this.cfg === e;
              }),
              t
            );
          })();
          const Pe = Ne;
          var Oe = {
              shadowColor: 'color',
              shadowOpacity: 'opacity',
              shadowBlur: 'blur',
              shadowOffsetX: 'dx',
              shadowOffsetY: 'dy',
            },
            De = { x: '-40%', y: '-40%', width: '200%', height: '200%' };
          const Le = (function () {
            function t(t) {
              (this.type = 'filter'), (this.cfg = {}), (this.type = 'filter');
              var e = Ut('filter');
              return (
                (0, p.each)(De, function (t, n) {
                  e.setAttribute(n, t);
                }),
                (this.el = e),
                (this.id = (0, p.uniqueId)('filter_')),
                (this.el.id = this.id),
                (this.cfg = t),
                this._parseShadow(t, e),
                this
              );
            }
            return (
              (t.prototype.match = function (t, e) {
                if (this.type !== t) return !1;
                var n = !0,
                  r = this.cfg;
                return (
                  (0, p.each)(Object.keys(r), function (t) {
                    if (r[t] !== e[t]) return (n = !1), !1;
                  }),
                  n
                );
              }),
              (t.prototype.update = function (t, e) {
                var n = this.cfg;
                return (n[Oe[t]] = e), this._parseShadow(n, this.el), this;
              }),
              (t.prototype._parseShadow = function (t, e) {
                var n =
                  '<feDropShadow\n      dx="' +
                  (t.dx || 0) +
                  '"\n      dy="' +
                  (t.dy || 0) +
                  '"\n      stdDeviation="' +
                  (t.blur ? t.blur / 10 : 0) +
                  '"\n      flood-color="' +
                  (t.color ? t.color : '#000') +
                  '"\n      flood-opacity="' +
                  (t.opacity ? t.opacity : 1) +
                  '"\n      />';
                e.innerHTML = n;
              }),
              t
            );
          })();
          var Re = (function () {
            function t(t, e) {
              this.cfg = {};
              var n = Ut('marker'),
                r = (0, p.uniqueId)('marker_');
              n.setAttribute('id', r);
              var i = Ut('path');
              i.setAttribute('stroke', t.stroke || 'none'),
                i.setAttribute('fill', t.fill || 'none'),
                n.appendChild(i),
                n.setAttribute('overflow', 'visible'),
                n.setAttribute('orient', 'auto-start-reverse'),
                (this.el = n),
                (this.child = i),
                (this.id = r);
              var o = t['marker-start' === e ? 'startArrow' : 'endArrow'];
              return (
                (this.stroke = t.stroke || '#000'),
                !0 === o
                  ? this._setDefaultPath(e, i)
                  : ((this.cfg = o), this._setMarker(t.lineWidth, i)),
                this
              );
            }
            return (
              (t.prototype.match = function () {
                return !1;
              }),
              (t.prototype._setDefaultPath = function (t, e) {
                var n = this.el;
                e.setAttribute('d', 'M0,0 L' + 10 * Math.cos(Math.PI / 6) + ',5 L0,10'),
                  n.setAttribute('refX', '' + 10 * Math.cos(Math.PI / 6)),
                  n.setAttribute('refY', '5');
              }),
              (t.prototype._setMarker = function (t, e) {
                var n = this.el,
                  r = this.cfg.path,
                  i = this.cfg.d;
                (0, p.isArray)(r) &&
                  (r = r
                    .map(function (t) {
                      return t.join(' ');
                    })
                    .join('')),
                  e.setAttribute('d', r),
                  n.appendChild(e),
                  i && n.setAttribute('refX', '' + i / t);
              }),
              (t.prototype.update = function (t) {
                var e = this.child;
                e.attr ? e.attr('fill', t) : e.setAttribute('fill', t);
              }),
              t
            );
          })();
          const Be = Re,
            je = (function () {
              function t(t) {
                (this.type = 'clip'), (this.cfg = {});
                var e = Ut('clipPath');
                (this.el = e), (this.id = (0, p.uniqueId)('clip_')), (e.id = this.id);
                var n = t.cfg.el;
                return e.appendChild(n), (this.cfg = t), this;
              }
              return (
                (t.prototype.match = function () {
                  return !1;
                }),
                (t.prototype.remove = function () {
                  var t = this.el;
                  t.parentNode.removeChild(t);
                }),
                t
              );
            })();
          var Ge = /^p\s*\(\s*([axyn])\s*\)\s*(.*)/i;
          const ze = (function () {
              function t(t) {
                this.cfg = {};
                var e = Ut('pattern');
                e.setAttribute('patternUnits', 'userSpaceOnUse');
                var n = Ut('image');
                e.appendChild(n);
                var r = (0, p.uniqueId)('pattern_');
                (e.id = r), (this.el = e), (this.id = r), (this.cfg = t);
                var i = Ge.exec(t)[2];
                n.setAttribute('href', i);
                var o = new Image();
                function a() {
                  e.setAttribute('width', '' + o.width), e.setAttribute('height', '' + o.height);
                }
                return (
                  i.match(/^data:/i) || (o.crossOrigin = 'Anonymous'),
                  (o.src = i),
                  o.complete ? a() : ((o.onload = a), (o.src = o.src)),
                  this
                );
              }
              return (
                (t.prototype.match = function (t, e) {
                  return this.cfg === e;
                }),
                t
              );
            })(),
            Fe = (function () {
              function t(t) {
                var e = Ut('defs'),
                  n = (0, p.uniqueId)('defs_');
                (e.id = n),
                  t.appendChild(e),
                  (this.children = []),
                  (this.defaultArrow = {}),
                  (this.el = e),
                  (this.canvas = t);
              }
              return (
                (t.prototype.find = function (t, e) {
                  for (var n = this.children, r = null, i = 0; i < n.length; i++)
                    if (n[i].match(t, e)) {
                      r = n[i].id;
                      break;
                    }
                  return r;
                }),
                (t.prototype.findById = function (t) {
                  for (var e = this.children, n = null, r = 0; r < e.length; r++)
                    if (e[r].id === t) {
                      n = e[r];
                      break;
                    }
                  return n;
                }),
                (t.prototype.add = function (t) {
                  this.children.push(t), (t.canvas = this.canvas), (t.parent = this);
                }),
                (t.prototype.getDefaultArrow = function (t, e) {
                  var n = t.stroke || t.strokeStyle;
                  if (this.defaultArrow[n]) return this.defaultArrow[n].id;
                  var r = new Be(t, e);
                  return (this.defaultArrow[n] = r), this.el.appendChild(r.el), this.add(r), r.id;
                }),
                (t.prototype.addGradient = function (t) {
                  var e = new Pe(t);
                  return this.el.appendChild(e.el), this.add(e), e.id;
                }),
                (t.prototype.addArrow = function (t, e) {
                  var n = new Be(t, e);
                  return this.el.appendChild(n.el), this.add(n), n.id;
                }),
                (t.prototype.addShadow = function (t) {
                  var e = new Le(t);
                  return this.el.appendChild(e.el), this.add(e), e.id;
                }),
                (t.prototype.addPattern = function (t) {
                  var e = new ze(t);
                  return this.el.appendChild(e.el), this.add(e), e.id;
                }),
                (t.prototype.addClip = function (t) {
                  var e = new je(t);
                  return this.el.appendChild(e.el), this.add(e), e.id;
                }),
                t
              );
            })();
          var Ue = (function (t) {
            function e(e) {
              return (
                t.call(
                  this,
                  (0, c.__assign)((0, c.__assign)({}, e), { autoDraw: !0, renderer: 'svg' }),
                ) || this
              );
            }
            return (
              (0, c.__extends)(e, t),
              (e.prototype.getShapeBase = function () {
                return i;
              }),
              (e.prototype.getGroupBase = function () {
                return Zt;
              }),
              (e.prototype.getShape = function (t, e, n) {
                var r = n.target || n.srcElement;
                if (!zt[r.tagName]) {
                  for (var i = r.parentNode; i && !zt[i.tagName]; ) i = i.parentNode;
                  r = i;
                }
                return this.find(function (t) {
                  return t.get('el') === r;
                });
              }),
              (e.prototype.createDom = function () {
                var t = Ut('svg'),
                  e = new Fe(t);
                return (
                  t.setAttribute('width', '' + this.get('width')),
                  t.setAttribute('height', '' + this.get('height')),
                  this.set('context', e),
                  t
                );
              }),
              (e.prototype.onCanvasChange = function (t) {
                var e = this.get('context'),
                  n = this.get('el');
                if ('sort' === t) {
                  var r = this.get('children');
                  r &&
                    r.length &&
                    Wt(this, function (t, e) {
                      return r.indexOf(t) - r.indexOf(e) ? 1 : 0;
                    });
                } else if ('clear' === t) {
                  if (n) {
                    n.innerHTML = '';
                    var i = e.el;
                    (i.innerHTML = ''), n.appendChild(i);
                  }
                } else
                  'matrix' === t
                    ? Yt(this)
                    : 'clip' === t
                    ? Xt(this, e)
                    : 'changeSize' === t &&
                      (n.setAttribute('width', '' + this.get('width')),
                      n.setAttribute('height', '' + this.get('height')));
              }),
              (e.prototype.draw = function () {
                var t = this.get('context'),
                  e = this.getChildren();
                Xt(this, t), e.length && Ht(t, e);
              }),
              e
            );
          })(d.AbstractCanvas);
          const Ve = Ue;
          var We = n(6767),
            Ye = n.n(We),
            Xe = n(7621),
            He = n.n(Xe),
            qe = [
              { index: 7, opacity: 0.15 },
              { index: 6, opacity: 0.25 },
              { index: 5, opacity: 0.3 },
              { index: 5, opacity: 0.45 },
              { index: 5, opacity: 0.65 },
              { index: 5, opacity: 0.85 },
              { index: 4, opacity: 0.9 },
              { index: 3, opacity: 0.95 },
              { index: 2, opacity: 0.97 },
              { index: 1, opacity: 0.98 },
            ];
          function Ke(t, e, n) {
            var r;
            return (
              (r =
                Math.round(t.h) >= 60 && Math.round(t.h) <= 240
                  ? n
                    ? Math.round(t.h) - 2 * e
                    : Math.round(t.h) + 2 * e
                  : n
                  ? Math.round(t.h) + 2 * e
                  : Math.round(t.h) - 2 * e) < 0
                ? (r += 360)
                : r >= 360 && (r -= 360),
              r
            );
          }
          function Ze(t, e, n) {
            return 0 === t.h && 0 === t.s
              ? t.s
              : ((r = n ? t.s - 0.16 * e : 4 === e ? t.s + 0.16 : t.s + 0.05 * e) > 1 && (r = 1),
                n && 5 === e && r > 0.1 && (r = 0.1),
                r < 0.06 && (r = 0.06),
                Number(r.toFixed(2)));
            var r;
          }
          function $e(t, e, n) {
            var r;
            return (r = n ? t.v + 0.05 * e : t.v - 0.15 * e) > 1 && (r = 1), Number(r.toFixed(2));
          }
          function Qe(t) {
            for (
              var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},
                n = [],
                r = He()(t),
                i = 5;
              i > 0;
              i -= 1
            ) {
              var o = r.toHsv(),
                a = He()({ h: Ke(o, i, !0), s: Ze(o, i, !0), v: $e(o, i, !0) }).toHexString();
              n.push(a);
            }
            n.push(r.toHexString());
            for (var s = 1; s <= 4; s += 1) {
              var u = r.toHsv(),
                c = He()({ h: Ke(u, s), s: Ze(u, s), v: $e(u, s) }).toHexString();
              n.push(c);
            }
            return 'dark' === e.theme
              ? qe.map(function (t) {
                  var r = t.index,
                    i = t.opacity;
                  return He()
                    .mix(e.backgroundColor || '#141414', n[r], 100 * i)
                    .toHexString();
                })
              : n;
          }
          var Je = {
              red: '#F5222D',
              volcano: '#FA541C',
              orange: '#FA8C16',
              gold: '#FAAD14',
              yellow: '#FADB14',
              lime: '#A0D911',
              green: '#52C41A',
              cyan: '#13C2C2',
              blue: '#1890FF',
              geekblue: '#2F54EB',
              purple: '#722ED1',
              magenta: '#EB2F96',
              grey: '#666666',
            },
            tn = {},
            en = {};
          Object.keys(Je).forEach(function (t) {
            (tn[t] = Qe(Je[t])),
              (tn[t].primary = tn[t][5]),
              (en[t] = Qe(Je[t], { theme: 'dark', backgroundColor: '#141414' })),
              (en[t].primary = en[t][5]);
          }),
            tn.red,
            tn.volcano,
            tn.gold,
            tn.orange,
            tn.yellow,
            tn.lime,
            tn.green,
            tn.cyan,
            tn.blue,
            tn.geekblue,
            tn.purple,
            tn.magenta,
            tn.grey;
          var nn = function (t, e, n) {
              var r = Ye()(t),
                i = Ye()(e);
              return Ye()([
                (1 - n) * r.red() + n * i.red(),
                (1 - n) * r.green() + n * i.green(),
                (1 - n) * r.blue() + n * i.blue(),
              ]).rgb();
            },
            rn = function (t, e, n, r) {
              return (
                void 0 === e && (e = '#fff'),
                void 0 === n && (n = 'default'),
                void 0 === r && (r = 'rgb(150, 150, 150)'),
                'default' === n
                  ? (function (t, e, n) {
                      void 0 === e && (e = '#fff'), void 0 === n && (n = 'rgb(150, 150, 150)');
                      var r = nn(e, t, 0.05).rgb().toString(),
                        i = nn(e, t, 0.1).rgb().toString(),
                        o = nn(e, t, 0.2).rgb().toString(),
                        a = nn(e, t, 0.4).rgb().toString(),
                        s = nn(e, n, 0.02).rgb().toString(),
                        u = nn(e, n, 0.05).rgb().toString(),
                        c = nn(e, n, 0.1).rgb().toString(),
                        l = nn(e, n, 0.2).rgb().toString(),
                        h = nn(e, n, 0.3).rgb().toString(),
                        f = Qe(t, { theme: 'default', backgroundColor: e }),
                        d = Ye()(t).hex().toLowerCase(),
                        p = f.indexOf(d),
                        g = t;
                      return (
                        -1 !== p && (g = f[p + 1]),
                        {
                          mainStroke: t,
                          mainFill: i,
                          activeStroke: t,
                          activeFill: r,
                          inactiveStroke: a,
                          inactiveFill: r,
                          selectedStroke: t,
                          selectedFill: e,
                          highlightStroke: g,
                          highlightFill: o,
                          disableStroke: h,
                          disableFill: u,
                          edgeMainStroke: h,
                          edgeActiveStroke: t,
                          edgeInactiveStroke: l,
                          edgeSelectedStroke: t,
                          edgeHighlightStroke: t,
                          edgeDisableStroke: c,
                          comboMainStroke: h,
                          comboMainFill: s,
                          comboActiveStroke: t,
                          comboActiveFill: r,
                          comboInactiveStroke: h,
                          comboInactiveFill: s,
                          comboSelectedStroke: t,
                          comboSelectedFill: s,
                          comboHighlightStroke: g,
                          comboHighlightFill: s,
                          comboDisableStroke: l,
                          comboDisableFill: u,
                        }
                      );
                    })(t, e, 'rgb(150, 150, 150)')
                  : (function (t, e, n) {
                      void 0 === e && (e = '#fff'), void 0 === n && (n = '#777');
                      var r = nn(e, t, 0.2).rgb().toString(),
                        i = nn(e, t, 0.3).rgb().toString(),
                        o = nn(e, t, 0.6).rgb().toString(),
                        a = nn(e, t, 0.8).rgb().toString(),
                        s = nn(e, n, 0.2).rgb().toString(),
                        u = nn(e, n, 0.25).rgb().toString(),
                        c = nn(e, n, 0.3).rgb().toString(),
                        l = nn(e, n, 0.4).rgb().toString(),
                        h = nn(e, n, 0.5).rgb().toString(),
                        f = Qe(t, { theme: 'dark', backgroundColor: e }),
                        d = Ye()(t).hex().toLowerCase(),
                        p = f.indexOf(d),
                        g = t;
                      return (
                        -1 !== p && (g = f[p + 1]),
                        {
                          mainStroke: a,
                          mainFill: r,
                          activeStroke: t,
                          activeFill: i,
                          inactiveStroke: a,
                          inactiveFill: r,
                          selectedStroke: t,
                          selectedFill: r,
                          highlightStroke: t,
                          highlightFill: o,
                          disableStroke: h,
                          disableFill: u,
                          edgeMainStroke: n,
                          edgeActiveStroke: t,
                          edgeInactiveStroke: n,
                          edgeSelectedStroke: t,
                          edgeHighlightStroke: t,
                          edgeDisableStroke: c,
                          comboMainStroke: l,
                          comboMainFill: u,
                          comboActiveStroke: t,
                          comboActiveFill: s,
                          comboInactiveStroke: l,
                          comboInactiveFill: u,
                          comboSelectedStroke: t,
                          comboSelectedFill: s,
                          comboHighlightStroke: g,
                          comboHighlightFill: u,
                          comboDisableStroke: l,
                          comboDisableFill: s,
                        }
                      );
                    })(t, e, '#777')
              );
            },
            on = function (t, e, n, r) {
              void 0 === e && (e = '#fff'),
                void 0 === n && (n = 'default'),
                void 0 === r && (r = 'rgb(150, 150, 150)');
              var i = [];
              return (
                t.forEach(function (t) {
                  i.push(rn(t, e, n, r));
                }),
                i
              );
            },
            an = 'rgb(0, 0, 0)',
            sn = rn('rgb(95, 149, 255)', 'rgb(255, 255, 255)');
          const un = {
            version: '0.6.4',
            rootContainerClassName: 'root-container',
            nodeContainerClassName: 'node-container',
            edgeContainerClassName: 'edge-container',
            comboContainerClassName: 'combo-container',
            delegateContainerClassName: 'delegate-container',
            defaultLoopPosition: 'top',
            nodeLabel: {
              style: { fill: '#000', fontSize: 12, textAlign: 'center', textBaseline: 'middle' },
              offset: 4,
            },
            defaultNode: {
              type: 'circle',
              style: { lineWidth: 1, stroke: sn.mainStroke, fill: sn.mainFill },
              size: 20,
              color: sn.mainStroke,
              linkPoints: { size: 8, lineWidth: 1, fill: sn.activeFill, stroke: sn.activeStroke },
            },
            nodeStateStyles: {
              active: {
                fill: sn.activeFill,
                stroke: sn.activeStroke,
                lineWidth: 2,
                shadowColor: sn.mainStroke,
                shadowBlur: 10,
              },
              selected: {
                fill: sn.selectedFill,
                stroke: sn.selectedStroke,
                lineWidth: 4,
                shadowColor: sn.selectedStroke,
                shadowBlur: 10,
                'text-shape': { fontWeight: 500 },
              },
              highlight: {
                fill: sn.highlightFill,
                stroke: sn.highlightStroke,
                lineWidth: 2,
                'text-shape': { fontWeight: 500 },
              },
              inactive: { fill: sn.inactiveFill, stroke: sn.inactiveStroke, lineWidth: 1 },
              disable: { fill: sn.disableFill, stroke: sn.disableStroke, lineWidth: 1 },
            },
            edgeLabel: {
              style: { fill: an, textAlign: 'center', textBaseline: 'middle', fontSize: 12 },
            },
            defaultEdge: {
              type: 'line',
              size: 1,
              style: { stroke: sn.edgeMainStroke, lineAppendWidth: 2 },
              color: sn.edgeMainStroke,
            },
            edgeStateStyles: {
              active: { stroke: sn.edgeActiveStroke, lineWidth: 1 },
              selected: {
                stroke: sn.edgeSelectedStroke,
                lineWidth: 2,
                shadowColor: sn.edgeSelectedStroke,
                shadowBlur: 10,
                'text-shape': { fontWeight: 500 },
              },
              highlight: {
                stroke: sn.edgeHighlightStroke,
                lineWidth: 2,
                'text-shape': { fontWeight: 500 },
              },
              inactive: { stroke: sn.edgeInactiveStroke, lineWidth: 1 },
              disable: { stroke: sn.edgeDisableStroke, lineWidth: 1 },
            },
            comboLabel: {
              style: { fill: an, textBaseline: 'middle', fontSize: 12 },
              refY: 10,
              refX: 10,
            },
            defaultCombo: {
              type: 'circle',
              style: {
                fill: sn.comboMainFill,
                lineWidth: 1,
                stroke: sn.comboMainStroke,
                r: 5,
                width: 20,
                height: 10,
              },
              size: [20, 5],
              color: sn.comboMainStroke,
              padding: [25, 20, 15, 20],
            },
            comboStateStyles: {
              active: { stroke: sn.comboActiveStroke, lineWidth: 1, fill: sn.comboActiveFill },
              selected: {
                stroke: sn.comboSelectedStroke,
                lineWidth: 2,
                fill: sn.comboSelectedFill,
                shadowColor: sn.comboSelectedStroke,
                shadowBlur: 10,
                'text-shape': { fontWeight: 500 },
              },
              highlight: {
                stroke: sn.comboHighlightStroke,
                lineWidth: 2,
                fill: sn.comboHighlightFill,
                'text-shape': { fontWeight: 500 },
              },
              inactive: {
                stroke: sn.comboInactiveStroke,
                fill: sn.comboInactiveFill,
                lineWidth: 1,
              },
              disable: { stroke: sn.comboDisableStroke, fill: sn.comboDisableFill, lineWidth: 1 },
            },
            delegateStyle: {
              fill: '#F3F9FF',
              fillOpacity: 0.5,
              stroke: '#1890FF',
              strokeOpacity: 0.9,
              lineDash: [5, 5],
            },
            textWaterMarkerConfig: {
              width: 150,
              height: 100,
              compatible: !1,
              text: {
                x: 0,
                y: 60,
                lineHeight: 20,
                rotate: 20,
                fontSize: 14,
                fontFamily: 'Microsoft YaHei',
                fill: 'rgba(0, 0, 0, 0.1)',
                baseline: 'Middle',
              },
            },
            imageWaterMarkerConfig: {
              width: 150,
              height: 130,
              compatible: !1,
              image: { x: 0, y: 0, width: 30, height: 20, rotate: 0 },
            },
            waterMarkerImage:
              'https://gw.alipayobjects.com/os/s/prod/antv/assets/image/logo-with-text-73b8a.svg',
          };
          function cn(t, e, n) {
            if (t) {
              if ('function' == typeof t.addEventListener)
                return (
                  t.addEventListener(e, n, !1),
                  {
                    remove: function () {
                      t.removeEventListener(e, n, !1);
                    },
                  }
                );
              if ('function' == typeof t.attachEvent)
                return (
                  t.attachEvent('on' + e, n),
                  {
                    remove: function () {
                      t.detachEvent('on' + e, n);
                    },
                  }
                );
            }
          }
          var ln = l.Util.cloneEvent,
            hn = l.Util.isViewportChanged,
            fn = (function (t) {
              function e(e) {
                var n = t.call(this, e) || this;
                return (
                  (n.extendEvents = []),
                  (n.dragging = !1),
                  (n.preItem = null),
                  (n.graph = e),
                  (n.destroyed = !1),
                  n.initEvents(),
                  n
                );
              }
              return (
                (0, c.__extends)(e, t),
                (e.prototype.initEvents = function () {
                  var t = this.graph,
                    e = this.extendEvents,
                    n = void 0 === e ? [] : e,
                    r = t.get('canvas'),
                    i = r.get('el'),
                    o = (0, p.wrapBehavior)(this, 'onCanvasEvents'),
                    a = (0, p.wrapBehavior)(this, 'onExtendEvents'),
                    s = (0, p.wrapBehavior)(this, 'onWheelEvent');
                  r.off('*').on('*', o),
                    (this.canvasHandler = o),
                    n.push(cn(i, 'DOMMouseScroll', s)),
                    n.push(cn(i, 'mousewheel', s)),
                    'undefined' != typeof window &&
                      (n.push(cn(window, 'keydown', a)),
                      n.push(cn(window, 'keyup', a)),
                      n.push(cn(window, 'focus', a)));
                }),
                (e.getItemRoot = function (t) {
                  for (; t && !t.get('item'); ) t = t.get('parent');
                  return t;
                }),
                (e.prototype.onCanvasEvents = function (t) {
                  var n = this.graph,
                    r = n.get('canvas'),
                    i = t.target,
                    o = t.type;
                  (t.canvasX = t.x), (t.canvasY = t.y);
                  var a = { x: t.canvasX, y: t.canvasY },
                    s = n.get('group').getMatrix();
                  if (
                    (s || (s = [1, 0, 0, 0, 1, 0, 0, 0, 1]),
                    hn(s) && (a = n.getPointByClient(t.clientX, t.clientY)),
                    (t.x = a.x),
                    (t.y = a.y),
                    (t.currentTarget = n),
                    i === r)
                  )
                    return (
                      ('mousemove' !== o && 'mouseleave' !== o) ||
                        this.handleMouseMove(t, 'canvas'),
                      (t.target = r),
                      (t.item = null),
                      n.emit(o, t),
                      void n.emit('canvas:'.concat(o), t)
                    );
                  var u = e.getItemRoot(i);
                  if (u) {
                    var c = u.get('item');
                    if (!c.destroyed) {
                      var l = c.getType();
                      if (((t.target = i), (t.item = c), t.canvasX === t.x && t.canvasY === t.y)) {
                        var h = n.getCanvasByPoint(t.x, t.y);
                        (t.canvasX = h.x), (t.canvasY = h.y);
                      }
                      n.emit(o, t),
                        t.name && !t.name.includes(':')
                          ? n.emit(''.concat(l, ':').concat(o), t)
                          : n.emit(t.name, t),
                        'dragstart' === o && (this.dragging = !0),
                        'dragend' === o && (this.dragging = !1),
                        'mousemove' === o && this.handleMouseMove(t, l);
                    }
                  } else n.emit(o, t);
                }),
                (e.prototype.onExtendEvents = function (t) {
                  this.graph.emit(t.type, t);
                }),
                (e.prototype.onWheelEvent = function (t) {
                  (0, p.isNil)(t.wheelDelta) && (t.wheelDelta = -t.detail),
                    this.graph.emit('wheel', t);
                }),
                (e.prototype.handleMouseMove = function (t, e) {
                  var n = this.graph,
                    r = this.preItem,
                    i = n.get('canvas'),
                    o = t.target === i ? null : t.item;
                  (t = ln(t)),
                    r &&
                      r !== o &&
                      !r.destroyed &&
                      ((t.item = r),
                      this.emitCustomEvent(r.getType(), 'mouseleave', t),
                      this.dragging && this.emitCustomEvent(r.getType(), 'dragleave', t)),
                    o &&
                      r !== o &&
                      ((t.item = o),
                      this.emitCustomEvent(e, 'mouseenter', t),
                      this.dragging && this.emitCustomEvent(e, 'dragenter', t)),
                    (this.preItem = o);
                }),
                (e.prototype.emitCustomEvent = function (t, e, n) {
                  (n.type = e), this.graph.emit(''.concat(t, ':').concat(e), n);
                }),
                (e.prototype.destroy = function () {
                  var t = this,
                    e = t.graph,
                    n = t.canvasHandler,
                    r = t.extendEvents;
                  e.get('canvas').off('*', n),
                    (0, p.each)(r, function (t) {
                      t.remove();
                    }),
                    (this.dragging = !1),
                    (this.preItem = null),
                    (this.extendEvents.length = 0),
                    (this.canvasHandler = null),
                    (this.destroyed = !0);
                }),
                e
              );
            })(l.AbstractEvent);
          const dn = fn;
          var pn = n(3360),
            gn = n(1746),
            vn = n.n(gn),
            yn = l.Util.traverseTree,
            mn = function (t, e) {
              return t
                ? (0, p.isNumber)(t)
                  ? function (e) {
                      return t;
                    }
                  : t
                : function (t) {
                    return e || 1;
                  };
            },
            bn = function (t, e) {
              var n = [],
                r = [],
                i = {},
                o = 0;
              for (o = 0; o < t.length; o++) {
                var a = t[o];
                (i[a.id] = o), n.push(a.x), n.push(a.y), n.push(0), n.push(0), r.push([]);
              }
              for (o = 0; o < e.length; o++) {
                var s = e[o];
                r[i[s.source]].push(i[s.target]), r[i[s.target]].push(i[s.source]);
              }
              var u = 0;
              for (o = 0; o < t.length; o++) {
                var c = n.length,
                  l = r[o],
                  h = l.length;
                (n[4 * o + 2] = c), (n[4 * o + 3] = l.length), (u = Math.max(u, l.length));
                for (var f = 0; f < h; ++f) {
                  var d = l[f];
                  n.push(+d);
                }
              }
              for (; n.length % 4 != 0; ) n.push(0);
              return { array: new Float32Array(n), maxEdgePerVetex: u };
            },
            xn = function (t, e, n) {
              var r = [],
                i = [],
                o = {},
                a = 0;
              for (a = 0; a < t.length; a++) {
                var s = t[a];
                (o[s.id] = a), r.push(s.x), r.push(s.y), r.push(0), r.push(0), i.push([]);
              }
              for (a = 0; a < e.length; a++) {
                var u = e[a];
                i[o[u.source]].push(o[u.target]),
                  i[o[u.source]].push(n(u)),
                  i[o[u.target]].push(o[u.source]),
                  i[o[u.target]].push(n(u));
              }
              var c = 0;
              for (a = 0; a < t.length; a++) {
                var l = r.length,
                  h = i[a],
                  f = h.length;
                (r[4 * a + 2] = l), (r[4 * a + 3] = f / 2), (c = Math.max(c, f / 2));
                for (var d = 0; d < f; ++d) {
                  var p = h[d];
                  r.push(+p);
                }
              }
              for (; r.length % 4 != 0; ) r.push(0);
              return { array: new Float32Array(r), maxEdgePerVetex: c };
            },
            _n = function (t, e, n, r) {
              var i = [],
                o = [],
                a = {},
                s = 0;
              for (s = 0; s < t.length; s++) {
                var u = t[s];
                (a[u.id] = s), i.push(u.x), i.push(u.y), i.push(0), i.push(0), o.push([]);
              }
              for (s = 0; s < e.length; s++) {
                var c = e[s];
                o[a[c.source]].push(a[c.target]),
                  o[a[c.source]].push(n(c)),
                  o[a[c.source]].push(r(c)),
                  o[a[c.source]].push(0),
                  o[a[c.target]].push(a[c.source]),
                  o[a[c.target]].push(n(c)),
                  o[a[c.target]].push(r(c)),
                  o[a[c.target]].push(0);
              }
              var l = 0;
              for (s = 0; s < t.length; s++) {
                var h = i.length,
                  f = o[s],
                  d = f.length;
                (i[4 * s + 2] = h + (1048576 * d) / 4),
                  (i[4 * s + 3] = 0),
                  (l = Math.max(l, d / 4));
                for (var p = 0; p < d; ++p) {
                  var g = f[p];
                  i.push(+g);
                }
              }
              for (; i.length % 4 != 0; ) i.push(0);
              return { array: new Float32Array(i), maxEdgePerVetex: l };
            },
            wn = function (t, e) {
              var n = [],
                r = t.length,
                i = {};
              return (
                e.forEach(function (e) {
                  t.forEach(function (t, o) {
                    if (
                      (void 0 === i[e[t]] && (i[e[t]] = Object.keys(i).length),
                      n.push(i[e[t]]),
                      o === r - 1)
                    )
                      for (; n.length % 4 != 0; ) n.push(0);
                  });
                }),
                { array: new Float32Array(n), count: Object.keys(i).length }
              );
            },
            En = function (t) {
              for (
                var e = [],
                  n = t.length,
                  r = t[0].length,
                  i = function (r) {
                    t.forEach(function (t, i) {
                      if ((e.push(t[r]), i === n - 1)) for (; e.length % 4 != 0; ) e.push(0);
                    });
                  },
                  o = 0;
                o < r;
                o++
              )
                i(o);
              return new Float32Array(e);
            },
            Sn = function (t, e) {
              var n = { x: 1 / 0, y: 1 / 0 },
                r = { x: -1 / 0, y: -1 / 0 },
                i = 'x',
                o = 'y';
              e && ['V', 'TB', 'BT'].indexOf(e) >= 0 && ((o = 'x'), (i = 'y'));
              var a = 0;
              yn(t, function (t) {
                return (
                  a++,
                  t.x > r.x && (r.x = t.x),
                  t.x < n.x && (n.x = t.x),
                  t.y > r.y && (r.y = t.y),
                  t.y < n.y && (n.y = t.y),
                  !0
                );
              });
              var s = (2 * Math.PI) / a,
                u = r[o] - n[o];
              return (
                0 === u ||
                  yn(t, function (e) {
                    var r = ((e[o] - n[o]) / u) * (2 * Math.PI - s) + s,
                      a = Math.abs('x' === i ? e.x - t.x : e.y - t.y);
                    return (e.x = a * Math.cos(r)), (e.y = a * Math.sin(r)), !0;
                  }),
                t
              );
            },
            Mn = function t() {
              return 'undefined' == typeof window || 'undefined' == typeof document
                ? {}
                : {
                    canvas: !!window.CanvasRenderingContext2D,
                    webgl: (function () {
                      try {
                        var t = document.createElement('canvas');
                        return !(
                          !window.WebGLRenderingContext ||
                          (!t.getContext('webgl') && !t.getContext('experimental-webgl'))
                        );
                      } catch (t) {
                        return !1;
                      }
                    })(),
                    workers: !!window.Worker,
                    fileapi: window.File && window.FileReader && window.FileList && window.Blob,
                    getWebGLErrorMessage: function () {
                      var t = document.createElement('div');
                      return (
                        (t.id = 'webgl-error-message'),
                        (t.style.fontFamily = 'monospace'),
                        (t.style.fontSize = '13px'),
                        (t.style.fontWeight = 'normal'),
                        (t.style.textAlign = 'center'),
                        (t.style.background = '#fff'),
                        (t.style.color = '#000'),
                        (t.style.padding = '1.5em'),
                        (t.style.width = '400px'),
                        (t.style.margin = '5em auto 0'),
                        this.webgl ||
                          (t.innerHTML = window.WebGLRenderingContext
                            ? [
                                'Your graphics card does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" rel="external nofollow" rel="external nofollow" style="color:#000">WebGL</a>.<br />',
                                'Find out how to get it <a href="http://get.webgl.org/" rel="external nofollow" rel="external nofollow" style="color:#000">here</a>.',
                              ].join('\n')
                            : [
                                'Your browser does not seem to support <a href="http://khronos.org/webgl/wiki/Getting_a_WebGL_Implementation" rel="external nofollow" rel="external nofollow" style="color:#000">WebGL</a>.<br/>',
                                'Find out how to get it <a href="http://get.webgl.org/" rel="external nofollow" rel="external nofollow" style="color:#000">here</a>.',
                              ].join('\n')),
                        t
                      );
                    },
                    addGetWebGLMessage: function (e) {
                      var n = void 0 !== (e = e || {}).parent ? e.parent : document.body,
                        r = void 0 !== e.id ? e.id : 'oldie',
                        i = t().getWebGLErrorMessage();
                      (i.id = r), n.appendChild(i);
                    },
                  };
            };
          const kn = (0, c.__assign)(
            (0, c.__assign)((0, c.__assign)((0, c.__assign)({}, l.Util), o), a),
            s,
          );
          var An = kn.radialLayout;
          const Cn = (function () {
            function t(t) {
              (this.type = t.type), (this.radial = t.radial), (this.config = t);
            }
            return (
              (t.prototype.init = function (t) {
                var e = this;
                (this.data = t),
                  this.radial
                    ? (this.layoutMethod = function (t) {
                        var n = vn()[e.type](t, e.config);
                        return An(n), n;
                      })
                    : (this.layoutMethod = function (t) {
                        return vn()[e.type](t, e.config);
                      });
              }),
              (t.prototype.execute = function () {
                return this.layoutMethod(this.data, this.config);
              }),
              (t.prototype.layout = function (t) {
                return this.init(t), this.execute();
              }),
              t
            );
          })();
          (0, pn.registerLayout)('grid', pn.GridLayout),
            (0, pn.registerLayout)('random', pn.RandomLayout),
            (0, pn.registerLayout)('force', pn.ForceLayout),
            (0, pn.registerLayout)('circular', pn.CircularLayout),
            (0, pn.registerLayout)('dagre', pn.DagreLayout),
            (0, pn.registerLayout)('dagreCompound', pn.DagreCompoundLayout),
            (0, pn.registerLayout)('radial', pn.RadialLayout),
            (0, pn.registerLayout)('concentric', pn.ConcentricLayout),
            (0, pn.registerLayout)('mds', pn.MDSLayout),
            (0, pn.registerLayout)('fruchterman', pn.FruchtermanLayout),
            (0, pn.registerLayout)('fruchterman-gpu', pn.FruchtermanGPULayout),
            (0, pn.registerLayout)('gForce', pn.GForceLayout),
            (0, pn.registerLayout)('gForce-gpu', pn.GForceGPULayout),
            (0, pn.registerLayout)('comboForce', pn.ComboForceLayout),
            (0, pn.registerLayout)('comboCombined', pn.ComboCombinedLayout),
            (0, pn.registerLayout)('forceAtlas2', pn.ForceAtlas2Layout);
          var In = function (t, e) {
            (e.isCustomLayout = !0), (pn.Layouts[t] = (0, pn.registerLayout)(t, e));
          };
          const Tn = function (t, e) {
            var n = t.toString(),
              r = new Blob(["importScripts('".concat(e, "');(").concat(n, ')()')], {
                type: 'text/javascript',
              });
            return new Worker(URL.createObjectURL(r));
          };
          function Nn(t) {
            return (
              (Nn =
                'function' == typeof Symbol && 'symbol' == typeof Symbol.iterator
                  ? function (t) {
                      return typeof t;
                    }
                  : function (t) {
                      return t &&
                        'function' == typeof Symbol &&
                        t.constructor === Symbol &&
                        t !== Symbol.prototype
                        ? 'symbol'
                        : typeof t;
                    }),
              Nn(t)
            );
          }
          var Pn = function (t) {
              return setTimeout(t, 16);
            },
            On = function (t) {
              return clearTimeout(t);
            },
            Dn = function (t) {
              return (
                ('undefined' != typeof window &&
                  (window.requestAnimationFrame || window.webkitRequestAnimationFrame)) ||
                Pn
              )(t);
            },
            Ln = function (t) {
              return (
                ('undefined' != typeof window &&
                  (window.cancelAnimationFrame || window.webkitCancelAnimationFrame)) ||
                On
              )(t);
            },
            Rn = ['fruchterman', 'gForce'],
            Bn = ['force', 'grid', 'circular'],
            jn = (function (t) {
              function e(e) {
                var n = t.call(this, e) || this;
                return (
                  (n.graph = e),
                  (n.layoutCfg = e.get('layout') || {}),
                  (n.layoutType = n.getLayoutType()),
                  (n.worker = null),
                  (n.workerData = {}),
                  n.initLayout(),
                  n
                );
              }
              return (
                (0, c.__extends)(e, t),
                (e.prototype.initLayout = function () {}),
                (e.prototype.getWorker = function () {
                  return (
                    this.worker ||
                      ('undefined' == typeof Worker
                        ? (console.warn('Web worker is not supported in current browser.'),
                          (this.worker = null))
                        : (this.worker =
                            (void 0 === (t = this.layoutCfg.workerScriptURL) &&
                              (t = 'https://unpkg.com/@antv/layout@latest/dist/layout.min.js'),
                            new Tn(function () {
                              var t = 'LAYOUT_RUN',
                                e = 'LAYOUT_ERROR',
                                n = 'GPU_LAYOUT_RUN';
                              layout.registerLayout('grid', layout.GridLayout),
                                layout.registerLayout('random', layout.RandomLayout),
                                layout.registerLayout('force', layout.ForceLayout),
                                layout.registerLayout('circular', layout.CircularLayout),
                                layout.registerLayout('dagre', layout.DagreLayout),
                                layout.registerLayout('dagreCompound', layout.DagreCompoundLayout),
                                layout.registerLayout('radial', layout.RadialLayout),
                                layout.registerLayout('concentric', layout.ConcentricLayout),
                                layout.registerLayout('mds', layout.MDSLayout),
                                layout.registerLayout('fruchterman', layout.FruchtermanLayout),
                                layout.registerLayout(
                                  'fruchterman-gpu',
                                  layout.FruchtermanGPULayout,
                                ),
                                layout.registerLayout('gForce', layout.GForceLayout),
                                layout.registerLayout('gForce-gpu', layout.GForceGPULayout),
                                layout.registerLayout('comboForce', layout.ComboForceLayout),
                                layout.registerLayout('comboCombined', layout.ComboCombinedLayout),
                                layout.registerLayout('forceAtlas2', layout.ForceAtlas2Layout),
                                (onmessage = function (r) {
                                  (function (e) {
                                    var r = e.data.type;
                                    return r === t || r === n;
                                  })(r) &&
                                    (function (r) {
                                      var i = this;
                                      switch (r.data.type) {
                                        case t:
                                          var o,
                                            a = r.data,
                                            s = a.nodes,
                                            u = a.edges,
                                            c = a.layoutCfg,
                                            l = (g = void 0 === c ? {} : c).type;
                                          if (!(h = layout.getLayoutByName(l))) {
                                            this.postMessage({
                                              type: e,
                                              message: 'layout '.concat(l, ' not found'),
                                            });
                                            break;
                                          }
                                          (g.onLayoutEnd = function () {
                                            i.postMessage({ type: 'LAYOUT_END', nodes: s }),
                                              null == o || o.destroy();
                                          }),
                                            (o = new h(g)).init({ nodes: s, edges: u }),
                                            o.execute();
                                          break;
                                        case n:
                                          var h,
                                            f = r.data,
                                            d = f.nodes,
                                            p = ((u = f.edges), f.layoutCfg),
                                            g = void 0 === p ? {} : p,
                                            v = f.canvas;
                                          if (((l = g.type), !(h = layout.getLayoutByName(l)))) {
                                            this.postMessage({
                                              type: e,
                                              message: 'layout '.concat(l, ' not found'),
                                            });
                                            break;
                                          }
                                          if ('gpu' !== l.split('-')[1]) {
                                            this.postMessage({
                                              type: e,
                                              message: 'layout '.concat(l, ' does not support GPU'),
                                            });
                                            break;
                                          }
                                          var y = new h(g);
                                          y.init({ nodes: d, edges: u }),
                                            y.executeWithWorker(v, this);
                                      }
                                    })(r);
                                });
                            }, t)))),
                    this.worker
                  );
                  var t;
                }),
                (e.prototype.stopWorker = function () {
                  var t = this.workerData;
                  this.worker &&
                    (this.worker.terminate(),
                    (this.worker = null),
                    t.requestId && (Ln(t.requestId), (t.requestId = null)),
                    t.requestId2 && (Ln(t.requestId2), (t.requestId2 = null)));
                }),
                (e.prototype.execLayoutMethod = function (t, e) {
                  var n = this;
                  return new Promise(function (r, i) {
                    return (0, c.__awaiter)(n, void 0, void 0, function () {
                      var n, o, a, s, u, l, h;
                      return (0, c.__generator)(this, function (c) {
                        switch (c.label) {
                          case 0:
                            if (!(n = this.graph) || n.get('destroyed')) return [2];
                            (o = t.type),
                              (t.onLayoutEnd = function () {
                                n.emit('aftersublayout', { type: o }), r();
                              }),
                              o &&
                                this.isGPU &&
                                (this.hasGPUVersion(o)
                                  ? (o = ''.concat(o, '-gpu'))
                                  : console.warn(
                                      "The '".concat(
                                        o,
                                        "' layout does not support GPU calculation for now, it will run in CPU.",
                                      ),
                                    )),
                              'force' === o || 'g6force' === o || 'gForce' === o
                                ? ((a = t.onTick),
                                  (l = function () {
                                    a && a(), n.refreshPositions();
                                  }),
                                  (t.tick = l))
                                : ('comboForce' !== o && 'comboCombined' !== o) ||
                                  (t.comboTrees = n.get('comboTrees'));
                            try {
                              s = new pn.Layouts[o](t);
                            } catch (t) {
                              console.warn(
                                "The layout method: '".concat(
                                  o,
                                  "' does not exist! Please specify it first.",
                                ),
                              ),
                                i();
                            }
                            return (
                              s.enableTick &&
                                ((u = t.onTick),
                                (l = function () {
                                  u && u(), n.refreshPositions();
                                }),
                                (s.tick = l)),
                              (function (t, e) {
                                var n;
                                (null === (n = null == t ? void 0 : t.nodes) || void 0 === n
                                  ? void 0
                                  : n.length) &&
                                  t.nodes.forEach(function (t) {
                                    t.layoutOrder = e;
                                  });
                              })((h = this.filterLayoutData(this.data, t)), e),
                              s.init(h),
                              n.emit('beforesublayout', { type: o }),
                              [4, s.execute()]
                            );
                          case 1:
                            return (
                              c.sent(),
                              s.isCustomLayout && t.onLayoutEnd && t.onLayoutEnd(),
                              (this.layoutMethods[e] = s),
                              [2]
                            );
                        }
                      });
                    });
                  });
                }),
                (e.prototype.updateLayoutMethod = function (t, e) {
                  var n = this;
                  return new Promise(function (r, i) {
                    return (0, c.__awaiter)(n, void 0, void 0, function () {
                      var n, i, o;
                      return (0, c.__generator)(this, function (a) {
                        switch (a.label) {
                          case 0:
                            return (
                              (n = this.graph),
                              (i = null == e ? void 0 : e.type),
                              (e.onLayoutEnd = function () {
                                n.emit('aftersublayout', { type: i }), r();
                              }),
                              (o = this.filterLayoutData(this.data, e)),
                              t.init(o),
                              t.updateCfg(e),
                              n.emit('beforesublayout', { type: i }),
                              [4, t.execute()]
                            );
                          case 1:
                            return (
                              a.sent(), t.isCustomLayout && e.onLayoutEnd && e.onLayoutEnd(), [2]
                            );
                        }
                      });
                    });
                  });
                }),
                (e.prototype.layout = function (t) {
                  var e = this,
                    n = this.graph;
                  this.data = this.setDataFromGraph();
                  var r = this.data,
                    i = r.nodes,
                    o = r.hiddenNodes;
                  if (!i) return !1;
                  var a = n.get('width'),
                    s = n.get('height'),
                    u = {};
                  Object.assign(u, { width: a, height: s, center: [a / 2, s / 2] }, this.layoutCfg),
                    (this.layoutCfg = u),
                    this.destoryLayoutMethods(),
                    n.emit('beforelayout'),
                    this.initPositions(u.center, i),
                    this.initPositions(u.center, o);
                  var l = u.type;
                  l && 'gpu' === l.split('-')[1] && ((l = l.split('-')[0]), (u.gpuEnabled = !0));
                  var h = !1;
                  u.gpuEnabled &&
                    ((h = !0),
                    Mn().webgl ||
                      (console.warn(
                        'Your browser does not support webGL or GPGPU. The layout will run in CPU.',
                      ),
                      (h = !1))),
                    (this.isGPU = h);
                  var f = u.onLayoutEnd,
                    d = u.layoutEndFormatted,
                    p = u.adjust;
                  if (
                    (d ||
                      ((u.layoutEndFormatted = !0),
                      (u.onAllLayoutEnd = function () {
                        return (0, c.__awaiter)(e, void 0, void 0, function () {
                          return (0, c.__generator)(this, function (t) {
                            switch (t.label) {
                              case 0:
                                return (
                                  f && f(),
                                  this.refreshLayout(),
                                  p && u.pipes ? [4, this.adjustPipesBox(this.data, p)] : [3, 2]
                                );
                              case 1:
                                t.sent(), this.refreshLayout(), (t.label = 2);
                              case 2:
                                return n.emit('afterlayout'), [2];
                            }
                          });
                        });
                      })),
                    this.stopWorker(),
                    u.workerEnabled && this.layoutWithWorker(this.data))
                  )
                    return !0;
                  var g = Promise.resolve(),
                    v = !1;
                  return (
                    u.type
                      ? ((v = !0),
                        (g = g.then(function () {
                          return (0, c.__awaiter)(e, void 0, void 0, function () {
                            return (0, c.__generator)(this, function (t) {
                              switch (t.label) {
                                case 0:
                                  return [4, this.execLayoutMethod(u, 0)];
                                case 1:
                                  return [2, t.sent()];
                              }
                            });
                          });
                        })))
                      : u.pipes &&
                        ((v = !0),
                        u.pipes.forEach(function (t, n) {
                          g = g.then(function () {
                            return (0, c.__awaiter)(e, void 0, void 0, function () {
                              return (0, c.__generator)(this, function (e) {
                                switch (e.label) {
                                  case 0:
                                    return [4, this.execLayoutMethod(t, n)];
                                  case 1:
                                    return [2, e.sent()];
                                }
                              });
                            });
                          });
                        })),
                    v &&
                      g
                        .then(function () {
                          u.onAllLayoutEnd && u.onAllLayoutEnd(), t && t();
                        })
                        .catch(function (t) {
                          console.warn('graph layout failed,', t);
                        }),
                    !1
                  );
                }),
                (e.prototype.layoutWithWorker = function (t) {
                  var e = this,
                    n = this.layoutCfg,
                    r = this.graph,
                    i = this.getWorker(),
                    o = this.workerData;
                  if (!i) return !1;
                  (o.requestId = null),
                    (o.requestId2 = null),
                    (o.currentTick = null),
                    (o.currentTickData = null),
                    r.emit('beforelayout');
                  var a = Promise.resolve(),
                    s = !1;
                  if (n.type)
                    (s = !0),
                      (a = a.then(function () {
                        return e.runWebworker(i, t, n);
                      }));
                  else if (n.pipes) {
                    s = !0;
                    for (
                      var u = function (n) {
                          a = a.then(function () {
                            return e.runWebworker(i, t, n);
                          });
                        },
                        c = 0,
                        l = n.pipes;
                      c < l.length;
                      c++
                    )
                      u(l[c]);
                  }
                  return (
                    s &&
                      a
                        .then(function () {
                          n.onAllLayoutEnd && n.onAllLayoutEnd();
                        })
                        .catch(function (t) {
                          console.error('layout failed', t);
                        }),
                    !0
                  );
                }),
                (e.prototype.runWebworker = function (t, e, n) {
                  var r,
                    i,
                    o = this,
                    a = this.isGPU,
                    s = this.filterLayoutData(e, n),
                    u = s.nodes,
                    c = s.edges,
                    l = document.createElement('canvas'),
                    h =
                      a &&
                      'undefined' != typeof window &&
                      window.navigator &&
                      !navigator.gpu &&
                      'OffscreenCanvas' in window &&
                      'transferControlToOffscreen' in l,
                    f =
                      ((i = {}),
                      (r = n) && 'object' === Nn(r)
                        ? (Object.keys(r).forEach(function (t) {
                            r.hasOwnProperty(t) && 'function' != typeof r[t] && (i[t] = r[t]);
                          }),
                          i)
                        : r);
                  if (h) {
                    var d = l.transferControlToOffscreen();
                    (f.type = ''.concat(f.type, '-gpu')),
                      t.postMessage(
                        { type: 'GPU_LAYOUT_RUN', nodes: u, edges: c, layoutCfg: f, canvas: d },
                        [d],
                      );
                  } else t.postMessage({ type: 'LAYOUT_RUN', nodes: u, edges: c, layoutCfg: f });
                  return new Promise(function (e, r) {
                    t.onmessage = function (t) {
                      o.handleWorkerMessage(e, r, t, s, n);
                    };
                  });
                }),
                (e.prototype.handleWorkerMessage = function (t, e, n, r, i) {
                  var o = this.graph,
                    a = this.workerData,
                    s = n.data,
                    u = s.type,
                    c = function () {
                      i.onTick && i.onTick();
                    };
                  switch (u) {
                    case 'LAYOUT_TICK':
                      (a.currentTick = s.currentTick),
                        (a.currentTickData = s),
                        a.requestId ||
                          (a.requestId = Dn(function () {
                            zn(r, s),
                              o.refreshPositions(),
                              c(),
                              s.currentTick === s.totalTicks
                                ? t()
                                : a.currentTick === s.totalTicks &&
                                  (a.requestId2 = Dn(function () {
                                    zn(r, a.currentTickData),
                                      o.refreshPositions(),
                                      (a.requestId2 = null),
                                      c(),
                                      t();
                                  })),
                              (a.requestId = null);
                          }));
                      break;
                    case 'LAYOUT_END':
                      null == a.currentTick && (zn(r, s), t());
                      break;
                    case 'GPU_LAYOUT_END':
                      null == a.currentTick &&
                        ((function (t, e) {
                          for (
                            var n = t.nodes, r = e.vertexEdgeData, i = n.length, o = 0;
                            o < i;
                            o++
                          ) {
                            var a = n[o],
                              s = r[4 * o],
                              u = r[4 * o + 1];
                            (a.x = s), (a.y = u);
                          }
                        })(r, s),
                        t());
                      break;
                    case 'LAYOUT_ERROR':
                      console.warn('Web-Worker layout error!', s.message), e();
                      break;
                    default:
                      e();
                  }
                }),
                (e.prototype.updateLayoutCfg = function (t) {
                  var e = this,
                    n = this.graph,
                    r = this.layoutMethods,
                    i = (0, p.mix)({}, this.layoutCfg, t);
                  if (((this.layoutCfg = i), null == r ? void 0 : r.length)) {
                    if (
                      ((this.data = this.setDataFromGraph()),
                      this.stopWorker(),
                      !t.workerEnabled || !this.layoutWithWorker(this.data))
                    ) {
                      n.emit('beforelayout');
                      var o = Promise.resolve(),
                        a = !1;
                      1 === r.length
                        ? ((a = !0),
                          (o = o.then(function () {
                            return (0, c.__awaiter)(e, void 0, void 0, function () {
                              return (0, c.__generator)(this, function (t) {
                                switch (t.label) {
                                  case 0:
                                    return [4, this.updateLayoutMethod(r[0], i)];
                                  case 1:
                                    return [2, t.sent()];
                                }
                              });
                            });
                          })))
                        : ((a = !0),
                          null == r ||
                            r.forEach(function (t, n) {
                              var r = i.pipes[n];
                              o = o.then(function () {
                                return (0, c.__awaiter)(e, void 0, void 0, function () {
                                  return (0, c.__generator)(this, function (e) {
                                    switch (e.label) {
                                      case 0:
                                        return [4, this.updateLayoutMethod(t, r)];
                                      case 1:
                                        return [2, e.sent()];
                                    }
                                  });
                                });
                              });
                            })),
                        a &&
                          o
                            .then(function () {
                              i.onAllLayoutEnd && i.onAllLayoutEnd();
                            })
                            .catch(function (t) {
                              console.warn('layout failed', t);
                            });
                    }
                  } else this.layout();
                }),
                (e.prototype.adjustPipesBox = function (t, e) {
                  var n = this;
                  return new Promise(function (r) {
                    var i = t.nodes;
                    (null == i ? void 0 : i.length) || r(),
                      Bn.includes(e) ||
                        (console.warn(
                          'The adjust type '.concat(
                            e,
                            " is not supported yet, please assign it with 'force', 'grid', or 'circular'.",
                          ),
                        ),
                        r());
                    var o = {
                        center: n.layoutCfg.center,
                        nodeSize: function (t) {
                          return Math.max(t.height, t.width);
                        },
                        preventOverlap: !0,
                        onLayoutEnd: function () {},
                      },
                      a = n.getLayoutBBox(i),
                      s = a.groupNodes,
                      u = a.layoutNodes,
                      c = (0, p.clone)(u);
                    (o.onLayoutEnd = function () {
                      null == u ||
                        u.forEach(function (t, e) {
                          var n,
                            r,
                            i,
                            o = t.x - (null === (n = c[e]) || void 0 === n ? void 0 : n.x),
                            a = t.y - (null === (r = c[e]) || void 0 === r ? void 0 : r.y);
                          null === (i = s[e]) ||
                            void 0 === i ||
                            i.forEach(function (t) {
                              (t.x += o), (t.y += a);
                            });
                        }),
                        r();
                    }),
                      new pn.Layouts[e](o).layout({ nodes: u });
                  });
                }),
                (e.prototype.hasGPUVersion = function (t) {
                  return Rn.includes(t);
                }),
                (e.prototype.destroy = function () {
                  this.destoryLayoutMethods();
                  var t = this.worker;
                  t && (t.terminate(), (this.worker = null)),
                    (this.destroyed = !0),
                    this.graph.set('layout', void 0),
                    (this.layoutCfg = void 0),
                    (this.layoutType = void 0),
                    (this.layoutMethods = void 0),
                    (this.graph = null);
                }),
                e
              );
            })(l.AbstractLayout);
          const Gn = jn;
          function zn(t, e) {
            for (var n = t.nodes, r = e.nodes, i = n.length, o = 0; o < i; o++) {
              var a = n[o];
              (a.x = r[o].x), (a.y = r[o].y);
            }
          }
          var Fn, Un, Vn, Wn;
          function Yn(t) {
            Fn ||
              ((Fn = document.createElement('table')),
              (Un = document.createElement('tr')),
              (Vn = /^\s*<(\w+|!)[^>]*>/),
              (Wn = {
                tr: document.createElement('tbody'),
                tbody: Fn,
                thead: Fn,
                tfoot: Fn,
                td: Un,
                th: Un,
                '*': document.createElement('div'),
              }));
            var e = Vn.test(t) && RegExp.$1;
            (e && e in Wn) || (e = '*');
            var n = Wn[e];
            (t = t.replace(/(^\s*)|(\s*$)/g, '')), (n.innerHTML = '' + t);
            var r = n.childNodes[0];
            return n.removeChild(r), r;
          }
          var Xn = mt.transform;
          const Hn = (function (t) {
            function e(e) {
              var n = t.call(this, e) || this,
                r = n.get('defaultNode');
              return (
                r || n.set('defaultNode', { type: 'circle' }),
                r.type || ((r.type = 'circle'), n.set('defaultNode', r)),
                (n.destroyed = !1),
                n
              );
            }
            return (
              (0, c.__extends)(e, t),
              (e.prototype.initLayoutController = function () {
                var t = new Gn(this);
                this.set({ layoutController: t });
              }),
              (e.prototype.initEventController = function () {
                var t = new dn(this);
                this.set({ eventController: t });
              }),
              (e.prototype.initCanvas = function () {
                var t = this.get('container');
                if (
                  ('string' == typeof t &&
                    ((t = document.getElementById(t)), this.set('container', t)),
                  !t)
                )
                  throw new Error('invalid container');
                var e,
                  n = t.clientWidth,
                  r = t.clientHeight,
                  i = this.get('width') || n,
                  o = this.get('height') || r;
                if (
                  (this.get('width') ||
                    this.get('height') ||
                    (this.set('width', n), this.set('height', r)),
                  'svg' === this.get('renderer'))
                )
                  e = new Ve({ container: t, width: i, height: o });
                else {
                  var a = { container: t, width: i, height: o },
                    s = this.get('pixelRatio');
                  s && (a.pixelRatio = s), (e = new Gt(a));
                }
                this.set('canvas', e);
              }),
              (e.prototype.initPlugins = function () {
                var t = this;
                (0, p.each)(t.get('plugins'), function (e) {
                  !e.destroyed && e.initPlugin && e.initPlugin(t);
                });
              }),
              (e.prototype.downloadImageWatermark = function (t, e, n, r) {
                return (0, c.__awaiter)(this, void 0, void 0, function () {
                  var i, o, a;
                  return (0, c.__generator)(this, function (s) {
                    switch (s.label) {
                      case 0:
                        return (
                          (i = t.style.backgroundImage),
                          (o = i.slice(5, i.length - 2)),
                          ((a = new Image()).src = o),
                          [
                            4,
                            new Promise(function (t) {
                              a.onload = function () {
                                var i = e.createPattern(a, 'repeat');
                                e.rect(0, 0, n, r), (e.fillStyle = i), e.fill(), t('');
                              };
                            }),
                          ]
                        );
                      case 1:
                        return s.sent(), [2];
                    }
                  });
                });
              }),
              (e.prototype.asyncToDataUrl = function (t, e, n, r, i, o) {
                var a = this,
                  s = document.querySelector('.g6-graph-watermarker'),
                  u = this.get('canvas'),
                  l = u.getRenderer(),
                  h = o || u.get('el'),
                  f = '';
                t || (t = 'image/png'),
                  setTimeout(function () {
                    return (0, c.__awaiter)(a, void 0, void 0, function () {
                      var o, a, u, d, p, g, v, y, m, b;
                      return (0, c.__generator)(this, function (c) {
                        switch (c.label) {
                          case 0:
                            return 'svg' !== l
                              ? [3, 1]
                              : ((o = h.cloneNode(!0)),
                                (a = document.implementation.createDocumentType(
                                  'svg',
                                  '-//W3C//DTD SVG 1.1//EN',
                                  'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd',
                                )),
                                (u = document.implementation.createDocument(
                                  'http://www.w3.org/2000/svg',
                                  'svg',
                                  a,
                                )).replaceChild(o, u.documentElement),
                                (d = new XMLSerializer().serializeToString(u)),
                                (f = 'data:image/svg+xml;charset=utf8,'.concat(
                                  encodeURIComponent(d),
                                )),
                                [3, 4]);
                          case 1:
                            return (
                              (p = void 0),
                              (g = h.getContext('2d')),
                              (v = r || this.get('width')),
                              (y = i || this.get('height')),
                              (m = void 0),
                              s ? [4, this.downloadImageWatermark(s, g, v, y)] : [3, 3]
                            );
                          case 2:
                            c.sent(), (c.label = 3);
                          case 3:
                            if (e) {
                              b = 'undefined' != typeof window ? window.devicePixelRatio : 1;
                              try {
                                (p = g.getImageData(0, 0, v * b, y * b)),
                                  (m = g.globalCompositeOperation),
                                  (g.globalCompositeOperation = 'destination-over'),
                                  (g.fillStyle = e),
                                  g.fillRect(0, 0, v, y);
                              } catch (t) {
                                console.error(
                                  'Download image failed. Out of memory at ImageData creation',
                                );
                              }
                            }
                            (f = h.toDataURL(t)),
                              e &&
                                (g.clearRect(0, 0, v, y),
                                g.putImageData(p, 0, 0),
                                (g.globalCompositeOperation = m)),
                              (c.label = 4);
                          case 4:
                            return n && n(f), [2];
                        }
                      });
                    });
                  }, 16);
              }),
              (e.prototype.toDataURL = function (t, e) {
                var n = this.get('canvas'),
                  r = n.getRenderer(),
                  i = n.get('el');
                t || (t = 'image/png');
                var o = '';
                if ('svg' === r) {
                  var a = i.cloneNode(!0),
                    s = document.implementation.createDocumentType(
                      'svg',
                      '-//W3C//DTD SVG 1.1//EN',
                      'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd',
                    ),
                    u = document.implementation.createDocument(
                      'http://www.w3.org/2000/svg',
                      'svg',
                      s,
                    );
                  u.replaceChild(a, u.documentElement);
                  var c = new XMLSerializer().serializeToString(u);
                  o = 'data:image/svg+xml;charset=utf8,'.concat(encodeURIComponent(c));
                } else {
                  var l = void 0,
                    h = i.getContext('2d'),
                    f = this.get('width'),
                    d = this.get('height'),
                    p = void 0;
                  if (e) {
                    var g = 'undefined' != typeof window ? window.devicePixelRatio : 1;
                    try {
                      (l = h.getImageData(0, 0, f * g, d * g)),
                        (p = h.globalCompositeOperation),
                        (h.globalCompositeOperation = 'destination-over'),
                        (h.fillStyle = e),
                        h.fillRect(0, 0, f, d);
                    } catch (t) {
                      console.error('Download image failed. Out of memory at ImageData creation');
                    }
                  }
                  (o = i.toDataURL(t)),
                    e &&
                      (h.clearRect(0, 0, f, d),
                      h.putImageData(l, 0, 0),
                      (h.globalCompositeOperation = p));
                }
                return o;
              }),
              (e.prototype.toFullDataURL = function (t, e, n) {
                var r = this.get('group').getCanvasBBox(),
                  i = r.height,
                  o = r.width,
                  a = this.get('renderer'),
                  s = Yn('<div id="virtual-image"></div>'),
                  u = n ? n.backgroundColor : void 0,
                  c = n ? n.padding : void 0;
                c ? (0, p.isNumber)(c) && (c = [c, c, c, c]) : (c = [0, 0, 0, 0]);
                var l = i + c[0] + c[2],
                  h = o + c[1] + c[3],
                  f = { container: s, height: l, width: h, quickHit: !0 },
                  d = 'svg' === a ? new Ve(f) : new Gt(f),
                  g = this.get('group').clone(),
                  v = (0, p.clone)(g.getMatrix());
                v || (v = [1, 0, 0, 0, 1, 0, 0, 0, 1]);
                var y = (r.maxX + r.minX) / 2,
                  m = (r.maxY + r.minY) / 2;
                (v = Xn(v, [
                  ['t', -y, -m],
                  ['t', o / 2 + c[3], i / 2 + c[0]],
                ])),
                  g.resetMatrix(),
                  g.setMatrix(v),
                  d.add(g);
                var b = d.get('el'),
                  x = '';
                e || (e = 'image/png'),
                  setTimeout(function () {
                    if ('svg' === a) {
                      var n = b.cloneNode(!0),
                        r = document.implementation.createDocumentType(
                          'svg',
                          '-//W3C//DTD SVG 1.1//EN',
                          'http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd',
                        ),
                        i = document.implementation.createDocument(
                          'http://www.w3.org/2000/svg',
                          'svg',
                          r,
                        );
                      i.replaceChild(n, i.documentElement);
                      var o = new XMLSerializer().serializeToString(i);
                      x = 'data:image/svg+xml;charset=utf8,'.concat(encodeURIComponent(o));
                    } else {
                      var s = void 0,
                        c = b.getContext('2d'),
                        f = void 0;
                      if (u) {
                        var d = 'undefined' != typeof window ? window.devicePixelRatio : 1;
                        try {
                          (s = c.getImageData(0, 0, h * d, l * d)),
                            (f = c.globalCompositeOperation),
                            (c.globalCompositeOperation = 'destination-over'),
                            (c.fillStyle = u),
                            c.fillRect(0, 0, h, l);
                        } catch (t) {
                          console.error(
                            'Download image failed. Out of memory at ImageData creation',
                          );
                        }
                      }
                      (x = b.toDataURL(e)),
                        u &&
                          (c.clearRect(0, 0, h, l),
                          c.putImageData(s, 0, 0),
                          (c.globalCompositeOperation = f));
                    }
                    t && t(x);
                  }, 16);
              }),
              (e.prototype.downloadFullImage = function (t, e, n) {
                var r = this,
                  i = this.get('group').getCanvasBBox(),
                  o = i.height,
                  a = i.width,
                  s = this.get('renderer'),
                  u = Yn('<div id="virtual-image"></div>'),
                  c = document.querySelector('.g6-graph-watermarker'),
                  l = n ? n.backgroundColor : void 0,
                  h = n ? n.padding : void 0;
                h ? (0, p.isNumber)(h) && (h = [h, h, h, h]) : (h = [0, 0, 0, 0]);
                var f = o + h[0] + h[2],
                  d = a + h[1] + h[3];
                if (c) {
                  var g = this.get('graphWaterMarker').cfg || {},
                    v = g.width,
                    y = g.height;
                  (f = Math.ceil(f / y) * y), (d = Math.ceil(d / v) * v);
                }
                var m = { container: u, height: f, width: d },
                  b = 'svg' === s ? new Ve(m) : new Gt(m),
                  x = this.get('group').clone(),
                  _ = (0, p.clone)(x.getMatrix());
                _ || (_ = [1, 0, 0, 0, 1, 0, 0, 0, 1]);
                var w = (i.maxX + i.minX) / 2,
                  E = (i.maxY + i.minY) / 2;
                (_ = Xn(_, [
                  ['t', -w, -E],
                  ['t', a / 2 + h[3], o / 2 + h[0]],
                ])),
                  x.resetMatrix(),
                  x.setMatrix(_),
                  b.add(x);
                var S = b.get('el');
                e || (e = 'image/png'),
                  this.asyncToDataUrl(
                    e,
                    l,
                    function (n) {
                      var i = document.createElement('a'),
                        o = (t || 'graph') + ('svg' === s ? '.svg' : '.'.concat(e.split('/')[1]));
                      r.dataURLToImage(n, s, i, o);
                      var a = document.createEvent('MouseEvents');
                      a.initEvent('click', !1, !1), i.dispatchEvent(a);
                    },
                    d,
                    f,
                    S,
                  );
              }),
              (e.prototype.downloadImage = function (t, e, n) {
                var r = this,
                  i = this;
                i.isAnimating() && i.stopAnimate();
                var o = i.get('canvas').getRenderer();
                e || (e = 'image/png');
                var a = (t || 'graph') + ('svg' === o ? '.svg' : e.split('/')[1]),
                  s = document.createElement('a');
                i.asyncToDataUrl(e, n, function (t) {
                  r.dataURLToImage(t, o, s, a);
                  var e = document.createEvent('MouseEvents');
                  e.initEvent('click', !1, !1), s.dispatchEvent(e);
                });
              }),
              (e.prototype.dataURLToImage = function (t, e, n, r) {
                if (t && 'data:' !== t) {
                  if ('undefined' != typeof window)
                    if (window.Blob && window.URL && 'svg' !== e) {
                      var i = t.split(','),
                        o = '';
                      if (i && i.length > 0) {
                        var a = i[0].match(/:(.*?);/);
                        a && a.length >= 2 && (o = a[1]);
                      }
                      for (var s = atob(i[1]), u = s.length, c = new Uint8Array(u); u--; )
                        c[u] = s.charCodeAt(u);
                      var l = new Blob([c], { type: o });
                      window.navigator.msSaveBlob
                        ? window.navigator.msSaveBlob(l, r)
                        : n.addEventListener('click', function () {
                            (n.download = r), (n.href = window.URL.createObjectURL(l));
                          });
                    } else
                      n.addEventListener('click', function () {
                        (n.download = r), (n.href = t);
                      });
                } else
                  console.error(
                    'Download image failed. The graph is too large or there is invalid attribute values in graph items',
                  );
              }),
              (e.prototype.addPlugin = function (t) {
                t.destroyed || (this.get('plugins').push(t), t.initPlugin(this));
              }),
              (e.prototype.removePlugin = function (t) {
                var e = this.get('plugins'),
                  n = e.indexOf(t);
                n >= 0 && (t.destroyPlugin(), e.splice(n, 1));
              }),
              (e.prototype.setImageWaterMarker = function (t, e) {
                void 0 === t && (t = un.waterMarkerImage);
                var n = this.get('container');
                (0, p.isString)(n) && (n = document.getElementById(n)),
                  n.style.position || (n.style.position = 'relative');
                var r = this.get('graphWaterMarker'),
                  i = (0, p.deepMix)({}, un.imageWaterMarkerConfig, e),
                  o = i.width,
                  a = i.height,
                  s = i.compatible,
                  u = i.image;
                if (!r) {
                  var c = { container: n, width: o, height: a, capture: !1 },
                    l = this.get('pixelRatio');
                  l && (c.pixelRatio = l), (r = new Gt(c)), this.set('graphWaterMarker', r);
                }
                r.get('el').style.display = 'none';
                var h = r.get('context'),
                  f = u.rotate,
                  d = u.x,
                  g = u.y;
                h.rotate((-f * Math.PI) / 180);
                var v = new Image();
                (v.crossOrigin = 'anonymous'),
                  (v.src = t),
                  (v.onload = function () {
                    if ((h.drawImage(v, d, g, u.width, u.height), h.rotate((f * Math.PI) / 180), s))
                      n.style.cssText = 'background-image: url('.concat(
                        r.get('el').toDataURL('image/png'),
                        ');background-repeat:repeat;',
                      );
                    else {
                      var t = document.querySelector('.g6-graph-watermarker');
                      t || ((t = document.createElement('div')).className = 'g6-graph-watermarker'),
                        (t.className = 'g6-graph-watermarker'),
                        r.destroyed ||
                          ((t.style.cssText = 'background-image: url('.concat(
                            r.get('el').toDataURL('image/png'),
                            ');background-repeat:repeat;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;z-index:-1;',
                          )),
                          n.appendChild(t));
                    }
                  });
              }),
              (e.prototype.setTextWaterMarker = function (t, e) {
                var n = this.get('container');
                (0, p.isString)(n) && (n = document.getElementById(n)),
                  n.style.position || (n.style.position = 'relative');
                var r = this.get('graphWaterMarker'),
                  i = (0, p.deepMix)({}, un.textWaterMarkerConfig, e),
                  o = i.width,
                  a = i.height,
                  s = i.compatible,
                  u = i.text;
                if (!r) {
                  var c = { container: n, width: o, height: a, capture: !1 },
                    l = this.get('pixelRatio');
                  l && (c.pixelRatio = l), (r = new Gt(c)), this.set('graphWaterMarker', r);
                }
                r.get('el').style.display = 'none';
                var h = r.get('context'),
                  f = u.rotate,
                  d = u.fill,
                  g = u.fontFamily,
                  v = u.fontSize,
                  y = u.baseline,
                  m = u.x,
                  b = u.y,
                  x = u.lineHeight;
                h.rotate((-f * Math.PI) / 180),
                  (h.font = ''.concat(v, 'px ').concat(g)),
                  (h.fillStyle = d),
                  (h.textBaseline = y);
                for (var _ = t.length - 1; _ >= 0; _--) h.fillText(t[_], m, b + _ * x);
                if ((h.rotate((f * Math.PI) / 180), s))
                  n.style.cssText = 'background-image: url('.concat(
                    r.get('el').toDataURL('image/png'),
                    ');background-repeat:repeat;',
                  );
                else {
                  var w = document.querySelector('.g6-graph-watermarker');
                  w || ((w = document.createElement('div')).className = 'g6-graph-watermarker'),
                    (w.style.cssText = 'background-image: url('.concat(
                      r.get('el').toDataURL('image/png'),
                      ');background-repeat:repeat;position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:none;z-index:99;',
                    )),
                    n.appendChild(w);
                }
              }),
              (e.prototype.destroy = function () {
                var e, n, r, i;
                (0, p.each)(this.get('plugins'), function (t) {
                  t.destroyPlugin();
                });
                var o = this.get('tooltips');
                if (o)
                  for (var a = 0; a < o.length; a++) {
                    var s = o[a];
                    if (s) {
                      var u = s.parentElement;
                      u && u.removeChild(s);
                    }
                  }
                null === (e = this.get('eventController')) || void 0 === e || e.destroy(),
                  null === (n = this.get('layoutController')) || void 0 === n || n.destroy(),
                  null === (r = this.get('graphWaterMarker')) || void 0 === r || r.destroy(),
                  null === (i = document.querySelector('.g6-graph-watermarker')) ||
                    void 0 === i ||
                    i.remove(),
                  t.prototype.destroy.call(this);
              }),
              e
            );
          })(l.AbstractGraph);
          var qn = kn.radialLayout,
            Kn = kn.traverseTree;
          const Zn = (function (t) {
            function e(e) {
              var n = t.call(this, e) || this;
              return (
                (n.layoutAnimating = !1),
                n.set('removeList', []),
                n.set('layoutMethod', n.getLayout()),
                n
              );
            }
            return (
              (0, c.__extends)(e, t),
              (e.prototype.getLayout = function () {
                var t = this.get('layout');
                return t
                  ? 'function' == typeof t
                    ? t
                    : (t.type || (t.type = 'dendrogram'),
                      t.direction || (t.direction = 'TB'),
                      t.radial
                        ? function (e) {
                            var n = vn()[t.type](e, t);
                            return qn(n), n;
                          }
                        : function (e) {
                            return vn()[t.type](e, t);
                          })
                  : null;
              }),
              (e.indexOfChild = function (t, e) {
                var n = -1;
                return (
                  (0, p.each)(t, function (t, r) {
                    if (e === t.id) return (n = r), !1;
                  }),
                  n
                );
              }),
              (e.prototype.getDefaultCfg = function () {
                var e = t.prototype.getDefaultCfg.call(this);
                return (e.animate = !0), e;
              }),
              (e.prototype.innerAddChild = function (t, e, n) {
                var r = this,
                  i = t.data;
                i && ((i.x = t.x), (i.y = t.y), (i.depth = t.depth));
                var o = r.addItem('node', i, !1);
                if (e) {
                  if ((o.set('parent', e), n)) {
                    var a = e.get('originAttrs');
                    if (a) o.set('originAttrs', a);
                    else {
                      var s = e.getModel();
                      o.set('originAttrs', { x: s.x, y: s.y });
                    }
                  }
                  var u = e.get('children');
                  u ? u.push(o) : e.set('children', [o]),
                    r.addItem(
                      'edge',
                      {
                        source: e.get('id'),
                        target: o.get('id'),
                        id: ''.concat(e.get('id'), ':').concat(o.get('id')),
                      },
                      !1,
                    );
                }
                return (
                  (0, p.each)(t.children || [], function (t) {
                    r.innerAddChild(t, o, n);
                  }),
                  r.emit('afteraddchild', { item: o, parent: e }),
                  o
                );
              }),
              (e.prototype.innerUpdateChild = function (t, n, r) {
                var i = this,
                  o = i.findById(t.id);
                if (o) {
                  (0, p.each)(t.children || [], function (t) {
                    i.innerUpdateChild(t, o, r);
                  });
                  var a,
                    s,
                    u = o.get('children');
                  if (u && u.length > 0)
                    for (var c = u.length - 1; c >= 0; c--) {
                      var l = u[c].getModel();
                      -1 === e.indexOfChild(t.children || [], l.id) &&
                        (i.innerRemoveChild(l.id, { x: t.x, y: t.y }, r), u.splice(c, 1));
                    }
                  o.get('originAttrs') &&
                    ((a = o.get('originAttrs').x), (s = o.get('originAttrs').y));
                  var h = o.getModel();
                  r && o.set('originAttrs', { x: h.x, y: h.y }),
                    o.set('model', t.data),
                    (a === t.x && s === t.y) || o.updatePosition({ x: t.x, y: t.y });
                } else i.innerAddChild(t, n, r);
              }),
              (e.prototype.innerRemoveChild = function (t, e, n) {
                var r = this,
                  i = r.findById(t);
                if (i)
                  if (
                    ((0, p.each)(i.get('children'), function (t) {
                      r.innerRemoveChild(t.getModel().id, e, n);
                    }),
                    n)
                  ) {
                    var o = i.getModel();
                    i.set('to', e),
                      i.set('originAttrs', { x: o.x, y: o.y }),
                      r.get('removeList').push(i);
                  } else r.removeItem(i, !1);
              }),
              (e.prototype.changeData = function (t) {
                var e = this;
                this.getNodes().map(function (t) {
                  return e.clearItemStates(t);
                }),
                  this.getEdges().map(function (t) {
                    return e.clearItemStates(t);
                  }),
                  t ? (e.data(t), e.render()) : e.layout(this.get('fitView'));
              }),
              (e.prototype.changeLayout = function (t) {
                console.warn(
                  'Please call updateLayout instead of changeLayout. changeLayout will be discarded soon',
                ),
                  this.updateLayout(t);
              }),
              (e.prototype.updateLayout = function (t) {
                var e = this;
                t
                  ? (e.set('layout', t), e.set('layoutMethod', e.getLayout()), e.layout())
                  : console.warn('layout cannot be null');
              }),
              (e.prototype.refreshLayout = function (t) {
                console.warn(
                  'Please call layout instead of refreshLayout. refreshLayout will be discarded soon',
                ),
                  this.layout(t);
              }),
              (e.prototype.layout = function (t) {
                var e = this,
                  n = e.get('data'),
                  r = e.get('layoutMethod'),
                  i = r ? r(n, e.get('layout')) : n,
                  o = e.get('animate');
                e.emit('beforerefreshlayout', { data: n, layoutData: i }),
                  e.emit('beforelayout'),
                  e.innerUpdateChild(i, void 0, o),
                  t && e.get('viewController').fitView(),
                  o ? e.layoutAnimate(i) : (e.refresh(), e.paint()),
                  e.emit('afterrefreshlayout', { data: n, layoutData: i }),
                  e.emit('afterlayout');
              }),
              (e.prototype.addChild = function (t, e) {
                var n = this;
                n.emit('beforeaddchild', { model: t, parent: e }),
                  (0, p.isString)(e) || (e = e.get('id'));
                var r = n.findDataById(e);
                r && (r.children || (r.children = []), r.children.push(t), n.changeData());
              }),
              (e.prototype.updateChildren = function (t, e) {
                var n = this;
                e && n.findById(e)
                  ? ((n.findDataById(e).children = t), n.changeData())
                  : console.warn(
                      "Update children failed! There is no node with id '".concat(e, "'"),
                    );
              }),
              (e.prototype.updateChild = function (t, n) {
                var r = this;
                if (n && r.findById(n)) {
                  var i = r.findDataById(n),
                    o = r.findById(t.id);
                  if ((i.children || (i.children = []), o)) {
                    var a = e.indexOfChild(i.children, t.id);
                    i.children[a] = t;
                  } else i.children.push(t);
                  r.changeData();
                } else r.changeData(t);
              }),
              (e.prototype.removeChild = function (t) {
                var n = this,
                  r = n.findById(t);
                if (r) {
                  var i = r.get('parent');
                  if (i && !i.destroyed) {
                    var o = n.findDataById(i.get('id')),
                      a = (o && o.children) || [],
                      s = r.getModel(),
                      u = e.indexOfChild(a, s.id);
                    a.splice(u, 1);
                  }
                  n.changeData();
                }
              }),
              (e.prototype.findDataById = function (t, e) {
                var n = this;
                if ((e || (e = n.get('data')), t === e.id)) return e;
                var r = null;
                return (
                  (0, p.each)(e.children || [], function (e) {
                    return e.id === t ? ((r = e), !1) : !(r = n.findDataById(t, e)) && void 0;
                  }),
                  r
                );
              }),
              (e.prototype.layoutAnimate = function (t, e) {
                var n = this,
                  r = this.get('animateCfg');
                n.emit('beforeanimate', { data: t }),
                  n.getEdges().forEach(function (t) {
                    var e = t.get('model');
                    e.sourceAnchor || (e.sourceAnchor = t.get('sourceAnchorIndex'));
                  }),
                  this.get('canvas').animate(
                    function (r) {
                      Kn(t, function (i) {
                        var o = n.findById(i.id);
                        if (o) {
                          var a = o.get('originAttrs'),
                            s = o.get('model');
                          if ((a || ((a = { x: s.x, y: s.y }), o.set('originAttrs', a)), e)) {
                            var u = e(o, r, a, t);
                            o.set('model', Object.assign(s, u));
                          } else (s.x = a.x + (i.x - a.x) * r), (s.y = a.y + (i.y - a.y) * r);
                        }
                        return !0;
                      }),
                        (0, p.each)(n.get('removeList'), function (t) {
                          var e = t.getModel(),
                            n = t.get('originAttrs'),
                            i = t.get('to');
                          (e.x = n.x + (i.x - n.x) * r), (e.y = n.y + (i.y - n.y) * r);
                        }),
                        n.refreshPositions();
                    },
                    {
                      duration: r.duration,
                      easing: r.ease,
                      callback: function () {
                        (0, p.each)(n.getNodes(), function (t) {
                          t.set('originAttrs', null);
                        }),
                          (0, p.each)(n.get('removeList'), function (t) {
                            n.removeItem(t);
                          }),
                          n.set('removeList', []),
                          r.callback && r.callback(),
                          n.emit('afteranimate', { data: t });
                      },
                      delay: r.delay,
                    },
                  );
              }),
              (e.prototype.stopLayoutAnimate = function () {
                this.get('canvas').stopAnimate(),
                  this.emit('layoutanimateend', { data: this.get('data') }),
                  (this.layoutAnimating = !1);
              }),
              (e.prototype.isLayoutAnimating = function () {
                return this.layoutAnimating;
              }),
              (e.prototype.render = function () {
                var t = this,
                  e = t.get('data');
                if (!e || !(0, p.isObject)(e) || !Object.keys(e).length)
                  throw new Error('data must be defined first');
                t.clear(),
                  t.emit('beforerender'),
                  t.layout(this.get('fitView')),
                  t.emit('afterrender');
              }),
              (e.prototype.save = function () {
                return this.get('data');
              }),
              e
            );
          })(Hn);
          function $n(t, e) {
            if (t) for (var n in e) e.hasOwnProperty(n) && (t.style[n] = e[n]);
            return t;
          }
          var Qn = (function () {
            function t(t) {
              (this._cfgs = (0, p.deepMix)(this.getDefaultCfgs(), t)),
                (this._events = {}),
                (this.destroyed = !1);
            }
            return (
              (t.prototype.getDefaultCfgs = function () {
                return {};
              }),
              (t.prototype.initPlugin = function (t) {
                var e = this;
                e.set('graph', t);
                var n = e.getEvents(),
                  r = {};
                (0, p.each)(n, function (n, i) {
                  var o = (0, p.wrapBehavior)(e, n);
                  (r[i] = o), t.on(i, o);
                }),
                  (this._events = r),
                  this.init();
              }),
              (t.prototype.getEvents = function () {
                return {};
              }),
              (t.prototype.get = function (t) {
                var e;
                return null === (e = this._cfgs) || void 0 === e ? void 0 : e[t];
              }),
              (t.prototype.set = function (t, e) {
                this._cfgs[t] = e;
              }),
              (t.prototype.destroy = function () {}),
              (t.prototype.destroyPlugin = function () {
                this.destroy();
                var t = this.get('graph'),
                  e = this._events;
                (0, p.each)(e, function (e, n) {
                  t.off(n, e);
                }),
                  (this._events = null),
                  (this._cfgs = null),
                  (this.destroyed = !0);
              }),
              t
            );
          })();
          const Jn = Qn;
          var tr,
            er =
              ((tr = function (t, e) {
                return (
                  (tr =
                    Object.setPrototypeOf ||
                    ({ __proto__: [] } instanceof Array &&
                      function (t, e) {
                        t.__proto__ = e;
                      }) ||
                    function (t, e) {
                      for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
                    }),
                  tr(t, e)
                );
              }),
              function (t, e) {
                if ('function' != typeof e && null !== e)
                  throw new TypeError(
                    'Class extends value ' + String(e) + ' is not a constructor or null',
                  );
                function n() {
                  this.constructor = t;
                }
                tr(t, e),
                  (t.prototype =
                    null === e ? Object.create(e) : ((n.prototype = e.prototype), new n()));
              }),
            nr =
              'url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDAiIGhlaWdodD0iNDAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGRlZnM+PHBhdHRlcm4gaWQ9ImdyaWQiIHdpZHRoPSI0MCIgaGVpZ2h0PSI0MCIgcGF0dGVyblVuaXRzPSJ1c2VyU3BhY2VPblVzZSI+PHBhdGggZD0iTSAwIDEwIEwgNDAgMTAgTSAxMCAwIEwgMTAgNDAgTSAwIDIwIEwgNDAgMjAgTSAyMCAwIEwgMjAgNDAgTSAwIDMwIEwgNDAgMzAgTSAzMCAwIEwgMzAgNDAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iI2UwZTBlMCIgb3BhY2l0eT0iMC4yIiBzdHJva2Utd2lkdGg9IjEiLz48cGF0aCBkPSJNIDQwIDAgTCAwIDAgMCA0MCIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjZTBlMGUwIiBzdHJva2Utd2lkdGg9IjEiLz48L3BhdHRlcm4+PC9kZWZzPjxyZWN0IHdpZHRoPSIxMDAlIiBoZWlnaHQ9IjEwMCUiIGZpbGw9InVybCgjZ3JpZCkiLz48L3N2Zz4=)',
            rr = (function (t) {
              function e(e) {
                return t.call(this, e) || this;
              }
              return (
                er(e, t),
                (e.prototype.getDefaultCfgs = function () {
                  return { img: nr, follow: !0 };
                }),
                (e.prototype.init = function () {
                  var t = this.get('graph'),
                    e = t.get('container'),
                    n = t.get('canvas').get('el'),
                    r = this.get('img') || nr,
                    i = Yn(
                      '<div class=\'g6-grid-container\' style="position:absolute;overflow:hidden;z-index: -1;"></div>',
                    ),
                    o = Yn(
                      "<div\n        class='g6-grid'\n        style='position:absolute;\n        background-image: ".concat(
                        r,
                        ";\n        user-select: none\n        '></div>",
                      ),
                    );
                  this.set('container', i),
                    this.set('gridContainer', o),
                    this.positionInit(),
                    i.appendChild(o),
                    e.insertBefore(i, n);
                }),
                (e.prototype.positionInit = function () {
                  var t = this.get('graph'),
                    e = t.get('minZoom'),
                    n = t.get('width'),
                    r = t.get('height');
                  $n(this.get('container'), {
                    width: ''.concat(n, 'px'),
                    height: ''.concat(r, 'px'),
                  });
                  var i = (80 * n) / e,
                    o = (80 * r) / e;
                  $n(this.get('gridContainer'), {
                    width: ''.concat(i, 'px'),
                    height: ''.concat(o, 'px'),
                    left: '-'.concat(i / 2, 'px'),
                    top: '-'.concat(o / 2, 'px'),
                  });
                }),
                (e.prototype.getEvents = function () {
                  return { viewportchange: 'updateGrid' };
                }),
                (e.prototype.updateGrid = function (t) {
                  var e = this.get('gridContainer'),
                    n = t.matrix;
                  n || (n = [1, 0, 0, 0, 1, 0, 0, 0, 1]);
                  var r = this.get('follow');
                  $n(e, {
                    transform: 'matrix('
                      .concat(n[0], ', ')
                      .concat(n[1], ', ')
                      .concat(n[3], ', ')
                      .concat(n[4], ', ')
                      .concat(r ? n[6] : '0', ', ')
                      .concat(r ? n[7] : '0', ')'),
                  });
                }),
                (e.prototype.getContainer = function () {
                  return this.get('container');
                }),
                (e.prototype.destroy = function () {
                  var t = this.get('graph').get('container'),
                    e = this.get('container');
                  t.removeChild(e);
                }),
                e
              );
            })(Jn);
          const ir = rr;
          var or = n(8186),
            ar = n.n(or),
            sr = (function () {
              var t = function (e, n) {
                return (
                  (t =
                    Object.setPrototypeOf ||
                    ({ __proto__: [] } instanceof Array &&
                      function (t, e) {
                        t.__proto__ = e;
                      }) ||
                    function (t, e) {
                      for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
                    }),
                  t(e, n)
                );
              };
              return function (e, n) {
                if ('function' != typeof n && null !== n)
                  throw new TypeError(
                    'Class extends value ' + String(n) + ' is not a constructor or null',
                  );
                function r() {
                  this.constructor = e;
                }
                t(e, n),
                  (e.prototype =
                    null === n ? Object.create(n) : ((r.prototype = n.prototype), new r()));
              };
            })();
          'undefined' != typeof document &&
            ar()(
              '\n  .g6-component-contextmenu {\n    border: 1px solid #e2e2e2;\n    border-radius: 4px;\n    font-size: 12px;\n    color: #545454;\n    background-color: rgba(255, 255, 255, 0.9);\n    padding: 10px 8px;\n    box-shadow: rgb(174, 174, 174) 0px 0px 10px;\n  }\n  .g6-contextmenu-ul {\n    padding: 0;\n    margin: 0;\n    list-style: none;\n  }\n\n',
            );
          var ur = (function (t) {
            function e(e) {
              return t.call(this, e) || this;
            }
            return (
              sr(e, t),
              (e.prototype.getDefaultCfgs = function () {
                return {
                  offsetX: 6,
                  offsetY: 6,
                  handleMenuClick: void 0,
                  getContent: function (t) {
                    return "\n          <ul class='g6-contextmenu-ul'>\n            <li>菜单项1</li>\n            <li>菜单项2</li>\n          </ul>\n        ";
                  },
                  shouldBegin: function (t) {
                    return !0;
                  },
                  onHide: function () {
                    return !0;
                  },
                  itemTypes: ['node', 'edge', 'combo'],
                  trigger: 'contextmenu',
                };
              }),
              (e.prototype.getEvents = function () {
                return 'click' === this.get('trigger')
                  ? { click: 'onMenuShow', touchend: 'onMenuShow' }
                  : { contextmenu: 'onMenuShow' };
              }),
              (e.prototype.init = function () {
                var t = this.get('className'),
                  e = Yn('<div class='.concat(t || 'g6-component-contextmenu', '></div>'));
                $n(e, { top: '0px', position: 'absolute', visibility: 'hidden' });
                var n = this.get('container');
                n || (n = this.get('graph').get('container')),
                  (0, p.isString)(n) && (n = document.getElementById(n)),
                  n.appendChild(e),
                  this.set('menu', e);
              }),
              (e.prototype.onMenuShow = function (t) {
                var e = this;
                t.preventDefault();
                var n = this.get('itemTypes');
                if (t.item) {
                  if (t.item && t.item.getType && -1 === n.indexOf(t.item.getType()))
                    return void e.onMenuHide();
                } else if (-1 === n.indexOf('canvas')) return void e.onMenuHide();
                if (this.get('shouldBegin')(t)) {
                  var r = this.get('menu'),
                    i = this.get('getContent'),
                    o = this.get('graph'),
                    a = i(t, o);
                  (0, p.isString)(a) ? (r.innerHTML = a) : (r.innerHTML = a.outerHTML),
                    this.removeMenuEventListener();
                  var s = this.get('handleMenuClick');
                  if (s) {
                    var u = function (e) {
                      s(e.target, t.item, o);
                    };
                    this.set('handleMenuClickWrapper', u), r.addEventListener('click', u);
                  }
                  var c = o.get('width'),
                    l = o.get('height'),
                    h = r.getBoundingClientRect(),
                    f = this.get('offsetX') || 0,
                    d = this.get('offsetY') || 0,
                    g = o.getContainer().offsetTop,
                    v = o.getContainer().offsetLeft,
                    y = t.canvasX + v + f,
                    m = t.canvasY + g + d;
                  y + h.width > c && (y = t.canvasX - h.width - f + v),
                    m + h.height > l && (m = t.canvasY - h.height - d + g),
                    $n(r, {
                      top: ''.concat(m, 'px'),
                      left: ''.concat(y, 'px'),
                      visibility: 'visible',
                    });
                  var b = 'click' === this.get('trigger'),
                    x = function (t) {
                      b ? (b = !1) : e.onMenuHide();
                    };
                  document.body.addEventListener('click', x), this.set('handler', x);
                }
              }),
              (e.prototype.removeMenuEventListener = function () {
                var t = this.get('handleMenuClickWrapper'),
                  e = this.get('handler');
                t &&
                  (this.get('menu').removeEventListener('click', t),
                  this.set('handleMenuClickWrapper', null)),
                  e && document.body.removeEventListener('click', e);
              }),
              (e.prototype.onMenuHide = function () {
                var t = this.get('menu');
                t && $n(t, { visibility: 'hidden' }), this.removeMenuEventListener();
              }),
              (e.prototype.destroy = function () {
                var t = this.get('menu');
                if ((this.removeMenuEventListener(), t)) {
                  var e = this.get('container');
                  e || (e = this.get('graph').get('container')),
                    (0, p.isString)(e) && (e = document.getElementById(e)),
                    e.removeChild(t);
                }
              }),
              e
            );
          })(Jn);
          const cr = ur;
          var lr = (function () {
              var t = function (e, n) {
                return (
                  (t =
                    Object.setPrototypeOf ||
                    ({ __proto__: [] } instanceof Array &&
                      function (t, e) {
                        t.__proto__ = e;
                      }) ||
                    function (t, e) {
                      for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
                    }),
                  t(e, n)
                );
              };
              return function (e, n) {
                if ('function' != typeof n && null !== n)
                  throw new TypeError(
                    'Class extends value ' + String(n) + ' is not a constructor or null',
                  );
                function r() {
                  this.constructor = e;
                }
                t(e, n),
                  (e.prototype =
                    null === n ? Object.create(n) : ((r.prototype = n.prototype), new r()));
              };
            })(),
            hr = function () {
              return (
                (hr =
                  Object.assign ||
                  function (t) {
                    for (var e, n = 1, r = arguments.length; n < r; n++)
                      for (var i in (e = arguments[n]))
                        Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i]);
                    return t;
                  }),
                hr.apply(this, arguments)
              );
            },
            fr = Math.max,
            dr = mt.transform,
            pr = (function (t) {
              function e(e) {
                var n = t.call(this, e) || this;
                return (
                  (n.handleUpdateCanvas = (0, p.debounce)(
                    function (t) {
                      var e = n;
                      e.destroyed || e.updateCanvas();
                    },
                    100,
                    !1,
                  )),
                  n
                );
              }
              return (
                lr(e, t),
                (e.prototype.getDefaultCfgs = function () {
                  return {
                    container: null,
                    className: 'g6-minimap',
                    viewportClassName: 'g6-minimap-viewport',
                    type: 'default',
                    padding: 50,
                    size: [200, 120],
                    delegateStyle: { fill: '#40a9ff', stroke: '#096dd9' },
                    refresh: !0,
                  };
                }),
                (e.prototype.getEvents = function () {
                  return {
                    beforepaint: 'updateViewport',
                    beforeanimate: 'disableRefresh',
                    afteranimate: 'enableRefresh',
                    viewportchange: 'disableOneRefresh',
                  };
                }),
                (e.prototype.disableRefresh = function () {
                  this.set('refresh', !1);
                }),
                (e.prototype.enableRefresh = function () {
                  this.set('refresh', !0), this.updateCanvas();
                }),
                (e.prototype.disableOneRefresh = function () {
                  this.set('viewportChange', !0);
                }),
                (e.prototype.initViewport = function () {
                  var t = this,
                    e = this._cfgs,
                    n = e.size,
                    r = e.graph;
                  if (!this.destroyed) {
                    var i = this.get('canvas').get('container'),
                      o = Yn(
                        '\n      <div\n        class='.concat(
                          e.viewportClassName,
                          "\n        style='position:absolute;\n          left:0;\n          top:0;\n          box-sizing:border-box;\n          outline: 2px solid #1980ff'\n        draggable=true>\n      </div>",
                        ),
                      ),
                      a = navigator.userAgent.toLowerCase().indexOf('firefox') > -1,
                      s = 0,
                      u = 0,
                      c = !1,
                      l = 0,
                      h = 0,
                      f = 0,
                      d = 0,
                      g = 0,
                      v = 0;
                    o.addEventListener(
                      'dragstart',
                      function (i) {
                        var a, p;
                        if (i.dataTransfer) {
                          var y = new Image();
                          (y.src =
                            "data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' %3E%3Cpath /%3E%3C/svg%3E"),
                            null === (p = (a = i.dataTransfer).setDragImage) ||
                              void 0 === p ||
                              p.call(a, y, 0, 0);
                          try {
                            i.dataTransfer.setData('text/html', 'view-port-minimap');
                          } catch (t) {
                            i.dataTransfer.setData('text', 'view-port-minimap');
                          }
                        }
                        if (((e.refresh = !1), i.target === o)) {
                          var m = o.style;
                          (l = parseInt(m.left, 10)),
                            (h = parseInt(m.top, 10)),
                            (f = parseInt(m.width, 10)),
                            (d = parseInt(m.height, 10)),
                            f > n[0] ||
                              d > n[1] ||
                              ((v = r.getZoom()),
                              (g = t.get('ratio')),
                              (c = !0),
                              (s = i.clientX),
                              (u = i.clientY));
                        }
                      },
                      !1,
                    ),
                      o.addEventListener(
                        a ? 'dragover' : 'drag',
                        function (t) {
                          if (c && !(0, p.isNil)(t.clientX) && !(0, p.isNil)(t.clientY)) {
                            var e = s - t.clientX,
                              i = u - t.clientY;
                            (l - e < 0 || l - e + f >= n[0]) && (e = 0),
                              (h - i < 0 || h - i + d >= n[1]) && (i = 0),
                              (h -= i),
                              $n(o, { left: ''.concat((l -= e), 'px'), top: ''.concat(h, 'px') }),
                              r.translate((e * v) / g, (i * v) / g),
                              (s = t.clientX),
                              (u = t.clientY);
                          }
                        },
                        !1,
                      ),
                      o.addEventListener(
                        'dragend',
                        function () {
                          (c = !1), (e.refresh = !0);
                        },
                        !1,
                      ),
                      this.set('viewport', o),
                      i.appendChild(o);
                  }
                }),
                (e.prototype.updateViewport = function () {
                  if (!this.destroyed) {
                    var t = this.get('ratio'),
                      e = (this.get('dx'), this.get('dy'), this.get('totaldx')),
                      n = this.get('totaldy'),
                      r = this.get('graph'),
                      i = this.get('size'),
                      o = r.get('width'),
                      a = r.get('height'),
                      s = r.getPointByCanvas(0, 0),
                      u = r.getPointByCanvas(o, a),
                      c = this.get('viewport');
                    c || this.initViewport();
                    var l = (u.x - s.x) * t,
                      h = (u.y - s.y) * t,
                      f = s.x * t + e,
                      d = s.y * t + n,
                      p = f + l,
                      g = d + h;
                    f < 0 && ((l += f), (f = 0)),
                      p > i[0] && (l -= p - i[0]),
                      d < 0 && ((h += d), (d = 0)),
                      g > i[1] && (h -= g - i[1]),
                      this.set('ratio', t),
                      $n(c, {
                        left: ''.concat(f, 'px'),
                        top: ''.concat(d, 'px'),
                        width: ''.concat(l, 'px'),
                        height: ''.concat(h, 'px'),
                      });
                  }
                }),
                (e.prototype.updateGraphShapes = function () {
                  var t = this._cfgs.graph,
                    e = this.get('canvas'),
                    n = t.get('group');
                  if (!n.destroyed) {
                    var r = n.clone();
                    r.resetMatrix(),
                      e.clear(),
                      e.add(r),
                      'svg' === t.get('renderer') && this.updateVisible(r);
                  }
                }),
                (e.prototype.updateVisible = function (t) {
                  var e = this;
                  if (t.isGroup() || t.get('visible')) {
                    var n = t.get('children');
                    if (!n || !n.length) return;
                    n.forEach(function (t) {
                      t.get('visible') || t.hide(), e.updateVisible(t);
                    });
                  } else t.hide();
                }),
                (e.prototype.updateKeyShapes = function () {
                  var t = this,
                    e = this._cfgs.graph,
                    n = this.get('canvas'),
                    r = n.get('children')[0] || n.addGroup();
                  (0, p.each)(e.getEdges(), function (e) {
                    t.updateOneEdgeKeyShape(e, r);
                  }),
                    (0, p.each)(e.getNodes(), function (e) {
                      t.updateOneNodeKeyShape(e, r);
                    });
                  var i = e.getCombos();
                  if (i && i.length) {
                    var o =
                      r.find(function (t) {
                        return 'comboGroup' === t.get('name');
                      }) || r.addGroup({ name: 'comboGroup' });
                    setTimeout(function () {
                      t.destroyed ||
                        ((0, p.each)(i, function (e) {
                          t.updateOneComboKeyShape(e, o);
                        }),
                        null == o || o.sort(),
                        null == o || o.toBack(),
                        t.updateCanvas());
                    }, 250);
                  }
                  this.clearDestroyedShapes();
                }),
                (e.prototype.updateOneComboKeyShape = function (t, e) {
                  if (!this.destroyed) {
                    var n = this.get('itemMap') || {},
                      r = n[t.get('id')],
                      i = t.getBBox(),
                      o = t.get('keyShape').clone(),
                      a = o.attr(),
                      s = { x: i.centerX, y: i.centerY };
                    r ? (s = Object.assign(a, s)) : ((r = o), e.add(r));
                    var u = r.get('type');
                    ('rect' !== u && 'image' !== u) || ((s.x = i.minX), (s.y = i.minY)),
                      r.attr(s),
                      t.isVisible() ? r.show() : r.hide(),
                      (r.exist = !0);
                    var c = t.getModel().depth;
                    isNaN(c) || r.set('zIndex', c), (n[t.get('id')] = r), this.set('itemMap', n);
                  }
                }),
                (e.prototype.updateOneNodeKeyShape = function (t, e) {
                  var n = this.get('itemMap') || {},
                    r = n[t.get('id')],
                    i = t.getBBox(),
                    o = t.get('keyShape').clone(),
                    a = o.attr(),
                    s = { x: i.centerX, y: i.centerY };
                  r ? (s = Object.assign(a, s)) : ((r = o), e.add(r));
                  var u = r.get('type');
                  ('rect' !== u && 'image' !== u) || ((s.x = i.minX), (s.y = i.minY)),
                    r.attr(s),
                    t.isVisible() ? r.show() : r.hide(),
                    (r.exist = !0);
                  var c = t.getModel().depth;
                  isNaN(c) || r.set('zIndex', c), (n[t.get('id')] = r), this.set('itemMap', n);
                }),
                (e.prototype.updateDelegateShapes = function () {
                  var t = this,
                    e = this._cfgs.graph,
                    n = this.get('canvas'),
                    r = n.get('children')[0] || n.addGroup();
                  (0, p.each)(e.getEdges(), function (e) {
                    t.updateOneEdgeKeyShape(e, r);
                  }),
                    (0, p.each)(e.getNodes(), function (e) {
                      t.updateOneNodeDelegateShape(e, r);
                    });
                  var i = e.getCombos();
                  if (i && i.length) {
                    var o =
                      r.find(function (t) {
                        return 'comboGroup' === t.get('name');
                      }) || r.addGroup({ name: 'comboGroup' });
                    setTimeout(function () {
                      t.destroyed ||
                        ((0, p.each)(i, function (e) {
                          t.updateOneComboKeyShape(e, o);
                        }),
                        null == o || o.sort(),
                        null == o || o.toBack(),
                        t.updateCanvas());
                    }, 250);
                  }
                  this.clearDestroyedShapes();
                }),
                (e.prototype.clearDestroyedShapes = function () {
                  var t = this.get('itemMap') || {},
                    e = Object.keys(t);
                  if (e && 0 !== e.length)
                    for (var n = e.length - 1; n >= 0; n--) {
                      var r = t[e[n]],
                        i = r.exist;
                      (r.exist = !1), i || (r.remove(), delete t[e[n]]);
                    }
                }),
                (e.prototype.updateOneEdgeKeyShape = function (t, e) {
                  var n = this.get('itemMap') || {},
                    r = n[t.get('id')];
                  if (r) {
                    var i = t.get('keyShape').attr('path');
                    r.attr('path', i);
                  } else (r = t.get('keyShape').clone()), e.add(r);
                  t.isVisible() ? r.show() : r.hide(),
                    (r.exist = !0),
                    (n[t.get('id')] = r),
                    this.set('itemMap', n);
                }),
                (e.prototype.updateOneNodeDelegateShape = function (t, e) {
                  var n = this.get('delegateStyle'),
                    r = this.get('itemMap') || {},
                    i = r[t.get('id')],
                    o = t.getBBox();
                  if (i) {
                    var a = { x: o.minX, y: o.minY, width: o.width, height: o.height };
                    i.attr(a);
                  } else
                    i = e.addShape('rect', {
                      attrs: hr({ x: o.minX, y: o.minY, width: o.width, height: o.height }, n),
                      name: 'minimap-node-shape',
                    });
                  t.isVisible() ? i.show() : i.hide(),
                    (i.exist = !0),
                    (r[t.get('id')] = i),
                    this.set('itemMap', r);
                }),
                (e.prototype.init = function () {
                  this.initContainer(),
                    this.get('graph').on('afterupdateitem', this.handleUpdateCanvas),
                    this.get('graph').on('afteritemstatechange', this.handleUpdateCanvas),
                    this.get('graph').on('afteradditem', this.handleUpdateCanvas),
                    this.get('graph').on('afterremoveitem', this.handleUpdateCanvas),
                    this.get('graph').on('afterrender', this.handleUpdateCanvas),
                    this.get('graph').on('afterlayout', this.handleUpdateCanvas);
                }),
                (e.prototype.initContainer = function () {
                  var t = this,
                    e = t.get('graph'),
                    n = t.get('size'),
                    r = t.get('className'),
                    i = t.get('container'),
                    o = Yn(
                      "<div class='"
                        .concat(r, "' style='width: ")
                        .concat(n[0], 'px; height: ')
                        .concat(n[1], "px; overflow: hidden'></div>"),
                    );
                  (0, p.isString)(i) && (i = document.getElementById(i)),
                    i ? i.appendChild(o) : e.get('container').appendChild(o),
                    t.set('container', o);
                  var a,
                    s = Yn('<div class="g6-minimap-container" style="position: relative;"></div>');
                  o.appendChild(s),
                    s.addEventListener('dragenter', function (t) {
                      t.preventDefault();
                    }),
                    s.addEventListener('dragover', function (t) {
                      t.preventDefault();
                    }),
                    (a =
                      'svg' === e.get('renderer')
                        ? new Ve({ container: s, width: n[0], height: n[1] })
                        : new Gt({ container: s, width: n[0], height: n[1] })),
                    t.set('canvas', a),
                    t.updateCanvas();
                }),
                (e.prototype.updateCanvas = function () {
                  if (!this.destroyed && this.get('refresh')) {
                    var t = this.get('graph');
                    if (!t.get('destroyed')) {
                      this.get('viewportChange') &&
                        (this.set('viewportChange', !1), this.updateViewport());
                      var e = this.get('size'),
                        n = this.get('canvas'),
                        r = this.get('type'),
                        i = this.get('padding');
                      if (!n.destroyed) {
                        switch (r) {
                          case 'default':
                            this.updateGraphShapes();
                            break;
                          case 'keyShape':
                            this.updateKeyShapes();
                            break;
                          case 'delegate':
                            this.updateDelegateShapes();
                        }
                        var o = n.get('children')[0];
                        if (o) {
                          o.resetMatrix();
                          var a = o.getCanvasBBox(),
                            s = t.get('canvas').getCanvasBBox(),
                            u = t.getZoom() || 1,
                            c = s.width / u,
                            l = s.height / u;
                          Number.isFinite(a.width) && ((c = fr(a.width, c)), (l = fr(a.height, l))),
                            (c += 2 * i),
                            (l += 2 * i);
                          var h = Math.min(e[0] / c, e[1] / l),
                            f = [1, 0, 0, 0, 1, 0, 0, 0, 1],
                            d = 0,
                            p = 0;
                          Number.isFinite(a.minX) && (d = -a.minX),
                            Number.isFinite(a.minY) && (p = -a.minY);
                          var g = (e[0] - (c - 2 * i) * h) / 2,
                            v = (e[1] - (l - 2 * i) * h) / 2;
                          (f = dr(f, [
                            ['t', d, p],
                            ['s', h, h],
                            ['t', g, v],
                          ])),
                            o.setMatrix(f),
                            this.set('ratio', h),
                            this.set('totaldx', g + d * h),
                            this.set('totaldy', v + p * h),
                            this.set('dx', g),
                            this.set('dy', v),
                            this.updateViewport();
                        }
                      }
                    }
                  }
                }),
                (e.prototype.getCanvas = function () {
                  return this.get('canvas');
                }),
                (e.prototype.getViewport = function () {
                  return this.get('viewport');
                }),
                (e.prototype.getContainer = function () {
                  return this.get('container');
                }),
                (e.prototype.destroy = function () {
                  var t;
                  null === (t = this.get('canvas')) || void 0 === t || t.destroy();
                  var e = this.get('container');
                  (null == e ? void 0 : e.parentNode) && e.parentNode.removeChild(e);
                }),
                e
              );
            })(Jn);
          const gr = pr;
          var vr = (function () {
            var t = function (e, n) {
              return (
                (t =
                  Object.setPrototypeOf ||
                  ({ __proto__: [] } instanceof Array &&
                    function (t, e) {
                      t.__proto__ = e;
                    }) ||
                  function (t, e) {
                    for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
                  }),
                t(e, n)
              );
            };
            return function (e, n) {
              if ('function' != typeof n && null !== n)
                throw new TypeError(
                  'Class extends value ' + String(n) + ' is not a constructor or null',
                );
              function r() {
                this.constructor = e;
              }
              t(e, n),
                (e.prototype =
                  null === n ? Object.create(n) : ((r.prototype = n.prototype), new r()));
            };
          })();
          function yr(t, e, n) {
            var r = t.x - e.x,
              i = t.y - e.y;
            return !n || Math.abs(r) > n || Math.abs(i) > n ? Math.sqrt(r * r + i * i) : n;
          }
          function mr(t, e) {
            var n = (e.source.y - e.target.y) / (e.source.x - e.target.x),
              r = (n * n * e.source.x + n * (t.y - e.source.y) + t.x) / (n * n + 1);
            return { x: r, y: n * (r - e.source.x) + e.source.y };
          }
          var br = (function (t) {
            function e(e) {
              return t.call(this, e) || this;
            }
            return (
              vr(e, t),
              (e.prototype.getDefaultCfgs = function () {
                return {
                  edgeBundles: [],
                  edgePoints: [],
                  K: 0.1,
                  lambda: 0.1,
                  divisions: 1,
                  divRate: 2,
                  cycles: 6,
                  iterations: 90,
                  iterRate: 0.6666667,
                  bundleThreshold: 0.6,
                  eps: 1e-6,
                  onLayoutEnd: function () {},
                  onTick: function () {},
                };
              }),
              (e.prototype.init = function () {
                var t = this.get('graph'),
                  e = this.get('onTick');
                this.set('tick', function () {
                  e && e(), t.refreshPositions();
                });
              }),
              (e.prototype.bundling = function (t) {
                var e = this;
                if ((e.set('data', t), !e.isTicking())) {
                  var n = t.edges || [],
                    r = t.nodes || [],
                    i = {},
                    o = !1;
                  if (
                    (r.forEach(function (t) {
                      (null !== t.x && null !== !t.y && void 0 !== t.x && void 0 !== !t.y) ||
                        (o = !0),
                        (i[t.id] = t);
                    }),
                    o)
                  )
                    throw new Error('please layout the graph or assign x and y for nodes first');
                  e.set('nodeIdMap', i);
                  var a = e.get('divisions'),
                    s = e.get('divRate'),
                    u = e.divideEdges(a);
                  e.set('edgePoints', u);
                  var c = e.getEdgeBundles();
                  e.set('edgeBundles', c);
                  for (
                    var l = e.get('cycles'),
                      h = e.get('iterations'),
                      f = e.get('iterRate'),
                      d = e.get('lambda'),
                      p = 0;
                    p < l;
                    p++
                  ) {
                    for (
                      var g = function (t) {
                          var r = [];
                          n.forEach(function (t, n) {
                            if (t.source !== t.target) {
                              var o = i[t.source],
                                s = i[t.target];
                              r[n] = e.getEdgeForces({ source: o, target: s }, n, a, d);
                              for (var c = 0; c < a + 1; c++)
                                (u[n][c].x += r[n][c].x), (u[n][c].y += r[n][c].y);
                            }
                          });
                        },
                        v = 0;
                      v < h;
                      v++
                    )
                      g();
                    (d /= 2), (a *= s), (h *= f), (u = e.divideEdges(a)), e.set('edgePoints', u);
                  }
                  n.forEach(function (t, e) {
                    t.source !== t.target &&
                      ((t.type = 'polyline'), (t.controlPoints = u[e].slice(1, u[e].length - 1)));
                  }),
                    e.get('graph').refresh();
                }
              }),
              (e.prototype.updateBundling = function (t) {
                var e = this,
                  n = t.data;
                if (
                  (n && e.set('data', n),
                  e.get('ticking') && e.set('ticking', !1),
                  Object.keys(t).forEach(function (n) {
                    e.set(n, t[n]);
                  }),
                  t.onTick)
                ) {
                  var r = this.get('graph');
                  e.set('tick', function () {
                    t.onTick(), r.refresh();
                  });
                }
                e.bundling(n);
              }),
              (e.prototype.divideEdges = function (t) {
                var e = this,
                  n = e.get('data').edges,
                  r = e.get('nodeIdMap'),
                  i = e.get('edgePoints');
                return (
                  (i && void 0 !== i) || (i = []),
                  n.forEach(function (n, o) {
                    (i[o] && void 0 !== i[o]) || (i[o] = []);
                    var a = r[n.source],
                      s = r[n.target];
                    if (1 === t)
                      i[o].push({ x: a.x, y: a.y }),
                        i[o].push({ x: 0.5 * (a.x + s.x), y: 0.5 * (a.y + s.y) }),
                        i[o].push({ x: s.x, y: s.y });
                    else {
                      var u =
                          (i[o] && i[o] !== []
                            ? e.getEdgeLength(i[o])
                            : yr({ x: a.x, y: a.y }, { x: s.x, y: s.y })) /
                          (t + 1),
                        c = u,
                        l = [{ x: a.x, y: a.y }];
                      i[o].forEach(function (t, e) {
                        if (0 !== e) {
                          for (var n = yr(t, i[o][e - 1]); n > c; ) {
                            var r = c / n,
                              a = { x: i[o][e - 1].x, y: i[o][e - 1].y };
                            (a.x += r * (t.x - i[o][e - 1].x)),
                              (a.y += r * (t.y - i[o][e - 1].y)),
                              l.push(a),
                              (n -= c),
                              (c = u);
                          }
                          c -= n;
                        }
                      }),
                        l.push({ x: s.x, y: s.y }),
                        (i[o] = l);
                    }
                  }),
                  i
                );
              }),
              (e.prototype.getEdgeLength = function (t) {
                var e = 0;
                return (
                  t.forEach(function (n, r) {
                    0 !== r && (e += yr(n, t[r - 1]));
                  }),
                  e
                );
              }),
              (e.prototype.getEdgeBundles = function () {
                var t = this,
                  e = t.get('data').edges || [],
                  n = t.get('bundleThreshold'),
                  r = t.get('nodeIdMap'),
                  i = t.get('edgeBundles');
                return (
                  i || (i = []),
                  e.forEach(function (t, e) {
                    (i[e] && void 0 !== i[e]) || (i[e] = []);
                  }),
                  e.forEach(function (o, a) {
                    var s = r[o.source],
                      u = r[o.target];
                    e.forEach(function (e, o) {
                      if (!(o <= a)) {
                        var c = r[e.source],
                          l = r[e.target];
                        t.getBundleScore({ source: s, target: u }, { source: c, target: l }) >= n &&
                          (i[a].push(o), i[o].push(a));
                      }
                    });
                  }),
                  i
                );
              }),
              (e.prototype.getBundleScore = function (t, e) {
                var n = this;
                return (
                  (t.vx = t.target.x - t.source.x),
                  (t.vy = t.target.y - t.source.y),
                  (e.vx = e.target.x - e.source.x),
                  (e.vy = e.target.y - e.source.y),
                  (t.length = yr(
                    { x: t.source.x, y: t.source.y },
                    { x: t.target.x, y: t.target.y },
                  )),
                  (e.length = yr(
                    { x: e.source.x, y: e.source.y },
                    { x: e.target.x, y: e.target.y },
                  )),
                  n.getAngleScore(t, e) *
                    n.getScaleScore(t, e) *
                    n.getPositionScore(t, e) *
                    n.getVisibilityScore(t, e)
                );
              }),
              (e.prototype.getAngleScore = function (t, e) {
                var n = (function (t, e) {
                  return t.x * e.x + t.y * e.y;
                })({ x: t.vx, y: t.vy }, { x: e.vx, y: e.vy });
                return n / (t.length * e.length);
              }),
              (e.prototype.getScaleScore = function (t, e) {
                var n = (t.length + e.length) / 2;
                return 2 / (n / Math.min(t.length, e.length) + Math.max(t.length, e.length) / n);
              }),
              (e.prototype.getPositionScore = function (t, e) {
                var n = (t.length + e.length) / 2;
                return (
                  n /
                  (n +
                    yr(
                      { x: (t.source.x + t.target.x) / 2, y: (t.source.y + t.target.y) / 2 },
                      { x: (e.source.x + e.target.x) / 2, y: (e.source.y + e.target.y) / 2 },
                    ))
                );
              }),
              (e.prototype.getVisibilityScore = function (t, e) {
                var n = this.getEdgeVisibility(t, e),
                  r = this.getEdgeVisibility(e, t);
                return n < r ? n : r;
              }),
              (e.prototype.getEdgeVisibility = function (t, e) {
                var n = mr(e.source, t),
                  r = mr(e.target, t),
                  i = { x: (n.x + r.x) / 2, y: (n.y + r.y) / 2 },
                  o = { x: (t.source.x + t.target.x) / 2, y: (t.source.y + t.target.y) / 2 };
                return Math.max(0, 1 - (2 * yr(i, o)) / yr(n, r));
              }),
              (e.prototype.getEdgeForces = function (t, e, n, r) {
                for (
                  var i = this,
                    o = i.get('edgePoints'),
                    a = i.get('K') / (yr(t.source, t.target) * (n + 1)),
                    s = [{ x: 0, y: 0 }],
                    u = 1;
                  u < n;
                  u++
                ) {
                  var c = { x: 0, y: 0 },
                    l = i.getSpringForce({ pre: o[e][u - 1], cur: o[e][u], next: o[e][u + 1] }, a),
                    h = i.getElectrostaticForce(u, e);
                  (c.x = r * (l.x + h.x)), (c.y = r * (l.y + h.y)), s.push(c);
                }
                return s.push({ x: 0, y: 0 }), s;
              }),
              (e.prototype.getSpringForce = function (t, e) {
                var n = t.pre.x + t.next.x - 2 * t.cur.x,
                  r = t.pre.y + t.next.y - 2 * t.cur.y;
                return { x: (n *= e), y: (r *= e) };
              }),
              (e.prototype.getElectrostaticForce = function (t, e) {
                var n = this,
                  r = n.get('eps'),
                  i = n.get('edgeBundles'),
                  o = n.get('edgePoints'),
                  a = i[e],
                  s = { x: 0, y: 0 };
                return (
                  a.forEach(function (n) {
                    var i = { x: o[n][t].x - o[e][t].x, y: o[n][t].y - o[e][t].y };
                    if (Math.abs(i.x) > r || Math.abs(i.y) > r) {
                      var a = 1 / yr(o[n][t], o[e][t]);
                      (s.x += i.x * a), (s.y += i.y * a);
                    }
                  }),
                  s
                );
              }),
              (e.prototype.isTicking = function () {
                return this.get('ticking');
              }),
              (e.prototype.getSimulation = function () {
                return this.get('forceSimulation');
              }),
              (e.prototype.destroy = function () {
                this.get('ticking') && this.getSimulation().stop(), t.prototype.destroy.call(this);
              }),
              e
            );
          })(Jn);
          const xr = br;
          var _r = (function () {
              var t = function (e, n) {
                return (
                  (t =
                    Object.setPrototypeOf ||
                    ({ __proto__: [] } instanceof Array &&
                      function (t, e) {
                        t.__proto__ = e;
                      }) ||
                    function (t, e) {
                      for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
                    }),
                  t(e, n)
                );
              };
              return function (e, n) {
                if ('function' != typeof n && null !== n)
                  throw new TypeError(
                    'Class extends value ' + String(n) + ' is not a constructor or null',
                  );
                function r() {
                  this.constructor = e;
                }
                t(e, n),
                  (e.prototype =
                    null === n ? Object.create(n) : ((r.prototype = n.prototype), new r()));
              };
            })(),
            wr = function () {
              return (
                (wr =
                  Object.assign ||
                  function (t) {
                    for (var e, n = 1, r = arguments.length; n < r; n++)
                      for (var i in (e = arguments[n]))
                        Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i]);
                    return t;
                  }),
                wr.apply(this, arguments)
              );
            },
            Er = {
              stroke: '#000',
              strokeOpacity: 0.8,
              lineWidth: 2,
              fillOpacity: 0.1,
              fill: '#ccc',
            },
            Sr = (function (t) {
              function e(e) {
                return t.call(this, e) || this;
              }
              return (
                _r(e, t),
                (e.prototype.getDefaultCfgs = function () {
                  return {
                    trigger: 'mousemove',
                    d: 1.5,
                    r: 300,
                    delegateStyle: (0, p.clone)(Er),
                    showLabel: !1,
                    maxD: 5,
                    minD: 0,
                    scaleRBy: 'unset',
                    scaleDBy: 'unset',
                    showDPercent: !0,
                  };
                }),
                (e.prototype.getEvents = function () {
                  var t;
                  switch (this.get('trigger')) {
                    case 'click':
                      t = { click: 'magnify' };
                      break;
                    case 'drag':
                      t = { click: 'createDelegate' };
                      break;
                    default:
                      t = { mousemove: 'magnify' };
                  }
                  return t;
                }),
                (e.prototype.init = function () {
                  var t = this,
                    e = t.get('r');
                  t.set('cachedMagnifiedModels', []),
                    t.set('cachedOriginPositions', {}),
                    t.set('r2', e * e);
                  var n = t.get('d');
                  t.set('molecularParam', (n + 1) * e);
                }),
                (e.prototype.createDelegate = function (t) {
                  var e = this,
                    n = this,
                    r = n.get('delegate');
                  (r && !r.destroyed) ||
                    (n.magnify(t),
                    (r = n.get('delegate')).on('dragstart', function (t) {
                      n.set('delegateCenterDiff', { x: r.attr('x') - t.x, y: r.attr('y') - t.y });
                    }),
                    r.on('drag', function (t) {
                      n.magnify(t);
                    }),
                    'wheel' === this.get('scaleDBy') &&
                      r.on('mousewheel', function (t) {
                        e.scaleDByWheel(t);
                      }),
                    'wheel' === this.get('scaleRBy') &&
                      r.on('mousewheel', function (t) {
                        n.scaleRByWheel(t);
                      }));
                }),
                (e.prototype.scaleRByWheel = function (t) {
                  var e = this;
                  if (t && t.originalEvent) {
                    t.preventDefault && t.preventDefault();
                    var n,
                      r = e.get('graph'),
                      i = e.get('delegate'),
                      o =
                        (i ? { x: i.attr('x'), y: i.attr('y') } : void 0) ||
                        r.getPointByClient(t.clientX, t.clientY);
                    n = t.originalEvent.wheelDelta < 0 ? 0.95 : 1 / 0.95;
                    var a = e.get('maxR'),
                      s = e.get('minR'),
                      u = e.get('r');
                    ((u > (a || r.get('height')) && n > 1) ||
                      (u < (s || 0.05 * r.get('height')) && n < 1)) &&
                      (n = 1),
                      (u *= n),
                      e.set('r', u),
                      e.set('r2', u * u);
                    var c = e.get('d');
                    e.set('molecularParam', (c + 1) * u),
                      e.set('delegateCenterDiff', void 0),
                      e.magnify(t, o);
                  }
                }),
                (e.prototype.scaleRByDrag = function (t) {
                  var e = this;
                  if (t) {
                    var n,
                      r = e.get('dragPrePos'),
                      i = e.get('graph'),
                      o = i.getPointByClient(t.clientX, t.clientY);
                    n = t.x - r.x < 0 ? 0.95 : 1 / 0.95;
                    var a = e.get('maxR'),
                      s = e.get('minR'),
                      u = e.get('r');
                    ((u > (a || i.get('height')) && n > 1) ||
                      (u < (s || 0.05 * i.get('height')) && n < 1)) &&
                      (n = 1),
                      (u *= n),
                      e.set('r', u),
                      e.set('r2', u * u);
                    var c = e.get('d');
                    e.set('molecularParam', (c + 1) * u),
                      e.magnify(t, o),
                      e.set('dragPrePos', { x: t.x, y: t.y });
                  }
                }),
                (e.prototype.scaleDByWheel = function (t) {
                  var e = this;
                  if (t || t.originalEvent) {
                    t.preventDefault && t.preventDefault();
                    var n;
                    n = t.originalEvent.wheelDelta < 0 ? -0.1 : 0.1;
                    var r = e.get('d') + n,
                      i = e.get('maxD'),
                      o = e.get('minD');
                    if (r < i && r > o) {
                      e.set('d', r);
                      var a = e.get('r');
                      e.set('molecularParam', (r + 1) * a);
                      var s = e.get('delegate'),
                        u = s ? { x: s.attr('x'), y: s.attr('y') } : void 0;
                      e.set('delegateCenterDiff', void 0), e.magnify(t, u);
                    }
                  }
                }),
                (e.prototype.scaleDByDrag = function (t) {
                  var e = this,
                    n = e.get('dragPrePos'),
                    r = t.x - n.x > 0 ? 0.1 : -0.1,
                    i = e.get('d') + r,
                    o = e.get('maxD'),
                    a = e.get('minD');
                  if (i < o && i > a) {
                    e.set('d', i);
                    var s = e.get('r');
                    e.set('molecularParam', (i + 1) * s), e.magnify(t);
                  }
                  e.set('dragPrePos', { x: t.x, y: t.y });
                }),
                (e.prototype.magnify = function (t, e) {
                  var n = this;
                  n.restoreCache();
                  var r = n.get('graph'),
                    i = n.get('cachedMagnifiedModels'),
                    o = n.get('cachedOriginPositions'),
                    a = n.get('showLabel'),
                    s = n.get('r'),
                    u = n.get('r2'),
                    c = n.get('d'),
                    l = n.get('molecularParam'),
                    h = r.getNodes(),
                    f = h.length,
                    d = e ? { x: e.x, y: e.y } : { x: t.x, y: t.y };
                  !n.get('dragging') ||
                    ('mousemove' !== n.get('trigger') && 'click' !== n.get('trigger')) ||
                    (d = n.get('cacheCenter'));
                  var p = n.get('delegateCenterDiff');
                  p && ((d.x += p.x), (d.y += p.y)), n.updateDelegate(d, s);
                  for (var g = 0; g < f; g++) {
                    var v = h[g].getModel(),
                      y = v.x,
                      m = v.y;
                    if (!isNaN(y) && !isNaN(m)) {
                      var b = (y - d.x) * (y - d.x) + (m - d.y) * (m - d.y);
                      if (!isNaN(b) && b < u && 0 !== b) {
                        var x = Math.sqrt(b),
                          _ = (l * x) / (c * x + s),
                          w = (y - d.x) / x,
                          E = (m - d.y) / x;
                        if (
                          ((v.x = w * _ + d.x),
                          (v.y = E * _ + d.y),
                          o[v.id] || (o[v.id] = { x: y, y: m, texts: [] }),
                          i.push(v),
                          a && 2 * x < s)
                        )
                          for (
                            var S = h[g].getContainer().getChildren(), M = S.length, k = 0;
                            k < M;
                            k++
                          ) {
                            var A = S[k];
                            'text' === A.get('type') &&
                              (o[v.id].texts.push({ visible: A.get('visible'), shape: A }),
                              A.set('visible', !0));
                          }
                      }
                    }
                  }
                  r.refreshPositions();
                }),
                (e.prototype.restoreCache = function () {
                  for (
                    var t = this,
                      e = t.get('cachedMagnifiedModels'),
                      n = t.get('cachedOriginPositions'),
                      r = e.length,
                      i = 0;
                    i < r;
                    i++
                  ) {
                    var o = e[i],
                      a = n[o.id];
                    (o.x = a.x), (o.y = a.y);
                    for (var s = a.texts.length, u = 0; u < s; u++) {
                      var c = a.texts[u];
                      c.shape.set('visible', c.visible);
                    }
                  }
                  t.set('cachedMagnifiedModels', []), t.set('cachedOriginPositions', {});
                }),
                (e.prototype.updateParams = function (t) {
                  var e = this,
                    n = t.r,
                    r = t.d,
                    i = t.trigger,
                    o = t.minD,
                    a = t.maxD,
                    s = t.minR,
                    u = t.maxR,
                    c = t.scaleDBy,
                    l = t.scaleRBy;
                  isNaN(t.r) || (e.set('r', n), e.set('r2', n * n)),
                    isNaN(r) || e.set('d', r),
                    isNaN(a) || e.set('maxD', a),
                    isNaN(o) || e.set('minD', o),
                    isNaN(u) || e.set('maxR', u),
                    isNaN(s) || e.set('minR', s);
                  var h,
                    f = e.get('d'),
                    d = e.get('r');
                  e.set('molecularParam', (f + 1) * d),
                    ('mousemove' !== i && 'click' !== i && 'drag' !== i) || e.set('trigger', i),
                    ('drag' === c || 'wheel' === c || 'unset' === c) &&
                      (e.set('scaleDBy', c),
                      e.get('delegate').remove(),
                      e.get('delegate').destroy(),
                      (h = e.get('dPercentText')) && (h.remove(), h.destroy())),
                    ('drag' !== l && 'wheel' !== l && 'unset' !== l) ||
                      (e.set('scaleRBy', l),
                      e.get('delegate').remove(),
                      e.get('delegate').destroy(),
                      (h = e.get('dPercentText')) && (h.remove(), h.destroy()));
                }),
                (e.prototype.updateDelegate = function (t, e) {
                  var n = this,
                    r = this,
                    i = r.get('graph'),
                    o = r.get('delegate');
                  if (!o || o.destroyed) {
                    var a = i.get('group'),
                      s = r.get('delegateStyle') || Er;
                    (o = a.addShape('circle', {
                      attrs: wr({ r: e / 1.5, x: t.x, y: t.y }, s),
                      name: 'lens-shape',
                      draggable: !0,
                    })),
                      'drag' !== this.get('trigger') &&
                        ('wheel' === this.get('scaleRBy')
                          ? o.on('mousewheel', function (t) {
                              r.scaleRByWheel(t);
                            })
                          : 'drag' === this.get('scaleRBy') &&
                            (o.on('dragstart', function (t) {
                              r.set('dragging', !0),
                                r.set('cacheCenter', { x: t.x, y: t.y }),
                                r.set('dragPrePos', { x: t.x, y: t.y });
                            }),
                            o.on('drag', function (t) {
                              r.scaleRByDrag(t);
                            }),
                            o.on('dragend', function (t) {
                              r.set('dragging', !1);
                            })),
                        'wheel' === this.get('scaleDBy')
                          ? o.on('mousewheel', function (t) {
                              n.scaleDByWheel(t);
                            })
                          : 'drag' === this.get('scaleDBy') &&
                            (o.on('dragstart', function (t) {
                              r.set('dragging', !0),
                                r.set('cacheCenter', { x: t.x, y: t.y }),
                                r.set('dragPrePos', { x: t.x, y: t.y });
                            }),
                            o.on('drag', function (t) {
                              n.scaleDByDrag(t);
                            }),
                            o.on('dragend', function (t) {
                              r.set('dragging', !1);
                            })));
                  } else o.attr({ x: t.x, y: t.y, r: e / 1.5 });
                  if (r.get('showDPercent')) {
                    var u = Math.round(
                        ((r.get('d') - r.get('minD')) / (r.get('maxD') - r.get('minD'))) * 100,
                      ),
                      c = r.get('dPercentText'),
                      l = t.y + e / 1.5 + 16;
                    !c || c.destroyed
                      ? ((c = i.get('group').addShape('text', {
                          attrs: {
                            text: ''.concat(u, '%'),
                            x: t.x,
                            y: l,
                            fill: '#aaa',
                            stroke: '#fff',
                            lineWidth: 1,
                            fontSize: 12,
                          },
                        })),
                        r.set('dPercentText', c))
                      : c.attr({ text: ''.concat(u, '%'), x: t.x, y: l });
                  }
                  r.set('delegate', o);
                }),
                (e.prototype.clear = function () {
                  var t = this.get('graph');
                  this.restoreCache(), t.refreshPositions();
                  var e = this.get('delegate');
                  e && !e.destroyed && (e.remove(), e.destroy());
                  var n = this.get('dPercentText');
                  n && !n.destroyed && (n.remove(), n.destroy());
                }),
                (e.prototype.destroy = function () {
                  this.clear();
                }),
                e
              );
            })(Jn);
          const Mr = Sr;
          var kr = (function () {
            var t = function (e, n) {
              return (
                (t =
                  Object.setPrototypeOf ||
                  ({ __proto__: [] } instanceof Array &&
                    function (t, e) {
                      t.__proto__ = e;
                    }) ||
                  function (t, e) {
                    for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
                  }),
                t(e, n)
              );
            };
            return function (e, n) {
              if ('function' != typeof n && null !== n)
                throw new TypeError(
                  'Class extends value ' + String(n) + ' is not a constructor or null',
                );
              function r() {
                this.constructor = e;
              }
              t(e, n),
                (e.prototype =
                  null === n ? Object.create(n) : ((r.prototype = n.prototype), new r()));
            };
          })();
          'undefined' != typeof document &&
            ar()(
              '\n  .g6-component-toolbar {\n    position: absolute;\n    list-style-type: none;\n    padding: 6px;\n    left: 0px;\n    top: 0px;\n    background-color: rgba(255, 255, 255, 0.9);\n    border: 1px solid #e2e2e2;\n    border-radius: 4px;\n    font-size: 12px;\n    color: #545454;\n    margin: 0;\n  }\n  .g6-component-toolbar li {\n    float: left;\n    text-align: center;\n    width: 35px;\n    height: 24px;\n    cursor: pointer;\n\t\tlist-style-type:none;\n    list-style: none;\n    margin-left: 0px;\n  }\n  .g6-component-toolbar li .icon {\n    opacity: 0.7;\n  }\n  .g6-component-toolbar li .icon:hover {\n    opacity: 1;\n  }\n',
            );
          var Ar = (function (t) {
            function e(e) {
              return t.call(this, e) || this;
            }
            return (
              kr(e, t),
              (e.prototype.getDefaultCfgs = function () {
                return {
                  handleClick: void 0,
                  getContent: function (t) {
                    return '\n          <ul class=\'g6-component-toolbar\'>\n            <li code=\'redo\'>\n              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n                <path d="M256 682.666667c0-102.741333 66.730667-213.333333 213.333333-213.333334 107.008 0 190.762667 56.576 230.570667 125.354667L611.968 682.666667H853.333333v-241.365334l-91.562666 91.562667C704.768 448.469333 601.130667 384 469.333333 384c-196.096 0-298.666667 150.229333-298.666666 298.666667h85.333333z" fill="" p-id="2041"></path>\n              </svg>\n            </li>\n            <li code=\'undo\'>\n              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n                <path d="M170.666667 682.666667h241.365333l-87.936-87.978667C363.904 525.909333 447.658667 469.333333 554.666667 469.333333c146.602667 0 213.333333 110.592 213.333333 213.333334h85.333333c0-148.437333-102.570667-298.666667-298.666666-298.666667-131.797333 0-235.392 64.469333-292.48 148.821333L170.666667 441.301333V682.666667z" fill="" p-id="2764"></path>\n              </svg>\n            </li>\n            <li  code=\'zoomOut\'>\n              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n                <path d="M658.432 428.736a33.216 33.216 0 0 1-33.152 33.152H525.824v99.456a33.216 33.216 0 0 1-66.304 0V461.888H360.064a33.152 33.152 0 0 1 0-66.304H459.52V296.128a33.152 33.152 0 0 1 66.304 0V395.52H625.28c18.24 0 33.152 14.848 33.152 33.152z m299.776 521.792a43.328 43.328 0 0 1-60.864-6.912l-189.248-220.992a362.368 362.368 0 0 1-215.36 70.848 364.8 364.8 0 1 1 364.8-364.736 363.072 363.072 0 0 1-86.912 235.968l192.384 224.64a43.392 43.392 0 0 1-4.8 61.184z m-465.536-223.36a298.816 298.816 0 0 0 298.432-298.432 298.816 298.816 0 0 0-298.432-298.432A298.816 298.816 0 0 0 194.24 428.8a298.816 298.816 0 0 0 298.432 298.432z"></path>\n              </svg>\n            </li>\n            <li code=\'zoomIn\'>\n              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="24" height="24">\n                <path d="M639.936 416a32 32 0 0 1-32 32h-256a32 32 0 0 1 0-64h256a32 32 0 0 1 32 32z m289.28 503.552a41.792 41.792 0 0 1-58.752-6.656l-182.656-213.248A349.76 349.76 0 0 1 480 768 352 352 0 1 1 832 416a350.4 350.4 0 0 1-83.84 227.712l185.664 216.768a41.856 41.856 0 0 1-4.608 59.072zM479.936 704c158.784 0 288-129.216 288-288S638.72 128 479.936 128a288.32 288.32 0 0 0-288 288c0 158.784 129.216 288 288 288z" p-id="3853"></path>\n              </svg>\n            </li>\n            <li code=\'realZoom\'>\n              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="24">\n                <path d="M384 320v384H320V320h64z m256 0v384H576V320h64zM512 576v64H448V576h64z m0-192v64H448V384h64z m355.968 576H92.032A28.16 28.16 0 0 1 64 931.968V28.032C64 12.608 76.608 0 95.168 0h610.368L896 192v739.968a28.16 28.16 0 0 1-28.032 28.032zM704 64v128h128l-128-128z m128 192h-190.464V64H128v832h704V256z"></path>\n              </svg>\n            </li>\n            <li code=\'autoZoom\'>\n              <svg class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" width="20" height="24">\n                <path d="M684.288 305.28l0.128-0.64-0.128-0.64V99.712c0-19.84 15.552-35.904 34.496-35.712a35.072 35.072 0 0 1 34.56 35.776v171.008h170.944c19.648 0 35.84 15.488 35.712 34.432a35.072 35.072 0 0 1-35.84 34.496h-204.16l-0.64-0.128a32.768 32.768 0 0 1-20.864-7.552c-1.344-1.024-2.816-1.664-3.968-2.816-0.384-0.32-0.512-0.768-0.832-1.088a33.472 33.472 0 0 1-9.408-22.848zM305.28 64a35.072 35.072 0 0 0-34.56 35.776v171.008H99.776A35.072 35.072 0 0 0 64 305.216c0 18.944 15.872 34.496 35.84 34.496h204.16l0.64-0.128a32.896 32.896 0 0 0 20.864-7.552c1.344-1.024 2.816-1.664 3.904-2.816 0.384-0.32 0.512-0.768 0.768-1.088a33.024 33.024 0 0 0 9.536-22.848l-0.128-0.64 0.128-0.704V99.712A35.008 35.008 0 0 0 305.216 64z m618.944 620.288h-204.16l-0.64 0.128-0.512-0.128c-7.808 0-14.72 3.2-20.48 7.68-1.28 1.024-2.752 1.664-3.84 2.752-0.384 0.32-0.512 0.768-0.832 1.088a33.664 33.664 0 0 0-9.408 22.912l0.128 0.64-0.128 0.704v204.288c0 19.712 15.552 35.904 34.496 35.712a35.072 35.072 0 0 0 34.56-35.776V753.28h170.944c19.648 0 35.84-15.488 35.712-34.432a35.072 35.072 0 0 0-35.84-34.496z m-593.92 11.52c-0.256-0.32-0.384-0.768-0.768-1.088-1.088-1.088-2.56-1.728-3.84-2.688a33.088 33.088 0 0 0-20.48-7.68l-0.512 0.064-0.64-0.128H99.84a35.072 35.072 0 0 0-35.84 34.496 35.072 35.072 0 0 0 35.712 34.432H270.72v171.008c0 19.84 15.552 35.84 34.56 35.776a35.008 35.008 0 0 0 34.432-35.712V720l-0.128-0.64 0.128-0.704a33.344 33.344 0 0 0-9.472-22.848zM512 374.144a137.92 137.92 0 1 0 0.128 275.84A137.92 137.92 0 0 0 512 374.08z"></path>\n              </svg>\n            </li>\n          </ul>\n        ';
                  },
                  zoomSensitivity: 2,
                };
              }),
              (e.prototype.init = function () {
                var t = this,
                  e = this.get('graph'),
                  n = this.get('getContent')(e),
                  r = n;
                (0, p.isString)(n) && (r = Yn(n));
                var i = this.get('className');
                r.setAttribute('class', i || 'g6-component-toolbar');
                var o = this.get('container');
                o || (o = this.get('graph').get('container')),
                  (0, p.isString)(o) && (o = document.getElementById(o)),
                  o.appendChild(r),
                  this.set('toolBar', r);
                var a = this.get('handleClick');
                r.addEventListener('click', function (n) {
                  var r = (function (t) {
                    if (!t) return [];
                    if (t.composedPath) return t.composedPath();
                    for (var e = [], n = t.target; n; ) {
                      if ((e.push(n), 'HTML' === n.tagName)) return e.push(document, window), e;
                      n = n.parentElement;
                    }
                    return e;
                  })(n).filter(function (t) {
                    return 'LI' === t.nodeName;
                  });
                  if (0 !== r.length) {
                    var i = r[0].getAttribute('code');
                    i && (a ? a(i, e) : t.handleDefaultOperator(i, e));
                  }
                });
                var s = this.get('position');
                s && $n(r, { top: ''.concat(s.y, 'px'), left: ''.concat(s.x, 'px') }),
                  this.bindUndoRedo();
              }),
              (e.prototype.bindUndoRedo = function () {
                var t = this.get('graph'),
                  e = document.querySelector('.g6-component-toolbar li[code="undo"]'),
                  n = document.querySelector('.g6-component-toolbar li[code="undo"] svg'),
                  r = document.querySelector('.g6-component-toolbar li[code="redo"]'),
                  i = document.querySelector('.g6-component-toolbar li[code="redo"] svg');
                e &&
                  n &&
                  r &&
                  i &&
                  t.on('stackchange', function (t) {
                    var o = t.undoStack,
                      a = t.redoStack,
                      s = o.length,
                      u = a.length;
                    1 === s
                      ? (e.setAttribute('style', 'cursor: not-allowed'),
                        n.setAttribute('style', 'opacity: 0.4'))
                      : (e.removeAttribute('style'), n.removeAttribute('style')),
                      0 === u
                        ? (r.setAttribute('style', 'cursor: not-allowed'),
                          i.setAttribute('style', 'opacity: 0.4'))
                        : (r.removeAttribute('style'), i.removeAttribute('style'));
                  });
              }),
              (e.prototype.undo = function () {
                var t = this.get('graph'),
                  e = t.getUndoStack();
                if (e && 1 !== e.length) {
                  var n = e.pop();
                  if (n) {
                    var r = n.action;
                    t.pushStack(r, (0, p.clone)(n.data), 'redo');
                    var i = n.data.before;
                    if (('add' === r && (i = n.data.after), !i)) return;
                    switch (r) {
                      case 'visible':
                        Object.keys(i).forEach(function (e) {
                          var n = i[e];
                          n &&
                            n.forEach(function (e) {
                              var n = t.findById(e.id);
                              e.visible ? t.showItem(n, !1) : t.hideItem(n, !1);
                            });
                        });
                        break;
                      case 'render':
                      case 'update':
                        Object.keys(i).forEach(function (e) {
                          var n = i[e];
                          n &&
                            n.forEach(function (e) {
                              t.updateItem(e.id, e, !1);
                            });
                        });
                        break;
                      case 'changedata':
                        t.changeData(i, !1);
                        break;
                      case 'delete':
                        Object.keys(i).forEach(function (e) {
                          var n = i[e];
                          n &&
                            n.forEach(function (e) {
                              var n = e.itemType;
                              delete e.itemType, t.addItem(n, e, !1);
                            });
                        });
                        break;
                      case 'add':
                        Object.keys(i).forEach(function (e) {
                          var n = i[e];
                          n &&
                            n.forEach(function (e) {
                              t.removeItem(e.id, !1);
                            });
                        });
                        break;
                      case 'updateComboTree':
                        Object.keys(i).forEach(function (e) {
                          var n = i[e];
                          n &&
                            n.forEach(function (e) {
                              t.updateComboTree(e.id, e.parentId, !1);
                            });
                        });
                    }
                  }
                }
              }),
              (e.prototype.redo = function () {
                var t = this.get('graph'),
                  e = t.getRedoStack();
                if (e && 0 !== e.length) {
                  var n = e.pop();
                  if (n) {
                    var r = n.action,
                      i = n.data.after;
                    if (
                      (t.pushStack(r, (0, p.clone)(n.data)),
                      'delete' === r && (i = n.data.before),
                      !i)
                    )
                      return;
                    switch (r) {
                      case 'visible':
                        Object.keys(i).forEach(function (e) {
                          var n = i[e];
                          n &&
                            n.forEach(function (e) {
                              var n = t.findById(e.id);
                              e.visible ? t.showItem(n, !1) : t.hideItem(n, !1);
                            });
                        });
                        break;
                      case 'render':
                      case 'update':
                        Object.keys(i).forEach(function (e) {
                          var n = i[e];
                          n &&
                            n.forEach(function (e) {
                              t.updateItem(e.id, e, !1);
                            });
                        });
                        break;
                      case 'changedata':
                        t.changeData(i, !1);
                        break;
                      case 'delete':
                        i.edges &&
                          i.edges.forEach(function (e) {
                            t.removeItem(e.id, !1);
                          }),
                          i.nodes &&
                            i.nodes.forEach(function (e) {
                              t.removeItem(e.id, !1);
                            }),
                          i.combos &&
                            i.combos.forEach(function (e) {
                              t.removeItem(e.id, !1);
                            });
                        break;
                      case 'add':
                        Object.keys(i).forEach(function (e) {
                          var n = i[e];
                          n &&
                            n.forEach(function (e) {
                              var n = e.itemType;
                              delete e.itemType, t.addItem(n, e, !1);
                            });
                        });
                        break;
                      case 'updateComboTree':
                        Object.keys(i).forEach(function (e) {
                          var n = i[e];
                          n &&
                            n.forEach(function (e) {
                              t.updateComboTree(e.id, e.parentId, !1);
                            });
                        });
                    }
                  }
                }
              }),
              (e.prototype.handleDefaultOperator = function (t, e) {
                var n = e.getZoom();
                switch (t) {
                  case 'redo':
                    this.redo();
                    break;
                  case 'undo':
                    this.undo();
                    break;
                  case 'zoomOut':
                    var r = 1 / (1 - 0.05 * this.get('zoomSensitivity'));
                    if (r * n > (this.get('maxZoom') || e.get('maxZoom'))) return;
                    e.zoomTo(n * r);
                    break;
                  case 'zoomIn':
                    var i = 1 - 0.05 * this.get('zoomSensitivity');
                    if (i * n < (this.get('minZoom') || e.get('minZoom'))) return;
                    e.zoomTo(n * i);
                    break;
                  case 'realZoom':
                    e.zoomTo(1);
                    break;
                  case 'autoZoom':
                    e.fitView([20, 20]);
                }
              }),
              (e.prototype.destroy = function () {
                var t = this.get('toolBar');
                if (t) {
                  var e = this.get('container');
                  e || (e = this.get('graph').get('container')),
                    (0, p.isString)(e) && (e = document.getElementById(e)),
                    e.removeChild(t);
                }
                var n = this.get('handleClick');
                n && t.removeEventListener('click', n);
              }),
              e
            );
          })(Jn);
          const Cr = Ar;
          var Ir = (function () {
            var t = function (e, n) {
              return (
                (t =
                  Object.setPrototypeOf ||
                  ({ __proto__: [] } instanceof Array &&
                    function (t, e) {
                      t.__proto__ = e;
                    }) ||
                  function (t, e) {
                    for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
                  }),
                t(e, n)
              );
            };
            return function (e, n) {
              if ('function' != typeof n && null !== n)
                throw new TypeError(
                  'Class extends value ' + String(n) + ' is not a constructor or null',
                );
              function r() {
                this.constructor = e;
              }
              t(e, n),
                (e.prototype =
                  null === n ? Object.create(n) : ((r.prototype = n.prototype), new r()));
            };
          })();
          'undefined' != typeof document &&
            ar()(
              '\n  .g6-component-tooltip {\n    border: 1px solid #e2e2e2;\n    border-radius: 4px;\n    font-size: 12px;\n    color: #545454;\n    background-color: rgba(255, 255, 255, 0.9);\n    padding: 10px 8px;\n    box-shadow: rgb(174, 174, 174) 0px 0px 10px;\n  }\n  .tooltip-type {\n    padding: 0;\n    margin: 0;\n  }\n  .tooltip-id {\n    color: #531dab;\n  }\n',
            );
          var Tr = (function (t) {
            function e(e) {
              return t.call(this, e) || this;
            }
            return (
              Ir(e, t),
              (e.prototype.getDefaultCfgs = function () {
                return {
                  offsetX: 6,
                  offsetY: 6,
                  getContent: function (t) {
                    return "\n          <h4 class='tooltip-type'>类型："
                      .concat(t.item.getType(), "</h4>\n          <span class='tooltip-id'>ID：")
                      .concat(t.item.getID(), '</span>\n        ');
                  },
                  shouldBegin: function (t) {
                    return !0;
                  },
                  itemTypes: ['node', 'edge', 'combo'],
                  trigger: 'mouseenter',
                  fixToNode: void 0,
                };
              }),
              (e.prototype.getEvents = function () {
                return 'click' === this.get('trigger')
                  ? {
                      'node:click': 'onClick',
                      'edge:click': 'onClick',
                      'combo:click': 'onClick',
                      'canvas:click': 'onMouseLeave',
                      afterremoveitem: 'onMouseLeave',
                      contextmenu: 'onMouseLeave',
                      drag: 'onMouseLeave',
                    }
                  : {
                      'node:mouseenter': 'onMouseEnter',
                      'node:mouseleave': 'onMouseLeave',
                      'node:mousemove': 'onMouseMove',
                      'edge:mouseenter': 'onMouseEnter',
                      'edge:mouseleave': 'onMouseLeave',
                      'edge:mousemove': 'onMouseMove',
                      'combo:mouseenter': 'onMouseEnter',
                      'combo:mouseleave': 'onMouseLeave',
                      'combo:mousemove': 'onMouseMove',
                      afterremoveitem: 'onMouseLeave',
                      contextmenu: 'onMouseLeave',
                      'node:drag': 'onMouseLeave',
                    };
              }),
              (e.prototype.init = function () {
                var t = this,
                  e = t.get('className') || 'g6-component-tooltip',
                  n = Yn('<div class='.concat(e, '></div>')),
                  r = t.get('container');
                r || (r = t.get('graph').get('container')),
                  (0, p.isString)(r) && (r = document.getElementById(r)),
                  $n(n, { position: 'absolute', visibility: 'hidden', display: 'none' }),
                  r.appendChild(n),
                  'click' !== t.get('trigger') &&
                    (n.addEventListener('mouseenter', function (t) {
                      $n(n, { visibility: 'visible', display: 'unset' });
                    }),
                    n.addEventListener('mouseleave', function (e) {
                      t.hideTooltip();
                    })),
                  t.set('tooltip', n);
              }),
              (e.prototype.onClick = function (t) {
                var e = this.get('itemTypes');
                if (!t.item || !t.item.getType || -1 !== e.indexOf(t.item.getType())) {
                  var n = t.item,
                    r = this.get('graph');
                  this.currentTarget === n
                    ? ((this.currentTarget = null),
                      this.hideTooltip(),
                      r.emit('tooltipchange', { item: t.item, action: 'hide' }))
                    : ((this.currentTarget = n),
                      this.showTooltip(t),
                      r.emit('tooltipchange', { item: t.item, action: 'show' }));
                }
              }),
              (e.prototype.onMouseEnter = function (t) {
                var e = this.get('itemTypes');
                if (!t.item || !t.item.getType || -1 !== e.indexOf(t.item.getType())) {
                  var n = t.item,
                    r = this.get('graph');
                  (this.currentTarget = n),
                    this.showTooltip(t),
                    r.emit('tooltipchange', { item: t.item, action: 'show' });
                }
              }),
              (e.prototype.onMouseMove = function (t) {
                var e = this.get('itemTypes');
                (t.item && t.item.getType && -1 === e.indexOf(t.item.getType())) ||
                  (this.currentTarget && t.item === this.currentTarget && this.showTooltip(t));
              }),
              (e.prototype.onMouseLeave = function () {
                this.hideTooltip(),
                  this.get('graph').emit('tooltipchange', {
                    item: this.currentTarget,
                    action: 'hide',
                  }),
                  (this.currentTarget = null);
              }),
              (e.prototype.clearContainer = function () {
                var t = this.get('tooltip');
                t && (t.innerHTML = '');
              }),
              (e.prototype.showTooltip = function (t) {
                if (t.item) {
                  var e = this.get('itemTypes');
                  if (!t.item.getType || -1 !== e.indexOf(t.item.getType())) {
                    var n = this.get('tooltip'),
                      r = this.get('getContent')(t);
                    (0, p.isString)(r)
                      ? (n.innerHTML = r)
                      : (this.clearContainer(), n.appendChild(r)),
                      this.updatePosition(t);
                  }
                }
              }),
              (e.prototype.hideTooltip = function () {
                var t = this.get('tooltip');
                t && $n(t, { visibility: 'hidden', display: 'none' });
              }),
              (e.prototype.updatePosition = function (t) {
                var e = this.get('shouldBegin'),
                  n = this.get('tooltip');
                if (e(t)) {
                  var r = this.get('graph'),
                    i = r.get('width'),
                    o = r.get('height'),
                    a = this.get('offsetX') || 0,
                    s = this.get('offsetY') || 0,
                    u = r.getPointByClient(t.clientX, t.clientY),
                    c = this.get('fixToNode'),
                    l = t.item;
                  if (
                    l.getType &&
                    'node' === l.getType() &&
                    c &&
                    (0, p.isArray)(c) &&
                    c.length >= 2
                  ) {
                    var h = l.getBBox();
                    u = { x: h.minX + h.width * c[0], y: h.minY + h.height * c[1] };
                  }
                  var f = r.getCanvasByPoint(u.x, u.y),
                    d = f.x,
                    g = f.y,
                    v = r.getContainer(),
                    y = { x: d + v.offsetLeft + a, y: g + v.offsetTop + s };
                  $n(n, { visibility: 'visible', display: 'unset' });
                  var m = n.getBoundingClientRect();
                  d + m.width + a > i && (y.x -= m.width + a),
                    g + m.height + s > o && (y.y -= m.height + s),
                    $n(n, { left: ''.concat(y.x, 'px'), top: ''.concat(y.y, 'px') });
                } else $n(n, { visibility: 'hidden', display: 'none' });
              }),
              (e.prototype.hide = function () {
                this.onMouseLeave();
              }),
              (e.prototype.destroy = function () {
                var t = this.get('tooltip');
                if (t) {
                  var e = this.get('container');
                  e || (e = this.get('graph').get('container')),
                    (0, p.isString)(e) && (e = document.getElementById(e)),
                    e.removeChild(t);
                }
              }),
              e
            );
          })(Jn);
          const Nr = Tr;
          var Pr = {};
          function Or(t, e) {
            Pr[t] = e;
          }
          var Dr = (function () {
            function t(t) {
              (this.type = 'base'),
                (this.isCategory = !1),
                (this.isLinear = !1),
                (this.isContinuous = !1),
                (this.isIdentity = !1),
                (this.values = []),
                (this.range = [0, 1]),
                (this.ticks = []),
                (this.__cfg__ = t),
                this.initCfg(),
                this.init();
            }
            return (
              (t.prototype.translate = function (t) {
                return t;
              }),
              (t.prototype.change = function (t) {
                (0, p.assign)(this.__cfg__, t), this.init();
              }),
              (t.prototype.clone = function () {
                return this.constructor(this.__cfg__);
              }),
              (t.prototype.getTicks = function () {
                var t = this;
                return (0, p.map)(this.ticks, function (e, n) {
                  return (0, p.isObject)(e)
                    ? e
                    : { text: t.getText(e, n), tickValue: e, value: t.scale(e) };
                });
              }),
              (t.prototype.getText = function (t, e) {
                var n = this.formatter,
                  r = n ? n(t, e) : t;
                return (0, p.isNil)(r) || !(0, p.isFunction)(r.toString) ? '' : r.toString();
              }),
              (t.prototype.getConfig = function (t) {
                return this.__cfg__[t];
              }),
              (t.prototype.init = function () {
                (0, p.assign)(this, this.__cfg__),
                  this.setDomain(),
                  (0, p.isEmpty)(this.getConfig('ticks')) && (this.ticks = this.calculateTicks());
              }),
              (t.prototype.initCfg = function () {}),
              (t.prototype.setDomain = function () {}),
              (t.prototype.calculateTicks = function () {
                var t = this.tickMethod,
                  e = [];
                if ((0, p.isString)(t)) {
                  var n = Pr[t];
                  if (!n) throw new Error('There is no method to to calculate ticks!');
                  e = n(this);
                } else (0, p.isFunction)(t) && (e = t(this));
                return e;
              }),
              (t.prototype.rangeMin = function () {
                return this.range[0];
              }),
              (t.prototype.rangeMax = function () {
                return this.range[1];
              }),
              (t.prototype.calcPercent = function (t, e, n) {
                return (0, p.isNumber)(t) ? (t - e) / (n - e) : NaN;
              }),
              (t.prototype.calcValue = function (t, e, n) {
                return e + t * (n - e);
              }),
              t
            );
          })();
          const Lr = Dr;
          var Rr = (function (t) {
            function e() {
              var e = (null !== t && t.apply(this, arguments)) || this;
              return (e.type = 'cat'), (e.isCategory = !0), e;
            }
            return (
              (0, c.__extends)(e, t),
              (e.prototype.buildIndexMap = function () {
                if (!this.translateIndexMap) {
                  this.translateIndexMap = new Map();
                  for (var t = 0; t < this.values.length; t++)
                    this.translateIndexMap.set(this.values[t], t);
                }
              }),
              (e.prototype.translate = function (t) {
                this.buildIndexMap();
                var e = this.translateIndexMap.get(t);
                return void 0 === e && (e = (0, p.isNumber)(t) ? t : NaN), e;
              }),
              (e.prototype.scale = function (t) {
                var e = this.translate(t),
                  n = this.calcPercent(e, this.min, this.max);
                return this.calcValue(n, this.rangeMin(), this.rangeMax());
              }),
              (e.prototype.invert = function (t) {
                var e = this.max - this.min,
                  n = this.calcPercent(t, this.rangeMin(), this.rangeMax()),
                  r = Math.round(e * n) + this.min;
                return r < this.min || r > this.max ? NaN : this.values[r];
              }),
              (e.prototype.getText = function (e) {
                for (var n = [], r = 1; r < arguments.length; r++) n[r - 1] = arguments[r];
                var i = e;
                return (
                  (0, p.isNumber)(e) && !this.values.includes(e) && (i = this.values[i]),
                  t.prototype.getText.apply(this, (0, c.__spreadArray)([i], n, !1))
                );
              }),
              (e.prototype.initCfg = function () {
                this.tickMethod = 'cat';
              }),
              (e.prototype.setDomain = function () {
                if (
                  ((0, p.isNil)(this.getConfig('min')) && (this.min = 0),
                  (0, p.isNil)(this.getConfig('max')))
                ) {
                  var t = this.values.length;
                  this.max = t > 1 ? t - 1 : t;
                }
                this.translateIndexMap && (this.translateIndexMap = void 0);
              }),
              e
            );
          })(Lr);
          const Br = Rr;
          var jr = /d{1,4}|M{1,4}|YY(?:YY)?|S{1,3}|Do|ZZ|Z|([HhMsDm])\1?|[aA]|"[^"]*"|'[^']*'/g,
            Gr = '[1-9]\\d?',
            zr = '\\d\\d',
            Fr = '[^\\s]+',
            Ur = /\[([^]*?)\]/gm;
          function Vr(t, e) {
            for (var n = [], r = 0, i = t.length; r < i; r++) n.push(t[r].substr(0, e));
            return n;
          }
          var Wr = function (t) {
            return function (e, n) {
              var r = n[t].map(function (t) {
                  return t.toLowerCase();
                }),
                i = r.indexOf(e.toLowerCase());
              return i > -1 ? i : null;
            };
          };
          function Yr(t) {
            for (var e = [], n = 1; n < arguments.length; n++) e[n - 1] = arguments[n];
            for (var r = 0, i = e; r < i.length; r++) {
              var o = i[r];
              for (var a in o) t[a] = o[a];
            }
            return t;
          }
          var Xr = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'],
            Hr = [
              'January',
              'February',
              'March',
              'April',
              'May',
              'June',
              'July',
              'August',
              'September',
              'October',
              'November',
              'December',
            ],
            qr = Vr(Hr, 3),
            Kr = {
              dayNamesShort: Vr(Xr, 3),
              dayNames: Xr,
              monthNamesShort: qr,
              monthNames: Hr,
              amPm: ['am', 'pm'],
              DoFn: function (t) {
                return (
                  t +
                  ['th', 'st', 'nd', 'rd'][t % 10 > 3 ? 0 : ((t - (t % 10) != 10 ? 1 : 0) * t) % 10]
                );
              },
            },
            Zr = Yr({}, Kr),
            $r = function (t) {
              return (Zr = Yr(Zr, t));
            },
            Qr = function (t) {
              return t.replace(/[|\\{()[^$+*?.-]/g, '\\$&');
            },
            Jr = function (t, e) {
              for (void 0 === e && (e = 2), t = String(t); t.length < e; ) t = '0' + t;
              return t;
            },
            ti = {
              D: function (t) {
                return String(t.getDate());
              },
              DD: function (t) {
                return Jr(t.getDate());
              },
              Do: function (t, e) {
                return e.DoFn(t.getDate());
              },
              d: function (t) {
                return String(t.getDay());
              },
              dd: function (t) {
                return Jr(t.getDay());
              },
              ddd: function (t, e) {
                return e.dayNamesShort[t.getDay()];
              },
              dddd: function (t, e) {
                return e.dayNames[t.getDay()];
              },
              M: function (t) {
                return String(t.getMonth() + 1);
              },
              MM: function (t) {
                return Jr(t.getMonth() + 1);
              },
              MMM: function (t, e) {
                return e.monthNamesShort[t.getMonth()];
              },
              MMMM: function (t, e) {
                return e.monthNames[t.getMonth()];
              },
              YY: function (t) {
                return Jr(String(t.getFullYear()), 4).substr(2);
              },
              YYYY: function (t) {
                return Jr(t.getFullYear(), 4);
              },
              h: function (t) {
                return String(t.getHours() % 12 || 12);
              },
              hh: function (t) {
                return Jr(t.getHours() % 12 || 12);
              },
              H: function (t) {
                return String(t.getHours());
              },
              HH: function (t) {
                return Jr(t.getHours());
              },
              m: function (t) {
                return String(t.getMinutes());
              },
              mm: function (t) {
                return Jr(t.getMinutes());
              },
              s: function (t) {
                return String(t.getSeconds());
              },
              ss: function (t) {
                return Jr(t.getSeconds());
              },
              S: function (t) {
                return String(Math.round(t.getMilliseconds() / 100));
              },
              SS: function (t) {
                return Jr(Math.round(t.getMilliseconds() / 10), 2);
              },
              SSS: function (t) {
                return Jr(t.getMilliseconds(), 3);
              },
              a: function (t, e) {
                return t.getHours() < 12 ? e.amPm[0] : e.amPm[1];
              },
              A: function (t, e) {
                return t.getHours() < 12 ? e.amPm[0].toUpperCase() : e.amPm[1].toUpperCase();
              },
              ZZ: function (t) {
                var e = t.getTimezoneOffset();
                return (
                  (e > 0 ? '-' : '+') +
                  Jr(100 * Math.floor(Math.abs(e) / 60) + (Math.abs(e) % 60), 4)
                );
              },
              Z: function (t) {
                var e = t.getTimezoneOffset();
                return (
                  (e > 0 ? '-' : '+') +
                  Jr(Math.floor(Math.abs(e) / 60), 2) +
                  ':' +
                  Jr(Math.abs(e) % 60, 2)
                );
              },
            },
            ei = function (t) {
              return +t - 1;
            },
            ni = [null, Gr],
            ri = [null, Fr],
            ii = [
              'isPm',
              Fr,
              function (t, e) {
                var n = t.toLowerCase();
                return n === e.amPm[0] ? 0 : n === e.amPm[1] ? 1 : null;
              },
            ],
            oi = [
              'timezoneOffset',
              '[^\\s]*?[\\+\\-]\\d\\d:?\\d\\d|[^\\s]*?Z?',
              function (t) {
                var e = (t + '').match(/([+-]|\d\d)/gi);
                if (e) {
                  var n = 60 * +e[1] + parseInt(e[2], 10);
                  return '+' === e[0] ? n : -n;
                }
                return 0;
              },
            ],
            ai = {
              D: ['day', Gr],
              DD: ['day', zr],
              Do: [
                'day',
                '[1-9]\\d?[^\\s]+',
                function (t) {
                  return parseInt(t, 10);
                },
              ],
              M: ['month', Gr, ei],
              MM: ['month', zr, ei],
              YY: [
                'year',
                zr,
                function (t) {
                  var e = +('' + new Date().getFullYear()).substr(0, 2);
                  return +('' + (+t > 68 ? e - 1 : e) + t);
                },
              ],
              h: ['hour', Gr, void 0, 'isPm'],
              hh: ['hour', zr, void 0, 'isPm'],
              H: ['hour', Gr],
              HH: ['hour', zr],
              m: ['minute', Gr],
              mm: ['minute', zr],
              s: ['second', Gr],
              ss: ['second', zr],
              YYYY: ['year', '\\d{4}'],
              S: [
                'millisecond',
                '\\d',
                function (t) {
                  return 100 * +t;
                },
              ],
              SS: [
                'millisecond',
                zr,
                function (t) {
                  return 10 * +t;
                },
              ],
              SSS: ['millisecond', '\\d{3}'],
              d: ni,
              dd: ni,
              ddd: ri,
              dddd: ri,
              MMM: ['month', Fr, Wr('monthNamesShort')],
              MMMM: ['month', Fr, Wr('monthNames')],
              a: ii,
              A: ii,
              ZZ: oi,
              Z: oi,
            },
            si = {
              default: 'ddd MMM DD YYYY HH:mm:ss',
              shortDate: 'M/D/YY',
              mediumDate: 'MMM D, YYYY',
              longDate: 'MMMM D, YYYY',
              fullDate: 'dddd, MMMM D, YYYY',
              isoDate: 'YYYY-MM-DD',
              isoDateTime: 'YYYY-MM-DDTHH:mm:ssZ',
              shortTime: 'HH:mm',
              mediumTime: 'HH:mm:ss',
              longTime: 'HH:mm:ss.SSS',
            },
            ui = function (t) {
              return Yr(si, t);
            },
            ci = function (t, e, n) {
              if (
                (void 0 === e && (e = si.default),
                void 0 === n && (n = {}),
                'number' == typeof t && (t = new Date(t)),
                '[object Date]' !== Object.prototype.toString.call(t) || isNaN(t.getTime()))
              )
                throw new Error('Invalid Date pass to format');
              var r = [];
              e = (e = si[e] || e).replace(Ur, function (t, e) {
                return r.push(e), '@@@';
              });
              var i = Yr(Yr({}, Zr), n);
              return (e = e.replace(jr, function (e) {
                return ti[e](t, i);
              })).replace(/@@@/g, function () {
                return r.shift();
              });
            };
          function li(t, e, n) {
            if ((void 0 === n && (n = {}), 'string' != typeof e))
              throw new Error('Invalid format in fecha parse');
            if (((e = si[e] || e), t.length > 1e3)) return null;
            var r = {
                year: new Date().getFullYear(),
                month: 0,
                day: 1,
                hour: 0,
                minute: 0,
                second: 0,
                millisecond: 0,
                isPm: null,
                timezoneOffset: null,
              },
              i = [],
              o = [],
              a = e.replace(Ur, function (t, e) {
                return o.push(Qr(e)), '@@@';
              }),
              s = {},
              u = {};
            (a = Qr(a).replace(jr, function (t) {
              var e = ai[t],
                n = e[0],
                r = e[1],
                o = e[3];
              if (s[n]) throw new Error('Invalid format. ' + n + ' specified twice in format');
              return (s[n] = !0), o && (u[o] = !0), i.push(e), '(' + r + ')';
            })),
              Object.keys(u).forEach(function (t) {
                if (!s[t])
                  throw new Error('Invalid format. ' + t + ' is required in specified format');
              }),
              (a = a.replace(/@@@/g, function () {
                return o.shift();
              }));
            var c = t.match(new RegExp(a, 'i'));
            if (!c) return null;
            for (var l = Yr(Yr({}, Zr), n), h = 1; h < c.length; h++) {
              var f = i[h - 1],
                d = f[0],
                p = f[2],
                g = p ? p(c[h], l) : +c[h];
              if (null == g) return null;
              r[d] = g;
            }
            1 === r.isPm && null != r.hour && 12 != +r.hour
              ? (r.hour = +r.hour + 12)
              : 0 === r.isPm && 12 == +r.hour && (r.hour = 0);
            for (
              var v = new Date(r.year, r.month, r.day, r.hour, r.minute, r.second, r.millisecond),
                y = [
                  ['month', 'getMonth'],
                  ['day', 'getDate'],
                  ['hour', 'getHours'],
                  ['minute', 'getMinutes'],
                  ['second', 'getSeconds'],
                ],
                m = ((h = 0), y.length);
              h < m;
              h++
            )
              if (s[y[h][0]] && r[y[h][0]] !== v[y[h][1]]()) return null;
            return null == r.timezoneOffset
              ? v
              : new Date(
                  Date.UTC(
                    r.year,
                    r.month,
                    r.day,
                    r.hour,
                    r.minute - r.timezoneOffset,
                    r.second,
                    r.millisecond,
                  ),
                );
          }
          const hi = {
            format: ci,
            parse: li,
            defaultI18n: Kr,
            setGlobalDateI18n: $r,
            setGlobalDateMasks: ui,
          };
          function fi(t, e) {
            return (u.format || hi.format)(t, e);
          }
          function di(t) {
            return (
              (0, p.isString)(t) &&
                (t =
                  t.indexOf('T') > 0
                    ? new Date(t).getTime()
                    : new Date(t.replace(/-/gi, '/')).getTime()),
              (0, p.isDate)(t) && (t = t.getTime()),
              t
            );
          }
          var pi = 1e3,
            gi = 6e4,
            vi = 36e5,
            yi = 24 * vi,
            mi = 31 * yi,
            bi = 365 * yi,
            xi = [
              ['HH:mm:ss', pi],
              ['HH:mm:ss', 1e4],
              ['HH:mm:ss', 3e4],
              ['HH:mm', gi],
              ['HH:mm', 6e5],
              ['HH:mm', 18e5],
              ['HH', vi],
              ['HH', 6 * vi],
              ['HH', 12 * vi],
              ['YYYY-MM-DD', yi],
              ['YYYY-MM-DD', 4 * yi],
              ['YYYY-WW', 7 * yi],
              ['YYYY-MM', mi],
              ['YYYY-MM', 4 * mi],
              ['YYYY-MM', 6 * mi],
              ['YYYY', 380 * yi],
            ];
          var _i = (function (t) {
            function e() {
              var e = (null !== t && t.apply(this, arguments)) || this;
              return (e.type = 'timeCat'), e;
            }
            return (
              (0, c.__extends)(e, t),
              (e.prototype.translate = function (t) {
                t = di(t);
                var e = this.values.indexOf(t);
                return -1 === e && (e = (0, p.isNumber)(t) && t < this.values.length ? t : NaN), e;
              }),
              (e.prototype.getText = function (t, e) {
                var n = this.translate(t);
                if (n > -1) {
                  var r = this.values[n],
                    i = this.formatter;
                  return i ? i(r, e) : fi(r, this.mask);
                }
                return t;
              }),
              (e.prototype.initCfg = function () {
                (this.tickMethod = 'time-cat'), (this.mask = 'YYYY-MM-DD'), (this.tickCount = 7);
              }),
              (e.prototype.setDomain = function () {
                var e = this.values;
                (0, p.each)(e, function (t, n) {
                  e[n] = di(t);
                }),
                  e.sort(function (t, e) {
                    return t - e;
                  }),
                  t.prototype.setDomain.call(this);
              }),
              e
            );
          })(Br);
          const wi = _i;
          var Ei = (function (t) {
            function e() {
              var e = (null !== t && t.apply(this, arguments)) || this;
              return (e.isContinuous = !0), e;
            }
            return (
              (0, c.__extends)(e, t),
              (e.prototype.scale = function (t) {
                if ((0, p.isNil)(t)) return NaN;
                var e = this.rangeMin(),
                  n = this.rangeMax();
                return this.max === this.min ? e : e + this.getScalePercent(t) * (n - e);
              }),
              (e.prototype.init = function () {
                t.prototype.init.call(this);
                var e = this.ticks,
                  n = (0, p.head)(e),
                  r = (0, p.last)(e);
                n < this.min && (this.min = n),
                  r > this.max && (this.max = r),
                  (0, p.isNil)(this.minLimit) || (this.min = n),
                  (0, p.isNil)(this.maxLimit) || (this.max = r);
              }),
              (e.prototype.setDomain = function () {
                var t = (0, p.getRange)(this.values),
                  e = t.min,
                  n = t.max;
                (0, p.isNil)(this.min) && (this.min = e),
                  (0, p.isNil)(this.max) && (this.max = n),
                  this.min > this.max && ((this.min = e), (this.max = n));
              }),
              (e.prototype.calculateTicks = function () {
                var e = this,
                  n = t.prototype.calculateTicks.call(this);
                return (
                  this.nice ||
                    (n = (0, p.filter)(n, function (t) {
                      return t >= e.min && t <= e.max;
                    })),
                  n
                );
              }),
              (e.prototype.getScalePercent = function (t) {
                var e = this.max,
                  n = this.min;
                return (t - n) / (e - n);
              }),
              (e.prototype.getInvertPercent = function (t) {
                return (t - this.rangeMin()) / (this.rangeMax() - this.rangeMin());
              }),
              e
            );
          })(Lr);
          const Si = Ei;
          var Mi = (function (t) {
            function e() {
              var e = (null !== t && t.apply(this, arguments)) || this;
              return (e.type = 'linear'), (e.isLinear = !0), e;
            }
            return (
              (0, c.__extends)(e, t),
              (e.prototype.invert = function (t) {
                var e = this.getInvertPercent(t);
                return this.min + e * (this.max - this.min);
              }),
              (e.prototype.initCfg = function () {
                (this.tickMethod = 'wilkinson-extended'), (this.nice = !1);
              }),
              e
            );
          })(Si);
          const ki = Mi;
          function Ai(t, e) {
            var n = Math.E;
            return e >= 0 ? Math.pow(n, Math.log(e) / t) : -1 * Math.pow(n, Math.log(-e) / t);
          }
          function Ci(t, e) {
            return 1 === t ? 1 : Math.log(e) / Math.log(t);
          }
          function Ii(t, e, n) {
            (0, p.isNil)(n) && (n = Math.max.apply(null, t));
            var r = n;
            return (
              (0, p.each)(t, function (t) {
                t > 0 && t < r && (r = t);
              }),
              r === n && (r = n / e),
              r > 1 && (r = 1),
              r
            );
          }
          var Ti = (function (t) {
            function e() {
              var e = (null !== t && t.apply(this, arguments)) || this;
              return (e.type = 'log'), e;
            }
            return (
              (0, c.__extends)(e, t),
              (e.prototype.invert = function (t) {
                var e,
                  n = this.base,
                  r = Ci(n, this.max),
                  i = this.rangeMin(),
                  o = this.rangeMax() - i,
                  a = this.positiveMin;
                if (a) {
                  if (0 === t) return 0;
                  var s = (1 / (r - (e = Ci(n, a / n)))) * o;
                  if (t < s) return (t / s) * a;
                } else e = Ci(n, this.min);
                var u = ((t - i) / o) * (r - e) + e;
                return Math.pow(n, u);
              }),
              (e.prototype.initCfg = function () {
                (this.tickMethod = 'log'), (this.base = 10), (this.tickCount = 6), (this.nice = !0);
              }),
              (e.prototype.setDomain = function () {
                t.prototype.setDomain.call(this);
                var e = this.min;
                if (e < 0)
                  throw new Error(
                    'When you use log scale, the minimum value must be greater than zero!',
                  );
                0 === e && (this.positiveMin = Ii(this.values, this.base, this.max));
              }),
              (e.prototype.getScalePercent = function (t) {
                var e = this.max,
                  n = this.min;
                if (e === n) return 0;
                if (t <= 0) return 0;
                var r = this.base,
                  i = this.positiveMin;
                return (
                  i && (n = (1 * i) / r),
                  t < i
                    ? t / i / (Ci(r, e) - Ci(r, n))
                    : (Ci(r, t) - Ci(r, n)) / (Ci(r, e) - Ci(r, n))
                );
              }),
              e
            );
          })(Si);
          const Ni = Ti;
          var Pi = (function (t) {
            function e() {
              var e = (null !== t && t.apply(this, arguments)) || this;
              return (e.type = 'pow'), e;
            }
            return (
              (0, c.__extends)(e, t),
              (e.prototype.invert = function (t) {
                var e = this.getInvertPercent(t),
                  n = this.exponent,
                  r = Ai(n, this.max),
                  i = Ai(n, this.min),
                  o = e * (r - i) + i,
                  a = o >= 0 ? 1 : -1;
                return Math.pow(o, n) * a;
              }),
              (e.prototype.initCfg = function () {
                (this.tickMethod = 'pow'),
                  (this.exponent = 2),
                  (this.tickCount = 5),
                  (this.nice = !0);
              }),
              (e.prototype.getScalePercent = function (t) {
                var e = this.max,
                  n = this.min;
                if (e === n) return 0;
                var r = this.exponent;
                return (Ai(r, t) - Ai(r, n)) / (Ai(r, e) - Ai(r, n));
              }),
              e
            );
          })(Si);
          const Oi = Pi;
          var Di = (function (t) {
            function e() {
              var e = (null !== t && t.apply(this, arguments)) || this;
              return (e.type = 'time'), e;
            }
            return (
              (0, c.__extends)(e, t),
              (e.prototype.getText = function (t, e) {
                var n = this.translate(t),
                  r = this.formatter;
                return r ? r(n, e) : fi(n, this.mask);
              }),
              (e.prototype.scale = function (e) {
                var n = e;
                return (
                  ((0, p.isString)(n) || (0, p.isDate)(n)) && (n = this.translate(n)),
                  t.prototype.scale.call(this, n)
                );
              }),
              (e.prototype.translate = function (t) {
                return di(t);
              }),
              (e.prototype.initCfg = function () {
                (this.tickMethod = 'time-pretty'),
                  (this.mask = 'YYYY-MM-DD'),
                  (this.tickCount = 7),
                  (this.nice = !1);
              }),
              (e.prototype.setDomain = function () {
                var t = this.values,
                  e = this.getConfig('min'),
                  n = this.getConfig('max');
                if (
                  (((0, p.isNil)(e) && (0, p.isNumber)(e)) || (this.min = this.translate(this.min)),
                  ((0, p.isNil)(n) && (0, p.isNumber)(n)) || (this.max = this.translate(this.max)),
                  t && t.length)
                ) {
                  var r = [],
                    i = 1 / 0,
                    o = i,
                    a = 0;
                  (0, p.each)(t, function (t) {
                    var e = di(t);
                    if (isNaN(e)) throw new TypeError('Invalid Time: ' + t + ' in time scale!');
                    i > e ? ((o = i), (i = e)) : o > e && (o = e), a < e && (a = e), r.push(e);
                  }),
                    t.length > 1 && (this.minTickInterval = o - i),
                    (0, p.isNil)(e) && (this.min = i),
                    (0, p.isNil)(n) && (this.max = a);
                }
              }),
              e
            );
          })(ki);
          const Li = Di;
          var Ri = (function (t) {
            function e() {
              var e = (null !== t && t.apply(this, arguments)) || this;
              return (e.type = 'quantize'), e;
            }
            return (
              (0, c.__extends)(e, t),
              (e.prototype.invert = function (t) {
                var e = this.ticks,
                  n = e.length,
                  r = this.getInvertPercent(t),
                  i = Math.floor(r * (n - 1));
                if (i >= n - 1) return (0, p.last)(e);
                if (i < 0) return (0, p.head)(e);
                var o = e[i],
                  a = i / (n - 1);
                return o + ((r - a) / ((i + 1) / (n - 1) - a)) * (e[i + 1] - o);
              }),
              (e.prototype.initCfg = function () {
                (this.tickMethod = 'r-pretty'), (this.tickCount = 5), (this.nice = !0);
              }),
              (e.prototype.calculateTicks = function () {
                var e = t.prototype.calculateTicks.call(this);
                return (
                  this.nice ||
                    ((0, p.last)(e) !== this.max && e.push(this.max),
                    (0, p.head)(e) !== this.min && e.unshift(this.min)),
                  e
                );
              }),
              (e.prototype.getScalePercent = function (t) {
                var e = this.ticks;
                if (t < (0, p.head)(e)) return 0;
                if (t > (0, p.last)(e)) return 1;
                var n = 0;
                return (
                  (0, p.each)(e, function (e, r) {
                    if (!(t >= e)) return !1;
                    n = r;
                  }),
                  n / (e.length - 1)
                );
              }),
              e
            );
          })(Si);
          const Bi = Ri;
          var ji = (function (t) {
            function e() {
              var e = (null !== t && t.apply(this, arguments)) || this;
              return (e.type = 'quantile'), e;
            }
            return (
              (0, c.__extends)(e, t),
              (e.prototype.initCfg = function () {
                (this.tickMethod = 'quantile'), (this.tickCount = 5), (this.nice = !0);
              }),
              e
            );
          })(Bi);
          const Gi = ji;
          var zi = {};
          function Fi(t, e) {
            if (
              (function (t) {
                return zi[t];
              })(t)
            )
              throw new Error("type '" + t + "' existed.");
            zi[t] = e;
          }
          var Ui = (function (t) {
            function e() {
              var e = (null !== t && t.apply(this, arguments)) || this;
              return (e.type = 'identity'), (e.isIdentity = !0), e;
            }
            return (
              (0, c.__extends)(e, t),
              (e.prototype.calculateTicks = function () {
                return this.values;
              }),
              (e.prototype.scale = function (t) {
                return this.values[0] !== t && (0, p.isNumber)(t) ? t : this.range[0];
              }),
              (e.prototype.invert = function (t) {
                var e = this.range;
                return t < e[0] || t > e[1] ? NaN : this.values[0];
              }),
              e
            );
          })(Lr);
          const Vi = Ui;
          function Wi(t) {
            return Math.abs(t) < 1e-15 ? t : parseFloat(t.toFixed(15));
          }
          var Yi = [1, 5, 2, 2.5, 4, 3],
            Xi = 100 * Number.EPSILON;
          function Hi(t, e, n, r, i, o) {
            var a = (0, p.size)(e),
              s = (0, p.indexOf)(e, t),
              u = 0,
              c = (function (t, e) {
                return ((t % e) + e) % e;
              })(r, o);
            return (c < Xi || o - c < Xi) && r <= 0 && i >= 0 && (u = 1), 1 - s / (a - 1) - n + u;
          }
          function qi(t, e, n) {
            var r = (0, p.size)(e);
            return 1 - (0, p.indexOf)(e, t) / (r - 1) - n + 1;
          }
          function Ki(t, e, n, r, i, o) {
            var a = (t - 1) / (o - i),
              s = (e - 1) / (Math.max(o, r) - Math.min(n, i));
            return 2 - Math.max(a / s, s / a);
          }
          function Zi(t, e) {
            return t >= e ? 2 - (t - 1) / (e - 1) : 1;
          }
          function $i(t, e, n, r) {
            var i = e - t;
            return 1 - (0.5 * (Math.pow(e - r, 2) + Math.pow(t - n, 2))) / Math.pow(0.1 * i, 2);
          }
          function Qi(t, e, n) {
            var r = e - t;
            if (n > r) {
              var i = (n - r) / 2;
              return 1 - Math.pow(i, 2) / Math.pow(0.1 * r, 2);
            }
            return 1;
          }
          function Ji(t, e, n, r, i, o) {
            void 0 === n && (n = 5),
              void 0 === r && (r = !0),
              void 0 === i && (i = Yi),
              void 0 === o && (o = [0.25, 0.2, 0.5, 0.05]);
            var a = n < 0 ? 0 : Math.round(n);
            if (
              Number.isNaN(t) ||
              Number.isNaN(e) ||
              'number' != typeof t ||
              'number' != typeof e ||
              !a
            )
              return { min: 0, max: 0, ticks: [] };
            if (e - t < 1e-15 || 1 === a) return { min: t, max: e, ticks: [t] };
            for (var s = { score: -2, lmin: 0, lmax: 0, lstep: 0 }, u = 1; u < 1 / 0; ) {
              for (var c = 0; c < i.length; c += 1) {
                var l = i[c],
                  h = qi(l, i, u);
                if (o[0] * h + o[1] + o[2] + o[3] < s.score) {
                  u = 1 / 0;
                  break;
                }
                for (var f = 2; f < 1 / 0; ) {
                  var d = Zi(f, a);
                  if (o[0] * h + o[1] + o[2] * d + o[3] < s.score) break;
                  for (
                    var g = (e - t) / (f + 1) / u / l, v = Math.ceil(Math.log10(g));
                    v < 1 / 0;

                  ) {
                    var y = u * l * Math.pow(10, v),
                      m = Qi(t, e, y * (f - 1));
                    if (o[0] * h + o[1] * m + o[2] * d + o[3] < s.score) break;
                    var b = Math.floor(e / y) * u - (f - 1) * u,
                      x = Math.ceil(t / y) * u;
                    if (b <= x)
                      for (var _ = x - b, w = 0; w <= _; w += 1) {
                        var E = (b + w) * (y / u),
                          S = E + y * (f - 1),
                          M = y,
                          k = Hi(l, i, u, E, S, M),
                          A = $i(t, e, E, S),
                          C = Ki(f, a, t, e, E, S),
                          I = o[0] * k + o[1] * A + o[2] * C + 1 * o[3];
                        I > s.score &&
                          (!r || (E <= t && S >= e)) &&
                          ((s.lmin = E), (s.lmax = S), (s.lstep = M), (s.score = I));
                      }
                    v += 1;
                  }
                  f += 1;
                }
              }
              u += 1;
            }
            var T = Wi(s.lmax),
              N = Wi(s.lmin),
              P = Wi(s.lstep),
              O =
                Math.floor(
                  (function (t) {
                    return Math.round(1e12 * t) / 1e12;
                  })((T - N) / P),
                ) + 1,
              D = new Array(O);
            for (D[0] = Wi(N), c = 1; c < O; c++) D[c] = Wi(D[c - 1] + P);
            return { min: Math.min(t, (0, p.head)(D)), max: Math.max(e, (0, p.last)(D)), ticks: D };
          }
          function to(t) {
            var e = t.values,
              n = t.tickInterval,
              r = t.tickCount,
              i = e;
            if ((0, p.isNumber)(n))
              return (0, p.filter)(i, function (t, e) {
                return e % n == 0;
              });
            var o = t.min,
              a = t.max;
            if (
              ((0, p.isNil)(o) && (o = 0),
              (0, p.isNil)(a) && (a = e.length - 1),
              (0, p.isNumber)(r) && r < a - o)
            ) {
              var s = Ji(o, a, r, !1, [1, 2, 5, 3, 4, 7, 6, 8, 9]).ticks;
              return (0, p.filter)(s, function (t) {
                return t >= o && t <= a;
              }).map(function (t) {
                return e[t];
              });
            }
            return e.slice(o, a + 1);
          }
          var eo = Math.sqrt(50),
            no = Math.sqrt(10),
            ro = Math.sqrt(2),
            io = (function () {
              function t() {
                this._domain = [0, 1];
              }
              return (
                (t.prototype.domain = function (t) {
                  return t ? ((this._domain = Array.from(t, Number)), this) : this._domain.slice();
                }),
                (t.prototype.nice = function (t) {
                  var e, n;
                  void 0 === t && (t = 5);
                  var r,
                    i = this._domain.slice(),
                    o = 0,
                    a = this._domain.length - 1,
                    s = this._domain[o],
                    u = this._domain[a];
                  return (
                    u < s && ((s = (e = [u, s])[0]), (u = e[1]), (o = (n = [a, o])[0]), (a = n[1])),
                    (r = oo(s, u, t)) > 0
                      ? (r = oo((s = Math.floor(s / r) * r), (u = Math.ceil(u / r) * r), t))
                      : r < 0 &&
                        (r = oo((s = Math.ceil(s * r) / r), (u = Math.floor(u * r) / r), t)),
                    r > 0
                      ? ((i[o] = Math.floor(s / r) * r),
                        (i[a] = Math.ceil(u / r) * r),
                        this.domain(i))
                      : r < 0 &&
                        ((i[o] = Math.ceil(s * r) / r),
                        (i[a] = Math.floor(u * r) / r),
                        this.domain(i)),
                    this
                  );
                }),
                (t.prototype.ticks = function (t) {
                  return (
                    void 0 === t && (t = 5),
                    (function (t, e, n) {
                      var r,
                        i,
                        o,
                        a,
                        s = -1;
                      if (((n = +n), (t = +t) == (e = +e) && n > 0)) return [t];
                      if (
                        ((r = e < t) && ((i = t), (t = e), (e = i)),
                        0 === (a = oo(t, e, n)) || !isFinite(a))
                      )
                        return [];
                      if (a > 0)
                        for (
                          t = Math.ceil(t / a),
                            e = Math.floor(e / a),
                            o = new Array((i = Math.ceil(e - t + 1)));
                          ++s < i;

                        )
                          o[s] = (t + s) * a;
                      else
                        for (
                          t = Math.floor(t * a),
                            e = Math.ceil(e * a),
                            o = new Array((i = Math.ceil(t - e + 1)));
                          ++s < i;

                        )
                          o[s] = (t - s) / a;
                      return r && o.reverse(), o;
                    })(this._domain[0], this._domain[this._domain.length - 1], t || 5)
                  );
                }),
                t
              );
            })();
          function oo(t, e, n) {
            var r = (e - t) / Math.max(0, n),
              i = Math.floor(Math.log(r) / Math.LN10),
              o = r / Math.pow(10, i);
            return i >= 0
              ? (o >= eo ? 10 : o >= no ? 5 : o >= ro ? 2 : 1) * Math.pow(10, i)
              : -Math.pow(10, -i) / (o >= eo ? 10 : o >= no ? 5 : o >= ro ? 2 : 1);
          }
          function ao(t, e, n) {
            return (
              ('ceil' === n
                ? Math.ceil(t / e)
                : 'floor' === n
                ? Math.floor(t / e)
                : Math.round(t / e)) * e
            );
          }
          function so(t, e, n) {
            var r = ao(t, n, 'floor'),
              i = ao(e, n, 'ceil');
            (r = (0, p.fixedBase)(r, n)), (i = (0, p.fixedBase)(i, n));
            for (var o = [], a = r; a <= i; a += n) {
              var s = (0, p.fixedBase)(a, n);
              o.push(s);
            }
            return { min: r, max: i, ticks: o };
          }
          function uo(t, e, n) {
            var r,
              i = t.minLimit,
              o = t.maxLimit,
              a = t.min,
              s = t.max,
              u = t.tickCount,
              c = void 0 === u ? 5 : u,
              l = (0, p.isNil)(i) ? ((0, p.isNil)(e) ? a : e) : i,
              h = (0, p.isNil)(o) ? ((0, p.isNil)(n) ? s : n) : o;
            if ((l > h && ((h = (r = [l, h])[0]), (l = r[1])), c <= 2)) return [l, h];
            for (var f = (h - l) / (c - 1), d = [], g = 0; g < c; g++) d.push(l + f * g);
            return d;
          }
          function co(t, e, n) {
            if ((void 0 === n && (n = 5), t === e)) return { max: e, min: t, ticks: [t] };
            var r = n < 0 ? 0 : Math.round(n);
            if (0 === r) return { max: e, min: t, ticks: [] };
            var i = (e - t) / r,
              o = Math.pow(10, Math.floor(Math.log10(i))),
              a = o;
            2 * o - i < 1.5 * (i - a) &&
              5 * o - i < 2.75 * (i - (a = 2 * o)) &&
              10 * o - i < 1.5 * (i - (a = 5 * o)) &&
              (a = 10 * o);
            for (
              var s = Math.ceil(e / a),
                u = Math.floor(t / a),
                c = Math.max(s * a, e),
                l = Math.min(u * a, t),
                h = Math.floor((c - l) / a) + 1,
                f = new Array(h),
                d = 0;
              d < h;
              d++
            )
              f[d] = Wi(l + d * a);
            return { min: l, max: c, ticks: f };
          }
          function lo(t, e) {
            var n = t.length * e;
            return 1 === e
              ? t[t.length - 1]
              : 0 === e
              ? t[0]
              : n % 1 != 0
              ? t[Math.ceil(n) - 1]
              : t.length % 2 == 0
              ? (t[n - 1] + t[n]) / 2
              : t[n];
          }
          function ho(t) {
            return new Date(t).getFullYear();
          }
          function fo(t) {
            return new Date(t, 0, 1).getTime();
          }
          function po(t) {
            return new Date(t).getMonth();
          }
          function go(t, e) {
            return new Date(t, e, 1).getTime();
          }
          Or('cat', to),
            Or('time-cat', function (t) {
              var e = to(t),
                n = (0, p.last)(t.values);
              return n !== (0, p.last)(e) && e.push(n), e;
            }),
            Or('wilkinson-extended', function (t) {
              var e = t.min,
                n = t.max,
                r = t.tickCount,
                i = t.nice,
                o = t.tickInterval,
                a = t.minLimit,
                s = t.maxLimit,
                u = Ji(e, n, r, i).ticks;
              return (0, p.isNil)(a) && (0, p.isNil)(s)
                ? o
                  ? so(e, n, o).ticks
                  : u
                : uo(t, (0, p.head)(u), (0, p.last)(u));
            }),
            Or('r-pretty', function (t) {
              var e = t.min,
                n = t.max,
                r = t.tickCount,
                i = t.tickInterval,
                o = t.minLimit,
                a = t.maxLimit,
                s = co(e, n, r).ticks;
              return (0, p.isNil)(o) && (0, p.isNil)(a)
                ? i
                  ? so(e, n, i).ticks
                  : s
                : uo(t, (0, p.head)(s), (0, p.last)(s));
            }),
            Or('time', function (t) {
              var e = t.min,
                n = t.max,
                r = t.minTickInterval,
                i = t.tickInterval,
                o = t.tickCount;
              if (i) o = Math.ceil((n - e) / i);
              else {
                var a =
                  (n - e) /
                  (i = (function (t, e, n) {
                    var r,
                      i =
                        ((r = function (t) {
                          return t[1];
                        }),
                        function (t, e, n, i) {
                          for (
                            var o = (0, p.isNil)(n) ? 0 : n, a = (0, p.isNil)(i) ? t.length : i;
                            o < a;

                          ) {
                            var s = (o + a) >>> 1;
                            r(t[s]) > e ? (a = s) : (o = s + 1);
                          }
                          return o;
                        })(xi, (e - t) / n) - 1,
                      o = xi[i];
                    return i < 0 ? (o = xi[0]) : i >= xi.length && (o = (0, p.last)(xi)), o;
                  })(e, n, o)[1]) /
                  o;
                a > 1 && (i *= Math.ceil(a)), r && i < r && (i = r);
              }
              for (var s = [], u = e; u < n + i; u += i) s.push(u);
              return s;
            }),
            Or('time-pretty', function (t) {
              var e = t.min,
                n = t.max,
                r = t.minTickInterval,
                i = t.tickCount,
                o = t.tickInterval,
                a = [];
              o || ((o = (n - e) / i), r && o < r && (o = r));
              var s = ho(e);
              if (o > bi)
                for (var u = ho(n), c = Math.ceil(o / bi), l = s; l <= u + c; l += c) a.push(fo(l));
              else if (o > mi) {
                var h = Math.ceil(o / mi),
                  f = po(e),
                  d = (function (t, e) {
                    var n = ho(t),
                      r = ho(e),
                      i = po(t);
                    return 12 * (r - n) + ((po(e) - i) % 12);
                  })(e, n);
                for (l = 0; l <= d + h; l += h) a.push(go(s, l + f));
              } else if (o > yi) {
                var p = (b = new Date(e)).getFullYear(),
                  g = b.getMonth(),
                  v = b.getDate(),
                  y = Math.ceil(o / yi),
                  m = (function (t, e) {
                    return Math.ceil((e - t) / yi);
                  })(e, n);
                for (l = 0; l < m + y; l += y) a.push(new Date(p, g, v + l).getTime());
              } else if (o > vi) {
                (p = (b = new Date(e)).getFullYear()), (g = b.getMonth()), (y = b.getDate());
                var b,
                  x = b.getHours(),
                  _ = Math.ceil(o / vi),
                  w = (function (t, e) {
                    return Math.ceil((e - t) / vi);
                  })(e, n);
                for (l = 0; l <= w + _; l += _) a.push(new Date(p, g, y, x + l).getTime());
              } else if (o > gi) {
                var E = (function (t, e) {
                    return Math.ceil((e - t) / 6e4);
                  })(e, n),
                  S = Math.ceil(o / gi);
                for (l = 0; l <= E + S; l += S) a.push(e + l * gi);
              } else {
                var M = o;
                M < pi && (M = pi);
                var k = Math.floor(e / pi) * pi,
                  A = Math.ceil((n - e) / pi),
                  C = Math.ceil(M / pi);
                for (l = 0; l < A + C; l += C) a.push(k + l * pi);
              }
              return (
                a.length >= 512 &&
                  console.warn(
                    'Notice: current ticks length(' +
                      a.length +
                      ') >= 512, may cause performance issues, even out of memory. Because of the configure "tickInterval"(in milliseconds, current is ' +
                      o +
                      ') is too small, increase the value to solve the problem!',
                  ),
                a
              );
            }),
            Or('log', function (t) {
              var e,
                n = t.base,
                r = t.tickCount,
                i = t.min,
                o = t.max,
                a = t.values,
                s = Ci(n, o);
              if (i > 0) e = Math.floor(Ci(n, i));
              else {
                var u = Ii(a, n, o);
                e = Math.floor(Ci(n, u));
              }
              for (var c = s - e, l = Math.ceil(c / r), h = [], f = e; f < s + l; f += l)
                h.push(Math.pow(n, f));
              return i <= 0 && h.unshift(0), h;
            }),
            Or('pow', function (t) {
              var e = t.exponent,
                n = t.tickCount,
                r = Math.ceil(Ai(e, t.max));
              return co(Math.floor(Ai(e, t.min)), r, n).ticks.map(function (t) {
                var n = t >= 0 ? 1 : -1;
                return Math.pow(t, e) * n;
              });
            }),
            Or('quantile', function (t) {
              var e = t.tickCount,
                n = t.values;
              if (!n || !n.length) return [];
              for (
                var r = n.slice().sort(function (t, e) {
                    return t - e;
                  }),
                  i = [],
                  o = 0;
                o < e;
                o++
              ) {
                var a = o / (e - 1);
                i.push(lo(r, a));
              }
              return i;
            }),
            Or('d3-linear', function (t) {
              var e = t.min,
                n = t.max,
                r = t.tickInterval,
                i = t.minLimit,
                o = t.maxLimit,
                a = (function (t) {
                  var e = t.min,
                    n = t.max,
                    r = t.nice,
                    i = t.tickCount,
                    o = new io();
                  return o.domain([e, n]), r && o.nice(i), o.ticks(i);
                })(t);
              return (0, p.isNil)(i) && (0, p.isNil)(o)
                ? r
                  ? so(e, n, r).ticks
                  : a
                : uo(t, (0, p.head)(a), (0, p.last)(a));
            }),
            Fi('cat', Br),
            Fi('category', Br),
            Fi('identity', Vi),
            Fi('linear', ki),
            Fi('log', Ni),
            Fi('pow', Oi),
            Fi('time', Li),
            Fi('timeCat', wi),
            Fi('quantize', Bi),
            Fi('quantile', Gi);
          function vo(t) {
            return (function (t) {
              return (0, p.map)(t, function (t, e) {
                return [0 === e ? 'M' : 'L', t[0], t[1]];
              });
            })(t);
          }
          function yo(t, e, n, r) {
            void 0 === r && (r = 5);
            for (
              var i = new ki({ values: t }),
                o = new Br({
                  values: (0, p.map)(t, function (t, e) {
                    return e;
                  }),
                }),
                a = (0, p.map)(t, function (t, r) {
                  return [o.scale(r) * e, n - i.scale(t) * n];
                }),
                s = [],
                u = 0;
              u < a.length;
              u++
            ) {
              var c = a[u],
                l = bo({ x: c[0], y: c[1], y0: n, size: r });
              s.push.apply(s, l);
            }
            return (function (t, e) {
              void 0 === e && (e = !0);
              var n = [],
                r = t[0];
              n.push(['M', r.x, r.y]);
              for (var i = 1, o = t.length; i < o; i++) n.push(['L', t[i].x, t[i].y]);
              return e && (n.push(['L', r.x, r.y]), n.push(['z'])), n;
            })(s);
          }
          function mo(t, e, n, r) {
            var i = (function (t, e, n) {
                if (n || 2 === arguments.length)
                  for (var r, i = 0, o = e.length; i < o; i++)
                    (!r && i in e) ||
                      (r || (r = Array.prototype.slice.call(e, 0, i)), (r[i] = e[i]));
                return t.concat(r || Array.prototype.slice.call(e));
              })([], t, !0),
              o = (function (t, e) {
                var n = new ki({ values: t }),
                  r = Math.max(0, n.min);
                return e - n.scale(r) * e;
              })(r, n);
            return i.push(['L', e, o]), i.push(['L', 0, o]), i.push(['Z']), i;
          }
          function bo(t) {
            var e,
              n,
              r,
              i,
              o = t.x,
              a = t.y,
              s = t.y0,
              u = t.size;
            (0, p.isArray)(a) ? ((e = a[0]), (n = a[1])) : ((e = s), (n = a)),
              (0, p.isArray)(o) ? ((r = o[0]), (i = o[1])) : ((r = o - u / 2), (i = o + u / 2));
            var c = [
              { x: r, y: e },
              { x: r, y: n },
            ];
            return c.push({ x: i, y: n }, { x: i, y: e }), c;
          }
          var xo = function () {
              return (
                (xo =
                  Object.assign ||
                  function (t) {
                    for (var e, n = 1, r = arguments.length; n < r; n++)
                      for (var i in (e = arguments[n]))
                        Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i]);
                    return t;
                  }),
                xo.apply(this, arguments)
              );
            },
            _o = { stroke: '#C5C5C5', strokeOpacity: 0.85 },
            wo = { fill: '#CACED4', opacity: 0.85 },
            Eo = (function () {
              function t(t) {
                var e = t.x,
                  n = void 0 === e ? 0 : e,
                  r = t.y,
                  i = void 0 === r ? 0 : r,
                  o = t.width,
                  a = void 0 === o ? 200 : o,
                  s = t.height,
                  u = void 0 === s ? 26 : s,
                  c = t.smooth,
                  l = void 0 === c || c,
                  h = t.isArea,
                  f = void 0 !== h && h,
                  d = t.data,
                  p = void 0 === d ? [] : d,
                  g = t.lineStyle,
                  v = t.areaStyle,
                  y = t.group,
                  m = t.interval,
                  b = void 0 === m ? null : m;
                (this.group = y),
                  (this.x = n),
                  (this.y = i),
                  (this.width = a),
                  (this.height = u),
                  (this.data = p),
                  (this.smooth = l),
                  (this.isArea = f),
                  (this.lineStyle = Object.assign({}, _o, g)),
                  (this.areaStyle = Object.assign({}, wo, v)),
                  (this.intervalConfig = b),
                  this.renderLine();
              }
              return (
                (t.prototype.renderLine = function () {
                  var t = this,
                    e = t.x,
                    n = t.y,
                    r = t.width,
                    i = t.height,
                    o = (t.barWidth, t.data),
                    a = t.smooth,
                    s = t.isArea,
                    u = t.lineStyle,
                    c = t.areaStyle,
                    l = this.group.addGroup({ name: 'trend-group' });
                  if (o) {
                    var h = (function (t, e, n, r) {
                      void 0 === r && (r = !0);
                      var i = new ki({ values: t }),
                        o = new Br({
                          values: (0, p.map)(t, function (t, e) {
                            return e;
                          }),
                        }),
                        a = (0, p.map)(t, function (t, r) {
                          return [o.scale(r) * e, n - i.scale(t) * n];
                        });
                      return r
                        ? (function (t) {
                            if (t.length <= 2) return vo(t);
                            var e = [];
                            (0, p.each)(t, function (t) {
                              (0, p.isEqual)(t, e.slice(e.length - 2)) || e.push(t[0], t[1]);
                            });
                            var n = lt.e9(e, !1),
                              r = (0, p.head)(t),
                              i = r[0],
                              o = r[1];
                            return n.unshift(['M', i, o]), n;
                          })(a)
                        : vo(a);
                    })(o, r, i, a);
                    if (
                      (l.addShape('path', { attrs: xo({ path: h }, u), name: 'trend-line' }), s)
                    ) {
                      var f = mo(h, r, i, o);
                      l.addShape('path', { attrs: xo({ path: f }, c), name: 'trend-area' });
                    }
                  }
                  this.intervalConfig &&
                    l.addShape('path', {
                      attrs: xo(
                        {
                          path: yo(
                            this.intervalConfig.data,
                            r,
                            i,
                            this.intervalConfig.style.barWidth,
                          ),
                        },
                        this.intervalConfig.style,
                      ),
                      name: 'trend-interval',
                    }),
                    l.move(e, n);
                }),
                (t.prototype.destory = function () {
                  this.group.destroy();
                }),
                t
              );
            })();
          const So = Eo;
          var Mo = function () {
              return (
                (Mo =
                  Object.assign ||
                  function (t) {
                    for (var e, n = 1, r = arguments.length; n < r; n++)
                      for (var i in (e = arguments[n]))
                        Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i]);
                    return t;
                  }),
                Mo.apply(this, arguments)
              );
            },
            ko = {
              fill: '#1890ff',
              stroke: '#1890ff',
              type: 'trend',
              radius: 2,
              opacity: 1,
              cursor: 'ew-resize',
              highLightFill: '#0050b3',
            },
            Ao = { fill: '#fff', stroke: '#1890ff', radius: 2, opacity: 1, cursor: 'ew-resize' },
            Co = (function () {
              function t(t) {
                var e = t.group,
                  n = t.name,
                  r = t.type,
                  i = t.x,
                  o = void 0 === i ? 0 : i,
                  a = t.y,
                  s = void 0 === a ? 0 : a,
                  u = t.width,
                  c = void 0 === u ? 2 : u,
                  l = t.height,
                  h = void 0 === l ? 24 : l,
                  f = t.style,
                  d = void 0 === f ? {} : f;
                (this.group = e),
                  (this.name = n),
                  (this.handleType = r),
                  (this.x = o),
                  (this.y = s),
                  (this.width = c),
                  (this.height = h),
                  'trend' === r
                    ? (this.style = Mo(Mo({}, ko), d))
                    : 'simple' === r && (this.style = Mo(Mo({}, Ao), d)),
                  this.renderHandle();
              }
              return (
                (t.prototype.setX = function (t) {
                  this.setXY(t, void 0);
                }),
                (t.prototype.setY = function (t) {
                  this.setXY(void 0, t);
                }),
                (t.prototype.setXY = function (t, e) {
                  (0, p.isNumber)(t) && (this.x = t),
                    (0, p.isNumber)(e) && (this.y = e),
                    this.updateXY();
                }),
                (t.prototype.renderHandle = function () {
                  var t = this,
                    e = t.width,
                    n = t.height,
                    r = t.style,
                    i = t.name,
                    o = r.fill,
                    a = r.stroke,
                    s = r.radius,
                    u = r.opacity,
                    c = r.cursor;
                  (this.handleGroup = this.group.addGroup()),
                    'trend' === this.handleType
                      ? ((this.verticalLine = this.handleGroup.addShape('rect', {
                          attrs: {
                            x: 0,
                            y: 0,
                            width: e,
                            height: n,
                            fill: o,
                            stroke: a,
                            radius: s,
                            opacity: u,
                            cursor: c,
                          },
                          name: ''.concat(i, '-handler'),
                        })),
                        (this.topCircle = this.handleGroup.addShape('circle', {
                          attrs: {
                            x: e / 2,
                            y: 0,
                            r: 2 * e,
                            fill: o,
                            stroke: a,
                            radius: s,
                            opacity: u,
                            cursor: c,
                            lineAppendWidth: 12,
                          },
                          name: ''.concat(i, '-handler'),
                        })),
                        (this.bottomCircle = this.handleGroup.addShape('circle', {
                          attrs: {
                            x: e / 2,
                            y: n,
                            r: 2 * e,
                            fill: o,
                            stroke: a,
                            radius: s,
                            opacity: u,
                            cursor: c,
                          },
                          name: ''.concat(i, '-handler'),
                        })))
                      : 'simple' === this.handleType &&
                        (this.topCircle = this.handleGroup.addShape('circle', {
                          attrs: {
                            x: e / 2,
                            y: n / 2,
                            r: 2 * e,
                            fill: o,
                            stroke: a,
                            radius: s,
                            opacity: u,
                            cursor: c,
                            lineWidth: 2,
                          },
                          name: ''.concat(i, '-handler'),
                        })),
                    this.updateXY(),
                    'trend' === this.handleType
                      ? this.bindTrendEvents()
                      : 'simple' === this.handleType && this.bindSimpleEvents();
                }),
                (t.prototype.bindSimpleEvents = function () {
                  var t = this,
                    e = this.name;
                  this.handleGroup.on(''.concat(e, '-handler:mouseenter'), function () {
                    var e = t.style.highLightFill;
                    t.topCircle.attr('fill', e);
                  }),
                    this.handleGroup.on(''.concat(e, '-handler:mouseleave'), function () {
                      var e = t.style.fill;
                      t.topCircle.attr('fill', e);
                    });
                }),
                (t.prototype.bindTrendEvents = function () {
                  var t = this,
                    e = this.name;
                  this.handleGroup.on(''.concat(e, '-handler:mouseenter'), function () {
                    var e = t.style.highLightFill;
                    t.verticalLine.attr('fill', e),
                      t.topCircle.attr('fill', e),
                      t.bottomCircle.attr('fill', e);
                  }),
                    this.handleGroup.on(''.concat(e, '-handler:mouseleave'), function () {
                      var e = t.style.fill;
                      t.verticalLine.attr('fill', e),
                        t.topCircle.attr('fill', e),
                        t.bottomCircle.attr('fill', e);
                    });
                }),
                (t.prototype.show = function () {
                  this.handleGroup.show();
                }),
                (t.prototype.hide = function () {
                  this.handleGroup.hide();
                }),
                (t.prototype.updateXY = function () {
                  this.handleGroup.setMatrix([1, 0, 0, 0, 1, 0, this.x, this.y, 1]);
                }),
                t
              );
            })();
          const Io = Co;
          var To = 'timebarstartplay',
            No = 'timebarendplay',
            Po = 'valuechange',
            Oo = 'timebarConfigChanged',
            Do = 'playPauseBtn',
            Lo = 'nextStepBtn',
            Ro = 'preStepBtn',
            Bo = function () {
              return (
                (Bo =
                  Object.assign ||
                  function (t) {
                    for (var e, n = 1, r = arguments.length; n < r; n++)
                      for (var i in (e = arguments[n]))
                        Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i]);
                    return t;
                  }),
                Bo.apply(this, arguments)
              );
            },
            jo = (function () {
              function t(t) {
                (this.config = (0, p.deepMix)({}, t)), this.init();
              }
              return (
                (t.prototype.update = function (t) {
                  (this.config = (0, p.deepMix)({}, this.config, t)),
                    this.updateElement(),
                    this.renderMarker();
                }),
                (t.prototype.init = function () {
                  this.initElement(), this.renderMarker();
                }),
                (t.prototype.initElement = function () {
                  var t = this.config,
                    e = t.group,
                    n = t.style,
                    r = n.scale,
                    i = void 0 === r ? 1 : r,
                    o = n.offsetX,
                    a = void 0 === o ? 0 : o,
                    s = n.offsetY,
                    u = void 0 === s ? 0 : s,
                    c = this.config.x + a,
                    l = this.config.y + u,
                    h = e.addGroup({ name: Do });
                  (this.startMarkerGroup = h.addGroup({ name: Do })),
                    (this.circle = e.addShape('circle', {
                      attrs: Bo({ x: c, y: l, r: this.config.r * i }, n),
                      name: Do,
                    })),
                    (this.startMarker = this.startMarkerGroup.addShape('path', {
                      attrs: { path: this.getStartMarkerPath(c, l, i), fill: n.stroke || '#aaa' },
                      name: 'start-marker',
                    })),
                    (this.pauseMarkerGroup = h.addGroup({ name: Do }));
                  var f = 0.25 * this.config.r * i,
                    d = 0.5 * this.config.r * Math.sqrt(3) * i;
                  (this.pauseLeftMarker = this.pauseMarkerGroup.addShape('rect', {
                    attrs: {
                      x: c - 0.375 * this.config.r * i,
                      y: l - d / 2,
                      width: f,
                      height: d,
                      fill: n.stroke || '#aaa',
                      lineWidth: 0,
                    },
                  })),
                    (this.pauseRightMarker = this.pauseMarkerGroup.addShape('rect', {
                      attrs: {
                        x: c + (1 / 8) * this.config.r * i,
                        y: l - d / 2,
                        width: f,
                        height: d,
                        fill: n.stroke || '#aaa',
                        lineWidth: 0,
                      },
                    }));
                }),
                (t.prototype.updateElement = function () {
                  var t = this.config.style,
                    e = t.scale,
                    n = void 0 === e ? 1 : e,
                    r = t.offsetX,
                    i = void 0 === r ? 0 : r,
                    o = t.offsetY,
                    a = void 0 === o ? 0 : o,
                    s = this.config.x + i,
                    u = this.config.y + a;
                  this.circle.attr('x', s),
                    this.circle.attr('y', u),
                    this.circle.attr('r', this.config.r * n),
                    this.startMarker.attr('path', this.getStartMarkerPath(s, u, n));
                  var c = 0.25 * this.config.r * n,
                    l = 0.5 * this.config.r * Math.sqrt(3) * n;
                  this.pauseLeftMarker.attr('x', s - 0.375 * this.config.r * n),
                    this.pauseLeftMarker.attr('y', u - l / 2),
                    this.pauseLeftMarker.attr('width', c),
                    this.pauseLeftMarker.attr('height', l),
                    this.pauseRightMarker.attr('x', s + (1 / 8) * this.config.r * n),
                    this.pauseRightMarker.attr('y', u - l / 2),
                    this.pauseRightMarker.attr('width', c),
                    this.pauseRightMarker.attr('height', l);
                }),
                (t.prototype.renderMarker = function () {
                  this.config.isPlay
                    ? (this.startMarkerGroup.hide(), this.pauseMarkerGroup.show())
                    : (this.startMarkerGroup.show(), this.pauseMarkerGroup.hide());
                }),
                (t.prototype.getStartMarkerPath = function (t, e, n) {
                  var r = 0.5 * this.config.r * Math.sqrt(3) * n;
                  return [
                    ['M', t - r / Math.sqrt(3) / 2, e - r / 2],
                    ['L', t + r / Math.sqrt(3), e],
                    ['L', t - r / Math.sqrt(3) / 2, e + r / 2],
                  ];
                }),
                t
              );
            })();
          const Go = jo;
          var zo = function () {
              return (
                (zo =
                  Object.assign ||
                  function (t) {
                    for (var e, n = 1, r = arguments.length; n < r; n++)
                      for (var i in (e = arguments[n]))
                        Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i]);
                    return t;
                  }),
                zo.apply(this, arguments)
              );
            },
            Fo = mt.transform,
            Uo = { fill: '#aaa', fillOpacity: 0.35, stroke: '#aaa' },
            Vo = { fill: '#fff' },
            Wo = { fill: 'green' },
            Yo = {
              pointer: { fill: '#aaa', lineWidth: 0 },
              scroller: {
                stroke: '#aaa',
                fill: '#aaa',
                lineWidth: 1,
                lineAppendWidth: 5,
                cursor: 'pointer',
              },
              text: { fill: '#aaa', textBaseline: 'top' },
            },
            Xo = {
              check: { stroke: 'green', lineWidth: 3 },
              box: { fill: '#fff', stroke: '#aaa', lineWidth: 2, radius: 3, width: 12, height: 12 },
              text: { fill: '#aaa', fontSize: 12, textBaseline: 'top' },
            },
            Ho = {
              speed: 1,
              loop: !1,
              fill: '#fff',
              stroke: '#fff',
              hideTimeTypeController: !1,
              preBtnStyle: { fill: '#aaa', stroke: '#aaa' },
              nextBtnStyle: { fill: '#aaa', stroke: '#aaa' },
              playBtnStyle: { fill: '#aaa', stroke: '#aaa', fillOpacity: 0.05 },
              speedControllerStyle: Yo,
              timeTypeControllerStyle: Xo,
            },
            qo = 50;
          const Ko = (function () {
            function t(t) {
              (this.controllerCfg = (0, p.deepMix)({}, Ho, t)),
                (this.group = t.group),
                (this.controllerGroup = this.group.addGroup({ name: 'controller-group' })),
                (this.speedAxisY = []),
                (this.currentSpeed = this.controllerCfg.speed),
                (this.currentType = 'range'),
                (this.fontFamily = t.fontFamily || 'Arial, sans-serif'),
                this.init();
            }
            return (
              (t.prototype.init = function () {
                this.renderPlayButton();
              }),
              (t.prototype.getNextMarkerPath = function (t, e, n) {
                return [
                  ['M', t, e - n],
                  ['L', t + n, e],
                  ['L', t, e + n],
                  ['Z', t, e - n],
                  ['M', t, e],
                  ['L', t - n, e - n],
                  ['L', t - n, e + n],
                  ['Z'],
                ];
              }),
              (t.prototype.getPreMarkerPath = function (t, e, n) {
                return [
                  ['M', t, e - n],
                  ['L', t - n, e],
                  ['L', t, e + n],
                  ['L', t, e - n],
                  ['M', t, e],
                  ['L', t + n, e - n],
                  ['L', t + n, e + n],
                  ['Z'],
                ];
              }),
              (t.prototype.renderPlayButton = function () {
                var t = this.controllerCfg,
                  e = t.width,
                  n = t.height,
                  r = t.x,
                  i = t.y,
                  o = t.hideTimeTypeController,
                  a = t.fill,
                  s = void 0 === a ? '#aaa' : a,
                  u = t.stroke,
                  c = void 0 === u ? 'green' : u,
                  l = t.containerStyle,
                  h = void 0 === l ? {} : l,
                  f = zo(zo({}, Uo), t.playBtnStyle || {}),
                  d = zo(zo({}, Vo), t.preBtnStyle || {}),
                  p = zo(zo({}, Wo), t.nextBtnStyle || {}),
                  g = n / 2 - 5,
                  v = i + 10,
                  y = this.controllerGroup.addShape('rect', {
                    attrs: zo({ x: r, y: v, width: e, height: n, stroke: c, fill: s }, h),
                    name: 'container-rect',
                  });
                this.playButton
                  ? this.playButton.update({ x: e / 2, y: v, r: g })
                  : (this.playButton = new Go({
                      group: this.controllerGroup,
                      x: e / 2,
                      y: v + g + 5,
                      r: g,
                      isPlay: this.isPlay,
                      style: f,
                    }));
                var m = d.offsetX || 0,
                  b = d.offsetY || 0,
                  x = (d.scale || 1) * g;
                this.controllerGroup.addShape('path', {
                  attrs: zo(
                    { path: this.getPreMarkerPath(e / 2 - 5 * g + m, v + g + 5 + b, 0.5 * x) },
                    d,
                  ),
                  name: Ro,
                });
                var _ = p.offsetX || 0,
                  w = p.offsetY || 0,
                  E = (p.scale || 1) * g;
                this.controllerGroup.addShape('path', {
                  attrs: zo(
                    { path: this.getNextMarkerPath(e / 2 + 5 * g + _, v + g + 5 + w, 0.5 * E) },
                    p,
                  ),
                  name: Lo,
                }),
                  y.toBack(),
                  this.renderSpeedBtn(),
                  o || this.renderToggleTime(),
                  this.bindEvent();
                var S = this.controllerCfg.scale,
                  M = void 0 === S ? 1 : S,
                  k = this.controllerGroup.getCanvasBBox(),
                  A = (k.maxX + k.minX) / 2,
                  C = (k.maxY + k.minY) / 2,
                  I = Fo(
                    [1, 0, 0, 0, 1, 0, 0, 0, 1],
                    [
                      ['t', -A, -C],
                      ['s', M, M],
                      ['t', A, C],
                    ],
                  );
                this.controllerGroup.setMatrix(I);
              }),
              (t.prototype.renderSpeedBtn = function () {
                var t = this.controllerCfg,
                  e = t.y,
                  n = t.width,
                  r = t.hideTimeTypeController,
                  i = zo(zo({}, Yo), this.controllerCfg.speedControllerStyle || {}),
                  o = i.scroller,
                  a = void 0 === o ? {} : o,
                  s = i.text,
                  u = void 0 === s ? {} : s,
                  c = i.pointer,
                  l = void 0 === c ? {} : c,
                  h = i.scale,
                  f = void 0 === h ? 1 : h,
                  d = i.offsetX,
                  p = void 0 === d ? 0 : d,
                  g = i.offsetY,
                  v = void 0 === g ? 0 : g,
                  y = this.controllerGroup.addGroup({ name: 'speed-group' });
                this.speedGroup = y;
                var m = [],
                  b = 5;
                this.speedAxisY = [19, 22, 26, 32, 39];
                for (var x = 0; x < 5; x++) {
                  var _ = e + this.speedAxisY[x],
                    w = n - (r ? qo : 110);
                  y.addShape('line', {
                    attrs: zo({ x1: w, x2: w + 15, y1: _, y2: _ }, a),
                    speed: b,
                    name: 'speed-rect',
                  }),
                    (this.speedAxisY[x] = _),
                    m.push(b),
                    (b -= 1);
                }
                (this.speedText = y.addShape('text', {
                  attrs: zo(
                    {
                      x: n - (r ? qo : 110) + 20,
                      y: this.speedAxisY[0] + 4,
                      text: '1.0X',
                      fontFamily: this.fontFamily || 'Arial, sans-serif',
                    },
                    u,
                  ),
                  name: 'speed-text',
                })),
                  (this.speedPoint = y.addShape('path', {
                    attrs: zo(
                      {
                        path: this.getPointerPath(n - (r ? qo : 110), 0),
                        matrix: [1, 0, 0, 0, 1, 0, 0, this.speedAxisY[4], 1],
                      },
                      l,
                    ),
                    name: 'speed-pointer',
                  }));
                var E = this.speedGroup.getCanvasBBox(),
                  S = (E.maxX + E.minX) / 2,
                  M = (E.maxY + E.minY) / 2,
                  k = this.speedGroup.getMatrix() || [1, 0, 0, 0, 1, 0, 0, 0, 1];
                (k = Fo(k, [
                  ['t', -S, -M],
                  ['s', f, f],
                  ['t', S + p * f, M + v * f],
                ])),
                  this.speedGroup.setMatrix(k);
              }),
              (t.prototype.getPointerPath = function (t, e) {
                return [['M', t, e], ['L', t - 10, e - 4], ['L', t - 10, e + 4], ['Z']];
              }),
              (t.prototype.renderToggleTime = function () {
                var t,
                  e = this.controllerCfg.width,
                  n = zo(zo({}, Xo), this.controllerCfg.timeTypeControllerStyle || {}),
                  r = n.scale,
                  i = void 0 === r ? 1 : r,
                  o = n.offsetX,
                  a = void 0 === o ? 0 : o,
                  s = n.offsetY,
                  u = void 0 === s ? 0 : s,
                  c = n.box,
                  l = void 0 === c ? {} : c,
                  h = n.check,
                  f = void 0 === h ? {} : h,
                  d = n.text,
                  p = void 0 === d ? {} : d;
                (this.toggleGroup = this.controllerGroup.addGroup({ name: 'toggle-group' })),
                  this.toggleGroup.addShape('rect', {
                    attrs: zo({ x: e - qo, y: this.speedAxisY[0] + 3.5 }, l),
                    isChecked: !1,
                    name: 'toggle-model',
                  }),
                  (this.checkedIcon = this.toggleGroup.addShape('path', {
                    attrs: zo(
                      {
                        path: [
                          ['M', e - qo + 3, this.speedAxisY[1] + 6],
                          ['L', e - qo + 7, this.speedAxisY[1] + 10],
                          ['L', e - qo + 12, this.speedAxisY[1] + 4],
                        ],
                      },
                      f,
                    ),
                    capture: !1,
                    name: 'check-icon',
                  })),
                  this.checkedIcon.hide(),
                  (this.checkedText = this.toggleGroup.addShape('text', {
                    attrs: zo(
                      {
                        text:
                          (null === (t = this.controllerCfg) || void 0 === t
                            ? void 0
                            : t.timePointControllerText) || '单一时间',
                        x: e - qo + 15,
                        y: this.speedAxisY[0] + 4,
                        fontFamily:
                          ('undefined' != typeof window &&
                            window
                              .getComputedStyle(document.body, null)
                              .getPropertyValue('font-family')) ||
                          'Arial, sans-serif',
                      },
                      p,
                    ),
                    name: 'checked-text',
                  }));
                var g = this.toggleGroup.getCanvasBBox(),
                  v = (g.maxX + g.minX) / 2,
                  y = (g.maxY + g.minY) / 2,
                  m = this.toggleGroup.getMatrix() || [1, 0, 0, 0, 1, 0, 0, 0, 1];
                (m = Fo(m, [
                  ['t', -v, -y],
                  ['s', i, i],
                  ['t', v + a * i, y + u * i],
                ])),
                  this.toggleGroup.setMatrix(m);
              }),
              (t.prototype.bindEvent = function () {
                var t = this;
                this.speedGroup.on('speed-rect:click', function (e) {
                  var n = e.target.attr('y1'),
                    r = t.speedPoint.attr('matrix'),
                    i = t.speedAxisY.indexOf(r[7] || 0),
                    o = t.speedAxisY.indexOf(n),
                    a = t.speedAxisY[o] - t.speedAxisY[i];
                  (r = Fo(r, [['t', 0, a]])),
                    t.speedPoint.setMatrix(r),
                    (t.currentSpeed = t.speedAxisY.length - o),
                    t.speedText.attr('text', ''.concat(t.currentSpeed, '.0X')),
                    t.group.emit(Oo, { speed: t.currentSpeed, type: t.currentType });
                }),
                  this.speedGroup.on('mousewheel', function (e) {
                    e.preventDefault();
                    var n = t.speedPoint.attr('matrix') || [1, 0, 0, 0, 1, 0, 0, 0, 1],
                      r = n[7],
                      i = t.speedAxisY.indexOf(r);
                    if (-1 === i) {
                      var o = 1 / 0;
                      t.speedAxisY.forEach(function (t, e) {
                        var n = Math.abs(t - r);
                        o > n && ((o = n), (i = e));
                      });
                    }
                    i =
                      e.originalEvent.deltaY > 0
                        ? Math.max(0, i - 1)
                        : Math.min(t.speedAxisY.length - 1, i + 1);
                    var a = t.speedAxisY[i] - r;
                    (n = Fo(n, [['t', 0, a]])),
                      t.speedPoint.setMatrix(n),
                      (t.currentSpeed = t.speedAxisY.length - i),
                      t.speedText.attr('text', ''.concat(t.currentSpeed, '.0X')),
                      t.group.emit(Oo, { speed: t.currentSpeed, type: t.currentType });
                  }),
                  this.toggleGroup &&
                    this.toggleGroup.on('toggle-model:click', function (e) {
                      var n,
                        r,
                        i = e.target.get('isChecked');
                      i
                        ? (t.checkedIcon.hide(),
                          t.checkedText.attr(
                            'text',
                            (null === (r = t.controllerCfg) || void 0 === r
                              ? void 0
                              : r.timePointControllerText) || '单一时间',
                          ),
                          (t.currentType = 'range'))
                        : (t.checkedIcon.show(),
                          t.checkedText.attr(
                            'text',
                            (null === (n = t.controllerCfg) || void 0 === n
                              ? void 0
                              : n.timeRangeControllerText) || '时间范围',
                          ),
                          (t.currentType = 'single')),
                        e.target.set('isChecked', !i),
                        t.group.emit(Oo, { type: t.currentType, speed: t.currentSpeed });
                    });
              }),
              (t.prototype.destroy = function () {
                this.speedGroup.off('speed-rect:click'),
                  this.toggleGroup &&
                    (this.toggleGroup.off('toggle-model:click'), this.toggleGroup.destroy()),
                  this.speedGroup.destroy();
              }),
              t
            );
          })();
          var Zo = function () {
              return (
                (Zo =
                  Object.assign ||
                  function (t) {
                    for (var e, n = 1, r = arguments.length; n < r; n++)
                      for (var i in (e = arguments[n]))
                        Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i]);
                    return t;
                  }),
                Zo.apply(this, arguments)
              );
            },
            $o = mt.transform,
            Qo = { fill: '#416180', opacity: 0.05 },
            Jo = { fill: '#416180', opacity: 0.15, radius: 5 },
            ta = { fill: '#5B8FF9', opacity: 0.3, cursor: 'grab' },
            ea = { width: 2, height: 24 },
            na = { textBaseline: 'middle', fill: '#000', opacity: 0.45 },
            ra = { textAlign: 'center', textBaseline: 'top', fill: '#607889', opacity: 0.35 },
            ia = { lineWidth: 1, stroke: '#ccc' },
            oa = (function () {
              function t(t) {
                var e = this;
                (this.prevX = 0),
                  (this.onMouseDown = function (t) {
                    return function (n) {
                      e.currentHandler = t;
                      var r = n.originalEvent;
                      r.stopPropagation(),
                        r.preventDefault(),
                        (e.prevX = (0, p.get)(r, 'touches.0.pageX', r.pageX));
                      var i = e.canvas.get('container');
                      i.addEventListener('mousemove', e.onMouseMove),
                        i.addEventListener('mouseup', e.onMouseUp),
                        i.addEventListener('mouseleave', e.onMouseUp),
                        i.addEventListener('touchmove', e.onMouseMove),
                        i.addEventListener('touchend', e.onMouseUp),
                        i.addEventListener('touchcancel', e.onMouseUp);
                    };
                  }),
                  (this.onMouseMove = function (t) {
                    t.stopPropagation(), t.preventDefault();
                    var n = (0, p.get)(t, 'touches.0.pageX', t.pageX),
                      r = n - e.prevX,
                      i = e.adjustOffsetRange(r / e.width);
                    e.updateStartEnd(i), e.updateUI(), (e.prevX = n);
                  }),
                  (this.onMouseUp = function () {
                    e.currentHandler && (e.currentHandler = void 0);
                    var t = e.canvas.get('container');
                    t &&
                      (t.removeEventListener('mousemove', e.onMouseMove),
                      t.removeEventListener('mouseup', e.onMouseUp),
                      t.removeEventListener('mouseleave', e.onMouseUp),
                      t.removeEventListener('touchmove', e.onMouseMove),
                      t.removeEventListener('touchend', e.onMouseUp),
                      t.removeEventListener('touchcancel', e.onMouseUp));
                  });
                var n = t.x,
                  r = void 0 === n ? 0 : n,
                  i = t.y,
                  o = void 0 === i ? 0 : i,
                  a = t.width,
                  s = void 0 === a ? 100 : a,
                  u = t.height,
                  c = t.padding,
                  l = void 0 === c ? 10 : c,
                  h = t.trendCfg,
                  f = t.controllerCfg,
                  d = void 0 === f ? { speed: 1 } : f,
                  g = t.backgroundStyle,
                  v = void 0 === g ? {} : g,
                  y = t.foregroundStyle,
                  m = void 0 === y ? {} : y,
                  b = t.handlerStyle,
                  x = void 0 === b ? {} : b,
                  _ = t.textStyle,
                  w = void 0 === _ ? {} : _,
                  E = t.start,
                  S = void 0 === E ? 0 : E,
                  M = t.end,
                  k = void 0 === M ? 1 : M,
                  A = t.minText,
                  C = void 0 === A ? '' : A,
                  I = t.maxText,
                  T = void 0 === I ? '' : I,
                  N = t.group,
                  P = t.graph,
                  O = t.canvas,
                  D = t.tick,
                  L =
                    void 0 === D
                      ? {
                          tickLabelStyle: {},
                          tickLineStyle: {},
                          tickLabelFormatter: function (t) {
                            return t;
                          },
                          ticks: [],
                        }
                      : D,
                  R = t.type;
                (this.graph = P),
                  (this.canvas = O),
                  (this.group = N),
                  (this.timeBarType = R),
                  (this.x = r),
                  (this.y = o),
                  (this.width = s),
                  (this.height = u),
                  (this.padding = l),
                  (this.ticks = L.ticks),
                  (this.trendCfg = h),
                  (this.controllerCfg = d),
                  (this.currentSpeed = d.speed || 1),
                  (this.tickLabelFormatter = L.tickLabelFormatter),
                  'trend' === R
                    ? (this.backgroundStyle = Zo(Zo({}, Qo), v))
                    : 'simple' === R && (this.backgroundStyle = Zo(Zo({}, Jo), v)),
                  (this.foregroundStyle = Zo(Zo({}, ta), m)),
                  (this.handlerStyle = Zo(Zo({}, ea), x)),
                  (this.textStyle = Zo(Zo({}, na), w)),
                  (this.tickLabelStyle = Zo(Zo({}, ra), L.tickLabelStyle)),
                  (this.tickLineStyle = Zo(Zo({}, ia), L.tickLineStyle)),
                  (this.currentMode = 'range'),
                  (this.start = S),
                  (this.end = k),
                  (this.minText = C),
                  (this.maxText = T),
                  (this.fontFamily =
                    ('undefined' != typeof window &&
                      window
                        .getComputedStyle(document.body, null)
                        .getPropertyValue('font-family')) ||
                    'Arial, sans-serif'),
                  this.renderSlider();
              }
              return (
                (t.prototype.update = function (t) {
                  var e = t.x,
                    n = t.y,
                    r = t.width,
                    i = t.height,
                    o = t.minText,
                    a = t.maxText,
                    s = t.start,
                    u = t.end;
                  (this.start = Math.min(1, Math.max(s, 0))),
                    (this.end = Math.min(1, Math.max(u, 0))),
                    (0, p.assign)(this, {
                      x: e,
                      y: n,
                      width: r,
                      height: i,
                      minText: o,
                      maxText: a,
                    }),
                    this.updateUI();
                }),
                (t.prototype.setText = function (t, e) {
                  this.minTextShape.attr('text', t), this.maxTextShape.attr('text', e);
                }),
                (t.prototype.renderSlider = function () {
                  var t = this,
                    e = this,
                    n = e.width,
                    r = e.height,
                    i = e.timeBarType;
                  if ('trend' === i && (0, p.size)((0, p.get)(this.trendCfg, 'data'))) {
                    var o = new So(
                      Zo(Zo({ x: this.x, y: this.y, width: n, height: r }, this.trendCfg), {
                        group: this.group,
                      }),
                    );
                    this.trendComponent = o;
                  }
                  var a = this.group.addGroup({ name: 'slider-group' });
                  a.addShape('rect', {
                    attrs: Zo({ x: 0, y: 0, width: n, height: r }, this.backgroundStyle),
                    name: 'background',
                  });
                  var s = this.group.addGroup();
                  'trend' === i
                    ? ((this.minTextShape = s.addShape('text', {
                        attrs: Zo(
                          {
                            x: 0,
                            y: r / 2 + this.y,
                            textAlign: 'right',
                            text: this.minText,
                            silent: !1,
                            fontFamily: this.fontFamily || 'Arial, sans-serif',
                            stroke: '#fff',
                            lineWidth: 5,
                          },
                          this.textStyle,
                        ),
                        capture: !1,
                        name: 'min-text-shape',
                      })),
                      (this.maxTextShape = s.addShape('text', {
                        attrs: Zo(
                          {
                            y: r / 2 + this.y,
                            textAlign: 'left',
                            text: this.maxText,
                            silent: !1,
                            fontFamily: this.fontFamily || 'Arial, sans-serif',
                            stroke: '#fff',
                            lineWidth: 5,
                          },
                          this.textStyle,
                        ),
                        capture: !1,
                        name: 'max-text-shape',
                      })))
                    : ((this.minTextShape = s.addShape('text', {
                        attrs: Zo(
                          {
                            x: 0,
                            y: this.y - 10,
                            textAlign: 'center',
                            text: this.minText,
                            silent: !1,
                            fontFamily: this.fontFamily || 'Arial, sans-serif',
                            stroke: '#fff',
                            lineWidth: 5,
                          },
                          this.textStyle,
                        ),
                        capture: !1,
                        name: 'min-text-shape',
                      })),
                      (this.maxTextShape = s.addShape('text', {
                        attrs: Zo(
                          {
                            y: this.y - 10,
                            textAlign: 'center',
                            text: this.maxText,
                            silent: !1,
                            fontFamily: this.fontFamily || 'Arial, sans-serif',
                            stroke: '#fff',
                            lineWidth: 5,
                          },
                          this.textStyle,
                        ),
                        capture: !1,
                        name: 'max-text-shape',
                      }))),
                    (this.foregroundShape = this.group.addGroup().addShape('rect', {
                      attrs: Zo({ x: 0, y: this.y, height: r }, this.foregroundStyle),
                      name: 'foreground-shape',
                    })),
                    this.foregroundShape.on('mousedown', function (t) {
                      t.target.attr('cursor', 'grabbing');
                    }),
                    this.foregroundShape.on('mouseup', function (e) {
                      e.target.attr('cursor', t.foregroundStyle.cursor || 'grab');
                    });
                  var u = (0, p.get)(this.handlerStyle, 'width', 2),
                    c = (0, p.get)(this.handlerStyle, 'height', 24),
                    l = this.group.addGroup({ name: 'minHandlerShape' });
                  this.minHandlerShape = new Io({
                    name: 'minHandlerShape',
                    group: l,
                    type: i,
                    x: this.x,
                    y: this.y,
                    width: u,
                    height: c,
                    style: this.handlerStyle,
                  });
                  var h = this.group.addGroup({ name: 'maxHandlerShape' });
                  this.maxHandlerShape = new Io({
                    name: 'maxHandlerShape',
                    group: h,
                    type: i,
                    x: this.x,
                    y: this.y,
                    width: u,
                    height: c,
                    style: this.handlerStyle,
                  });
                  var f = this.ticks,
                    d = n / (f.length - 1);
                  (this.tickPosList = []),
                    this.textList &&
                      this.textList.length &&
                      this.textList.forEach(function (t) {
                        t.destroy();
                      });
                  var g = -1 / 0,
                    v = this.tickLabelStyle.rotate;
                  delete this.tickLabelStyle.rotate,
                    (this.textList = f.map(function (e, n) {
                      var i;
                      t.tickPosList.push(t.x + n * d),
                        t.tickLabelFormatter
                          ? ((i = t.tickLabelFormatter(e)),
                            !(0, p.isString)(i) && i && (i = e.date))
                          : (i = e.date);
                      var o = t.x + n * d,
                        a = t.y + r + 5,
                        s = t.group.addShape('text', {
                          attrs: Zo(
                            {
                              x: o,
                              y: a,
                              text: i,
                              fontFamily: t.fontFamily || 'Arial, sans-serif',
                            },
                            t.tickLabelStyle,
                          ),
                          name: 'tick-label',
                        });
                      if ((0, p.isNumber)(v) && n !== f.length - 1) {
                        var u = $o(
                          [1, 0, 0, 0, 1, 0, 0, 0, 1],
                          [
                            ['t', -o, -a],
                            ['r', v],
                            ['t', o - 5, a + 2],
                          ],
                        );
                        s.attr({ textAlign: 'left', matrix: u });
                      }
                      0 === n
                        ? s.attr({ textAlign: 'left' })
                        : n !== f.length - 1 && s.attr({ textAlign: 'right' });
                      var c = t.group.addShape('line', {
                        attrs: Zo(
                          { x1: t.x + n * d, y1: t.y + r + 2, x2: t.x + n * d, y2: t.y + r + 6 },
                          t.tickLineStyle,
                        ),
                        name: 'tick-line',
                      });
                      c.toBack();
                      var l = s.getBBox();
                      return (
                        l.minX > g
                          ? (s.show(), c.show(), (g = l.minX + l.width + 10))
                          : (s.hide(), c.hide()),
                        s
                      );
                    })),
                    (this.controllerBtnGroup = new Ko(
                      Zo(
                        { group: this.group, x: this.x, y: this.y + r + 25, width: n, height: 35 },
                        this.controllerCfg,
                      ),
                    )),
                    this.updateStartEnd(0),
                    this.updateUI(),
                    a.move(this.x, this.y),
                    this.bindEvents();
                }),
                (t.prototype.bindEvents = function () {
                  var t = this,
                    e = this.group.find(function (t) {
                      return 'minHandlerShape' === t.get('name');
                    });
                  e &&
                    (e.on(
                      'minHandlerShape-handler:mousedown',
                      this.onMouseDown(this.minHandlerShape),
                    ),
                    e.on(
                      'minHandlerShape-handler:touchstart',
                      this.onMouseDown(this.minHandlerShape),
                    ));
                  var n = this.group.find(function (t) {
                    return 'maxHandlerShape' === t.get('name');
                  });
                  n &&
                    (n.on(
                      'maxHandlerShape-handler:mousedown',
                      this.onMouseDown(this.maxHandlerShape),
                    ),
                    n.on(
                      'maxHandlerShape-handler:touchstart',
                      this.onMouseDown(this.maxHandlerShape),
                    )),
                    this.foregroundShape.on('mousedown', this.onMouseDown(this.foregroundShape)),
                    this.foregroundShape.on('touchstart', this.onMouseDown(this.foregroundShape)),
                    this.group.on(''.concat(Do, ':click'), function () {
                      (t.isPlay = !t.isPlay),
                        (t.currentHandler = t.maxHandlerShape),
                        t.changePlayStatus();
                    }),
                    this.group.on(''.concat(Lo, ':click'), function () {
                      (t.currentHandler = t.maxHandlerShape), t.updateStartEnd(0.01), t.updateUI();
                    }),
                    this.group.on(''.concat(Ro, ':click'), function () {
                      (t.currentHandler = t.maxHandlerShape), t.updateStartEnd(-0.01), t.updateUI();
                    }),
                    this.group.on(Oo, function (e) {
                      var n = e.type,
                        r = e.speed;
                      (t.currentSpeed = r),
                        (t.currentMode = n),
                        'single' === n
                          ? (t.minHandlerShape.hide(),
                            t.foregroundShape.hide(),
                            t.minTextShape.hide())
                          : 'range' === n &&
                            (t.minHandlerShape.show(),
                            t.foregroundShape.show(),
                            t.minTextShape.show());
                    });
                }),
                (t.prototype.adjustTickIndex = function (t) {
                  for (var e = 0; e < this.tickPosList.length - 1; e++)
                    if (this.tickPosList[e] <= t && t <= this.tickPosList[e + 1])
                      return Math.abs(this.tickPosList[e] - t) <
                        Math.abs(t - this.tickPosList[e + 1])
                        ? e
                        : e + 1;
                  return 0;
                }),
                (t.prototype.adjustOffsetRange = function (t) {
                  switch (this.currentHandler) {
                    case this.minHandlerShape:
                      var e = 0 - this.start,
                        n = 1 - this.start;
                      return Math.min(n, Math.max(e, t));
                    case this.maxHandlerShape:
                      return (e = 0 - this.end), (n = 1 - this.end), Math.min(n, Math.max(e, t));
                    case this.foregroundShape:
                      return (e = 0 - this.start), (n = 1 - this.end), Math.min(n, Math.max(e, t));
                    default:
                      return 0;
                  }
                }),
                (t.prototype.updateStartEnd = function (t) {
                  var e = this.ticks[this.adjustTickIndex(this.start * this.width)],
                    n = this.ticks[this.adjustTickIndex(this.end * this.width)];
                  if (!this.currentHandler)
                    return (
                      (this.minText = this.tickLabelFormatter
                        ? this.tickLabelFormatter(e)
                        : null == e
                        ? void 0
                        : e.date),
                      void (this.maxText = this.tickLabelFormatter
                        ? this.tickLabelFormatter(n)
                        : null == n
                        ? void 0
                        : n.date)
                    );
                  switch (this.currentHandler) {
                    case this.minHandlerShape:
                      (this.maxText = this.maxTextShape.attr('text')),
                        (this.start += t),
                        (this.minText = this.tickLabelFormatter
                          ? this.tickLabelFormatter(e)
                          : e.date);
                      break;
                    case this.maxHandlerShape:
                      (this.minText = this.minTextShape.attr('text')),
                        (this.end += t),
                        (this.maxText = this.tickLabelFormatter
                          ? this.tickLabelFormatter(n)
                          : n.date);
                      break;
                    case this.foregroundShape:
                      (this.start += t),
                        (this.end += t),
                        (this.minText = this.tickLabelFormatter
                          ? this.tickLabelFormatter(e)
                          : e.date),
                        (this.maxText = this.tickLabelFormatter
                          ? this.tickLabelFormatter(n)
                          : n.date);
                  }
                }),
                (t.prototype.updateUI = function () {
                  var t = this;
                  this.start < 0 && (this.start = 0), this.end > 1 && (this.end = 1);
                  var e = this.x + this.start * this.width,
                    n = this.x + this.end * this.width;
                  this.foregroundShape.attr('x', e), this.foregroundShape.attr('width', n - e);
                  var r = (0, p.get)(this.handlerStyle, 'width', 2);
                  this.setText(this.minText, this.maxText);
                  var i = this.dodgeText([e, n]),
                    o = i[0],
                    a = i[1];
                  this.minHandlerShape.setX(e - r / 2),
                    (0, p.each)(o, function (e, n) {
                      return t.minTextShape.attr(n, e);
                    }),
                    this.maxHandlerShape.setX(n - r / 2),
                    (0, p.each)(a, function (e, n) {
                      return t.maxTextShape.attr(n, e);
                    }),
                    'range' === this.currentMode
                      ? this.graph.emit(Po, { value: [this.start, this.end].sort() })
                      : 'single' === this.currentMode &&
                        this.graph.emit(Po, { value: [this.end, this.end] });
                }),
                (t.prototype.dodgeText = function (t) {
                  var e,
                    n,
                    r = (0, p.get)(this.handlerStyle, 'width', 2),
                    i = this.minTextShape,
                    o = this.maxTextShape,
                    a = t[0],
                    s = t[1],
                    u = !1;
                  a > s &&
                    ((a = (e = [s, a])[0]),
                    (s = e[1]),
                    (i = (n = [o, i])[0]),
                    (o = n[1]),
                    (u = !0));
                  var c = i.getBBox(),
                    l = o.getBBox(),
                    h = null,
                    f = null;
                  return (
                    'trend' === this.timeBarType
                      ? ((h =
                          a - c.width < this.x + 2
                            ? { x: a + r / 2 + 2, textAlign: 'left' }
                            : { x: a - r / 2 - 2, textAlign: 'right' }),
                        (f =
                          s + l.width > this.x + this.width
                            ? { x: s - r / 2 - 2, textAlign: 'right' }
                            : { x: s + r / 2 + 2, textAlign: 'left' }))
                      : 'simple' === this.timeBarType &&
                        ((h =
                          i.attr('x') > c.width
                            ? { x: a, textAlign: 'center' }
                            : { x: a, textAlign: 'left' }),
                        (f =
                          o.attr('x') > this.width - l.width
                            ? { x: s, textAlign: 'right' }
                            : { x: s, textAlign: 'center' })),
                    u ? [f, h] : [h, f]
                  );
                }),
                (t.prototype.startPlay = function () {
                  var t = this;
                  return 'undefined' != typeof window
                    ? window.requestAnimationFrame(function () {
                        var e = t,
                          n = e.ticks,
                          r = e.width,
                          i = t.currentSpeed,
                          o = r / n.length / ((1e3 * (10 - i)) / 60),
                          a = t.adjustOffsetRange(o / t.width);
                        t.updateStartEnd(a),
                          t.updateUI(),
                          t.isPlay && (t.playHandler = t.startPlay());
                      })
                    : void 0;
                }),
                (t.prototype.changePlayStatus = function (t) {
                  void 0 === t && (t = !0),
                    this.controllerBtnGroup.playButton.update({ isPlay: this.isPlay }),
                    this.isPlay
                      ? ((this.playHandler = this.startPlay()), this.graph.emit(To, null))
                      : this.playHandler &&
                        ('undefined' != typeof window &&
                          window.cancelAnimationFrame(this.playHandler),
                        t && this.graph.emit(No, null));
                }),
                (t.prototype.destory = function () {
                  this.graph.off(Po, function () {});
                  var t = this.group,
                    e = t.find(function (t) {
                      return 'minHandlerShape' === t.get('name');
                    });
                  e &&
                    (e.off('minHandlerShape-handler:mousedown'),
                    e.off('minHandlerShape-handler:touchstart'),
                    e.destroy());
                  var n = t.find(function (t) {
                    return 'maxHandlerShape' === t.get('name');
                  });
                  n &&
                    (n.off('maxHandlerShape-handler:mousedown'),
                    n.off('maxHandlerShape-handler:touchstart'),
                    n.destroy()),
                    this.foregroundShape.off('mousedown'),
                    this.foregroundShape.off('touchstart'),
                    this.foregroundShape.destroy(),
                    t.off(''.concat(Do, ':click')),
                    t.off(''.concat(Lo, ':click')),
                    t.off(''.concat(Ro, ':click')),
                    t.off(Oo),
                    t.destroy(),
                    this.trendComponent && this.trendComponent.destory();
                }),
                t
              );
            })();
          const aa = oa;
          var sa = (function () {
            function t(t) {
              var e = t.x,
                n = void 0 === e ? 0 : e,
                r = t.y,
                i = void 0 === r ? 0 : r,
                o = t.container,
                a = t.text,
                s = t.padding,
                u = void 0 === s ? [4, 4, 4, 4] : s,
                c = t.className,
                l = void 0 === c ? 'g6-component-timebar-tooltip' : c,
                h = t.backgroundColor,
                f = void 0 === h ? '#000' : h,
                d = t.textColor,
                p = void 0 === d ? '#fff' : d,
                g = t.opacity,
                v = void 0 === g ? 0.8 : g,
                y = t.fontSize,
                m = void 0 === y ? 12 : y;
              (this.container = o),
                (this.className = l),
                (this.backgroundColor = f),
                (this.textColor = p),
                (this.x = n),
                (this.y = i),
                (this.text = a),
                (this.padding = u),
                (this.opacity = v),
                (this.fontSize = m),
                this.render();
            }
            return (
              (t.prototype.render = function () {
                var t = this,
                  e = t.className,
                  n = (t.x, t.y, t.backgroundColor),
                  r = t.textColor,
                  i = t.text,
                  o = t.padding,
                  a = t.opacity,
                  s = t.fontSize,
                  u = t.container,
                  c = Yn(
                    "<div class='"
                      .concat(
                        e,
                        '\' style="position: absolute; width: fit-content; height: fit-content; opacity: ',
                      )
                      .concat(a, '"></div>'),
                  );
                (0, p.isString)(u) && (u = document.getElementById(u)),
                  u.appendChild(c),
                  (t.parentHeight = u.offsetHeight),
                  (t.parentWidth = u.offsetWidth),
                  $n(c, { visibility: 'hidden', top: 0, left: 0 });
                var l = Yn(
                  "\n      <div style='position: absolute; white-space:nowrap; background-color: "
                    .concat(n, '; font-size: ')
                    .concat(
                      s,
                      'px; border-radius: 4px; width: fit-content; height: fit-content; color: ',
                    )
                    .concat(r, '; padding: ')
                    .concat(o[0], 'px ')
                    .concat(o[1], 'px ')
                    .concat(o[2], 'px ')
                    .concat(o[3], "px'></div>"),
                );
                (l.innerHTML = i), c.appendChild(l), (t.backgroundDOM = l);
                var h = Yn(
                  "<div style='position: absolute; width: 0px; height: 0px; border-left: 5px solid transparent; border-right: 5px solid transparent; border-top: 10px solid ".concat(
                    n,
                    "'></div>",
                  ),
                );
                c.appendChild(h), (t.arrowDOM = h), (t.container = c);
              }),
              (t.prototype.show = function (t) {
                var e = this,
                  n = t.text,
                  r = t.x;
                t.y, t.clientX, t.clientY, (e.backgroundDOM.innerHTML = n);
                var i = e.backgroundDOM.offsetWidth,
                  o = e.backgroundDOM.offsetHeight,
                  a = e.arrowDOM.offsetWidth,
                  s = e.arrowDOM.offsetHeight;
                $n(e.container, {
                  top: ''.concat(-o - s, 'px'),
                  left: ''.concat(r, 'px'),
                  visibility: 'visible',
                }),
                  $n(e.backgroundDOM, { marginLeft: ''.concat(-i / 2, 'px') }),
                  $n(e.arrowDOM, { marginLeft: ''.concat(-a / 2, 'px'), top: ''.concat(o, 'px') });
                var u = r - i / 2,
                  c = r + i / 2;
                u < 0
                  ? $n(e.backgroundDOM, { marginLeft: ''.concat(-i / 2 - u, 'px') })
                  : c > e.parentWidth &&
                    $n(e.backgroundDOM, {
                      marginLeft: ''.concat(-i / 2 - c + e.parentWidth + 12, 'px'),
                    });
              }),
              (t.prototype.hide = function () {
                $n(this.container, { top: 0, left: 0, visibility: 'hidden' });
              }),
              t
            );
          })();
          const ua = sa;
          var ca = function () {
              return (
                (ca =
                  Object.assign ||
                  function (t) {
                    for (var e, n = 1, r = arguments.length; n < r; n++)
                      for (var i in (e = arguments[n]))
                        Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i]);
                    return t;
                  }),
                ca.apply(this, arguments)
              );
            },
            la = mt.transform,
            ha = { fill: '#5B8FF9' },
            fa = { fill: '#e6e8e9' },
            da = (function () {
              function t(t) {
                (this.frameCount = 0), (this.fontFamily = 'Arial, sans-serif');
                var e = t.graph,
                  n = t.canvas,
                  r = t.group,
                  i = t.width,
                  o = t.height,
                  a = t.padding,
                  s = t.data,
                  u = t.start,
                  c = t.end,
                  l = t.x,
                  h = void 0 === l ? 0 : l,
                  f = t.y,
                  d = void 0 === f ? 0 : f,
                  p = t.tickLabelFormatter,
                  g = t.selectedTickStyle,
                  v = void 0 === g ? ha : g,
                  y = t.unselectedTickStyle,
                  m = void 0 === y ? fa : y,
                  b = t.tooltipBackgroundColor,
                  x = t.tooltipFomatter,
                  _ = t.tickLabelStyle;
                (this.graph = e),
                  (this.group = r),
                  (this.sliceGroup = r.addGroup({ name: 'slice-group' })),
                  (this.canvas = n),
                  (this.width = i),
                  (this.height = o),
                  (this.padding = a),
                  (this.data = s),
                  (this.start = u),
                  (this.end = c),
                  (this.tickLabelFormatter = p),
                  (this.tickLabelStyle = _ || {}),
                  (this.selectedTickStyle = v),
                  (this.unselectedTickStyle = m),
                  (this.x = h),
                  (this.y = d),
                  (this.tooltipBackgroundColor = b),
                  (this.tooltipFomatter = x),
                  (this.fontFamily =
                    ('undefined' != typeof window &&
                      window
                        .getComputedStyle(document.body, null)
                        .getPropertyValue('font-family')) ||
                    'Arial, sans-serif'),
                  this.renderSlices(),
                  this.initEvent();
              }
              return (
                (t.prototype.renderSlices = function () {
                  var t = this,
                    e = this,
                    n = e.width,
                    r = e.height,
                    i = e.padding,
                    o = e.data,
                    a = e.start,
                    s = e.end,
                    u = e.tickLabelFormatter,
                    c = e.selectedTickStyle,
                    l = e.unselectedTickStyle,
                    h = e.tickLabelStyle,
                    f = n - 2 * i,
                    d = r - (3 * i + 4 + 10) - 2 * i,
                    g = o.length,
                    v = (f - 2 * (g - 1)) / g;
                  this.tickWidth = v;
                  var y = this.sliceGroup,
                    m = [],
                    b = [],
                    x = Math.round(g * a),
                    _ = Math.round(g * s);
                  (this.startTickRectId = x), (this.endTickRectId = _);
                  var w = h.rotate;
                  delete h.rotate,
                    o.forEach(function (e, r) {
                      var o = r >= x && r <= _ ? c : l,
                        a = y.addShape('rect', {
                          attrs: ca({ x: i + r * (v + 2), y: i, width: v, height: d }, o),
                          draggable: !0,
                          name: 'tick-rect-'.concat(r),
                        }),
                        s = y.addShape('rect', {
                          attrs: {
                            x: i + r * v + (2 * (2 * r - 1)) / 2,
                            y: i,
                            width: 0 === r || r === g - 1 ? v + 1 : v + 2,
                            height: d,
                            fill: '#fff',
                            opacity: 0,
                          },
                          draggable: !0,
                          name: 'pick-rect-'.concat(r),
                        });
                      s.toFront();
                      var f,
                        E = a.getBBox(),
                        S = (E.minX + E.maxX) / 2;
                      if (
                        (m.push({ rect: a, pickRect: s, value: e.date, x: S, y: E.minY }),
                        u
                          ? ((f = u(e)), !(0, p.isString)(f) && f && (f = e.date))
                          : r % Math.round(g / 10) == 0 && (f = e.date),
                        f)
                      ) {
                        b.push(f);
                        var M = E.maxY + 2 * i;
                        y.addShape('line', {
                          attrs: { stroke: '#BFBFBF', x1: S, y1: M, x2: S, y2: M + 4 },
                          name: 'tick-line',
                        });
                        var k = M + 4 + i,
                          A = y.addShape('text', {
                            attrs: ca(
                              {
                                fill: '#8c8c8c',
                                stroke: '#fff',
                                lineWidth: 1,
                                x: S,
                                y: k,
                                textAlign: 'center',
                                text: f,
                                textBaseline: 'top',
                                fontSize: 10,
                                fontFamily: t.fontFamily || 'Arial, sans-serif',
                              },
                              h,
                            ),
                            capture: !1,
                            name: 'tick-label',
                          }),
                          C = A.getBBox();
                        if (
                          (C.maxX > n
                            ? A.attr('textAlign', 'right')
                            : C.minX < 0 && A.attr('textAlign', 'left'),
                          (0, p.isNumber)(w) && 10 !== b.length)
                        ) {
                          var I = la(
                            [1, 0, 0, 0, 1, 0, 0, 0, 1],
                            [
                              ['t', -S, -k],
                              ['r', w],
                              ['t', S - 5, k + 2],
                            ],
                          );
                          A.attr({ textAlign: 'left', matrix: I });
                        }
                        1 === b.length
                          ? A.attr({ textAlign: 'left' })
                          : 10 === b.length && A.attr({ textAlign: 'right' });
                      }
                    }),
                    (this.tickRects = m);
                  var E = this.group;
                  (this.currentSpeed = 1),
                    (this.controllerBtnGroup = new Ko({
                      group: E,
                      x: this.x,
                      y: this.y + r + 5,
                      width: n,
                      height: 40,
                      hideTimeTypeController: !0,
                      speed: this.currentSpeed,
                      fontFamily: this.fontFamily || 'Arial, sans-serif',
                    }));
                }),
                (t.prototype.initEvent = function () {
                  var t = this,
                    e = this.sliceGroup;
                  e.on('click', function (e) {
                    var n = e.target;
                    if ('rect' === n.get('type') && n.get('name')) {
                      var r = parseInt(n.get('name').split('-')[2], 10);
                      if (!isNaN(r)) {
                        var i = t.tickRects,
                          o = t.unselectedTickStyle;
                        i.forEach(function (t) {
                          t.rect.attr(o);
                        });
                        var a = t.selectedTickStyle;
                        i[r].rect.attr(a), (t.startTickRectId = r), (t.endTickRectId = r);
                        var s = r / i.length;
                        t.graph.emit(Po, { value: [s, s] });
                      }
                    }
                  }),
                    e.on('dragstart', function (e) {
                      var n = t.tickRects,
                        r = t.unselectedTickStyle;
                      n.forEach(function (t) {
                        t.rect.attr(r);
                      });
                      var i = e.target,
                        o = parseInt(i.get('name').split('-')[2], 10),
                        a = t.selectedTickStyle;
                      n[o].rect.attr(a), (t.startTickRectId = o);
                      var s = o / n.length;
                      t.graph.emit(Po, { value: [s, s] }), (t.dragging = !0);
                    }),
                    e.on('dragover', function (e) {
                      if (t.dragging && 'rect' === e.target.get('type')) {
                        for (
                          var n = parseInt(e.target.get('name').split('-')[2], 10),
                            r = t.startTickRectId,
                            i = t.tickRects,
                            o = t.selectedTickStyle,
                            a = t.unselectedTickStyle,
                            s = 0;
                          s < i.length;
                          s++
                        ) {
                          var u = s >= r && s <= n ? o : a;
                          i[s].rect.attr(u);
                        }
                        var c = i.length;
                        t.endTickRectId = n;
                        var l = r / c,
                          h = n / c;
                        t.graph.emit(Po, { value: [l, h] });
                      }
                    }),
                    e.on('drop', function (e) {
                      if (t.dragging && ((t.dragging = !1), 'rect' === e.target.get('type'))) {
                        var n = t.startTickRectId,
                          r = parseInt(e.target.get('name').split('-')[2], 10);
                        if (!(r < n)) {
                          var i = t.selectedTickStyle,
                            o = t.tickRects;
                          o[r].rect.attr(i), (t.endTickRectId = r);
                          var a = o.length,
                            s = n / a,
                            u = r / a;
                          t.graph.emit(Po, { value: [s, u] });
                        }
                      }
                    });
                  var n = this,
                    r = n.tooltipBackgroundColor,
                    i = n.tooltipFomatter,
                    o = n.canvas,
                    a = new ua({ container: o.get('container'), backgroundColor: r }),
                    s = this.tickRects;
                  s.forEach(function (t) {
                    var e = t.pickRect;
                    e.on('mouseenter', function (t) {
                      var e = t.target;
                      if ('rect' === e.get('type')) {
                        var n = parseInt(e.get('name').split('-')[2], 10),
                          r = o.getClientByPoint(s[n].x, s[n].y);
                        a.show({
                          x: s[n].x,
                          y: s[n].y,
                          clientX: r.x,
                          clientY: r.y,
                          text: i ? i(s[n].value) : s[n].value,
                        });
                      }
                    }),
                      e.on('mouseleave', function (t) {
                        a.hide();
                      });
                  });
                  var u = this.group;
                  u.on(''.concat(Do, ':click'), function () {
                    (t.isPlay = !t.isPlay), t.changePlayStatus();
                  }),
                    u.on(''.concat(Lo, ':click'), function () {
                      t.updateStartEnd(1);
                    }),
                    u.on(''.concat(Ro, ':click'), function () {
                      t.updateStartEnd(-1);
                    }),
                    u.on(Oo, function (e) {
                      e.type;
                      var n = e.speed;
                      t.currentSpeed = n;
                    });
                }),
                (t.prototype.changePlayStatus = function (t) {
                  void 0 === t && (t = !0),
                    this.controllerBtnGroup.playButton.update({ isPlay: this.isPlay }),
                    this.isPlay
                      ? ((this.playHandler = this.startPlay()), this.graph.emit(To, null))
                      : this.playHandler &&
                        ('undefined' != typeof window &&
                          window.cancelAnimationFrame(this.playHandler),
                        t && this.graph.emit(No, null));
                }),
                (t.prototype.startPlay = function () {
                  var t = this;
                  return 'undefined' != typeof window
                    ? window.requestAnimationFrame(function () {
                        var e = t.currentSpeed;
                        t.frameCount % (60 / e) == 0 && ((t.frameCount = 0), t.updateStartEnd(1)),
                          t.frameCount++,
                          t.isPlay && (t.playHandler = t.startPlay());
                      })
                    : void 0;
                }),
                (t.prototype.updateStartEnd = function (t) {
                  var e = this,
                    n = this.tickRects,
                    r = n.length,
                    i = this.unselectedTickStyle,
                    o = this.selectedTickStyle,
                    a = e.endTickRectId;
                  if (
                    (t > 0
                      ? e.endTickRectId++
                      : (n[e.endTickRectId].rect.attr(i), e.endTickRectId--),
                    a !== e.startTickRectId)
                  )
                    e.endTickRectId < e.startTickRectId && (e.startTickRectId = e.endTickRectId);
                  else {
                    for (var s = e.startTickRectId; s <= e.endTickRectId - 1; s++)
                      n[s].rect.attr(i);
                    e.startTickRectId = e.endTickRectId;
                  }
                  if (n[e.endTickRectId]) {
                    n[e.endTickRectId].rect.attr(o);
                    var u = e.startTickRectId / r,
                      c = e.endTickRectId / r;
                    this.graph.emit(Po, { value: [u, c] });
                  }
                }),
                (t.prototype.destory = function () {
                  this.graph.off(Po, function () {});
                  var t = this.sliceGroup;
                  t.off('click'),
                    t.off('dragstart'),
                    t.off('dragover'),
                    t.off('drop'),
                    this.tickRects.forEach(function (t) {
                      var e = t.pickRect;
                      e.off('mouseenter'), e.off('mouseleave');
                    }),
                    (this.tickRects.length = 0),
                    t.off(''.concat(Do, ':click')),
                    t.off(''.concat(Lo, ':click')),
                    t.off(''.concat(Ro, ':click')),
                    t.off(Oo),
                    this.sliceGroup.destroy();
                }),
                t
              );
            })();
          const pa = da;
          var ga = (function () {
              var t = function (e, n) {
                return (
                  (t =
                    Object.setPrototypeOf ||
                    ({ __proto__: [] } instanceof Array &&
                      function (t, e) {
                        t.__proto__ = e;
                      }) ||
                    function (t, e) {
                      for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
                    }),
                  t(e, n)
                );
              };
              return function (e, n) {
                if ('function' != typeof n && null !== n)
                  throw new TypeError(
                    'Class extends value ' + String(n) + ' is not a constructor or null',
                  );
                function r() {
                  this.constructor = e;
                }
                t(e, n),
                  (e.prototype =
                    null === n ? Object.create(n) : ((r.prototype = n.prototype), new r()));
              };
            })(),
            va = function () {
              return (
                (va =
                  Object.assign ||
                  function (t) {
                    for (var e, n = 1, r = arguments.length; n < r; n++)
                      for (var i in (e = arguments[n]))
                        Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i]);
                    return t;
                  }),
                va.apply(this, arguments)
              );
            },
            ya = (function (t) {
              function e(e) {
                return t.call(this, e) || this;
              }
              return (
                ga(e, t),
                (e.prototype.getDefaultCfgs = function () {
                  return {
                    container: null,
                    className: 'g6-component-timebar',
                    padding: 10,
                    type: 'trend',
                    trend: { data: [], isArea: !1, smooth: !0 },
                    controllerCfg: { speed: 1, loop: !1 },
                    slider: { start: 0.1, end: 0.9, minText: 'min', maxText: 'max' },
                    tick: { start: 0.1, end: 0.9, data: [] },
                    textStyle: {},
                    filterEdge: !1,
                    filterItemTypes: ['node'],
                    containerCSS: {},
                  };
                }),
                (e.prototype.initContainer = function () {
                  var t,
                    e,
                    n = this.get('graph'),
                    r = this._cfgs,
                    i = r.width,
                    o = r.height,
                    a = this.get('className') || 'g6-component-timebar',
                    s = this.get('container'),
                    u = this.get('graph').get('container');
                  s
                    ? ((0, p.isString)(s) && (s = document.getElementById(s)), (t = s))
                    : $n((t = Yn("<div class='".concat(a, "'></div>"))), { position: 'relative' }),
                    u.appendChild(t),
                    this.set('timeBarContainer', t),
                    (e =
                      'SVG' === n.get('renderer')
                        ? new Ve({ container: t, width: i, height: o })
                        : new Gt({ container: t, width: i, height: o })),
                    this.get('containerCSS') && $n(t, this.get('containerCSS')),
                    this.set('canvas', e);
                }),
                (e.prototype.init = function () {
                  this.initContainer();
                  var t = this.get('canvas').addGroup({ name: 'timebar-group' });
                  this.set('timeBarGroup', t), this.renderTrend(), this.initEvent();
                  var e =
                    ('undefined' != typeof window &&
                      window
                        .getComputedStyle(document.body, null)
                        .getPropertyValue('font-family')) ||
                    'Arial, sans-serif';
                  this.set('fontFamily', e);
                }),
                (e.prototype.renderTrend = function () {
                  var t = this,
                    e = this._cfgs,
                    n = e.width,
                    r = e.x,
                    i = e.y,
                    o = e.padding,
                    a = e.type,
                    s = e.trend,
                    u = e.slider,
                    c = e.controllerCfg,
                    l = e.textStyle,
                    h = e.tick,
                    f = e.backgroundStyle,
                    d = e.foregroundStyle,
                    p = s.data,
                    g = (function (t, e) {
                      var n = {};
                      for (var r in t)
                        Object.prototype.hasOwnProperty.call(t, r) &&
                          e.indexOf(r) < 0 &&
                          (n[r] = t[r]);
                      if (null != t && 'function' == typeof Object.getOwnPropertySymbols) {
                        var i = 0;
                        for (r = Object.getOwnPropertySymbols(t); i < r.length; i++)
                          e.indexOf(r[i]) < 0 &&
                            Object.prototype.propertyIsEnumerable.call(t, r[i]) &&
                            (n[r[i]] = t[r[i]]);
                      }
                      return n;
                    })(s, ['data']),
                    v = n - 2 * o,
                    y = 'trend' === a ? 26 : 4,
                    m = this.get('graph'),
                    b = this.get('timeBarGroup'),
                    x = this.get('canvas'),
                    _ = null;
                  if ('trend' === a || 'simple' === a) {
                    var w = this.get('getValue');
                    _ = new aa(
                      va(
                        va(
                          {
                            graph: m,
                            canvas: x,
                            group: b,
                            type: a,
                            x: r + o,
                            y: 'trend' === a ? i + o : i + o + 15,
                            width: v,
                            height: y,
                            padding: o,
                            backgroundStyle: f,
                            foregroundStyle: d,
                            trendCfg: va(va({}, g), {
                              data: p.map(function (t) {
                                return (null == w ? void 0 : w(t)) || t.value;
                              }),
                            }),
                          },
                          u,
                        ),
                        {
                          tick: {
                            ticks: p,
                            tickLabelFormatter: h.tickLabelFormatter,
                            tickLabelStyle: h.tickLabelStyle,
                            tickLineStyle: h.tickLineStyle,
                          },
                          handlerStyle: va(va({}, u.handlerStyle), { height: u.height || y }),
                          controllerCfg: c,
                          textStyle: l,
                        },
                      ),
                    );
                  } else
                    'tick' === a &&
                      (_ = new pa(
                        va(
                          {
                            graph: m,
                            canvas: x,
                            group: b,
                            x: r + o,
                            y: i + o,
                            width: n,
                            height: 42,
                            padding: 2,
                          },
                          h,
                        ),
                      ));
                  var E = function e() {
                    var n = t.get('timebar');
                    (n.draggingHandler = !1),
                      n.isPlay &&
                        ((n.isPlay = !1),
                        (n.currentHandler = n.maxHandlerShape),
                        n.changePlayStatus()),
                      document.removeEventListener('mouseup', e);
                  };
                  x.on('mousedown', function (t) {
                    ('maxHandlerShape-handler' !== t.target.get('name') &&
                      'minHandlerShape-handler' !== t.target.get('name') &&
                      t.target !== _.foregroundShape) ||
                      document.addEventListener('mouseup', E);
                  }),
                    this.set('timebar', _);
                }),
                (e.prototype.filterData = function (t) {
                  var e,
                    n = t.value,
                    r = null,
                    i = this._cfgs.type;
                  if (
                    ('trend' === i || 'simple' === i
                      ? (r = this._cfgs.trend.data)
                      : 'tick' === i && (r = this._cfgs.tick.data),
                    r && 0 !== r.length)
                  ) {
                    var o = this.get('rangeChange'),
                      a = this.get('graph'),
                      s = Math.round(r.length * n[0]),
                      u = Math.round(r.length * n[1]);
                    (u = u >= r.length ? r.length - 1 : u), (s = s >= r.length ? r.length - 1 : s);
                    var c =
                        null === (e = this._cfgs.tick) || void 0 === e
                          ? void 0
                          : e.tickLabelFormatter,
                      l = c ? c(r[s]) : r[s].date,
                      h = c ? c(r[u]) : r[u].date;
                    if (('tick' !== i && this.get('timebar').setText(l, h), o)) o(a, l, h);
                    else {
                      (!this.cacheGraphData ||
                        (this.cacheGraphData.nodes && 0 === this.cacheGraphData.nodes.length)) &&
                        (this.cacheGraphData = a.get('data'));
                      var f = this.get('filterItemTypes'),
                        d = this.get('changeData'),
                        p = this.get('getDate'),
                        g = this.get('shouldIgnore'),
                        v = r[s].date,
                        y = r[u].date;
                      if (d || void 0 === d) {
                        var m = this.cacheGraphData.nodes,
                          b = this.cacheGraphData.edges;
                        if (f.includes('node')) {
                          var x = (m = m.filter(function (t) {
                            var e = +((null == p ? void 0 : p(t)) || t.date);
                            return (
                              (e >= v && e <= y) ||
                              (null == g ? void 0 : g('node', t, { min: v, max: y }))
                            );
                          })).map(function (t) {
                            return t.id;
                          });
                          b &&
                            (b = b.filter(function (t) {
                              return (
                                (x.includes(t.source) && x.includes(t.target)) ||
                                (null == g ? void 0 : g('edge', t, { min: v, max: y }))
                              );
                            }));
                        }
                        (this.get('filterEdge') || f.includes('edge')) &&
                          (b = b.filter(function (t) {
                            var e = +((null == p ? void 0 : p(t)) || t.date);
                            return (
                              (e >= v && e <= y) ||
                              (null == g ? void 0 : g('edge', t, { min: v, max: y }))
                            );
                          })),
                          a.changeData({ nodes: m, edges: b });
                      } else
                        f.includes('node') &&
                          a.getNodes().forEach(function (t) {
                            var e = t.getModel();
                            if (!(null == g ? void 0 : g('node', e, { min: v, max: y }))) {
                              var n = +((null == p ? void 0 : p(e)) || e.date);
                              n < v || n > y ? a.hideItem(t) : a.showItem(t);
                            }
                          }),
                          (this.get('filterEdge') || f.includes('edge')) &&
                            a.getEdges().forEach(function (t) {
                              var e = t.getModel();
                              if (
                                !(null == g
                                  ? void 0
                                  : g('edge', e, { min: r[s].date, max: r[u].date }))
                              ) {
                                var n = +((null == p ? void 0 : p(e)) || e.date);
                                n < r[s].date || n > r[u].date ? a.hideItem(t) : a.showItem(t);
                              }
                            });
                    }
                  } else console.warn('请配置 TimeBar 组件的数据');
                }),
                (e.prototype.initEvent = function () {
                  var t = this,
                    e = 0,
                    n = 0,
                    r = this._cfgs.type;
                  r && 'trend' !== r && 'simple' !== r
                    ? 'tick' === r && ((e = this._cfgs.tick.start), (n = this._cfgs.tick.end))
                    : ((e = this._cfgs.slider.start), (n = this._cfgs.slider.end));
                  var i = this.get('graph');
                  i.on('afterrender', function (r) {
                    t.filterData({ value: [e, n] });
                  }),
                    i.on(
                      Po,
                      (0, p.throttle)(
                        function (e) {
                          t.filterData(e);
                        },
                        200,
                        { trailing: !0, leading: !0 },
                      ),
                    );
                }),
                (e.prototype.destroy = function () {
                  var e = this.get('timebar');
                  e && e.destory && e.destory(), t.prototype.destroy.call(this);
                  var n = this.get('timeBarContainer');
                  if (n) {
                    var r = this.get('container');
                    r || (r = this.get('graph').get('container')),
                      (0, p.isString)(r) && (r = document.getElementById(r)),
                      r.removeChild(n);
                  }
                }),
                e
              );
            })(Jn);
          const ma = ya;
          var ba = n(5600),
            xa = (function () {
              var t = function (e, n) {
                return (
                  (t =
                    Object.setPrototypeOf ||
                    ({ __proto__: [] } instanceof Array &&
                      function (t, e) {
                        t.__proto__ = e;
                      }) ||
                    function (t, e) {
                      for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
                    }),
                  t(e, n)
                );
              };
              return function (e, n) {
                if ('function' != typeof n && null !== n)
                  throw new TypeError(
                    'Class extends value ' + String(n) + ' is not a constructor or null',
                  );
                function r() {
                  this.constructor = e;
                }
                t(e, n),
                  (e.prototype =
                    null === n ? Object.create(n) : ((r.prototype = n.prototype), new r()));
              };
            })(),
            _a = l.Util.applyMatrix,
            wa = (function (t) {
              function e(e) {
                return t.call(this, e) || this;
              }
              return (
                xa(e, t),
                (e.prototype.getDefaultCfgs = function () {
                  return {
                    container: null,
                    className: 'g6-minimap',
                    viewportClassName: 'g6-minimap-viewport',
                    width: 200,
                    delegateStyle: { fill: '#40a9ff', stroke: '#096dd9' },
                    refresh: !0,
                  };
                }),
                (e.prototype.getEvents = function () {
                  return {
                    beforepaint: 'updateViewport',
                    beforeanimate: 'disableRefresh',
                    afteranimate: 'enableRefresh',
                    viewportchange: 'disableOneRefresh',
                  };
                }),
                (e.prototype.disableRefresh = function () {
                  this.set('refresh', !1);
                }),
                (e.prototype.enableRefresh = function () {
                  this.set('refresh', !0), this.updateCanvas();
                }),
                (e.prototype.disableOneRefresh = function () {
                  this.set('viewportChange', !0);
                }),
                (e.prototype.initViewport = function () {
                  var t = this,
                    e = this._cfgs,
                    n = e.graph;
                  if (!this.destroyed) {
                    var r = this.get('container');
                    (0, p.isString)(r) && (r = document.getElementById(r));
                    var i = Yn(
                        '<div class='.concat(
                          e.viewportClassName,
                          "\n      style='position:absolute;\n        left:0;\n        top:0;\n        box-sizing:border-box;\n        border: 2px solid #1980ff'>\n      </div>",
                        ),
                      ),
                      o = 0,
                      a = 0,
                      s = !1,
                      u = 0,
                      c = 0,
                      l = 0,
                      h = 0,
                      f = 0,
                      d = 0;
                    r.addEventListener(
                      'mousedown',
                      function (r) {
                        if (((e.refresh = !1), r.target === i)) {
                          var u = i.style;
                          (l = parseInt(u.width, 10)), (h = parseInt(u.height, 10));
                          var c = t.get('width'),
                            p = t.get('height');
                          l > c ||
                            h > p ||
                            ((d = n.getZoom()),
                            (f = t.get('ratio')),
                            (s = !0),
                            (o = r.clientX),
                            (a = r.clientY));
                        }
                      },
                      !1,
                    ),
                      r.addEventListener(
                        'mousemove',
                        function (e) {
                          if (s && !(0, p.isNil)(e.clientX) && !(0, p.isNil)(e.clientY)) {
                            var r = t.get('width'),
                              g = t.get('height'),
                              v = i.style;
                            (u = parseInt(v.left, 10)),
                              (c = parseInt(v.top, 10)),
                              (l = parseInt(v.width, 10)),
                              (h = parseInt(v.height, 10));
                            var y = o - e.clientX,
                              m = a - e.clientY;
                            u - y < 0 ? (y = u) : u - y + l >= r && (y = 0),
                              c - m < 0 ? (m = c) : c - m + h >= g && (m = 0),
                              (c -= m),
                              $n(i, { left: ''.concat((u -= y), 'px'), top: ''.concat(c, 'px') }),
                              n.translate((y * d) / f, (m * d) / f),
                              (o = e.clientX),
                              (a = e.clientY);
                          }
                        },
                        !1,
                      ),
                      r.addEventListener(
                        'mouseleave',
                        function () {
                          (s = !1), (e.refresh = !0);
                        },
                        !1,
                      ),
                      r.addEventListener(
                        'mouseup',
                        function () {
                          (s = !1), (e.refresh = !0);
                        },
                        !1,
                      ),
                      this.set('viewport', i),
                      r.appendChild(i);
                  }
                }),
                (e.prototype.updateViewport = function () {
                  if (!this.destroyed) {
                    var t = this.get('ratio'),
                      e = this.get('width'),
                      n = this.get('height'),
                      r = this.get('graph'),
                      i = r.get('width'),
                      o = i / r.get('height'),
                      a = r.getGroup(),
                      s = a.getCanvasBBox(),
                      u = [(s.minX + s.maxX) / 2, (s.minY + s.maxY) / 2],
                      c = [s.maxX - s.minX, s.maxY - s.minY],
                      l = { centerX: u[0], centerY: u[1], width: 0, height: 0, minX: 0, minY: 0 };
                    s[0] / s[1] > o
                      ? ((l.width = c[0]), (l.height = l.width / o))
                      : ((l.height = c[1]), (l.width = l.height * o)),
                      (l.minX = u[0] - l.width / 2),
                      (l.minY = u[1] - l.height / 2);
                    var h = a.getMatrix();
                    h || (h = [1, 0, 0, 0, 1, 0, 0, 0, 1]);
                    var f = ba.invert([1, 0, 0, 0, 1, 0, 0, 0, 1], h),
                      d = _a({ x: l.minX, y: l.minY }, f),
                      p = r.getCanvasByPoint(d.x, d.y),
                      g = this.get('viewport');
                    g || this.initViewport();
                    var v = i / l.width,
                      y = v * e,
                      m = v * n,
                      b = (e * -p.x) / l.width,
                      x = (n * -p.y) / l.height,
                      _ = b + y,
                      w = x + m;
                    b < 0 && ((y += b), (b = 0)),
                      _ > e && (y -= _ - e),
                      x < 0 && ((m += x), (x = 0)),
                      w > n && (m -= w - n),
                      this.set('ratio', t),
                      $n(g, {
                        left: ''.concat(b, 'px'),
                        top: ''.concat(x, 'px'),
                        width: ''.concat(y, 'px'),
                        height: ''.concat(m, 'px'),
                      });
                  }
                }),
                (e.prototype.init = function () {
                  this.initContainer();
                }),
                (e.prototype.initContainer = function () {
                  var t = this,
                    e = t.get('graph'),
                    n = e.get('width'),
                    r = e.get('height') / n,
                    i = t.get('className'),
                    o = t.get('container'),
                    a = t.get('width'),
                    s = t.get('height');
                  a || s || (a = 200),
                    a ? ((s = r * a), t.set('height', s)) : ((a = (1 / r) * s), t.set('width', a));
                  var u = Yn(
                    "<div class='"
                      .concat(i, "' style='width: ")
                      .concat(a, 'px; height: ')
                      .concat(s, "px; overflow: hidden; position: relative;'></div>"),
                  );
                  (0, p.isString)(o) && (o = document.getElementById(o)),
                    o ? o.appendChild(u) : e.get('container').appendChild(u),
                    t.set('container', u);
                  var c = Yn(
                    '<div class="g6-minimap-container" style="position: relative; width: 100%; height: 100%; text-align: center; display: table;"></div>',
                  );
                  u.appendChild(c);
                  var l = Yn('<span style="display: table-cell; vertical-align: middle; "></span>');
                  c.appendChild(l), t.set('containerDOM', c), t.set('containerSpan', l);
                  var h = Yn(
                    '<img alt="" src="'.concat(
                      this.get('graphImg'),
                      '" style="display: inline-block; user-select: none;" draggable="false" />',
                    ),
                  );
                  t.set('imgDOM', h), t.updateImgSize(), l.appendChild(h), t.updateCanvas();
                }),
                (e.prototype.updateImgSize = function () {
                  var t = this,
                    e = t.get('imgDOM'),
                    n = t.get('width'),
                    r = t.get('height');
                  e.onload = function () {
                    var t = (function (t, e) {
                      var n, r;
                      if (t.naturalWidth) (n = t.naturalWidth), (r = t.naturalHeight);
                      else {
                        var i = new Image();
                        (i.src = t.src), (i.onload = function () {});
                      }
                      return [n, r];
                    })(e);
                    t[0] > t[1] ? (e.width = n) : (e.height = r);
                  };
                }),
                (e.prototype.updateCanvas = function () {
                  if (this.get('refresh')) {
                    var t = this.get('graph');
                    if (!t.get('destroyed')) {
                      this.get('viewportChange') &&
                        (this.set('viewportChange', !1), this.updateViewport());
                      var e = this.get('width') / t.get('canvas').getCanvasBBox().width;
                      this.set('ratio', e), this.updateViewport();
                    }
                  }
                }),
                (e.prototype.getViewport = function () {
                  return this.get('viewport');
                }),
                (e.prototype.getContainer = function () {
                  return this.get('container');
                }),
                (e.prototype.updateGraphImg = function (t) {
                  var e = this;
                  e.get('imgDOM').remove(), e.set('graphImg', t);
                  var n = Yn(
                    '<img alt="" src="'.concat(
                      t,
                      '" style="display: inline-block;" ondragstart="return false;" onselectstart="return false;"/>',
                    ),
                  );
                  e.set('imgDOM', n),
                    (n.src = t),
                    e.updateImgSize(),
                    e.get('containerSpan').appendChild(n),
                    e.updateCanvas();
                }),
                (e.prototype.destroy = function () {
                  var t = this.get('container');
                  t.parentNode.removeChild(t);
                }),
                e
              );
            })(Jn);
          const Ea = wa;
          var Sa = (function () {
              var t = function (e, n) {
                return (
                  (t =
                    Object.setPrototypeOf ||
                    ({ __proto__: [] } instanceof Array &&
                      function (t, e) {
                        t.__proto__ = e;
                      }) ||
                    function (t, e) {
                      for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
                    }),
                  t(e, n)
                );
              };
              return function (e, n) {
                if ('function' != typeof n && null !== n)
                  throw new TypeError(
                    'Class extends value ' + String(n) + ' is not a constructor or null',
                  );
                function r() {
                  this.constructor = e;
                }
                t(e, n),
                  (e.prototype =
                    null === n ? Object.create(n) : ((r.prototype = n.prototype), new r()));
              };
            })(),
            Ma = function () {
              return (
                (Ma =
                  Object.assign ||
                  function (t) {
                    for (var e, n = 1, r = arguments.length; n < r; n++)
                      for (var i in (e = arguments[n]))
                        Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i]);
                    return t;
                  }),
                Ma.apply(this, arguments)
              );
            },
            ka = l.Util.distance,
            Aa = { stroke: '#000', strokeOpacity: 0.8, lineWidth: 2, fillOpacity: 1, fill: '#fff' },
            Ca = (function (t) {
              function e(e) {
                return t.call(this, e) || this;
              }
              return (
                Sa(e, t),
                (e.prototype.getDefaultCfgs = function () {
                  return {
                    type: 'both',
                    trigger: 'mousemove',
                    r: 60,
                    delegateStyle: (0, p.clone)(Aa),
                    showLabel: 'edge',
                    scaleRBy: 'wheel',
                  };
                }),
                (e.prototype.getEvents = function () {
                  var t;
                  switch (this.get('trigger')) {
                    case 'click':
                      t = { click: 'filter' };
                      break;
                    case 'drag':
                      t = { click: 'createDelegate' };
                      break;
                    default:
                      t = { mousemove: 'filter' };
                  }
                  return t;
                }),
                (e.prototype.init = function () {
                  var t = this,
                    e = t.get('showLabel'),
                    n = 'node' === e || 'both' === e,
                    r = 'edge' === e || 'both' === e;
                  t.set('showNodeLabel', n),
                    t.set('showEdgeLabel', r),
                    t.get('shouldShow') ||
                      t.set('shouldShow', function () {
                        return !0;
                      });
                }),
                (e.prototype.createDelegate = function (t) {
                  var e = this,
                    n = e.get('delegate');
                  (n && !n.destroyed) ||
                    (e.filter(t),
                    (n = e.get('delegate')).on('dragstart', function (t) {}),
                    n.on('drag', function (t) {
                      e.filter(t);
                    }),
                    'wheel' === this.get('scaleRBy') &&
                      n.on('mousewheel', function (t) {
                        e.scaleRByWheel(t);
                      }));
                }),
                (e.prototype.scaleRByWheel = function (t) {
                  var e = this;
                  if (t && t.originalEvent) {
                    t.preventDefault && t.preventDefault();
                    var n,
                      r = e.get('graph'),
                      i = e.get('delegate');
                    (i ? (i.attr('x'), i.attr('y'), 1) : void 0) ||
                      r.getPointByClient(t.clientX, t.clientY),
                      (n = t.originalEvent.wheelDelta < 0 ? 0.95 : 1 / 0.95);
                    var o = e.get('maxR'),
                      a = e.get('minR'),
                      s = e.get('r');
                    ((s > (o || r.get('height')) && n > 1) ||
                      (s < (a || 0.05 * r.get('height')) && n < 1)) &&
                      (n = 1),
                      (s *= n),
                      e.set('r', s),
                      e.filter(t);
                  }
                }),
                (e.prototype.filter = function (t) {
                  var e = this,
                    n = e.get('graph'),
                    r = n.getNodes(),
                    i = {},
                    o = e.get('r'),
                    a = e.get('type'),
                    s = { x: t.x, y: t.y };
                  e.updateDelegate(s, o);
                  var u = e.get('shouldShow'),
                    c = e.get('vShapes');
                  c &&
                    c.forEach(function (t) {
                      t.remove(), t.destroy();
                    }),
                    (c = []),
                    r.forEach(function (t) {
                      var e = t.getModel(),
                        n = e.x,
                        r = e.y;
                      ka({ x: n, y: r }, s) < o && (i[e.id] = t);
                    });
                  var l = n.getEdges(),
                    h = [];
                  l.forEach(function (t) {
                    var e = t.getModel(),
                      n = e.source,
                      r = e.target;
                    u(e) &&
                      ('only-source' === a || 'one' === a
                        ? i[n] && !i[r] && h.push(t)
                        : 'only-target' === a || 'one' === a
                        ? i[r] && !i[n] && h.push(t)
                        : 'both' === a && i[n] && i[r] && h.push(t));
                  });
                  var f = e.get('showNodeLabel'),
                    d = e.get('showEdgelabel'),
                    p = n.get('group');
                  h.forEach(function (t) {
                    t.get('group')
                      .get('children')
                      .forEach(function (t) {
                        var e = t.get('type'),
                          n = p.addShape(e, { attrs: t.attr() });
                        c.push(n), f && 'text' === e && n.set('visible', !0);
                      });
                  }),
                    Object.keys(i).forEach(function (t) {
                      var e = i[t].get('group').clone();
                      if ((p.add(e), c.push(e), d))
                        for (var n = e.get('children'), r = 0; r < n.length; r++) {
                          var o = n[r];
                          'text' === o.get('type') && o.set('visible', !0);
                        }
                    }),
                    e.set('vShapes', c);
                }),
                (e.prototype.updateParams = function (t) {
                  var e = this,
                    n = t.r,
                    r = t.trigger,
                    i = t.minR,
                    o = t.maxR,
                    a = t.scaleRBy,
                    s = t.showLabel,
                    u = t.shouldShow;
                  if (
                    (isNaN(t.r) || e.set('r', n),
                    isNaN(o) || e.set('maxR', o),
                    isNaN(i) || e.set('minR', i),
                    ('mousemove' !== r && 'click' !== r) || e.set('trigger', r),
                    'wheel' === a || 'unset' === a)
                  ) {
                    e.set('scaleRBy', a), e.get('delegate').remove(), e.get('delegate').destroy();
                    var c = e.get('dPercentText');
                    c && (c.remove(), c.destroy());
                  }
                  ('node' !== s && 'both' !== s) || e.set('showNodeLabel', !0),
                    ('edge' !== s && 'both' !== s) || e.set('showEdgeLabel', !0),
                    u && e.set('shouldShow', u);
                }),
                (e.prototype.updateDelegate = function (t, e) {
                  var n = this,
                    r = n.get('graph'),
                    i = n.get('delegate');
                  if (!i || i.destroyed) {
                    var o = r.get('group'),
                      a = n.get('delegateStyle') || Aa;
                    (i = o.addShape('circle', {
                      attrs: Ma({ r: e, x: t.x, y: t.y }, a),
                      name: 'lens-shape',
                      draggable: !0,
                    })),
                      'drag' !== this.get('trigger') &&
                        'wheel' === this.get('scaleRBy') &&
                        i.on('mousewheel', function (t) {
                          n.scaleRByWheel(t);
                        });
                  } else i.attr({ x: t.x, y: t.y, r: e });
                  n.set('delegate', i);
                }),
                (e.prototype.clear = function () {
                  var t = this,
                    e = t.get('vShapes');
                  e &&
                    e.forEach(function (t) {
                      t.remove(), t.destroy();
                    }),
                    (e = []),
                    t.set('vShapes', e);
                  var n = t.get('delegate');
                  n && !n.destroyed && (n.remove(), n.destroy());
                }),
                (e.prototype.destroy = function () {
                  this.clear();
                }),
                e
              );
            })(Jn);
          const Ia = Ca;
          var Ta = (function () {
              var t = function (e, n) {
                return (
                  (t =
                    Object.setPrototypeOf ||
                    ({ __proto__: [] } instanceof Array &&
                      function (t, e) {
                        t.__proto__ = e;
                      }) ||
                    function (t, e) {
                      for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
                    }),
                  t(e, n)
                );
              };
              return function (e, n) {
                if ('function' != typeof n && null !== n)
                  throw new TypeError(
                    'Class extends value ' + String(n) + ' is not a constructor or null',
                  );
                function r() {
                  this.constructor = e;
                }
                t(e, n),
                  (e.prototype =
                    null === n ? Object.create(n) : ((r.prototype = n.prototype), new r()));
              };
            })(),
            Na = l.Util.pointLineDistance,
            Pa = { stroke: '#FA8C16', lineWidth: 1 },
            Oa = (function (t) {
              function e(e) {
                return t.call(this, e) || this;
              }
              return (
                Ta(e, t),
                (e.prototype.getDefaultCfgs = function () {
                  return {
                    line: Pa,
                    itemAlignType: 'center',
                    tolerance: 5,
                    horizontalLines: {},
                    verticalLines: {},
                    alignLines: [],
                  };
                }),
                (e.prototype.init = function () {}),
                (e.prototype.getEvents = function () {
                  return {
                    'node:dragstart': 'onDragStart',
                    'node:drag': 'onDrag',
                    'node:dragend': 'onDragEnd',
                  };
                }),
                (e.prototype.onDragStart = function () {
                  this.initBoxLine();
                }),
                (e.prototype.onDrag = function (t) {
                  var e = t.item,
                    n = (e.get('delegateShape') || e).getBBox(),
                    r = e.getModel(),
                    i = r.x - n.x,
                    o = r.y - n.y;
                  this.show({ x: n.minX + i, y: n.minY + o }, { width: n.width, height: n.height });
                }),
                (e.prototype.onDragEnd = function () {
                  this.destory();
                }),
                (e.prototype.initBoxLine = function () {
                  var t = this._cfgs,
                    e = t.horizontalLines,
                    n = t.verticalLines,
                    r = t.itemAlignType;
                  this.get('graph')
                    .getNodes()
                    .forEach(function (t) {
                      var i = t.getBBox(),
                        o = t.get('id');
                      !0 === r || 'horizontal' === r
                        ? ((e[''.concat(o, 'tltr')] = [i.minX, i.minY, i.maxX, i.minY, t]),
                          (e[''.concat(o, 'lcrc')] = [i.minX, i.centerY, i.maxX, i.centerY, t]),
                          (e[''.concat(o, 'blbr')] = [i.minX, i.maxY, i.maxX, i.maxY, t]))
                        : 'center' === r &&
                          (e[''.concat(o, 'lcrc')] = [i.minX, i.centerY, i.maxX, i.centerY, t]),
                        !0 === r || 'vertical' === r
                          ? ((n[''.concat(o, 'tlbl')] = [i.minX, i.minY, i.minX, i.maxY, t]),
                            (n[''.concat(o, 'tcbc')] = [i.centerX, i.minY, i.centerX, i.maxY, t]),
                            (n[''.concat(o, 'trbr')] = [i.maxX, i.minY, i.maxX, i.maxY, t]))
                          : 'center' === r &&
                            (n[''.concat(o, 'tcbc')] = [i.centerX, i.minY, i.centerX, i.maxY, t]);
                    });
                }),
                (e.prototype.show = function (t, e) {
                  var n = (0, p.mix)({}, t);
                  return this.itemAlign(t, e, n), t;
                }),
                (e.prototype.itemAlign = function (t, e, n) {
                  var r = this,
                    i = this._cfgs,
                    o = i.horizontalLines,
                    a = i.verticalLines,
                    s = i.tolerance,
                    u = { x: n.x + e.width / 2, y: n.y },
                    c = { x: n.x + e.width / 2, y: n.y + e.height / 2 },
                    l = { x: n.x + e.width / 2, y: n.y + e.height },
                    h = { x: n.x, y: n.y + e.height / 2 },
                    f = { x: n.x + e.width, y: n.y + e.height / 2 },
                    d = [],
                    g = [],
                    v = null;
                  if (
                    (this.clearAlignLine(),
                    (0, p.each)(o, function (t) {
                      t[4].isVisible &&
                        (d.push(r.getLineDisObject(t, u)),
                        d.push(r.getLineDisObject(t, c)),
                        d.push(r.getLineDisObject(t, l)));
                    }),
                    (0, p.each)(a, function (t) {
                      t[4].isVisible &&
                        (g.push(r.getLineDisObject(t, h)),
                        g.push(r.getLineDisObject(t, c)),
                        g.push(r.getLineDisObject(t, f)));
                    }),
                    d.sort(function (t, e) {
                      return t.dis - e.dis;
                    }),
                    g.sort(function (t, e) {
                      return t.dis - e.dis;
                    }),
                    0 !== d.length && d[0].dis < s)
                  ) {
                    (t.y = d[0].line[1] - d[0].point.y + n.y),
                      (v = { type: 'item', horizontals: [d[0]] });
                    for (var y = 1; y < 3; y++) d[0].dis === d[y].dis && v.horizontals.push(d[y]);
                  }
                  if (0 !== g.length && g[0].dis < s)
                    for (
                      t.x = g[0].line[0] - g[0].point.x + n.x,
                        v ? (v.verticals = [g[0]]) : (v = { type: 'item', verticals: [g[0]] }),
                        y = 1;
                      y < 3;
                      y++
                    )
                      g[0].dis === g[y].dis && v.verticals.push(g[y]);
                  v && ((v.bbox = e), this.addAlignLine(v));
                }),
                (e.prototype.addAlignLine = function (t) {
                  var e = t.bbox,
                    n = t.type,
                    r = t.horizontals,
                    i = t.verticals,
                    o = this._cfgs,
                    a = o.line,
                    s = o.alignLines,
                    u = this.get('graph').get('group');
                  'item' === n &&
                    (r &&
                      (0, p.each)(r, function (t) {
                        var n,
                          r,
                          i = t.line,
                          o = t.point,
                          c = (i[0] + i[2]) / 2;
                        o.x < c
                          ? ((n = o.x - e.width / 2), (r = Math.max(i[0], i[2])))
                          : ((n = o.x + e.width / 2), (r = Math.min(i[0], i[2])));
                        var l = (0, p.mix)({ x1: n, y1: i[1], x2: r, y2: i[1] }, a),
                          h = u.addShape('line', { attrs: l, capture: !1 });
                        s.push(h);
                      }),
                    i &&
                      (0, p.each)(i, function (t) {
                        var n,
                          r,
                          i = t.line,
                          o = t.point,
                          c = (i[1] + i[3]) / 2;
                        o.y < c
                          ? ((n = o.y - e.height / 2), (r = Math.max(i[1], i[3])))
                          : ((n = o.y + e.height / 2), (r = Math.min(i[1], i[3])));
                        var l = (0, p.mix)({ x1: i[0], y1: n, x2: i[0], y2: r }, a),
                          h = u.addShape('line', { attrs: l, capture: !1 });
                        s.push(h);
                      }));
                }),
                (e.prototype.getLineDisObject = function (t, e) {
                  return { line: t, point: e, dis: Na(t, e) };
                }),
                (e.prototype.getContainer = function () {
                  return this.get('container');
                }),
                (e.prototype.clearAlignLine = function () {
                  var t = this._cfgs.alignLines;
                  (0, p.each)(t, function (t) {
                    t.remove();
                  }),
                    (t.length = 0);
                }),
                (e.prototype.destory = function () {
                  var t = this._cfgs,
                    e = t.horizontalLines,
                    n = t.verticalLines;
                  this.get('graph')
                    .getNodes()
                    .forEach(function (t) {
                      var r = t.get('id');
                      delete e[''.concat(r, 'tltr')],
                        delete e[''.concat(r, 'lcrc')],
                        delete e[''.concat(r, 'blbr')],
                        delete n[''.concat(r, 'tlbl')],
                        delete n[''.concat(r, 'tcbc')],
                        delete n[''.concat(r, 'trbr')];
                    }),
                    this.clearAlignLine();
                }),
                e
              );
            })(Jn);
          const Da = Oa;
          var La = (function () {
              var t = function (e, n) {
                return (
                  (t =
                    Object.setPrototypeOf ||
                    ({ __proto__: [] } instanceof Array &&
                      function (t, e) {
                        t.__proto__ = e;
                      }) ||
                    function (t, e) {
                      for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
                    }),
                  t(e, n)
                );
              };
              return function (e, n) {
                if ('function' != typeof n && null !== n)
                  throw new TypeError(
                    'Class extends value ' + String(n) + ' is not a constructor or null',
                  );
                function r() {
                  this.constructor = e;
                }
                t(e, n),
                  (e.prototype =
                    null === n ? Object.create(n) : ((r.prototype = n.prototype), new r()));
              };
            })(),
            Ra = function () {
              return (
                (Ra =
                  Object.assign ||
                  function (t) {
                    for (var e, n = 1, r = arguments.length; n < r; n++)
                      for (var i in (e = arguments[n]))
                        Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i]);
                    return t;
                  }),
                Ra.apply(this, arguments)
              );
            },
            Ba = ['click', 'mouseenter'],
            ja = (function (t) {
              function e(e) {
                return t.call(this, e) || this;
              }
              return (
                La(e, t),
                (e.prototype.getDefaultCfgs = function () {
                  return {
                    data: {},
                    position: 'top',
                    padding: 8,
                    margin: 8,
                    offsetX: 0,
                    offsetY: 0,
                    layout: 'horizontal',
                    flipPage: !1,
                    containerStyle: {},
                    align: void 0,
                    horiSep: 8,
                    vertiSep: 8,
                    filter: { enable: !1, trigger: 'click' },
                  };
                }),
                (e.prototype.init = function () {
                  this.formatArray('padding'), this.formatArray('margin');
                  var t = this.get('filter') || {};
                  t.multiple && 'mouseenter' === t.trigger && this.set('multiple', !1);
                  var e = this.get('align');
                  if (!e) {
                    var n = this.get('position').split('-');
                    n.includes('left') && (e = 'left'),
                      (e = n.includes('right') ? 'right' : 'center'),
                      this.set('align', e);
                  }
                  var r = this.get('graph').get('container'),
                    i = Yn('<div class=\'g6-legend-container\' style="position: absolute;"></div>');
                  r.appendChild(i), this.set('container', i);
                  var o = this.render();
                  $n(i, this.getContainerPos(o)), this.bindEvents();
                }),
                (e.prototype.getContainerPos = function (t) {
                  void 0 === t && (t = [0, 0]);
                  var e = this.get('graph'),
                    n = this.get('offsetX'),
                    r = this.get('offsetY'),
                    i = this.get('margin'),
                    o = this.get('position').split('-'),
                    a = { top: 0, right: 1, bottom: 2, left: 3 },
                    s = {
                      left: (e.getWidth() - t[0]) / 2 + 0,
                      top: (e.getHeight() - t[1]) / 2 + 0,
                    };
                  return (
                    o.forEach(function (n) {
                      var r = i[a[n]],
                        o = n;
                      switch (n) {
                        case 'top':
                        case 'left':
                          r += 0;
                          break;
                        case 'bottom':
                          (r = e.getHeight() - t[1] - r + 0), (o = 'top');
                          break;
                        default:
                          (r = e.getWidth() - t[0] - r + 0), (o = 'left');
                      }
                      s[o] = r;
                    }),
                    (s.top += r + e.getContainer().offsetTop),
                    (s.left += n + e.getContainer().offsetLeft),
                    Object.keys(s).forEach(function (t) {
                      s[t] = ''.concat(s[t], 'px');
                    }),
                    s
                  );
                }),
                (e.prototype.bindEvents = function () {
                  var t = this,
                    e = t.get('filter');
                  if (e && e.enable) {
                    var n = e.trigger || 'click';
                    Ba.includes(n) ||
                      (console.warn(
                        "Trigger for legend filterling must be 'click' or 'mouseenter', 'click' will take effect by default.",
                      ),
                      (n = 'click'));
                    var r = t.get('legendCanvas');
                    'mouseenter' === n
                      ? (r.on('node-container:mouseenter', function (e) {
                          return t.filterData(e);
                        }),
                        r.on('node-container:mouseleave', function (e) {
                          t.clearFilter(), t.clearActiveLegend();
                        }))
                      : (r.on('node-container:click', function (e) {
                          return t.filterData(e);
                        }),
                        r.on('click', function (e) {
                          e.target &&
                            e.target.isCanvas &&
                            e.target.isCanvas() &&
                            (t.clearFilter(), t.clearActiveLegend());
                        }));
                  }
                }),
                (e.prototype.changeData = function (t) {
                  this.set('data', t);
                  var e = this.render();
                  $n(this.get('container'), this.getContainerPos(e));
                }),
                (e.prototype.activateLegend = function (t) {
                  var e = this.get('filter');
                  (null == e ? void 0 : e.multiple) || this.clearActiveLegend();
                  var n = t.get('parent');
                  n.get('active')
                    ? (n.set('active', !1),
                      this.findLegendItemsByState('active').length && n.set('inactive', !0))
                    : (n.set('inactive', !1), n.set('active', !0)),
                    this.findLegendItemsByState('active').length
                      ? this.findLegendItemsByState('active', 'all', !1).forEach(function (t) {
                          t.set('inactive', !0);
                        })
                      : this.clearActiveLegend();
                  var r = (null == e ? void 0 : e.lengedStateStyles) || {},
                    i = (null == r ? void 0 : r.inactive) || {
                      opacity: 0.5,
                      'text-shape': { opacity: 0.5 },
                    },
                    o = i['text-shape'] || {};
                  this.findLegendItemsByState('inactive').forEach(function (t) {
                    var e = t.get('children'),
                      n = e[0],
                      r = e[1];
                    n.attr(Ra(Ra({}, n.get('oriAttrs')), i)),
                      r.attr(Ra(Ra({}, r.get('oriAttrs')), o));
                  });
                  var a = (null == r ? void 0 : r.active) || {
                      stroke: '#000',
                      lineWidth: 2,
                      'text-shape': { fontWeight: 'bold' },
                    },
                    s = a['text-shape'] || {};
                  this.findLegendItemsByState('active').forEach(function (t) {
                    var e = t.get('children'),
                      n = e[0],
                      r = e[1];
                    n.attr(Ra(Ra({}, n.get('oriAttrs')), a)),
                      r.attr(Ra(Ra({}, r.get('oriAttrs')), s));
                  });
                }),
                (e.prototype.findLegendItemsByState = function (t, e, n) {
                  void 0 === e && (e = 'all'), void 0 === n && (n = !0);
                  var r = this.get('legendCanvas').find(function (t) {
                      return 'root' === t.get('name');
                    }),
                    i = r.find(function (t) {
                      return 'node-group' === t.get('name');
                    }),
                    o = r.find(function (t) {
                      return 'edge-group' === t.get('name');
                    });
                  return 'node' === e
                    ? i.get('children').filter(function (e) {
                        return !!e.get(t) === n;
                      })
                    : 'edge' === e
                    ? o.get('children').filter(function (e) {
                        return !!e.get(t) === n;
                      })
                    : i
                        .get('children')
                        .filter(function (e) {
                          return !!e.get(t) === n;
                        })
                        .concat(
                          o.get('children').filter(function (e) {
                            return !!e.get(t) === n;
                          }),
                        );
                }),
                (e.prototype.clearActiveLegend = function () {
                  var t = this.get('legendCanvas').find(function (t) {
                    return 'root' === t.get('name');
                  });
                  [
                    t.find(function (t) {
                      return 'node-group' === t.get('name');
                    }),
                    t.find(function (t) {
                      return 'edge-group' === t.get('name');
                    }),
                  ].forEach(function (t) {
                    t.get('children').forEach(function (t) {
                      t.set('active', !1), t.set('inactive', !1);
                      var e = t.get('children'),
                        n = e[0],
                        r = e[1];
                      n.attr(n.get('oriAttrs')), r.attr(r.get('oriAttrs'));
                    });
                  });
                }),
                (e.prototype.filterData = function (t) {
                  var e = this.get('filter'),
                    n = null == e ? void 0 : e.filterFunctions;
                  if (e && n) {
                    var r = this.get('legendCanvas'),
                      i = this.get('graph'),
                      o = e.graphActiveState || 'active',
                      a = e.graphInactiveState || 'inactive',
                      s = e.multiple;
                    this.clearFilter(),
                      s || this.clearActiveLegend(),
                      this.activateLegend(t.target);
                    var u = r.find(function (t) {
                        return 'root' === t.get('name');
                      }),
                      c = u.find(function (t) {
                        return 'node-group' === t.get('name');
                      }),
                      l = u.find(function (t) {
                        return 'edge-group' === t.get('name');
                      }),
                      h = c.get('children').filter(function (t) {
                        return t.get('active');
                      }),
                      f = l.get('children').filter(function (t) {
                        return t.get('active');
                      }),
                      d = 0,
                      p = ['getNodes', 'getEdges'];
                    p.forEach(function (t) {
                      i[t]().forEach(function (e) {
                        var r = !1;
                        ('getNodes' === t ? h : f).forEach(function (t) {
                          var i = n[t.get('id')];
                          r = r || i(e.getModel());
                        }),
                          r
                            ? (i.setItemState(e, a, !1), i.setItemState(e, o, !0), d++)
                            : (i.setItemState(e, o, !1), i.setItemState(e, a, !0));
                      });
                    }),
                      d ||
                        p.forEach(function (t) {
                          i[t]().forEach(function (t) {
                            i.clearItemStates(t, [a]);
                          });
                        });
                  }
                }),
                (e.prototype.clearFilter = function () {
                  var t = this.get('graph'),
                    e = this.get('filter');
                  if (e) {
                    var n = e.graphActiveState || 'active',
                      r = e.graphInactiveState || 'inactive';
                    t.getNodes().forEach(function (e) {
                      t.clearItemStates(e, [n, r]);
                    }),
                      t.getEdges().forEach(function (e) {
                        t.clearItemStates(e, [n, r]);
                      });
                  }
                }),
                (e.prototype.render = function () {
                  var t = this;
                  this.processData();
                  var e = this.get('legendCanvas');
                  if (!e) {
                    var n = (e = new Gt({
                      container: this.get('container'),
                      width: 200,
                      height: 200,
                    })).addGroup({ name: 'root' });
                    n.addGroup({ name: 'node-group' }),
                      n.addGroup({ name: 'edge-group' }),
                      this.set('legendCanvas', e);
                  }
                  var r = e.find(function (t) {
                      return 'root' === t.get('name');
                    }),
                    i = r.find(function (t) {
                      return 'node-group' === t.get('name');
                    }),
                    o = r.find(function (t) {
                      return 'edge-group' === t.get('name');
                    }),
                    a = this.get('itemsData'),
                    s = [i, o];
                  ['nodes', 'edges'].forEach(function (e, n) {
                    a[e].forEach(function (r) {
                      var i,
                        o,
                        a = s[n].addGroup({ id: r.id, name: 'node-container' }),
                        u = r.type,
                        c = t.getShapeSize(r),
                        l = c.width,
                        h = c.height,
                        f = c.r,
                        d = t.getStyle(e.substr(0, 4), r);
                      switch (r.type) {
                        case 'circle':
                        default:
                          o = { r: f, x: 0, y: 0 };
                          break;
                        case 'rect':
                          o = { width: l, height: h, x: -l / 2, y: -h / 2 };
                          break;
                        case 'ellipse':
                          o = { r1: l, r2: h, x: 0, y: 0 };
                          break;
                        case 'line':
                          (o = { x1: -l / 2, y1: 0, x2: l / 2, y2: 0 }), (u = 'line');
                          break;
                        case 'quadratic':
                          (o = {
                            path: [
                              ['M', -l / 2, 0],
                              ['Q', 0, l / 2, l / 2, 0],
                            ],
                          }),
                            (u = 'path');
                          break;
                        case 'cubic':
                          (o = {
                            path: [
                              ['M', -l / 2, 0],
                              ['C', -l / 6, l / 2, l / 6, -l / 2, l / 2, 0],
                            ],
                          }),
                            (u = 'path');
                      }
                      var p = a.addShape(u, {
                        attrs: Ra(Ra({}, o), d),
                        name: ''.concat(r.type, '-node-keyShape'),
                        oriAttrs: Ra({ opacity: 1 }, d),
                      });
                      if (r.label) {
                        var g = p.getBBox(),
                          v = (null === (i = r.labelCfg) || void 0 === i ? void 0 : i.style) || {},
                          y = Ra(
                            {
                              textAlign: 'begin',
                              fontSize: 12,
                              textBaseline: 'middle',
                              fill: '#000',
                              opacity: 1,
                              fontWeight: 'normal',
                            },
                            v,
                          );
                        a.addShape('text', {
                          attrs: Ra({ x: g.maxX + 4, y: 0, text: r.label }, y),
                          className: 'legend-label',
                          name: ''.concat(r.type, '-node-text'),
                          oriAttrs: y,
                        });
                      }
                    });
                  });
                  var u,
                    c = this.get('padding'),
                    h = r.find(function (t) {
                      return 'title-container' === t.get('name');
                    }),
                    f = { height: 0, maxY: 0, width: 0 };
                  if (this.get('title')) {
                    h || (h = r.addGroup({ name: 'title-container' }));
                    var d = {
                        fontSize: 20,
                        fontFamily: 'Arial',
                        fontWeight: 300,
                        textBaseline: 'top',
                        textAlign: 'center',
                        fill: '#000',
                        x: 0,
                        y: c[0],
                      },
                      p = this.get('titleConfig') || {},
                      g = Object.assign(d, p.style || {});
                    (u = h.addShape('text', { attrs: Ra({ text: this.get('title') }, g) })),
                      (f = h.getCanvasBBox()),
                      h.setMatrix([1, 0, 0, 0, 1, 0, p.offsetX, p.offsetY, 1]);
                  }
                  this.layoutItems();
                  var v = r.getCanvasBBox(),
                    y = i.getCanvasBBox(),
                    m = y.minX < 0 ? Math.abs(y.minX) + c[3] : c[3],
                    b = f.maxY < y.minY ? Math.abs(f.maxY - y.minY) + c[0] : f.maxY + c[0],
                    x = [1, 0, 0, 0, 1, 0, m, b, 1];
                  i.setMatrix(x);
                  var _ = [(v = r.getCanvasBBox()).minX + v.width + c[1], v.minY + v.height + c[2]];
                  if (u) {
                    (p = Ra(
                      { position: 'center', offsetX: 0, offsetY: 0 },
                      this.get('titleConfig'),
                    )),
                      (f = h.getCanvasBBox());
                    var w = h.getMatrix() || [1, 0, 0, 0, 1, 0, 0, 0, 1];
                    'center' === p.position
                      ? (w[6] = _[0] / 2 + p.offsetX)
                      : 'right' === p.position
                      ? ((w[6] = _[0] - c[3] + p.offsetX), u.attr({ textAlign: 'right' }))
                      : ((w[6] = c[3] + p.offsetX), u.attr({ textAlign: 'left' })),
                      h.setMatrix(w),
                      (f = h.getCanvasBBox()),
                      (x = [
                        1,
                        0,
                        0,
                        0,
                        1,
                        0,
                        (m = y.minX < 0 ? Math.abs(y.minX) + c[3] : c[3]),
                        (b = y.minY < f.maxY ? Math.abs(f.maxY - y.minY) + c[0] : f.maxY + c[0]),
                        1,
                      ]),
                      i.setMatrix(x);
                    var E = [1, 0, 0, 0, 1, 0, m, b, 1];
                    'vertical' === this.get('layout')
                      ? (E[6] += y.maxX + this.get('horiSep'))
                      : (E[7] += y.maxY + this.get('vertiSep')),
                      o.setMatrix(E);
                  } else {
                    y = i.getCanvasBBox();
                    var S = [1, 0, 0, 0, 1, 0, 0, 0, 1];
                    'vertical' === this.get('layout')
                      ? (S[6] += x[6] + y.maxX + this.get('horiSep'))
                      : (S[7] += x[7] + y.maxY + this.get('vertiSep')),
                      o.setMatrix(S);
                  }
                  (v = r.getCanvasBBox()),
                    (y = i.getCanvasBBox()),
                    (x = i.getMatrix() || [1, 0, 0, 0, 1, 0, 0, 0, 1]);
                  var M = o.getMatrix() || [1, 0, 0, 0, 1, 0, 0, 0, 1],
                    k = o.getCanvasBBox();
                  (_ = [
                    Math.max(y.width + x[6], k.width + M[6]) + c[1],
                    Math.max(y.height + x[7], k.height + M[7]) + c[2],
                  ]),
                    e.changeSize(_[0], _[1]);
                  var A = this.get('containerStyle'),
                    C = r.getMatrix() || [1, 0, 0, 0, 1, 0, 0, 0, 1],
                    I = l.Util.invertMatrix({ x: 0, y: 0 }, C);
                  return (
                    r
                      .addShape('rect', {
                        attrs: Ra(
                          {
                            x: I.x + (A.lineWidth || 1),
                            y: I.y + (A.lineWidth || 1),
                            width: _[0] - 2 * (A.lineWidth || 1),
                            height: _[1] - 2 * (A.lineWidth || 1),
                            fill: '#f00',
                            stroke: '#000',
                            lineWidth: 1,
                            opacity: 0.5,
                          },
                          A,
                        ),
                        name: 'legend-back-rect',
                        capture: !1,
                      })
                      .toBack(),
                    _
                  );
                }),
                (e.prototype.layoutItems = function () {
                  var t = this.get('legendCanvas'),
                    e = this.get('horiSep'),
                    n = this.get('vertiSep'),
                    r = this.get('layout'),
                    i = this.get('align'),
                    o = [0, 0],
                    a = t.find(function (t) {
                      return 'root' === t.get('name');
                    }),
                    s = a.find(function (t) {
                      return 'node-group' === t.get('name');
                    }),
                    u = a.find(function (t) {
                      return 'edge-group' === t.get('name');
                    }),
                    c = { min: 0, max: -1 / 0 },
                    l = -1 / 0;
                  s.get('children').forEach(function (t, i) {
                    0 === i && (c.min = o[0]);
                    var a = t.get('children')[0],
                      s = t.getCanvasBBox(),
                      u = a.getBBox(),
                      h = u.width,
                      f = u.height,
                      d = 0,
                      p = 0,
                      g = 0;
                    'vertical' === r
                      ? ((p = o[1]),
                        (g = o[0] + h / 2),
                        (o[0] = g + s.height + n),
                        (d = s.maxX + p + h / 2))
                      : ((p = o[0] + h / 2),
                        (g = o[1]),
                        (o[0] = p + s.width + e),
                        (d = s.maxY + g + f / 2)),
                      o[0] > c.max && (c.max = o[0]),
                      d > l && (l = d),
                      t.setMatrix([1, 0, 0, 0, 1, 0, p, g, 1]);
                  });
                  var h = c.max - c.min,
                    f = { min: 0, max: -1 / 0 },
                    d = s.getCanvasBBox();
                  (o[0] = 0),
                    (o[1] = 'vertical' === r ? d.maxX + e : d.maxY + n),
                    u.get('children').forEach(function (t, i) {
                      0 === i && (f.min = o[0]);
                      var a = t.get('children')[0],
                        s = t.getCanvasBBox(),
                        u = a.getBBox(),
                        c = u.width,
                        l = u.height,
                        h = 0,
                        d = 0;
                      'vertical' === r
                        ? ((h = o[1]),
                          (d = o[0]),
                          (o[0] = d + s.height + n),
                          t.setMatrix([1, 0, 0, 0, 1, 0, 0, d + l / 2, 1]))
                        : ((h = o[0]),
                          (d = o[1]),
                          (o[0] = h + s.width + e),
                          t.setMatrix([1, 0, 0, 0, 1, 0, h + c / 2, 0, 1])),
                        o[0] > f.max && (f.max = o[0]);
                    });
                  var p = f.max - f.min;
                  if (i && '' !== i && 'left' !== i) {
                    var g = h - p,
                      v = 'center' === i ? Math.abs(g) / 2 : Math.abs(g);
                    (g < 0 ? s : u).get('children').forEach(function (t) {
                      var e = t.getMatrix() || [1, 0, 0, 0, 1, 0, 0, 0, 1];
                      'vertical' === r ? (e[7] += v) : (e[6] += v), t.setMatrix(e);
                    });
                  }
                }),
                (e.prototype.processData = function () {
                  var t = this.get('data'),
                    e = { nodes: [], edges: [] };
                  t.nodes &&
                    (t.nodes.sort(function (t, e) {
                      return t.order - e.order;
                    }),
                    t.nodes.forEach(function (t) {
                      var n,
                        r,
                        i,
                        o,
                        a,
                        s = t.size || [
                          (null === (n = t.style) || void 0 === n ? void 0 : n.width) ||
                            (null === (r = t.style) || void 0 === r ? void 0 : r.r) ||
                            8,
                          (null === (i = t.style) || void 0 === i ? void 0 : i.height) ||
                            (null === (o = t.style) || void 0 === o ? void 0 : o.r) ||
                            8,
                        ],
                        u = (null === (a = t.labelCfg) || void 0 === a ? void 0 : a.style) || {};
                      e.nodes.push({
                        id: t.id || (0, p.uniqueId)(),
                        type: t.type || 'circle',
                        style: Ra({}, t.style),
                        order: t.order,
                        label: t.label,
                        itemType: 'node',
                        size: s,
                        labelCfg: { position: 'right', style: Ra({ fontFamily: 'Arial' }, u) },
                      });
                    })),
                    t.edges &&
                      (t.edges.sort(function (t, e) {
                        return t.order - e.order;
                      }),
                      t.edges.forEach(function (t) {
                        var n,
                          r,
                          i = t.type || 'line';
                        'cubic-horizontal' === t.type && (i = 'cubic');
                        var o =
                            (null === (n = t.labelCfg) || void 0 === n ? void 0 : n.style) || {},
                          a = t.size || [
                            (null === (r = t.style) || void 0 === r ? void 0 : r.width) || 8,
                            1,
                          ];
                        e.edges.push({
                          id: t.id || (0, p.uniqueId)(),
                          type: i,
                          size: a,
                          style: Ra({ lineWidth: (0, p.isArray)(a) ? a[1] : 1 }, t.style),
                          order: t.order,
                          label: t.label,
                          itemType: 'edge',
                          labelCfg: { position: 'right', style: Ra({ fontFamily: 'Arial' }, o) },
                        });
                      })),
                    this.set('itemsData', e);
                }),
                (e.prototype.getContainer = function () {
                  return this.get('container');
                }),
                (e.prototype.formatArray = function (t) {
                  var e = this.get(t);
                  if ((0, p.isNumber)(e)) this.set(t, [e, e, e, e]);
                  else if ((0, p.isArray)(e))
                    switch (e.length) {
                      case 0:
                        this.set(t, [0, 0, 0, 0]);
                        break;
                      case 1:
                        this.set(t, [e[0], e[0], e[0], e[0]]);
                        break;
                      case 2:
                        this.set(t, [e[0], e[1], e[0], e[1]]);
                        break;
                      case 3:
                        this.set(t, [e[0], e[1], e[2], e[1]]);
                    }
                  return this.get(t);
                }),
                (e.prototype.getShapeSize = function (t) {
                  var e, n, r;
                  return (
                    t.size &&
                      ((0, p.isArray)(t.size)
                        ? ((e = t.size[0]), (n = t.size[1] || t.size[0]), (r = t.size[0] / 2))
                        : (0, p.isNumber)(t.size) &&
                          ((e = t.size), (n = t.size), (r = t.size / 2))),
                    t.style &&
                      (t.style.width && (e = t.style.width),
                      t.style.height && (n = t.style.height),
                      t.style.r && (r = t.style.r)),
                    r || (r = 5),
                    e || (e = r),
                    n || (n = r),
                    { width: e, height: n, r }
                  );
                }),
                (e.prototype.getStyle = function (t, e) {
                  return Ra(
                    Ra(
                      {},
                      'node' === t
                        ? { fill: '#ccc', lineWidth: 0 }
                        : { stroke: '#000', lineWidth: 1 },
                    ),
                    e.style || {},
                  );
                }),
                (e.prototype.destroy = function () {
                  var t = this.get('graph').get('container'),
                    e = this.get('container');
                  t.removeChild(e);
                }),
                e
              );
            })(Jn);
          const Ga = {
            PluginBase: Jn,
            Menu: cr,
            Grid: ir,
            Minimap: gr,
            Bundling: xr,
            ToolBar: Cr,
            Tooltip: Nr,
            Fisheye: Mr,
            TimeBar: ma,
            ImageMinimap: Ea,
            EdgeFilterLens: Ia,
            SnapLine: Da,
            Legend: ja,
          };
          (0, l.registerNode)(
            'circle',
            {
              options: {
                size: l.BaseGlobal.defaultNode.size,
                style: {
                  x: 0,
                  y: 0,
                  stroke: l.BaseGlobal.defaultNode.style.stroke,
                  fill: l.BaseGlobal.defaultNode.style.fill,
                  lineWidth: l.BaseGlobal.defaultNode.style.lineWidth,
                },
                labelCfg: {
                  style: {
                    fill: l.BaseGlobal.nodeLabel.style.fill,
                    fontSize: l.BaseGlobal.nodeLabel.style.fontSize,
                    fontFamily: l.BaseGlobal.windowFontFamily,
                  },
                },
                linkPoints: {
                  top: !1,
                  right: !1,
                  bottom: !1,
                  left: !1,
                  size: l.BaseGlobal.defaultNode.linkPoints.size,
                  lineWidth: l.BaseGlobal.defaultNode.linkPoints.lineWidth,
                  fill: l.BaseGlobal.defaultNode.linkPoints.fill,
                  stroke: l.BaseGlobal.defaultNode.linkPoints.stroke,
                },
                icon: {
                  show: !1,
                  img: 'https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg',
                  width: 20,
                  height: 20,
                },
                stateStyles: (0, c.__assign)({}, l.BaseGlobal.nodeStateStyles),
              },
              shapeType: 'circle',
              labelPosition: 'center',
              drawShape: function (t, e) {
                var n = (this.mergeStyle || this.getOptions(t)).icon,
                  r = void 0 === n ? {} : n,
                  i = this.getShapeStyle(t),
                  o = (0, p.deepMix)({}, r, t.icon),
                  a = ''.concat(this.type, '-keyShape'),
                  s = e.addShape('circle', { attrs: i, className: a, name: a, draggable: !0 });
                e.shapeMap[a] = s;
                var u = o.width,
                  l = o.height,
                  h = o.show,
                  f = o.text;
                if (h) {
                  var d = ''.concat(this.type, '-icon');
                  e.shapeMap[d] = f
                    ? e.addShape('text', {
                        attrs: (0, c.__assign)(
                          {
                            x: 0,
                            y: 0,
                            fontSize: 12,
                            fill: '#000',
                            stroke: '#000',
                            textBaseline: 'middle',
                            textAlign: 'center',
                          },
                          o,
                        ),
                        className: d,
                        name: d,
                        draggable: !0,
                      })
                    : e.addShape('image', {
                        attrs: (0, c.__assign)({ x: -u / 2, y: -l / 2 }, o),
                        className: d,
                        name: d,
                        draggable: !0,
                      });
                }
                return this.drawLinkPoints(t, e), s;
              },
              drawLinkPoints: function (t, e) {
                var n = (this.mergeStyle || this.getOptions(t)).linkPoints;
                if (n) {
                  var r = n || {},
                    i = r.top,
                    o = r.left,
                    a = r.right,
                    s = r.bottom,
                    u = r.size,
                    l = r.r,
                    h = (0, c.__rest)(r, ['top', 'left', 'right', 'bottom', 'size', 'r']),
                    f = this.getSize(t)[0] / 2;
                  if (o) {
                    var d = 'link-point-left';
                    e.shapeMap[d] = e.addShape('circle', {
                      attrs: (0, c.__assign)((0, c.__assign)({}, h), {
                        x: -f,
                        y: 0,
                        r: u / 2 || l || 5,
                      }),
                      className: d,
                      name: d,
                      isAnchorPoint: !0,
                    });
                  }
                  if (a) {
                    var p = 'link-point-right';
                    e.shapeMap[p] = e.addShape('circle', {
                      attrs: (0, c.__assign)((0, c.__assign)({}, h), {
                        x: f,
                        y: 0,
                        r: u / 2 || l || 5,
                      }),
                      className: p,
                      name: p,
                      isAnchorPoint: !0,
                    });
                  }
                  if (i) {
                    var g = 'link-point-top';
                    e.shapeMap[g] = e.addShape('circle', {
                      attrs: (0, c.__assign)((0, c.__assign)({}, h), {
                        x: 0,
                        y: -f,
                        r: u / 2 || l || 5,
                      }),
                      className: g,
                      name: g,
                      isAnchorPoint: !0,
                    });
                  }
                  if (s) {
                    var v = 'link-point-bottom';
                    e.shapeMap[v] = e.addShape('circle', {
                      attrs: (0, c.__assign)((0, c.__assign)({}, h), {
                        x: 0,
                        y: f,
                        r: u / 2 || l || 5,
                      }),
                      className: v,
                      name: v,
                      isAnchorPoint: !0,
                    });
                  }
                }
              },
              getShapeStyle: function (t) {
                var e = (this.mergeStyle || this.getOptions(t)).style,
                  n = { stroke: t.color },
                  r = (0, p.deepMix)({}, e, n),
                  i = this.getSize(t)[0] / 2;
                return (0, c.__assign)({ x: 0, y: 0, r: i }, r);
              },
              update: function (t, e, n) {
                var r = e.getContainer(),
                  i = this.getSize(t),
                  o = (0, c.__assign)({}, t.style);
                void 0 === t.style.stroke && t.color && (o.stroke = t.color),
                  void 0 !== t.style.r || isNaN(i[0]) || (o.r = i[0] / 2),
                  this.updateShape(t, e, o, !0, n),
                  this.updateLinkPoints(t, r);
              },
            },
            'single-node',
          ),
            (0, l.registerNode)(
              'rect',
              {
                options: {
                  size: [100, 30],
                  style: {
                    radius: 0,
                    stroke: l.BaseGlobal.defaultNode.style.stroke,
                    fill: l.BaseGlobal.defaultNode.style.fill,
                    lineWidth: l.BaseGlobal.defaultNode.style.lineWidth,
                  },
                  labelCfg: {
                    style: {
                      fill: l.BaseGlobal.nodeLabel.style.fill,
                      fontSize: l.BaseGlobal.nodeLabel.style.fontSize,
                      fontFamily: l.BaseGlobal.windowFontFamily,
                    },
                  },
                  linkPoints: {
                    top: !1,
                    right: !1,
                    bottom: !1,
                    left: !1,
                    size: l.BaseGlobal.defaultNode.linkPoints.size,
                    lineWidth: l.BaseGlobal.defaultNode.linkPoints.lineWidth,
                    fill: l.BaseGlobal.defaultNode.linkPoints.fill,
                    stroke: l.BaseGlobal.defaultNode.linkPoints.stroke,
                  },
                  icon: {
                    show: !1,
                    img: 'https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg',
                    width: 20,
                    height: 20,
                  },
                  anchorPoints: [
                    [0, 0.5],
                    [1, 0.5],
                  ],
                  stateStyles: (0, c.__assign)({}, l.BaseGlobal.nodeStateStyles),
                },
                shapeType: 'rect',
                labelPosition: 'center',
                drawShape: function (t, e) {
                  var n = this.getShapeStyle(t),
                    r = e.addShape('rect', {
                      attrs: n,
                      className: ''.concat(this.type, '-keyShape'),
                      name: ''.concat(this.type, '-keyShape'),
                      draggable: !0,
                    });
                  return (
                    (e.shapeMap[''.concat(this.type, '-keyShape')] = r),
                    this.drawLinkPoints(t, e),
                    r
                  );
                },
                drawLinkPoints: function (t, e) {
                  var n = (this.mergeStyle || this.getOptions(t)).linkPoints,
                    r = void 0 === n ? {} : n,
                    i = r.top,
                    o = r.left,
                    a = r.right,
                    s = r.bottom,
                    u = r.size,
                    l = r.r,
                    h = (0, c.__rest)(r, ['top', 'left', 'right', 'bottom', 'size', 'r']),
                    f = this.getSize(t),
                    d = f[0],
                    p = f[1];
                  o &&
                    (e.shapeMap['link-point-left'] = e.addShape('circle', {
                      attrs: (0, c.__assign)((0, c.__assign)({}, h), {
                        x: -d / 2,
                        y: 0,
                        r: u / 2 || l || 5,
                      }),
                      className: 'link-point-left',
                      name: 'link-point-left',
                      isAnchorPoint: !0,
                    })),
                    a &&
                      (e.shapeMap['link-point-right'] = e.addShape('circle', {
                        attrs: (0, c.__assign)((0, c.__assign)({}, h), {
                          x: d / 2,
                          y: 0,
                          r: u / 2 || l || 5,
                        }),
                        className: 'link-point-right',
                        name: 'link-point-right',
                        isAnchorPoint: !0,
                      })),
                    i &&
                      (e.shapeMap['link-point-top'] = e.addShape('circle', {
                        attrs: (0, c.__assign)((0, c.__assign)({}, h), {
                          x: 0,
                          y: -p / 2,
                          r: u / 2 || l || 5,
                        }),
                        className: 'link-point-top',
                        name: 'link-point-top',
                        isAnchorPoint: !0,
                      })),
                    s &&
                      (e.shapeMap['link-point-bottom'] = e.addShape('circle', {
                        attrs: (0, c.__assign)((0, c.__assign)({}, h), {
                          x: 0,
                          y: p / 2,
                          r: u / 2 || l || 5,
                        }),
                        className: 'link-point-bottom',
                        name: 'link-point-bottom',
                        isAnchorPoint: !0,
                      }));
                },
                getShapeStyle: function (t) {
                  var e = (this.mergeStyle || this.getOptions(t)).style,
                    n = { stroke: t.color },
                    r = (0, p.mix)({}, e, n),
                    i = this.getSize(t),
                    o = r.width || i[0],
                    a = r.height || i[1];
                  return (0, c.__assign)({ x: -o / 2, y: -a / 2, width: o, height: a }, r);
                },
                update: function (t, e, n) {
                  var r = e.getContainer(),
                    i = this.getOptions({}).style,
                    o = this.getSize(t),
                    a = e.get('keyShape');
                  t.size ||
                    ((o[0] = a.attr('width') || i.width), (o[1] = a.attr('height') || i.height));
                  var s = {
                      stroke: t.color,
                      x: -o[0] / 2,
                      y: -o[1] / 2,
                      width: o[0],
                      height: o[1],
                    },
                    u = (0, p.mix)({}, i, a.attr(), s);
                  (u = (0, p.mix)(u, t.style)),
                    this.updateShape(t, e, u, !1, n),
                    this.updateLinkPoints(t, r);
                },
              },
              'single-node',
            ),
            (0, l.registerNode)(
              'ellipse',
              {
                options: {
                  size: [80, 40],
                  style: {
                    x: 0,
                    y: 0,
                    stroke: l.BaseGlobal.defaultNode.style.stroke,
                    fill: l.BaseGlobal.defaultNode.style.fill,
                    lineWidth: l.BaseGlobal.defaultNode.style.lineWidth,
                  },
                  labelCfg: {
                    style: {
                      fill: l.BaseGlobal.nodeLabel.style.fill,
                      fontSize: l.BaseGlobal.nodeLabel.style.fontSize,
                      fontFamily: l.BaseGlobal.windowFontFamily,
                    },
                  },
                  linkPoints: {
                    top: !1,
                    right: !1,
                    bottom: !1,
                    left: !1,
                    size: l.BaseGlobal.defaultNode.linkPoints.size,
                    lineWidth: l.BaseGlobal.defaultNode.linkPoints.lineWidth,
                    fill: l.BaseGlobal.defaultNode.linkPoints.fill,
                    stroke: l.BaseGlobal.defaultNode.linkPoints.stroke,
                  },
                  icon: {
                    show: !1,
                    img: 'https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg',
                    width: 20,
                    height: 20,
                  },
                  stateStyles: (0, c.__assign)({}, l.BaseGlobal.nodeStateStyles),
                },
                shapeType: 'ellipse',
                labelPosition: 'center',
                drawShape: function (t, e) {
                  var n = (this.mergeStyle || this.getOptions(t)).icon,
                    r = void 0 === n ? {} : n,
                    i = this.getShapeStyle(t),
                    o = e.addShape('ellipse', {
                      attrs: i,
                      className: 'ellipse-keyShape',
                      name: 'ellipse-keyShape',
                      draggable: !0,
                    });
                  e.shapeMap['ellipse-keyShape'] = o;
                  var a = r.width,
                    s = r.height,
                    u = r.show,
                    l = r.text;
                  return (
                    u &&
                      (e.shapeMap[''.concat(this.type, '-icon')] = l
                        ? e.addShape('text', {
                            attrs: (0, c.__assign)(
                              {
                                x: 0,
                                y: 0,
                                fontSize: 12,
                                fill: '#000',
                                stroke: '#000',
                                textBaseline: 'middle',
                                textAlign: 'center',
                              },
                              r,
                            ),
                            className: ''.concat(this.type, '-icon'),
                            name: ''.concat(this.type, '-icon'),
                            draggable: !0,
                          })
                        : e.addShape('image', {
                            attrs: (0, c.__assign)({ x: -a / 2, y: -s / 2 }, r),
                            className: ''.concat(this.type, '-icon'),
                            name: ''.concat(this.type, '-icon'),
                            draggable: !0,
                          })),
                    this.drawLinkPoints(t, e),
                    o
                  );
                },
                drawLinkPoints: function (t, e) {
                  var n = (this.mergeStyle || this.getOptions(t)).linkPoints,
                    r = void 0 === n ? {} : n,
                    i = r.top,
                    o = r.left,
                    a = r.right,
                    s = r.bottom,
                    u = r.size,
                    l = r.r,
                    h = (0, c.__rest)(r, ['top', 'left', 'right', 'bottom', 'size', 'r']),
                    f = this.getSize(t),
                    d = f[0] / 2,
                    p = f[1] / 2;
                  o &&
                    (e.shapeMap['link-point-left'] = e.addShape('circle', {
                      attrs: (0, c.__assign)((0, c.__assign)({}, h), {
                        x: -d,
                        y: 0,
                        r: u / 2 || l || 5,
                      }),
                      className: 'link-point-left',
                      name: 'link-point-left',
                      isAnchorPoint: !0,
                    })),
                    a &&
                      (e.shapeMap['link-point-right'] = e.addShape('circle', {
                        attrs: (0, c.__assign)((0, c.__assign)({}, h), {
                          x: d,
                          y: 0,
                          r: u / 2 || l || 5,
                        }),
                        className: 'link-point-right',
                        name: 'link-point-right',
                        isAnchorPoint: !0,
                      })),
                    i &&
                      (e.shapeMap['link-point-top'] = e.addShape('circle', {
                        attrs: (0, c.__assign)((0, c.__assign)({}, h), {
                          x: 0,
                          y: -p,
                          r: u / 2 || l || 5,
                        }),
                        className: 'link-point-top',
                        name: 'link-point-top',
                        isAnchorPoint: !0,
                      })),
                    s &&
                      (e.shapeMap['link-point-bottom'] = e.addShape('circle', {
                        attrs: (0, c.__assign)((0, c.__assign)({}, h), {
                          x: 0,
                          y: p,
                          r: u / 2 || l || 5,
                        }),
                        className: 'link-point-bottom',
                        name: 'link-point-bottom',
                        isAnchorPoint: !0,
                      }));
                },
                getShapeStyle: function (t) {
                  var e = (this.mergeStyle || this.getOptions(t)).style,
                    n = { stroke: t.color },
                    r = (0, p.mix)({}, e, n),
                    i = this.getSize(t),
                    o = i[0] / 2,
                    a = i[1] / 2;
                  return (0, c.__assign)({ x: 0, y: 0, rx: o, ry: a }, r);
                },
                update: function (t, e, n) {
                  var r = e.getContainer(),
                    i = this.getOptions({}).style,
                    o = this.getSize(t),
                    a = { stroke: t.color, rx: o[0] / 2, ry: o[1] / 2 },
                    s = e.get('keyShape'),
                    u = (0, p.mix)({}, i, s.attr(), a);
                  (u = (0, p.mix)(u, t.style)),
                    this.updateShape(t, e, u, !0, n),
                    this.updateLinkPoints(t, r);
                },
              },
              'single-node',
            ),
            (0, l.registerNode)(
              'diamond',
              {
                options: {
                  size: [80, 80],
                  style: {
                    stroke: l.BaseGlobal.defaultNode.style.stroke,
                    fill: l.BaseGlobal.defaultNode.style.fill,
                    lineWidth: l.BaseGlobal.defaultNode.style.lineWidth,
                  },
                  labelCfg: {
                    style: {
                      fill: l.BaseGlobal.nodeLabel.style.fill,
                      fontSize: l.BaseGlobal.nodeLabel.style.fontSize,
                      fontFamily: l.BaseGlobal.windowFontFamily,
                    },
                  },
                  linkPoints: {
                    top: !1,
                    right: !1,
                    bottom: !1,
                    left: !1,
                    size: l.BaseGlobal.defaultNode.linkPoints.size,
                    lineWidth: l.BaseGlobal.defaultNode.linkPoints.lineWidth,
                    fill: l.BaseGlobal.defaultNode.linkPoints.fill,
                    stroke: l.BaseGlobal.defaultNode.linkPoints.stroke,
                  },
                  icon: {
                    show: !1,
                    img: 'https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg',
                    width: 20,
                    height: 20,
                  },
                  stateStyles: (0, c.__assign)({}, l.BaseGlobal.nodeStateStyles),
                },
                shapeType: 'diamond',
                labelPosition: 'center',
                drawShape: function (t, e) {
                  var n = (this.mergeStyle || this.getOptions(t)).icon,
                    r = void 0 === n ? {} : n,
                    i = this.getShapeStyle(t),
                    o = e.addShape('path', {
                      attrs: i,
                      className: ''.concat(this.type, '-keyShape'),
                      name: ''.concat(this.type, '-keyShape'),
                      draggable: !0,
                    });
                  e.shapeMap[''.concat(this.type, '-keyShape')] = o;
                  var a = r.width,
                    s = r.height,
                    u = r.show,
                    l = r.text;
                  return (
                    u &&
                      (e.shapeMap[''.concat(this.type, '-icon')] = l
                        ? e.addShape('text', {
                            attrs: (0, c.__assign)(
                              {
                                x: 0,
                                y: 0,
                                fontSize: 12,
                                fill: '#000',
                                stroke: '#000',
                                textBaseline: 'middle',
                                textAlign: 'center',
                              },
                              r,
                            ),
                            className: ''.concat(this.type, '-icon'),
                            name: ''.concat(this.type, '-icon'),
                            draggable: !0,
                          })
                        : e.addShape('image', {
                            attrs: (0, c.__assign)({ x: -a / 2, y: -s / 2 }, r),
                            className: ''.concat(this.type, '-icon'),
                            name: ''.concat(this.type, '-icon'),
                            draggable: !0,
                          })),
                    this.drawLinkPoints(t, e),
                    o
                  );
                },
                drawLinkPoints: function (t, e) {
                  var n = (this.mergeStyle || this.getOptions(t)).linkPoints,
                    r = void 0 === n ? {} : n,
                    i = r.top,
                    o = r.left,
                    a = r.right,
                    s = r.bottom,
                    u = r.size,
                    l = r.r,
                    h = (0, c.__rest)(r, ['top', 'left', 'right', 'bottom', 'size', 'r']),
                    f = this.getSize(t),
                    d = f[0],
                    p = f[1];
                  o &&
                    (e.shapeMap['link-point-left'] = e.addShape('circle', {
                      attrs: (0, c.__assign)((0, c.__assign)({}, h), {
                        x: -d / 2,
                        y: 0,
                        r: u / 2 || l || 5,
                      }),
                      className: 'link-point-left',
                      name: 'link-point-left',
                      isAnchorPoint: !0,
                    })),
                    a &&
                      (e.shapeMap['link-point-right'] = e.addShape('circle', {
                        attrs: (0, c.__assign)((0, c.__assign)({}, h), {
                          x: d / 2,
                          y: 0,
                          r: u / 2 || l || 5,
                        }),
                        className: 'link-point-right',
                        name: 'link-point-right',
                        isAnchorPoint: !0,
                      })),
                    i &&
                      (e.shapeMap['link-point-top'] = e.addShape('circle', {
                        attrs: (0, c.__assign)((0, c.__assign)({}, h), {
                          x: 0,
                          y: -p / 2,
                          r: u / 2 || l || 5,
                        }),
                        className: 'link-point-top',
                        name: 'link-point-top',
                        isAnchorPoint: !0,
                      })),
                    s &&
                      (e.shapeMap['link-point-bottom'] = e.addShape('circle', {
                        attrs: (0, c.__assign)((0, c.__assign)({}, h), {
                          x: 0,
                          y: p / 2,
                          r: u / 2 || l || 5,
                        }),
                        className: 'link-point-bottom',
                        name: 'link-point-bottom',
                        isAnchorPoint: !0,
                      }));
                },
                getPath: function (t) {
                  var e = this.getSize(t),
                    n = e[0],
                    r = e[1];
                  return [
                    ['M', 0, -r / 2],
                    ['L', n / 2, 0],
                    ['L', 0, r / 2],
                    ['L', -n / 2, 0],
                    ['Z'],
                  ];
                },
                getShapeStyle: function (t) {
                  var e = (this.mergeStyle || this.getOptions(t)).style,
                    n = { stroke: t.color },
                    r = (0, p.mix)({}, e, n),
                    i = this.getPath(t);
                  return (0, c.__assign)({ path: i }, r);
                },
                update: function (t, e, n) {
                  var r = e.getContainer(),
                    i = this.getOptions({}).style,
                    o = this.getPath(t),
                    a = { stroke: t.color, path: o },
                    s = e.get('keyShape'),
                    u = (0, p.mix)({}, i, s.attr(), a);
                  (u = (0, p.mix)(u, t.style)),
                    this.updateShape(t, e, u, !0, n),
                    this.updateLinkPoints(t, r);
                },
              },
              'single-node',
            ),
            (0, l.registerNode)(
              'triangle',
              {
                options: {
                  size: 40,
                  direction: 'up',
                  style: {
                    stroke: l.BaseGlobal.defaultNode.style.stroke,
                    fill: l.BaseGlobal.defaultNode.style.fill,
                    lineWidth: l.BaseGlobal.defaultNode.style.lineWidth,
                  },
                  labelCfg: {
                    style: {
                      fill: l.BaseGlobal.nodeLabel.style.fill,
                      fontSize: l.BaseGlobal.nodeLabel.style.fontSize,
                    },
                    offset: 15,
                  },
                  linkPoints: {
                    top: !1,
                    right: !1,
                    bottom: !1,
                    left: !1,
                    size: l.BaseGlobal.defaultNode.linkPoints.size,
                    lineWidth: l.BaseGlobal.defaultNode.linkPoints.lineWidth,
                    fill: l.BaseGlobal.defaultNode.linkPoints.fill,
                    stroke: l.BaseGlobal.defaultNode.linkPoints.stroke,
                  },
                  icon: {
                    show: !1,
                    img: 'https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg',
                    width: 20,
                    height: 20,
                    offset: 6,
                  },
                  stateStyles: (0, c.__assign)({}, l.BaseGlobal.nodeStateStyles),
                },
                shapeType: 'triangle',
                labelPosition: 'bottom',
                drawShape: function (t, e) {
                  var n = this.mergeStyle || this.getOptions(t),
                    r = n.icon,
                    i = void 0 === r ? {} : r,
                    o = n.direction,
                    a = this.getShapeStyle(t),
                    s = t.direction || o,
                    u = e.addShape('path', {
                      attrs: a,
                      className: ''.concat(this.type, '-keyShape'),
                      name: ''.concat(this.type, '-keyShape'),
                      draggable: !0,
                    });
                  e.shapeMap[''.concat(this.type, '-keyShape')] = u;
                  var l = i.width,
                    h = i.height,
                    f = i.show,
                    d = i.offset,
                    p = i.text;
                  if (f)
                    if (p)
                      e.shapeMap[''.concat(this.type, '-icon')] = e.addShape('text', {
                        attrs: (0, c.__assign)(
                          {
                            x: 0,
                            y: 0,
                            fontSize: 12,
                            fill: '#000',
                            stroke: '#000',
                            textBaseline: 'middle',
                            textAlign: 'center',
                          },
                          i,
                        ),
                        className: ''.concat(this.type, '-icon'),
                        name: ''.concat(this.type, '-icon'),
                        draggable: !0,
                      });
                    else {
                      var g = -l / 2,
                        v = -h / 2;
                      ('up' !== s && 'down' !== s) || (v += d),
                        ('left' !== s && 'right' !== s) || (g += d),
                        (e.shapeMap[''.concat(this.type, '-icon')] = e.addShape('image', {
                          attrs: (0, c.__assign)({ x: g, y: v }, i),
                          className: ''.concat(this.type, '-icon'),
                          name: ''.concat(this.type, '-icon'),
                          draggable: !0,
                        }));
                    }
                  return this.drawLinkPoints(t, e), u;
                },
                drawLinkPoints: function (t, e) {
                  var n = this.mergeStyle || this.getOptions(t),
                    r = n.linkPoints,
                    i = void 0 === r ? {} : r,
                    o = n.direction,
                    a = t.direction || o,
                    s = i.top,
                    u = i.left,
                    l = i.right,
                    h = i.bottom,
                    f = i.size,
                    d = i.r,
                    p = (0, c.__rest)(i, ['top', 'left', 'right', 'bottom', 'size', 'r']),
                    g = this.getSize(t)[0];
                  if (u) {
                    var v = null,
                      y = g * Math.sin((1 / 3) * Math.PI),
                      m = g * Math.sin((1 / 3) * Math.PI);
                    'up' === a
                      ? (v = [-m, y])
                      : 'down' === a
                      ? (v = [-m, -y])
                      : 'left' === a && (v = [-m, m - y]),
                      v &&
                        (e.shapeMap['link-point-left'] = e.addShape('circle', {
                          attrs: (0, c.__assign)((0, c.__assign)({}, p), {
                            x: v[0],
                            y: v[1],
                            r: f / 2 || d || 5,
                          }),
                          className: 'link-point-left',
                          name: 'link-point-left',
                        }));
                  }
                  if (l) {
                    var b = null;
                    (y = g * Math.sin((1 / 3) * Math.PI)),
                      (m = g * Math.sin((1 / 3) * Math.PI)),
                      'up' === a
                        ? (b = [m, y])
                        : 'down' === a
                        ? (b = [m, -y])
                        : 'right' === a && (b = [m, m - y]),
                      b &&
                        (e.shapeMap['link-point-right'] = e.addShape('circle', {
                          attrs: (0, c.__assign)((0, c.__assign)({}, p), {
                            x: b[0],
                            y: b[1],
                            r: f / 2 || d || 5,
                          }),
                          className: 'link-point-right',
                          name: 'link-point-right',
                        }));
                  }
                  if (s) {
                    var x = null;
                    (y = g * Math.sin((1 / 3) * Math.PI)),
                      (m = g * Math.sin((1 / 3) * Math.PI)),
                      'up' === a
                        ? (x = [m - y, -y])
                        : 'left' === a
                        ? (x = [m, -y])
                        : 'right' === a && (x = [-m, -y]),
                      x &&
                        (e.shapeMap['link-point-top'] = e.addShape('circle', {
                          attrs: (0, c.__assign)((0, c.__assign)({}, p), {
                            x: x[0],
                            y: x[1],
                            r: f / 2 || d || 5,
                          }),
                          className: 'link-point-top',
                          name: 'link-point-top',
                        }));
                  }
                  if (h) {
                    var _ = null;
                    (y = g * Math.sin((1 / 3) * Math.PI)),
                      (m = g * Math.sin((1 / 3) * Math.PI)),
                      'down' === a
                        ? (_ = [-m + y, y])
                        : 'left' === a
                        ? (_ = [m, y])
                        : 'right' === a && (_ = [-m, y]),
                      _ &&
                        (e.shapeMap['link-point-bottom'] = e.addShape('circle', {
                          attrs: (0, c.__assign)((0, c.__assign)({}, p), {
                            x: _[0],
                            y: _[1],
                            r: f / 2 || d || 5,
                          }),
                          className: 'link-point-bottom',
                          name: 'link-point-bottom',
                        }));
                  }
                },
                getPath: function (t) {
                  var e = (this.mergeStyle || this.getOptions(t)).direction,
                    n = t.direction || e,
                    r = this.getSize(t)[0],
                    i = r * Math.sin((1 / 3) * Math.PI),
                    o = r * Math.sin((1 / 3) * Math.PI),
                    a = [['M', -o, i], ['L', 0, -i], ['L', o, i], ['Z']];
                  return (
                    'down' === n
                      ? (a = [['M', -o, -i], ['L', o, -i], ['L', 0, i], ['Z']])
                      : 'left' === n
                      ? (a = [['M', -o, o - i], ['L', o, -o], ['L', o, o], ['Z']])
                      : 'right' === n &&
                        (a = [['M', o, o - i], ['L', -o, o], ['L', -o, -o], ['Z']]),
                    a
                  );
                },
                getShapeStyle: function (t) {
                  var e = (this.mergeStyle || this.getOptions(t)).style,
                    n = { stroke: t.color },
                    r = (0, p.mix)({}, e, n),
                    i = this.getPath(t);
                  return (0, c.__assign)({ path: i }, r);
                },
                update: function (t, e, n) {
                  var r = e.getContainer(),
                    i = this.getOptions({}).style,
                    o = this.getPath(t),
                    a = { stroke: t.color, path: o },
                    s = e.get('keyShape'),
                    u = (0, p.mix)({}, i, s.attr(), a);
                  (u = (0, p.mix)(u, t.style)),
                    this.updateShape(t, e, u, !0, n),
                    this.updateLinkPoints(t, r);
                },
                updateLinkPoints: function (t, e) {
                  var n = this.getOptions({}),
                    r = n.linkPoints,
                    i = n.direction,
                    o = t.direction || i,
                    a =
                      e.shapeMap['link-point-left'] ||
                      e.find(function (t) {
                        return 'link-point-left' === t.get('className');
                      }),
                    s =
                      e.shapeMap['link-point-right'] ||
                      e.find(function (t) {
                        return 'link-point-right' === t.get('className');
                      }),
                    u =
                      e.shapeMap['link-point-top'] ||
                      e.find(function (t) {
                        return 'link-point-top' === t.get('className');
                      }),
                    l =
                      e.shapeMap['link-point-bottom'] ||
                      e.find(function (t) {
                        return 'link-point-bottom' === t.get('className');
                      }),
                    h = r,
                    f = a || s || u || l;
                  f && (h = f.attr());
                  var d = (0, p.mix)({}, h, t.linkPoints),
                    g = d.fill,
                    v = d.stroke,
                    y = d.lineWidth,
                    m = d.size / 2;
                  m || (m = d.r);
                  var b = t.linkPoints
                      ? t.linkPoints
                      : { left: void 0, right: void 0, top: void 0, bottom: void 0 },
                    x = b.left,
                    _ = b.right,
                    w = b.top,
                    E = b.bottom,
                    S = this.getSize(t)[0],
                    M = { r: m, fill: g, stroke: v, lineWidth: y },
                    k = null,
                    A = S * Math.sin((1 / 3) * Math.PI),
                    C = S * Math.sin((1 / 3) * Math.PI);
                  'up' === o
                    ? (k = [-C, A])
                    : 'down' === o
                    ? (k = [-C, -A])
                    : 'left' === o && (k = [-C, C - A]),
                    k &&
                      (a
                        ? x || void 0 === x
                          ? a.attr((0, c.__assign)((0, c.__assign)({}, M), { x: k[0], y: k[1] }))
                          : (a.remove(), delete e.shapeMap['link-point-left'])
                        : x &&
                          (e.shapeMap['link-point-left'] = e.addShape('circle', {
                            attrs: (0, c.__assign)((0, c.__assign)({}, M), { x: k[0], y: k[1] }),
                            className: 'link-point-left',
                            name: 'link-point-left',
                            isAnchorPoint: !0,
                          })));
                  var I = null;
                  'up' === o
                    ? (I = [C, A])
                    : 'down' === o
                    ? (I = [C, -A])
                    : 'right' === o && (I = [C, C - A]),
                    I &&
                      (s
                        ? _ || void 0 === _
                          ? s.attr((0, c.__assign)((0, c.__assign)({}, M), { x: I[0], y: I[1] }))
                          : (s.remove(), delete e.shapeMap['link-point-right'])
                        : _ &&
                          (e.shapeMap['link-point-right'] = e.addShape('circle', {
                            attrs: (0, c.__assign)((0, c.__assign)({}, M), { x: I[0], y: I[1] }),
                            className: 'link-point-right',
                            name: 'link-point-right',
                            isAnchorPoint: !0,
                          })));
                  var T = null;
                  'up' === o
                    ? (T = [C - A, -A])
                    : 'left' === o
                    ? (T = [C, -A])
                    : 'right' === o && (T = [-C, -A]),
                    T &&
                      (u
                        ? w || void 0 === w
                          ? u.attr((0, c.__assign)((0, c.__assign)({}, M), { x: T[0], y: T[1] }))
                          : (u.remove(), delete e.shapeMap['link-point-top'])
                        : w &&
                          (e.shapeMap['link-point-top'] = e.addShape('circle', {
                            attrs: (0, c.__assign)((0, c.__assign)({}, M), { x: T[0], y: T[1] }),
                            className: 'link-point-top',
                            name: 'link-point-top',
                            isAnchorPoint: !0,
                          })));
                  var N = null;
                  'down' === o
                    ? (N = [-C + A, A])
                    : 'left' === o
                    ? (N = [C, A])
                    : 'right' === o && (N = [-C, A]),
                    N &&
                      (l
                        ? E || void 0 === E
                          ? l.attr((0, c.__assign)((0, c.__assign)({}, M), { x: N[0], y: N[1] }))
                          : (l.remove(), delete e.shapeMap['link-point-bottom'])
                        : E &&
                          (e.shapeMap['link-point-bottom'] = e.addShape('circle', {
                            attrs: (0, c.__assign)((0, c.__assign)({}, M), { x: N[0], y: N[1] }),
                            className: 'link-point-bottom',
                            name: 'link-point-bottom',
                            isAnchorPoint: !0,
                          })));
                },
              },
              'single-node',
            ),
            (0, l.registerNode)(
              'modelRect',
              {
                options: {
                  size: [185, 70],
                  style: {
                    radius: 5,
                    stroke: '#69c0ff',
                    fill: '#ffffff',
                    lineWidth: l.BaseGlobal.defaultNode.style.lineWidth,
                    fillOpacity: 1,
                  },
                  labelCfg: {
                    style: {
                      fill: '#595959',
                      fontSize: 14,
                      fontFamily: l.BaseGlobal.windowFontFamily,
                    },
                    offset: 30,
                  },
                  descriptionCfg: {
                    style: {
                      fontSize: 12,
                      fill: '#bfbfbf',
                      fontFamily: l.BaseGlobal.windowFontFamily,
                    },
                    paddingTop: 0,
                  },
                  preRect: { show: !0, width: 4, fill: '#40a9ff', radius: 2 },
                  linkPoints: {
                    top: !1,
                    right: !1,
                    bottom: !1,
                    left: !1,
                    size: 10,
                    lineWidth: 1,
                    fill: '#72CC4A',
                    stroke: '#72CC4A',
                  },
                  logoIcon: {
                    show: !0,
                    x: 0,
                    y: 0,
                    img: 'https://gw.alipayobjects.com/zos/basement_prod/4f81893c-1806-4de4-aff3-9a6b266bc8a2.svg',
                    width: 16,
                    height: 16,
                    offset: 0,
                  },
                  stateIcon: {
                    show: !0,
                    x: 0,
                    y: 0,
                    img: 'https://gw.alipayobjects.com/zos/basement_prod/300a2523-67e0-4cbf-9d4a-67c077b40395.svg',
                    width: 16,
                    height: 16,
                    offset: -5,
                  },
                  anchorPoints: [
                    [0, 0.5],
                    [1, 0.5],
                  ],
                },
                shapeType: 'modelRect',
                drawShape: function (t, e) {
                  var n = (this.mergeStyle || this.getOptions(t)).preRect,
                    r = void 0 === n ? {} : n,
                    i = this.getShapeStyle(t),
                    o = this.getSize(t),
                    a = o[0],
                    s = o[1],
                    u = e.addShape('rect', {
                      attrs: i,
                      className: ''.concat(this.type, '-keyShape'),
                      name: ''.concat(this.type, '-keyShape'),
                      draggable: !0,
                    });
                  e.shapeMap[''.concat(this.type, '-keyShape')] = u;
                  var l = r.show,
                    h = (0, c.__rest)(r, ['show']);
                  return (
                    l &&
                      (e.shapeMap['pre-rect'] = e.addShape('rect', {
                        attrs: (0, c.__assign)({ x: -a / 2, y: -s / 2, height: s }, h),
                        className: 'pre-rect',
                        name: 'pre-rect',
                        draggable: !0,
                      })),
                    this.drawLogoIcon(t, e),
                    this.drawStateIcon(t, e),
                    this.drawLinkPoints(t, e),
                    u
                  );
                },
                drawLogoIcon: function (t, e) {
                  var n = (this.mergeStyle || this.getOptions(t)).logoIcon,
                    r = void 0 === n ? {} : n,
                    i = this.getSize(t)[0];
                  if (r.show) {
                    var o = r.width,
                      a = r.height,
                      s = r.x,
                      u = r.y,
                      l = r.offset,
                      h = r.text,
                      f = (0, c.__rest)(r, ['width', 'height', 'x', 'y', 'offset', 'text']);
                    e.shapeMap['rect-logo-icon'] = h
                      ? e.addShape('text', {
                          attrs: (0, c.__assign)(
                            {
                              x: 0,
                              y: 0,
                              fontSize: 12,
                              fill: '#000',
                              stroke: '#000',
                              textBaseline: 'middle',
                              textAlign: 'center',
                            },
                            f,
                          ),
                          className: 'rect-logo-icon',
                          name: 'rect-logo-icon',
                          draggable: !0,
                        })
                      : e.addShape('image', {
                          attrs: (0, c.__assign)((0, c.__assign)({}, f), {
                            x: s || -i / 2 + o + l,
                            y: u || -a / 2,
                            width: o,
                            height: a,
                          }),
                          className: 'rect-logo-icon',
                          name: 'rect-logo-icon',
                          draggable: !0,
                        });
                  }
                },
                drawStateIcon: function (t, e) {
                  var n = (this.mergeStyle || this.getOptions(t)).stateIcon,
                    r = void 0 === n ? {} : n,
                    i = this.getSize(t)[0];
                  if (r.show) {
                    var o = r.width,
                      a = r.height,
                      s = r.x,
                      u = r.y,
                      l = r.offset,
                      h = r.text,
                      f = (0, c.__rest)(r, ['width', 'height', 'x', 'y', 'offset', 'text']);
                    e.shapeMap['rect-state-icon'] = h
                      ? e.addShape('text', {
                          attrs: (0, c.__assign)(
                            {
                              x: 0,
                              y: 0,
                              fontSize: 12,
                              fill: '#000',
                              stroke: '#000',
                              textBaseline: 'middle',
                              textAlign: 'center',
                            },
                            f,
                          ),
                          className: 'rect-state-icon',
                          name: 'rect-state-icon',
                          draggable: !0,
                        })
                      : e.addShape('image', {
                          attrs: (0, c.__assign)((0, c.__assign)({}, f), {
                            x: s || i / 2 - o + l,
                            y: u || -a / 2,
                            width: o,
                            height: a,
                          }),
                          className: 'rect-state-icon',
                          name: 'rect-state-icon',
                          draggable: !0,
                        });
                  }
                },
                drawLinkPoints: function (t, e) {
                  var n = (this.mergeStyle || this.getOptions(t)).linkPoints,
                    r = void 0 === n ? {} : n,
                    i = r.top,
                    o = r.left,
                    a = r.right,
                    s = r.bottom,
                    u = r.size,
                    l = r.r,
                    h = (0, c.__rest)(r, ['top', 'left', 'right', 'bottom', 'size', 'r']),
                    f = this.getSize(t),
                    d = f[0],
                    p = f[1];
                  o &&
                    (e.shapeMap['link-point-left'] = e.addShape('circle', {
                      attrs: (0, c.__assign)((0, c.__assign)({}, h), {
                        x: -d / 2,
                        y: 0,
                        r: u / 2 || l || 5,
                      }),
                      className: 'link-point-left',
                      name: 'link-point-left',
                      isAnchorPoint: !0,
                    })),
                    a &&
                      (e.shapeMap['link-point-right'] = e.addShape('circle', {
                        attrs: (0, c.__assign)((0, c.__assign)({}, h), {
                          x: d / 2,
                          y: 0,
                          r: u / 2 || l || 5,
                        }),
                        className: 'link-point-right',
                        name: 'link-point-right',
                        isAnchorPoint: !0,
                      })),
                    i &&
                      (e.shapeMap['link-point-top'] = e.addShape('circle', {
                        attrs: (0, c.__assign)((0, c.__assign)({}, h), {
                          x: 0,
                          y: -p / 2,
                          r: u / 2 || l || 5,
                        }),
                        className: 'link-point-top',
                        name: 'link-point-top',
                        isAnchorPoint: !0,
                      })),
                    s &&
                      (e.shapeMap['link-point-bottom'] = e.addShape('circle', {
                        attrs: (0, c.__assign)((0, c.__assign)({}, h), {
                          x: 0,
                          y: p / 2,
                          r: u / 2 || l || 5,
                        }),
                        className: 'link-point-bottom',
                        name: 'link-point-bottom',
                        isAnchorPoint: !0,
                      }));
                },
                drawLabel: function (t, e) {
                  var n = this.getOptions(t),
                    r = n.labelCfg,
                    i = void 0 === r ? {} : r,
                    o = n.logoIcon,
                    a = void 0 === o ? {} : o,
                    s = n.descriptionCfg,
                    u = void 0 === s ? {} : s,
                    l = this.getSize(t)[0],
                    h = null,
                    f = a.show,
                    d = a.width,
                    g = -l / 2 + i.offset;
                  f && (g = -l / 2 + d + i.offset);
                  var v = i.style,
                    y = u.style,
                    m = u.paddingTop;
                  return (
                    (0, p.isString)(t.description)
                      ? ((h = e.addShape('text', {
                          attrs: (0, c.__assign)((0, c.__assign)({}, v), {
                            x: g,
                            y: -5,
                            text: t.label,
                          }),
                          className: 'text-shape',
                          name: 'text-shape',
                          draggable: !0,
                          labelRelated: !0,
                        })),
                        (e.shapeMap['text-shape'] = h),
                        (e.shapeMap['rect-description'] = e.addShape('text', {
                          attrs: (0, c.__assign)((0, c.__assign)({}, y), {
                            x: g,
                            y: 17 + (m || 0),
                            text: t.description,
                          }),
                          className: 'rect-description',
                          name: 'rect-description',
                          draggable: !0,
                          labelRelated: !0,
                        })))
                      : ((h = e.addShape('text', {
                          attrs: (0, c.__assign)((0, c.__assign)({}, v), {
                            x: g,
                            y: 7,
                            text: t.label,
                          }),
                          className: 'text-shape',
                          name: 'text-shape',
                          draggable: !0,
                          labelRelated: !0,
                        })),
                        (e.shapeMap['text-shape'] = h)),
                    h
                  );
                },
                getShapeStyle: function (t) {
                  var e = (this.mergeStyle || this.getOptions(t)).style,
                    n = { stroke: t.color },
                    r = (0, p.mix)({}, e, n),
                    i = this.getSize(t),
                    o = r.width || i[0],
                    a = r.height || i[1];
                  return (0, c.__assign)({ x: -o / 2, y: -a / 2, width: o, height: a }, r);
                },
                update: function (t, e) {
                  var n = this.mergeStyle || this.getOptions(t),
                    r = n.style,
                    i = void 0 === r ? {} : r,
                    o = n.labelCfg,
                    a = void 0 === o ? {} : o,
                    s = n.descriptionCfg,
                    u = void 0 === s ? {} : s,
                    l = this.getSize(t),
                    h = l[0],
                    f = l[1];
                  e.get('keyShape').attr(
                    (0, c.__assign)((0, c.__assign)({}, i), {
                      x: -h / 2,
                      y: -f / 2,
                      width: h,
                      height: f,
                    }),
                  );
                  var d = e.getContainer(),
                    g =
                      d.shapeMap['rect-logo-icon'] ||
                      d.find(function (t) {
                        return 'rect-logo-icon' === t.get('className');
                      }),
                    v = g ? g.attr() : {},
                    y = (0, p.mix)({}, v, t.logoIcon),
                    m = y.width;
                  void 0 === m && (m = this.options.logoIcon.width);
                  var b = t.logoIcon ? t.logoIcon.show : void 0,
                    x = a.offset,
                    _ = -h / 2 + m + x;
                  b || void 0 === b || (_ = -h / 2 + x);
                  var w =
                      d.shapeMap['node-label'] ||
                      d.find(function (t) {
                        return 'node-label' === t.get('className');
                      }),
                    E =
                      d.shapeMap['rect-description'] ||
                      d.find(function (t) {
                        return 'rect-description' === t.get('className');
                      });
                  if (t.label)
                    if (w) {
                      var S = t.labelCfg ? t.labelCfg.style : {},
                        M = (0, p.mix)({}, w.attr(), S);
                      t.label && (M.text = t.label),
                        (M.x = _),
                        (0, p.isString)(t.description) && (M.y = -5),
                        E && (E.resetMatrix(), E.attr({ x: _ })),
                        w.resetMatrix(),
                        w.attr(M);
                    } else
                      d.shapeMap['node-label'] = d.addShape('text', {
                        attrs: (0, c.__assign)((0, c.__assign)({}, a.style), {
                          x: _,
                          y: t.description ? -5 : 7,
                          text: t.label,
                        }),
                        className: 'node-label',
                        name: 'node-label',
                        draggable: !0,
                        labelRelated: !0,
                      });
                  if ((0, p.isString)(t.description)) {
                    var k = u.paddingTop;
                    if (E) {
                      S = t.descriptionCfg ? t.descriptionCfg.style : {};
                      var A = (0, p.mix)({}, E.attr(), S);
                      (0, p.isString)(t.description) && (A.text = t.description),
                        (A.x = _),
                        E.resetMatrix(),
                        E.attr((0, c.__assign)((0, c.__assign)({}, A), { y: 17 + (k || 0) }));
                    } else
                      d.shapeMap['rect-description'] = d.addShape('text', {
                        attrs: (0, c.__assign)((0, c.__assign)({}, u.style), {
                          x: _,
                          y: 17 + (k || 0),
                          text: t.description,
                        }),
                        className: 'rect-description',
                        name: 'rect-description',
                        draggable: !0,
                        labelRelated: !0,
                      });
                  }
                  var C =
                    d.shapeMap['pre-rect'] ||
                    d.find(function (t) {
                      return 'pre-rect' === t.get('className');
                    });
                  if (C && !C.destroyed) {
                    var I = (0, p.mix)({}, C.attr(), t.preRect);
                    C.attr(
                      (0, c.__assign)((0, c.__assign)({}, I), { x: -h / 2, y: -f / 2, height: f }),
                    );
                  }
                  if (g && !g.destroyed)
                    if (b || void 0 === b) {
                      var T = y.width,
                        N = y.height,
                        P = y.x,
                        O = y.y,
                        D = y.offset,
                        L = (0, c.__rest)(y, ['width', 'height', 'x', 'y', 'offset']);
                      g.attr(
                        (0, c.__assign)((0, c.__assign)({}, L), {
                          x: P || -h / 2 + T + D,
                          y: O || -N / 2,
                          width: T,
                          height: N,
                        }),
                      );
                    } else g.remove(), delete d.shapeMap['pre-rect'];
                  else b && this.drawLogoIcon(t, d);
                  var R =
                      d.shapeMap['rect-state-icon'] ||
                      d.find(function (t) {
                        return 'rect-state-icon' === t.get('className');
                      }),
                    B = R ? R.attr() : {},
                    j = (0, p.mix)({}, B, t.stateIcon);
                  if (R) {
                    j.show ||
                      void 0 === j.show ||
                      (R.remove(), delete d.shapeMap['rect-state-icon']);
                    var G = j.width,
                      z = ((N = j.height), (P = j.x), (O = j.y), j.offset),
                      F = (0, c.__rest)(j, ['width', 'height', 'x', 'y', 'offset']);
                    R.attr(
                      (0, c.__assign)((0, c.__assign)({}, F), {
                        x: P || h / 2 - G + z,
                        y: O || -N / 2,
                        width: G,
                        height: N,
                      }),
                    );
                  } else j.show && this.drawStateIcon(t, d);
                  this.updateLinkPoints(t, d);
                },
              },
              'single-node',
            ),
            (0, l.registerNode)(
              'star',
              {
                options: {
                  size: 60,
                  style: {
                    stroke: l.BaseGlobal.defaultNode.style.stroke,
                    fill: l.BaseGlobal.defaultNode.style.fill,
                    lineWidth: l.BaseGlobal.defaultNode.style.lineWidth,
                  },
                  labelCfg: {
                    style: {
                      fill: l.BaseGlobal.nodeLabel.style.fill,
                      fontSize: l.BaseGlobal.nodeLabel.style.fontSize,
                      fontFamily: l.BaseGlobal.windowFontFamily,
                    },
                  },
                  linkPoints: {
                    top: !1,
                    right: !1,
                    bottom: !1,
                    left: !1,
                    size: l.BaseGlobal.defaultNode.linkPoints.size,
                    lineWidth: l.BaseGlobal.defaultNode.linkPoints.lineWidth,
                    fill: l.BaseGlobal.defaultNode.linkPoints.fill,
                    stroke: l.BaseGlobal.defaultNode.linkPoints.stroke,
                  },
                  icon: {
                    show: !1,
                    img: 'https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg',
                    width: 20,
                    height: 20,
                  },
                  stateStyles: (0, c.__assign)({}, l.BaseGlobal.nodeStateStyles),
                },
                shapeType: 'star',
                labelPosition: 'center',
                drawShape: function (t, e) {
                  var n = (this.mergeStyle || this.getOptions(t)).icon,
                    r = void 0 === n ? {} : n,
                    i = this.getShapeStyle(t),
                    o = e.addShape('path', {
                      attrs: i,
                      className: ''.concat(this.type, '-keyShape'),
                      name: ''.concat(this.type, '-keyShape'),
                      draggable: !0,
                    });
                  e.shapeMap[''.concat(this.type, '-keyShape')] = o;
                  var a = r.width,
                    s = r.height,
                    u = r.show,
                    l = r.text;
                  return (
                    u &&
                      (e.shapeMap[''.concat(this.type, '-icon')] = l
                        ? e.addShape('text', {
                            attrs: (0, c.__assign)(
                              {
                                x: 0,
                                y: 0,
                                fontSize: 12,
                                fill: '#000',
                                stroke: '#000',
                                textBaseline: 'middle',
                                textAlign: 'center',
                              },
                              r,
                            ),
                            className: ''.concat(this.type, '-icon'),
                            name: ''.concat(this.type, '-icon'),
                            draggable: !0,
                          })
                        : e.addShape('image', {
                            attrs: (0, c.__assign)({ x: -a / 2, y: -s / 2 }, r),
                            className: ''.concat(this.type, '-icon'),
                            name: ''.concat(this.type, '-icon'),
                            draggable: !0,
                          })),
                    this.drawLinkPoints(t, e),
                    o
                  );
                },
                drawLinkPoints: function (t, e) {
                  var n = (this.mergeStyle || this.getOptions(t)).linkPoints,
                    r = void 0 === n ? {} : n,
                    i = r.top,
                    o = r.left,
                    a = r.right,
                    s = r.leftBottom,
                    u = r.rightBottom,
                    l = r.size,
                    h = r.r,
                    f = (0, c.__rest)(r, [
                      'top',
                      'left',
                      'right',
                      'leftBottom',
                      'rightBottom',
                      'size',
                      'r',
                    ]),
                    d = this.getSize(t)[0];
                  if (a) {
                    var p = Math.cos(0.1 * Math.PI) * d,
                      g = Math.sin(0.1 * Math.PI) * d;
                    e.shapeMap['link-point-right'] = e.addShape('circle', {
                      attrs: (0, c.__assign)((0, c.__assign)({}, f), {
                        x: p,
                        y: -g,
                        r: l / 2 || h || 5,
                      }),
                      className: 'link-point-right',
                      name: 'link-point-right',
                    });
                  }
                  i &&
                    ((p = Math.cos(0.5 * Math.PI) * d),
                    (g = Math.sin(0.5 * Math.PI) * d),
                    (e.shapeMap['link-point-top'] = e.addShape('circle', {
                      attrs: (0, c.__assign)((0, c.__assign)({}, f), {
                        x: p,
                        y: -g,
                        r: l / 2 || h || 5,
                      }),
                      className: 'link-point-top',
                      name: 'link-point-top',
                    }))),
                    o &&
                      ((p = Math.cos(0.9 * Math.PI) * d),
                      (g = Math.sin(0.9 * Math.PI) * d),
                      (e.shapeMap['link-point-left'] = e.addShape('circle', {
                        attrs: (0, c.__assign)((0, c.__assign)({}, f), {
                          x: p,
                          y: -g,
                          r: l / 2 || h || 5,
                        }),
                        className: 'link-point-left',
                        name: 'link-point-left',
                      }))),
                    s &&
                      ((p = Math.cos(1.3 * Math.PI) * d),
                      (g = Math.sin(1.3 * Math.PI) * d),
                      (e.shapeMap['link-point-bottom'] = e.addShape('circle', {
                        attrs: (0, c.__assign)((0, c.__assign)({}, f), {
                          x: p,
                          y: -g,
                          r: l / 2 || h || 5,
                        }),
                        className: 'link-point-left-bottom',
                        name: 'link-point-left-bottom',
                      }))),
                    u &&
                      ((p = Math.cos(1.7 * Math.PI) * d),
                      (g = Math.sin(1.7 * Math.PI) * d),
                      (e.shapeMap['link-point-right-bottom'] = e.addShape('circle', {
                        attrs: (0, c.__assign)((0, c.__assign)({}, f), {
                          x: p,
                          y: -g,
                          r: l / 2 || h || 5,
                        }),
                        className: 'link-point-right-bottom',
                        name: 'link-point-right-bottom',
                      })));
                },
                getPath: function (t) {
                  for (
                    var e = this.getSize(t)[0], n = (3 * e) / 8, r = t.innerR || n, i = [], o = 0;
                    o < 5;
                    o++
                  ) {
                    var a = Math.cos(((18 + 72 * o) / 180) * Math.PI) * e,
                      s = Math.sin(((18 + 72 * o) / 180) * Math.PI) * e,
                      u = Math.cos(((54 + 72 * o) / 180) * Math.PI) * r,
                      c = Math.sin(((54 + 72 * o) / 180) * Math.PI) * r;
                    0 === o ? i.push(['M', a, -s]) : i.push(['L', a, -s]), i.push(['L', u, -c]);
                  }
                  return i.push(['Z']), i;
                },
                getShapeStyle: function (t) {
                  var e = (this.mergeStyle || this.getOptions(t)).style,
                    n = { stroke: t.color },
                    r = (0, p.mix)({}, e, n),
                    i = this.getPath(t);
                  return (0, c.__assign)({ path: i }, r);
                },
                update: function (t, e, n) {
                  var r = e.getContainer(),
                    i = this.getOptions({}).style,
                    o = this.getPath(t),
                    a = { stroke: t.color, path: o },
                    s = e.get('keyShape'),
                    u = (0, p.mix)({}, i, s.attr(), a);
                  (u = (0, p.mix)(u, t.style)),
                    this.updateShape(t, e, u, !0, n),
                    this.updateLinkPoints(t, r);
                },
                updateLinkPoints: function (t, e) {
                  var n = this.getOptions({}).linkPoints,
                    r =
                      e.shapeMap['link-point-left'] ||
                      e.find(function (t) {
                        return 'link-point-left' === t.get('className');
                      }),
                    i =
                      e.shapeMap['link-point-right'] ||
                      e.find(function (t) {
                        return 'link-point-right' === t.get('className');
                      }),
                    o =
                      e.shapeMap['link-point-top'] ||
                      e.find(function (t) {
                        return 'link-point-top' === t.get('className');
                      }),
                    a =
                      e.shapeMap['link-point-left-bottom'] ||
                      e.find(function (t) {
                        return 'link-point-left-bottom' === t.get('className');
                      }),
                    s =
                      e.shapeMap['link-point-left-bottom'] ||
                      e.find(function (t) {
                        return 'link-point-right-bottom' === t.get('className');
                      }),
                    u = n,
                    l = r || i || o || a || s;
                  l && (u = l.attr());
                  var h = (0, p.mix)({}, u, t.linkPoints),
                    f = h.fill,
                    d = h.stroke,
                    g = h.lineWidth,
                    v = h.size / 2;
                  v || (v = h.r);
                  var y = t.linkPoints
                      ? t.linkPoints
                      : {
                          left: void 0,
                          right: void 0,
                          top: void 0,
                          leftBottom: void 0,
                          rightBottom: void 0,
                        },
                    m = y.left,
                    b = y.right,
                    x = y.top,
                    _ = y.leftBottom,
                    w = y.rightBottom,
                    E = this.getSize(t)[0],
                    S = { r: v, fill: f, stroke: d, lineWidth: g },
                    M = Math.cos(0.1 * Math.PI) * E,
                    k = Math.sin(0.1 * Math.PI) * E;
                  i
                    ? b || void 0 === b
                      ? i.attr((0, c.__assign)((0, c.__assign)({}, S), { x: M, y: -k }))
                      : (i.remove(), delete e.shapeMap['link-point-right'])
                    : b &&
                      (e.shapeMap['link-point-right'] = e.addShape('circle', {
                        attrs: (0, c.__assign)((0, c.__assign)({}, S), { x: M, y: -k }),
                        className: 'link-point-right',
                        name: 'link-point-right',
                        isAnchorPoint: !0,
                      })),
                    (M = Math.cos(0.5 * Math.PI) * E),
                    (k = Math.sin(0.5 * Math.PI) * E),
                    o
                      ? x || void 0 === x
                        ? o.attr((0, c.__assign)((0, c.__assign)({}, S), { x: M, y: -k }))
                        : (o.remove(), delete e.shapeMap['link-point-top'])
                      : x &&
                        (e.shapeMap['link-point-top'] = e.addShape('circle', {
                          attrs: (0, c.__assign)((0, c.__assign)({}, S), { x: M, y: -k }),
                          className: 'link-point-top',
                          name: 'link-point-top',
                          isAnchorPoint: !0,
                        })),
                    (M = Math.cos(0.9 * Math.PI) * E),
                    (k = Math.sin(0.9 * Math.PI) * E),
                    r
                      ? m || void 0 === m
                        ? r.attr((0, c.__assign)((0, c.__assign)({}, S), { x: M, y: -k }))
                        : (r.remove(), delete e.shapeMap['link-point-left'])
                      : m &&
                        (e.shapeMap['link-point-left'] = e.addShape('circle', {
                          attrs: (0, c.__assign)((0, c.__assign)({}, S), { x: M, y: -k }),
                          className: 'link-point-left',
                          name: 'link-point-left',
                          isAnchorPoint: !0,
                        })),
                    (M = Math.cos(1.3 * Math.PI) * E),
                    (k = Math.sin(1.3 * Math.PI) * E),
                    a
                      ? _ || void 0 === _
                        ? a.attr((0, c.__assign)((0, c.__assign)({}, S), { x: M, y: -k }))
                        : (a.remove(), delete e.shapeMap['link-point-left-bottom'])
                      : _ &&
                        (e.shapeMap['link-point-left-bottom'] = e.addShape('circle', {
                          attrs: (0, c.__assign)((0, c.__assign)({}, S), { x: M, y: -k }),
                          className: 'link-point-left-bottom',
                          name: 'link-point-left-bottom',
                          isAnchorPoint: !0,
                        })),
                    (M = Math.cos(1.7 * Math.PI) * E),
                    (k = Math.sin(1.7 * Math.PI) * E),
                    s
                      ? w || void 0 === w
                        ? s.attr((0, c.__assign)((0, c.__assign)({}, S), { x: M, y: -k }))
                        : (a.remove(), delete e.shapeMap['link-point-right-bottom'])
                      : w &&
                        (e.shapeMap['link-point-right-bottom'] = e.addShape('circle', {
                          attrs: (0, c.__assign)((0, c.__assign)({}, S), { x: M, y: -k }),
                          className: 'link-point-right-bottom',
                          name: 'link-point-right-bottom',
                          isAnchorPoint: !0,
                        }));
                },
              },
              'single-node',
            );
          var za = l.Util.defaultSubjectColors;
          (0, l.registerNode)(
            'donut',
            {
              options: {
                size: l.BaseGlobal.defaultNode.size,
                style: {
                  x: 0,
                  y: 0,
                  stroke: l.BaseGlobal.defaultNode.style.stroke,
                  fill: l.BaseGlobal.defaultNode.style.fill,
                  lineWidth: l.BaseGlobal.defaultNode.style.lineWidth,
                },
                labelCfg: {
                  style: {
                    fill: l.BaseGlobal.nodeLabel.style.fill,
                    fontSize: l.BaseGlobal.nodeLabel.style.fontSize,
                    fontFamily: l.BaseGlobal.windowFontFamily,
                  },
                },
                linkPoints: {
                  top: !1,
                  right: !1,
                  bottom: !1,
                  left: !1,
                  size: l.BaseGlobal.defaultNode.linkPoints.size,
                  lineWidth: l.BaseGlobal.defaultNode.linkPoints.lineWidth,
                  fill: l.BaseGlobal.defaultNode.linkPoints.fill,
                  stroke: l.BaseGlobal.defaultNode.linkPoints.stroke,
                },
                icon: {
                  show: !1,
                  img: 'https://gw.alipayobjects.com/zos/bmw-prod/5d015065-8505-4e7a-baec-976f81e3c41d.svg',
                  width: 20,
                  height: 20,
                },
                stateStyles: (0, c.__assign)({}, l.BaseGlobal.nodeStateStyles),
              },
              shapeType: 'circle',
              labelPosition: 'center',
              drawShape: function (t, e) {
                var n = (this.mergeStyle || this.getOptions(t)).icon,
                  r = void 0 === n ? {} : n,
                  i = this.getShapeStyle(t),
                  o = (0, p.deepMix)({}, r, t.icon),
                  a = e.addShape('circle', {
                    attrs: i,
                    className: ''.concat(this.type, '-keyShape'),
                    draggable: !0,
                    name: ''.concat(this.type, '-keyShape'),
                  });
                e.shapeMap[''.concat(this.type, '-keyShape')] = a;
                var s = o.width,
                  u = o.height,
                  l = o.show,
                  h = o.text;
                l &&
                  (e.shapeMap[''.concat(this.type, '-icon')] = h
                    ? e.addShape('text', {
                        attrs: (0, c.__assign)(
                          {
                            x: 0,
                            y: 0,
                            fontSize: 12,
                            fill: '#000',
                            stroke: '#000',
                            textBaseline: 'middle',
                            textAlign: 'center',
                          },
                          o,
                        ),
                        className: ''.concat(this.type, '-icon'),
                        name: ''.concat(this.type, '-icon'),
                        draggable: !0,
                      })
                    : e.addShape('image', {
                        attrs: (0, c.__assign)({ x: -s / 2, y: -u / 2 }, o),
                        className: ''.concat(this.type, '-icon'),
                        name: ''.concat(this.type, '-icon'),
                        draggable: !0,
                      }));
                var f = a.attr('r'),
                  d = 0.6 * f,
                  g = (f + d) / 2,
                  v = t,
                  y = v.donutAttrs,
                  m = void 0 === y ? {} : y,
                  b = v.donutColorMap,
                  x = void 0 === b ? {} : b,
                  _ = Object.keys(m).length;
                if (m && _ > 1) {
                  var w = [],
                    E = 0;
                  if (
                    (Object.keys(m).forEach(function (t) {
                      var e = m[t] || 0;
                      (0, p.isNumber)(e) && (w.push({ key: t, value: e, color: x[t] }), (E += e));
                    }),
                    E)
                  ) {
                    var S = f - d;
                    if (1 === _)
                      return void (e.shapeMap['fan-shape-0'] = e.addShape('circle', {
                        attrs: { r: g, x: 0, y: 0, stroke: w[0].color || za[0], lineWidth: S },
                        name: 'fan-shape-0',
                      }));
                    var M = [g, 0],
                      k = 0;
                    w.forEach(function (t, n) {
                      var r = t.value / E;
                      if (!(r < 0.001))
                        if ((r > 0.999 && (r = 1), 1 !== r)) {
                          (t.percent = r),
                            (t.angle = r * Math.PI * 2),
                            (t.beginAgnle = k),
                            (k += t.angle),
                            (t.endAngle = k),
                            (t.arcBegin = M),
                            (t.arcEnd = [g * Math.cos(t.endAngle), -g * Math.sin(t.endAngle)]);
                          var i = t.angle > Math.PI ? 1 : 0,
                            o = [
                              ['M', t.arcBegin[0], t.arcBegin[1]],
                              ['A', g, g, 0, i, 0, t.arcEnd[0], t.arcEnd[1]],
                              ['L', t.arcEnd[0], t.arcEnd[1]],
                            ];
                          (e.shapeMap['fan-shape-'.concat(n)] = e.addShape('path', {
                            attrs: { path: o, lineWidth: S, stroke: t.color || za[n % za.length] },
                            name: 'fan-shape-'.concat(n),
                          })),
                            (M = t.arcEnd);
                        } else
                          e.shapeMap['fan-shape-'.concat(n)] = e.addShape('circle', {
                            attrs: {
                              r: g,
                              x: 0,
                              y: 0,
                              stroke: t.color || za[n % za.length],
                              lineWidth: S,
                            },
                            name: 'fan-shape-'.concat(n),
                          });
                    });
                  }
                }
                return this.drawLinkPoints(t, e), a;
              },
              update: void 0,
            },
            'circle',
          );
          var Fa = function (t) {
              var e = t.x,
                n = t.y;
              return {
                x: e,
                y: n,
                centerX: e,
                centerY: n,
                minX: e,
                minY: n,
                maxX: e,
                maxY: n,
                height: 0,
                width: 0,
              };
            },
            Ua = function (t) {
              for (var e = [], n = {}, r = t.length - 1; r >= 0; r--) {
                var i = t[r];
                (i.id = ''.concat(i.x, '|||').concat(i.y)), (n[i.id] = i), e.push(i);
              }
              return e;
            },
            Va = function (t) {
              return Ua(t);
            },
            Wa = function (t, e) {
              return t.width || t.height
                ? {
                    centerX: t.centerX,
                    centerY: t.centerY,
                    minX: t.minX - e,
                    minY: t.minY - e,
                    maxX: t.maxX + e,
                    maxY: t.maxY + e,
                    height: t.height + 2 * e,
                    width: t.width + 2 * e,
                  }
                : t;
            },
            Ya = function (t, e, n) {
              var r = (function (t, e) {
                var n = Math.abs(t.x - e.centerX),
                  r = Math.abs(t.y - e.centerY);
                return 0 === n && 0 === r ? 0 : n / e.width > r / e.height;
              })(e, t);
              if (0 === r) {
                var i = t.centerX,
                  o = t.centerY;
                return (
                  n.y < e.y
                    ? (o = t.minY)
                    : n.x > e.x
                    ? (i = t.maxX)
                    : n.x < e.x
                    ? (i = t.minX)
                    : n.x === e.x && (o = t.maxY),
                  { x: i, y: o }
                );
              }
              return r
                ? { x: e.x > t.centerX ? t.maxX : t.minX, y: e.y }
                : { x: e.x, y: e.y > t.centerY ? t.maxY : t.minY };
            },
            Xa = function (t, e) {
              var n = Math.min(t.minX, e.minX),
                r = Math.min(t.minY, e.minY),
                i = Math.max(t.maxX, e.maxX),
                o = Math.max(t.maxY, e.maxY);
              return {
                centerX: (n + i) / 2,
                centerY: (r + o) / 2,
                minX: n,
                minY: r,
                maxX: i,
                maxY: o,
                height: o - r,
                width: i - n,
              };
            },
            Ha = function (t) {
              return [
                { x: t.minX, y: t.minY },
                { x: t.maxX, y: t.minY },
                { x: t.maxX, y: t.maxY },
                { x: t.minX, y: t.maxY },
              ];
            },
            qa = function (t, e) {
              var n = t.x,
                r = t.y;
              return n < e.minX || n > e.maxX || r < e.minY || r > e.maxY;
            },
            Ka = function (t, e) {
              return Math.abs(t.x - e.x) + Math.abs(t.y - e.y);
            },
            Za = function (t, e, n, r, i) {
              return (
                Ka(t, e) +
                Ka(t, n) +
                (function (t, e) {
                  var n = 0;
                  return (
                    e.forEach(function (e) {
                      e && (t.x === e.x && (n += -2), t.y === e.y && (n += -2));
                    }),
                    n
                  );
                })(t, [e, n, r, i])
              );
            },
            $a = function t(e, n, r, i, o) {
              void 0 === o && (o = 0),
                e.unshift(n[i]),
                r[i] && r[i] !== i && o <= 100 && t(e, n, r, r[i], o + 1);
            },
            Qa = function (t, e, n, r) {
              var i = n.x - t.x,
                o = n.y - t.y,
                a = r.x - t.x,
                s = r.y - t.y,
                u = n.x - e.x,
                c = n.y - e.y,
                l = r.x - e.x,
                h = r.y - e.y;
              return (
                (i * s - o * a) * (u * h - c * l) <= 0 && (i * c - o * u) * (a * h - s * l) <= 0
              );
            },
            Ja = function (t, e, n) {
              if (n.width || n.height) {
                var r = Ha(n),
                  i = r[0],
                  o = r[1],
                  a = r[2],
                  s = r[3];
                return Qa(t, e, i, o) || Qa(t, e, i, s) || Qa(t, e, o, a) || Qa(t, e, a, s);
              }
              return !1;
            },
            ts = function (t, e, n, r) {
              var i = [];
              return (
                t.forEach(function (t) {
                  if (t !== e && (t.x === e.x || t.y === e.y)) {
                    if (Ja(t, e, n) || Ja(t, e, r)) return;
                    i.push(t);
                  }
                }),
                Ua(i)
              );
            },
            es = function (t, e) {
              var n = [],
                r = t[0];
              return (
                n.push('M'.concat(r.x, ' ').concat(r.y)),
                t.forEach(function (r, i) {
                  var o = t[i + 1],
                    a = t[i + 2];
                  if (o && a)
                    if (
                      (function (t, e, n) {
                        return !((t.x === e.x && e.x === n.x) || (t.y === e.y && e.y === n.y));
                      })(r, o, a)
                    ) {
                      var s = (function (t, e, n, r) {
                          var i = Ka(t, e),
                            o = Ka(n, e);
                          return (
                            i < r && (r = i),
                            o < r && (r = o),
                            [
                              { x: e.x - (r / i) * (e.x - t.x), y: e.y - (r / i) * (e.y - t.y) },
                              { x: e.x - (r / o) * (e.x - n.x), y: e.y - (r / o) * (e.y - n.y) },
                            ]
                          );
                        })(r, o, a, e),
                        u = s[0],
                        c = s[1];
                      n.push('L'.concat(u.x, ' ').concat(u.y)),
                        n.push('Q'.concat(o.x, ' ').concat(o.y, ' ').concat(c.x, ' ').concat(c.y)),
                        n.push('L'.concat(c.x, ' ').concat(c.y));
                    } else n.push('L'.concat(o.x, ' ').concat(o.y));
                  else o && n.push('L'.concat(o.x, ' ').concat(o.y));
                }),
                n.join('')
              );
            },
            ns = function (t, e, n, r, i) {
              var o, a;
              if (
                (n && n.getType()
                  ? 'combo' === n.getType()
                    ? (((o = n.getKeyShape().getCanvasBBox() || Fa(t)).centerX =
                        (o.minX + o.maxX) / 2),
                      (o.centerY = (o.minY + o.maxY) / 2))
                    : (o = n.getBBox())
                  : (o = Fa(t)),
                r && r.getType())
              )
                if ('combo' === r.getType()) {
                  var s = r.getKeyShape().getBBox();
                  if (s) {
                    var u = r.getModel(),
                      c = u.x,
                      l = u.y;
                    ((a = {
                      x: c,
                      y: l,
                      width: s.width,
                      height: s.height,
                      minX: s.minX + c,
                      maxX: s.maxX + c,
                      minY: s.minY + l,
                      maxY: s.maxY + l,
                    }).centerX = (a.minX + a.maxX) / 2),
                      (a.centerY = (a.minY + a.maxY) / 2);
                  } else a = Fa(e);
                } else a = r && r.getBBox();
              else a = Fa(e);
              var h = Wa(o, i),
                f = Wa(a, i),
                d = Ya(h, t, e),
                p = Ya(f, e, t),
                g = (function (t) {
                  void 0 === t && (t = []);
                  var e = [],
                    n = [];
                  t.forEach(function (t) {
                    e.push(t.x), n.push(t.y);
                  });
                  var r = Math.min.apply(Math, e),
                    i = Math.max.apply(Math, e),
                    o = Math.min.apply(Math, n),
                    a = Math.max.apply(Math, n);
                  return {
                    centerX: (r + i) / 2,
                    centerY: (o + a) / 2,
                    maxX: i,
                    maxY: a,
                    minX: r,
                    minY: o,
                    height: a - o,
                    width: i - r,
                  };
                })([d, p]),
                v = Xa(h, g),
                y = Xa(f, g),
                m = [];
              m = m.concat(Ha(v)).concat(Ha(y));
              var b = { x: (t.x + e.x) / 2, y: (t.y + e.y) / 2 };
              [g, v, y].forEach(function (t) {
                m = m.concat(
                  (function (t, e) {
                    return (function (t, e) {
                      return e < t.minX || e > t.maxX
                        ? []
                        : [
                            { x: e, y: t.minY },
                            { x: e, y: t.maxY },
                          ];
                    })(t, e.x).concat(
                      (function (t, e) {
                        return e < t.minY || e > t.maxY
                          ? []
                          : [
                              { x: t.minX, y: e },
                              { x: t.maxX, y: e },
                            ];
                      })(t, e.y),
                    );
                  })(t, b).filter(function (t) {
                    return qa(t, h) && qa(t, f);
                  }),
                );
              }),
                [
                  { x: d.x, y: p.y },
                  { x: p.x, y: d.y },
                ].forEach(function (t) {
                  qa(t, h) && qa(t, f) && m.push(t);
                }),
                m.unshift(d),
                m.push(p);
              var x = (function (t, e, n, r, i, o, a) {
                var s = [],
                  u = [e],
                  c = {},
                  l = {},
                  h = {};
                (l[e.id] = 0), (h[e.id] = Za(e, n, e));
                var f,
                  d,
                  p,
                  g,
                  v,
                  y = {};
                for (
                  t.forEach(function (t) {
                    y[t.id] = t;
                  });
                  u.length;

                ) {
                  if (
                    ((f = void 0),
                    (d = 1 / 0),
                    u.forEach(function (t) {
                      h[t.id] <= d && ((d = h[t.id]), (f = t));
                    }),
                    f === n)
                  ) {
                    var m = [];
                    return $a(m, y, c, n.id), m;
                  }
                  (g = f),
                    void 0,
                    (v = (p = u).indexOf(g)) > -1 && p.splice(v, 1),
                    s.push(f),
                    ts(t, f, r, i).forEach(function (t) {
                      if (-1 === s.indexOf(t)) {
                        -1 === u.indexOf(t) && u.push(t);
                        var r = h[f.id] + Ka(f, t);
                        (l[t.id] && r >= l[t.id]) ||
                          ((c[t.id] = f.id),
                          (l[t.id] = r),
                          (h[t.id] = l[t.id] + Za(t, n, e, o, a)));
                      }
                    });
                }
                return [e, n];
              })((m = Ua(m)), d, p, o, a, t, e);
              return x.unshift(t), x.push(e), Va(x);
            },
            rs = {
              offset: 20,
              maxAllowedDirectionChange: Math.PI / 2,
              maximumLoops: 2e3,
              gridSize: 10,
              directions: [
                { stepX: 1, stepY: 0 },
                { stepX: -1, stepY: 0 },
                { stepX: 0, stepY: 1 },
                { stepX: 0, stepY: -1 },
              ],
              get penalties() {
                return { 0: 0, 45: this.gridSize / 2, 90: this.gridSize / 2 };
              },
              distFunc: function (t, e) {
                return Math.abs(t.x - e.x) + Math.abs(t.y - e.y);
              },
              fallbackRoute: function (t, e, n, r, i) {
                return Va(ns(t, e, n, r, i.offset));
              },
            },
            is =
              (Math.PI,
              function (t, e) {
                var n = Math.round(Math.abs(t / e));
                return n < 0 ? 0 : (t < 0 ? -1 : 1) * n;
              }),
            os = function (t, e) {
              var n = e.x - t.x,
                r = e.y - t.y;
              return n || r ? Math.atan2(r, n) : 0;
            },
            as = function (t, e) {
              var n = Math.abs(t - e);
              return n > Math.PI ? 2 * Math.PI - n : n;
            },
            ss = function (t, e, n) {
              for (var r = 1 / 0, i = 0, o = e.length; i < o; i++) {
                var a = n(t, e[i]);
                a < r && (r = a);
              }
              return r;
            },
            us = function (t, e, n, r, i) {
              var o = [];
              if (!n) return [t];
              var a = i.directions,
                s = i.offset,
                u = n.getBBox(),
                c = e.x > u.minX && e.x < u.maxX && e.y > u.minY && e.y < u.maxY,
                h = Wa(u, s);
              for (var f in h) h[f] = is(h[f], i.gridSize);
              if (c) {
                for (var d = 0, p = a; d < p.length; d++) {
                  var g = p[d],
                    v = [
                      [
                        { x: h.minX, y: h.minY },
                        { x: h.maxX, y: h.minY },
                      ],
                      [
                        { x: h.minX, y: h.minY },
                        { x: h.minX, y: h.maxY },
                      ],
                      [
                        { x: h.maxX, y: h.minY },
                        { x: h.maxX, y: h.maxY },
                      ],
                      [
                        { x: h.minX, y: h.maxY },
                        { x: h.maxX, y: h.maxY },
                      ],
                    ];
                  for (f = 0; f < 4; f++) {
                    var y = v[f],
                      m = l.Util.getLineIntersect(
                        t,
                        { x: t.x + g.stepX * h.width, y: t.y + g.stepY * h.height },
                        y[0],
                        y[1],
                      );
                    m && !Ja(t, m, u) && ((m.id = ''.concat(m.x, '|||').concat(m.y)), o.push(m));
                  }
                }
                return o;
              }
              var b = Ya(h, t, r);
              return (b.id = ''.concat(b.x, '|||').concat(b.y)), [b];
            },
            cs = function (t, e, n, r) {
              var i = os(t, e);
              if (!n[t.id]) {
                var o = os(r, t);
                return as(o, i);
              }
              var a = os({ x: n[t.id].x, y: n[t.id].y }, t);
              return as(a, i);
            },
            ls = function (t, e, n, r, i, o, a) {
              var s = [r],
                u = t.id,
                c = t.x,
                l = t.y,
                h = { x: c, y: l, id: u };
              for (
                cs(h, o, e, n) &&
                s.unshift({ x: o.x === r.x ? r.x : h.x * a, y: o.y === r.y ? r.y : h.y * a });
                e[u] && e[u].id !== u;

              ) {
                var f = { x: c, y: l, id: u },
                  d = e[u].id,
                  p = e[u].x,
                  g = e[u].y,
                  v = { x: p, y: g, id: d };
                cs(v, f, e, n) &&
                  s.unshift({
                    x: v.x === f.x ? s[0].x : v.x * a,
                    y: v.y === f.y ? s[0].y : v.y * a,
                  }),
                  (u = d),
                  (c = p),
                  (l = g);
              }
              var y = c,
                m = l;
              return (
                (s[0].x = y === n.x ? i.x : s[0].x),
                (s[0].y = m === n.y ? i.y : s[0].y),
                s.unshift(i),
                s
              );
            };
          (0, l.registerEdge)(
            'polyline',
            {
              options: {
                color: l.BaseGlobal.defaultEdge.color,
                size: l.BaseGlobal.defaultEdge.size,
                style: {
                  radius: 0,
                  offset: 15,
                  x: 0,
                  y: 0,
                  stroke: l.BaseGlobal.defaultEdge.style.stroke,
                  lineAppendWidth: l.BaseGlobal.defaultEdge.style.lineAppendWidth,
                },
                labelCfg: {
                  style: {
                    fill: l.BaseGlobal.edgeLabel.style.fill,
                    fontSize: l.BaseGlobal.edgeLabel.style.fontSize,
                    fontFamily: l.BaseGlobal.windowFontFamily,
                  },
                },
                routeCfg: {
                  obstacles: [],
                  maxAllowedDirectionChange: Math.PI,
                  maximumLoops: 500,
                  gridSize: 10,
                },
                stateStyles: (0, c.__assign)({}, l.BaseGlobal.edgeStateStyles),
              },
              shapeType: 'polyline',
              labelPosition: 'center',
              drawShape: function (t, e) {
                var n = this.getShapeStyle(t);
                0 === n.radius && delete n.radius;
                var r = e.addShape('path', {
                  className: 'edge-shape',
                  name: 'edge-shape',
                  attrs: n,
                });
                return (e.shapeMap['edge-shape'] = r), r;
              },
              getShapeStyle: function (t) {
                var e = this.options.style,
                  n = { stroke: t.color },
                  r = (0, p.mix)({}, e, n, t.style);
                (t = this.getPathPoints(t)), (this.radius = r.radius), (this.offset = r.offset);
                var i = t.startPoint,
                  o = t.endPoint,
                  a = this.getControlPoints(t),
                  s = [i];
                a && (s = s.concat(a)), s.push(o);
                var u = t.sourceNode,
                  c = t.targetNode,
                  h = r.radius,
                  f = this.options.routeCfg,
                  d = (0, p.mix)({}, f, t.routeCfg);
                d.offset = r.offset;
                var g = this.getPath(s, u, c, h, d);
                return (
                  (((0, p.isArray)(g) && g.length <= 1) ||
                    ((0, p.isString)(g) && -1 === g.indexOf('L'))) &&
                    (g = 'M0 0, L0 0'),
                  (isNaN(i.x) || isNaN(i.y) || isNaN(o.x) || isNaN(o.y)) && (g = 'M0 0, L0 0'),
                  (0, p.mix)({}, l.BaseGlobal.defaultEdge.style, r, { lineWidth: t.size, path: g })
                );
              },
              updateShapeStyle: function (t, e) {
                var n = e.getContainer();
                if (e.isVisible()) {
                  var r = { stroke: t.color },
                    i =
                      n.shapeMap['edge-shape'] ||
                      n.find(function (t) {
                        return 'edge-shape' === t.get('className');
                      }) ||
                      e.getKeyShape(),
                    o = t.size,
                    a = (t = this.getPathPoints(t)).startPoint,
                    s = t.endPoint,
                    u = this.getControlPoints(t),
                    c = [a];
                  u && (c = c.concat(u)), c.push(s);
                  var l = i.attr(),
                    h = (0, p.mix)({}, r, l, t.style),
                    f = t.sourceNode,
                    d = t.targetNode,
                    g = h.radius,
                    v = this.options.routeCfg,
                    y = (0, p.mix)({}, v, t.routeCfg);
                  y.offset = h.offset;
                  var m = this.getPath(c, f, d, g, y);
                  (((0, p.isArray)(m) && m.length <= 1) ||
                    ((0, p.isString)(m) && -1 === m.indexOf('L'))) &&
                    (m = 'M0 0, L0 0'),
                    (isNaN(a.x) || isNaN(a.y) || isNaN(s.x) || isNaN(s.y)) && (m = 'M0 0, L0 0'),
                    l.endArrow && !1 === h.endArrow && (t.style.endArrow = { path: '' }),
                    l.startArrow && !1 === h.startArrow && (t.style.startArrow = { path: '' });
                  var b = (0, p.mix)(r, i.attr(), { lineWidth: o, path: m }, t.style);
                  i && i.attr(b);
                }
              },
              getPath: function (t, e, n, r, i) {
                var o = i.offset,
                  a = i.simple;
                if (!o || t.length > 2) {
                  if (r) return es(t, r);
                  var s = [];
                  return (
                    (0, p.each)(t, function (t, e) {
                      0 === e ? s.push(['M', t.x, t.y]) : s.push(['L', t.x, t.y]);
                    }),
                    s
                  );
                }
                var u = a
                  ? ns(t[t.length - 1], t[0], n, e, o)
                  : (function (t, e, n, r, i) {
                      if (isNaN(t.x) || isNaN(e.x)) return [];
                      var o = (0, p.deepMix)(rs, i);
                      o.obstacles = o.obstacles || [];
                      var a = o.gridSize,
                        s = (function (t, e, n) {
                          var r = {};
                          return (
                            t.forEach(function (t) {
                              if (t)
                                for (
                                  var i = Wa(t.getBBox(), n), o = is(i.minX, e);
                                  o <= is(i.maxX, e);
                                  o += 1
                                )
                                  for (var a = is(i.minY, e); a <= is(i.maxY, e); a += 1)
                                    r[''.concat(o, '|||').concat(a)] = !0;
                            }),
                            r
                          );
                        })(o.obstacles.concat([n, r]), a, o.offset),
                        u = { x: is(t.x, a), y: is(t.y, a) },
                        c = { x: is(e.x, a), y: is(e.y, a) };
                      (t.id = ''.concat(u.x, '|||').concat(u.y)),
                        (e.id = ''.concat(c.x, '|||').concat(c.y));
                      var l = us(u, t, n, c, o),
                        h = us(c, e, r, u, o);
                      l.forEach(function (t) {
                        delete s[t.id];
                      }),
                        h.forEach(function (t) {
                          delete s[t.id];
                        });
                      for (var f = {}, d = {}, g = {}, v = {}, y = {}, m = 0; m < l.length; m++) {
                        var b = l[m];
                        (f[b.id] = b), (v[b.id] = 0), (y[b.id] = ss(b, h, o.distFunc));
                      }
                      for (
                        var x, _, w, E, S, M, k, A = o.maximumLoops, C = o.penalties;
                        Object.keys(f).length > 0 &&
                        A > 0 &&
                        ((x = void 0),
                        (_ = 1 / 0),
                        Object.keys(f).forEach(function (t) {
                          var e = f[t].id;
                          y[e] <= _ && ((_ = y[e]), (x = f[e]));
                        }),
                        x);

                      ) {
                        if (
                          h.findIndex(function (t) {
                            return t.x === x.x && t.y === x.y;
                          }) > -1
                        )
                          return ls(x, g, u, e, t, c, a);
                        for (delete f[x.id], d[x.id] = !0, m = 0; m < o.directions.length; m++)
                          (w = o.directions[m]),
                            d[
                              (E = {
                                x: x.x + w.stepX,
                                y: x.y + w.stepY,
                                id: ''
                                  .concat(Math.round(x.x) + w.stepX, '|||')
                                  .concat(Math.round(x.y) + w.stepY),
                              }).id
                            ] ||
                              (k = cs(x, E, g, u)) > o.maxAllowedDirectionChange ||
                              s[E.id] ||
                              (f[E.id] || (f[E.id] = E),
                              (S = o.distFunc(x, E) + (isNaN(C[k]) ? a : C[k])),
                              (M = v[x.id] + S),
                              (v[E.id] && M >= v[E.id]) ||
                                ((g[E.id] = x),
                                (v[E.id] = M),
                                (y[E.id] = M + ss(E, h, o.distFunc))));
                        A -= 1;
                      }
                      return o.fallbackRoute(t, e, n, r, o);
                    })(t[0], t[t.length - 1], e, n, i);
                return u && u.length ? (r ? es(u, r) : l.Util.pointsToPolygon(u)) : 'M0 0, L0 0';
              },
            },
            'single-edge',
          );
          var hs = kn.cloneEvent,
            fs = kn.isNaN,
            ds = Math.abs,
            ps = ['shift', 'ctrl', 'alt', 'control'];
          const gs = {
              getDefaultCfg: function () {
                return {
                  direction: 'both',
                  enableOptimize: !1,
                  scalableRange: 0,
                  allowDragOnItem: !1,
                };
              },
              getEvents: function () {
                return {
                  dragstart: 'onMouseDown',
                  drag: 'onMouseMove',
                  dragend: 'onMouseUp',
                  'canvas:click': 'onMouseUp',
                  keyup: 'onKeyUp',
                  focus: 'onKeyUp',
                  keydown: 'onKeyDown',
                  touchstart: 'onTouchStart',
                  touchmove: 'onTouchMove',
                  touchend: 'onMouseUp',
                };
              },
              updateViewport: function (t) {
                var e = this.origin,
                  n = +t.clientX,
                  r = +t.clientY;
                if (!fs(n) && !fs(r)) {
                  var i = n - e.x,
                    o = r - e.y;
                  'x' === this.get('direction')
                    ? (o = 0)
                    : 'y' === this.get('direction') && (i = 0),
                    (this.origin = { x: n, y: r });
                  var a = this.graph.get('width'),
                    s = this.graph.get('height'),
                    u = this.graph.get('canvas').getCanvasBBox(),
                    c = this.scalableRange,
                    l = this.scalableRange;
                  c < 1 && c > -1 && ((c *= a), (l *= s)),
                    ((u.minX <= a + c && u.minX + i > a + c) ||
                      (u.maxX + c >= 0 && u.maxX + c + i < 0)) &&
                      (i = 0),
                    ((u.minY <= s + l && u.minY + o > s + l) ||
                      (u.maxY + l >= 0 && u.maxY + l + o < 0)) &&
                      (o = 0),
                    this.graph.translate(i, o);
                }
              },
              onTouchStart: function (t) {
                var e = t.originalEvent.touches,
                  n = e[0],
                  r = e[1];
                (n && r) || (t.preventDefault(), this.onMouseDown(t));
              },
              onMouseDown: function (t) {
                var e = this,
                  n = t.originalEvent;
                if (
                  (!n || 'touchstart' === t.name || 0 === n.button) &&
                  ('touchstart' === t.name ||
                    'undefined' == typeof window ||
                    !window.event ||
                    window.event.buttons ||
                    window.event.button) &&
                  this.shouldBegin.call(this, t) &&
                  !e.keydown
                ) {
                  var r = t.target,
                    i = r && r.isCanvas && r.isCanvas();
                  if (
                    (this.allowDragOnItem || i) &&
                    ((e.origin = { x: t.clientX, y: t.clientY }),
                    (e.dragging = !1),
                    this.enableOptimize)
                  ) {
                    for (var o = this.graph, a = o.getEdges(), s = 0, u = a.length; s < u; s++) {
                      var c = a[s].get('group').get('children');
                      c &&
                        c.forEach(function (t) {
                          t.set('ori-visibility', t.get('ori-visibility') || t.get('visible')),
                            t.hide();
                        });
                    }
                    for (var l = o.getNodes(), h = 0, f = l.length; h < f; h++)
                      for (var d = 0, p = l[h].getContainer().get('children'); d < p.length; d++) {
                        var g = p[d];
                        g.get('isKeyShape') ||
                          (g.set('ori-visibility', g.get('ori-visibility') || g.get('visible')),
                          g.hide());
                      }
                  }
                }
              },
              onTouchMove: function (t) {
                var e = t.originalEvent.touches,
                  n = e[0],
                  r = e[1];
                n && r ? this.onMouseUp(t) : (t.preventDefault(), this.onMouseMove(t));
              },
              onMouseMove: function (t) {
                var e = this.graph;
                if (!this.keydown) {
                  var n = t.target,
                    r = n && n.isCanvas && n.isCanvas();
                  if ((this.allowDragOnItem || r) && ((t = hs(t)), this.origin)) {
                    if (this.dragging) (t.type = 'drag'), e.emit('canvas:drag', t);
                    else {
                      if (ds(this.origin.x - t.clientX) + ds(this.origin.y - t.clientY) < 10)
                        return;
                      this.shouldBegin.call(this, t) &&
                        ((t.type = 'dragstart'),
                        e.emit('canvas:dragstart', t),
                        (this.originPosition = { x: t.clientX, y: t.clientY }),
                        (this.dragging = !0));
                    }
                    this.shouldUpdate.call(this, t) && this.updateViewport(t);
                  }
                }
              },
              onMouseUp: function (t) {
                var e,
                  n,
                  r = this.graph;
                if (!this.keydown) {
                  var i = r.getZoom(),
                    o = r.get('modeController'),
                    a =
                      null ===
                        (n =
                          null === (e = null == o ? void 0 : o.modes[o.mode]) || void 0 === e
                            ? void 0
                            : e.filter(function (t) {
                                return 'zoom-canvas' === t.type;
                              })) || void 0 === n
                        ? void 0
                        : n[0],
                    s = a ? a.optimizeZoom || 0.1 : 0;
                  if (this.enableOptimize) {
                    for (var u = r.getEdges(), c = 0, l = u.length; c < l; c++) {
                      var h = u[c].get('group').get('children');
                      h &&
                        h.forEach(function (t) {
                          t.get('ori-visibility') && t.show();
                        });
                    }
                    if (i > s)
                      for (var f = r.getNodes(), d = 0, p = f.length; d < p; d++)
                        for (
                          var g = 0, v = f[d].getContainer().get('children');
                          g < v.length;
                          g++
                        ) {
                          var y = v[g];
                          y.get('isKeyShape') || (y.get('ori-visibility') && y.show());
                        }
                  }
                  this.dragging
                    ? ((t = hs(t)),
                      this.shouldEnd.call(this, t) && this.updateViewport(t),
                      (t.type = 'dragend'),
                      (t.dx = t.clientX - this.originPosition.x),
                      (t.dy = t.clientY - this.originPosition.y),
                      r.emit('canvas:dragend', t),
                      this.endDrag())
                    : (this.origin = null);
                }
              },
              endDrag: function () {
                (this.origin = null), (this.dragging = !1), (this.dragbegin = !1);
              },
              onKeyDown: function (t) {
                var e = t.key;
                e && (ps.indexOf(e.toLowerCase()) > -1 ? (this.keydown = !0) : (this.keydown = !1));
              },
              onKeyUp: function () {
                (this.keydown = !1),
                  (this.origin = null),
                  (this.dragging = !1),
                  (this.dragbegin = !1);
              },
            },
            vs = {
              getDefaultCfg: function () {
                return {
                  updateEdge: !0,
                  delegateStyle: {},
                  enableDelegate: !1,
                  onlyChangeComboSize: !1,
                  comboActiveState: '',
                  selectedState: 'selected',
                  enableOptimize: !1,
                  enableDebounce: !1,
                  enableStack: !0,
                };
              },
              getEvents: function () {
                return {
                  'node:dragstart': 'onDragStart',
                  'node:drag': 'onDrag',
                  'node:dragend': 'onDragEnd',
                  'combo:dragenter': 'onDragEnter',
                  'combo:dragleave': 'onDragLeave',
                  'combo:drop': 'onDropCombo',
                  'node:drop': 'onDropNode',
                  'canvas:drop': 'onDropCanvas',
                  touchstart: 'onTouchStart',
                  touchmove: 'onTouchMove',
                  touchend: 'onDragEnd',
                };
              },
              validationCombo: function (t) {
                return !(!this.origin || !t || t.destroyed) && 'combo' === t.getType();
              },
              onTouchStart: function (t) {
                if (t.item) {
                  try {
                    var e = t.originalEvent.touches,
                      n = e[0],
                      r = e[1];
                    if (n && r) return;
                    t.preventDefault();
                  } catch (t) {
                    console.warn('Touch original event not exist!');
                  }
                  this.onDragStart(t);
                }
              },
              onTouchMove: function (t) {
                try {
                  var e = t.originalEvent.touches,
                    n = e[0],
                    r = e[1];
                  if (n && r) return void this.onDragEnd(t);
                  t.preventDefault();
                } catch (t) {
                  console.warn('Touch original event not exist!');
                }
                this.onDrag(t);
              },
              onDragStart: function (t) {
                var e = this;
                if (((this.currentShouldEnd = !0), this.shouldBegin.call(this, t))) {
                  var n = t.item;
                  if (n && !n.destroyed && !n.hasLocked()) {
                    n.getContainer().set('capture', !1),
                      this.cachedCaptureItems || (this.cachedCaptureItems = []),
                      this.cachedCaptureItems.push(n);
                    var r = t.target;
                    if (r && r.get('isAnchorPoint')) return;
                    var i = this.graph;
                    (this.targets = []), (this.targetCombo = null);
                    var o = i.findAllByState('node', this.selectedState),
                      a = n.get('id');
                    0 ===
                    o.filter(function (t) {
                      var e = t.get('id');
                      return a === e;
                    }).length
                      ? this.targets.push(n)
                      : o.length > 1
                      ? o.forEach(function (t) {
                          t.hasLocked() || e.targets.push(t);
                        })
                      : this.targets.push(n);
                    var s = [];
                    this.targets.forEach(function (t) {
                      s.push((0, p.clone)(t.getModel()));
                    }),
                      this.set('beforeDragNodes', s),
                      (this.hidenEdge = {}),
                      this.get('updateEdge') &&
                        this.enableOptimize &&
                        !this.enableDelegate &&
                        this.targets.forEach(function (t) {
                          t.getEdges().forEach(function (t) {
                            t.isVisible() && ((e.hidenEdge[t.getID()] = !0), t.hide());
                          });
                        }),
                      (this.origin = { x: t.x, y: t.y }),
                      (this.point = {}),
                      (this.originPoint = {});
                  }
                }
              },
              onDrag: function (t) {
                var e = this;
                this.origin &&
                  this.shouldUpdate.call(this, t) &&
                  (this.get('enableDelegate')
                    ? this.updateDelegate(t)
                    : this.enableDebounce
                    ? this.debounceUpdate({
                        targets: this.targets,
                        graph: this.graph,
                        point: this.point,
                        origin: this.origin,
                        evt: t,
                        updateEdge: this.get('updateEdge'),
                      })
                    : this.targets.map(function (n) {
                        e.update(n, t);
                      }));
              },
              onDragEnd: function (t) {
                var e,
                  n = this;
                if (this.origin) {
                  null === (e = this.cachedCaptureItems) ||
                    void 0 === e ||
                    e.forEach(function (t) {
                      t.getContainer().set('capture', !0);
                    }),
                    (this.cachedCaptureItems = []),
                    this.delegateRect && (this.delegateRect.remove(), (this.delegateRect = null)),
                    this.get('updateEdge') &&
                      this.enableOptimize &&
                      !this.enableDelegate &&
                      this.targets.forEach(function (t) {
                        t.getEdges().forEach(function (t) {
                          n.hidenEdge[t.getID()] && t.show(), t.refresh();
                        });
                      }),
                    (this.hidenEdge = {});
                  var r = this.graph;
                  if (r.get('enabledStack') && this.enableStack) {
                    var i = {
                      before: { nodes: [], edges: [], combos: [] },
                      after: { nodes: [], edges: [], combos: [] },
                    };
                    this.get('beforeDragNodes').forEach(function (t) {
                      i.before.nodes.push({ id: t.id, x: t.x, y: t.y });
                    }),
                      this.targets.forEach(function (t) {
                        var e = t.getModel();
                        i.after.nodes.push({ id: e.id, x: e.x, y: e.y });
                      }),
                      r.pushStack('update', (0, p.clone)(i));
                  }
                  r.emit('dragnodeend', { items: this.targets, targetItem: null }),
                    (this.point = {}),
                    (this.origin = null),
                    (this.originPoint = {}),
                    (this.targets.length = 0),
                    (this.targetCombo = null);
                }
              },
              onDropCombo: function (t) {
                var e = t.item;
                if (
                  ((this.currentShouldEnd = this.shouldEnd.call(this, t, e)),
                  this.updatePositions(t, !this.currentShouldEnd),
                  this.currentShouldEnd && this.validationCombo(e))
                ) {
                  var n = this.graph;
                  if (
                    (this.comboActiveState && n.setItemState(e, this.comboActiveState, !1),
                    (this.targetCombo = e),
                    this.onlyChangeComboSize)
                  )
                    n.updateCombos();
                  else {
                    var r = e.getModel();
                    this.targets.map(function (t) {
                      t.getModel().comboId !== r.id && n.updateComboTree(t, r.id);
                    }),
                      n.updateCombo(e);
                  }
                  n.emit('dragnodeend', { items: this.targets, targetItem: this.targetCombo });
                }
              },
              onDropCanvas: function (t) {
                var e = this.graph;
                (this.currentShouldEnd = this.shouldEnd.call(this, t, void 0)),
                  this.updatePositions(t, !this.currentShouldEnd),
                  this.targets &&
                    0 !== this.targets.length &&
                    this.currentShouldEnd &&
                    (this.onlyChangeComboSize
                      ? e.updateCombos()
                      : this.targets.map(function (t) {
                          t.getModel().comboId && e.updateComboTree(t);
                        }));
              },
              onDropNode: function (t) {
                if (this.targets && 0 !== this.targets.length) {
                  var e = this,
                    n = t.item,
                    r = e.graph,
                    i = n.getModel().comboId,
                    o = i ? r.findById(i) : void 0;
                  if (
                    ((this.currentShouldEnd = this.shouldEnd.call(this, t, o)),
                    this.updatePositions(t, !this.currentShouldEnd),
                    this.currentShouldEnd)
                  ) {
                    if (this.onlyChangeComboSize) r.updateCombos();
                    else if (i) {
                      var a = r.findById(i);
                      e.comboActiveState && r.setItemState(a, e.comboActiveState, !1),
                        this.targets.map(function (t) {
                          var e = t.getModel();
                          i !== e.comboId && r.updateComboTree(t, i);
                        }),
                        r.updateCombo(a);
                    } else
                      this.targets.map(function (t) {
                        t.getModel().comboId && r.updateComboTree(t);
                      });
                    r.emit('dragnodeend', { items: this.targets, targetItem: n });
                  }
                }
              },
              onDragEnter: function (t) {
                var e = t.item;
                if (this.validationCombo(e)) {
                  var n = this.graph;
                  this.comboActiveState && n.setItemState(e, this.comboActiveState, !0);
                }
              },
              onDragLeave: function (t) {
                var e = t.item;
                if (this.validationCombo(e)) {
                  var n = this.graph;
                  this.comboActiveState && n.setItemState(e, this.comboActiveState, !1);
                }
              },
              updatePositions: function (t, e) {
                var n = this;
                this.targets &&
                  0 !== this.targets.length &&
                  (this.get('enableDelegate')
                    ? this.enableDebounce
                      ? this.debounceUpdate({
                          targets: this.targets,
                          graph: this.graph,
                          point: this.point,
                          origin: this.origin,
                          evt: t,
                          updateEdge: this.get('updateEdge'),
                          updateFunc: this.update,
                        })
                      : e ||
                        this.targets.map(function (e) {
                          return n.update(e, t);
                        })
                    : this.targets.map(function (r) {
                        return n.update(r, t, e);
                      }));
              },
              update: function (t, e, n) {
                var r = this.origin,
                  i = t.get('model'),
                  o = t.get('id');
                this.point[o] || (this.point[o] = { x: i.x || 0, y: i.y || 0 });
                var a = e.x - r.x + this.point[o].x,
                  s = e.y - r.y + this.point[o].y;
                n && ((a += r.x - e.x), (s += r.y - e.y));
                var u = { x: a, y: s };
                this.get('updateEdge') ? this.graph.updateItem(t, u, !1) : t.updatePosition(u);
              },
              debounceUpdate: (0, p.debounce)(
                function (t) {
                  var e = t.targets,
                    n = t.graph,
                    r = t.point,
                    i = t.origin,
                    o = t.evt,
                    a = t.updateEdge;
                  t.updateFunc,
                    e.map(function (t) {
                      var e = t.get('model'),
                        s = t.get('id');
                      r[s] || (r[s] = { x: e.x || 0, y: e.y || 0 });
                      var u = { x: o.x - i.x + r[s].x, y: o.y - i.y + r[s].y };
                      a ? n.updateItem(t, u, !1) : t.updatePosition(u);
                    });
                },
                50,
                !0,
              ),
              updateDelegate: function (t) {
                var e = this.graph;
                if (this.delegateRect) {
                  var n = t.x - this.origin.x + this.originPoint.minX,
                    r = t.y - this.origin.y + this.originPoint.minY;
                  this.delegateRect.attr({ x: n, y: r });
                } else {
                  var i = e.get('group'),
                    o = (0, p.deepMix)({}, un.delegateStyle, this.delegateStyle),
                    a = this.calculationGroupPosition(t),
                    s = a.x,
                    u = a.y,
                    l = a.width,
                    h = a.height,
                    f = a.minX,
                    d = a.minY;
                  (this.originPoint = { x: s, y: u, width: l, height: h, minX: f, minY: d }),
                    (this.delegateRect = i.addShape('rect', {
                      attrs: (0, c.__assign)({ width: l, height: h, x: s, y: u }, o),
                      name: 'rect-delegate-shape',
                    })),
                    (this.delegate = this.delegateRect),
                    this.delegateRect.set('capture', !1);
                }
              },
              calculationGroupPosition: function (t) {
                var e = this.targets;
                0 === e.length && e.push(t.item);
                for (var n = 1 / 0, r = -1 / 0, i = 1 / 0, o = -1 / 0, a = 0; a < e.length; a++) {
                  var s = e[a].getBBox(),
                    u = s.minX,
                    c = s.minY,
                    l = s.maxX,
                    h = s.maxY;
                  u < n && (n = u), c < i && (i = c), l > r && (r = l), h > o && (o = h);
                }
                return {
                  x: Math.floor(n),
                  y: Math.floor(i),
                  width: Math.ceil(r) - Math.floor(n),
                  height: Math.ceil(o) - Math.floor(i),
                  minX: n,
                  minY: i,
                };
              },
            },
            ys = {
              getDefaultCfg: function () {
                return {
                  trigger: 'mouseenter',
                  activeState: 'active',
                  inactiveState: 'inactive',
                  resetSelected: !1,
                  shouldUpdate: function () {
                    return !0;
                  },
                };
              },
              getEvents: function () {
                return 'mouseenter' === this.get('trigger')
                  ? {
                      'node:mouseenter': 'setAllItemStates',
                      'combo:mouseenter': 'setAllItemStates',
                      'node:mouseleave': 'clearActiveState',
                      'combo:mouseleave': 'clearActiveState',
                    }
                  : {
                      'node:click': 'setAllItemStates',
                      'combo:click': 'setAllItemStates',
                      'canvas:click': 'clearActiveState',
                      'node:touchstart': 'setOnTouchStart',
                      'combo:touchstart': 'setOnTouchStart',
                      'canvas:touchstart': 'clearOnTouchStart',
                    };
              },
              setOnTouchStart: function (t) {
                try {
                  var e = t.originalEvent.touches,
                    n = e[0],
                    r = e[1];
                  if (n && r) return;
                  t.preventDefault();
                } catch (t) {
                  console.warn('Touch original event not exist!');
                }
                this.setAllItemStates(t);
              },
              clearOnTouchStart: function (t) {
                try {
                  var e = t.originalEvent.touches,
                    n = e[0],
                    r = e[1];
                  if (n && r) return;
                  t.preventDefault();
                } catch (t) {
                  console.warn('Touch original event not exist!');
                }
                this.clearActiveState(t);
              },
              setAllItemStates: function (t) {
                var e = t.item,
                  n = this.graph;
                if (
                  ((this.item = e), this.shouldUpdate(t.item, { event: t, action: 'activate' }))
                ) {
                  for (
                    var r = this.activeState,
                      i = this.inactiveState,
                      o = n.getNodes(),
                      a = n.getCombos(),
                      s = n.getEdges(),
                      u = n.get('vedges'),
                      c = o.length,
                      l = a.length,
                      h = s.length,
                      f = u.length,
                      d = 0;
                    d < c;
                    d++
                  ) {
                    var p = o[d],
                      g = p.hasState('selected');
                    this.resetSelected && g && n.setItemState(p, 'selected', !1),
                      n.setItemState(p, r, !1),
                      i && n.setItemState(p, i, !0);
                  }
                  for (d = 0; d < l; d++) {
                    var v = a[d];
                    (g = v.hasState('selected')),
                      this.resetSelected && g && n.setItemState(v, 'selected', !1),
                      n.setItemState(v, r, !1),
                      i && n.setItemState(v, i, !0);
                  }
                  for (d = 0; d < h; d++) {
                    var y = s[d];
                    n.setItemState(y, r, !1), i && n.setItemState(y, i, !0);
                  }
                  for (d = 0; d < f; d++) {
                    var m = u[d];
                    n.setItemState(m, r, !1), i && n.setItemState(m, i, !0);
                  }
                  i && n.setItemState(e, i, !1), n.setItemState(e, r, !0);
                  var b = e.getEdges(),
                    x = b.length;
                  for (d = 0; d < x; d++) {
                    var _;
                    (_ = (y = b[d]).getSource() === e ? y.getTarget() : y.getSource()),
                      i && n.setItemState(_, i, !1),
                      n.setItemState(_, r, !0),
                      n.setItemState(y, i, !1),
                      n.setItemState(y, r, !0),
                      y.toFront();
                  }
                  n.emit('afteractivaterelations', { item: t.item, action: 'activate' });
                }
              },
              clearActiveState: function (t) {
                var e = this,
                  n = e.get('graph');
                if (e.shouldUpdate(t.item, { event: t, action: 'deactivate' })) {
                  var r = this.activeState,
                    i = this.inactiveState,
                    o = n.get('autoPaint');
                  n.setAutoPaint(!1);
                  for (
                    var a = n.getNodes() || [],
                      s = n.getCombos() || [],
                      u = n.getEdges() || [],
                      c = n.get('vedges') || [],
                      l = a.length,
                      h = s.length,
                      f = u.length,
                      d = c.length,
                      p = 0;
                    p < l;
                    p++
                  ) {
                    var g = a[p];
                    n.clearItemStates(g, [r, i]);
                  }
                  for (p = 0; p < h; p++) {
                    var v = s[p];
                    n.clearItemStates(v, [r, i]);
                  }
                  for (p = 0; p < f; p++) {
                    var y = u[p];
                    n.clearItemStates(y, [r, i, 'deactivate']);
                  }
                  for (p = 0; p < d; p++) {
                    var m = c[p];
                    n.clearItemStates(m, [r, i, 'deactivate']);
                  }
                  n.paint(),
                    n.setAutoPaint(o),
                    n.emit('afteractivaterelations', {
                      item: t.item || e.get('item'),
                      action: 'deactivate',
                    });
                }
              },
            };
          var ms = Math.min,
            bs = Math.max,
            xs = Math.abs,
            _s = 'shift',
            ws = ['drag', 'shift', 'ctrl', 'alt', 'control'];
          const Es = {
            getDefaultCfg: function () {
              return {
                brushStyle: { fill: '#EEF6FF', fillOpacity: 0.4, stroke: '#DDEEFE', lineWidth: 1 },
                onSelect: function () {},
                onDeselect: function () {},
                selectedState: 'selected',
                trigger: _s,
                includeEdges: !0,
                selectedEdges: [],
                selectedNodes: [],
              };
            },
            getEvents: function () {
              return (
                ws.indexOf(this.trigger.toLowerCase()) > -1 ||
                  ((this.trigger = _s),
                  console.warn(
                    "Behavior brush-select 的 trigger 参数不合法，请输入 'drag'、'shift'、'ctrl' 或 'alt'",
                  )),
                'drag' === this.trigger
                  ? {
                      dragstart: 'onMouseDown',
                      drag: 'onMouseMove',
                      dragend: 'onMouseUp',
                      'canvas:click': 'clearStates',
                    }
                  : {
                      dragstart: 'onMouseDown',
                      drag: 'onMouseMove',
                      dragend: 'onMouseUp',
                      'canvas:click': 'clearStates',
                      keyup: 'onKeyUp',
                      keydown: 'onKeyDown',
                    }
              );
            },
            onMouseDown: function (t) {
              var e = t.item,
                n = this.brush;
              e ||
                (('drag' === this.trigger || this.keydown) &&
                  (this.selectedNodes && 0 !== this.selectedNodes.length && this.clearStates(),
                  n || (n = this.createBrush()),
                  (this.originPoint = { x: t.canvasX, y: t.canvasY }),
                  n.attr({ width: 0, height: 0 }),
                  n.show(),
                  (this.dragging = !0)));
            },
            onMouseMove: function (t) {
              this.dragging && ('drag' === this.trigger || this.keydown) && this.updateBrush(t);
            },
            onMouseUp: function (t) {
              this.graph,
                (this.brush || this.dragging) &&
                  ('drag' === this.trigger || this.keydown) &&
                  (this.brush.remove(!0),
                  (this.brush = null),
                  this.getSelectedNodes(t),
                  (this.dragging = !1));
            },
            clearStates: function () {
              var t = this.graph,
                e = this.selectedState,
                n = t.findAllByState('node', e),
                r = t.findAllByState('edge', e);
              n.forEach(function (n) {
                return t.setItemState(n, e, !1);
              }),
                r.forEach(function (n) {
                  return t.setItemState(n, e, !1);
                }),
                (this.selectedNodes = []),
                (this.selectedEdges = []),
                this.onDeselect && this.onDeselect(this.selectedNodes, this.selectedEdges),
                t.emit('nodeselectchange', { selectedItems: { nodes: [], edges: [] }, select: !1 });
            },
            getSelectedNodes: function (t) {
              var e = this,
                n = this,
                r = n.graph,
                i = n.originPoint,
                o = n.shouldUpdate,
                a = this.selectedState,
                s = { x: t.x, y: t.y },
                u = r.getPointByCanvas(i.x, i.y),
                c = ms(s.x, u.x),
                l = bs(s.x, u.x),
                h = ms(s.y, u.y),
                f = bs(s.y, u.y),
                d = [],
                p = [];
              r.getNodes().forEach(function (t) {
                if (t.isVisible()) {
                  var e = t.getBBox();
                  if (
                    e.centerX >= c &&
                    e.centerX <= l &&
                    e.centerY >= h &&
                    e.centerY <= f &&
                    o(t, 'select')
                  ) {
                    d.push(t);
                    var n = t.getModel();
                    p.push(n.id), r.setItemState(t, a, !0);
                  }
                }
              });
              var g = [];
              this.includeEdges &&
                d.forEach(function (t) {
                  t.getOutEdges().forEach(function (t) {
                    if (t.isVisible()) {
                      var n = t.getModel(),
                        i = n.source,
                        a = n.target;
                      p.includes(i) &&
                        p.includes(a) &&
                        o(t, 'select') &&
                        (g.push(t), r.setItemState(t, e.selectedState, !0));
                    }
                  });
                }),
                (this.selectedEdges = g),
                (this.selectedNodes = d),
                this.onSelect && this.onSelect(d, g),
                r.emit('nodeselectchange', { selectedItems: { nodes: d, edges: g }, select: !0 });
            },
            createBrush: function () {
              var t = this.graph
                .get('canvas')
                .addShape('rect', { attrs: this.brushStyle, capture: !1, name: 'brush-shape' });
              return (this.brush = t), (this.delegate = t), t;
            },
            updateBrush: function (t) {
              var e = this.originPoint;
              this.brush.attr({
                width: xs(t.canvasX - e.x),
                height: xs(t.canvasY - e.y),
                x: ms(t.canvasX, e.x),
                y: ms(t.canvasY, e.y),
              });
            },
            onKeyDown: function (t) {
              var e = t.key;
              if (e) {
                var n = this.trigger.toLowerCase(),
                  r = e.toLowerCase();
                this.keydown =
                  r === n || ('control' === r && 'ctrl' === n) || ('ctrl' === r && 'control' === n);
              }
            },
            onKeyUp: function () {
              this.brush && (this.brush.remove(!0), (this.brush = null), (this.dragging = !1)),
                (this.keydown = !1);
            },
          };
          var Ss = 'shift',
            Ms = ['shift', 'ctrl', 'alt', 'control'];
          const ks = {
            getDefaultCfg: function () {
              return { multiple: !0, trigger: Ss, selectedState: 'selected' };
            },
            getEvents: function () {
              var t = this;
              return (
                Ms.indexOf(t.trigger.toLowerCase()) > -1 ||
                  ((t.trigger = Ss),
                  console.warn(
                    "Behavior brush-select 的 trigger 参数不合法，请输入 'drag'、'shift'、'ctrl' 或 'alt'",
                  )),
                t.multiple
                  ? {
                      'node:click': 'onClick',
                      'combo:click': 'onClick',
                      'canvas:click': 'onCanvasClick',
                      keyup: 'onKeyUp',
                      keydown: 'onKeyDown',
                    }
                  : {
                      'node:click': 'onClick',
                      'combo:click': 'onClick',
                      'canvas:click': 'onCanvasClick',
                    }
              );
            },
            onClick: function (t) {
              var e = this,
                n = t.item;
              if (n && !n.destroyed) {
                n.getType();
                var r = e.graph,
                  i = e.keydown,
                  o = e.multiple,
                  a = e.shouldUpdate;
                if (e.shouldBegin.call(e, t)) {
                  if (!i || !o) {
                    var s = r
                      .findAllByState('node', e.selectedState)
                      .concat(r.findAllByState('combo', e.selectedState));
                    (0, p.each)(s, function (t) {
                      t !== n && r.setItemState(t, e.selectedState, !1);
                    });
                  }
                  if (n.hasState(e.selectedState)) {
                    a.call(e, t) && r.setItemState(n, e.selectedState, !1);
                    var u = r.findAllByState('node', e.selectedState),
                      c = r.findAllByState('combo', e.selectedState);
                    r.emit('nodeselectchange', {
                      target: n,
                      selectedItems: { nodes: u, combos: c },
                      select: !1,
                    });
                  } else
                    a.call(e, t) && r.setItemState(n, e.selectedState, !0),
                      (u = r.findAllByState('node', e.selectedState)),
                      (c = r.findAllByState('combo', e.selectedState)),
                      r.emit('nodeselectchange', {
                        target: n,
                        selectedItems: { nodes: u, combos: c },
                        select: !0,
                      });
                }
              }
            },
            onCanvasClick: function (t) {
              var e = this,
                n = this.graph;
              if (this.shouldBegin.call(this, t)) {
                var r = n.findAllByState('node', this.selectedState);
                (0, p.each)(r, function (t) {
                  n.setItemState(t, e.selectedState, !1);
                });
                var i = n.findAllByState('combo', this.selectedState);
                (0, p.each)(i, function (t) {
                  n.setItemState(t, e.selectedState, !1);
                }),
                  n.emit('nodeselectchange', {
                    selectedItems: { nodes: [], edges: [], combos: [] },
                    select: !1,
                  });
              }
            },
            onKeyDown: function (t) {
              var e = t.key;
              e &&
                (e.toLowerCase() === this.trigger.toLowerCase() || 'control' === e.toLowerCase()
                  ? (this.keydown = !0)
                  : (this.keydown = !1));
            },
            onKeyUp: function () {
              this.keydown = !1;
            },
          };
          var As = mt.transform;
          const Cs = {
              getDefaultCfg: function () {
                return {
                  sensitivity: 2,
                  minZoom: void 0,
                  maxZoom: void 0,
                  enableOptimize: !1,
                  optimizeZoom: 0.1,
                  fixSelectedItems: {
                    fixAll: !1,
                    fixLineWidth: !1,
                    fixLabel: !1,
                    fixState: 'selected',
                  },
                  animate: !1,
                  animateCfg: { duration: 500 },
                };
              },
              getEvents: function () {
                var t = this.fixSelectedItems;
                return (
                  t.fixState || (t.fixState = 'selected'),
                  t.fixAll && ((t.fixLineWidth = !0), (t.fixLabel = !0)),
                  {
                    wheel: 'onWheel',
                    touchstart: 'onTouchStart',
                    touchmove: 'onTouchMove',
                    touchend: 'onTouchEnd',
                  }
                );
              },
              onTouchStart: function (t) {
                var e = t.originalEvent.touches,
                  n = e[0],
                  r = e[1];
                t.preventDefault(),
                  r &&
                    ((this.shouldBegin && !this.shouldBegin.call(this, t)) ||
                      ((this.startPoint = { pageX: n.pageX, pageY: n.pageY }),
                      (this.moveable = !0),
                      r && (this.endPoint = { pageX: r.pageX, pageY: r.pageY }),
                      (this.originScale = this.graph.getZoom() || this.currentScale || 1)));
              },
              onTouchMove: function (t) {
                if (this.moveable) {
                  t.preventDefault();
                  var e = t.originalEvent.touches,
                    n = e[0],
                    r = e[1];
                  if (r) {
                    this.endPoint || (this.endPoint = { pageX: r.pageX, pageY: r.pageY });
                    var i = function (t, e) {
                        return Math.hypot(e.x - t.x, e.y - t.y);
                      },
                      o =
                        i({ x: n.pageX, y: n.pageY }, { x: r.pageX, y: r.pageY }) /
                        i(
                          { x: this.startPoint.pageX, y: this.startPoint.pageY },
                          { x: this.endPoint.pageX, y: this.endPoint.pageY },
                        ),
                      a = this.originScale * o;
                    this.currentScale = a;
                    var s = this.get('minZoom') || this.graph.get('minZoom');
                    if (!(a > (this.get('maxZoom') || this.graph.get('maxZoom')) || a < s)) {
                      var u = this.get('animate'),
                        c = this.get('animateCfg'),
                        l = this.graph.get('canvas').getPointByClient(t.clientX, t.clientY);
                      this.graph.zoomTo(a, { x: l.x, y: l.y }, u, c),
                        this.graph.emit('wheelzoom', t);
                    }
                  }
                }
              },
              onTouchEnd: function () {
                (this.moveable = !1), (this.endPoint = null);
              },
              onWheel: function (t) {
                var e = this,
                  n = this.graph,
                  r = this.fixSelectedItems;
                if (
                  (!this.shouldBegin || this.shouldBegin.call(this, t)) &&
                  this.shouldUpdate.call(this, t)
                ) {
                  t.preventDefault();
                  var i,
                    o = n.get('canvas').getPointByClient(t.clientX, t.clientY),
                    a = this.get('sensitivity'),
                    s = n.getZoom();
                  i = s * (t.wheelDelta < 0 ? 1 - 0.05 * a : 1 / (1 - 0.05 * a));
                  var u = this.get('minZoom') || n.get('minZoom');
                  if (!(i > (this.get('maxZoom') || n.get('maxZoom')) || i < u)) {
                    if (this.get('enableOptimize')) {
                      var c = this.get('optimizeZoom'),
                        l = this.get('optimized'),
                        h = n.getNodes(),
                        f = n.getEdges(),
                        d = h.length,
                        g = f.length;
                      if (!l) {
                        for (var v = 0; v < d; v++)
                          if (!(k = h[v]).destroyed)
                            for (
                              var y = (q = k.get('group').get('children')).length, m = 0;
                              m < y;
                              m++
                            )
                              (R = q[m]).destoryed ||
                                R.get('isKeyShape') ||
                                (R.set(
                                  'ori-visibility',
                                  R.get('ori-visibility') || R.get('visible'),
                                ),
                                R.hide());
                        for (var b = 0; b < g; b++)
                          for (
                            y = (q = (H = f[b]).get('group').get('children')).length, m = 0;
                            m < y;
                            m++
                          )
                            (R = q[m]).set(
                              'ori-visibility',
                              R.get('ori-visibility') || R.get('visible'),
                            ),
                              R.hide();
                        this.set('optimized', !0);
                      }
                      clearTimeout(this.get('timeout'));
                      var x = setTimeout(function () {
                        var t = n.getZoom();
                        if (e.get('optimized')) {
                          e.set('optimized', !1);
                          for (var r = 0; r < d; r++) {
                            var i = h[r],
                              o = (l = i.get('group').get('children')).length;
                            if (t < c)
                              (s = (p = i.getKeyShape()).get('ori-visibility')) && p.show();
                            else
                              for (var a = 0; a < o; a++) {
                                var s = (y = l[a]).get('ori-visibility');
                                !y.get('visible') && s && s && y.show();
                              }
                          }
                          for (var u = 0; u < g; u++) {
                            var l,
                              p,
                              v = f[u];
                            if (((o = (l = v.get('group').get('children')).length), t < c))
                              (s = (p = v.getKeyShape()).get('ori-visibility')) && p.show();
                            else
                              for (a = 0; a < o; a++) {
                                var y;
                                (y = l[a]).get('visible') ||
                                  ((s = y.get('ori-visibility')) && y.show());
                              }
                          }
                        }
                      }, 100);
                      this.set('timeout', x);
                    }
                    if (s <= 1) {
                      var _ = void 0,
                        w = void 0;
                      if (r.fixAll || r.fixLineWidth || r.fixLabel) {
                        (_ = n.findAllByState('node', r.fixState)),
                          (w = n.findAllByState('edge', r.fixState));
                        for (var E = s / i, S = _.length, M = 0; M < S; M++) {
                          var k,
                            A = (k = _[M]).getContainer(),
                            C = k.getModel(),
                            I = k.getOriginStyle(),
                            T = k.getStateStyle(r.fixState),
                            N = k.get('shapeFactory').getShape(C.type).getStateStyle(r.fixState, k)[
                              r.fixState
                            ];
                          if (r.fixAll) {
                            if (i <= 1) {
                              var P = (0, p.clone)(A.getMatrix());
                              P || (P = [1, 0, 0, 0, 1, 0, 0, 0, 1]);
                              var O = k.getModel(),
                                D = O.x,
                                L = O.y;
                              (P = As(P, [
                                ['t', -D, -L],
                                ['s', E, E],
                                ['t', D, L],
                              ])),
                                A.setMatrix(P);
                            }
                          } else
                            for (y = (q = A.get('children')).length, m = 0; m < y; m++) {
                              var R = q[m],
                                B = void 0,
                                j = void 0;
                              if (r.fixLabel && 'text' === R.get('type')) {
                                B = R.attr('fontSize') || 12;
                                var G = T[R.get('name')],
                                  z = N[R.get('name')],
                                  F = G ? G.fontSize : 12,
                                  U = z ? z.fontSize : 12,
                                  V = F || U || 12;
                                if ((i <= 1 && R.attr('fontSize', V / i), j)) break;
                              }
                              if (r.fixLineWidth && R.get('isKeyShape')) {
                                j = R.attr('lineWidth') || 0;
                                var W = T.lineWidth || N.lineWidth || I.lineWidth || 0;
                                if ((i <= 1 && R.attr('lineWidth', W / i), B)) break;
                              }
                            }
                        }
                        for (var Y = w.length, X = 0; X < Y; X++) {
                          var H,
                            q = (A = (H = w[X]).getContainer()).get('children');
                          for (
                            C = H.getModel(),
                              T = H.getStateStyle(r.fixState),
                              N = H.get('shapeFactory')
                                .getShape(C.type)
                                .getStateStyle(r.fixState, H)[r.fixState],
                              y = q.length,
                              m = 0;
                            m < y &&
                            ((R = q[m]),
                            (B = void 0),
                            (j = void 0),
                            (!r.fixLabel && !r.fixAll) ||
                              'text' !== R.get('type') ||
                              ((B = R.attr('fontSize') || 12),
                              (G = T[R.get('name')]),
                              (z = N[R.get('name')]),
                              (F = G ? G.fontSize : 12),
                              (U = z ? z.fontSize : 12),
                              (V = F || U || 12),
                              i <= 1 && R.attr('fontSize', V / i),
                              !j)) &&
                            ((!r.fixLineWidth && !r.fixAll) ||
                              !R.get('isKeyShape') ||
                              ((j = R.attr('lineWidth') || 0),
                              (W = T.lineWidth || N.lineWidth || 1),
                              i <= 1 && R.attr('lineWidth', W / i),
                              !B));
                            m++
                          );
                        }
                      }
                    }
                    var K = this.get('animate'),
                      Z = this.get('animateCfg');
                    n.zoomTo(i, { x: o.x, y: o.y }, K, Z), n.emit('wheelzoom', t);
                  }
                }
              },
            },
            Is = {
              onMouseEnter: function (t) {
                var e = t.item;
                (this.currentTarget = e),
                  this.showTooltip(t),
                  this.graph.emit('tooltipchange', { item: t.item, action: 'show' });
              },
              onMouseMove: function (t) {
                this.shouldUpdate(t)
                  ? this.currentTarget && t.item === this.currentTarget && this.updatePosition(t)
                  : this.hideTooltip();
              },
              onMouseLeave: function (t) {
                this.shouldEnd(t) &&
                  (this.hideTooltip(),
                  this.graph.emit('tooltipchange', { item: this.currentTarget, action: 'hide' }),
                  (this.currentTarget = null));
              },
              showTooltip: function (t) {
                var e = this.container;
                if (t.item && !t.item.destroyed) {
                  e || ((e = this.createTooltip(this.graph.get('canvas'))), (this.container = e));
                  var n = this.formatText(t.item.get('model'), t);
                  (e.innerHTML = n),
                    $n(this.container, { visibility: 'visible' }),
                    this.updatePosition(t);
                }
              },
              hideTooltip: function () {
                $n(this.container, { visibility: 'hidden' });
              },
              updatePosition: function (t) {
                var e = this.get('shouldBegin'),
                  n = this,
                  r = n.width,
                  i = n.height,
                  o = n.container,
                  a = n.graph;
                if (e(t)) {
                  var s = a.getPointByClient(t.clientX, t.clientY),
                    u = a.getCanvasByPoint(s.x, s.y),
                    c = u.x,
                    l = u.y,
                    h = o.getBoundingClientRect();
                  c > r / 2 ? (c -= h.width) : (c += this.offset),
                    l > i / 2 ? (l -= h.height) : (l += this.offset);
                  var f = ''.concat(c, 'px'),
                    d = ''.concat(l, 'px');
                  $n(this.container, { left: f, top: d, visibility: 'visible' });
                } else $n(o, { visibility: 'hidden' });
              },
              createTooltip: function (t) {
                var e = t.get('el');
                e.style.position = 'relative';
                var n = Yn('<div class="g6-tooltip g6-'.concat(this.item, '-tooltip"></div>'));
                return (
                  e.parentNode.appendChild(n),
                  $n(n, { position: 'absolute', visibility: 'visible' }),
                  (this.width = t.get('width')),
                  (this.height = t.get('height')),
                  (this.container = n),
                  this.graph.get('tooltips').push(n),
                  n
                );
              },
            },
            Ts = (0, c.__assign)(
              {
                getDefaultCfg: function () {
                  return {
                    item: 'node',
                    offset: 12,
                    formatText: function (t) {
                      return t.label;
                    },
                  };
                },
                getEvents: function () {
                  return {
                    'node:mouseenter': 'onMouseEnter',
                    'node:mouseleave': 'onMouseLeave',
                    'node:mousemove': 'onMouseMove',
                    afterremoveitem: 'onMouseLeave',
                  };
                },
              },
              Is,
            ),
            Ns = (0, c.__assign)(
              {
                getDefaultCfg: function () {
                  return {
                    item: 'edge',
                    offset: 12,
                    formatText: function (t) {
                      return 'source: '.concat(t.source, ' target: ').concat(t.target);
                    },
                  };
                },
                getEvents: function () {
                  return {
                    'edge:mouseenter': 'onMouseEnter',
                    'edge:mouseleave': 'onMouseLeave',
                    'edge:mousemove': 'onMouseMove',
                    afterremoveitem: 'onMouseLeave',
                  };
                },
              },
              Is,
            );
          var Ps = 'click',
            Os = ['click', 'dblclick'];
          const Ds = {
            getDefaultCfg: function () {
              return { trigger: Ps, onChange: function () {} };
            },
            getEvents: function () {
              var t, e;
              return (
                Os.includes(this.trigger)
                  ? (e = this.trigger)
                  : ((e = Ps),
                    console.warn(
                      "Behavior collapse-expand 的 trigger 参数不合法，请输入 'click' 或 'dblclick'",
                    )),
                ((t = {})['node:'.concat(e)] = 'onNodeClick'),
                (t.touchstart = 'onNodeClick'),
                t
              );
            },
            onNodeClick: function (t) {
              var e = t.item;
              if (e) {
                var n = this.graph.findDataById(e.get('id'));
                if (n) {
                  var r = n.children;
                  if (r && 0 !== r.length) {
                    var i = !n.collapsed;
                    this.shouldBegin(t, i) &&
                      ((n.collapsed = i),
                      (e.getModel().collapsed = i),
                      this.graph.emit('itemcollapsed', { item: t.item, collapsed: i }),
                      this.shouldUpdate(t, i) && (this.onChange(e, i), this.graph.layout()));
                  }
                }
              }
            },
          };
          var Ls = kn.calculationItemsBBox,
            Rs = function t(e, n) {
              if (!1 !== n(e) && e) {
                var r = e.get('combos');
                if (0 === r.length) return !1;
                (0, p.each)(r, function (e) {
                  t(e, n);
                });
              }
            };
          const Bs = {
            getDefaultCfg: function () {
              return {
                enableDelegate: !1,
                delegateStyle: {},
                onlyChangeComboSize: !1,
                activeState: '',
                selectedState: 'selected',
              };
            },
            getEvents: function () {
              return {
                'combo:dragstart': 'onDragStart',
                'combo:drag': 'onDrag',
                'combo:dragend': 'onDragEnd',
                'combo:drop': 'onDrop',
                'node:drop': 'onNodeDrop',
                'combo:dragenter': 'onDragEnter',
                'combo:dragleave': 'onDragLeave',
              };
            },
            validationCombo: function (t) {
              var e = t.item;
              return !(
                !e ||
                e.destroyed ||
                !this.shouldUpdate.call(this, t) ||
                'combo' !== e.getType()
              );
            },
            onDragStart: function (t) {
              var e = this,
                n = this.graph,
                r = t.item;
              if (((this.currentShouldEnd = !0), this.validationCombo(t))) {
                this.targets = [];
                var i = n.findAllByState('combo', this.selectedState),
                  o = r.get('id');
                0 ===
                i.filter(function (t) {
                  var e = t.get('id');
                  return o === e;
                }).length
                  ? this.targets.push(r)
                  : (this.targets = i),
                  this.activeState &&
                    this.targets.map(function (t) {
                      var r = t.getModel();
                      if (r.parentId) {
                        var i = n.findById(r.parentId);
                        i && n.setItemState(i, e.activeState, !0);
                      }
                    }),
                  (this.point = {}),
                  (this.originPoint = {}),
                  (this.origin = { x: t.x, y: t.y }),
                  (this.currentItemChildCombos = []),
                  Rs(r, function (t) {
                    if (t.destroyed) return !1;
                    var n = t.getModel();
                    return e.currentItemChildCombos.push(n.id), !0;
                  });
              }
            },
            onDrag: function (t) {
              var e = this;
              if (this.origin && this.validationCombo(t))
                if (this.enableDelegate) this.updateDelegate(t);
                else {
                  if (this.activeState) {
                    var n = this.graph,
                      r = t.item,
                      i = r.getModel(),
                      o = n.getCombos(),
                      a = r.getBBox(),
                      s = a.centerX,
                      u = a.centerY,
                      c = a.width;
                    o.filter(function (t) {
                      var n = t.getModel();
                      return i.parentId, n.id !== i.id && !e.currentItemChildCombos.includes(n.id);
                    }).map(function (t) {
                      var r = t.getBBox(),
                        i = r.centerX,
                        o = r.centerY,
                        a = r.width,
                        l = s - i,
                        h = u - o,
                        f = 2 * Math.sqrt(l * l + h * h);
                      c + a - f > 0.8 * c
                        ? n.setItemState(t, e.activeState, !0)
                        : n.setItemState(t, e.activeState, !1);
                    });
                  }
                  (0, p.each)(this.targets, function (n) {
                    e.updateCombo(n, t);
                  });
                }
            },
            updatePositions: function (t, e) {
              var n = this;
              (this.enableDelegate || e) &&
                (0, p.each)(this.targets, function (r) {
                  n.updateCombo(r, t, e);
                });
            },
            onDrop: function (t) {
              var e = this,
                n = t.item;
              if (
                ((this.currentShouldEnd = this.shouldEnd.call(this, t, n)),
                this.updatePositions(t, !this.currentShouldEnd),
                this.currentShouldEnd && n && this.targets && !n.destroyed)
              ) {
                var r = this.graph,
                  i = n.getModel();
                this.targets.map(function (t) {
                  t.getModel().parentId !== i.id
                    ? (e.activeState && r.setItemState(n, e.activeState, !1),
                      e.onlyChangeComboSize ? r.updateCombo(t) : r.updateComboTree(t, i.id))
                    : r.updateCombo(n);
                }),
                  this.end(n, t),
                  (this.endComparison = !0);
              }
            },
            onNodeDrop: function (t) {
              var e = this;
              if (this.targets && 0 !== this.targets.length) {
                var n = this.graph,
                  r = t.item.getModel().comboId,
                  i = r ? n.findById(r) : void 0;
                if (
                  ((this.currentShouldEnd = this.shouldEnd.call(this, t, i)),
                  this.updatePositions(t, !this.currentShouldEnd),
                  this.currentShouldEnd)
                ) {
                  var o;
                  if (r) {
                    if (this.activeState) {
                      var a = n.findById(r);
                      n.setItemState(a, this.activeState, !1);
                    }
                    this.targets.map(function (t) {
                      e.onlyChangeComboSize
                        ? n.updateCombo(t)
                        : r !== t.getID() &&
                          ((o = n.findById(r)),
                          r !== t.getModel().parentId && n.updateComboTree(t, r));
                    });
                  } else
                    this.targets.map(function (t) {
                      e.onlyChangeComboSize
                        ? n.updateCombo(t)
                        : t.getModel().comboId && n.updateComboTree(t);
                    });
                  (this.endComparison = !0), this.end(o, t);
                }
              }
            },
            onDragEnter: function (t) {
              if (this.origin && this.validationCombo(t)) {
                var e = t.item,
                  n = this.graph;
                this.activeState && n.setItemState(e, this.activeState, !0);
              }
            },
            onDragLeave: function (t) {
              if (this.origin && this.validationCombo(t)) {
                var e = t.item,
                  n = this.graph;
                this.activeState && n.setItemState(e, this.activeState, !1);
              }
            },
            onDragEnd: function (t) {
              if (this.targets && 0 !== this.targets.length) {
                var e = t.item;
                this.currentShouldEnd && this.updatePositions(t);
                var n = this.getParentCombo(e.getModel().parentId),
                  r = this.graph;
                n && this.activeState && r.setItemState(n, this.activeState, !1),
                  this.end(void 0, t);
              }
            },
            end: function (t, e) {
              var n = this;
              if (this.origin) {
                var r = this.graph;
                this.delegateShape && (r.get('delegateGroup').clear(), (this.delegateShape = null)),
                  t && this.activeState && r.setItemState(t, this.activeState, !1),
                  t ||
                    this.targets.map(function (t) {
                      n.onlyChangeComboSize ? r.updateCombo(t) : r.updateComboTree(t);
                    }),
                  (this.point = []),
                  (this.origin = null),
                  (this.originPoint = null),
                  (this.targets.length = 0);
              }
            },
            traverse: function (t, e) {
              var n = this;
              if (!1 !== e(t) && t) {
                var r = t.get('combos');
                (0, p.each)(r, function (t) {
                  n.traverse(t, e);
                });
                var i = t.get('nodes');
                (0, p.each)(i, function (t) {
                  n.traverse(t, e);
                });
              }
            },
            updateCombo: function (t, e, n) {
              var r = this;
              this.traverse(t, function (t) {
                return !t.destroyed && (r.updateSignleItem(t, e, n), !0);
              });
            },
            updateSignleItem: function (t, e, n) {
              var r = this.origin,
                i = this.graph,
                o = t.getModel(),
                a = t.get('id');
              this.point[a] || (this.point[a] = { x: o.x, y: o.y });
              var s = e.x - r.x + this.point[a].x,
                u = e.y - r.y + this.point[a].y;
              n && ((s += r.x - e.x), (u += r.y - e.y)), i.updateItem(t, { x: s, y: u });
            },
            getParentCombo: function (t) {
              var e = this.graph;
              if (t) {
                var n = e.findById(t);
                if (n) return n;
              }
            },
            updateDelegate: function (t) {
              var e = this.graph;
              if (this.delegateShape) {
                var n = t.x - this.origin.x + this.originPoint.minX,
                  r = t.y - this.origin.y + this.originPoint.minY;
                this.delegateShape.attr({ x: n, y: r });
              } else {
                var i,
                  o = e.get('delegateGroup'),
                  a = (i = this.targets.length > 1 ? Ls(this.targets) : this.targets[0].getBBox())
                    .x,
                  s = i.y,
                  u = i.width,
                  l = i.height,
                  h = i.minX,
                  f = i.minY;
                this.originPoint = { x: a, y: s, width: u, height: l, minX: h, minY: f };
                var d = (0, c.__assign)((0, c.__assign)({}, un.delegateStyle), this.delegateStyle);
                (this.delegateShape = o.addShape('rect', {
                  attrs: (0, c.__assign)({ width: i.width, height: i.height, x: i.x, y: i.y }, d),
                  name: 'combo-delegate-shape',
                })),
                  this.delegateShape.set('capture', !1),
                  (this.delegate = this.delegateShape);
              }
            },
          };
          var js = 'dblclick',
            Gs = ['click', 'dblclick'];
          const zs = {
            getDefaultCfg: function () {
              return { trigger: js, relayout: !0 };
            },
            getEvents: function () {
              var t, e;
              return (
                Gs.includes(this.trigger)
                  ? (e = this.trigger)
                  : ((e = js),
                    console.warn(
                      "Behavior collapse-expand-group 的 trigger 参数不合法，请输入 'click' 或 'dblclick'",
                    )),
                ((t = {})['combo:'.concat(e)] = 'onComboClick'),
                t
              );
            },
            onComboClick: function (t) {
              var e = t.item,
                n = this.graph,
                r = this.relayout;
              if (e && !e.destroyed && 'combo' === e.getType()) {
                var i = e.getModel().id;
                i &&
                  (n.collapseExpandCombo(i),
                  r && n.get('layout') ? n.layout() : n.refreshPositions());
              }
            },
          };
          var Fs = kn.isPolygonsIntersect,
            Us = kn.pathToPoints,
            Vs = 'shift',
            Ws = ['drag', 'shift', 'ctrl', 'alt', 'control'];
          const Ys = {
            getDefaultCfg: function () {
              return {
                delegateStyle: {
                  fill: '#EEF6FF',
                  fillOpacity: 0.4,
                  stroke: '#DDEEFE',
                  lineWidth: 1,
                },
                onSelect: function () {},
                onDeselect: function () {},
                shouldDeselect: void 0,
                selectedState: 'selected',
                trigger: Vs,
                includeEdges: !0,
                selectedEdges: [],
                selectedNodes: [],
              };
            },
            getEvents: function () {
              return (
                Ws.indexOf(this.trigger.toLowerCase()) > -1 ||
                  ((this.trigger = Vs),
                  console.warn(
                    "Behavior lasso-select 的 trigger 参数不合法，请输入 'drag'、'shift'、'ctrl' 或 'alt'",
                  )),
                'drag' === this.trigger
                  ? {
                      dragstart: 'onDragStart',
                      drag: 'onDragMove',
                      dragend: 'onDragEnd',
                      'canvas:click': 'clearStates',
                    }
                  : {
                      dragstart: 'onDragStart',
                      drag: 'onDragMove',
                      dragend: 'onDragEnd',
                      keyup: 'onKeyUp',
                      keydown: 'onKeyDown',
                      'canvas:click': 'clearStates',
                    }
              );
            },
            onDragStart: function (t) {
              var e = this.lasso;
              t.item ||
                (('drag' === this.trigger || this.keydown) &&
                  (this.selectedNodes &&
                    0 !== this.selectedNodes.length &&
                    this.clearStates('dragstart'),
                  e || (e = this.createLasso()),
                  (this.dragging = !0),
                  (this.originPoint = { x: t.x, y: t.y }),
                  this.points.push(this.originPoint),
                  e.show()));
            },
            onDragMove: function (t) {
              this.dragging &&
                ('drag' === this.trigger || this.keydown) &&
                (this.points.push({ x: t.x, y: t.y }), this.updateLasso(t));
            },
            onDragEnd: function (t) {
              (this.lasso || this.dragging) &&
                ('drag' === this.trigger || this.keydown) &&
                (this.points.push(this.originPoint),
                this.getSelectedItems(),
                this.lasso.remove(!0),
                (this.lasso = null),
                (this.points = []),
                (this.dragging = !1));
            },
            getLassoPath: function () {
              var t = this.points,
                e = [];
              return (
                t.length &&
                  (t.forEach(function (t, n) {
                    0 === n ? e.push(['M', t.x, t.y]) : e.push(['L', t.x, t.y]);
                  }),
                  e.push(['L', t[0].x, t[0].y])),
                e
              );
            },
            clearStates: function (t) {
              void 0 === t && (t = 'canvas:click');
              var e = this,
                n = e.graph,
                r = e.selectedState,
                i = e.shouldDeselect,
                o = n.findAllByState('node', r),
                a = n.findAllByState('edge', r);
              (i && !i({ action: t, nodes: o, edges: a })) ||
                (o.forEach(function (t) {
                  return n.setItemState(t, r, !1);
                }),
                a.forEach(function (t) {
                  return n.setItemState(t, r, !1);
                })),
                this.onDeselect && this.onDeselect(this.selectedNodes, this.selectedEdges),
                (this.selectedNodes = []),
                (this.selectedEdges = []),
                n.emit('nodeselectchange', { selectedItems: { nodes: [], edges: [] }, select: !1 });
            },
            getSelectedItems: function () {
              var t = this,
                e = this.graph,
                n = this.shouldUpdate,
                r = this.points.map(function (t) {
                  return [e.getCanvasByPoint(t.x, t.y).x, e.getCanvasByPoint(t.x, t.y).y];
                }),
                i = this.selectedState,
                o = [],
                a = [];
              e.getNodes().forEach(function (t) {
                if (
                  t.isVisible() &&
                  (function (t, e) {
                    var n,
                      r = t.getKeyShape();
                    if ('path' === t.get('type')) n = Us(r.attr('path'));
                    else {
                      var i = r.getCanvasBBox();
                      n = [
                        [i.minX, i.minY],
                        [i.maxX, i.minY],
                        [i.maxX, i.maxY],
                        [i.minX, i.maxY],
                      ];
                    }
                    return Fs(e, n);
                  })(t, r) &&
                  n(t, 'select')
                ) {
                  o.push(t);
                  var s = t.getModel();
                  a.push(s.id), e.setItemState(t, i, !0);
                }
              });
              var s = [];
              this.includeEdges &&
                o.forEach(function (r) {
                  r.getOutEdges().forEach(function (r) {
                    if (r.isVisible()) {
                      var i = r.getModel(),
                        o = i.source,
                        u = i.target;
                      a.includes(o) &&
                        a.includes(u) &&
                        n(r, 'select') &&
                        (s.push(r), e.setItemState(r, t.selectedState, !0));
                    }
                  });
                }),
                (this.selectedEdges = s),
                (this.selectedNodes = o),
                this.onSelect && this.onSelect(o, s),
                e.emit('nodeselectchange', { selectedItems: { nodes: o, edges: s }, select: !0 });
            },
            createLasso: function () {
              var t = this.graph.get('delegateGroup').addShape('path', {
                attrs: (0, c.__assign)({ path: [] }, this.delegateStyle),
                capture: !1,
                name: 'lasso-shape',
              });
              return (this.lasso = t), (this.delegate = t), (this.points = []), t;
            },
            updateLasso: function (t) {
              this.lasso.attr({ path: this.getLassoPath() });
            },
            onKeyDown: function (t) {
              var e = t.key;
              e &&
                (e.toLowerCase() === this.trigger.toLowerCase()
                  ? (this.keydown = !0)
                  : (this.keydown = !1));
            },
            onKeyUp: function () {
              this.lasso &&
                (this.lasso.remove(!0),
                (this.lasso = null),
                (this.points = []),
                (this.dragging = !1)),
                (this.keydown = !1);
            },
          };
          var Xs = 'click',
            Hs = ['click', 'drag'],
            qs = void 0,
            Ks = ['shift', 'ctrl', 'control', 'alt', 'meta', void 0];
          const Zs = {
            getDefaultCfg: function () {
              return { trigger: Xs, key: qs, edgeConfig: {}, getEdgeConfig: void 0 };
            },
            getEvents: function () {
              var t,
                e = this;
              return (
                Hs.indexOf(e.trigger.toLowerCase()) > -1 ||
                  ((e.trigger = Xs),
                  console.warn(
                    "Behavior create-edge 的 trigger 参数不合法，请输入 'click'，'drag'",
                  )),
                e.key &&
                  -1 === Ks.indexOf(e.key.toLowerCase()) &&
                  ((e.trigger = qs),
                  console.warn(
                    "Behavior create-edge 的 key 参数不合法，请输入 'shift'，'ctrl'，'alt'，'control'，或 undefined",
                  )),
                'drag' === e.trigger
                  ? (t = {
                      'node:dragstart': 'onClick',
                      'combo:dragstart': 'onClick',
                      drag: 'updateEndPoint',
                      'node:drop': 'onClick',
                      'combo:drop': 'onClick',
                      dragend: 'onDragEnd',
                    })
                  : 'click' === e.trigger &&
                    (t = {
                      'node:click': 'onClick',
                      mousemove: 'updateEndPoint',
                      'edge:click': 'cancelCreating',
                      'canvas:click': 'cancelCreating',
                      'combo:click': 'onClick',
                    }),
                e.key && ((t.keydown = 'onKeyDown'), (t.keyup = 'onKeyUp')),
                t
              );
            },
            onDragEnd: function (t) {
              var e = this;
              if (!e.key || e.keydown) {
                var n = t.item;
                (n && n.getID() !== e.source && 'node' === n.getType()) ||
                  e.cancelCreating({ item: e.edge, x: t.x, y: t.y });
              }
            },
            onClick: function (t) {
              var e = this;
              if (!e.key || e.keydown) {
                var n = t.item,
                  r = e.graph,
                  i = n.getModel(),
                  o = e.getEdgeConfig;
                if (e.addingEdge && e.edge) {
                  if (!e.shouldEnd.call(e, t)) return;
                  var a = void 0;
                  a =
                    o && (0, p.isFunction)(o)
                      ? o({ source: e.source, target: i.id })
                      : e.edgeConfig;
                  var s = (0, c.__assign)({ target: i.id }, a);
                  if (
                    (e.source === i.id && (s.type = 'loop'),
                    r.emit('beforecreateedge', {}),
                    r.updateItem(e.edge, s, !1),
                    r.get('enabledStack'))
                  ) {
                    var u = (0, c.__assign)((0, c.__assign)({}, e.edge.getModel()), {
                        itemType: 'edge',
                      }),
                      l = {};
                    (l.edges = [u]), r.pushStack('add', { before: {}, after: l });
                  }
                  r.emit('aftercreateedge', { edge: e.edge }),
                    e.edge.getKeyShape().set('capture', !0),
                    (e.edge = null),
                    (e.addingEdge = !1);
                } else {
                  if (!e.shouldBegin.call(e, t)) return;
                  (a = void 0),
                    (a =
                      o && (0, p.isFunction)(o) ? o({ source: i.id, target: i.id }) : e.edgeConfig),
                    (e.edge = r.addItem(
                      'edge',
                      (0, c.__assign)({ source: i.id, target: i.id }, a),
                      !1,
                    )),
                    (e.source = i.id),
                    (e.addingEdge = !0),
                    e.edge.getKeyShape().set('capture', !1);
                }
              }
            },
            updateEndPoint: function (t) {
              var e = this;
              if (!e.key || e.keydown) {
                e.edge && e.edge.destroyed && e.cancelCreating({ item: e.edge });
                var n = { x: t.x, y: t.y };
                e.graph.findById(e.source)
                  ? e.addingEdge && e.edge && e.graph.updateItem(e.edge, { target: n }, !1)
                  : (e.addingEdge = !1);
              }
            },
            cancelCreating: function (t) {
              var e,
                n,
                r = this;
              if (!r.key || r.keydown) {
                var i = r.graph,
                  o = t.item;
                return r.addingEdge &&
                  (r.edge === o ||
                    (null === (n = null === (e = t.target) || void 0 === e ? void 0 : e.isCanvas) ||
                    void 0 === n
                      ? void 0
                      : n.call(e)))
                  ? (r.edge && !r.edge.destroyed && i.removeItem(r.edge, !1),
                    (r.edge = null),
                    void (r.addingEdge = !1))
                  : void 0;
              }
            },
            onKeyDown: function (t) {
              var e = this,
                n = t.key;
              n && (n.toLowerCase() === e.key.toLowerCase() ? (e.keydown = !0) : (e.keydown = !1));
            },
            onKeyUp: function () {
              var t = this;
              t.addingEdge &&
                t.edge &&
                (t.graph.removeItem(t.edge, !1), (t.addingEdge = !1), (t.edge = null)),
                (this.keydown = !1);
            },
          };
          var $s = 'ctrl',
            Qs = ['shift', 'ctrl', 'alt', 'control'];
          const Js = {
            getDefaultCfg: function () {
              return { trigger: $s, combinedKey: '1', functionName: 'fitView', functionParams: [] };
            },
            getEvents: function () {
              return (
                Qs.indexOf(this.trigger.toLowerCase()) > -1 ||
                  ((this.trigger = $s),
                  console.warn(
                    "Behavior shortcuts-fit-view 的 trigger 参数 '".concat(
                      this.trigger,
                      "' 不合法，请输入 'drag'、'shift'、'ctrl' 或 'alt'",
                    ),
                  )),
                this.combinedKey === this.trigger && (this.combinedKey = void 0),
                { keyup: 'onKeyUp', keydown: 'onKeyDown' }
              );
            },
            onKeyDown: function (t) {
              var e = t.key;
              if (e) {
                var n = this.trigger.toLowerCase(),
                  r = e.toLowerCase();
                this.triggerKeydown ||
                  (this.triggerKeydown =
                    r === n ||
                    ('control' === r && 'ctrl' === n) ||
                    ('ctrl' === r && 'control' === n));
                var i = this.graph;
                if (!i[this.functionName])
                  return (
                    console.warn(
                      "Behavior shortcuts-fit-view 的 functionName 参数 '".concat(
                        this.functionName,
                        "' 不合法，它不是 Graph 的一个函数名",
                      ),
                    ),
                    {}
                  );
                if (!this.triggerKeydown || this.combinedKey) {
                  var o = this.combinedKey.toLowerCase();
                  this.triggerKeydown &&
                    (r === o ||
                      ('control' === r && 'ctrl' === o) ||
                      ('ctrl' === r && 'control' === o)) &&
                    (this.functionParams && this.functionParams.length
                      ? i[this.functionName].apply(i, this.functionParams)
                      : i[this.functionName]());
                } else
                  this.functionParams && this.functionParams.length
                    ? i[this.functionName].apply(i, this.functionParams)
                    : i[this.functionName]();
              }
            },
            onKeyUp: function () {
              this.brush && (this.brush.remove(!0), (this.brush = null), (this.dragging = !1)),
                (this.triggerKeydown = !1);
            },
          };
          var tu = ['shift', 'ctrl', 'alt', 'control', 'meta'];
          const eu = {
            getDefaultCfg: function () {
              return { direction: 'both', enableOptimize: !1, zoomKey: 'ctrl', scalableRange: 0 };
            },
            getEvents: function () {
              return (
                (this.zoomKey && -1 !== tu.indexOf(this.zoomKey)) || (this.zoomKey = 'ctrl'),
                { wheel: 'onWheel' }
              );
            },
            onWheel: function (t) {
              var e = this,
                n = this.graph,
                r = Array.isArray(this.zoomKey) ? [].concat(this.zoomKey) : [this.zoomKey];
              if (
                (r.includes('control') && r.push('ctrl'),
                r.some(function (e) {
                  return t[''.concat(e, 'Key')];
                }))
              ) {
                var i = n.get('canvas').getPointByClient(t.clientX, t.clientY),
                  o = n.getZoom();
                t.wheelDelta > 0 ? (o += 0.05 * o) : (o -= 0.05 * o),
                  n.zoomTo(o, { x: i.x, y: i.y });
              } else {
                var a = t.deltaX || t.movementX,
                  s = t.deltaY || t.movementY;
                !s &&
                  navigator.userAgent.indexOf('Firefox') > -1 &&
                  (s = (125 * -t.wheelDelta) / 3);
                var u = this.graph.get('width'),
                  c = this.graph.get('height'),
                  l = this.graph.get('canvas').getCanvasBBox(),
                  h = this.scalableRange,
                  f = this.scalableRange;
                h < 1 && h > -1 && ((h *= u), (f *= c));
                var d = l.minX,
                  p = l.maxX,
                  g = l.minY,
                  v = l.maxY;
                a > 0
                  ? p < -h
                    ? (a = 0)
                    : p - a < -h && (a = p + h)
                  : a < 0 && (d > u + h ? (a = 0) : d - a > u + h && (a = d - (u + h))),
                  s > 0
                    ? v < -f
                      ? (s = 0)
                      : v - s < -f && (s = v + f)
                    : s < 0 && (g > c + f ? (s = 0) : g - s > c + f && (s = g - (c + f))),
                  'x' === this.get('direction')
                    ? (s = 0)
                    : 'y' === this.get('direction') && (a = 0),
                  n.translate(-a, -s);
              }
              if ((t.preventDefault(), this.get('enableOptimize'))) {
                var y = this.get('optimizeZoom'),
                  m = this.get('optimized'),
                  b = n.getNodes(),
                  x = n.getEdges(),
                  _ = b.length,
                  w = x.length;
                if (!m) {
                  for (var E = 0; E < _; E++) {
                    var S = b[E];
                    if (!S.destroyed)
                      for (var M = (C = S.get('group').get('children')).length, k = 0; k < M; k++)
                        (I = C[k]).destoryed ||
                          I.get('isKeyShape') ||
                          (I.set('ori-visibility', I.get('ori-visibility') || I.get('visible')),
                          I.hide());
                  }
                  for (var A = 0; A < w; A++) {
                    var C;
                    for (M = (C = x[A].get('group').get('children')).length, k = 0; k < M; k++) {
                      var I;
                      (I = C[k]).set('ori-visibility', I.get('ori-visibility') || I.get('visible')),
                        I.hide();
                    }
                  }
                  this.set('optimized', !0);
                }
                clearTimeout(this.get('timeout'));
                var T = setTimeout(function () {
                  var t = n.getZoom();
                  if (e.get('optimized')) {
                    e.set('optimized', !1);
                    for (var r = 0; r < _; r++) {
                      var i = b[r],
                        o = (c = i.get('group').get('children')).length;
                      if (t < y) (s = (l = i.getKeyShape()).get('ori-visibility')) && l.show();
                      else
                        for (var a = 0; a < o; a++) {
                          var s = (f = c[a]).get('ori-visibility');
                          !f.get('visible') && s && s && f.show();
                        }
                    }
                    for (var u = 0; u < w; u++) {
                      var c,
                        l,
                        h = x[u];
                      if (((o = (c = h.get('group').get('children')).length), t < y))
                        (s = (l = h.getKeyShape()).get('ori-visibility')) && l.show();
                      else
                        for (a = 0; a < o; a++) {
                          var f;
                          (f = c[a]).get('visible') || ((s = f.get('ori-visibility')) && f.show());
                        }
                    }
                  }
                }, 100);
                this.set('timeout', T);
              }
            },
          };
          var nu = {
            'drag-canvas': gs,
            'zoom-canvas': Cs,
            'drag-node': vs,
            'activate-relations': ys,
            'brush-select': Es,
            'click-select': ks,
            'lasso-select': Ys,
            tooltip: Ts,
            'edge-tooltip': Ns,
            'collapse-expand': Ds,
            'drag-combo': Bs,
            'collapse-expand-combo': zs,
            'create-edge': Zs,
            'shortcuts-call': Js,
            'scroll-canvas': eu,
          };
          (0, p.each)(nu, function (t, e) {
            (0, l.registerBehavior)(e, t);
          });
          var ru = (0, c.__assign)((0, c.__assign)({}, h), f),
            iu = Ga.Grid,
            ou = Ga.Minimap,
            au = Ga.Bundling,
            su = Ga.Menu,
            uu = Ga.Fisheye,
            cu = Ga.ToolBar,
            lu = Ga.Tooltip,
            hu = Ga.TimeBar,
            fu = Ga.ImageMinimap,
            du = Ga.EdgeFilterLens,
            pu = Ga.SnapLine,
            gu = Ga.Legend;
          const vu = {
            version: (un.version, '4.6.4'),
            Graph: Hn,
            TreeGraph: Zn,
            Util: kn,
            Layout: pn.Layouts,
            TreeLayout: Cn,
            registerLayout: In,
            Global: un,
            registerBehavior: l.registerBehavior,
            registerCombo: l.registerCombo,
            registerEdge: l.registerEdge,
            registerNode: l.registerNode,
            Minimap: Ga.Minimap,
            Grid: Ga.Grid,
            Bundling: Ga.Bundling,
            Menu: Ga.Menu,
            ToolBar: Ga.ToolBar,
            Tooltip: Ga.Tooltip,
            Legend: Ga.Legend,
            TimeBar: hu,
            SnapLine: pu,
            Fisheye: uu,
            ImageMinimap: fu,
            EdgeFilterLens: du,
            Algorithm: ru,
            Arrow: l.Arrow,
            Marker: l.Marker,
            Shape: l.Shape,
          };
          var yu = '4.6.4';
        },
        1746: function (t) {
          var e;
          'undefined' != typeof self && self,
            (e = function () {
              return (function (t) {
                var e = {};
                function n(r) {
                  if (e[r]) return e[r].exports;
                  var i = (e[r] = { i: r, l: !1, exports: {} });
                  return t[r].call(i.exports, i, i.exports, n), (i.l = !0), i.exports;
                }
                return (
                  (n.m = t),
                  (n.c = e),
                  (n.d = function (t, e, r) {
                    n.o(t, e) ||
                      Object.defineProperty(t, e, { configurable: !1, enumerable: !0, get: r });
                  }),
                  (n.n = function (t) {
                    var e =
                      t && t.__esModule
                        ? function () {
                            return t.default;
                          }
                        : function () {
                            return t;
                          };
                    return n.d(e, 'a', e), e;
                  }),
                  (n.o = function (t, e) {
                    return Object.prototype.hasOwnProperty.call(t, e);
                  }),
                  (n.p = ''),
                  n((n.s = 31))
                );
              })([
                function (t, e, n) {
                  'use strict';
                  var r = n(4);
                  e.a = function (t) {
                    return Array.isArray ? Array.isArray(t) : Object(r.a)(t, 'Array');
                  };
                },
                function (t, e, n) {
                  'use strict';
                  e.a = function (t) {
                    return null !== t && 'function' != typeof t && isFinite(t.length);
                  };
                },
                function (t, e, n) {
                  'use strict';
                  var r = n(0),
                    i = n(13);
                  e.a = function (t, e) {
                    if (t)
                      if (Object(r.a)(t))
                        for (var n = 0, o = t.length; n < o && !1 !== e(t[n], n); n++);
                      else if (Object(i.a)(t))
                        for (var a in t) if (t.hasOwnProperty(a) && !1 === e(t[a], a)) break;
                  };
                },
                function (t, e, n) {
                  'use strict';
                  var r = n(4);
                  e.a = function (t) {
                    return Object(r.a)(t, 'Function');
                  };
                },
                function (t, e, n) {
                  'use strict';
                  var r = {}.toString;
                  e.a = function (t, e) {
                    return r.call(t) === '[object ' + e + ']';
                  };
                },
                function (t, e, n) {
                  'use strict';
                  var r = n(4);
                  e.a = function (t) {
                    return Object(r.a)(t, 'Number');
                  };
                },
                function (t, e, n) {
                  'use strict';
                  e.a = function (t) {
                    return null == t;
                  };
                },
                function (t, e, n) {
                  var r = n(33).mix;
                  t.exports = { assign: r };
                },
                function (t, e, n) {
                  'use strict';
                  var r = n(4);
                  e.a = function (t) {
                    return Object(r.a)(t, 'String');
                  };
                },
                function (t, e, n) {
                  'use strict';
                  var r = n(15),
                    i = n(4);
                  e.a = function (t) {
                    if (!Object(r.a)(t) || !Object(i.a)(t, 'Object')) return !1;
                    if (null === Object.getPrototypeOf(t)) return !0;
                    for (var e = t; null !== Object.getPrototypeOf(e); )
                      e = Object.getPrototypeOf(e);
                    return Object.getPrototypeOf(t) === e;
                  };
                },
                function (t, e, n) {
                  'use strict';
                  var r = n(6);
                  e.a = function (t) {
                    return Object(r.a)(t) ? '' : t.toString();
                  };
                },
                function (t, e, n) {
                  var r = n(18),
                    i = (function () {
                      function t(t, e) {
                        void 0 === e && (e = {}), (this.options = e), (this.rootNode = r(t, e));
                      }
                      return (
                        (t.prototype.execute = function () {
                          throw new Error('please override this method');
                        }),
                        t
                      );
                    })();
                  t.exports = i;
                },
                function (t, e, n) {
                  'use strict';
                  var r = n(1);
                  e.a = function (t, e) {
                    return !!Object(r.a)(t) && t.indexOf(e) > -1;
                  };
                },
                function (t, e, n) {
                  'use strict';
                  e.a = function (t) {
                    var e = typeof t;
                    return (null !== t && 'object' === e) || 'function' === e;
                  };
                },
                function (t, e, n) {
                  'use strict';
                  var r = n(2),
                    i = n(1);
                  e.a = function (t, e) {
                    if (!Object(i.a)(t)) return t;
                    var n = [];
                    return (
                      Object(r.a)(t, function (t, r) {
                        e(t, r) && n.push(t);
                      }),
                      n
                    );
                  };
                },
                function (t, e, n) {
                  'use strict';
                  e.a = function (t) {
                    return 'object' == typeof t && null !== t;
                  };
                },
                function (t, e, n) {
                  'use strict';
                  function r(t, e) {
                    for (var n in e)
                      e.hasOwnProperty(n) &&
                        'constructor' !== n &&
                        void 0 !== e[n] &&
                        (t[n] = e[n]);
                  }
                  e.a = function (t, e, n, i) {
                    return e && r(t, e), n && r(t, n), i && r(t, i), t;
                  };
                },
                function (t, e, n) {
                  var r = n(30),
                    i = ['LR', 'RL', 'TB', 'BT', 'H', 'V'],
                    o = ['LR', 'RL', 'H'],
                    a = i[0];
                  t.exports = function (t, e, n) {
                    var s = e.direction || a;
                    if (
                      ((e.isHorizontal = (function (t) {
                        return o.indexOf(t) > -1;
                      })(s)),
                      s && -1 === i.indexOf(s))
                    )
                      throw new TypeError('Invalid direction: ' + s);
                    if (s === i[0]) n(t, e);
                    else if (s === i[1]) n(t, e), t.right2left();
                    else if (s === i[2]) n(t, e);
                    else if (s === i[3]) n(t, e), t.bottom2top();
                    else if (s === i[4] || s === i[5]) {
                      var u = r(t, e),
                        c = u.left,
                        l = u.right;
                      n(c, e),
                        n(l, e),
                        e.isHorizontal ? c.right2left() : c.bottom2top(),
                        l.translate(c.x - l.x, c.y - l.y),
                        (t.x = c.x),
                        (t.y = l.y);
                      var h = t.getBoundingBox();
                      e.isHorizontal
                        ? h.top < 0 && t.translate(0, -h.top)
                        : h.left < 0 && t.translate(-h.left, 0);
                    }
                    var f = e.fixedRoot;
                    return (
                      void 0 === f && (f = !0),
                      f &&
                        t.translate(-(t.x + t.width / 2 + t.hgap), -(t.y + t.height / 2 + t.vgap)),
                      t
                    );
                  };
                },
                function (t, e, n) {
                  var r = n(7),
                    i = {
                      getId: function (t) {
                        return t.id || t.name;
                      },
                      getPreH: function (t) {
                        return t.preH || 0;
                      },
                      getPreV: function (t) {
                        return t.preV || 0;
                      },
                      getHGap: function (t) {
                        return t.hgap || 18;
                      },
                      getVGap: function (t) {
                        return t.vgap || 18;
                      },
                      getChildren: function (t) {
                        return t.children;
                      },
                      getHeight: function (t) {
                        return t.height || 36;
                      },
                      getWidth: function (t) {
                        var e = t.label || ' ';
                        return t.width || 18 * e.split('').length;
                      },
                    };
                  function o(t, e) {
                    var n = this;
                    if (((n.vgap = n.hgap = 0), t instanceof o)) return t;
                    n.data = t;
                    var r = e.getHGap(t),
                      i = e.getVGap(t);
                    return (
                      (n.preH = e.getPreH(t)),
                      (n.preV = e.getPreV(t)),
                      (n.width = e.getWidth(t)),
                      (n.height = e.getHeight(t)),
                      (n.width += n.preH),
                      (n.height += n.preV),
                      (n.id = e.getId(t)),
                      (n.x = n.y = 0),
                      (n.depth = 0),
                      n.children || (n.children = []),
                      n.addGap(r, i),
                      n
                    );
                  }
                  r.assign(o.prototype, {
                    isRoot: function () {
                      return 0 === this.depth;
                    },
                    isLeaf: function () {
                      return 0 === this.children.length;
                    },
                    addGap: function (t, e) {
                      var n = this;
                      (n.hgap += t), (n.vgap += e), (n.width += 2 * t), (n.height += 2 * e);
                    },
                    eachNode: function (t) {
                      for (var e, n = [this]; (e = n.shift()); ) t(e), (n = e.children.concat(n));
                    },
                    DFTraverse: function (t) {
                      this.eachNode(t);
                    },
                    BFTraverse: function (t) {
                      for (var e, n = [this]; (e = n.shift()); ) t(e), (n = n.concat(e.children));
                    },
                    getBoundingBox: function () {
                      var t = {
                        left: Number.MAX_VALUE,
                        top: Number.MAX_VALUE,
                        width: 0,
                        height: 0,
                      };
                      return (
                        this.eachNode(function (e) {
                          (t.left = Math.min(t.left, e.x)),
                            (t.top = Math.min(t.top, e.y)),
                            (t.width = Math.max(t.width, e.x + e.width)),
                            (t.height = Math.max(t.height, e.y + e.height));
                        }),
                        t
                      );
                    },
                    translate: function (t, e) {
                      void 0 === t && (t = 0),
                        void 0 === e && (e = 0),
                        this.eachNode(function (n) {
                          (n.x += t), (n.y += e), (n.x += n.preH), (n.y += n.preV);
                        });
                    },
                    right2left: function () {
                      var t = this,
                        e = t.getBoundingBox();
                      t.eachNode(function (t) {
                        t.x = t.x - 2 * (t.x - e.left) - t.width;
                      }),
                        t.translate(e.width, 0);
                    },
                    bottom2top: function () {
                      var t = this,
                        e = t.getBoundingBox();
                      t.eachNode(function (t) {
                        t.y = t.y - 2 * (t.y - e.top) - t.height;
                      }),
                        t.translate(0, e.height);
                    },
                  }),
                    (t.exports = function (t, e, n) {
                      void 0 === e && (e = {});
                      var a,
                        s = new o(t, (e = r.assign({}, i, e))),
                        u = [s];
                      if (!n && !t.collapsed)
                        for (; (a = u.shift()); )
                          if (!a.data.collapsed) {
                            var c = e.getChildren(a.data),
                              l = c ? c.length : 0;
                            if (((a.children = new Array(l)), c && l))
                              for (var h = 0; h < l; h++) {
                                var f = new o(c[h], e);
                                (a.children[h] = f),
                                  u.push(f),
                                  (f.parent = a),
                                  (f.depth = a.depth + 1);
                              }
                          }
                      return s;
                    });
                },
                function (t, e, n) {
                  'use strict';
                  var r = n(6),
                    i = n(20);
                  e.a = function (t, e) {
                    var n = Object(i.a)(e),
                      o = n.length;
                    if (Object(r.a)(t)) return !o;
                    for (var a = 0; a < o; a += 1) {
                      var s = n[a];
                      if (e[s] !== t[s] || !(s in t)) return !1;
                    }
                    return !0;
                  };
                },
                function (t, e, n) {
                  'use strict';
                  var r = n(2),
                    i = n(3),
                    o = Object.keys
                      ? function (t) {
                          return Object.keys(t);
                        }
                      : function (t) {
                          var e = [];
                          return (
                            Object(r.a)(t, function (n, r) {
                              (Object(i.a)(t) && 'prototype' === r) || e.push(r);
                            }),
                            e
                          );
                        };
                  e.a = o;
                },
                function (t, e, n) {
                  'use strict';
                  var r = n(1),
                    i = Array.prototype.splice;
                  e.a = function (t, e) {
                    if (!Object(r.a)(t)) return [];
                    for (var n = t ? e.length : 0, o = n - 1; n--; ) {
                      var a = void 0,
                        s = e[n];
                      (n !== o && s === a) || ((a = s), i.call(t, s, 1));
                    }
                    return t;
                  };
                },
                function (t, e, n) {
                  'use strict';
                  var r = n(12),
                    i = n(2);
                  e.a = function (t) {
                    var e = [];
                    return (
                      Object(i.a)(t, function (t) {
                        Object(r.a)(e, t) || e.push(t);
                      }),
                      e
                    );
                  };
                },
                function (t, e, n) {
                  'use strict';
                  var r = n(0),
                    i = n(3),
                    o = n(24);
                  e.a = function (t, e) {
                    if (!e) return { 0: t };
                    if (!Object(i.a)(e)) {
                      var n = Object(r.a)(e) ? e : e.replace(/\s+/g, '').split('*');
                      e = function (t) {
                        for (var e = '_', r = 0, i = n.length; r < i; r++)
                          e += t[n[r]] && t[n[r]].toString();
                        return e;
                      };
                    }
                    return Object(o.a)(t, e);
                  };
                },
                function (t, e, n) {
                  'use strict';
                  var r = n(2),
                    i = n(0),
                    o = n(3),
                    a = Object.prototype.hasOwnProperty;
                  e.a = function (t, e) {
                    if (!e || !Object(i.a)(t)) return {};
                    var n,
                      s = {},
                      u = Object(o.a)(e)
                        ? e
                        : function (t) {
                            return t[e];
                          };
                    return (
                      Object(r.a)(t, function (t) {
                        (n = u(t)), a.call(s, n) ? s[n].push(t) : (s[n] = [t]);
                      }),
                      s
                    );
                  };
                },
                function (t, e, n) {
                  'use strict';
                  e.a = function (t, e) {
                    return t.hasOwnProperty(e);
                  };
                },
                function (t, e, n) {
                  'use strict';
                  var r = n(2),
                    i = n(3),
                    o = Object.values
                      ? function (t) {
                          return Object.values(t);
                        }
                      : function (t) {
                          var e = [];
                          return (
                            Object(r.a)(t, function (n, r) {
                              (Object(i.a)(t) && 'prototype' === r) || e.push(n);
                            }),
                            e
                          );
                        };
                  e.a = o;
                },
                function (t, e, n) {
                  'use strict';
                  var r = {}.toString;
                  e.a = function (t) {
                    return r
                      .call(t)
                      .replace(/^\[object /, '')
                      .replace(/]$/, '');
                  };
                },
                function (t, e, n) {
                  'use strict';
                  var r = Object.prototype;
                  e.a = function (t) {
                    var e = t && t.constructor;
                    return t === (('function' == typeof e && e.prototype) || r);
                  };
                },
                function (t, e, n) {
                  'use strict';
                  var r = n(15),
                    i = n(1),
                    o = n(8),
                    a = function (t, e) {
                      if (t === e) return !0;
                      if (!t || !e) return !1;
                      if (Object(o.a)(t) || Object(o.a)(e)) return !1;
                      if (Object(i.a)(t) || Object(i.a)(e)) {
                        if (t.length !== e.length) return !1;
                        for (var n = !0, s = 0; s < t.length && (n = a(t[s], e[s])); s++);
                        return n;
                      }
                      if (Object(r.a)(t) || Object(r.a)(e)) {
                        var u = Object.keys(t),
                          c = Object.keys(e);
                        if (u.length !== c.length) return !1;
                        for (n = !0, s = 0; s < u.length && (n = a(t[u[s]], e[u[s]])); s++);
                        return n;
                      }
                      return !1;
                    };
                  e.a = a;
                },
                function (t, e, n) {
                  var r = n(18);
                  t.exports = function (t, e) {
                    for (
                      var n = r(t.data, e, !0),
                        i = r(t.data, e, !0),
                        o = t.children.length,
                        a = Math.round(o / 2),
                        s =
                          e.getSide ||
                          function (t, e) {
                            return e < a ? 'right' : 'left';
                          },
                        u = 0;
                      u < o;
                      u++
                    ) {
                      var c = t.children[u];
                      'right' === s(c, u) ? i.children.push(c) : n.children.push(c);
                    }
                    return (
                      n.eachNode(function (t) {
                        t.isRoot() || (t.side = 'left');
                      }),
                      i.eachNode(function (t) {
                        t.isRoot() || (t.side = 'right');
                      }),
                      { left: n, right: i }
                    );
                  };
                },
                function (t, e, n) {
                  var r = {
                    compactBox: n(32),
                    dendrogram: n(114),
                    indented: n(116),
                    mindmap: n(118),
                  };
                  t.exports = r;
                },
                function (t, e, n) {
                  var r = n(11),
                    i = n(113),
                    o = n(17),
                    a = n(7),
                    s = (function (t) {
                      var e, n;
                      function r() {
                        return t.apply(this, arguments) || this;
                      }
                      return (
                        (n = t),
                        ((e = r).prototype = Object.create(n.prototype)),
                        (e.prototype.constructor = e),
                        (e.__proto__ = n),
                        (r.prototype.execute = function () {
                          return o(this.rootNode, this.options, i);
                        }),
                        r
                      );
                    })(r),
                    u = {};
                  t.exports = function (t, e) {
                    return (e = a.assign({}, u, e)), new s(t, e).execute();
                  };
                },
                function (t, e, n) {
                  'use strict';
                  Object.defineProperty(e, '__esModule', { value: !0 });
                  var r = n(12);
                  n.d(e, 'contains', function () {
                    return r.a;
                  }),
                    n.d(e, 'includes', function () {
                      return r.a;
                    });
                  var i = n(34);
                  n.d(e, 'difference', function () {
                    return i.a;
                  });
                  var o = n(35);
                  n.d(e, 'find', function () {
                    return o.a;
                  });
                  var a = n(36);
                  n.d(e, 'findIndex', function () {
                    return a.a;
                  });
                  var s = n(37);
                  n.d(e, 'firstValue', function () {
                    return s.a;
                  });
                  var u = n(38);
                  n.d(e, 'flatten', function () {
                    return u.a;
                  });
                  var c = n(39);
                  n.d(e, 'flattenDeep', function () {
                    return c.a;
                  });
                  var l = n(40);
                  n.d(e, 'getRange', function () {
                    return l.a;
                  });
                  var h = n(41);
                  n.d(e, 'pull', function () {
                    return h.a;
                  });
                  var f = n(21);
                  n.d(e, 'pullAt', function () {
                    return f.a;
                  });
                  var d = n(42);
                  n.d(e, 'reduce', function () {
                    return d.a;
                  });
                  var p = n(43);
                  n.d(e, 'remove', function () {
                    return p.a;
                  });
                  var g = n(44);
                  n.d(e, 'sortBy', function () {
                    return g.a;
                  });
                  var v = n(45);
                  n.d(e, 'union', function () {
                    return v.a;
                  });
                  var y = n(22);
                  n.d(e, 'uniq', function () {
                    return y.a;
                  });
                  var m = n(46);
                  n.d(e, 'valuesOfKey', function () {
                    return m.a;
                  });
                  var b = n(47);
                  n.d(e, 'head', function () {
                    return b.a;
                  });
                  var x = n(48);
                  n.d(e, 'last', function () {
                    return x.a;
                  });
                  var _ = n(49);
                  n.d(e, 'startsWith', function () {
                    return _.a;
                  });
                  var w = n(50);
                  n.d(e, 'endsWith', function () {
                    return w.a;
                  });
                  var E = n(14);
                  n.d(e, 'filter', function () {
                    return E.a;
                  });
                  var S = n(51);
                  n.d(e, 'every', function () {
                    return S.a;
                  });
                  var M = n(52);
                  n.d(e, 'some', function () {
                    return M.a;
                  });
                  var k = n(53);
                  n.d(e, 'group', function () {
                    return k.a;
                  });
                  var A = n(24);
                  n.d(e, 'groupBy', function () {
                    return A.a;
                  });
                  var C = n(23);
                  n.d(e, 'groupToMap', function () {
                    return C.a;
                  });
                  var I = n(54);
                  n.d(e, 'getWrapBehavior', function () {
                    return I.a;
                  });
                  var T = n(55);
                  n.d(e, 'wrapBehavior', function () {
                    return T.a;
                  });
                  var N = n(56);
                  n.d(e, 'number2color', function () {
                    return N.a;
                  });
                  var P = n(57);
                  n.d(e, 'parseRadius', function () {
                    return P.a;
                  });
                  var O = n(58);
                  n.d(e, 'clamp', function () {
                    return O.a;
                  });
                  var D = n(59);
                  n.d(e, 'fixedBase', function () {
                    return D.a;
                  });
                  var L = n(60);
                  n.d(e, 'isDecimal', function () {
                    return L.a;
                  });
                  var R = n(61);
                  n.d(e, 'isEven', function () {
                    return R.a;
                  });
                  var B = n(62);
                  n.d(e, 'isInteger', function () {
                    return B.a;
                  });
                  var j = n(63);
                  n.d(e, 'isNegative', function () {
                    return j.a;
                  });
                  var G = n(64);
                  n.d(e, 'isNumberEqual', function () {
                    return G.a;
                  });
                  var z = n(65);
                  n.d(e, 'isOdd', function () {
                    return z.a;
                  });
                  var F = n(66);
                  n.d(e, 'isPositive', function () {
                    return F.a;
                  });
                  var U = n(67);
                  n.d(e, 'maxBy', function () {
                    return U.a;
                  });
                  var V = n(68);
                  n.d(e, 'minBy', function () {
                    return V.a;
                  });
                  var W = n(69);
                  n.d(e, 'mod', function () {
                    return W.a;
                  });
                  var Y = n(70);
                  n.d(e, 'toDegree', function () {
                    return Y.a;
                  });
                  var X = n(71);
                  n.d(e, 'toInteger', function () {
                    return X.a;
                  });
                  var H = n(72);
                  n.d(e, 'toRadian', function () {
                    return H.a;
                  });
                  var q = n(73);
                  n.d(e, 'forIn', function () {
                    return q.a;
                  });
                  var K = n(25);
                  n.d(e, 'has', function () {
                    return K.a;
                  });
                  var Z = n(74);
                  n.d(e, 'hasKey', function () {
                    return Z.a;
                  });
                  var $ = n(75);
                  n.d(e, 'hasValue', function () {
                    return $.a;
                  });
                  var Q = n(20);
                  n.d(e, 'keys', function () {
                    return Q.a;
                  });
                  var J = n(19);
                  n.d(e, 'isMatch', function () {
                    return J.a;
                  });
                  var tt = n(26);
                  n.d(e, 'values', function () {
                    return tt.a;
                  });
                  var et = n(76);
                  n.d(e, 'lowerCase', function () {
                    return et.a;
                  });
                  var nt = n(77);
                  n.d(e, 'lowerFirst', function () {
                    return nt.a;
                  });
                  var rt = n(78);
                  n.d(e, 'substitute', function () {
                    return rt.a;
                  });
                  var it = n(79);
                  n.d(e, 'upperCase', function () {
                    return it.a;
                  });
                  var ot = n(80);
                  n.d(e, 'upperFirst', function () {
                    return ot.a;
                  });
                  var at = n(27);
                  n.d(e, 'getType', function () {
                    return at.a;
                  });
                  var st = n(81);
                  n.d(e, 'isArguments', function () {
                    return st.a;
                  });
                  var ut = n(0);
                  n.d(e, 'isArray', function () {
                    return ut.a;
                  });
                  var ct = n(1);
                  n.d(e, 'isArrayLike', function () {
                    return ct.a;
                  });
                  var lt = n(82);
                  n.d(e, 'isBoolean', function () {
                    return lt.a;
                  });
                  var ht = n(83);
                  n.d(e, 'isDate', function () {
                    return ht.a;
                  });
                  var ft = n(84);
                  n.d(e, 'isError', function () {
                    return ft.a;
                  });
                  var dt = n(3);
                  n.d(e, 'isFunction', function () {
                    return dt.a;
                  });
                  var pt = n(85);
                  n.d(e, 'isFinite', function () {
                    return pt.a;
                  });
                  var gt = n(6);
                  n.d(e, 'isNil', function () {
                    return gt.a;
                  });
                  var vt = n(86);
                  n.d(e, 'isNull', function () {
                    return vt.a;
                  });
                  var yt = n(5);
                  n.d(e, 'isNumber', function () {
                    return yt.a;
                  });
                  var mt = n(13);
                  n.d(e, 'isObject', function () {
                    return mt.a;
                  });
                  var bt = n(15);
                  n.d(e, 'isObjectLike', function () {
                    return bt.a;
                  });
                  var xt = n(9);
                  n.d(e, 'isPlainObject', function () {
                    return xt.a;
                  });
                  var _t = n(28);
                  n.d(e, 'isPrototype', function () {
                    return _t.a;
                  });
                  var wt = n(87);
                  n.d(e, 'isRegExp', function () {
                    return wt.a;
                  });
                  var Et = n(8);
                  n.d(e, 'isString', function () {
                    return Et.a;
                  });
                  var St = n(4);
                  n.d(e, 'isType', function () {
                    return St.a;
                  });
                  var Mt = n(88);
                  n.d(e, 'isUndefined', function () {
                    return Mt.a;
                  });
                  var kt = n(89);
                  n.d(e, 'isElement', function () {
                    return kt.a;
                  });
                  var At = n(90);
                  n.d(e, 'requestAnimationFrame', function () {
                    return At.a;
                  });
                  var Ct = n(91);
                  n.d(e, 'clearAnimationFrame', function () {
                    return Ct.a;
                  });
                  var It = n(92);
                  n.d(e, 'augment', function () {
                    return It.a;
                  });
                  var Tt = n(93);
                  n.d(e, 'clone', function () {
                    return Tt.a;
                  });
                  var Nt = n(94);
                  n.d(e, 'debounce', function () {
                    return Nt.a;
                  });
                  var Pt = n(95);
                  n.d(e, 'memoize', function () {
                    return Pt.a;
                  });
                  var Ot = n(96);
                  n.d(e, 'deepMix', function () {
                    return Ot.a;
                  });
                  var Dt = n(2);
                  n.d(e, 'each', function () {
                    return Dt.a;
                  });
                  var Lt = n(97);
                  n.d(e, 'extend', function () {
                    return Lt.a;
                  });
                  var Rt = n(98);
                  n.d(e, 'indexOf', function () {
                    return Rt.a;
                  });
                  var Bt = n(99);
                  n.d(e, 'isEmpty', function () {
                    return Bt.a;
                  });
                  var jt = n(29);
                  n.d(e, 'isEqual', function () {
                    return jt.a;
                  });
                  var Gt = n(100);
                  n.d(e, 'isEqualWith', function () {
                    return Gt.a;
                  });
                  var zt = n(101);
                  n.d(e, 'map', function () {
                    return zt.a;
                  });
                  var Ft = n(102);
                  n.d(e, 'mapValues', function () {
                    return Ft.a;
                  });
                  var Ut = n(16);
                  n.d(e, 'mix', function () {
                    return Ut.a;
                  }),
                    n.d(e, 'assign', function () {
                      return Ut.a;
                    });
                  var Vt = n(103);
                  n.d(e, 'get', function () {
                    return Vt.a;
                  });
                  var Wt = n(104);
                  n.d(e, 'set', function () {
                    return Wt.a;
                  });
                  var Yt = n(105);
                  n.d(e, 'pick', function () {
                    return Yt.a;
                  });
                  var Xt = n(106);
                  n.d(e, 'throttle', function () {
                    return Xt.a;
                  });
                  var Ht = n(107);
                  n.d(e, 'toArray', function () {
                    return Ht.a;
                  });
                  var qt = n(10);
                  n.d(e, 'toString', function () {
                    return qt.a;
                  });
                  var Kt = n(108);
                  n.d(e, 'uniqueId', function () {
                    return Kt.a;
                  });
                  var Zt = n(109);
                  n.d(e, 'noop', function () {
                    return Zt.a;
                  });
                  var $t = n(110);
                  n.d(e, 'identity', function () {
                    return $t.a;
                  });
                  var Qt = n(111);
                  n.d(e, 'size', function () {
                    return Qt.a;
                  });
                  var Jt = n(112);
                  n.d(e, 'Cache', function () {
                    return Jt.a;
                  });
                },
                function (t, e, n) {
                  'use strict';
                  var r = n(14),
                    i = n(12);
                  e.a = function (t, e) {
                    return (
                      void 0 === e && (e = []),
                      Object(r.a)(t, function (t) {
                        return !Object(i.a)(e, t);
                      })
                    );
                  };
                },
                function (t, e, n) {
                  'use strict';
                  var r = n(3),
                    i = n(19),
                    o = n(0),
                    a = n(9);
                  e.a = function (t, e) {
                    if (!Object(o.a)(t)) return null;
                    var n;
                    if (
                      (Object(r.a)(e) && (n = e),
                      Object(a.a)(e) &&
                        (n = function (t) {
                          return Object(i.a)(t, e);
                        }),
                      n)
                    )
                      for (var s = 0; s < t.length; s += 1) if (n(t[s])) return t[s];
                    return null;
                  };
                },
                function (t, e, n) {
                  'use strict';
                  e.a = function (t, e, n) {
                    void 0 === n && (n = 0);
                    for (var r = n; r < t.length; r++) if (e(t[r], r)) return r;
                    return -1;
                  };
                },
                function (t, e, n) {
                  'use strict';
                  var r = n(6),
                    i = n(0);
                  e.a = function (t, e) {
                    for (var n = null, o = 0; o < t.length; o++) {
                      var a = t[o][e];
                      if (!Object(r.a)(a)) {
                        n = Object(i.a)(a) ? a[0] : a;
                        break;
                      }
                    }
                    return n;
                  };
                },
                function (t, e, n) {
                  'use strict';
                  var r = n(0);
                  e.a = function (t) {
                    if (!Object(r.a)(t)) return [];
                    for (var e = [], n = 0; n < t.length; n++) e = e.concat(t[n]);
                    return e;
                  };
                },
                function (t, e, n) {
                  'use strict';
                  var r = n(0),
                    i = function (t, e) {
                      if ((void 0 === e && (e = []), Object(r.a)(t)))
                        for (var n = 0; n < t.length; n += 1) i(t[n], e);
                      else e.push(t);
                      return e;
                    };
                  e.a = i;
                },
                function (t, e, n) {
                  'use strict';
                  var r = n(0),
                    i = n(14);
                  e.a = function (t) {
                    if (
                      !(t = Object(i.a)(t, function (t) {
                        return !isNaN(t);
                      })).length
                    )
                      return { min: 0, max: 0 };
                    if (Object(r.a)(t[0])) {
                      for (var e = [], n = 0; n < t.length; n++) e = e.concat(t[n]);
                      t = e;
                    }
                    var o = Math.max.apply(null, t);
                    return { min: Math.min.apply(null, t), max: o };
                  };
                },
                function (t, e, n) {
                  'use strict';
                  var r = Array.prototype,
                    i = r.splice,
                    o = r.indexOf;
                  e.a = function (t) {
                    for (var e = [], n = 1; n < arguments.length; n++) e[n - 1] = arguments[n];
                    for (var r = 0; r < e.length; r++)
                      for (var a = e[r], s = -1; (s = o.call(t, a)) > -1; ) i.call(t, s, 1);
                    return t;
                  };
                },
                function (t, e, n) {
                  'use strict';
                  var r = n(2),
                    i = n(0),
                    o = n(9);
                  e.a = function (t, e, n) {
                    if (!Object(i.a)(t) && !Object(o.a)(t)) return t;
                    var a = n;
                    return (
                      Object(r.a)(t, function (t, n) {
                        a = e(a, t, n);
                      }),
                      a
                    );
                  };
                },
                function (t, e, n) {
                  'use strict';
                  var r = n(1),
                    i = n(21);
                  e.a = function (t, e) {
                    var n = [];
                    if (!Object(r.a)(t)) return n;
                    for (var o = -1, a = [], s = t.length; ++o < s; ) {
                      var u = t[o];
                      e(u, o, t) && (n.push(u), a.push(o));
                    }
                    return Object(i.a)(t, a), n;
                  };
                },
                function (t, e, n) {
                  'use strict';
                  var r = n(0),
                    i = n(8),
                    o = n(3);
                  e.a = function (t, e) {
                    var n;
                    if (Object(o.a)(e))
                      n = function (t, n) {
                        return e(t) - e(n);
                      };
                    else {
                      var a = [];
                      Object(i.a)(e) ? a.push(e) : Object(r.a)(e) && (a = e),
                        (n = function (t, e) {
                          for (var n = 0; n < a.length; n += 1) {
                            var r = a[n];
                            if (t[r] > e[r]) return 1;
                            if (t[r] < e[r]) return -1;
                          }
                          return 0;
                        });
                    }
                    return t.sort(n), t;
                  };
                },
                function (t, e, n) {
                  'use strict';
                  var r = n(22);
                  e.a = function () {
                    for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
                    return Object(r.a)([].concat.apply([], t));
                  };
                },
                function (t, e, n) {
                  'use strict';
                  var r = n(2),
                    i = n(0),
                    o = n(6);
                  e.a = function (t, e) {
                    var n = [],
                      a = {};
                    return (
                      t.forEach(function (t) {
                        var s = t[e];
                        Object(o.a)(s) ||
                          (Object(i.a)(s) || (s = [s]),
                          Object(r.a)(s, function (t) {
                            a[t] || (n.push(t), (a[t] = !0));
                          }));
                      }),
                      n
                    );
                  };
                },
                function (t, e, n) {
                  'use strict';
                  e.a = function (t) {
                    if (Object(r.a)(t)) return t[0];
                  };
                  var r = n(1);
                },
                function (t, e, n) {
                  'use strict';
                  e.a = function (t) {
                    if (Object(r.a)(t)) return t[t.length - 1];
                  };
                  var r = n(1);
                },
                function (t, e, n) {
                  'use strict';
                  var r = n(0),
                    i = n(8);
                  e.a = function (t, e) {
                    return !(!Object(r.a)(t) && !Object(i.a)(t)) && t[0] === e;
                  };
                },
                function (t, e, n) {
                  'use strict';
                  var r = n(0),
                    i = n(8);
                  e.a = function (t, e) {
                    return !(!Object(r.a)(t) && !Object(i.a)(t)) && t[t.length - 1] === e;
                  };
                },
                function (t, e, n) {
                  'use strict';
                  e.a = function (t, e) {
                    for (var n = 0; n < t.length; n++) if (!e(t[n], n)) return !1;
                    return !0;
                  };
                },
                function (t, e, n) {
                  'use strict';
                  e.a = function (t, e) {
                    for (var n = 0; n < t.length; n++) if (e(t[n], n)) return !0;
                    return !1;
                  };
                },
                function (t, e, n) {
                  'use strict';
                  var r = n(23);
                  e.a = function (t, e) {
                    if (!e) return [t];
                    var n = Object(r.a)(t, e),
                      i = [];
                    for (var o in n) i.push(n[o]);
                    return i;
                  };
                },
                function (t, e, n) {
                  'use strict';
                  e.a = function (t, e) {
                    return t['_wrap_' + e];
                  };
                },
                function (t, e, n) {
                  'use strict';
                  e.a = function (t, e) {
                    if (t['_wrap_' + e]) return t['_wrap_' + e];
                    var n = function (n) {
                      t[e](n);
                    };
                    return (t['_wrap_' + e] = n), n;
                  };
                },
                function (t, e, n) {
                  'use strict';
                  var r = {};
                  e.a = function (t) {
                    var e = r[t];
                    if (!e) {
                      for (var n = t.toString(16), i = n.length; i < 6; i++) n = '0' + n;
                      (e = '#' + n), (r[t] = e);
                    }
                    return e;
                  };
                },
                function (t, e, n) {
                  'use strict';
                  var r = n(0);
                  e.a = function (t) {
                    var e = 0,
                      n = 0,
                      i = 0,
                      o = 0;
                    return (
                      Object(r.a)(t)
                        ? 1 === t.length
                          ? (e = n = i = o = t[0])
                          : 2 === t.length
                          ? ((e = i = t[0]), (n = o = t[1]))
                          : 3 === t.length
                          ? ((e = t[0]), (n = o = t[1]), (i = t[2]))
                          : ((e = t[0]), (n = t[1]), (i = t[2]), (o = t[3]))
                        : (e = n = i = o = t),
                      { r1: e, r2: n, r3: i, r4: o }
                    );
                  };
                },
                function (t, e, n) {
                  'use strict';
                  e.a = function (t, e, n) {
                    return t < e ? e : t > n ? n : t;
                  };
                },
                function (t, e, n) {
                  'use strict';
                  e.a = function (t, e) {
                    var n = e.toString(),
                      r = n.indexOf('.');
                    if (-1 === r) return Math.round(t);
                    var i = n.substr(r + 1).length;
                    return i > 20 && (i = 20), parseFloat(t.toFixed(i));
                  };
                },
                function (t, e, n) {
                  'use strict';
                  var r = n(5);
                  e.a = function (t) {
                    return Object(r.a)(t) && t % 1 != 0;
                  };
                },
                function (t, e, n) {
                  'use strict';
                  var r = n(5);
                  e.a = function (t) {
                    return Object(r.a)(t) && t % 2 == 0;
                  };
                },
                function (t, e, n) {
                  'use strict';
                  var r = n(5),
                    i = Number.isInteger
                      ? Number.isInteger
                      : function (t) {
                          return Object(r.a)(t) && t % 1 == 0;
                        };
                  e.a = i;
                },
                function (t, e, n) {
                  'use strict';
                  var r = n(5);
                  e.a = function (t) {
                    return Object(r.a)(t) && t < 0;
                  };
                },
                function (t, e, n) {
                  'use strict';
                  e.a = function (t, e, n) {
                    return void 0 === n && (n = 1e-5), Math.abs(t - e) < n;
                  };
                },
                function (t, e, n) {
                  'use strict';
                  var r = n(5);
                  e.a = function (t) {
                    return Object(r.a)(t) && t % 2 != 0;
                  };
                },
                function (t, e, n) {
                  'use strict';
                  var r = n(5);
                  e.a = function (t) {
                    return Object(r.a)(t) && t > 0;
                  };
                },
                function (t, e, n) {
                  'use strict';
                  var r = n(2),
                    i = n(0),
                    o = n(3);
                  e.a = function (t, e) {
                    if (Object(i.a)(t)) {
                      var n,
                        a,
                        s = t[0];
                      return (
                        (n = Object(o.a)(e) ? e(t[0]) : t[0][e]),
                        Object(r.a)(t, function (t) {
                          (a = Object(o.a)(e) ? e(t) : t[e]) > n && ((s = t), (n = a));
                        }),
                        s
                      );
                    }
                  };
                },
                function (t, e, n) {
                  'use strict';
                  var r = n(2),
                    i = n(0),
                    o = n(3);
                  e.a = function (t, e) {
                    if (Object(i.a)(t)) {
                      var n,
                        a,
                        s = t[0];
                      return (
                        (n = Object(o.a)(e) ? e(t[0]) : t[0][e]),
                        Object(r.a)(t, function (t) {
                          (a = Object(o.a)(e) ? e(t) : t[e]) < n && ((s = t), (n = a));
                        }),
                        s
                      );
                    }
                  };
                },
                function (t, e, n) {
                  'use strict';
                  e.a = function (t, e) {
                    return ((t % e) + e) % e;
                  };
                },
                function (t, e, n) {
                  'use strict';
                  var r = 180 / Math.PI;
                  e.a = function (t) {
                    return r * t;
                  };
                },
                function (t, e, n) {
                  'use strict';
                  e.a = parseInt;
                },
                function (t, e, n) {
                  'use strict';
                  var r = Math.PI / 180;
                  e.a = function (t) {
                    return r * t;
                  };
                },
                function (t, e, n) {
                  'use strict';
                  var r = n(2);
                  e.a = r.a;
                },
                function (t, e, n) {
                  'use strict';
                  var r = n(25);
                  e.a = r.a;
                },
                function (t, e, n) {
                  'use strict';
                  var r = n(12),
                    i = n(26);
                  e.a = function (t, e) {
                    return Object(r.a)(Object(i.a)(t), e);
                  };
                },
                function (t, e, n) {
                  'use strict';
                  var r = n(10);
                  e.a = function (t) {
                    return Object(r.a)(t).toLowerCase();
                  };
                },
                function (t, e, n) {
                  'use strict';
                  var r = n(10);
                  e.a = function (t) {
                    var e = Object(r.a)(t);
                    return e.charAt(0).toLowerCase() + e.substring(1);
                  };
                },
                function (t, e, n) {
                  'use strict';
                  e.a = function (t, e) {
                    return t && e
                      ? t.replace(/\\?\{([^{}]+)\}/g, function (t, n) {
                          return '\\' === t.charAt(0) ? t.slice(1) : void 0 === e[n] ? '' : e[n];
                        })
                      : t;
                  };
                },
                function (t, e, n) {
                  'use strict';
                  var r = n(10);
                  e.a = function (t) {
                    return Object(r.a)(t).toUpperCase();
                  };
                },
                function (t, e, n) {
                  'use strict';
                  var r = n(10);
                  e.a = function (t) {
                    var e = Object(r.a)(t);
                    return e.charAt(0).toUpperCase() + e.substring(1);
                  };
                },
                function (t, e, n) {
                  'use strict';
                  var r = n(4);
                  e.a = function (t) {
                    return Object(r.a)(t, 'Arguments');
                  };
                },
                function (t, e, n) {
                  'use strict';
                  var r = n(4);
                  e.a = function (t) {
                    return Object(r.a)(t, 'Boolean');
                  };
                },
                function (t, e, n) {
                  'use strict';
                  var r = n(4);
                  e.a = function (t) {
                    return Object(r.a)(t, 'Date');
                  };
                },
                function (t, e, n) {
                  'use strict';
                  var r = n(4);
                  e.a = function (t) {
                    return Object(r.a)(t, 'Error');
                  };
                },
                function (t, e, n) {
                  'use strict';
                  var r = n(5);
                  e.a = function (t) {
                    return Object(r.a)(t) && isFinite(t);
                  };
                },
                function (t, e, n) {
                  'use strict';
                  e.a = function (t) {
                    return null === t;
                  };
                },
                function (t, e, n) {
                  'use strict';
                  var r = n(4);
                  e.a = function (t) {
                    return Object(r.a)(t, 'RegExp');
                  };
                },
                function (t, e, n) {
                  'use strict';
                  e.a = function (t) {
                    return void 0 === t;
                  };
                },
                function (t, e, n) {
                  'use strict';
                  e.a = function (t) {
                    return t instanceof Element || t instanceof HTMLDocument;
                  };
                },
                function (t, e, n) {
                  'use strict';
                  e.a = function (t) {
                    return (
                      window.requestAnimationFrame ||
                      window.webkitRequestAnimationFrame ||
                      window.mozRequestAnimationFrame ||
                      window.msRequestAnimationFrame ||
                      function (t) {
                        return setTimeout(t, 16);
                      }
                    )(t);
                  };
                },
                function (t, e, n) {
                  'use strict';
                  e.a = function (t) {
                    (
                      window.cancelAnimationFrame ||
                      window.webkitCancelAnimationFrame ||
                      window.mozCancelAnimationFrame ||
                      window.msCancelAnimationFrame ||
                      clearTimeout
                    )(t);
                  };
                },
                function (t, e, n) {
                  'use strict';
                  var r = n(16),
                    i = n(3);
                  e.a = function () {
                    for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
                    for (var n = t[0], o = 1; o < t.length; o++) {
                      var a = t[o];
                      Object(i.a)(a) && (a = a.prototype), Object(r.a)(n.prototype, a);
                    }
                  };
                },
                function (t, e, n) {
                  'use strict';
                  var r = n(0),
                    i = function (t) {
                      if ('object' != typeof t || null === t) return t;
                      var e;
                      if (Object(r.a)(t)) {
                        e = [];
                        for (var n = 0, o = t.length; n < o; n++)
                          'object' == typeof t[n] && null != t[n]
                            ? (e[n] = i(t[n]))
                            : (e[n] = t[n]);
                      } else
                        for (var a in ((e = {}), t))
                          'object' == typeof t[a] && null != t[a]
                            ? (e[a] = i(t[a]))
                            : (e[a] = t[a]);
                      return e;
                    };
                  e.a = i;
                },
                function (t, e, n) {
                  'use strict';
                  e.a = function (t, e, n) {
                    var r;
                    return function () {
                      var i = this,
                        o = arguments,
                        a = function () {
                          (r = null), n || t.apply(i, o);
                        },
                        s = n && !r;
                      clearTimeout(r), (r = setTimeout(a, e)), s && t.apply(i, o);
                    };
                  };
                },
                function (t, e, n) {
                  'use strict';
                  var r = n(3);
                  e.a = function (t, e) {
                    if (!Object(r.a)(t)) throw new TypeError('Expected a function');
                    var n = function () {
                      for (var r = [], i = 0; i < arguments.length; i++) r[i] = arguments[i];
                      var o = e ? e.apply(this, r) : r[0],
                        a = n.cache;
                      if (a.has(o)) return a.get(o);
                      var s = t.apply(this, r);
                      return a.set(o, s), s;
                    };
                    return (n.cache = new Map()), n;
                  };
                },
                function (t, e, n) {
                  'use strict';
                  var r = n(0),
                    i = n(9);
                  function o(t, e, n, a) {
                    for (var s in ((n = n || 0), (a = a || 5), e))
                      if (e.hasOwnProperty(s)) {
                        var u = e[s];
                        null !== u && Object(i.a)(u)
                          ? (Object(i.a)(t[s]) || (t[s] = {}),
                            n < a ? o(t[s], u, n + 1, a) : (t[s] = e[s]))
                          : Object(r.a)(u)
                          ? ((t[s] = []), (t[s] = t[s].concat(u)))
                          : void 0 !== u && (t[s] = u);
                      }
                  }
                  e.a = function (t) {
                    for (var e = [], n = 1; n < arguments.length; n++) e[n - 1] = arguments[n];
                    for (var r = 0; r < e.length; r += 1) o(t, e[r]);
                    return t;
                  };
                },
                function (t, e, n) {
                  'use strict';
                  var r = n(16),
                    i = n(3);
                  e.a = function (t, e, n, o) {
                    Object(i.a)(e) || ((n = e), (e = t), (t = function () {}));
                    var a = Object.create
                        ? function (t, e) {
                            return Object.create(t, { constructor: { value: e } });
                          }
                        : function (t, e) {
                            function n() {}
                            n.prototype = t;
                            var r = new n();
                            return (r.constructor = e), r;
                          },
                      s = a(e.prototype, t);
                    return (
                      (t.prototype = Object(r.a)(s, t.prototype)),
                      (t.superclass = a(e.prototype, e)),
                      Object(r.a)(s, n),
                      Object(r.a)(t, o),
                      t
                    );
                  };
                },
                function (t, e, n) {
                  'use strict';
                  var r = n(1);
                  e.a = function (t, e) {
                    if (!Object(r.a)(t)) return -1;
                    var n = Array.prototype.indexOf;
                    if (n) return n.call(t, e);
                    for (var i = -1, o = 0; o < t.length; o++)
                      if (t[o] === e) {
                        i = o;
                        break;
                      }
                    return i;
                  };
                },
                function (t, e, n) {
                  'use strict';
                  var r = n(6),
                    i = n(1),
                    o = n(27),
                    a = n(28),
                    s = Object.prototype.hasOwnProperty;
                  e.a = function (t) {
                    if (Object(r.a)(t)) return !0;
                    if (Object(i.a)(t)) return !t.length;
                    var e = Object(o.a)(t);
                    if ('Map' === e || 'Set' === e) return !t.size;
                    if (Object(a.a)(t)) return !Object.keys(t).length;
                    for (var n in t) if (s.call(t, n)) return !1;
                    return !0;
                  };
                },
                function (t, e, n) {
                  'use strict';
                  var r = n(3),
                    i = n(29);
                  e.a = function (t, e, n) {
                    return Object(r.a)(n) ? !!n(t, e) : Object(i.a)(t, e);
                  };
                },
                function (t, e, n) {
                  'use strict';
                  var r = n(2),
                    i = n(1);
                  e.a = function (t, e) {
                    if (!Object(i.a)(t)) return t;
                    var n = [];
                    return (
                      Object(r.a)(t, function (t, r) {
                        n.push(e(t, r));
                      }),
                      n
                    );
                  };
                },
                function (t, e, n) {
                  'use strict';
                  var r = n(6),
                    i = n(13),
                    o = function (t) {
                      return t;
                    };
                  e.a = function (t, e) {
                    void 0 === e && (e = o);
                    var n = {};
                    return (
                      Object(i.a)(t) &&
                        !Object(r.a)(t) &&
                        Object.keys(t).forEach(function (r) {
                          n[r] = e(t[r], r);
                        }),
                      n
                    );
                  };
                },
                function (t, e, n) {
                  'use strict';
                  var r = n(8);
                  e.a = function (t, e, n) {
                    for (var i = 0, o = Object(r.a)(e) ? e.split('.') : e; t && i < o.length; )
                      t = t[o[i++]];
                    return void 0 === t || i < o.length ? n : t;
                  };
                },
                function (t, e, n) {
                  'use strict';
                  var r = n(13),
                    i = n(8),
                    o = n(5);
                  e.a = function (t, e, n) {
                    var a = t,
                      s = Object(i.a)(e) ? e.split('.') : e;
                    return (
                      s.forEach(function (t, e) {
                        e < s.length - 1
                          ? (Object(r.a)(a[t]) || (a[t] = Object(o.a)(s[e + 1]) ? [] : {}),
                            (a = a[t]))
                          : (a[t] = n);
                      }),
                      t
                    );
                  };
                },
                function (t, e, n) {
                  'use strict';
                  var r = n(2),
                    i = n(9),
                    o = Object.prototype.hasOwnProperty;
                  e.a = function (t, e) {
                    if (null === t || !Object(i.a)(t)) return {};
                    var n = {};
                    return (
                      Object(r.a)(e, function (e) {
                        o.call(t, e) && (n[e] = t[e]);
                      }),
                      n
                    );
                  };
                },
                function (t, e, n) {
                  'use strict';
                  e.a = function (t, e, n) {
                    var r,
                      i,
                      o,
                      a,
                      s = 0;
                    n || (n = {});
                    var u = function () {
                        (s = !1 === n.leading ? 0 : Date.now()),
                          (r = null),
                          (a = t.apply(i, o)),
                          r || (i = o = null);
                      },
                      c = function () {
                        var c = Date.now();
                        s || !1 !== n.leading || (s = c);
                        var l = e - (c - s);
                        return (
                          (i = this),
                          (o = arguments),
                          l <= 0 || l > e
                            ? (r && (clearTimeout(r), (r = null)),
                              (s = c),
                              (a = t.apply(i, o)),
                              r || (i = o = null))
                            : r || !1 === n.trailing || (r = setTimeout(u, l)),
                          a
                        );
                      };
                    return (
                      (c.cancel = function () {
                        clearTimeout(r), (s = 0), (r = i = o = null);
                      }),
                      c
                    );
                  };
                },
                function (t, e, n) {
                  'use strict';
                  var r = n(1);
                  e.a = function (t) {
                    return Object(r.a)(t) ? Array.prototype.slice.call(t) : [];
                  };
                },
                function (t, e, n) {
                  'use strict';
                  var r = {};
                  e.a = function (t) {
                    return r[(t = t || 'g')] ? (r[t] += 1) : (r[t] = 1), t + r[t];
                  };
                },
                function (t, e, n) {
                  'use strict';
                  e.a = function () {};
                },
                function (t, e, n) {
                  'use strict';
                  e.a = function (t) {
                    return t;
                  };
                },
                function (t, e, n) {
                  'use strict';
                  e.a = function (t) {
                    return Object(r.a)(t) ? 0 : Object(i.a)(t) ? t.length : Object.keys(t).length;
                  };
                  var r = n(6),
                    i = n(1);
                },
                function (t, e, n) {
                  'use strict';
                  var r = (function () {
                    function t() {
                      this.map = {};
                    }
                    return (
                      (t.prototype.has = function (t) {
                        return void 0 !== this.map[t];
                      }),
                      (t.prototype.get = function (t, e) {
                        var n = this.map[t];
                        return void 0 === n ? e : n;
                      }),
                      (t.prototype.set = function (t, e) {
                        this.map[t] = e;
                      }),
                      (t.prototype.clear = function () {
                        this.map = {};
                      }),
                      (t.prototype.delete = function (t) {
                        delete this.map[t];
                      }),
                      (t.prototype.size = function () {
                        return Object.keys(this.map).length;
                      }),
                      t
                    );
                  })();
                  e.a = r;
                },
                function (t, e) {
                  function n(t, e, n, r) {
                    void 0 === r && (r = []);
                    var i = this;
                    (i.w = t || 0),
                      (i.h = e || 0),
                      (i.y = n || 0),
                      (i.x = 0),
                      (i.c = r || []),
                      (i.cs = r.length),
                      (i.prelim = 0),
                      (i.mod = 0),
                      (i.shift = 0),
                      (i.change = 0),
                      (i.tl = null),
                      (i.tr = null),
                      (i.el = null),
                      (i.er = null),
                      (i.msel = 0),
                      (i.mser = 0);
                  }
                  function r(t, e, n) {
                    n ? (t.y += e) : (t.x += e),
                      t.children.forEach(function (t) {
                        r(t, e, n);
                      });
                  }
                  function i(t, e) {
                    var n = e ? t.y : t.x;
                    return (
                      t.children.forEach(function (t) {
                        n = Math.min(i(t, e), n);
                      }),
                      n
                    );
                  }
                  function o(t, e) {
                    r(t, -i(t, e), e);
                  }
                  function a(t, e, n) {
                    n ? (e.y = t.x) : (e.x = t.x),
                      t.c.forEach(function (t, r) {
                        a(t, e.children[r], n);
                      });
                  }
                  function s(t, e, n) {
                    void 0 === n && (n = 0),
                      e ? ((t.x = n), (n += t.width)) : ((t.y = n), (n += t.height)),
                      t.children.forEach(function (t) {
                        s(t, e, n);
                      });
                  }
                  (n.fromNode = function (t, e) {
                    if (!t) return null;
                    var r = [];
                    return (
                      t.children.forEach(function (t) {
                        r.push(n.fromNode(t, e));
                      }),
                      e ? new n(t.height, t.width, t.x, r) : new n(t.width, t.height, t.y, r)
                    );
                  }),
                    (t.exports = function (t, e) {
                      void 0 === e && (e = {});
                      var r = e.isHorizontal;
                      function i(t) {
                        0 === t.cs
                          ? ((t.el = t), (t.er = t), (t.msel = t.mser = 0))
                          : ((t.el = t.c[0].el),
                            (t.msel = t.c[0].msel),
                            (t.er = t.c[t.cs - 1].er),
                            (t.mser = t.c[t.cs - 1].mser));
                      }
                      function u(t, e, n) {
                        for (
                          var r = t.c[e - 1], i = r.mod, o = t.c[e], a = o.mod;
                          null !== r && null !== o;

                        ) {
                          f(r) > n.low && (n = n.nxt);
                          var s = i + r.prelim + r.w - (a + o.prelim);
                          s > 0 && ((a += s), c(t, e, n.index, s));
                          var u = f(r),
                            d = f(o);
                          u <= d && null !== (r = h(r)) && (i += r.mod),
                            u >= d && null !== (o = l(o)) && (a += o.mod);
                        }
                        !r && o
                          ? (function (t, e, n, r) {
                              var i = t.c[0].el;
                              i.tl = n;
                              var o = r - n.mod - t.c[0].msel;
                              (i.mod += o),
                                (i.prelim -= o),
                                (t.c[0].el = t.c[e].el),
                                (t.c[0].msel = t.c[e].msel);
                            })(t, e, o, a)
                          : r &&
                            !o &&
                            (function (t, e, n, r) {
                              var i = t.c[e].er;
                              i.tr = n;
                              var o = r - n.mod - t.c[e].mser;
                              (i.mod += o),
                                (i.prelim -= o),
                                (t.c[e].er = t.c[e - 1].er),
                                (t.c[e].mser = t.c[e - 1].mser);
                            })(t, e, r, i);
                      }
                      function c(t, e, n, r) {
                        (t.c[e].mod += r),
                          (t.c[e].msel += r),
                          (t.c[e].mser += r),
                          (function (t, e, n, r) {
                            if (n !== e - 1) {
                              var i = e - n;
                              (t.c[n + 1].shift += r / i),
                                (t.c[e].shift -= r / i),
                                (t.c[e].change -= r - r / i);
                            }
                          })(t, e, n, r);
                      }
                      function l(t) {
                        return 0 === t.cs ? t.tl : t.c[0];
                      }
                      function h(t) {
                        return 0 === t.cs ? t.tr : t.c[t.cs - 1];
                      }
                      function f(t) {
                        return t.y + t.h;
                      }
                      function d(t, e, n) {
                        for (; null !== n && t >= n.low; ) n = n.nxt;
                        return { low: t, index: e, nxt: n };
                      }
                      s(t, r);
                      var p = n.fromNode(t, r);
                      return (
                        (function t(e) {
                          if (0 !== e.cs) {
                            t(e.c[0]);
                            for (var n = d(f(e.c[0].el), 0, null), r = 1; r < e.cs; ++r) {
                              t(e.c[r]);
                              var o = f(e.c[r].er);
                              u(e, r, n), (n = d(o, r, n));
                            }
                            !(function (t) {
                              t.prelim =
                                (t.c[0].prelim +
                                  t.c[0].mod +
                                  t.c[t.cs - 1].mod +
                                  t.c[t.cs - 1].prelim +
                                  t.c[t.cs - 1].w) /
                                  2 -
                                t.w / 2;
                            })(e),
                              i(e);
                          } else i(e);
                        })(p),
                        (function t(e, n) {
                          (n += e.mod),
                            (e.x = e.prelim + n),
                            (function (t) {
                              for (var e = 0, n = 0, r = 0; r < t.cs; r++)
                                (n += (e += t.c[r].shift) + t.c[r].change), (t.c[r].mod += n);
                            })(e);
                          for (var r = 0; r < e.cs; r++) t(e.c[r], n);
                        })(p, 0),
                        a(p, t, r),
                        o(t, r),
                        t
                      );
                    });
                },
                function (t, e, n) {
                  var r = n(11),
                    i = n(115),
                    o = n(17),
                    a = n(7),
                    s = (function (t) {
                      var e, n;
                      function r() {
                        return t.apply(this, arguments) || this;
                      }
                      return (
                        (n = t),
                        ((e = r).prototype = Object.create(n.prototype)),
                        (e.prototype.constructor = e),
                        (e.__proto__ = n),
                        (r.prototype.execute = function () {
                          var t = this;
                          return (t.rootNode.width = 0), o(t.rootNode, t.options, i);
                        }),
                        r
                      );
                    })(r),
                    u = {};
                  t.exports = function (t, e) {
                    return (e = a.assign({}, u, e)), new s(t, e).execute();
                  };
                },
                function (t, e, n) {
                  var r = n(7);
                  function i(t, e) {
                    void 0 === t && (t = 0), void 0 === e && (e = []);
                    var n = this;
                    (n.x = n.y = 0),
                      (n.leftChild = n.rightChild = null),
                      (n.height = 0),
                      (n.children = e);
                  }
                  var o = {
                    isHorizontal: !0,
                    nodeSep: 20,
                    nodeSize: 20,
                    rankSep: 200,
                    subTreeSep: 10,
                  };
                  function a(t, e, n) {
                    n ? ((e.x = t.x), (e.y = t.y)) : ((e.x = t.y), (e.y = t.x)),
                      t.children.forEach(function (t, r) {
                        a(t, e.children[r], n);
                      });
                  }
                  t.exports = function (t, e) {
                    void 0 === e && (e = {}), (e = r.assign({}, o, e));
                    var n,
                      s = 0,
                      u = (function t(e) {
                        if (!e) return null;
                        (e.width = 0), e.depth && e.depth > s && (s = e.depth);
                        var n = e.children,
                          r = n.length,
                          o = new i(e.height, []);
                        return (
                          n.forEach(function (e, n) {
                            var i = t(e);
                            o.children.push(i),
                              0 === n && (o.leftChild = i),
                              n === r - 1 && (o.rightChild = i);
                          }),
                          (o.originNode = e),
                          (o.isLeaf = e.isLeaf()),
                          o
                        );
                      })(t);
                    return (
                      (function t(e) {
                        if (e.isLeaf || 0 === e.children.length) e.drawingDepth = s;
                        else {
                          var n = e.children.map(function (e) {
                              return t(e);
                            }),
                            r = Math.min.apply(null, n);
                          e.drawingDepth = r - 1;
                        }
                        return e.drawingDepth;
                      })(u),
                      (function t(r) {
                        (r.x = r.drawingDepth * e.rankSep),
                          r.isLeaf
                            ? ((r.y = 0),
                              n &&
                                ((r.y = n.y + n.height + e.nodeSep),
                                r.originNode.parent !== n.originNode.parent &&
                                  (r.y += e.subTreeSep)),
                              (n = r))
                            : (r.children.forEach(function (e) {
                                t(e);
                              }),
                              (r.y = (r.leftChild.y + r.rightChild.y) / 2));
                      })(u),
                      a(u, t, e.isHorizontal),
                      t
                    );
                  };
                },
                function (t, e, n) {
                  var r = n(11),
                    i = n(117),
                    o = n(30),
                    a = n(7),
                    s = ['LR', 'RL', 'H'],
                    u = s[0],
                    c = (function (t) {
                      var e, n;
                      function r() {
                        return t.apply(this, arguments) || this;
                      }
                      return (
                        (n = t),
                        ((e = r).prototype = Object.create(n.prototype)),
                        (e.prototype.constructor = e),
                        (e.__proto__ = n),
                        (r.prototype.execute = function () {
                          var t = this.options,
                            e = this.rootNode;
                          t.isHorizontal = !0;
                          var n = t.indent,
                            r = void 0 === n ? 20 : n,
                            a = t.dropCap,
                            c = void 0 === a || a,
                            l = t.direction || u;
                          if (l && -1 === s.indexOf(l))
                            throw new TypeError('Invalid direction: ' + l);
                          if (l === s[0]) i(e, r, c);
                          else if (l === s[1]) i(e, r, c), e.right2left();
                          else if (l === s[2]) {
                            var h = o(e, t),
                              f = h.left,
                              d = h.right;
                            i(f, r, c), f.right2left(), i(d, r, c);
                            var p = f.getBoundingBox();
                            d.translate(p.width, 0), (e.x = d.x - e.width / 2);
                          }
                          return e;
                        }),
                        r
                      );
                    })(r),
                    l = {};
                  t.exports = function (t, e) {
                    return (e = a.assign({}, l, e)), new c(t, e).execute();
                  };
                },
                function (t, e) {
                  t.exports = function (t, e, n) {
                    var r = null;
                    t.eachNode(function (t) {
                      !(function (t, e, n, r) {
                        var i = 'function' == typeof n ? n(t) : n * t.depth;
                        if (!r)
                          try {
                            if (t.id === t.parent.children[0].id)
                              return (t.x += i), void (t.y = e ? e.y : 0);
                          } catch (t) {}
                        (t.x += i), (t.y = e ? e.y + e.height : 0);
                      })(t, r, e, n),
                        (r = t);
                    });
                  };
                },
                function (t, e, n) {
                  var r = n(11),
                    i = n(119),
                    o = n(17),
                    a = n(7),
                    s = (function (t) {
                      var e, n;
                      function r() {
                        return t.apply(this, arguments) || this;
                      }
                      return (
                        (n = t),
                        ((e = r).prototype = Object.create(n.prototype)),
                        (e.prototype.constructor = e),
                        (e.__proto__ = n),
                        (r.prototype.execute = function () {
                          return o(this.rootNode, this.options, i);
                        }),
                        r
                      );
                    })(r),
                    u = {};
                  t.exports = function (t, e) {
                    return (e = a.assign({}, u, e)), new s(t, e).execute();
                  };
                },
                function (t, e, n) {
                  var r = n(7);
                  function i(t, e) {
                    var n = 0;
                    return (
                      t.children.length
                        ? t.children.forEach(function (t) {
                            n += i(t, e);
                          })
                        : (n = t.height),
                      (t._subTreeSep = e.getSubTreeSep(t.data)),
                      (t.totalHeight = Math.max(t.height, n) + 2 * t._subTreeSep),
                      t.totalHeight
                    );
                  }
                  function o(t) {
                    var e = t.children,
                      n = e.length;
                    if (n) {
                      e.forEach(function (t) {
                        o(t);
                      });
                      var r = e[0],
                        i = e[n - 1],
                        a = i.y - r.y + i.height,
                        s = 0;
                      if (
                        (e.forEach(function (t) {
                          s += t.totalHeight;
                        }),
                        a > t.height)
                      )
                        t.y = r.y + a / 2 - t.height / 2;
                      else if (1 !== e.length || t.height > s) {
                        var u = t.y + (t.height - a) / 2 - r.y;
                        e.forEach(function (t) {
                          t.translate(0, u);
                        });
                      } else t.y = (r.y + r.height / 2 + i.y + i.height / 2) / 2 - t.height / 2;
                    }
                  }
                  var a = {
                    getSubTreeSep: function () {
                      return 0;
                    },
                  };
                  t.exports = function (t, e) {
                    void 0 === e && (e = {}),
                      (e = r.assign({}, a, e)),
                      (t.parent = { x: 0, width: 0, height: 0, y: 0 }),
                      t.BFTraverse(function (t) {
                        t.x = t.parent.x + t.parent.width;
                      }),
                      (t.parent = null),
                      i(t, e),
                      (t.startY = 0),
                      (t.y = t.totalHeight / 2 - t.height / 2),
                      t.eachNode(function (t) {
                        var e = t.children,
                          n = e.length;
                        if (n) {
                          var r = e[0];
                          if (((r.startY = t.startY + t._subTreeSep), 1 === n))
                            r.y = t.y + t.height / 2 - r.height / 2;
                          else {
                            r.y = r.startY + r.totalHeight / 2 - r.height / 2;
                            for (var i = 1; i < n; i++) {
                              var o = e[i];
                              (o.startY = e[i - 1].startY + e[i - 1].totalHeight),
                                (o.y = o.startY + o.totalHeight / 2 - o.height / 2);
                            }
                          }
                        }
                      }),
                      o(t);
                  };
                },
              ]);
            }),
            (t.exports = e());
        },
        3360: function (t, e, n) {
          'use strict';
          var r =
              (this && this.__createBinding) ||
              (Object.create
                ? function (t, e, n, r) {
                    void 0 === r && (r = n),
                      Object.defineProperty(t, r, {
                        enumerable: !0,
                        get: function () {
                          return e[n];
                        },
                      });
                  }
                : function (t, e, n, r) {
                    void 0 === r && (r = n), (t[r] = e[n]);
                  }),
            i =
              (this && this.__exportStar) ||
              function (t, e) {
                for (var n in t)
                  'default' === n || Object.prototype.hasOwnProperty.call(e, n) || r(e, t, n);
              };
          Object.defineProperty(e, '__esModule', { value: !0 }),
            (e.getLayoutByName = e.unRegisterLayout = e.registerLayout = void 0);
          var o = n(5326);
          Object.defineProperty(e, 'registerLayout', {
            enumerable: !0,
            get: function () {
              return o.registerLayout;
            },
          }),
            Object.defineProperty(e, 'unRegisterLayout', {
              enumerable: !0,
              get: function () {
                return o.unRegisterLayout;
              },
            }),
            Object.defineProperty(e, 'getLayoutByName', {
              enumerable: !0,
              get: function () {
                return o.getLayoutByName;
              },
            }),
            i(n(2584), e);
        },
        2329: (t, e) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }), (e.Base = void 0);
          var n = (function () {
            function t() {
              (this.nodes = []),
                (this.edges = []),
                (this.combos = []),
                (this.comboEdges = []),
                (this.hiddenNodes = []),
                (this.hiddenEdges = []),
                (this.hiddenCombos = []),
                (this.positions = []),
                (this.destroyed = !1),
                (this.onLayoutEnd = function () {});
            }
            return (
              (t.prototype.layout = function (t) {
                return this.init(t), this.execute(!0);
              }),
              (t.prototype.init = function (t) {
                (this.nodes = t.nodes || []),
                  (this.edges = t.edges || []),
                  (this.combos = t.combos || []),
                  (this.comboEdges = t.comboEdges || []),
                  (this.hiddenNodes = t.hiddenNodes || []),
                  (this.hiddenEdges = t.hiddenEdges || []),
                  (this.hiddenCombos = t.hiddenCombos || []);
              }),
              (t.prototype.execute = function (t) {}),
              (t.prototype.executeWithWorker = function () {}),
              (t.prototype.getDefaultCfg = function () {
                return {};
              }),
              (t.prototype.updateCfg = function (t) {
                t && Object.assign(this, t);
              }),
              (t.prototype.getType = function () {
                return 'base';
              }),
              (t.prototype.destroy = function () {
                (this.nodes = null),
                  (this.edges = null),
                  (this.combos = null),
                  (this.positions = null),
                  (this.destroyed = !0);
              }),
              t
            );
          })();
          e.Base = n;
        },
        4885: function (t, e, n) {
          'use strict';
          var r,
            i =
              (this && this.__extends) ||
              ((r = function (t, e) {
                return (
                  (r =
                    Object.setPrototypeOf ||
                    ({ __proto__: [] } instanceof Array &&
                      function (t, e) {
                        t.__proto__ = e;
                      }) ||
                    function (t, e) {
                      for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
                    }),
                  r(t, e)
                );
              }),
              function (t, e) {
                if ('function' != typeof e && null !== e)
                  throw new TypeError(
                    'Class extends value ' + String(e) + ' is not a constructor or null',
                  );
                function n() {
                  this.constructor = t;
                }
                r(t, e),
                  (t.prototype =
                    null === e ? Object.create(e) : ((n.prototype = e.prototype), new n()));
              });
          Object.defineProperty(e, '__esModule', { value: !0 }), (e.CircularLayout = void 0);
          var o = n(2329),
            a = n(9784);
          function s(t, e) {
            var n = t.degree,
              r = e.degree;
            return n < r ? -1 : n > r ? 1 : 0;
          }
          var u = (function (t) {
            function e(e) {
              var n = t.call(this) || this;
              return (
                (n.radius = null),
                (n.nodeSize = void 0),
                (n.startRadius = null),
                (n.endRadius = null),
                (n.startAngle = 0),
                (n.endAngle = 2 * Math.PI),
                (n.clockwise = !0),
                (n.divisions = 1),
                (n.ordering = null),
                (n.angleRatio = 1),
                (n.nodes = []),
                (n.edges = []),
                (n.nodeMap = {}),
                (n.degrees = []),
                (n.width = 300),
                (n.height = 300),
                n.updateCfg(e),
                n
              );
            }
            return (
              i(e, t),
              (e.prototype.getDefaultCfg = function () {
                return {
                  radius: null,
                  startRadius: null,
                  endRadius: null,
                  startAngle: 0,
                  endAngle: 2 * Math.PI,
                  clockwise: !0,
                  divisions: 1,
                  ordering: null,
                  angleRatio: 1,
                };
              }),
              (e.prototype.execute = function () {
                var t,
                  e = this,
                  n = e.nodes,
                  r = e.edges,
                  i = n.length;
                if (0 !== i) {
                  e.width || 'undefined' == typeof window || (e.width = window.innerWidth),
                    e.height || 'undefined' == typeof window || (e.height = window.innerHeight),
                    e.center || (e.center = [e.width / 2, e.height / 2]);
                  var o = e.center;
                  if (1 === i)
                    return (
                      (n[0].x = o[0]), (n[0].y = o[1]), void (e.onLayoutEnd && e.onLayoutEnd())
                    );
                  var s = e.radius,
                    u = e.startRadius,
                    c = e.endRadius,
                    l = e.divisions,
                    h = e.startAngle,
                    f = e.endAngle,
                    d = e.angleRatio,
                    p = e.ordering,
                    g = e.clockwise,
                    v = e.nodeSpacing,
                    y = e.nodeSize,
                    m = (f - h) / i,
                    b = {};
                  n.forEach(function (t, e) {
                    b[t.id] = e;
                  }),
                    (e.nodeMap = b);
                  var x = (0, a.getDegree)(n.length, b, r);
                  if (((e.degrees = x), v)) {
                    var _ = (0, a.getFuncByUnknownType)(10, v),
                      w = (0, a.getFuncByUnknownType)(10, y),
                      E = -1 / 0;
                    n.forEach(function (t) {
                      var e = w(t);
                      E < e && (E = e);
                    });
                    var S = 0;
                    n.forEach(function (t, e) {
                      S += 0 === e ? E || 10 : (_(t) || 0) + (E || 10);
                    }),
                      (s = S / (2 * Math.PI));
                  } else
                    s || u || c
                      ? !u && c
                        ? (u = c)
                        : u && !c && (c = u)
                      : (s = e.height > e.width ? e.width / 2 : e.height / 2);
                  var M = m * d,
                    k = [];
                  k =
                    'topology' === p
                      ? e.topologyOrdering()
                      : 'topology-directed' === p
                      ? e.topologyOrdering(!0)
                      : 'degree' === p
                      ? e.degreeOrdering()
                      : n;
                  for (var A = Math.ceil(i / l), C = 0; C < i; ++C) {
                    var I = s;
                    I || null === u || null === c || (I = u + (C * (c - u)) / (i - 1)),
                      I || (I = 10 + (100 * C) / (i - 1));
                    var T = h + (C % A) * M + ((2 * Math.PI) / l) * Math.floor(C / A);
                    g || (T = f - (C % A) * M - ((2 * Math.PI) / l) * Math.floor(C / A)),
                      (k[C].x = o[0] + Math.cos(T) * I),
                      (k[C].y = o[1] + Math.sin(T) * I),
                      (k[C].weight = x[C]);
                  }
                  return (
                    null === (t = e.onLayoutEnd) || void 0 === t || t.call(e),
                    { nodes: k, edges: this.edges }
                  );
                }
                e.onLayoutEnd && e.onLayoutEnd();
              }),
              (e.prototype.topologyOrdering = function (t) {
                void 0 === t && (t = !1);
                var e = this,
                  n = e.degrees,
                  r = e.edges,
                  i = e.nodes,
                  o = (0, a.clone)(i),
                  s = e.nodeMap,
                  u = [o[0]],
                  c = [i[0]],
                  l = [],
                  h = i.length;
                (l[0] = !0),
                  (function (t, e, n, r) {
                    t.forEach(function (e, n) {
                      (t[n].children = []), (t[n].parent = []);
                    }),
                      r
                        ? e.forEach(function (e) {
                            var r = (0, a.getEdgeTerminal)(e, 'source'),
                              i = (0, a.getEdgeTerminal)(e, 'target'),
                              o = 0;
                            r && (o = n[r]);
                            var s = 0;
                            i && (s = n[i]);
                            var u = t[o].children,
                              c = t[s].parent;
                            u.push(t[s].id), c.push(t[o].id);
                          })
                        : e.forEach(function (e) {
                            var r = (0, a.getEdgeTerminal)(e, 'source'),
                              i = (0, a.getEdgeTerminal)(e, 'target'),
                              o = 0;
                            r && (o = n[r]);
                            var s = 0;
                            i && (s = n[i]);
                            var u = t[o].children,
                              c = t[s].children;
                            u.push(t[s].id), c.push(t[o].id);
                          });
                  })(o, r, s, t);
                var f = 0;
                return (
                  o.forEach(function (t, e) {
                    if (0 !== e)
                      if (
                        (e !== h - 1 &&
                          n[e] === n[e + 1] &&
                          !(function (t, e, n) {
                            for (var r = n.length, i = 0; i < r; i++) {
                              var o = (0, a.getEdgeTerminal)(n[i], 'source'),
                                s = (0, a.getEdgeTerminal)(n[i], 'target');
                              if ((t.id === o && e.id === s) || (e.id === o && t.id === s))
                                return !0;
                            }
                            return !1;
                          })(u[f], t, r)) ||
                        l[e]
                      ) {
                        for (var d = u[f].children, p = !1, g = 0; g < d.length; g++) {
                          var v = s[d[g]];
                          if (n[v] === n[e] && !l[v]) {
                            u.push(o[v]), c.push(i[s[o[v].id]]), (l[v] = !0), (p = !0);
                            break;
                          }
                        }
                        for (
                          var y = 0;
                          !p &&
                          (l[y] || (u.push(o[y]), c.push(i[s[o[y].id]]), (l[y] = !0), (p = !0)),
                          ++y !== h);

                        );
                      } else u.push(t), c.push(i[s[t.id]]), (l[e] = !0), f++;
                  }),
                  c
                );
              }),
              (e.prototype.degreeOrdering = function () {
                var t = this.nodes,
                  e = [],
                  n = this.degrees;
                return (
                  t.forEach(function (t, r) {
                    (t.degree = n[r]), e.push(t);
                  }),
                  e.sort(s),
                  e
                );
              }),
              (e.prototype.getType = function () {
                return 'circular';
              }),
              e
            );
          })(o.Base);
          e.CircularLayout = u;
        },
        3861: function (t, e, n) {
          'use strict';
          var r,
            i =
              (this && this.__extends) ||
              ((r = function (t, e) {
                return (
                  (r =
                    Object.setPrototypeOf ||
                    ({ __proto__: [] } instanceof Array &&
                      function (t, e) {
                        t.__proto__ = e;
                      }) ||
                    function (t, e) {
                      for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
                    }),
                  r(t, e)
                );
              }),
              function (t, e) {
                if ('function' != typeof e && null !== e)
                  throw new TypeError(
                    'Class extends value ' + String(e) + ' is not a constructor or null',
                  );
                function n() {
                  this.constructor = t;
                }
                r(t, e),
                  (t.prototype =
                    null === e ? Object.create(e) : ((n.prototype = e.prototype), new n()));
              }),
            o =
              (this && this.__assign) ||
              function () {
                return (
                  (o =
                    Object.assign ||
                    function (t) {
                      for (var e, n = 1, r = arguments.length; n < r; n++)
                        for (var i in (e = arguments[n]))
                          Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i]);
                      return t;
                    }),
                  o.apply(this, arguments)
                );
              };
          Object.defineProperty(e, '__esModule', { value: !0 }), (e.ComboCombinedLayout = void 0);
          var a = n(6470),
            s = n(2329),
            u = n(9784),
            c = n(2584),
            l = (function (t) {
              function e(e) {
                var n = t.call(this) || this;
                return (
                  (n.center = [0, 0]),
                  (n.nodes = []),
                  (n.edges = []),
                  (n.combos = []),
                  (n.comboEdges = []),
                  (n.comboPadding = 10),
                  (n.comboTrees = []),
                  n.updateCfg(e),
                  n
                );
              }
              return (
                i(e, t),
                (e.prototype.getDefaultCfg = function () {
                  return {};
                }),
                (e.prototype.execute = function () {
                  var t = this,
                    e = t.nodes,
                    n = t.center;
                  if (e && 0 !== e.length) {
                    if (1 === e.length)
                      return (
                        (e[0].x = n[0]), (e[0].y = n[1]), void (t.onLayoutEnd && t.onLayoutEnd())
                      );
                    t.initVals(), t.run(), t.onLayoutEnd && t.onLayoutEnd();
                  } else t.onLayoutEnd && t.onLayoutEnd();
                }),
                (e.prototype.run = function () {
                  var t,
                    e = this,
                    n = e.nodes,
                    r = e.edges,
                    i = e.combos,
                    o = e.comboEdges,
                    s = e.center,
                    l = e.getInnerGraphs(),
                    h = {};
                  n.forEach(function (t) {
                    h[t.id] = t;
                  });
                  var f = {};
                  i.forEach(function (t) {
                    f[t.id] = t;
                  });
                  var d = [],
                    p = [],
                    g = {},
                    v = !0;
                  this.comboTrees.forEach(function (t) {
                    var e = l[t.id],
                      n = {
                        id: t.id,
                        x: e.x || f[t.id].x,
                        y: e.y || f[t.id].y,
                        fx: e.fx || f[t.id].fx,
                        fy: e.fy || f[t.id].fy,
                        mass: e.mass || f[t.id].mass,
                        size: e.size,
                      };
                    p.push(n),
                      isNaN(n.x) || 0 === n.x || isNaN(n.y) || 0 === n.y
                        ? ((n.x = 100 * Math.random()), (n.y = 100 * Math.random()))
                        : (v = !1),
                      d.push(t.id),
                      (0, u.traverseTreeUp)(t, function (e) {
                        return e.id !== t.id && (g[e.id] = t.id), !0;
                      });
                  }),
                    n.forEach(function (t) {
                      if (!t.comboId || !f[t.comboId]) {
                        var e = {
                          id: t.id,
                          x: t.x,
                          y: t.y,
                          fx: t.fx,
                          fy: t.fy,
                          mass: t.mass,
                          size: t.size,
                        };
                        p.push(e),
                          isNaN(e.x) || 0 === e.x || isNaN(e.y) || 0 === e.y
                            ? ((e.x = 100 * Math.random()), (e.y = 100 * Math.random()))
                            : (v = !1),
                          d.push(t.id);
                      }
                    });
                  var y = [];
                  if (
                    (r.concat(o).forEach(function (t) {
                      var e = g[t.source] || t.source,
                        n = g[t.target] || t.target;
                      e !== n && d.includes(e) && d.includes(n) && y.push({ source: e, target: n });
                    }),
                    null == p ? void 0 : p.length)
                  ) {
                    if (1 === p.length) (p[0].x = s[0]), (p[0].y = s[1]);
                    else {
                      var m = { nodes: p, edges: y },
                        b =
                          this.outerLayout ||
                          new c.GForceLayout({
                            gravity: 1,
                            factor: 2,
                            linkDistance: function (t, e, n) {
                              var r,
                                i,
                                o =
                                  (((null === (r = e.size) || void 0 === r ? void 0 : r[0]) || 30) +
                                    ((null === (i = n.size) || void 0 === i ? void 0 : i[0]) ||
                                      30)) /
                                  2;
                              return Math.min(1.5 * o, 700);
                            },
                          }),
                        x = null === (t = b.getType) || void 0 === t ? void 0 : t.call(b);
                      b.updateCfg({ center: s, kg: 5, preventOverlap: !0, animate: !1 }),
                        v &&
                          a.FORCE_LAYOUT_TYPE_MAP[x] &&
                          (p.length < 100 ? new c.MDSLayout() : new c.GridLayout()).layout(m),
                        b.layout(m);
                    }
                    p.forEach(function (t) {
                      var e = l[t.id];
                      if (e)
                        (e.visited = !0),
                          (e.x = t.x),
                          (e.y = t.y),
                          e.nodes.forEach(function (e) {
                            (e.x += t.x), (e.y += t.y);
                          });
                      else {
                        var n = h[t.id];
                        n && ((n.x = t.x), (n.y = t.y));
                      }
                    });
                  }
                  for (
                    var _ = Object.keys(l),
                      w = function (t) {
                        var e = _[t],
                          n = l[e];
                        if (!n) return 'continue';
                        n.nodes.forEach(function (t) {
                          n.visited || ((t.x += n.x || 0), (t.y += n.y || 0)),
                            h[t.id] && ((h[t.id].x = t.x), (h[t.id].y = t.y));
                        }),
                          f[e] && ((f[e].x = n.x), (f[e].y = n.y));
                      },
                      E = _.length - 1;
                    E >= 0;
                    E--
                  )
                    w(E);
                  return { nodes: n, edges: r, combos: i, comboEdges: o };
                }),
                (e.prototype.getInnerGraphs = function () {
                  var t = this,
                    e = t.comboTrees,
                    n = t.nodeSize,
                    r = t.edges,
                    i = t.comboPadding,
                    a = t.spacing,
                    s = {},
                    l = this.innerLayout || new c.ConcentricLayout({ sortBy: 'id' });
                  return (
                    (l.center = [0, 0]),
                    (l.preventOverlap = !0),
                    (l.nodeSpacing = a),
                    (e || []).forEach(function (t) {
                      (0, u.traverseTreeUp)(t, function (t) {
                        var e,
                          a = (null == i ? void 0 : i(t)) || 10;
                        if (
                          ((0, u.isArray)(a) && (a = Math.max.apply(Math, a)),
                          null === (e = t.children) || void 0 === e ? void 0 : e.length)
                        ) {
                          var c = t.children.map(function (t) {
                              return 'combo' === t.itemType ? s[t.id] : o({}, t);
                            }),
                            h = c.map(function (t) {
                              return t.id;
                            }),
                            f = {
                              nodes: c,
                              edges: r.filter(function (t) {
                                return h.includes(t.source) && h.includes(t.target);
                              }),
                            },
                            d = 1 / 0;
                          c.forEach(function (t) {
                            var e;
                            t.size ||
                              (t.size = (null === (e = s[t.id]) || void 0 === e
                                ? void 0
                                : e.size) ||
                                (null == n ? void 0 : n(t)) || [30, 30]),
                              (0, u.isNumber)(t.size) && (t.size = [t.size, t.size]),
                              d > t.size[0] && (d = t.size[0]),
                              d > t.size[1] && (d = t.size[1]);
                          }),
                            l.layout(f);
                          var p = (0, u.findMinMaxNodeXY)(c),
                            g = p.minX,
                            v = p.minY,
                            y = p.maxX,
                            m = p.maxY,
                            b = Math.max(y - g, m - v, d) + 2 * a;
                          s[t.id] = { id: t.id, nodes: c, size: [b, b] };
                        } else if ('combo' === t.itemType) {
                          var x = a ? [2 * a, 2 * a] : [30, 30];
                          s[t.id] = { id: t.id, nodes: [], size: x };
                        }
                        return !0;
                      });
                    }),
                    s
                  );
                }),
                (e.prototype.initVals = function () {
                  var t,
                    e,
                    n = this,
                    r = n.nodeSize,
                    i = n.spacing;
                  if (
                    ((e = (0, u.isNumber)(i)
                      ? function () {
                          return i;
                        }
                      : (0, u.isFunction)(i)
                      ? i
                      : function () {
                          return 0;
                        }),
                    (this.spacing = e),
                    r)
                  )
                    if ((0, u.isFunction)(r))
                      t = function (t) {
                        var n = r(t),
                          i = e(t);
                        return (0, u.isArray)(t.size)
                          ? ((t.size[0] > t.size[1] ? t.size[0] : t.size[1]) + i) / 2
                          : ((n || 10) + i) / 2;
                      };
                    else if ((0, u.isArray)(r)) {
                      var o = (r[0] > r[1] ? r[0] : r[1]) / 2;
                      t = function (t) {
                        return o + e(t) / 2;
                      };
                    } else {
                      var a = r / 2;
                      t = function (t) {
                        return a + e(t) / 2;
                      };
                    }
                  else
                    t = function (t) {
                      var n = e(t);
                      return t.size
                        ? (0, u.isArray)(t.size)
                          ? ((t.size[0] > t.size[1] ? t.size[0] : t.size[1]) + n) / 2
                          : (0, u.isObject)(t.size)
                          ? ((t.size.width > t.size.height ? t.size.width : t.size.height) + n) / 2
                          : (t.size + n) / 2
                        : 10 + n / 2;
                    };
                  this.nodeSize = t;
                  var s,
                    c = n.comboPadding;
                  (s = (0, u.isNumber)(c)
                    ? function () {
                        return c;
                      }
                    : (0, u.isArray)(c)
                    ? function () {
                        return Math.max.apply(null, c);
                      }
                    : (0, u.isFunction)(c)
                    ? c
                    : function () {
                        return 0;
                      }),
                    (this.comboPadding = s);
                }),
                (e.prototype.getType = function () {
                  return 'comboCombined';
                }),
                e
              );
            })(s.Base);
          e.ComboCombinedLayout = l;
        },
        6590: function (t, e, n) {
          'use strict';
          var r,
            i =
              (this && this.__extends) ||
              ((r = function (t, e) {
                return (
                  (r =
                    Object.setPrototypeOf ||
                    ({ __proto__: [] } instanceof Array &&
                      function (t, e) {
                        t.__proto__ = e;
                      }) ||
                    function (t, e) {
                      for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
                    }),
                  r(t, e)
                );
              }),
              function (t, e) {
                if ('function' != typeof e && null !== e)
                  throw new TypeError(
                    'Class extends value ' + String(e) + ' is not a constructor or null',
                  );
                function n() {
                  this.constructor = t;
                }
                r(t, e),
                  (t.prototype =
                    null === e ? Object.create(e) : ((n.prototype = e.prototype), new n()));
              });
          Object.defineProperty(e, '__esModule', { value: !0 }), (e.ComboForceLayout = void 0);
          var o = n(2329),
            a = n(9784),
            s = (function (t) {
              function e(e) {
                var n = t.call(this) || this;
                return (
                  (n.center = [0, 0]),
                  (n.maxIteration = 100),
                  (n.gravity = 10),
                  (n.comboGravity = 10),
                  (n.linkDistance = 10),
                  (n.alpha = 1),
                  (n.alphaMin = 0.001),
                  (n.alphaDecay = 1 - Math.pow(n.alphaMin, 1 / 300)),
                  (n.alphaTarget = 0),
                  (n.velocityDecay = 0.6),
                  (n.edgeStrength = 0.6),
                  (n.nodeStrength = 30),
                  (n.preventOverlap = !1),
                  (n.preventNodeOverlap = !1),
                  (n.preventComboOverlap = !1),
                  (n.collideStrength = void 0),
                  (n.nodeCollideStrength = 0.5),
                  (n.comboCollideStrength = 0.5),
                  (n.comboSpacing = 20),
                  (n.comboPadding = 10),
                  (n.optimizeRangeFactor = 1),
                  (n.onTick = function () {}),
                  (n.onLayoutEnd = function () {}),
                  (n.depthAttractiveForceScale = 1),
                  (n.depthRepulsiveForceScale = 2),
                  (n.nodes = []),
                  (n.edges = []),
                  (n.combos = []),
                  (n.comboTrees = []),
                  (n.width = 300),
                  (n.height = 300),
                  (n.bias = []),
                  (n.nodeMap = {}),
                  (n.oriComboMap = {}),
                  (n.indexMap = {}),
                  (n.comboMap = {}),
                  (n.previousLayouted = !1),
                  n.updateCfg(e),
                  n
                );
              }
              return (
                i(e, t),
                (e.prototype.getDefaultCfg = function () {
                  return {
                    maxIteration: 100,
                    center: [0, 0],
                    gravity: 10,
                    speed: 1,
                    comboGravity: 30,
                    preventOverlap: !1,
                    preventComboOverlap: !0,
                    preventNodeOverlap: !0,
                    nodeSpacing: void 0,
                    collideStrength: void 0,
                    nodeCollideStrength: 0.5,
                    comboCollideStrength: 0.5,
                    comboSpacing: 20,
                    comboPadding: 10,
                    edgeStrength: 0.6,
                    nodeStrength: 30,
                    linkDistance: 10,
                  };
                }),
                (e.prototype.execute = function () {
                  var t = this,
                    e = t.nodes,
                    n = t.center;
                  if (
                    ((t.comboTree = { id: 'comboTreeRoot', depth: -1, children: t.comboTrees }),
                    e && 0 !== e.length)
                  ) {
                    if (1 === e.length)
                      return (
                        (e[0].x = n[0]), (e[0].y = n[1]), void (t.onLayoutEnd && t.onLayoutEnd())
                      );
                    t.initVals(), t.run(), t.onLayoutEnd && t.onLayoutEnd();
                  } else t.onLayoutEnd && t.onLayoutEnd();
                }),
                (e.prototype.run = function () {
                  var t = this,
                    e = t.nodes,
                    n = t.previousLayouted ? t.maxIteration / 5 : t.maxIteration;
                  t.width || 'undefined' == typeof window || (t.width = window.innerWidth),
                    t.height || 'undefined' == typeof window || (t.height = window.innerHeight);
                  var r = t.center,
                    i = t.velocityDecay,
                    o = t.comboMap;
                  t.previousLayouted || t.initPos(o);
                  for (
                    var s = function (n) {
                        var r = [];
                        e.forEach(function (t, e) {
                          r[e] = { x: 0, y: 0 };
                        }),
                          t.applyCalculate(r),
                          t.applyComboCenterForce(r),
                          e.forEach(function (t, e) {
                            (0, a.isNumber)(t.x) &&
                              (0, a.isNumber)(t.y) &&
                              ((t.x += r[e].x * i), (t.y += r[e].y * i));
                          }),
                          (t.alpha += (t.alphaTarget - t.alpha) * t.alphaDecay),
                          t.onTick();
                      },
                      u = 0;
                    u < n;
                    u++
                  )
                    s();
                  var c = [0, 0];
                  e.forEach(function (t) {
                    (0, a.isNumber)(t.x) && (0, a.isNumber)(t.y) && ((c[0] += t.x), (c[1] += t.y));
                  }),
                    (c[0] /= e.length),
                    (c[1] /= e.length);
                  var l = [r[0] - c[0], r[1] - c[1]];
                  e.forEach(function (t, e) {
                    (0, a.isNumber)(t.x) && (0, a.isNumber)(t.y) && ((t.x += l[0]), (t.y += l[1]));
                  }),
                    t.combos.forEach(function (t) {
                      var e = o[t.id];
                      e && e.empty && ((t.x = e.cx || t.x), (t.y = e.cy || t.y));
                    }),
                    (t.previousLayouted = !0);
                }),
                (e.prototype.initVals = function () {
                  var t = this,
                    e = t.edges,
                    n = t.nodes,
                    r = t.combos,
                    i = {},
                    o = {},
                    s = {};
                  n.forEach(function (t, e) {
                    (o[t.id] = t), (s[t.id] = e);
                  }),
                    (t.nodeMap = o),
                    (t.indexMap = s);
                  var u = {};
                  r.forEach(function (t) {
                    u[t.id] = t;
                  }),
                    (t.oriComboMap = u),
                    (t.comboMap = t.getComboMap());
                  var c = t.preventOverlap;
                  (t.preventComboOverlap = t.preventComboOverlap || c),
                    (t.preventNodeOverlap = t.preventNodeOverlap || c);
                  var l = t.collideStrength;
                  l && ((t.comboCollideStrength = l), (t.nodeCollideStrength = l)),
                    (t.comboCollideStrength = t.comboCollideStrength ? t.comboCollideStrength : 0),
                    (t.nodeCollideStrength = t.nodeCollideStrength ? t.nodeCollideStrength : 0);
                  for (var h = 0; h < e.length; ++h) {
                    var f = (0, a.getEdgeTerminal)(e[h], 'source'),
                      d = (0, a.getEdgeTerminal)(e[h], 'target');
                    i[f] ? i[f]++ : (i[f] = 1), i[d] ? i[d]++ : (i[d] = 1);
                  }
                  var p = [];
                  for (h = 0; h < e.length; ++h)
                    (f = (0, a.getEdgeTerminal)(e[h], 'source')),
                      (d = (0, a.getEdgeTerminal)(e[h], 'target')),
                      (p[h] = i[f] / (i[f] + i[d]));
                  this.bias = p;
                  var g,
                    v,
                    y = t.nodeSize,
                    m = t.nodeSpacing;
                  if (
                    ((v = (0, a.isNumber)(m)
                      ? function () {
                          return m;
                        }
                      : (0, a.isFunction)(m)
                      ? m
                      : function () {
                          return 0;
                        }),
                    (this.nodeSpacing = v),
                    y)
                  )
                    if ((0, a.isFunction)(y))
                      g = function (t) {
                        return y(t);
                      };
                    else if ((0, a.isArray)(y)) {
                      var b = (y[0] > y[1] ? y[0] : y[1]) / 2;
                      g = function (t) {
                        return b;
                      };
                    } else {
                      var x = y / 2;
                      g = function (t) {
                        return x;
                      };
                    }
                  else
                    g = function (t) {
                      return t.size
                        ? (0, a.isArray)(t.size)
                          ? (t.size[0] > t.size[1] ? t.size[0] : t.size[1]) / 2
                          : (0, a.isObject)(t.size)
                          ? (t.size.width > t.size.height ? t.size.width : t.size.height) / 2
                          : t.size / 2
                        : 10;
                    };
                  this.nodeSize = g;
                  var _,
                    w = t.comboSpacing;
                  (_ = (0, a.isNumber)(w)
                    ? function () {
                        return w;
                      }
                    : (0, a.isFunction)(w)
                    ? w
                    : function () {
                        return 0;
                      }),
                    (this.comboSpacing = _);
                  var E,
                    S = t.comboPadding;
                  (E = (0, a.isNumber)(S)
                    ? function () {
                        return S;
                      }
                    : (0, a.isArray)(S)
                    ? function () {
                        return Math.max.apply(null, S);
                      }
                    : (0, a.isFunction)(S)
                    ? S
                    : function () {
                        return 0;
                      }),
                    (this.comboPadding = E);
                  var M,
                    k = this.linkDistance;
                  k || (k = 10),
                    (M = (0, a.isNumber)(k)
                      ? function (t) {
                          return k;
                        }
                      : k),
                    (this.linkDistance = M);
                  var A,
                    C = this.edgeStrength;
                  C || (C = 1),
                    (A = (0, a.isNumber)(C)
                      ? function (t) {
                          return C;
                        }
                      : C),
                    (this.edgeStrength = A);
                  var I,
                    T = this.nodeStrength;
                  T || (T = 30),
                    (I = (0, a.isNumber)(T)
                      ? function (t) {
                          return T;
                        }
                      : T),
                    (this.nodeStrength = I);
                }),
                (e.prototype.initPos = function (t) {
                  this.nodes.forEach(function (e, n) {
                    var r = e.comboId,
                      i = t[r];
                    r && i
                      ? ((e.x = i.cx + 100 / (n + 1)), (e.y = i.cy + 100 / (n + 1)))
                      : ((e.x = 100 / (n + 1)), (e.y = 100 / (n + 1)));
                  });
                }),
                (e.prototype.getComboMap = function () {
                  var t = this,
                    e = t.nodeMap,
                    n = t.comboTrees,
                    r = t.oriComboMap,
                    i = {};
                  return (
                    (n || []).forEach(function (n) {
                      var o = [];
                      (0, a.traverseTreeUp)(n, function (n) {
                        if ('node' === n.itemType) return !0;
                        if (!r[n.id]) return !0;
                        if (void 0 === i[n.id]) {
                          var s = {
                            id: n.id,
                            name: n.id,
                            cx: 0,
                            cy: 0,
                            count: 0,
                            depth: t.oriComboMap[n.id].depth || 0,
                            children: [],
                          };
                          i[n.id] = s;
                        }
                        var u = n.children;
                        u &&
                          u.forEach(function (t) {
                            if (!i[t.id] && !e[t.id]) return !0;
                            o.push(t);
                          });
                        var c = i[n.id];
                        if (((c.cx = 0), (c.cy = 0), 0 === o.length)) {
                          c.empty = !0;
                          var l = r[n.id];
                          (c.cx = l.x), (c.cy = l.y);
                        }
                        return (
                          o.forEach(function (t) {
                            if ((c.count++, 'node' !== t.itemType)) {
                              var n = i[t.id];
                              return (
                                (0, a.isNumber)(n.cx) && (c.cx += n.cx),
                                void ((0, a.isNumber)(n.cy) && (c.cy += n.cy))
                              );
                            }
                            var r = e[t.id];
                            r &&
                              ((0, a.isNumber)(r.x) && (c.cx += r.x),
                              (0, a.isNumber)(r.y) && (c.cy += r.y));
                          }),
                          (c.cx /= c.count || 1),
                          (c.cy /= c.count || 1),
                          (c.children = o),
                          !0
                        );
                      });
                    }),
                    i
                  );
                }),
                (e.prototype.applyComboCenterForce = function (t) {
                  var e = this,
                    n = e.gravity,
                    r = e.comboGravity || n,
                    i = this.alpha,
                    o = e.comboTrees,
                    s = e.indexMap,
                    u = e.nodeMap,
                    c = e.comboMap;
                  (o || []).forEach(function (e) {
                    (0, a.traverseTreeUp)(e, function (e) {
                      if ('node' === e.itemType) return !0;
                      if (!c[e.id]) return !0;
                      var n = c[e.id],
                        o = ((n.depth + 1) / 10) * 0.5,
                        l = n.cx,
                        h = n.cy;
                      return (
                        (n.cx = 0),
                        (n.cy = 0),
                        n.children.forEach(function (e) {
                          if ('node' !== e.itemType) {
                            var f = c[e.id];
                            return (
                              f && (0, a.isNumber)(f.cx) && (n.cx += f.cx),
                              void (f && (0, a.isNumber)(f.cy) && (n.cy += f.cy))
                            );
                          }
                          var d = u[e.id],
                            p = d.x - l || 0.005,
                            g = d.y - h || 0.005,
                            v = Math.sqrt(p * p + g * g),
                            y = s[d.id],
                            m = ((r * i) / v) * o;
                          (t[y].x -= p * m),
                            (t[y].y -= g * m),
                            (0, a.isNumber)(d.x) && (n.cx += d.x),
                            (0, a.isNumber)(d.y) && (n.cy += d.y);
                        }),
                        (n.cx /= n.count || 1),
                        (n.cy /= n.count || 1),
                        !0
                      );
                    });
                  });
                }),
                (e.prototype.applyCalculate = function (t) {
                  var e = this,
                    n = e.comboMap,
                    r = e.nodes,
                    i = {};
                  r.forEach(function (t, e) {
                    r.forEach(function (n, r) {
                      if (!(e < r)) {
                        var o = t.x - n.x || 0.005,
                          a = t.y - n.y || 0.005,
                          s = o * o + a * a,
                          u = Math.sqrt(s);
                        s < 1 && (s = u),
                          (i[t.id + '-' + n.id] = { vx: o, vy: a, vl2: s, vl: u }),
                          (i[n.id + '-' + t.id] = { vl2: s, vl: u, vx: -o, vy: -a });
                      }
                    });
                  }),
                    e.updateComboSizes(n),
                    e.calRepulsive(t, i),
                    e.calAttractive(t, i),
                    e.preventComboOverlap && e.comboNonOverlapping(t, n);
                }),
                (e.prototype.updateComboSizes = function (t) {
                  var e = this,
                    n = e.comboTrees,
                    r = e.nodeMap,
                    i = e.nodeSize,
                    o = e.comboSpacing,
                    s = e.comboPadding;
                  (n || []).forEach(function (n) {
                    var u = [];
                    (0, a.traverseTreeUp)(n, function (n) {
                      if ('node' === n.itemType) return !0;
                      var c = t[n.id];
                      if (!c) return !1;
                      var l = n.children;
                      l &&
                        l.forEach(function (e) {
                          (t[e.id] || r[e.id]) && u.push(e);
                        }),
                        (c.minX = 1 / 0),
                        (c.minY = 1 / 0),
                        (c.maxX = -1 / 0),
                        (c.maxY = -1 / 0),
                        u.forEach(function (t) {
                          if ('node' !== t.itemType) return !0;
                          var e = r[t.id];
                          if (!e) return !0;
                          var n = i(e),
                            o = e.x - n,
                            a = e.y - n,
                            s = e.x + n,
                            u = e.y + n;
                          c.minX > o && (c.minX = o),
                            c.minY > a && (c.minY = a),
                            c.maxX < s && (c.maxX = s),
                            c.maxY < u && (c.maxY = u);
                        });
                      var h = e.oriComboMap[n.id].size || 10;
                      (0, a.isArray)(h) && (h = h[0]);
                      var f = Math.max(c.maxX - c.minX, c.maxY - c.minY, h);
                      return (c.r = f / 2 + o(c) / 2 + s(c)), !0;
                    });
                  });
                }),
                (e.prototype.comboNonOverlapping = function (t, e) {
                  var n = this,
                    r = n.comboTree,
                    i = n.comboCollideStrength,
                    o = n.indexMap,
                    s = n.nodeMap;
                  (0, a.traverseTreeUp)(r, function (n) {
                    if (!e[n.id] && !s[n.id] && 'comboTreeRoot' !== n.id) return !1;
                    var r = n.children;
                    return (
                      r &&
                        r.length > 1 &&
                        r.forEach(function (n, a) {
                          if ('node' === n.itemType) return !1;
                          var u = e[n.id];
                          u &&
                            r.forEach(function (r, c) {
                              if (a <= c) return !1;
                              if ('node' === r.itemType) return !1;
                              var l = e[r.id];
                              if (!l) return !1;
                              var h = u.cx - l.cx || 0.005,
                                f = u.cy - l.cy || 0.005,
                                d = h * h + f * f,
                                p = u.r || 1,
                                g = l.r || 1,
                                v = p + g,
                                y = g * g,
                                m = p * p;
                              if (d < v * v) {
                                var b = n.children;
                                if (!b || 0 === b.length) return !1;
                                var x = r.children;
                                if (!x || 0 === x.length) return !1;
                                var _ = Math.sqrt(d),
                                  w = ((v - _) / _) * i,
                                  E = h * w,
                                  S = f * w,
                                  M = y / (m + y),
                                  k = 1 - M;
                                b.forEach(function (e) {
                                  if ('node' !== e.itemType) return !1;
                                  if (s[e.id]) {
                                    var n = o[e.id];
                                    x.forEach(function (e) {
                                      if ('node' !== e.itemType) return !1;
                                      if (!s[e.id]) return !1;
                                      var r = o[e.id];
                                      (t[n].x += E * M),
                                        (t[n].y += S * M),
                                        (t[r].x -= E * k),
                                        (t[r].y -= S * k);
                                    });
                                  }
                                });
                              }
                            });
                        }),
                      !0
                    );
                  });
                }),
                (e.prototype.calRepulsive = function (t, e) {
                  var n = this,
                    r = n.nodes,
                    i = n.width * n.optimizeRangeFactor,
                    o = n.nodeStrength,
                    a = n.alpha,
                    s = n.nodeCollideStrength,
                    u = n.preventNodeOverlap,
                    c = n.nodeSize,
                    l = n.nodeSpacing,
                    h = n.depthRepulsiveForceScale,
                    f = n.center;
                  r.forEach(function (d, p) {
                    if (d.x && d.y) {
                      if (f) {
                        var g = n.gravity,
                          v = d.x - f[0] || 0.005,
                          y = d.y - f[1] || 0.005,
                          m = Math.sqrt(v * v + y * y);
                        (t[p].x -= (v * g * a) / m), (t[p].y -= (y * g * a) / m);
                      }
                      r.forEach(function (n, r) {
                        if (p !== r && n.x && n.y) {
                          var f = e[d.id + '-' + n.id],
                            g = f.vl2,
                            v = f.vl;
                          if (!(v > i)) {
                            var y = e[d.id + '-' + n.id],
                              m = y.vx,
                              b = y.vy,
                              x = Math.log(Math.abs(n.depth - d.depth) / 10) + 1 || 1;
                            (x = x < 1 ? 1 : x), n.comboId !== d.comboId && (x += 1);
                            var _ = x ? Math.pow(h, x) : 1,
                              w = ((o(n) * a) / g) * _;
                            if (((t[p].x += m * w), (t[p].y += b * w), p < r && u)) {
                              var E = c(d) + l(d) || 1,
                                S = c(n) + l(n) || 1,
                                M = E + S;
                              if (g < M * M) {
                                var k = ((M - v) / v) * s,
                                  A = S * S,
                                  C = A / (E * E + A),
                                  I = m * k,
                                  T = b * k;
                                (t[p].x += I * C),
                                  (t[p].y += T * C),
                                  (C = 1 - C),
                                  (t[r].x -= I * C),
                                  (t[r].y -= T * C);
                              }
                            }
                          }
                        }
                      });
                    }
                  });
                }),
                (e.prototype.calAttractive = function (t, e) {
                  var n = this,
                    r = n.edges,
                    i = n.linkDistance,
                    o = n.alpha,
                    s = n.edgeStrength,
                    u = n.bias,
                    c = n.depthAttractiveForceScale;
                  r.forEach(function (r, l) {
                    var h = (0, a.getEdgeTerminal)(r, 'source'),
                      f = (0, a.getEdgeTerminal)(r, 'target');
                    if (h && f && h !== f) {
                      var d = n.indexMap[h],
                        p = n.indexMap[f],
                        g = n.nodeMap[h],
                        v = n.nodeMap[f];
                      if (g && v) {
                        var y =
                          g.depth === v.depth ? 0 : Math.log(Math.abs(g.depth - v.depth) / 10);
                        g.comboId === v.comboId && (y /= 2);
                        var m = y ? Math.pow(c, y) : 1;
                        if (
                          (g.comboId !== v.comboId && 1 === m
                            ? (m = c / 2)
                            : g.comboId === v.comboId && (m = 2),
                          (0, a.isNumber)(v.x) &&
                            (0, a.isNumber)(g.x) &&
                            (0, a.isNumber)(v.y) &&
                            (0, a.isNumber)(g.y))
                        ) {
                          var b = e[f + '-' + h],
                            x = b.vl,
                            _ = b.vx,
                            w = b.vy,
                            E = ((x - i(r)) / x) * o * s(r) * m,
                            S = _ * E,
                            M = w * E,
                            k = u[l];
                          (t[p].x -= S * k),
                            (t[p].y -= M * k),
                            (t[d].x += S * (1 - k)),
                            (t[d].y += M * (1 - k));
                        }
                      }
                    }
                  });
                }),
                (e.prototype.getType = function () {
                  return 'comboForce';
                }),
                e
              );
            })(o.Base);
          e.ComboForceLayout = s;
        },
        3281: function (t, e, n) {
          'use strict';
          var r,
            i =
              (this && this.__extends) ||
              ((r = function (t, e) {
                return (
                  (r =
                    Object.setPrototypeOf ||
                    ({ __proto__: [] } instanceof Array &&
                      function (t, e) {
                        t.__proto__ = e;
                      }) ||
                    function (t, e) {
                      for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
                    }),
                  r(t, e)
                );
              }),
              function (t, e) {
                if ('function' != typeof e && null !== e)
                  throw new TypeError(
                    'Class extends value ' + String(e) + ' is not a constructor or null',
                  );
                function n() {
                  this.constructor = t;
                }
                r(t, e),
                  (t.prototype =
                    null === e ? Object.create(e) : ((n.prototype = e.prototype), new n()));
              });
          Object.defineProperty(e, '__esModule', { value: !0 }), (e.ConcentricLayout = void 0);
          var o = n(9784),
            a = (function (t) {
              function e(e) {
                var n = t.call(this) || this;
                return (
                  (n.nodeSize = 30),
                  (n.minNodeSpacing = 10),
                  (n.nodeSpacing = 10),
                  (n.preventOverlap = !1),
                  (n.equidistant = !1),
                  (n.startAngle = 1.5 * Math.PI),
                  (n.clockwise = !0),
                  (n.sortBy = 'degree'),
                  (n.nodes = []),
                  (n.edges = []),
                  (n.width = 300),
                  (n.height = 300),
                  (n.onLayoutEnd = function () {}),
                  n.updateCfg(e),
                  n
                );
              }
              return (
                i(e, t),
                (e.prototype.getDefaultCfg = function () {
                  return {
                    nodeSize: 30,
                    minNodeSpacing: 10,
                    nodeSpacing: 10,
                    preventOverlap: !1,
                    sweep: void 0,
                    equidistant: !1,
                    startAngle: 1.5 * Math.PI,
                    clockwise: !0,
                    maxLevelDiff: void 0,
                    sortBy: 'degree',
                  };
                }),
                (e.prototype.execute = function () {
                  var t,
                    e,
                    n = this,
                    r = n.nodes,
                    i = n.edges,
                    a = r.length;
                  if (0 !== a) {
                    n.width || 'undefined' == typeof window || (n.width = window.innerWidth),
                      n.height || 'undefined' == typeof window || (n.height = window.innerHeight),
                      n.center || (n.center = [n.width / 2, n.height / 2]);
                    var s = n.center;
                    if (1 === a)
                      return (
                        (r[0].x = s[0]),
                        (r[0].y = s[1]),
                        void (null === (e = n.onLayoutEnd) || void 0 === e || e.call(n))
                      );
                    var u,
                      c = n.nodeSize,
                      l = n.nodeSpacing,
                      h = [],
                      f = 0;
                    (u = (0, o.isArray)(c) ? Math.max(c[0], c[1]) : c),
                      (0, o.isArray)(l)
                        ? (f = Math.max(l[0], l[1]))
                        : (0, o.isNumber)(l) && (f = l),
                      r.forEach(function (t) {
                        h.push(t);
                        var e = u;
                        (0, o.isArray)(t.size)
                          ? (e = Math.max(t.size[0], t.size[1]))
                          : (0, o.isNumber)(t.size)
                          ? (e = t.size)
                          : (0, o.isObject)(t.size) && (e = Math.max(t.size.width, t.size.height)),
                          (u = Math.max(u, e)),
                          (0, o.isFunction)(l) && (f = Math.max(l(t), f));
                      }),
                      (n.clockwise =
                        void 0 !== n.counterclockwise ? !n.counterclockwise : n.clockwise);
                    var d = {},
                      p = {};
                    if (
                      (h.forEach(function (t, e) {
                        (d[t.id] = t), (p[t.id] = e);
                      }),
                      !(
                        ('degree' !== n.sortBy &&
                          (0, o.isString)(n.sortBy) &&
                          void 0 !== h[0][n.sortBy]) ||
                        ((n.sortBy = 'degree'), (0, o.isNumber)(r[0].degree))
                      ))
                    ) {
                      var g = (0, o.getDegree)(r.length, p, i);
                      h.forEach(function (t, e) {
                        t.degree = g[e];
                      });
                    }
                    h.sort(function (t, e) {
                      return e[n.sortBy] - t[n.sortBy];
                    }),
                      (n.maxValueNode = h[0]),
                      (n.maxLevelDiff = n.maxLevelDiff || n.maxValueNode[n.sortBy] / 4);
                    var v = [[]],
                      y = v[0];
                    h.forEach(function (t) {
                      if (y.length > 0) {
                        var e = Math.abs(y[0][n.sortBy] - t[n.sortBy]);
                        n.maxLevelDiff && e >= n.maxLevelDiff && ((y = []), v.push(y));
                      }
                      y.push(t);
                    });
                    var m = u + (f || n.minNodeSpacing);
                    if (!n.preventOverlap) {
                      var b = v.length > 0 && v[0].length > 1,
                        x = (Math.min(n.width, n.height) / 2 - m) / (v.length + (b ? 1 : 0));
                      m = Math.min(m, x);
                    }
                    var _ = 0;
                    if (
                      (v.forEach(function (t) {
                        var e = n.sweep;
                        void 0 === e && (e = 2 * Math.PI - (2 * Math.PI) / t.length);
                        var r = (t.dTheta = e / Math.max(1, t.length - 1));
                        if (t.length > 1 && n.preventOverlap) {
                          var i = Math.cos(r) - Math.cos(0),
                            o = Math.sin(r) - Math.sin(0),
                            a = Math.sqrt((m * m) / (i * i + o * o));
                          _ = Math.max(a, _);
                        }
                        (t.r = _), (_ += m);
                      }),
                      n.equidistant)
                    ) {
                      for (var w = 0, E = 0, S = 0; S < v.length; S++) {
                        var M = v[S].r - E;
                        w = Math.max(w, M);
                      }
                      (E = 0),
                        v.forEach(function (t, e) {
                          0 === e && (E = t.r), (t.r = E), (E += w);
                        });
                    }
                    return (
                      v.forEach(function (t) {
                        var e = t.dTheta,
                          r = t.r;
                        t.forEach(function (t, i) {
                          var o = n.startAngle + (n.clockwise ? 1 : -1) * e * i;
                          (t.x = s[0] + r * Math.cos(o)), (t.y = s[1] + r * Math.sin(o));
                        });
                      }),
                      n.onLayoutEnd && n.onLayoutEnd(),
                      { nodes: r, edges: i }
                    );
                  }
                  null === (t = n.onLayoutEnd) || void 0 === t || t.call(n);
                }),
                (e.prototype.getType = function () {
                  return 'concentric';
                }),
                e
              );
            })(n(2329).Base);
          e.ConcentricLayout = a;
        },
        6470: (t, e) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }),
            (e.FORCE_LAYOUT_TYPE_MAP = e.LAYOUT_MESSAGE = void 0),
            (e.LAYOUT_MESSAGE = {
              RUN: 'LAYOUT_RUN',
              END: 'LAYOUT_END',
              ERROR: 'LAYOUT_ERROR',
              TICK: 'LAYOUT_TICK',
              GPURUN: 'GPU_LAYOUT_RUN',
              GPUEND: 'GPU_LAYOUT_END',
            }),
            (e.FORCE_LAYOUT_TYPE_MAP = {
              gForce: !0,
              fruchterman: !0,
              forceAtlas2: !0,
              force: !0,
              'graphin-force': !0,
            });
        },
        171: function (t, e, n) {
          'use strict';
          var r,
            i =
              (this && this.__extends) ||
              ((r = function (t, e) {
                return (
                  (r =
                    Object.setPrototypeOf ||
                    ({ __proto__: [] } instanceof Array &&
                      function (t, e) {
                        t.__proto__ = e;
                      }) ||
                    function (t, e) {
                      for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
                    }),
                  r(t, e)
                );
              }),
              function (t, e) {
                if ('function' != typeof e && null !== e)
                  throw new TypeError(
                    'Class extends value ' + String(e) + ' is not a constructor or null',
                  );
                function n() {
                  this.constructor = t;
                }
                r(t, e),
                  (t.prototype =
                    null === e ? Object.create(e) : ((n.prototype = e.prototype), new n()));
              }),
            o =
              (this && this.__importDefault) ||
              function (t) {
                return t && t.__esModule ? t : { default: t };
              };
          Object.defineProperty(e, '__esModule', { value: !0 }), (e.DagreLayout = void 0);
          var a = o(n(1106)),
            s = n(9784),
            u = (function (t) {
              function e(e) {
                var n = t.call(this) || this;
                return (
                  (n.rankdir = 'TB'),
                  (n.nodesep = 50),
                  (n.ranksep = 50),
                  (n.controlPoints = !1),
                  (n.sortByCombo = !1),
                  (n.edgeLabelSpace = !0),
                  (n.radial = !1),
                  (n.nodes = []),
                  (n.edges = []),
                  (n.onLayoutEnd = function () {}),
                  (n.layoutNode = function (t) {
                    var e = n.nodes.find(function (e) {
                      return e.id === t;
                    });
                    return !e || !1 !== e.layout;
                  }),
                  n.updateCfg(e),
                  n
                );
              }
              return (
                i(e, t),
                (e.prototype.getDefaultCfg = function () {
                  return {
                    rankdir: 'TB',
                    align: void 0,
                    nodeSize: void 0,
                    nodesepFunc: void 0,
                    ranksepFunc: void 0,
                    nodesep: 50,
                    ranksep: 50,
                    controlPoints: !1,
                    radial: !1,
                    focusNode: null,
                  };
                }),
                (e.prototype.execute = function () {
                  var t = this,
                    e = this,
                    n = e.nodes,
                    r = e.nodeSize,
                    i = e.rankdir,
                    o = e.combos,
                    u = e.begin,
                    c = e.radial;
                  if (n) {
                    var l,
                      h = e.edges || [],
                      f = new a.default.graphlib.Graph({ multigraph: !0, compound: !0 });
                    l = r
                      ? (0, s.isArray)(r)
                        ? function () {
                            return r;
                          }
                        : function () {
                            return [r, r];
                          }
                      : function (t) {
                          return t.size
                            ? (0, s.isArray)(t.size)
                              ? t.size
                              : (0, s.isObject)(t.size)
                              ? [t.size.width || 40, t.size.height || 40]
                              : [t.size, t.size]
                            : [40, 40];
                        };
                    var d = (0, s.getFunc)(e.ranksep, 50, e.ranksepFunc),
                      p = (0, s.getFunc)(e.nodesep, 50, e.nodesepFunc),
                      g = p,
                      v = d;
                    ('LR' !== i && 'RL' !== i) || ((g = d), (v = p)),
                      f.setDefaultEdgeLabel(function () {
                        return {};
                      }),
                      f.setGraph(e);
                    var y = {};
                    n
                      .filter(function (t) {
                        return !1 !== t.layout;
                      })
                      .forEach(function (e) {
                        var n = l(e),
                          r = v(e),
                          i = g(e),
                          o = n[0] + 2 * i,
                          a = n[1] + 2 * r,
                          u = e.layer;
                        (0, s.isNumber)(u)
                          ? f.setNode(e.id, { width: o, height: a, layer: u })
                          : f.setNode(e.id, { width: o, height: a }),
                          t.sortByCombo &&
                            e.comboId &&
                            (y[e.comboId] || ((y[e.comboId] = !0), f.setNode(e.comboId, {})),
                            f.setParent(e.id, e.comboId));
                      }),
                      this.sortByCombo &&
                        o &&
                        o.forEach(function (t) {
                          t.parentId &&
                            (y[t.parentId] || ((y[t.parentId] = !0), f.setNode(t.parentId, {})),
                            f.setParent(t.id, t.parentId));
                        }),
                      h.forEach(function (e) {
                        var n = (0, s.getEdgeTerminal)(e, 'source'),
                          r = (0, s.getEdgeTerminal)(e, 'target');
                        t.layoutNode(n) &&
                          t.layoutNode(r) &&
                          f.setEdge(n, r, { weight: e.weight || 1 });
                      });
                    var m = void 0;
                    e.preset &&
                      ((m = new a.default.graphlib.Graph({ multigraph: !0, compound: !0 })),
                      e.preset.nodes.forEach(function (t) {
                        null == m || m.setNode(t.id, t);
                      })),
                      a.default.layout(f, {
                        prevGraph: m,
                        edgeLabelSpace: e.edgeLabelSpace,
                        keepNodeOrder: Boolean(!!e.nodeOrder),
                        nodeOrder: e.nodeOrder,
                      });
                    var b = [0, 0];
                    if (u) {
                      var x = 1 / 0,
                        _ = 1 / 0;
                      f.nodes().forEach(function (t) {
                        var e = f.node(t);
                        x > e.x && (x = e.x), _ > e.y && (_ = e.y);
                      }),
                        f.edges().forEach(function (t) {
                          f.edge(t).points.forEach(function (t) {
                            x > t.x && (x = t.x), _ > t.y && (_ = t.y);
                          });
                        }),
                        (b[0] = u[0] - x),
                        (b[1] = u[1] - _);
                    }
                    if (c) {
                      var w = this,
                        E = w.focusNode,
                        S = w.ranksep,
                        M = w.getRadialPos,
                        k = (0, s.isString)(E) ? E : null == E ? void 0 : E.id,
                        A = k ? f.node(k)._rank : 0,
                        C = [],
                        I = 'LR' === i || 'RL' === i,
                        T = I ? 'y' : 'x',
                        N = I ? 'height' : 'width',
                        P = 1 / 0,
                        O = -1 / 0;
                      f.nodes().forEach(function (t) {
                        var e = f.node(t),
                          r = n.findIndex(function (e) {
                            return e.id === t;
                          });
                        if (n[r]) {
                          var i = p(n[r]);
                          if (0 === A)
                            C[e._rank] ||
                              (C[e._rank] = { nodes: [], totalWidth: 0, maxSize: -1 / 0 }),
                              C[e._rank].nodes.push(t),
                              (C[e._rank].totalWidth += 2 * i + e[N]),
                              C[e._rank].maxSize < Math.max(e.width, e.height) &&
                                (C[e._rank].maxSize = Math.max(e.width, e.height));
                          else {
                            var o = e._rank - A;
                            if (0 === o)
                              C[o] || (C[o] = { nodes: [], totalWidth: 0, maxSize: -1 / 0 }),
                                C[o].nodes.push(t),
                                (C[o].totalWidth += 2 * i + e[N]),
                                C[o].maxSize < Math.max(e.width, e.height) &&
                                  (C[o].maxSize = Math.max(e.width, e.height));
                            else {
                              var a = Math.abs(o);
                              C[a] ||
                                (C[a] = { left: [], right: [], totalWidth: 0, maxSize: -1 / 0 }),
                                (C[a].totalWidth += 2 * i + e[N]),
                                C[a].maxSize < Math.max(e.width, e.height) &&
                                  (C[a].maxSize = Math.max(e.width, e.height)),
                                o < 0 ? C[a].left.push(t) : C[a].right.push(t);
                            }
                          }
                          var s = e[T] - e[N] / 2 - i,
                            u = e[T] + e[N] / 2 + i;
                          s < P && (P = s), u > O && (O = u);
                        }
                      });
                      var D = S || 50,
                        L = {},
                        R = (O - P) / 0.9,
                        B = [0.5 * (P + O - R), 0.5 * (P + O + R)],
                        j = function (t, e, r, i) {
                          void 0 === r && (r = -1 / 0), void 0 === i && (i = [0, 1]);
                          var o = r;
                          return (
                            t.forEach(function (t) {
                              var r = f.node(t);
                              L[t] = e;
                              var a = M(r[T], B, R, e, i),
                                s = a.x,
                                u = a.y,
                                c = n.findIndex(function (e) {
                                  return e.id === t;
                                });
                              if (n[c]) {
                                (n[c].x = s + b[0]), (n[c].y = u + b[1]), (n[c]._order = r._order);
                                var l = d(n[c]);
                                o < l && (o = l);
                              }
                            }),
                            o
                          );
                        },
                        G = !0;
                      C.forEach(function (t) {
                        var e, r, i, o, a, s, u;
                        if (
                          (null === (e = null == t ? void 0 : t.nodes) || void 0 === e
                            ? void 0
                            : e.length) ||
                          (null === (r = null == t ? void 0 : t.left) || void 0 === r
                            ? void 0
                            : r.length) ||
                          (null === (i = null == t ? void 0 : t.right) || void 0 === i
                            ? void 0
                            : i.length)
                        ) {
                          if (G && 1 === t.nodes.length) {
                            var c = n.findIndex(function (e) {
                              return e.id === t.nodes[0];
                            });
                            return (
                              (n[c].x = b[0]),
                              (n[c].y = b[1]),
                              (L[t.nodes[0]] = 0),
                              (D = d(n[c])),
                              void (G = !1)
                            );
                          }
                          D = Math.max(D, t.totalWidth / (2 * Math.PI));
                          var l = -1 / 0;
                          if (
                            0 === A ||
                            (null === (o = t.nodes) || void 0 === o ? void 0 : o.length)
                          )
                            l = j(t.nodes, D, l, [0, 1]);
                          else {
                            var h =
                              (null === (a = t.left) || void 0 === a ? void 0 : a.length) /
                              ((null === (s = t.left) || void 0 === s ? void 0 : s.length) +
                                (null === (u = t.right) || void 0 === u ? void 0 : u.length));
                            (l = j(t.left, D, l, [0, h])), (l = j(t.right, D, l, [h + 0.05, 1]));
                          }
                          (D += l), (G = !1), t.maxSize;
                        }
                      }),
                        f.edges().forEach(function (t) {
                          var n,
                            r,
                            i = f.edge(t),
                            o = h.findIndex(function (e) {
                              var n = (0, s.getEdgeTerminal)(e, 'source'),
                                r = (0, s.getEdgeTerminal)(e, 'target');
                              return n === t.v && r === t.w;
                            });
                          if (e.edgeLabelSpace && e.controlPoints && 'loop' !== h[o].type) {
                            var a = 'x' === T ? 'y' : 'x',
                              u = i.points.slice(1, i.points.length - 1),
                              c = [],
                              l = null === (n = f.node(t.v)) || void 0 === n ? void 0 : n[a],
                              d = l - (null === (r = f.node(t.w)) || void 0 === r ? void 0 : r[a]),
                              p = L[t.v],
                              g = p - L[t.w];
                            u.forEach(function (t) {
                              var e = ((t[a] - l) / d) * g + p,
                                n = M(t[T], B, R, e);
                              c.push({ x: n.x + b[0], y: n.y + b[1] });
                            }),
                              (h[o].controlPoints = c);
                          }
                        });
                    } else
                      f.nodes().forEach(function (t) {
                        var e = f.node(t),
                          r = n.findIndex(function (e) {
                            return e.id === t;
                          });
                        n[r] &&
                          ((n[r].x = e.x + b[0]), (n[r].y = e.y + b[1]), (n[r]._order = e._order));
                      }),
                        f.edges().forEach(function (t) {
                          var n = f.edge(t),
                            r = h.findIndex(function (e) {
                              var n = (0, s.getEdgeTerminal)(e, 'source'),
                                r = (0, s.getEdgeTerminal)(e, 'target');
                              return n === t.v && r === t.w;
                            });
                          e.edgeLabelSpace &&
                            e.controlPoints &&
                            'loop' !== h[r].type &&
                            ((h[r].controlPoints = n.points.slice(1, n.points.length - 1)),
                            h[r].controlPoints.forEach(function (t) {
                              (t.x += b[0]), (t.y += b[1]);
                            }));
                        });
                    return e.onLayoutEnd && e.onLayoutEnd(), { nodes: n, edges: h };
                  }
                }),
                (e.prototype.getRadialPos = function (t, e, n, r, i) {
                  void 0 === i && (i = [0, 1]);
                  var o = (t - e[0]) / n,
                    a = 2 * (o = o * (i[1] - i[0]) + i[0]) * Math.PI;
                  return { x: Math.cos(a) * r, y: Math.sin(a) * r };
                }),
                (e.prototype.getType = function () {
                  return 'dagre';
                }),
                e
              );
            })(n(2329).Base);
          e.DagreLayout = u;
        },
        7057: function (t, e, n) {
          'use strict';
          var r,
            i =
              (this && this.__extends) ||
              ((r = function (t, e) {
                return (
                  (r =
                    Object.setPrototypeOf ||
                    ({ __proto__: [] } instanceof Array &&
                      function (t, e) {
                        t.__proto__ = e;
                      }) ||
                    function (t, e) {
                      for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
                    }),
                  r(t, e)
                );
              }),
              function (t, e) {
                if ('function' != typeof e && null !== e)
                  throw new TypeError(
                    'Class extends value ' + String(e) + ' is not a constructor or null',
                  );
                function n() {
                  this.constructor = t;
                }
                r(t, e),
                  (t.prototype =
                    null === e ? Object.create(e) : ((n.prototype = e.prototype), new n()));
              }),
            o =
              (this && this.__assign) ||
              function () {
                return (
                  (o =
                    Object.assign ||
                    function (t) {
                      for (var e, n = 1, r = arguments.length; n < r; n++)
                        for (var i in (e = arguments[n]))
                          Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i]);
                      return t;
                    }),
                  o.apply(this, arguments)
                );
              },
            a =
              (this && this.__spreadArray) ||
              function (t, e, n) {
                if (n || 2 === arguments.length)
                  for (var r, i = 0, o = e.length; i < o; i++)
                    (!r && i in e) ||
                      (r || (r = Array.prototype.slice.call(e, 0, i)), (r[i] = e[i]));
                return t.concat(r || Array.prototype.slice.call(e));
              };
          Object.defineProperty(e, '__esModule', { value: !0 }), (e.DagreCompoundLayout = void 0);
          var s = n(2329),
            u = n(1969),
            c = n(9784),
            l = (function (t) {
              function e(e) {
                var n = t.call(this) || this;
                return (
                  (n.rankdir = 'TB'),
                  (n.nodesep = 50),
                  (n.edgesep = 5),
                  (n.ranksep = 50),
                  (n.controlPoints = !0),
                  (n.anchorPoint = !0),
                  (n.nodes = []),
                  (n.edges = []),
                  (n.combos = []),
                  (n.onLayoutEnd = function () {}),
                  n.updateCfg(e),
                  n
                );
              }
              return (
                i(e, t),
                (e.prototype.getDefaultCfg = function () {
                  return {
                    rankdir: 'TB',
                    align: void 0,
                    begin: void 0,
                    nodeSize: void 0,
                    nodesep: 50,
                    ranksep: 50,
                    controlPoints: !0,
                    anchorPoint: !0,
                  };
                }),
                (e.prototype.init = function (t) {
                  var e = t.hiddenNodes || [],
                    n = t.hiddenEdges || [],
                    r = t.hiddenCombos || [];
                  (this.nodes = this.getDataByOrder((t.nodes || []).concat(e))),
                    (this.edges = this.getDataByOrder((t.edges || []).concat(n))),
                    (this.combos = (t.combos || []).concat(
                      r.map(function (t) {
                        return o(o({}, t), { collapsed: !0 });
                      }),
                    ));
                }),
                (e.prototype.execute = function () {
                  var t = this,
                    e = t.nodes,
                    n = t.edges;
                  if (e) {
                    var r = t.getLayoutConfig(),
                      i = r.graphDef,
                      o = r.graphOption,
                      a = r.graphSettings,
                      s = (0, u.buildGraph)(i, o, a),
                      c = (0, u.flatGraph)(s, !0);
                    return (
                      this.updatePosition(c),
                      t.onLayoutEnd && t.onLayoutEnd(),
                      { nodes: e, edges: n }
                    );
                  }
                }),
                (e.prototype.getNodePath = function (t) {
                  var e = this.nodes,
                    n = this.combos,
                    r = e.find(function (e) {
                      return e.id === t;
                    }),
                    i = function (t, e) {
                      void 0 === e && (e = []);
                      var r = n.find(function (e) {
                        return e.id === t;
                      });
                      return r ? (e.unshift(t), r.parentId ? i(r.parentId, e) : e) : e;
                    };
                  return r && r.comboId ? i(r.comboId, [t]) : [t];
                }),
                (e.prototype.getLayoutConfig = function () {
                  var t,
                    e,
                    n,
                    r,
                    i = this,
                    s = i.nodes,
                    l = i.edges,
                    h = i.combos,
                    f = i.nodeSize,
                    d = i.rankdir,
                    p = i.align,
                    g = i.edgesep,
                    v = i.nodesep,
                    y = i.ranksep,
                    m = i.settings,
                    b = (h || []).reduce(function (t, e) {
                      var n = s
                          .filter(function (t) {
                            return t.comboId === e.id;
                          })
                          .map(function (t) {
                            return t.id;
                          }),
                        r = (h || [])
                          .filter(function (t) {
                            return t.parentId === e.id;
                          })
                          .map(function (t) {
                            return t.id;
                          });
                      return (n.length || r.length) && (t[e.id] = a(a([], n, !0), r, !0)), t;
                    }, {});
                  r = f
                    ? (0, c.isArray)(f)
                      ? function () {
                          return f;
                        }
                      : function () {
                          return [f, f];
                        }
                    : function (t) {
                        return t && t.size
                          ? (0, c.isArray)(t.size)
                            ? t.size
                            : (0, c.isObject)(t.size)
                            ? [t.size.width || 40, t.size.height || 40]
                            : [t.size, t.size]
                          : [40, 40];
                      };
                  var x,
                    _ =
                      (x = null == h ? void 0 : h[0]) && x.size
                        ? (0, c.isArray)(x.size)
                          ? x.size
                          : [x.size, x.size]
                        : [80, 40],
                    w = _[0],
                    E = _[1],
                    S =
                      null ===
                        (e =
                          null === (t = i.graphSettings) || void 0 === t ? void 0 : t.subScene) ||
                      void 0 === e
                        ? void 0
                        : e.meta,
                    M = (null ===
                      (n = h.find(function (t) {
                        return !t.collapsed;
                      })) || void 0 === n
                      ? void 0
                      : n.padding) || [20, 20, 20, 20],
                    k = M[0],
                    A = M[1],
                    C = M[2],
                    I = M[3],
                    T = {
                      compound: b,
                      nodes: a(
                        [],
                        (s || []).map(function (t) {
                          var e = r(t),
                            n = e[0],
                            i = e[1];
                          return o(o({}, t), { width: n, height: i });
                        }),
                        !0,
                      ),
                      edges: a(
                        [],
                        (l || []).map(function (t) {
                          return o(o({}, t), { v: t.source, w: t.target });
                        }),
                        !0,
                      ),
                    },
                    N = {
                      expanded: (h || [])
                        .filter(function (t) {
                          return !t.collapsed;
                        })
                        .map(function (t) {
                          return t.id;
                        }),
                    },
                    P = {
                      graph: { meta: { align: p, rankDir: d, nodeSep: v, edgeSep: g, rankSep: y } },
                      subScene: {
                        meta: {
                          paddingTop: k || (null == S ? void 0 : S.paddingTop) || 20,
                          paddingRight: A || (null == S ? void 0 : S.paddingRight) || 20,
                          paddingBottom: C || (null == S ? void 0 : S.paddingBottom) || 20,
                          paddingLeft: I || (null == S ? void 0 : S.paddingLeft) || 20,
                          labelHeight: 0,
                        },
                      },
                      nodeSize: { meta: { width: w, height: E } },
                    },
                    O = (0, u.mergeConfig)(m, o({}, (0, u.mergeConfig)(P, u.LAYOUT_CONFIG)));
                  return (i.graphSettings = O), { graphDef: T, graphOption: N, graphSettings: O };
                }),
                (e.prototype.updatePosition = function (t) {
                  var e = t.nodes,
                    n = t.edges;
                  this.updateNodePosition(e, n), this.updateEdgePosition(e, n);
                }),
                (e.prototype.getBegin = function (t, e) {
                  var n = this.begin,
                    r = [0, 0];
                  if (n) {
                    var i = 1 / 0,
                      o = 1 / 0;
                    t.forEach(function (t) {
                      i > t.x && (i = t.x), o > t.y && (o = t.y);
                    }),
                      e.forEach(function (t) {
                        t.points.forEach(function (t) {
                          i > t.x && (i = t.x), o > t.y && (o = t.y);
                        });
                      }),
                      (r[0] = n[0] - i),
                      (r[1] = n[1] - o);
                  }
                  return r;
                }),
                (e.prototype.updateNodePosition = function (t, e) {
                  var n = this,
                    r = n.combos,
                    i = n.nodes,
                    o = n.edges,
                    a = n.anchorPoint,
                    s = n.graphSettings,
                    c = this.getBegin(t, e);
                  t.forEach(function (t) {
                    var n,
                      l = t.x,
                      h = t.y,
                      f = t.id,
                      d = t.type,
                      p = t.coreBox;
                    if (d === u.HierarchyNodeType.META && f !== u.ROOT_NAME) {
                      var g = r.findIndex(function (t) {
                          return t.id === f;
                        }),
                        v =
                          null === (n = null == s ? void 0 : s.subScene) || void 0 === n
                            ? void 0
                            : n.meta;
                      (r[g].offsetX = l + c[0]),
                        (r[g].offsetY = h + c[1]),
                        (r[g].fixSize = [p.width, p.height]),
                        (r[g].fixCollapseSize = [p.width, p.height]),
                        t.expanded
                          ? (r[g].padding = [
                              null == v ? void 0 : v.paddingTop,
                              null == v ? void 0 : v.paddingRight,
                              null == v ? void 0 : v.paddingBottom,
                              null == v ? void 0 : v.paddingLeft,
                            ])
                          : (r[g].padding = [0, 0, 0, 0]);
                    } else if (
                      d === u.HierarchyNodeType.OP &&
                      ((g = i.findIndex(function (t) {
                        return t.id === f;
                      })),
                      (i[g].x = l + c[0]),
                      (i[g].y = h + c[1]),
                      a)
                    ) {
                      var y = [],
                        m = e.filter(function (t) {
                          return t.v === f;
                        }),
                        b = e.filter(function (t) {
                          return t.w === f;
                        });
                      m.length > 0 &&
                        m.forEach(function (e) {
                          var n = e.points[0],
                            r = (n.x - l) / t.width + 0.5,
                            i = (n.y - h) / t.height + 0.5;
                          y.push([r, i]),
                            e.baseEdgeList.forEach(function (t) {
                              var e = o.find(function (e) {
                                return e.source === t.v && e.target === t.w;
                              });
                              e && (e.sourceAnchor = y.length - 1);
                            });
                        }),
                        b.length > 0 &&
                          b.forEach(function (e) {
                            var n = e.points[e.points.length - 1],
                              r = (n.x - l) / t.width + 0.5,
                              i = (n.y - h) / t.height + 0.5;
                            y.push([r, i]),
                              e.baseEdgeList.forEach(function (t) {
                                var e = o.find(function (e) {
                                  return e.source === t.v && e.target === t.w;
                                });
                                e && (e.targetAnchor = y.length - 1);
                              });
                          }),
                        (i[g].anchorPoints = y.length > 0 ? y : i[g].anchorPoints || []);
                    }
                  });
                }),
                (e.prototype.updateEdgePosition = function (t, e) {
                  var n = this,
                    r = n.combos,
                    i = n.edges,
                    s = n.controlPoints,
                    c = this.getBegin(t, e);
                  s &&
                    (r.forEach(function (t) {
                      (t.inEdges = []), (t.outEdges = []);
                    }),
                    i.forEach(function (e) {
                      var i,
                        s,
                        l,
                        h,
                        f = t.find(function (t) {
                          return t.id === e.source;
                        }),
                        d = t.find(function (t) {
                          return t.id === e.target;
                        }),
                        p = [],
                        g = [];
                      if (f && d)
                        g = (0, u.getEdges)(
                          null == f ? void 0 : f.id,
                          null == d ? void 0 : d.id,
                          t,
                        );
                      else if (!f || !d) {
                        var v = n.getNodePath(e.source),
                          y = n.getNodePath(e.target),
                          m = v
                            .reverse()
                            .slice(f ? 0 : 1)
                            .find(function (e) {
                              return t.find(function (t) {
                                return t.id === e;
                              });
                            }),
                          b = y
                            .reverse()
                            .slice(d ? 0 : 1)
                            .find(function (e) {
                              return t.find(function (t) {
                                return t.id === e;
                              });
                            });
                        (f = t.find(function (t) {
                          return t.id === m;
                        })),
                          (d = t.find(function (t) {
                            return t.id === b;
                          })),
                          (g = (0, u.getEdges)(
                            null == f ? void 0 : f.id,
                            null == d ? void 0 : d.id,
                            t,
                            { v: e.source, w: e.target },
                          ));
                      }
                      if (
                        ((p = (p = g.reduce(function (t, e) {
                          return a(
                            a([], t, !0),
                            e.points.map(function (t) {
                              return o(o({}, t), { x: t.x + c[0], y: t.y + c[1] });
                            }),
                            !0,
                          );
                        }, [])).slice(1, -1)),
                        (e.controlPoints = p),
                        (null == d ? void 0 : d.type) === u.NodeType.META)
                      ) {
                        var x = r.findIndex(function (t) {
                          return t.id === (null == d ? void 0 : d.id);
                        });
                        if (
                          !r[x] ||
                          (null === (i = r[x].inEdges) || void 0 === i
                            ? void 0
                            : i.some(function (t) {
                                return t.source === f.id && t.target === d.id;
                              }))
                        )
                          return;
                        null === (s = r[x].inEdges) ||
                          void 0 === s ||
                          s.push({ source: f.id, target: d.id, controlPoints: p });
                      }
                      if ((null == f ? void 0 : f.type) === u.NodeType.META) {
                        if (
                          ((x = r.findIndex(function (t) {
                            return t.id === (null == f ? void 0 : f.id);
                          })),
                          !r[x] ||
                            (null === (l = r[x].outEdges) || void 0 === l
                              ? void 0
                              : l.some(function (t) {
                                  return t.source === f.id && t.target === d.id;
                                })))
                        )
                          return;
                        null === (h = r[x].outEdges) ||
                          void 0 === h ||
                          h.push({ source: f.id, target: d.id, controlPoints: p });
                      }
                    }));
                }),
                (e.prototype.getType = function () {
                  return 'dagreCompound';
                }),
                (e.prototype.getDataByOrder = function (t) {
                  return (
                    t.every(function (t) {
                      return void 0 !== t.layoutOrder;
                    }) ||
                      t.forEach(function (t, e) {
                        t.layoutOrder = e;
                      }),
                    t.sort(function (t, e) {
                      return t.layoutOrder - e.layoutOrder;
                    })
                  );
                }),
                e
              );
            })(s.Base);
          e.DagreCompoundLayout = l;
        },
        1106: function (t, e, n) {
          'use strict';
          var r =
            (this && this.__importDefault) ||
            function (t) {
              return t && t.__esModule ? t : { default: t };
            };
          Object.defineProperty(e, '__esModule', { value: !0 });
          var i = r(n(4032)),
            o = r(n(5236)),
            a = n(9209);
          e.default = {
            graphlib: i.default,
            layout: o.default,
            util: { time: a.time, notime: a.notime },
          };
        },
        8029: function (t, e, n) {
          'use strict';
          var r =
            (this && this.__importDefault) ||
            function (t) {
              return t && t.__esModule ? t : { default: t };
            };
          Object.defineProperty(e, '__esModule', { value: !0 });
          var i = r(n(773));
          e.default = {
            run: function (t) {
              var e =
                'greedy' === t.graph().acyclicer
                  ? (0, i.default)(
                      t,
                      (function (t) {
                        return function (e) {
                          return t.edge(e).weight;
                        };
                      })(t),
                    )
                  : (function (t) {
                      var e = [],
                        n = {},
                        r = {},
                        i = function (o) {
                          var a;
                          r.hasOwnProperty(o) ||
                            ((r[o] = !0),
                            (n[o] = !0),
                            null === (a = t.outEdges(o)) ||
                              void 0 === a ||
                              a.forEach(function (t) {
                                n.hasOwnProperty(t.w) ? e.push(t) : i(t.w);
                              }),
                            delete n[o]);
                        };
                      return t.nodes().forEach(i), e;
                    })(t);
              null == e ||
                e.forEach(function (e) {
                  var n = t.edge(e);
                  t.removeEdge(e),
                    (n.forwardName = e.name),
                    (n.reversed = !0),
                    t.setEdge(e.w, e.v, n, 'rev-' + Math.random());
                });
            },
            undo: function (t) {
              t.edges().forEach(function (e) {
                var n = t.edge(e);
                if (n.reversed) {
                  t.removeEdge(e);
                  var r = n.forwardName;
                  delete n.reversed, delete n.forwardName, t.setEdge(e.w, e.v, n, r);
                }
              });
            },
          };
        },
        1500: function (t, e, n) {
          'use strict';
          var r =
            (this && this.__importDefault) ||
            function (t) {
              return t && t.__esModule ? t : { default: t };
            };
          Object.defineProperty(e, '__esModule', { value: !0 });
          var i = r(n(9209)),
            o = function (t, e, n, r, o, a) {
              var s = { rank: a, width: 0, height: 0, borderType: e },
                u = o[e][a - 1],
                c = i.default.addDummyNode(t, 'border', s, n);
              (o[e][a] = c), t.setParent(c, r), u && t.setEdge(u, c, { weight: 1 });
            };
          e.default = function (t) {
            var e,
              n = function (e) {
                var r = t.children(e),
                  i = t.node(e);
                if (
                  ((null == r ? void 0 : r.length) &&
                    r.forEach(function (t) {
                      return n(t);
                    }),
                  i.hasOwnProperty('minRank'))
                ) {
                  (i.borderLeft = []), (i.borderRight = []);
                  for (var a = i.minRank, s = i.maxRank + 1; a < s; ++a)
                    o(t, 'borderLeft', '_bl', e, i, a), o(t, 'borderRight', '_br', e, i, a);
                }
              };
            null === (e = t.children()) ||
              void 0 === e ||
              e.forEach(function (t) {
                return n(t);
              });
          };
        },
        5279: (t, e) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 });
          var n = function (t) {
              t.nodes().forEach(function (e) {
                r(t.node(e));
              }),
                t.edges().forEach(function (e) {
                  r(t.edge(e));
                });
            },
            r = function (t) {
              var e = t.width;
              (t.width = t.height), (t.height = e);
            },
            i = function (t) {
              t.y = -t.y;
            },
            o = function (t) {
              var e = t.x;
              (t.x = t.y), (t.y = e);
            };
          e.default = {
            adjust: function (t) {
              var e,
                r = null === (e = t.graph().rankdir) || void 0 === e ? void 0 : e.toLowerCase();
              ('lr' !== r && 'rl' !== r) || n(t);
            },
            undo: function (t) {
              var e,
                r = null === (e = t.graph().rankdir) || void 0 === e ? void 0 : e.toLowerCase();
              ('bt' !== r && 'rl' !== r) ||
                (function (t) {
                  t.nodes().forEach(function (e) {
                    i(t.node(e));
                  }),
                    t.edges().forEach(function (e) {
                      var n,
                        r = t.edge(e);
                      null === (n = r.points) ||
                        void 0 === n ||
                        n.forEach(function (t) {
                          return i(t);
                        }),
                        r.hasOwnProperty('y') && i(r);
                    });
                })(t),
                ('lr' !== r && 'rl' !== r) ||
                  ((function (t) {
                    t.nodes().forEach(function (e) {
                      o(t.node(e));
                    }),
                      t.edges().forEach(function (e) {
                        var n,
                          r = t.edge(e);
                        null === (n = r.points) ||
                          void 0 === n ||
                          n.forEach(function (t) {
                            return o(t);
                          }),
                          r.hasOwnProperty('x') && o(r);
                      });
                  })(t),
                  n(t));
            },
          };
        },
        5532: (t, e) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 });
          var n = function (t) {
              (t._prev._next = t._next), (t._next._prev = t._prev), delete t._next, delete t._prev;
            },
            r = function (t, e) {
              if ('_next' !== t && '_prev' !== t) return e;
            },
            i = (function () {
              function t() {
                var t = {};
                (t._next = t._prev = t), (this.isentinel = t);
              }
              return (
                (t.prototype.dequeue = function () {
                  var t = this.isentinel,
                    e = t._prev;
                  if (e !== t) return n(e), e;
                }),
                (t.prototype.enqueue = function () {
                  var t = this.isentinel,
                    e = t._prev;
                  if (e !== t) return n(e), e;
                }),
                (t.prototype.toString = function () {
                  for (var t = [], e = this.isentinel, n = e._prev; n !== e; )
                    t.push(JSON.stringify(n, r)), (n = n._prev);
                  return '[' + t.join(', ') + ']';
                }),
                t
              );
            })();
          e.default = i;
        },
        4032: function (t, e, n) {
          'use strict';
          var r =
            (this && this.__importDefault) ||
            function (t) {
              return t && t.__esModule ? t : { default: t };
            };
          Object.defineProperty(e, '__esModule', { value: !0 });
          var i = r(n(5788)).default;
          i || 'undefined' == typeof window || (i = window.graphlib),
            Array.prototype.flat ||
              (Array.prototype.flat = function (t) {
                var e = t || 1;
                if (isFinite(e)) {
                  var n = this.length,
                    r = [];
                  if (0 === this.length) return this;
                  for (; e--; ) {
                    var i = [],
                      o = !1;
                    if (0 === r.length) {
                      o = !0;
                      for (var a = 0; a < n; a++)
                        this[a] instanceof Array ? r.push.apply(r, this[a]) : r.push(this[a]);
                    } else {
                      for (a = 0; a < r.length; a++)
                        r[a] instanceof Array ? ((o = !0), i.push.apply(i, r[a])) : i.push(r[a]);
                      r = i;
                    }
                    if (!o && e === 1 / 0) break;
                  }
                  return r;
                }
              }),
            (e.default = i);
        },
        773: function (t, e, n) {
          'use strict';
          var r =
            (this && this.__importDefault) ||
            function (t) {
              return t && t.__esModule ? t : { default: t };
            };
          Object.defineProperty(e, '__esModule', { value: !0 });
          var i = r(n(4032)),
            o = r(n(5532)),
            a = i.default.Graph,
            s = function () {
              return 1;
            },
            u = function (t, e, n, r, i) {
              var o,
                a,
                s = i ? [] : void 0;
              return (
                null === (o = t.inEdges(r.v)) ||
                  void 0 === o ||
                  o.forEach(function (r) {
                    var o = t.edge(r),
                      a = t.node(r.v);
                    i && s.push({ v: r.v, w: r.w }),
                      void 0 === a.out && (a.out = 0),
                      (a.out -= o),
                      c(e, n, a);
                  }),
                null === (a = t.outEdges(r.v)) ||
                  void 0 === a ||
                  a.forEach(function (r) {
                    var i = t.edge(r),
                      o = r.w,
                      a = t.node(o);
                    void 0 === a.in && (a.in = 0), (a.in -= i), c(e, n, a);
                  }),
                t.removeNode(r.v),
                s
              );
            },
            c = function (t, e, n) {
              n.out
                ? n.in
                  ? t[n.out - n.in + e].enqueue(n)
                  : t[t.length - 1].enqueue(n)
                : t[0].enqueue(n);
            };
          e.default = function (t, e) {
            var n;
            if (t.nodeCount() <= 1) return [];
            var r = (function (t, e) {
              var n = new a(),
                r = 0,
                i = 0;
              t.nodes().forEach(function (t) {
                n.setNode(t, { v: t, in: 0, out: 0 });
              }),
                t.edges().forEach(function (t) {
                  var o = n.edge(t.v, t.w) || 0,
                    a = null == e ? void 0 : e(t),
                    s = o + a;
                  n.setEdge(t.v, t.w, s),
                    (i = Math.max(i, (n.node(t.v).out += a))),
                    (r = Math.max(r, (n.node(t.w).in += a)));
                });
              for (var s = [], u = i + r + 3, l = 0; l < u; l++) s.push(new o.default());
              var h = r + 1;
              return (
                n.nodes().forEach(function (t) {
                  c(s, h, n.node(t));
                }),
                { buckets: s, zeroIdx: h, graph: n }
              );
            })(t, e || s);
            return null ===
              (n = (function (t, e, n) {
                for (var r, i = [], o = e[e.length - 1], a = e[0]; t.nodeCount(); ) {
                  for (; (r = a.dequeue()); ) u(t, e, n, r);
                  for (; (r = o.dequeue()); ) u(t, e, n, r);
                  if (t.nodeCount())
                    for (var s = e.length - 2; s > 0; --s)
                      if ((r = e[s].dequeue())) {
                        i = i.concat(u(t, e, n, r, !0));
                        break;
                      }
                }
                return i;
              })(r.graph, r.buckets, r.zeroIdx).map(function (e) {
                return t.outEdges(e.v, e.w);
              })) || void 0 === n
              ? void 0
              : n.flat();
          };
        },
        5236: function (t, e, n) {
          'use strict';
          var r =
              (this && this.__createBinding) ||
              (Object.create
                ? function (t, e, n, r) {
                    void 0 === r && (r = n),
                      Object.defineProperty(t, r, {
                        enumerable: !0,
                        get: function () {
                          return e[n];
                        },
                      });
                  }
                : function (t, e, n, r) {
                    void 0 === r && (r = n), (t[r] = e[n]);
                  }),
            i =
              (this && this.__setModuleDefault) ||
              (Object.create
                ? function (t, e) {
                    Object.defineProperty(t, 'default', { enumerable: !0, value: e });
                  }
                : function (t, e) {
                    t.default = e;
                  }),
            o =
              (this && this.__importStar) ||
              function (t) {
                if (t && t.__esModule) return t;
                var e = {};
                if (null != t)
                  for (var n in t)
                    'default' !== n && Object.prototype.hasOwnProperty.call(t, n) && r(e, t, n);
                return i(e, t), e;
              },
            a =
              (this && this.__importDefault) ||
              function (t) {
                return t && t.__esModule ? t : { default: t };
              };
          Object.defineProperty(e, '__esModule', { value: !0 });
          var s = a(n(8029)),
            u = a(n(6171)),
            c = a(n(6827)),
            l = o(n(9209)),
            h = a(n(3562)),
            f = a(n(9596)),
            d = a(n(1500)),
            p = a(n(5279)),
            g = a(n(9597)),
            v = a(n(95)),
            y = a(n(4032)),
            m = a(n(4956)),
            b = y.default.Graph,
            x = ['nodesep', 'edgesep', 'ranksep', 'marginx', 'marginy'],
            _ = { ranksep: 50, edgesep: 20, nodesep: 50, rankdir: 'tb' },
            w = ['acyclicer', 'ranker', 'rankdir', 'align'],
            E = ['width', 'height', 'layer', 'fixorder'],
            S = { width: 0, height: 0 },
            M = ['minlen', 'weight', 'width', 'height', 'labeloffset'],
            k = { minlen: 1, weight: 1, width: 0, height: 0, labeloffset: 10, labelpos: 'r' },
            A = ['labelpos'],
            C = function (t) {
              t.edges().forEach(function (e) {
                var n = t.edge(e);
                if (n.width && n.height) {
                  var r = t.node(e.v),
                    i = { e, rank: (t.node(e.w).rank - r.rank) / 2 + r.rank };
                  l.default.addDummyNode(t, 'edge-proxy', i, '_ep');
                }
              });
            },
            I = function (t) {
              var e = 0;
              t.nodes().forEach(function (n) {
                var r = t.node(n);
                r.borderTop &&
                  ((r.minRank = t.node(r.borderTop).rank),
                  (r.maxRank = t.node(r.borderBottom).rank),
                  (e = Math.max(e, r.maxRank || -1 / 0)));
              }),
                (t.graph().maxRank = e);
            },
            T = function (t) {
              t.nodes().forEach(function (e) {
                var n = t.node(e);
                'edge-proxy' === n.dummy && ((t.edge(n.e).labelRank = n.rank), t.removeNode(e));
              });
            },
            N = function (t) {
              var e = Number.POSITIVE_INFINITY,
                n = 0,
                r = Number.POSITIVE_INFINITY,
                i = 0,
                o = t.graph(),
                a = o.marginx || 0,
                s = o.marginy || 0,
                u = function (t) {
                  if (t) {
                    var o = t.x,
                      a = t.y,
                      s = t.width,
                      u = t.height;
                    isNaN(o) ||
                      isNaN(s) ||
                      ((e = Math.min(e, o - s / 2)), (n = Math.max(n, o + s / 2))),
                      isNaN(a) ||
                        isNaN(u) ||
                        ((r = Math.min(r, a - u / 2)), (i = Math.max(i, a + u / 2)));
                  }
                };
              t.nodes().forEach(function (e) {
                u(t.node(e));
              }),
                t.edges().forEach(function (e) {
                  var n = t.edge(e);
                  n.hasOwnProperty('x') && u(n);
                }),
                (e -= a),
                (r -= s),
                t.nodes().forEach(function (n) {
                  var i = t.node(n);
                  (i.x -= e), (i.y -= r);
                }),
                t.edges().forEach(function (n) {
                  var i,
                    o = t.edge(n);
                  null === (i = o.points) ||
                    void 0 === i ||
                    i.forEach(function (t) {
                      (t.x -= e), (t.y -= r);
                    }),
                    o.hasOwnProperty('x') && (o.x -= e),
                    o.hasOwnProperty('y') && (o.y -= r);
                }),
                (o.width = n - e + a),
                (o.height = i - r + s);
            },
            P = function (t) {
              t.edges().forEach(function (e) {
                var n,
                  r,
                  i = t.edge(e),
                  o = t.node(e.v),
                  a = t.node(e.w);
                i.points
                  ? ((n = i.points[0]), (r = i.points[i.points.length - 1]))
                  : ((i.points = []), (n = a), (r = o)),
                  i.points.unshift(l.default.intersectRect(o, n)),
                  i.points.push(l.default.intersectRect(a, r));
              });
            },
            O = function (t) {
              t.edges().forEach(function (e) {
                var n = t.edge(e);
                if (n.hasOwnProperty('x'))
                  switch (
                    (('l' !== n.labelpos && 'r' !== n.labelpos) || (n.width -= n.labeloffset),
                    n.labelpos)
                  ) {
                    case 'l':
                      n.x -= n.width / 2 + n.labeloffset;
                      break;
                    case 'r':
                      n.x += n.width / 2 + n.labeloffset;
                  }
              });
            },
            D = function (t) {
              t.edges().forEach(function (e) {
                var n = t.edge(e);
                n.reversed && n.points.reverse();
              });
            },
            L = function (t) {
              t.nodes().forEach(function (e) {
                var n, r, i;
                if (null === (n = t.children(e)) || void 0 === n ? void 0 : n.length) {
                  var o = t.node(e),
                    a = t.node(o.borderTop),
                    s = t.node(o.borderBottom),
                    u = t.node(
                      o.borderLeft[
                        (null === (r = o.borderLeft) || void 0 === r ? void 0 : r.length) - 1
                      ],
                    ),
                    c = t.node(
                      o.borderRight[
                        (null === (i = o.borderRight) || void 0 === i ? void 0 : i.length) - 1
                      ],
                    );
                  (o.width =
                    Math.abs((null == c ? void 0 : c.x) - (null == u ? void 0 : u.x)) || 10),
                    (o.height =
                      Math.abs((null == s ? void 0 : s.y) - (null == a ? void 0 : a.y)) || 10),
                    (o.x = ((null == u ? void 0 : u.x) || 0) + o.width / 2),
                    (o.y = ((null == a ? void 0 : a.y) || 0) + o.height / 2);
                }
              }),
                t.nodes().forEach(function (e) {
                  'border' === t.node(e).dummy && t.removeNode(e);
                });
            },
            R = function (t) {
              t.edges().forEach(function (e) {
                if (e.v === e.w) {
                  var n = t.node(e.v);
                  n.selfEdges || (n.selfEdges = []),
                    n.selfEdges.push({ e, label: t.edge(e) }),
                    t.removeEdge(e);
                }
              });
            },
            B = function (t) {
              var e = l.default.buildLayerMatrix(t);
              null == e ||
                e.forEach(function (e) {
                  var n = 0;
                  null == e ||
                    e.forEach(function (e, r) {
                      var i,
                        o = t.node(e);
                      (o.order = r + n),
                        null === (i = o.selfEdges) ||
                          void 0 === i ||
                          i.forEach(function (e) {
                            l.default.addDummyNode(
                              t,
                              'selfedge',
                              {
                                width: e.label.width,
                                height: e.label.height,
                                rank: o.rank,
                                order: r + ++n,
                                e: e.e,
                                label: e.label,
                              },
                              '_se',
                            );
                          }),
                        delete o.selfEdges;
                    });
                });
            },
            j = function (t) {
              t.nodes().forEach(function (e) {
                var n = t.node(e);
                if ('selfedge' === n.dummy) {
                  var r = t.node(n.e.v),
                    i = r.x + r.width / 2,
                    o = r.y,
                    a = n.x - i,
                    s = r.height / 2;
                  t.setEdge(n.e, n.label),
                    t.removeNode(e),
                    (n.label.points = [
                      { x: i + (2 * a) / 3, y: o - s },
                      { x: i + (5 * a) / 6, y: o - s },
                      { y: o, x: i + a },
                      { x: i + (5 * a) / 6, y: o + s },
                      { x: i + (2 * a) / 3, y: o + s },
                    ]),
                    (n.label.x = n.x),
                    (n.label.y = n.y);
                }
              });
            },
            G = function (t, e) {
              var n = {};
              return (
                null == e ||
                  e.forEach(function (e) {
                    void 0 !== t[e] && (n[e] = +t[e]);
                  }),
                n
              );
            },
            z = function (t) {
              void 0 === t && (t = {});
              var e = {};
              return (
                Object.keys(t).forEach(function (n) {
                  var r = t[n];
                  e[n.toLowerCase()] = r;
                }),
                e
              );
            };
          e.default = function (t, e) {
            var n = e && e.debugTiming ? l.default.time : l.default.notime;
            n('layout', function () {
              e &&
                !e.keepNodeOrder &&
                e.prevGraph &&
                n('  inheritOrder', function () {
                  var n, r, i;
                  (n = t),
                    (r = e.prevGraph),
                    (i = r._nodes || {}),
                    n.nodes().forEach(function (t) {
                      var e = n.node(t);
                      void 0 !== i[t]
                        ? ((e.fixorder = i[t]._order), delete i[t]._order)
                        : delete e.fixorder;
                    });
                });
              var r = n('  buildLayoutGraph', function () {
                return (function (t) {
                  var e = new b({ multigraph: !0, compound: !0 }),
                    n = z(t.graph()),
                    r = {};
                  return (
                    null == w ||
                      w.forEach(function (t) {
                        void 0 !== n[t] && (r[t] = n[t]);
                      }),
                    e.setGraph(Object.assign({}, _, G(n, x), r)),
                    t.nodes().forEach(function (n) {
                      var r = z(t.node(n)),
                        i = G(r, E);
                      Object.keys(S).forEach(function (t) {
                        void 0 === i[t] && (i[t] = S[t]);
                      }),
                        e.setNode(n, i),
                        e.setParent(n, t.parent(n));
                    }),
                    t.edges().forEach(function (n) {
                      var r = z(t.edge(n)),
                        i = {};
                      null == A ||
                        A.forEach(function (t) {
                          void 0 !== r[t] && (i[t] = r[t]);
                        }),
                        e.setEdge(n, Object.assign({}, k, G(r, M), i));
                    }),
                    e
                  );
                })(t);
              });
              (e && !1 === e.edgeLabelSpace) ||
                n('  makeSpaceForEdgeLabels', function () {
                  !(function (t) {
                    var e = t.graph();
                    e.ranksep || (e.ranksep = 0),
                      (e.ranksep /= 2),
                      t.nodes().forEach(function (e) {
                        var n = t.node(e);
                        isNaN(n.layer) || (n.layer ? (n.layer *= 2) : (n.layer = 0));
                      }),
                      t.edges().forEach(function (n) {
                        var r,
                          i = t.edge(n);
                        (i.minlen *= 2),
                          'c' !==
                            (null === (r = i.labelpos) || void 0 === r
                              ? void 0
                              : r.toLowerCase()) &&
                            ('TB' === e.rankdir || 'BT' === e.rankdir
                              ? (i.width += i.labeloffset)
                              : (i.height += i.labeloffset));
                      });
                  })(r);
                });
              try {
                n('  runLayout', function () {
                  !(function (t, e, n) {
                    e('    removeSelfEdges', function () {
                      R(t);
                    }),
                      e('    acyclic', function () {
                        s.default.run(t);
                      }),
                      e('    nestingGraph.run', function () {
                        f.default.run(t);
                      }),
                      e('    rank', function () {
                        (0, c.default)(l.default.asNonCompoundGraph(t));
                      }),
                      e('    injectEdgeLabelProxies', function () {
                        C(t);
                      }),
                      e('    removeEmptyRanks', function () {
                        (0, l.removeEmptyRanks)(t);
                      }),
                      e('    nestingGraph.cleanup', function () {
                        f.default.cleanup(t);
                      }),
                      e('    normalizeRanks', function () {
                        (0, l.normalizeRanks)(t);
                      }),
                      e('    assignRankMinMax', function () {
                        I(t);
                      }),
                      e('    removeEdgeLabelProxies', function () {
                        T(t);
                      }),
                      e('    normalize.run', function () {
                        u.default.run(t);
                      }),
                      e('    parentDummyChains', function () {
                        (0, h.default)(t);
                      }),
                      e('    addBorderSegments', function () {
                        (0, d.default)(t);
                      }),
                      n &&
                        n.keepNodeOrder &&
                        e('    initDataOrder', function () {
                          (0, m.default)(t, n.nodeOrder);
                        }),
                      e('    order', function () {
                        (0, g.default)(t);
                      }),
                      e('    insertSelfEdges', function () {
                        B(t);
                      }),
                      e('    adjustCoordinateSystem', function () {
                        p.default.adjust(t);
                      }),
                      e('    position', function () {
                        (0, v.default)(t);
                      }),
                      e('    positionSelfEdges', function () {
                        j(t);
                      }),
                      e('    removeBorderNodes', function () {
                        L(t);
                      }),
                      e('    normalize.undo', function () {
                        u.default.undo(t);
                      }),
                      e('    fixupEdgeLabelCoords', function () {
                        O(t);
                      }),
                      e('    undoCoordinateSystem', function () {
                        p.default.undo(t);
                      }),
                      e('    translateGraph', function () {
                        N(t);
                      }),
                      e('    assignNodeIntersects', function () {
                        P(t);
                      }),
                      e('    reversePoints', function () {
                        D(t);
                      }),
                      e('    acyclic.undo', function () {
                        s.default.undo(t);
                      });
                  })(r, n, e);
                });
              } catch (t) {
                if ('Not possible to find intersection inside of the rectangle' === t.message)
                  return void console.error(
                    "The following error may be caused by improper layer setting, please make sure your manual layer setting does not violate the graph's structure:\n",
                    t,
                  );
                throw t;
              }
              n('  updateInputGraph', function () {
                !(function (t, e) {
                  t.nodes().forEach(function (n) {
                    var r,
                      i = t.node(n),
                      o = e.node(n);
                    i &&
                      ((i.x = o.x),
                      (i.y = o.y),
                      (i._order = o.order),
                      (i._rank = o.rank),
                      (null === (r = e.children(n)) || void 0 === r ? void 0 : r.length) &&
                        ((i.width = o.width), (i.height = o.height)));
                  }),
                    t.edges().forEach(function (n) {
                      var r = t.edge(n),
                        i = e.edge(n);
                      (r.points = i.points), i.hasOwnProperty('x') && ((r.x = i.x), (r.y = i.y));
                    }),
                    (t.graph().width = e.graph().width),
                    (t.graph().height = e.graph().height);
                })(t, r);
              });
            });
          };
        },
        9596: function (t, e, n) {
          'use strict';
          var r =
            (this && this.__importDefault) ||
            function (t) {
              return t && t.__esModule ? t : { default: t };
            };
          Object.defineProperty(e, '__esModule', { value: !0 });
          var i = r(n(9209)),
            o = function (t, e, n, r, a, s, u) {
              var c = t.children(u);
              if (null == c ? void 0 : c.length) {
                var l = i.default.addBorderNode(t, '_bt'),
                  h = i.default.addBorderNode(t, '_bb'),
                  f = t.node(u);
                t.setParent(l, u),
                  (f.borderTop = l),
                  t.setParent(h, u),
                  (f.borderBottom = h),
                  null == c ||
                    c.forEach(function (i) {
                      o(t, e, n, r, a, s, i);
                      var c = t.node(i),
                        f = c.borderTop ? c.borderTop : i,
                        d = c.borderBottom ? c.borderBottom : i,
                        p = c.borderTop ? r : 2 * r,
                        g = f !== d ? 1 : a - s[u] + 1;
                      t.setEdge(l, f, { minlen: g, weight: p, nestingEdge: !0 }),
                        t.setEdge(d, h, { minlen: g, weight: p, nestingEdge: !0 });
                    }),
                  t.parent(u) || t.setEdge(e, l, { weight: 0, minlen: a + s[u] });
              } else u !== e && t.setEdge(e, u, { weight: 0, minlen: n });
            };
          e.default = {
            run: function (t) {
              var e,
                n = i.default.addDummyNode(t, 'root', {}, '_root'),
                r = (function (t) {
                  var e,
                    n = {},
                    r = function (e, i) {
                      var o = t.children(e);
                      null == o ||
                        o.forEach(function (t) {
                          return r(t, i + 1);
                        }),
                        (n[e] = i);
                    };
                  return (
                    null === (e = t.children()) ||
                      void 0 === e ||
                      e.forEach(function (t) {
                        return r(t, 1);
                      }),
                    n
                  );
                })(t),
                a = Math.max.apply(Math, Object.values(r)) - 1,
                s = 2 * a + 1;
              (t.graph().nestingRoot = n),
                t.edges().forEach(function (e) {
                  t.edge(e).minlen *= s;
                });
              var u =
                (function (t) {
                  var e = 0;
                  return (
                    t.edges().forEach(function (n) {
                      e += t.edge(n).weight;
                    }),
                    e
                  );
                })(t) + 1;
              null === (e = t.children()) ||
                void 0 === e ||
                e.forEach(function (e) {
                  o(t, n, s, u, a, r, e);
                }),
                (t.graph().nodeRankFactor = s);
            },
            cleanup: function (t) {
              var e = t.graph();
              e.nestingRoot && t.removeNode(e.nestingRoot),
                delete e.nestingRoot,
                t.edges().forEach(function (e) {
                  t.edge(e).nestingEdge && t.removeEdge(e);
                });
            },
          };
        },
        6171: function (t, e, n) {
          'use strict';
          var r =
            (this && this.__importDefault) ||
            function (t) {
              return t && t.__esModule ? t : { default: t };
            };
          Object.defineProperty(e, '__esModule', { value: !0 });
          var i = r(n(9209));
          e.default = {
            run: function (t) {
              (t.graph().dummyChains = []),
                t.edges().forEach(function (e) {
                  return (function (t, e) {
                    var n,
                      r,
                      o = e.v,
                      a = t.node(o).rank,
                      s = e.w,
                      u = t.node(s).rank,
                      c = e.name,
                      l = t.edge(e),
                      h = l.labelRank;
                    if (u !== a + 1) {
                      var f, d, p;
                      for (t.removeEdge(e), p = 0, ++a; a < u; ++p, ++a)
                        (l.points = []),
                          (d = { edgeLabel: l, width: 0, height: 0, edgeObj: e, rank: a }),
                          (f = i.default.addDummyNode(t, 'edge', d, '_d')),
                          a === h &&
                            ((d.width = l.width),
                            (d.height = l.height),
                            (d.dummy = 'edge-label'),
                            (d.labelpos = l.labelpos)),
                          t.setEdge(o, f, { weight: l.weight }, c),
                          0 === p &&
                            (t.graph().dummyChains || (t.graph().dummyChains = []),
                            null ===
                              (r =
                                null === (n = t.graph()) || void 0 === n
                                  ? void 0
                                  : n.dummyChains) ||
                              void 0 === r ||
                              r.push(f)),
                          (o = f);
                      t.setEdge(o, s, { weight: l.weight }, c);
                    }
                  })(t, e);
                });
            },
            undo: function (t) {
              var e;
              null === (e = t.graph().dummyChains) ||
                void 0 === e ||
                e.forEach(function (e) {
                  var n,
                    r,
                    i = t.node(e),
                    o = i.edgeLabel;
                  i.edgeObj && t.setEdge(i.edgeObj, o);
                  for (var a = e; i.dummy; )
                    (r = null === (n = t.successors(a)) || void 0 === n ? void 0 : n[0]),
                      t.removeNode(a),
                      o.points.push({ x: i.x, y: i.y }),
                      'edge-label' === i.dummy &&
                        ((o.x = i.x), (o.y = i.y), (o.width = i.width), (o.height = i.height)),
                      (a = r),
                      (i = t.node(a));
                });
            },
          };
        },
        314: (t, e) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }),
            (e.default = function (t, e, n) {
              var r,
                i = {};
              null == n ||
                n.forEach(function (n) {
                  for (var o, a, s = t.parent(n); s; ) {
                    if (
                      ((o = t.parent(s)) ? ((a = i[o]), (i[o] = s)) : ((a = r), (r = s)),
                      a && a !== s)
                    )
                      return void e.setEdge(a, s);
                    s = o;
                  }
                });
            });
        },
        9921: (t, e) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }),
            (e.default = function (t, e) {
              return e.map(function (e) {
                var n = t.inEdges(e);
                if (!(null == n ? void 0 : n.length)) return { v: e };
                var r = { sum: 0, weight: 0 };
                return (
                  null == n ||
                    n.forEach(function (e) {
                      var n = t.edge(e),
                        i = t.node(e.v);
                      (r.sum += n.weight * i.order), (r.weight += n.weight);
                    }),
                  { v: e, barycenter: r.sum / r.weight, weight: r.weight }
                );
              });
            });
        },
        7006: function (t, e, n) {
          'use strict';
          var r =
            (this && this.__importDefault) ||
            function (t) {
              return t && t.__esModule ? t : { default: t };
            };
          Object.defineProperty(e, '__esModule', { value: !0 });
          var i = r(n(4032)).default.Graph;
          e.default = function (t, e, n) {
            var r = (function (t) {
                for (var e; t.hasNode((e = '_root' + Math.random())); );
                return e;
              })(t),
              o = new i({ compound: !0 }).setGraph({ root: r }).setDefaultNodeLabel(function (e) {
                return t.node(e);
              });
            return (
              t.nodes().forEach(function (i) {
                var a = t.node(i),
                  s = t.parent(i);
                (a.rank === e || (a.minRank <= e && e <= a.maxRank)) &&
                  (o.setNode(i),
                  o.setParent(i, s || r),
                  t[n](i).forEach(function (e) {
                    var n = e.v === i ? e.w : e.v,
                      r = o.edge(n, i),
                      a = void 0 !== r ? r.weight : 0;
                    o.setEdge(n, i, { weight: t.edge(e).weight + a });
                  }),
                  a.hasOwnProperty('minRank') &&
                    o.setNode(i, { borderLeft: a.borderLeft[e], borderRight: a.borderRight[e] }));
              }),
              o
            );
          };
        },
        2957: (t, e, n) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 });
          var r = n(9209),
            i = function (t, e, n) {
              for (
                var i = (0, r.zipObject)(
                    n,
                    n.map(function (t, e) {
                      return e;
                    }),
                  ),
                  o = e
                    .map(function (e) {
                      var n,
                        r =
                          null === (n = t.outEdges(e)) || void 0 === n
                            ? void 0
                            : n.map(function (e) {
                                return { pos: i[e.w] || 0, weight: t.edge(e).weight };
                              });
                      return null == r
                        ? void 0
                        : r.sort(function (t, e) {
                            return t.pos - e.pos;
                          });
                    })
                    .flat()
                    .filter(function (t) {
                      return void 0 !== t;
                    }),
                  a = 1;
                a < n.length;

              )
                a <<= 1;
              var s = 2 * a - 1;
              a -= 1;
              var u = Array(s).fill(0, 0, s),
                c = 0;
              return (
                null == o ||
                  o.forEach(function (t) {
                    var e = t.pos + a;
                    u[e] += t.weight;
                    for (var n = 0; e > 0; )
                      e % 2 && (n += u[e + 1]), (u[(e = (e - 1) >> 1)] += t.weight);
                    c += t.weight * n;
                  }),
                c
              );
            };
          e.default = function (t, e) {
            for (var n = 0, r = 1; r < (null == e ? void 0 : e.length); ++r)
              n += i(t, e[r - 1], e[r]);
            return n;
          };
        },
        9597: function (t, e, n) {
          'use strict';
          var r =
            (this && this.__importDefault) ||
            function (t) {
              return t && t.__esModule ? t : { default: t };
            };
          Object.defineProperty(e, '__esModule', { value: !0 });
          var i = r(n(5697)),
            o = r(n(2957)),
            a = r(n(7006)),
            s = r(n(314)),
            u = r(n(9455)),
            c = r(n(4032)),
            l = r(n(9209)),
            h = n(9784),
            f = c.default.Graph,
            d = function (t, e, n) {
              return e.map(function (e) {
                return (0, a.default)(t, e, n);
              });
            },
            p = function (t, e, n) {
              var r = new f();
              null == t ||
                t.forEach(function (t) {
                  for (
                    var i, o = t.graph().root, a = (0, u.default)(t, o, r, e, n), c = 0;
                    c < (null === (i = a.vs) || void 0 === i ? void 0 : i.length);
                    c++
                  )
                    t.node(a.vs[c]).order = c;
                  (0, s.default)(t, r, a.vs);
                });
            },
            g = function (t, e) {
              null == e ||
                e.forEach(function (e) {
                  null == e ||
                    e.forEach(function (e, n) {
                      t.node(e).order = n;
                    });
                });
            };
          e.default = function (t) {
            for (var e = l.default.maxRank(t), n = [], r = [], a = 1; a < e + 1; a++) n.push(a);
            for (a = e - 1; a > -1; a--) r.push(a);
            var s = d(t, n, 'inEdges'),
              u = d(t, r, 'outEdges'),
              c = (0, i.default)(t);
            g(t, c);
            for (var f, v = Number.POSITIVE_INFINITY, y = ((a = 0), 0); y < 4; ++a, ++y)
              p(a % 2 ? s : u, a % 4 >= 2),
                (c = l.default.buildLayerMatrix(t)),
                (m = (0, o.default)(t, c)) < v && ((y = 0), (f = (0, h.clone)(c)), (v = m));
            for (c = (0, i.default)(t), g(t, c), a = 0, y = 0; y < 4; ++a, ++y) {
              var m;
              p(a % 2 ? s : u, a % 4 >= 2, !0),
                (c = l.default.buildLayerMatrix(t)),
                (m = (0, o.default)(t, c)) < v && ((y = 0), (f = (0, h.clone)(c)), (v = m));
            }
            g(t, f);
          };
        },
        4956: (t, e) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }),
            (e.default = function (t, e) {
              for (
                var n = t
                    .nodes()
                    .filter(function (e) {
                      var n;
                      return !(null === (n = t.children(e)) || void 0 === n ? void 0 : n.length);
                    })
                    .map(function (e) {
                      return t.node(e).rank;
                    }),
                  r = Math.max.apply(Math, n),
                  i = [],
                  o = 0;
                o < r + 1;
                o++
              )
                i.push([]);
              null == e ||
                e.forEach(function (e) {
                  var n = t.node(e);
                  n &&
                    !n.dummy &&
                    (isNaN(n.rank) || ((n.fixorder = i[n.rank].length), i[n.rank].push(e)));
                });
            });
        },
        5697: (t, e) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }),
            (e.default = function (t) {
              for (
                var e = {},
                  n = t.nodes().filter(function (e) {
                    var n;
                    return !(null === (n = t.children(e)) || void 0 === n ? void 0 : n.length);
                  }),
                  r = n.map(function (e) {
                    return t.node(e).rank;
                  }),
                  i = Math.max.apply(Math, r),
                  o = [],
                  a = 0;
                a < i + 1;
                a++
              )
                o.push([]);
              var s = function (n) {
                  var r;
                  if (!e.hasOwnProperty(n)) {
                    e[n] = !0;
                    var i = t.node(n);
                    isNaN(i.rank) || o[i.rank].push(n),
                      null === (r = t.successors(n)) ||
                        void 0 === r ||
                        r.forEach(function (t) {
                          return s(t);
                        });
                  }
                },
                u = n.sort(function (e, n) {
                  return t.node(e).rank - t.node(n).rank;
                }),
                c = u
                  .filter(function (e) {
                    return void 0 !== t.node(e).fixorder;
                  })
                  .sort(function (e, n) {
                    return t.node(e).fixorder - t.node(n).fixorder;
                  });
              return (
                null == c ||
                  c.forEach(function (n) {
                    isNaN(t.node(n).rank) || o[t.node(n).rank].push(n), (e[n] = !0);
                  }),
                null == u || u.forEach(s),
                o
              );
            });
        },
        7043: (t, e) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 });
          var n = function (t, e) {
            var n,
              r = 0,
              i = 0;
            t.weight && ((r += t.barycenter * t.weight), (i += t.weight)),
              e.weight && ((r += e.barycenter * e.weight), (i += e.weight)),
              (t.vs = null === (n = e.vs) || void 0 === n ? void 0 : n.concat(t.vs)),
              (t.barycenter = r / i),
              (t.weight = i),
              (t.i = Math.min(e.i, t.i)),
              (e.merged = !0);
          };
          e.default = function (t, e) {
            var r,
              i,
              o,
              a = {};
            return (
              null == t ||
                t.forEach(function (t, e) {
                  var n = (a[t.v] = { i: e, indegree: 0, in: [], out: [], vs: [t.v] });
                  void 0 !== t.barycenter && ((n.barycenter = t.barycenter), (n.weight = t.weight));
                }),
              null === (r = e.edges()) ||
                void 0 === r ||
                r.forEach(function (t) {
                  var e = a[t.v],
                    n = a[t.w];
                  void 0 !== e && void 0 !== n && (n.indegree++, e.out.push(a[t.w]));
                }),
              (function (t) {
                for (
                  var e,
                    r,
                    i = [],
                    o = function () {
                      var o = t.pop();
                      i.push(o),
                        null === (e = o.in.reverse()) ||
                          void 0 === e ||
                          e.forEach(function (t) {
                            return ((e = o),
                            function (t) {
                              t.merged ||
                                ((void 0 === t.barycenter ||
                                  void 0 === e.barycenter ||
                                  t.barycenter >= e.barycenter) &&
                                  n(e, t));
                            })(t);
                            var e;
                          }),
                        null === (r = o.out) ||
                          void 0 === r ||
                          r.forEach(function (e) {
                            return ((n = o),
                            function (e) {
                              e.in.push(n), 0 == --e.indegree && t.push(e);
                            })(e);
                            var n;
                          });
                    };
                  null == t ? void 0 : t.length;

                )
                  o();
                var a = i.filter(function (t) {
                    return !t.merged;
                  }),
                  s = ['vs', 'i', 'barycenter', 'weight'];
                return a.map(function (t) {
                  var e = {};
                  return (
                    null == s ||
                      s.forEach(function (n) {
                        void 0 !== t[n] && (e[n] = t[n]);
                      }),
                    e
                  );
                });
              })(
                null === (o = (i = Object.values(a)).filter) || void 0 === o
                  ? void 0
                  : o.call(i, function (t) {
                      return !t.indegree;
                    }),
              )
            );
          };
        },
        9455: function (t, e, n) {
          'use strict';
          var r =
            (this && this.__importDefault) ||
            function (t) {
              return t && t.__esModule ? t : { default: t };
            };
          Object.defineProperty(e, '__esModule', { value: !0 });
          var i = r(n(9921)),
            o = r(n(7043)),
            a = r(n(1498)),
            s = function (t, e, n, r, l) {
              var h,
                f,
                d,
                p,
                g = t.children(e),
                v = t.node(e),
                y = v ? v.borderLeft : void 0,
                m = v ? v.borderRight : void 0,
                b = {};
              y &&
                (g =
                  null == g
                    ? void 0
                    : g.filter(function (t) {
                        return t !== y && t !== m;
                      }));
              var x = (0, i.default)(t, g || []);
              null == x ||
                x.forEach(function (e) {
                  var i;
                  if (null === (i = t.children(e.v)) || void 0 === i ? void 0 : i.length) {
                    var o = s(t, e.v, n, r);
                    (b[e.v] = o), o.hasOwnProperty('barycenter') && c(e, o);
                  }
                });
              var _ = (0, o.default)(x, n);
              u(_, b),
                null ===
                  (h = _.filter(function (t) {
                    var e;
                    return !!t.vs || (null === (e = t.vs) || void 0 === e ? void 0 : e.length) > 0;
                  })) ||
                  void 0 === h ||
                  h.forEach(function (e) {
                    var n = t.node(e.vs[0]);
                    (e.fixorder = n.fixorder), (e.order = n.order);
                  });
              var w = (0, a.default)(_, r, l);
              if (
                y &&
                ((w.vs = [y, w.vs, m].flat()),
                null === (f = t.predecessors(y)) || void 0 === f ? void 0 : f.length)
              ) {
                var E = t.node(
                    (null === (d = t.predecessors(y)) || void 0 === d ? void 0 : d[0]) || {},
                  ),
                  S = t.node(
                    (null === (p = t.predecessors(m)) || void 0 === p ? void 0 : p[0]) || {},
                  );
                w.hasOwnProperty('barycenter') || ((w.barycenter = 0), (w.weight = 0)),
                  (w.barycenter = (w.barycenter * w.weight + E.order + S.order) / (w.weight + 2)),
                  (w.weight += 2);
              }
              return w;
            },
            u = function (t, e) {
              null == t ||
                t.forEach(function (t) {
                  var n,
                    r =
                      null === (n = t.vs) || void 0 === n
                        ? void 0
                        : n.map(function (t) {
                            return e[t] ? e[t].vs : t;
                          });
                  t.vs = r.flat();
                });
            },
            c = function (t, e) {
              void 0 !== t.barycenter
                ? ((t.barycenter =
                    (t.barycenter * t.weight + e.barycenter * e.weight) / (t.weight + e.weight)),
                  (t.weight += e.weight))
                : ((t.barycenter = e.barycenter), (t.weight = e.weight));
            };
          e.default = s;
        },
        1498: function (t, e, n) {
          'use strict';
          var r =
            (this && this.__importDefault) ||
            function (t) {
              return t && t.__esModule ? t : { default: t };
            };
          Object.defineProperty(e, '__esModule', { value: !0 });
          var i = r(n(9209)),
            o = function (t, e, n) {
              for (var r, i = n; e.length && (r = e[e.length - 1]).i <= i; )
                e.pop(), null == t || t.push(r.vs), i++;
              return i;
            };
          e.default = function (t, e, n) {
            var r = i.default.partition(t, function (t) {
                return (
                  (t.hasOwnProperty('fixorder') && !isNaN(t.fixorder)) ||
                  t.hasOwnProperty('barycenter')
                );
              }),
              a = r.lhs,
              s = r.rhs.sort(function (t, e) {
                return -t.i - -e.i;
              }),
              u = [],
              c = 0,
              l = 0,
              h = 0;
            null == a ||
              a.sort(
                (function (t, e) {
                  return function (n, r) {
                    if (void 0 !== n.fixorder && void 0 !== r.fixorder)
                      return n.fixorder - r.fixorder;
                    if (n.barycenter < r.barycenter) return -1;
                    if (n.barycenter > r.barycenter) return 1;
                    if (e && void 0 !== n.order && void 0 !== r.order) {
                      if (n.order < r.order) return -1;
                      if (n.order > r.order) return 1;
                    }
                    return t ? r.i - n.i : n.i - r.i;
                  };
                })(!!e, !!n),
              ),
              (h = o(u, s, h)),
              null == a ||
                a.forEach(function (t) {
                  var e;
                  (h += null === (e = t.vs) || void 0 === e ? void 0 : e.length),
                    u.push(t.vs),
                    (c += t.barycenter * t.weight),
                    (l += t.weight),
                    (h = o(u, s, h));
                });
            var f = { vs: u.flat() };
            return l && ((f.barycenter = c / l), (f.weight = l)), f;
          };
        },
        3562: (t, e) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 });
          e.default = function (t) {
            var e,
              n = (function (t) {
                var e,
                  n = {},
                  r = 0,
                  i = function (e) {
                    var o,
                      a = r;
                    null === (o = t.children(e)) || void 0 === o || o.forEach(i),
                      (n[e] = { low: a, lim: r++ });
                  };
                return null === (e = t.children()) || void 0 === e || e.forEach(i), n;
              })(t);
            null === (e = t.graph().dummyChains) ||
              void 0 === e ||
              e.forEach(function (e) {
                var r,
                  i,
                  o = t.node(e),
                  a = o.edgeObj;
                if (a)
                  for (
                    var s = (function (t, e, n, r) {
                        var i,
                          o,
                          a = [],
                          s = [],
                          u = Math.min(e[n].low, e[r].low),
                          c = Math.max(e[n].lim, e[r].lim);
                        i = n;
                        do {
                          (i = t.parent(i)), a.push(i);
                        } while (i && (e[i].low > u || c > e[i].lim));
                        for (o = i, i = r; (i = t.parent(i)) !== o; ) s.push(i);
                        return { lca: o, path: a.concat(s.reverse()) };
                      })(t, n, a.v, a.w),
                      u = s.path,
                      c = s.lca,
                      l = 0,
                      h = u[l],
                      f = !0;
                    e !== a.w;

                  ) {
                    if (((o = t.node(e)), f)) {
                      for (; (h = u[l]) !== c && t.node(h).maxRank < o.rank; ) l++;
                      h === c && (f = !1);
                    }
                    if (!f) {
                      for (
                        ;
                        l < u.length - 1 &&
                        (null === (r = t.node((h = u[l + 1]))) || void 0 === r
                          ? void 0
                          : r.minRank) <= o.rank;

                      )
                        l++;
                      h = u[l];
                    }
                    t.setParent(e, h),
                      (e = null === (i = t.successors(e)) || void 0 === i ? void 0 : i[0]);
                  }
              });
          };
        },
        1963: function (t, e, n) {
          'use strict';
          var r =
            (this && this.__importDefault) ||
            function (t) {
              return t && t.__esModule ? t : { default: t };
            };
          Object.defineProperty(e, '__esModule', { value: !0 }),
            (e.balance =
              e.findSmallestWidthAlignment =
              e.alignCoordinates =
              e.horizontalCompaction =
              e.verticalAlignment =
              e.hasConflict =
              e.addConflict =
              e.findType2Conflicts =
              e.findType1Conflicts =
              e.positionX =
                void 0);
          var i = r(n(4032)),
            o = r(n(9209)),
            a = i.default.Graph,
            s = function (t, e) {
              var n = {};
              return (
                (null == e ? void 0 : e.length) &&
                  e.reduce(function (e, r) {
                    var i = 0,
                      o = 0,
                      a = e.length,
                      s = null == r ? void 0 : r[(null == r ? void 0 : r.length) - 1];
                    return (
                      null == r ||
                        r.forEach(function (e, u) {
                          var h,
                            f = c(t, e),
                            d = f ? t.node(f).order : a;
                          (f || e === s) &&
                            (null === (h = r.slice(o, u + 1)) ||
                              void 0 === h ||
                              h.forEach(function (e) {
                                var r;
                                null === (r = t.predecessors(e)) ||
                                  void 0 === r ||
                                  r.forEach(function (r) {
                                    var o = t.node(r),
                                      a = o.order;
                                    !(a < i || d < a) || (o.dummy && t.node(e).dummy) || l(n, r, e);
                                  });
                              }),
                            (o = u + 1),
                            (i = d));
                        }),
                      r
                    );
                  }),
                n
              );
            };
          e.findType1Conflicts = s;
          var u = function (t, e) {
            var n = {},
              r = function (e, r, i, o, a) {
                for (var s, u = [], c = r; c < i; c++) u.push(c);
                u.forEach(function (r) {
                  var i;
                  (s = e[r]),
                    t.node(s).dummy &&
                      (null === (i = t.predecessors(s)) ||
                        void 0 === i ||
                        i.forEach(function (e) {
                          var r = t.node(e);
                          r.dummy && (r.order < o || r.order > a) && l(n, e, s);
                        }));
                });
              };
            return (
              (null == e ? void 0 : e.length) &&
                e.reduce(function (e, n) {
                  var i,
                    o = -1,
                    a = 0;
                  return (
                    null == n ||
                      n.forEach(function (s, u) {
                        if ('border' === t.node(s).dummy) {
                          var c = t.predecessors(s) || [];
                          c.length &&
                            ((i = t.node(c[0]).order), r(n, a, u, o, i), (a = u), (o = i));
                        }
                        r(n, a, n.length, i, e.length);
                      }),
                    n
                  );
                }),
              n
            );
          };
          e.findType2Conflicts = u;
          var c = function (t, e) {
              var n;
              if (t.node(e).dummy)
                return null === (n = t.predecessors(e)) || void 0 === n
                  ? void 0
                  : n.find(function (e) {
                      return t.node(e).dummy;
                    });
            },
            l = function (t, e, n) {
              var r = e,
                i = n;
              if (r > i) {
                var o = r;
                (r = i), (i = o);
              }
              var a = t[r];
              a || (t[r] = a = {}), (a[i] = !0);
            };
          e.addConflict = l;
          var h = function (t, e, n) {
            var r = e,
              i = n;
            return r > i && ((r = i), (i = e)), t[r] && t[r].hasOwnProperty(i);
          };
          e.hasConflict = h;
          var f = function (t, e, n, r) {
            var i = {},
              o = {},
              a = {};
            return (
              null == e ||
                e.forEach(function (t) {
                  null == t ||
                    t.forEach(function (t, e) {
                      (i[t] = t), (o[t] = t), (a[t] = e);
                    });
                }),
              null == e ||
                e.forEach(function (t) {
                  var e = -1;
                  null == t ||
                    t.forEach(function (t) {
                      var s = r(t);
                      if (s.length)
                        for (
                          var u =
                              ((s = s.sort(function (t, e) {
                                return a[t] - a[e];
                              })).length -
                                1) /
                              2,
                            c = Math.floor(u),
                            l = Math.ceil(u);
                          c <= l;
                          ++c
                        ) {
                          var f = s[c];
                          o[t] === t &&
                            e < a[f] &&
                            !h(n, t, f) &&
                            ((o[f] = t), (o[t] = i[t] = i[f]), (e = a[f]));
                        }
                    });
                }),
              { root: i, align: o }
            );
          };
          e.verticalAlignment = f;
          var d = function (t, e, n, r, i) {
            var o,
              a = {},
              s = p(t, e, n, i),
              u = i ? 'borderLeft' : 'borderRight',
              c = function (t, e) {
                for (var n = s.nodes(), r = n.pop(), i = {}; r; )
                  i[r] ? t(r) : ((i[r] = !0), n.push(r), (n = n.concat(e(r)))), (r = n.pop());
              };
            return (
              c(function (t) {
                a[t] = (s.inEdges(t) || []).reduce(function (t, e) {
                  return Math.max(t, (a[e.v] || 0) + s.edge(e));
                }, 0);
              }, s.predecessors.bind(s)),
              c(function (e) {
                var n = (s.outEdges(e) || []).reduce(function (t, e) {
                    return Math.min(t, (a[e.w] || 0) - s.edge(e));
                  }, Number.POSITIVE_INFINITY),
                  r = t.node(e);
                n !== Number.POSITIVE_INFINITY && r.borderType !== u && (a[e] = Math.max(a[e], n));
              }, s.successors.bind(s)),
              null === (o = Object.values(r)) ||
                void 0 === o ||
                o.forEach(function (t) {
                  a[t] = a[n[t]];
                }),
              a
            );
          };
          e.horizontalCompaction = d;
          var p = function (t, e, n, r) {
              var i = new a(),
                o = t.graph(),
                s = b(o.nodesep, o.edgesep, r);
              return (
                null == e ||
                  e.forEach(function (e) {
                    var r;
                    null == e ||
                      e.forEach(function (e) {
                        var o = n[e];
                        if ((i.setNode(o), r)) {
                          var a = n[r],
                            u = i.edge(a, o);
                          i.setEdge(a, o, Math.max(s(t, e, r), u || 0));
                        }
                        r = e;
                      });
                  }),
                i
              );
            },
            g = function (t, e) {
              return o.default.minBy(Object.values(e), function (e) {
                var n,
                  r = Number.NEGATIVE_INFINITY,
                  i = Number.POSITIVE_INFINITY;
                return (
                  null === (n = Object.keys(e)) ||
                    void 0 === n ||
                    n.forEach(function (n) {
                      var o = e[n],
                        a = x(t, n) / 2;
                      (r = Math.max(o + a, r)), (i = Math.min(o - a, i));
                    }),
                  r - i
                );
              });
            };
          function v(t, e) {
            var n = Object.values(e),
              r = Math.min.apply(Math, n),
              i = Math.max.apply(Math, n);
            ['u', 'd'].forEach(function (n) {
              ['l', 'r'].forEach(function (o) {
                var a,
                  s = n + o,
                  u = t[s];
                if (u !== e) {
                  var c = Object.values(u);
                  (a = 'l' === o ? r - Math.min.apply(Math, c) : i - Math.max.apply(Math, c)) &&
                    ((t[s] = {}),
                    Object.keys(u).forEach(function (e) {
                      t[s][e] = u[e] + a;
                    }));
                }
              });
            });
          }
          (e.findSmallestWidthAlignment = g), (e.alignCoordinates = v);
          var y = function (t, e) {
            var n = {};
            return (
              Object.keys(t.ul).forEach(function (r) {
                if (e) n[r] = t[e.toLowerCase()][r];
                else {
                  var i = Object.values(t)
                    .map(function (t) {
                      return t[r];
                    })
                    .sort(function (t, e) {
                      return t - e;
                    });
                  n[r] = (i[1] + i[2]) / 2;
                }
              }),
              n
            );
          };
          e.balance = y;
          var m = function (t) {
            var e,
              n = o.default.buildLayerMatrix(t),
              r = Object.assign(s(t, n), u(t, n)),
              i = {};
            ['u', 'd'].forEach(function (o) {
              (e = 'u' === o ? n : Object.values(n).reverse()),
                ['l', 'r'].forEach(function (n) {
                  'r' === n &&
                    (e = e.map(function (t) {
                      return Object.values(t).reverse();
                    }));
                  var a = ('u' === o ? t.predecessors : t.successors).bind(t),
                    s = f(0, e, r, a),
                    u = d(t, e, s.root, s.align, 'r' === n);
                  'r' === n &&
                    (u = Object.values(u).map(function (t) {
                      return -t;
                    })),
                    (i[o + n] = u);
                });
            });
            var a = g(t, i);
            return v(i, a), y(i, t.graph().align);
          };
          e.positionX = m;
          var b = function (t, e, n) {
              return function (r, i, o) {
                var a,
                  s = r.node(i),
                  u = r.node(o),
                  c = 0;
                if (((c += s.width / 2), s.hasOwnProperty('labelpos')))
                  switch ((s.labelpos || '').toLowerCase()) {
                    case 'l':
                      a = -s.width / 2;
                      break;
                    case 'r':
                      a = s.width / 2;
                  }
                if (
                  (a && (c += n ? a : -a),
                  (a = 0),
                  (c += (s.dummy ? e : t) / 2),
                  (c += (u.dummy ? e : t) / 2),
                  (c += u.width / 2),
                  u.hasOwnProperty('labelpos'))
                )
                  switch ((u.labelpos || '').toLowerCase()) {
                    case 'l':
                      a = u.width / 2;
                      break;
                    case 'r':
                      a = -u.width / 2;
                  }
                return a && (c += n ? a : -a), (a = 0), c;
              };
            },
            x = function (t, e) {
              var n;
              return (null === (n = t.node(e)) || void 0 === n ? void 0 : n.width) || 0;
            };
          e.default = {
            positionX: m,
            findType1Conflicts: s,
            findType2Conflicts: u,
            addConflict: l,
            hasConflict: h,
            verticalAlignment: f,
            horizontalCompaction: d,
            alignCoordinates: v,
            findSmallestWidthAlignment: g,
            balance: y,
          };
        },
        95: function (t, e, n) {
          'use strict';
          var r =
            (this && this.__importDefault) ||
            function (t) {
              return t && t.__esModule ? t : { default: t };
            };
          Object.defineProperty(e, '__esModule', { value: !0 });
          var i = r(n(9209)),
            o = n(1963);
          e.default = function (t) {
            var e;
            !(function (t) {
              var e = i.default.buildLayerMatrix(t),
                n = t.graph().ranksep,
                r = 0;
              null == e ||
                e.forEach(function (e) {
                  var i = e.map(function (e) {
                      return t.node(e).height;
                    }),
                    o = Math.max.apply(Math, i);
                  null == e ||
                    e.forEach(function (e) {
                      t.node(e).y = r + o / 2;
                    }),
                    (r += o + n);
                });
            })((t = i.default.asNonCompoundGraph(t)));
            var n = (function (t) {
              var e,
                n = i.default.buildLayerMatrix(t),
                r = Object.assign((0, o.findType1Conflicts)(t, n), (0, o.findType2Conflicts)(t, n)),
                a = {};
              ['u', 'd'].forEach(function (i) {
                (e = 'u' === i ? n : Object.values(n).reverse()),
                  ['l', 'r'].forEach(function (n) {
                    'r' === n &&
                      (e = e.map(function (t) {
                        return Object.values(t).reverse();
                      }));
                    var s = ('u' === i ? t.predecessors : t.successors).bind(t),
                      u = (0, o.verticalAlignment)(t, e, r, s),
                      c = (0, o.horizontalCompaction)(t, e, u.root, u.align, 'r' === n);
                    'r' === n &&
                      Object.keys(c).forEach(function (t) {
                        return (c[t] = -c[t]);
                      }),
                      (a[i + n] = c);
                  });
              });
              var s = (0, o.findSmallestWidthAlignment)(t, a);
              return s && (0, o.alignCoordinates)(a, s), (0, o.balance)(a, t.graph().align);
            })(t);
            null === (e = Object.keys(n)) ||
              void 0 === e ||
              e.forEach(function (e) {
                t.node(e).x = n[e];
              });
          };
        },
        3614: function (t, e, n) {
          'use strict';
          var r =
            (this && this.__importDefault) ||
            function (t) {
              return t && t.__esModule ? t : { default: t };
            };
          Object.defineProperty(e, '__esModule', { value: !0 }),
            (e.feasibleTreeWithLayer = e.feasibleTree = void 0);
          var i = r(n(4032)),
            o = n(7323),
            a = n(9209),
            s = i.default.Graph,
            u = function (t) {
              var e,
                n,
                r = new s({ directed: !1 }),
                i = t.nodes()[0],
                a = t.nodeCount();
              for (r.setNode(i, {}); c(r, t) < a; )
                (e = f(r, t)),
                  (n = r.hasNode(e.v) ? (0, o.slack)(t, e) : -(0, o.slack)(t, e)),
                  d(r, t, n);
              return r;
            };
          e.feasibleTree = u;
          var c = function (t, e) {
              var n = function (r) {
                e.nodeEdges(r).forEach(function (i) {
                  var a = i.v,
                    s = r === a ? i.w : a;
                  t.hasNode(s) ||
                    (0, o.slack)(e, i) ||
                    (t.setNode(s, {}), t.setEdge(r, s, {}), n(s));
                });
              };
              return t.nodes().forEach(n), t.nodeCount();
            },
            l = function (t) {
              var e,
                n,
                r = new s({ directed: !1 }),
                i = t.nodes()[0],
                a = t.nodeCount();
              for (r.setNode(i, {}); h(r, t) < a; )
                (e = f(r, t)),
                  (n = r.hasNode(e.v) ? (0, o.slack)(t, e) : -(0, o.slack)(t, e)),
                  d(r, t, n);
              return r;
            };
          e.feasibleTreeWithLayer = l;
          var h = function (t, e) {
              var n = function (r) {
                var i;
                null === (i = e.nodeEdges(r)) ||
                  void 0 === i ||
                  i.forEach(function (i) {
                    var a = i.v,
                      s = r === a ? i.w : a;
                    t.hasNode(s) ||
                      (void 0 === e.node(s).layer && (0, o.slack)(e, i)) ||
                      (t.setNode(s, {}), t.setEdge(r, s, {}), n(s));
                  });
              };
              return t.nodes().forEach(n), t.nodeCount();
            },
            f = function (t, e) {
              return (0, a.minBy)(e.edges(), function (n) {
                return t.hasNode(n.v) !== t.hasNode(n.w) ? (0, o.slack)(e, n) : 1 / 0;
              });
            },
            d = function (t, e, n) {
              t.nodes().forEach(function (t) {
                e.node(t).rank || (e.node(t).rank = 0), (e.node(t).rank += n);
              });
            };
          e.default = { feasibleTree: u, feasibleTreeWithLayer: l };
        },
        6827: function (t, e, n) {
          'use strict';
          var r =
            (this && this.__importDefault) ||
            function (t) {
              return t && t.__esModule ? t : { default: t };
            };
          Object.defineProperty(e, '__esModule', { value: !0 });
          var i = n(7323),
            o = n(3614),
            a = r(n(2253)),
            s = i.longestPath;
          e.default = function (t) {
            switch (t.graph().ranker) {
              case 'network-simplex':
                !(function (t) {
                  (0, a.default)(t);
                })(t);
                break;
              case 'tight-tree':
              default:
                !(function (t) {
                  (0, i.longestPathWithLayer)(t), (0, o.feasibleTreeWithLayer)(t);
                })(t);
                break;
              case 'longest-path':
                s(t);
            }
          };
        },
        2253: function (t, e, n) {
          'use strict';
          var r =
            (this && this.__importDefault) ||
            function (t) {
              return t && t.__esModule ? t : { default: t };
            };
          Object.defineProperty(e, '__esModule', { value: !0 });
          var i = n(3614),
            o = n(7323),
            a = n(9209),
            s = r(n(4032)).default.alg,
            u = s.preorder,
            c = s.postorder,
            l = function (t) {
              (t = (0, a.simplify)(t)), (0, o.longestPath)(t);
              var e,
                n,
                r = (0, i.feasibleTree)(t);
              for (p(r), h(r, t); (e = v(r)); ) (n = y(r, t, e)), m(r, t, e, n);
            },
            h = function (t, e) {
              var n = c(t, t.nodes());
              null == (n = null == n ? void 0 : n.slice(0, (null == n ? void 0 : n.length) - 1)) ||
                n.forEach(function (n) {
                  f(t, e, n);
                });
            },
            f = function (t, e, n) {
              var r = t.node(n).parent;
              t.edge(n, r).cutvalue = d(t, e, n);
            },
            d = function (t, e, n) {
              var r,
                i = t.node(n).parent,
                o = !0,
                a = e.edge(n, i),
                s = 0;
              return (
                a || ((o = !1), (a = e.edge(i, n))),
                (s = a.weight),
                null === (r = e.nodeEdges(n)) ||
                  void 0 === r ||
                  r.forEach(function (r) {
                    var a = r.v === n,
                      u = a ? r.w : r.v;
                    if (u !== i) {
                      var c = a === o,
                        l = e.edge(r).weight;
                      if (((s += c ? l : -l), x(t, n, u))) {
                        var h = t.edge(n, u).cutvalue;
                        s += c ? -h : h;
                      }
                    }
                  }),
                s
              );
            },
            p = function (t, e) {
              void 0 !== e && (e = t.nodes()[0]), g(t, {}, 1, e);
            },
            g = function (t, e, n, r, i) {
              var o,
                a = n,
                s = n,
                u = t.node(r);
              return (
                (e[r] = !0),
                null === (o = t.neighbors(r)) ||
                  void 0 === o ||
                  o.forEach(function (n) {
                    e.hasOwnProperty(n) || (s = g(t, e, s, n, r));
                  }),
                (u.low = a),
                (u.lim = s++),
                i ? (u.parent = i) : delete u.parent,
                s
              );
            },
            v = function (t) {
              return t.edges().find(function (e) {
                return t.edge(e).cutvalue < 0;
              });
            },
            y = function (t, e, n) {
              var r = n.v,
                i = n.w;
              e.hasEdge(r, i) || ((r = n.w), (i = n.v));
              var s = t.node(r),
                u = t.node(i),
                c = s,
                l = !1;
              s.lim > u.lim && ((c = u), (l = !0));
              var h = e.edges().filter(function (e) {
                return l === _(t, t.node(e.v), c) && l !== _(t, t.node(e.w), c);
              });
              return (0, a.minBy)(h, function (t) {
                return (0, o.slack)(e, t);
              });
            },
            m = function (t, e, n, r) {
              var i = n.v,
                o = n.w;
              t.removeEdge(i, o), t.setEdge(r.v, r.w, {}), p(t), h(t, e), b(t, e);
            },
            b = function (t, e) {
              var n = t.nodes().find(function (t) {
                  return !e.node(t).parent;
                }),
                r = u(t, n);
              null == (r = null == r ? void 0 : r.slice(1)) ||
                r.forEach(function (n) {
                  var r = t.node(n).parent,
                    i = e.edge(n, r),
                    o = !1;
                  i || ((i = e.edge(r, n)), (o = !0)),
                    (e.node(n).rank = e.node(r).rank + (o ? i.minlen : -i.minlen));
                });
            },
            x = function (t, e, n) {
              return t.hasEdge(e, n);
            },
            _ = function (t, e, n) {
              return n.low <= e.lim && e.lim <= n.lim;
            };
          (l.initLowLimValues = p),
            (l.initCutValues = h),
            (l.calcCutValue = d),
            (l.leaveEdge = v),
            (l.enterEdge = y),
            (l.exchangeEdges = m),
            (e.default = l);
        },
        7323: (t, e) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }),
            (e.slack = e.longestPathWithLayer = e.longestPath = void 0);
          var n = function (t) {
            var e,
              n = {},
              r = function (e) {
                var i,
                  o = t.node(e);
                if (n.hasOwnProperty(e)) return o.rank;
                n[e] = !0;
                var a =
                    null === (i = t.outEdges(e)) || void 0 === i
                      ? void 0
                      : i.map(function (e) {
                          return r(e.w) - t.edge(e).minlen || 1 / 0;
                        }),
                  s = Math.min.apply(Math, a);
                return (s !== Number.POSITIVE_INFINITY && null != s) || (s = 0), (o.rank = s), s;
              };
            null === (e = t.sources()) ||
              void 0 === e ||
              e.forEach(function (t) {
                return r(t);
              });
          };
          e.longestPath = n;
          var r = function (t) {
            var e,
              n = {},
              r = 0,
              i = function (e) {
                var o,
                  a = t.node(e);
                if (n.hasOwnProperty(e)) return a.rank;
                n[e] = !0;
                var s =
                    null === (o = t.outEdges(e)) || void 0 === o
                      ? void 0
                      : o.map(function (e) {
                          return i(e.w) - t.edge(e).minlen || 1 / 0;
                        }),
                  u = Math.min.apply(Math, s);
                return (
                  (u !== Number.POSITIVE_INFINITY && null != u) || (u = 0),
                  (a.rank = u),
                  (r = Math.min(a.rank, r)),
                  a.rank
                );
              };
            null === (e = t.sources()) ||
              void 0 === e ||
              e.forEach(function (t) {
                return i(t);
              }),
              (r += 1);
            var o = function (e, n) {
              var r,
                i = t.node(e),
                a = isNaN(i.layer) ? n : i.layer;
              (void 0 === i.rank || i.rank < a) && (i.rank = a),
                null === (r = t.outEdges(e)) ||
                  void 0 === r ||
                  r.map(function (e) {
                    o(e.w, a + t.edge(e).minlen);
                  });
            };
            t.nodes().forEach(function (e) {
              var n = t.node(e);
              isNaN(n.layer) ? (n.rank -= r) : o(e, n.layer);
            });
          };
          e.longestPathWithLayer = r;
          var i = function (t, e) {
            return t.node(e.w).rank - t.node(e.v).rank - t.edge(e).minlen;
          };
          (e.slack = i), (e.default = { longestPath: n, longestPathWithLayer: r, slack: i });
        },
        9209: function (t, e, n) {
          'use strict';
          var r =
            (this && this.__importDefault) ||
            function (t) {
              return t && t.__esModule ? t : { default: t };
            };
          Object.defineProperty(e, '__esModule', { value: !0 }),
            (e.minBy =
              e.zipObject =
              e.notime =
              e.time =
              e.partition =
              e.maxRank =
              e.addBorderNode =
              e.removeEmptyRanks =
              e.normalizeRanks =
              e.buildLayerMatrix =
              e.intersectRect =
              e.predecessorWeights =
              e.successorWeights =
              e.asNonCompoundGraph =
              e.simplify =
              e.addDummyNode =
                void 0);
          var i = n(9784),
            o = r(n(4032)).default.Graph,
            a = function (t, e, n, r) {
              var i;
              do {
                i = '' + r + Math.random();
              } while (t.hasNode(i));
              return (n.dummy = e), t.setNode(i, n), i;
            };
          e.addDummyNode = a;
          var s = function (t) {
            var e = new o().setGraph(t.graph());
            return (
              t.nodes().forEach(function (n) {
                e.setNode(n, t.node(n));
              }),
              t.edges().forEach(function (n) {
                var r = e.edge(n.v, n.w) || { weight: 0, minlen: 1 },
                  i = t.edge(n);
                e.setEdge(n.v, n.w, {
                  weight: r.weight + i.weight,
                  minlen: Math.max(r.minlen, i.minlen),
                });
              }),
              e
            );
          };
          e.simplify = s;
          var u = function (t) {
            var e = new o({ multigraph: t.isMultigraph() }).setGraph(t.graph());
            return (
              t.nodes().forEach(function (n) {
                var r;
                (null === (r = t.children(n)) || void 0 === r ? void 0 : r.length) ||
                  e.setNode(n, t.node(n));
              }),
              t.edges().forEach(function (n) {
                return e.setEdge(n, t.edge(n));
              }),
              e
            );
          };
          e.asNonCompoundGraph = u;
          var c = function (t, e) {
            var n = {};
            return (
              null == t ||
                t.forEach(function (t, r) {
                  n[t] = e[r];
                }),
              n
            );
          };
          e.zipObject = c;
          var l = function (t) {
            var e = t.nodes().map(function (e) {
              var n,
                r = {};
              return (
                null === (n = t.outEdges(e)) ||
                  void 0 === n ||
                  n.forEach(function (e) {
                    r[e.w] = (r[e.w] || 0) + t.edge(e).weight;
                  }),
                r
              );
            });
            return c(t.nodes(), e);
          };
          e.successorWeights = l;
          var h = function (t) {
            var e = t.nodes().map(function (e) {
              var n,
                r = {};
              return (
                null === (n = t.inEdges(e)) ||
                  void 0 === n ||
                  n.forEach(function (e) {
                    r[e.v] = (r[e.v] || 0) + t.edge(e).weight;
                  }),
                r
              );
            });
            return c(t.nodes(), e);
          };
          e.predecessorWeights = h;
          var f = function (t, e) {
            var n,
              r,
              i = t.x,
              o = t.y,
              a = e.x - i,
              s = e.y - o,
              u = t.width / 2,
              c = t.height / 2;
            return a || s
              ? (Math.abs(s) * u > Math.abs(a) * c
                  ? (s < 0 && (c = -c), (n = (c * a) / s), (r = c))
                  : (a < 0 && (u = -u), (n = u), (r = (u * s) / a)),
                { x: i + n, y: o + r })
              : { x: 0, y: 0 };
          };
          e.intersectRect = f;
          var d = function (t) {
            for (var e = [], n = [], r = y(t) + 1, i = 0; i < r; i++) e.push([]), n.push([]);
            return (
              t.nodes().forEach(function (r) {
                var i = t.node(r).rank;
                void 0 !== i && e[i] && n[i].push(r);
              }),
              null == n ||
                n.forEach(function (n, r) {
                  null == n ||
                    n.sort(function (e, n) {
                      var r, i;
                      return (
                        (null === (r = t.node(e)) || void 0 === r ? void 0 : r.order) -
                        (null === (i = t.node(n)) || void 0 === i ? void 0 : i.order)
                      );
                    }),
                    n.forEach(function (t) {
                      e[r].push(t);
                    });
                }),
              e
            );
          };
          e.buildLayerMatrix = d;
          var p = function (t) {
            var e = t
                .nodes()
                .filter(function (e) {
                  return void 0 !== t.node(e).rank;
                })
                .map(function (e) {
                  return t.node(e).rank;
                }),
              n = Math.min.apply(Math, e);
            t.nodes().forEach(function (e) {
              var r = t.node(e);
              r.hasOwnProperty('rank') && (r.rank || (r.rank = 0), (r.rank -= n));
            });
          };
          e.normalizeRanks = p;
          var g = function (t) {
            var e = t
                .nodes()
                .filter(function (e) {
                  return void 0 !== t.node(e).rank;
                })
                .map(function (e) {
                  return t.node(e).rank;
                }),
              n = Math.min.apply(Math, e),
              r = [];
            t.nodes().forEach(function (e) {
              var i,
                o = ((null === (i = t.node(e)) || void 0 === i ? void 0 : i.rank) || 0) - n;
              r[o] || (r[o] = []), r[o].push(e);
            });
            for (var i = 0, o = t.graph().nodeRankFactor || 0, a = 0; a < r.length; a++) {
              var s = r[a];
              void 0 === s && a % o != 0
                ? --i
                : i &&
                  (null == s ||
                    s.forEach(function (e) {
                      t.node(e).rank || (t.node(e).rank = 0), (t.node(e).rank += i);
                    }));
            }
          };
          e.removeEmptyRanks = g;
          var v = function (t, e, n, r) {
            var o = { width: 0, height: 0 };
            return (
              (0, i.isNumber)(n) && (0, i.isNumber)(r) && ((o.rank = n), (o.order = r)),
              a(t, 'border', o, e)
            );
          };
          e.addBorderNode = v;
          var y = function (t) {
            var e = t.nodes().map(function (e) {
              var n = t.node(e).rank;
              return void 0 !== n ? n : -1 / 0;
            });
            return Math.max.apply(Math, e);
          };
          e.maxRank = y;
          var m = function (t, e) {
            var n = { lhs: [], rhs: [] };
            return (
              null == t ||
                t.forEach(function (t) {
                  e(t) ? n.lhs.push(t) : n.rhs.push(t);
                }),
              n
            );
          };
          e.partition = m;
          var b = function (t, e) {
            var n = Date.now();
            try {
              return e();
            } finally {
              console.log(t + ' time: ' + (Date.now() - n) + 'ms');
            }
          };
          e.time = b;
          var x = function (t, e) {
            return e();
          };
          e.notime = x;
          var _ = function (t, e) {
            var n,
              r = 1 / 0;
            return (
              null == t ||
                t.forEach(function (t) {
                  var i = e(t);
                  r > i && ((r = i), (n = t));
                }),
              n
            );
          };
          (e.minBy = _),
            (e.default = {
              addDummyNode: a,
              simplify: s,
              asNonCompoundGraph: u,
              successorWeights: l,
              predecessorWeights: h,
              intersectRect: f,
              buildLayerMatrix: d,
              normalizeRanks: p,
              removeEmptyRanks: g,
              addBorderNode: v,
              maxRank: y,
              partition: m,
              time: b,
              notime: x,
              zipObject: c,
              minBy: _,
            });
        },
        4015: function (t, e, n) {
          'use strict';
          var r =
              (this && this.__assign) ||
              function () {
                return (
                  (r =
                    Object.assign ||
                    function (t) {
                      for (var e, n = 1, r = arguments.length; n < r; n++)
                        for (var i in (e = arguments[n]))
                          Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i]);
                      return t;
                    }),
                  r.apply(this, arguments)
                );
              },
            i =
              (this && this.__createBinding) ||
              (Object.create
                ? function (t, e, n, r) {
                    void 0 === r && (r = n),
                      Object.defineProperty(t, r, {
                        enumerable: !0,
                        get: function () {
                          return e[n];
                        },
                      });
                  }
                : function (t, e, n, r) {
                    void 0 === r && (r = n), (t[r] = e[n]);
                  }),
            o =
              (this && this.__setModuleDefault) ||
              (Object.create
                ? function (t, e) {
                    Object.defineProperty(t, 'default', { enumerable: !0, value: e });
                  }
                : function (t, e) {
                    t.default = e;
                  }),
            a =
              (this && this.__importStar) ||
              function (t) {
                if (t && t.__esModule) return t;
                var e = {};
                if (null != t)
                  for (var n in t)
                    'default' !== n && Object.prototype.hasOwnProperty.call(t, n) && i(e, t, n);
                return o(e, t), e;
              },
            s =
              (this && this.__importDefault) ||
              function (t) {
                return t && t.__esModule ? t : { default: t };
              };
          Object.defineProperty(e, '__esModule', { value: !0 });
          var u = a(n(9201)),
            c = s(n(8221)),
            l = s(n(7064)),
            h = n(171);
          e.default = function (t, e) {
            var n = t.nodes,
              i = t.edges,
              o = e.width,
              a = e.height;
            if (!(null == n ? void 0 : n.length)) return Promise.resolve();
            var s = [];
            n.forEach(function (t) {
              if (
                i.filter(function (e) {
                  return e.source === t.id || e.target === t.id;
                }).length > 1
              ) {
                var e = r({}, t);
                delete e.size, s.push(e);
              }
            });
            var f = [];
            i.forEach(function (t) {
              var e = s.find(function (e) {
                  return e.id === t.source;
                }),
                n = s.find(function (e) {
                  return e.id === t.target;
                });
              e && n && f.push(t);
            });
            var d = new h.DagreLayout({
              type: 'dagre',
              ranksep: e.nodeMinGap,
              nodesep: e.nodeMinGap,
            }).layout({ nodes: s, edges: f }).nodes;
            n.forEach(function (t) {
              var e = (d || []).find(function (e) {
                return e.id === t.id;
              });
              (t.x = (null == e ? void 0 : e.x) || o / 2),
                (t.y = (null == e ? void 0 : e.y) || a / 2);
            });
            var p = JSON.parse(JSON.stringify(n)),
              g = JSON.parse(JSON.stringify(i)),
              v = u
                .forceSimulation()
                .nodes(p)
                .force(
                  'link',
                  u
                    .forceLink(g)
                    .id(function (t) {
                      return t.id;
                    })
                    .distance(function (t) {
                      return f.find(function (e) {
                        return e.source === t.source && e.target === t.target;
                      })
                        ? 30
                        : 20;
                    }),
                )
                .force('charge', u.forceManyBody())
                .force('center', u.forceCenter(o / 2, a / 2))
                .force('x', u.forceX(o / 2))
                .force('y', u.forceY(a / 2))
                .alpha(0.3)
                .alphaDecay(0.08)
                .alphaMin(0.001);
            return new Promise(function (t) {
              v.on('end', function () {
                n.forEach(function (t) {
                  var e = p.find(function (e) {
                    return e.id === t.id;
                  });
                  e && ((t.x = e.x), (t.y = e.y));
                });
                var r = Math.min.apply(
                    Math,
                    n.map(function (t) {
                      return t.x;
                    }),
                  ),
                  s = Math.max.apply(
                    Math,
                    n.map(function (t) {
                      return t.x;
                    }),
                  ),
                  u = Math.min.apply(
                    Math,
                    n.map(function (t) {
                      return t.y;
                    }),
                  ),
                  h = Math.max.apply(
                    Math,
                    n.map(function (t) {
                      return t.y;
                    }),
                  ),
                  f = o / (s - r),
                  d = a / (h - u);
                n.forEach(function (t) {
                  void 0 !== t.x && f < 1 && (t.x = (t.x - r) * f),
                    void 0 !== t.y && d < 1 && (t.y = (t.y - u) * d);
                }),
                  n.forEach(function (t) {
                    (t.sizeTemp = t.size), (t.size = [10, 10]);
                  }),
                  (0, l.default)(n, i),
                  n.forEach(function (t) {
                    (t.size = t.sizeTemp || []), delete t.sizeTemp;
                  }),
                  (0, c.default)({ nodes: n, edges: i }, e),
                  t();
              });
            });
          };
        },
        8221: function (t, e, n) {
          'use strict';
          var r =
            (this && this.__importDefault) ||
            function (t) {
              return t && t.__esModule ? t : { default: t };
            };
          Object.defineProperty(e, '__esModule', { value: !0 });
          var i = r(n(8611));
          e.default = function (t, e) {
            if (!t.nodes || 0 === t.nodes.length) return t;
            var n = e.width,
              r = e.height,
              o = e.nodeMinGap,
              a = 1e4,
              s = 1e4;
            t.nodes.forEach(function (t) {
              var e = t.size[0] || 50,
                n = t.size[1] || 50;
              (a = Math.min(e, a)), (s = Math.min(n, s));
            });
            var u = new i.default();
            u.init(n, r, { CELL_H: s, CELL_W: a }),
              t.nodes.forEach(function (t) {
                var e = u.occupyNearest(t);
                e &&
                  ((e.node = { id: t.id, size: t.size }),
                  (t.x = e.x),
                  (t.y = e.y),
                  (t.dx = e.dx),
                  (t.dy = e.dy));
              });
            for (var c = 0; c < t.nodes.length; c++) {
              var l = t.nodes[c],
                h = u.findGridByNodeId(l.id);
              if (!h) throw new Error('can not find node cell');
              var f = h.column,
                d = h.row;
              if (l.size[0] + o > a) {
                for (
                  var p = (v = Math.ceil((l.size[0] + o) / a) - 1), g = 0;
                  g < v && u.additionColumn.indexOf(f + g + 1) > -1 && !u.cells[f + g + 1][d].node;
                  g++
                )
                  p--;
                u.insertColumn(f, p);
              }
              if (l.size[1] + o > s) {
                var v;
                for (
                  p = v = Math.ceil((l.size[1] + o) / s) - 1, g = 0;
                  g < v && u.additionRow.indexOf(d + g + 1) > -1 && !u.cells[f][d + g + 1].node;
                  g++
                )
                  p--;
                u.insertRow(d, p);
              }
            }
            for (c = 0; c < u.columnNum; c++) {
              var y = function (e) {
                var n = u.cells[c][e];
                if (n.node) {
                  var r = t.nodes.find(function (t) {
                    var e;
                    return (
                      t.id ===
                      (null === (e = null == n ? void 0 : n.node) || void 0 === e ? void 0 : e.id)
                    );
                  });
                  r && ((r.x = n.x + r.size[0] / 2), (r.y = n.y + r.size[1] / 2));
                }
              };
              for (g = 0; g < u.rowNum; g++) y(g);
            }
          };
        },
        8611: function (t, e) {
          'use strict';
          var n =
            (this && this.__assign) ||
            function () {
              return (
                (n =
                  Object.assign ||
                  function (t) {
                    for (var e, n = 1, r = arguments.length; n < r; n++)
                      for (var i in (e = arguments[n]))
                        Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i]);
                    return t;
                  }),
                n.apply(this, arguments)
              );
            };
          Object.defineProperty(e, '__esModule', { value: !0 });
          var r = (function () {
            function t() {
              (this.cells = []),
                (this.columnNum = 0),
                (this.rowNum = 0),
                (this.additionColumn = []),
                (this.additionRow = []);
            }
            return (
              (t.prototype.init = function (e, n, r) {
                (this.cells = []),
                  (this.CELL_W = r.CELL_W || t.DEFAULT_CELL_W),
                  (this.CELL_H = r.CELL_H || t.DEFAULT_CELL_H),
                  (this.columnNum = Math.ceil(e / this.CELL_W)),
                  (this.rowNum = Math.ceil(n / this.CELL_H)),
                  (t.MIN_DIST = Math.pow(e, 2) + Math.pow(n, 2));
                for (var i = 0; i < this.columnNum; i++) {
                  for (var o = [], a = 0; a < this.rowNum; a++) {
                    var s = { dx: i, dy: a, x: i * this.CELL_W, y: a * this.CELL_H, occupied: !1 };
                    o.push(s);
                  }
                  this.cells.push(o);
                }
              }),
              (t.prototype.findGridByNodeId = function (t) {
                for (var e, n, r = 0; r < this.columnNum; r++)
                  for (var i = 0; i < this.rowNum; i++)
                    if (
                      this.cells[r][i].node &&
                      (null ===
                        (n = null === (e = this.cells[r][i]) || void 0 === e ? void 0 : e.node) ||
                      void 0 === n
                        ? void 0
                        : n.id) === t
                    )
                      return { column: r, row: i };
                return null;
              }),
              (t.prototype.sqdist = function (t, e) {
                return Math.pow(t.x - e.x, 2) + Math.pow(t.y - e.y, 2);
              }),
              (t.prototype.occupyNearest = function (e) {
                for (var n, r = t.MIN_DIST, i = null, o = 0; o < this.columnNum; o++)
                  for (var a = 0; a < this.rowNum; a++)
                    !this.cells[o][a].occupied &&
                      (n = this.sqdist(e, this.cells[o][a])) < r &&
                      ((r = n), (i = this.cells[o][a]));
                return i && (i.occupied = !0), i;
              }),
              (t.prototype.insertColumn = function (t, e) {
                if (!(e <= 0)) {
                  for (var r = 0; r < e; r++) {
                    this.cells[r + this.columnNum] = [];
                    for (var i = 0; i < this.rowNum; i++)
                      this.cells[r + this.columnNum][i] = {
                        dx: r,
                        dy: i,
                        x: r * this.CELL_W,
                        y: i * this.CELL_H,
                        occupied: !1,
                        node: null,
                      };
                  }
                  for (r = this.columnNum - 1; r > t; r--)
                    for (i = 0; i < this.rowNum; i++)
                      (this.cells[r + e][i] = n(n({}, this.cells[r][i]), {
                        x: (r + e) * this.CELL_W,
                        y: i * this.CELL_H,
                      })),
                        (this.cells[r][i] = {
                          x: r * this.CELL_W,
                          y: i * this.CELL_H,
                          occupied: !0,
                          node: null,
                        });
                  for (i = 0; i < this.additionColumn.length; i++)
                    this.additionColumn[i] >= t && (this.additionColumn[i] += e);
                  for (r = 0; r < e; r++) this.additionColumn.push(t + r + 1);
                  this.columnNum += e;
                }
              }),
              (t.prototype.insertRow = function (t, e) {
                if (!(e <= 0)) {
                  for (var r = 0; r < e; r++)
                    for (var i = 0; i < this.columnNum; i++)
                      this.cells[i][r + this.rowNum] = {
                        dx: i,
                        dy: r,
                        x: i * this.CELL_W,
                        y: r * this.CELL_H,
                        occupied: !1,
                        node: null,
                      };
                  for (i = 0; i < this.columnNum; i++)
                    for (r = this.rowNum - 1; r > t; r--)
                      (this.cells[i][r + e] = n(n({}, this.cells[i][r]), {
                        dx: i,
                        dy: r + e,
                        x: i * this.CELL_W,
                        y: (r + e) * this.CELL_H,
                      })),
                        (this.cells[i][r] = {
                          dx: i,
                          dy: r,
                          x: i * this.CELL_W,
                          y: r * this.CELL_H,
                          occupied: !1,
                          node: null,
                        });
                  for (r = 0; r < this.additionRow.length; r++)
                    this.additionRow[r] >= t && (this.additionRow[r] += e);
                  for (i = 0; i < e; i++) this.additionRow.push(t + i + 1);
                  this.rowNum += e;
                }
              }),
              (t.prototype.getNodes = function () {
                for (var t = [], e = 0; e < this.columnNum; e++)
                  for (var n = 0; n < this.rowNum; n++)
                    this.cells[e][n].node && t.push(this.cells[e][n]);
                return t;
              }),
              (t.MIN_DIST = 50),
              (t.DEFAULT_CELL_W = 80),
              (t.DEFAULT_CELL_H = 80),
              t
            );
          })();
          e.default = r;
        },
        441: function (t, e, n) {
          'use strict';
          var r,
            i =
              (this && this.__extends) ||
              ((r = function (t, e) {
                return (
                  (r =
                    Object.setPrototypeOf ||
                    ({ __proto__: [] } instanceof Array &&
                      function (t, e) {
                        t.__proto__ = e;
                      }) ||
                    function (t, e) {
                      for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
                    }),
                  r(t, e)
                );
              }),
              function (t, e) {
                if ('function' != typeof e && null !== e)
                  throw new TypeError(
                    'Class extends value ' + String(e) + ' is not a constructor or null',
                  );
                function n() {
                  this.constructor = t;
                }
                r(t, e),
                  (t.prototype =
                    null === e ? Object.create(e) : ((n.prototype = e.prototype), new n()));
              }),
            o =
              (this && this.__importDefault) ||
              function (t) {
                return t && t.__esModule ? t : { default: t };
              };
          Object.defineProperty(e, '__esModule', { value: !0 }), (e.ERLayout = void 0);
          var a = n(2329),
            s = o(n(4015)),
            u = (function (t) {
              function e(e) {
                var n = t.call(this) || this;
                return (
                  (n.width = 300),
                  (n.height = 300),
                  (n.nodeMinGap = 50),
                  (n.onLayoutEnd = function () {}),
                  e && n.updateCfg(e),
                  n
                );
              }
              return (
                i(e, t),
                (e.prototype.getDefaultCfg = function () {
                  return { width: 300, height: 300, nodeMinGap: 50 };
                }),
                (e.prototype.execute = function () {
                  var t = this,
                    e = t.nodes,
                    n = t.edges;
                  return (
                    null == e ||
                      e.forEach(function (t) {
                        t.size || (t.size = [50, 50]);
                      }),
                    (0, s.default)(
                      { nodes: e, edges: n },
                      { width: this.width, height: this.height, nodeMinGap: this.nodeMinGap },
                    ).then(function () {
                      t.onLayoutEnd && t.onLayoutEnd();
                    })
                  );
                }),
                (e.prototype.getType = function () {
                  return 'er';
                }),
                e
              );
            })(a.Base);
          e.ERLayout = u;
        },
        7064: (t, e) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 });
          var n = 1e7,
            r = 1.5707963267948966,
            i = new Map(),
            o = 0.8;
          function a(t, e) {
            var o = (i.get(t.id) || []).find(function (t) {
                return t.source === e.id || t.target === e.id;
              }),
              a = t.size[0] * t.size[1],
              s = e.size[0] * e.size[1],
              u = a > s ? e : t,
              c = a > s ? t : e,
              l = u.x - u.size[0] / 2,
              h = u.y - u.size[1] / 2,
              f = u.x + u.size[0] / 2,
              d = u.y + u.size[1] / 2,
              p = c.x - c.size[0] / 2,
              g = c.y - c.size[1] / 2,
              v = c.x + c.size[0] / 2,
              y = c.y + c.size[1] / 2,
              m = u.x,
              b = u.y,
              x = c.x,
              _ = c.y,
              w = 0,
              E = 0;
            if (f >= p && v >= l && d >= g && y >= h)
              0 === (E = Math.sqrt(Math.pow(x - m, 2) + Math.pow(_ - b, 2))) && (E = 1e-7),
                (w =
                  (10 / E) * 100 +
                  ((f < v ? f : v) - (l > p ? l : p)) * ((d < y ? d : y) - (h > g ? h : g))),
                (w *= n);
            else {
              var S = !1,
                M = (function (t, e, n) {
                  var i = t.x - t.size[0] / 2,
                    o = t.y - t.size[1] / 2,
                    a = t.x + t.size[0] / 2,
                    s = t.y + t.size[1] / 2,
                    u = e.x - e.size[0] / 2,
                    c = e.y - e.size[1] / 2,
                    l = e.x + e.size[0] / 2,
                    h = e.y + e.size[1] / 2,
                    f = t.x,
                    d = t.y,
                    p = e.x,
                    g = e.y,
                    v = p - f,
                    y = Math.atan2(v, g - d),
                    m = 0,
                    b = 0,
                    x = 0,
                    _ = 0;
                  y > r
                    ? ((b = o - h),
                      (m = u - a),
                      (x = parseFloat(b ? (b / Math.cos(y)).toFixed(2) : m.toFixed(2))),
                      (_ = parseFloat(m ? (m / Math.sin(y)).toFixed(2) : b.toFixed(2))))
                    : (x = _ =
                        0 < y && y <= r
                          ? (b = c - s) > (m = u - a)
                            ? parseFloat(b ? (b / Math.cos(y)).toFixed(2) : m.toFixed(2))
                            : parseFloat(m ? (m / Math.sin(y)).toFixed(2) : b.toFixed(2))
                          : y < -r
                          ? (b = o - h) > (m = -(l - i))
                            ? parseFloat(b ? (b / Math.cos(y)).toFixed(2) : m.toFixed(2))
                            : parseFloat(m ? (m / Math.sin(y)).toFixed(2) : b.toFixed(2))
                          : (b = c - s) > (m = Math.abs(v) > (a - i) / 2 ? i - l : v)
                          ? parseFloat(b ? (b / Math.cos(y)).toFixed(2) : m.toFixed(2))
                          : parseFloat(m && 0 !== y ? (m / Math.sin(y)).toFixed(2) : b.toFixed(2)));
                  var w = parseFloat(y.toFixed(2)),
                    E = n;
                  return (
                    n && (E = 1.1780972450961724 < w && w < 1.9634954084936207),
                    { distance: Math.abs(x < _ ? x : _), isHoriz: E }
                  );
                })(u, c, S);
              (E = M.distance),
                (S = M.isHoriz),
                E <= 10
                  ? (w += 0 !== E ? (o ? 10 + 1e7 / E : 10 + 1e8 / E) : n)
                  : ((w += E), o && (w += E * E));
            }
            return w;
          }
          function s(t) {
            for (var e = 0, n = 0; n < t.length; n++) {
              var r = t[n];
              (r.x < 0 || r.y < 0 || r.x > 1200 || r.y > 800) && (e += 1e12);
              for (var i = n + 1; i < t.length; i++) e += a(r, t[i]);
            }
            return e;
          }
          function u(t, e, n, r) {
            var i = new Map();
            n.forEach(function (t, e) {
              i.set(t.id, t);
            });
            var o =
                r.filter(function (e) {
                  return e.source === t.id || e.target === t.id;
                }) || [],
              a = [];
            o.forEach(function (e) {
              var n = e.source === t.id ? e.target : e.source,
                r = i.get(n);
              r && a.push(r);
            });
            for (var s = !0, u = 0; u < a.length; u++) {
              var c = a[u],
                l = 180 * Math.atan((t.y - c.y) / (c.x - t.y)),
                h = 180 * Math.atan((e.y - c.y) / (c.x - e.y)),
                f = l > 70 && l < 110,
                d = h > 70 && h < 110;
              if (((l < 30 || l > 150) && !(h < 30 || h > 150)) || l * h < 0) {
                s = !1;
                break;
              }
              if ((f && !d) || l * h < 0) {
                s = !1;
                break;
              }
              if ((c.x - t.x) * (c.x - e.x) < 0) {
                s = !1;
                break;
              }
              if ((c.y - t.y) * (c.y - e.y) < 0) {
                s = !1;
                break;
              }
            }
            return s;
          }
          function c(t, e) {
            for (var n = !1, r = [10, -10, 0, 0], i = [0, 0, 10, -10], a = 0; a < t.length; ++a)
              for (var c = t[a], h = l(c, t), f = 0; f < r.length; f++)
                if (u(c, { x: c.x + r[f], y: c.y + i[f] }, t, e)) {
                  (c.x += r[f]), (c.y += i[f]);
                  var d = l(c, t),
                    p = Math.random();
                  d < h || (p < o && p > 0.1)
                    ? ((h = d), (n = !0))
                    : ((c.x -= r[f]), (c.y -= i[f]));
                }
            return o > 0.1 && (o *= 0.5), n ? s(t) : 0;
          }
          function l(t, e) {
            var n = 0;
            (t.x < 0 || t.y < 0 || t.x + t.size[0] + 20 > 1200 || t.y + t.size[1] + 20 > 800) &&
              (n += 1e12);
            for (var r = 0; r < e.length; ++r) t.id !== e[r].id && (n += a(t, e[r]));
            return n;
          }
          e.default = function (t, e) {
            if (0 === t.length) return { nodes: t, edges: e };
            t.forEach(function (t) {
              var n = e.filter(function (e) {
                return e.source === t.id || e.target === t.id;
              });
              i.set(t, n);
            }),
              t.sort(function (t, e) {
                var n, r;
                return (
                  (null === (n = i.get(t.id)) || void 0 === n ? void 0 : n.length) -
                  (null === (r = i.get(e.id)) || void 0 === r ? void 0 : r.length)
                );
              });
            for (var n = s(t), r = 20, o = 1, a = 0, u = 0; r > 0 && !(++u >= 50); ) {
              var l = c(t, e);
              0 !== l && (a = l), (o = a - n), (n = a), 0 === o ? --r : (r = 20);
            }
            return (
              t.forEach(function (t) {
                (t.x = t.x - t.size[0] / 2), (t.y = t.y - t.size[1] / 2);
              }),
              { nodes: t, edges: e }
            );
          };
        },
        9712: (t, e) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 });
          var n = (function () {
            function t(t) {
              (this.id = t.id || 0),
                (this.rx = t.rx),
                (this.ry = t.ry),
                (this.fx = 0),
                (this.fy = 0),
                (this.mass = t.mass),
                (this.degree = t.degree),
                (this.g = t.g || 0);
            }
            return (
              (t.prototype.distanceTo = function (t) {
                var e = this.rx - t.rx,
                  n = this.ry - t.ry;
                return Math.hypot(e, n);
              }),
              (t.prototype.setPos = function (t, e) {
                (this.rx = t), (this.ry = e);
              }),
              (t.prototype.resetForce = function () {
                (this.fx = 0), (this.fy = 0);
              }),
              (t.prototype.addForce = function (t) {
                var e = t.rx - this.rx,
                  n = t.ry - this.ry,
                  r = Math.hypot(e, n);
                r = r < 1e-4 ? 1e-4 : r;
                var i = (this.g * (this.degree + 1) * (t.degree + 1)) / r;
                (this.fx += (i * e) / r), (this.fy += (i * n) / r);
              }),
              (t.prototype.in = function (t) {
                return t.contains(this.rx, this.ry);
              }),
              (t.prototype.add = function (e) {
                var n = this.mass + e.mass;
                return new t({
                  rx: (this.rx * this.mass + e.rx * e.mass) / n,
                  ry: (this.ry * this.mass + e.ry * e.mass) / n,
                  mass: n,
                  degree: this.degree + e.degree,
                });
              }),
              t
            );
          })();
          e.default = n;
        },
        8564: function (t, e, n) {
          'use strict';
          var r,
            i =
              (this && this.__extends) ||
              ((r = function (t, e) {
                return (
                  (r =
                    Object.setPrototypeOf ||
                    ({ __proto__: [] } instanceof Array &&
                      function (t, e) {
                        t.__proto__ = e;
                      }) ||
                    function (t, e) {
                      for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
                    }),
                  r(t, e)
                );
              }),
              function (t, e) {
                if ('function' != typeof e && null !== e)
                  throw new TypeError(
                    'Class extends value ' + String(e) + ' is not a constructor or null',
                  );
                function n() {
                  this.constructor = t;
                }
                r(t, e),
                  (t.prototype =
                    null === e ? Object.create(e) : ((n.prototype = e.prototype), new n()));
              }),
            o =
              (this && this.__importDefault) ||
              function (t) {
                return t && t.__esModule ? t : { default: t };
              };
          Object.defineProperty(e, '__esModule', { value: !0 }), (e.ForceAtlas2Layout = void 0);
          var a = n(2329),
            s = n(9784),
            u = o(n(9712)),
            c = o(n(1638)),
            l = o(n(2732)),
            h = (function (t) {
              function e(e) {
                var n = t.call(this) || this;
                return (
                  (n.center = [0, 0]),
                  (n.width = 300),
                  (n.height = 300),
                  (n.nodes = []),
                  (n.edges = []),
                  (n.kr = 5),
                  (n.kg = 1),
                  (n.mode = 'normal'),
                  (n.preventOverlap = !1),
                  (n.dissuadeHubs = !1),
                  (n.barnesHut = void 0),
                  (n.maxIteration = 0),
                  (n.ks = 0.1),
                  (n.ksmax = 10),
                  (n.tao = 0.1),
                  (n.onLayoutEnd = function () {}),
                  (n.prune = void 0),
                  n.updateCfg(e),
                  n
                );
              }
              return (
                i(e, t),
                (e.prototype.getDefaultCfg = function () {
                  return {};
                }),
                (e.prototype.execute = function () {
                  var t = this,
                    e = t.nodes,
                    n = t.onLayoutEnd,
                    r = t.prune,
                    i = t.maxIteration;
                  t.width || 'undefined' == typeof window || (t.width = window.innerWidth),
                    t.height || 'undefined' == typeof window || (t.height = window.innerHeight);
                  for (var o = [], a = e.length, u = 0; u < a; u += 1) {
                    var c = e[u],
                      l = 10,
                      h = 10;
                    (0, s.isNumber)(c.size) && ((l = c.size), (h = c.size)),
                      (0, s.isArray)(c.size)
                        ? (isNaN(c.size[0]) || (l = c.size[0]), isNaN(c.size[1]) || (h = c.size[1]))
                        : (0, s.isObject)(c.size) && ((l = c.size.width), (h = c.size.height)),
                      t.getWidth && !isNaN(t.getWidth(c)) && (h = t.getWidth(c)),
                      t.getHeight && !isNaN(t.getHeight(c)) && (l = t.getHeight(c));
                    var f = Math.max(l, h);
                    o.push(f);
                  }
                  void 0 === t.barnesHut && a > 250 && (t.barnesHut = !0),
                    void 0 === t.prune && a > 100 && (t.prune = !0),
                    0 !== this.maxIteration || t.prune
                      ? 0 === this.maxIteration &&
                        r &&
                        ((i = 100),
                        a <= 200 && a > 100 ? (i = 500) : a > 200 && (i = 950),
                        (this.maxIteration = i))
                      : ((i = 250),
                        a <= 200 && a > 100 ? (i = 1e3) : a > 200 && (i = 1200),
                        (this.maxIteration = i)),
                    t.kr ||
                      ((t.kr = 50), a > 100 && a <= 500 ? (t.kr = 20) : a > 500 && (t.kr = 1)),
                    t.kg ||
                      ((t.kg = 20), a > 100 && a <= 500 ? (t.kg = 10) : a > 500 && (t.kg = 1)),
                    (this.nodes = t.updateNodesByForces(o)),
                    n();
                }),
                (e.prototype.updateNodesByForces = function (t) {
                  for (
                    var e = this,
                      n = e.edges,
                      r = e.maxIteration,
                      i = e.nodes,
                      o = n.filter(function (t) {
                        return (
                          (0, s.getEdgeTerminal)(t, 'source') !==
                          (0, s.getEdgeTerminal)(t, 'target')
                        );
                      }),
                      a = i.length,
                      u = o.length,
                      c = [],
                      l = {},
                      h = {},
                      f = [],
                      d = 0;
                    d < a;
                    d += 1
                  )
                    (l[i[d].id] = d),
                      (c[d] = 0),
                      (void 0 === i[d].x || isNaN(i[d].x)) && (i[d].x = 1e3 * Math.random()),
                      (void 0 === i[d].y || isNaN(i[d].y)) && (i[d].y = 1e3 * Math.random()),
                      f.push({ x: i[d].x, y: i[d].y });
                  for (d = 0; d < u; d += 1) {
                    for (var p = void 0, g = void 0, v = 0, y = 0, m = 0; m < a; m += 1) {
                      var b = (0, s.getEdgeTerminal)(o[d], 'source'),
                        x = (0, s.getEdgeTerminal)(o[d], 'target');
                      i[m].id === b
                        ? ((p = i[m]), (v = m))
                        : i[m].id === x && ((g = i[m]), (y = m)),
                        (h[d] = { sourceIdx: v, targetIdx: y });
                    }
                    p && (c[l[p.id]] += 1), g && (c[l[g.id]] += 1);
                  }
                  var _ = r;
                  if (((i = this.iterate(_, l, h, u, c, t)), e.prune)) {
                    for (m = 0; m < u; m += 1)
                      c[h[m].sourceIdx] <= 1
                        ? ((i[h[m].sourceIdx].x = i[h[m].targetIdx].x),
                          (i[h[m].sourceIdx].y = i[h[m].targetIdx].y))
                        : c[h[m].targetIdx] <= 1 &&
                          ((i[h[m].targetIdx].x = i[h[m].sourceIdx].x),
                          (i[h[m].targetIdx].y = i[h[m].sourceIdx].y));
                    (e.prune = !1),
                      (e.barnesHut = !1),
                      (_ = 100),
                      (i = this.iterate(_, l, h, u, c, t));
                  }
                  return i;
                }),
                (e.prototype.iterate = function (t, e, n, r, i, o) {
                  for (
                    var a = this,
                      s = a.nodes,
                      c = a.kr,
                      l = a.preventOverlap,
                      h = a.barnesHut,
                      f = s.length,
                      d = 0,
                      p = t,
                      g = [],
                      v = [],
                      y = [],
                      m = 0;
                    m < f;
                    m += 1
                  )
                    if (((g[2 * m] = 0), (g[2 * m + 1] = 0), h)) {
                      var b = { id: m, rx: s[m].x, ry: s[m].y, mass: 1, g: c, degree: i[m] };
                      y[m] = new u.default(b);
                    }
                  for (; p > 0; ) {
                    for (m = 0; m < f; m += 1)
                      (v[2 * m] = g[2 * m]),
                        (v[2 * m + 1] = g[2 * m + 1]),
                        (g[2 * m] = 0),
                        (g[2 * m + 1] = 0);
                    (g = this.getAttrForces(p, 50, r, e, n, i, o, g)),
                      (g =
                        h && ((l && p > 50) || !l)
                          ? this.getOptRepGraForces(g, y, i)
                          : this.getRepGraForces(p, 50, g, 100, o, i));
                    var x = this.updatePos(g, v, d, i);
                    (s = x.nodes), (d = x.sg), p--, a.tick && a.tick();
                  }
                  return s;
                }),
                (e.prototype.getAttrForces = function (t, e, n, r, i, o, a, s) {
                  for (
                    var u = this,
                      c = u.nodes,
                      l = u.preventOverlap,
                      h = u.dissuadeHubs,
                      f = u.mode,
                      d = u.prune,
                      p = 0;
                    p < n;
                    p += 1
                  ) {
                    var g = c[i[p].sourceIdx],
                      v = i[p].sourceIdx,
                      y = c[i[p].targetIdx],
                      m = i[p].targetIdx;
                    if (!d || !(o[v] <= 1 || o[m] <= 1)) {
                      var b = [y.x - g.x, y.y - g.y],
                        x = Math.hypot(b[0], b[1]);
                      (x = x < 1e-4 ? 1e-4 : x),
                        (b[0] = b[0] / x),
                        (b[1] = b[1] / x),
                        l && t < e && (x = x - a[v] - a[m]);
                      var _ = x,
                        w = _;
                      'linlog' === f && (w = _ = Math.log(1 + x)),
                        h && ((_ = x / o[v]), (w = x / o[m])),
                        l && t < e && x <= 0
                          ? ((_ = 0), (w = 0))
                          : l && t < e && x > 0 && ((_ = x), (w = x)),
                        (s[2 * r[g.id]] += _ * b[0]),
                        (s[2 * r[y.id]] -= w * b[0]),
                        (s[2 * r[g.id] + 1] += _ * b[1]),
                        (s[2 * r[y.id] + 1] -= w * b[1]);
                    }
                  }
                  return s;
                }),
                (e.prototype.getRepGraForces = function (t, e, n, r, i, o) {
                  for (
                    var a = this,
                      s = a.nodes,
                      u = a.preventOverlap,
                      c = a.kr,
                      l = a.kg,
                      h = a.center,
                      f = a.prune,
                      d = s.length,
                      p = 0;
                    p < d;
                    p += 1
                  ) {
                    for (var g = p + 1; g < d; g += 1)
                      if (!f || !(o[p] <= 1 || o[g] <= 1)) {
                        var v = [s[g].x - s[p].x, s[g].y - s[p].y],
                          y = Math.hypot(v[0], v[1]);
                        (y = y < 1e-4 ? 1e-4 : y),
                          (v[0] = v[0] / y),
                          (v[1] = v[1] / y),
                          u && t < e && (y = y - i[p] - i[g]);
                        var m = (c * (o[p] + 1) * (o[g] + 1)) / y;
                        u && t < e && y < 0
                          ? (m = r * (o[p] + 1) * (o[g] + 1))
                          : u && t < e && 0 === y
                          ? (m = 0)
                          : u && t < e && y > 0 && (m = (c * (o[p] + 1) * (o[g] + 1)) / y),
                          (n[2 * p] -= m * v[0]),
                          (n[2 * g] += m * v[0]),
                          (n[2 * p + 1] -= m * v[1]),
                          (n[2 * g + 1] += m * v[1]);
                      }
                    var b = [s[p].x - h[0], s[p].y - h[1]],
                      x = Math.hypot(b[0], b[1]);
                    (b[0] = b[0] / x), (b[1] = b[1] / x);
                    var _ = l * (o[p] + 1);
                    (n[2 * p] -= _ * b[0]), (n[2 * p + 1] -= _ * b[1]);
                  }
                  return n;
                }),
                (e.prototype.getOptRepGraForces = function (t, e, n) {
                  for (
                    var r = this,
                      i = r.nodes,
                      o = r.kg,
                      a = r.center,
                      s = r.prune,
                      u = i.length,
                      h = 9e10,
                      f = -9e10,
                      d = 9e10,
                      p = -9e10,
                      g = 0;
                    g < u;
                    g += 1
                  )
                    (s && n[g] <= 1) ||
                      (e[g].setPos(i[g].x, i[g].y),
                      i[g].x >= f && (f = i[g].x),
                      i[g].x <= h && (h = i[g].x),
                      i[g].y >= p && (p = i[g].y),
                      i[g].y <= d && (d = i[g].y));
                  var v = {
                      xmid: (f + h) / 2,
                      ymid: (p + d) / 2,
                      length: Math.max(f - h, p - d),
                      massCenter: a,
                      mass: u,
                    },
                    y = new c.default(v),
                    m = new l.default(y);
                  for (g = 0; g < u; g += 1) (s && n[g] <= 1) || (e[g].in(y) && m.insert(e[g]));
                  for (g = 0; g < u; g += 1)
                    if (!(s && n[g] <= 1)) {
                      e[g].resetForce(),
                        m.updateForce(e[g]),
                        (t[2 * g] -= e[g].fx),
                        (t[2 * g + 1] -= e[g].fy);
                      var b = [i[g].x - a[0], i[g].y - a[1]],
                        x = Math.hypot(b[0], b[1]);
                      (x = x < 1e-4 ? 1e-4 : x), (b[0] = b[0] / x), (b[1] = b[1] / x);
                      var _ = o * (n[g] + 1);
                      (t[2 * g] -= _ * b[0]), (t[2 * g + 1] -= _ * b[1]);
                    }
                  return t;
                }),
                (e.prototype.updatePos = function (t, e, n, r) {
                  for (
                    var i = this,
                      o = i.nodes,
                      a = i.ks,
                      s = i.tao,
                      u = i.prune,
                      c = i.ksmax,
                      l = o.length,
                      h = [],
                      f = [],
                      d = 0,
                      p = 0,
                      g = 0;
                    g < l;
                    g += 1
                  )
                    if (!(u && r[g] <= 1)) {
                      var v = [t[2 * g] - e[2 * g], t[2 * g + 1] - e[2 * g + 1]],
                        y = Math.hypot(v[0], v[1]),
                        m = [t[2 * g] + e[2 * g], t[2 * g + 1] + e[2 * g + 1]],
                        b = Math.hypot(m[0], m[1]);
                      (h[g] = y),
                        (f[g] = b / 2),
                        (d += (r[g] + 1) * h[g]),
                        (p += (r[g] + 1) * f[g]);
                    }
                  var x = n;
                  for (
                    n = (s * p) / d, 0 !== x && (n = n > 1.5 * x ? 1.5 * x : n), g = 0;
                    g < l;
                    g += 1
                  )
                    if (!(u && r[g] <= 1)) {
                      var _ = (a * n) / (1 + n * Math.sqrt(h[g])),
                        w = Math.hypot(t[2 * g], t[2 * g + 1]),
                        E = c / (w = w < 1e-4 ? 1e-4 : w),
                        S = (_ = _ > E ? E : _) * t[2 * g],
                        M = _ * t[2 * g + 1];
                      (o[g].x += S), (o[g].y += M);
                    }
                  return { nodes: o, sg: n };
                }),
                e
              );
            })(a.Base);
          e.ForceAtlas2Layout = h;
        },
        1638: (t, e) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 });
          var n = (function () {
            function t(t) {
              (this.xmid = t.xmid),
                (this.ymid = t.ymid),
                (this.length = t.length),
                (this.massCenter = t.massCenter || [0, 0]),
                (this.mass = t.mass || 1);
            }
            return (
              (t.prototype.getLength = function () {
                return this.length;
              }),
              (t.prototype.contains = function (t, e) {
                var n = this.length / 2;
                return (
                  t <= this.xmid + n &&
                  t >= this.xmid - n &&
                  e <= this.ymid + n &&
                  e >= this.ymid - n
                );
              }),
              (t.prototype.NW = function () {
                return new t({
                  xmid: this.xmid - this.length / 4,
                  ymid: this.ymid + this.length / 4,
                  length: this.length / 2,
                });
              }),
              (t.prototype.NE = function () {
                return new t({
                  xmid: this.xmid + this.length / 4,
                  ymid: this.ymid + this.length / 4,
                  length: this.length / 2,
                });
              }),
              (t.prototype.SW = function () {
                return new t({
                  xmid: this.xmid - this.length / 4,
                  ymid: this.ymid - this.length / 4,
                  length: this.length / 2,
                });
              }),
              (t.prototype.SE = function () {
                return new t({
                  xmid: this.xmid + this.length / 4,
                  ymid: this.ymid - this.length / 4,
                  length: this.length / 2,
                });
              }),
              t
            );
          })();
          e.default = n;
        },
        2732: (t, e) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 });
          var n = (function () {
            function t(t) {
              (this.body = null),
                (this.quad = null),
                (this.NW = null),
                (this.NE = null),
                (this.SW = null),
                (this.SE = null),
                (this.theta = 0.5),
                null != t && (this.quad = t);
            }
            return (
              (t.prototype.insert = function (e) {
                null != this.body
                  ? this._isExternal()
                    ? (this.quad &&
                        ((this.NW = new t(this.quad.NW())),
                        (this.NE = new t(this.quad.NE())),
                        (this.SW = new t(this.quad.SW())),
                        (this.SE = new t(this.quad.SE()))),
                      this._putBody(this.body),
                      this._putBody(e),
                      (this.body = this.body.add(e)))
                    : ((this.body = this.body.add(e)), this._putBody(e))
                  : (this.body = e);
              }),
              (t.prototype._putBody = function (t) {
                this.quad &&
                  (t.in(this.quad.NW()) && this.NW
                    ? this.NW.insert(t)
                    : t.in(this.quad.NE()) && this.NE
                    ? this.NE.insert(t)
                    : t.in(this.quad.SW()) && this.SW
                    ? this.SW.insert(t)
                    : t.in(this.quad.SE()) && this.SE && this.SE.insert(t));
              }),
              (t.prototype._isExternal = function () {
                return null == this.NW && null == this.NE && null == this.SW && null == this.SE;
              }),
              (t.prototype.updateForce = function (t) {
                null != this.body &&
                  t !== this.body &&
                  (this._isExternal() ||
                  (this.quad ? this.quad.getLength() : 0) / this.body.distanceTo(t) < this.theta
                    ? t.addForce(this.body)
                    : (this.NW && this.NW.updateForce(t),
                      this.NE && this.NE.updateForce(t),
                      this.SW && this.SW.updateForce(t),
                      this.SE && this.SE.updateForce(t)));
              }),
              t
            );
          })();
          e.default = n;
        },
        9806: function (t, e, n) {
          'use strict';
          var r =
              (this && this.__createBinding) ||
              (Object.create
                ? function (t, e, n, r) {
                    void 0 === r && (r = n),
                      Object.defineProperty(t, r, {
                        enumerable: !0,
                        get: function () {
                          return e[n];
                        },
                      });
                  }
                : function (t, e, n, r) {
                    void 0 === r && (r = n), (t[r] = e[n]);
                  }),
            i =
              (this && this.__setModuleDefault) ||
              (Object.create
                ? function (t, e) {
                    Object.defineProperty(t, 'default', { enumerable: !0, value: e });
                  }
                : function (t, e) {
                    t.default = e;
                  }),
            o =
              (this && this.__importStar) ||
              function (t) {
                if (t && t.__esModule) return t;
                var e = {};
                if (null != t)
                  for (var n in t)
                    'default' !== n && Object.prototype.hasOwnProperty.call(t, n) && r(e, t, n);
                return i(e, t), e;
              };
          Object.defineProperty(e, '__esModule', { value: !0 });
          var a = o(n(9201)),
            s = n(9784);
          e.default = function () {
            function t(t) {
              return function () {
                return t;
              };
            }
            var e,
              n = function (t) {
                return t.cluster;
              },
              r = t(1),
              i = t(-1),
              o = t(100),
              u = t(0.1),
              c = [0, 0],
              l = [],
              h = {},
              f = [],
              d = 100,
              p = 100,
              g = { none: { x: 0, y: 0 } },
              v = [],
              y = 'force',
              m = !0,
              b = 0.1;
            function x(t) {
              if (!m) return x;
              e.tick(), w();
              for (var r = 0, i = l.length, o = void 0, a = t * b; r < i; ++r)
                ((o = l[r]).vx += (g[n(o)].x - o.x) * a), (o.vy += (g[n(o)].y - o.y) * a);
            }
            function _() {
              l &&
                (function () {
                  if (l && l.length) {
                    if (void 0 === n(l[0]))
                      throw Error(
                        "Couldnt find the grouping attribute for the nodes. Make sure to set it up with forceInABox.groupBy('clusterAttr') before calling .links()",
                      );
                    var t,
                      c,
                      g,
                      y,
                      m,
                      b =
                        ((t = []),
                        (c = []),
                        (g = {}),
                        {},
                        (m = []),
                        (y = (function (t) {
                          var e = {};
                          return (
                            t.forEach(function (t) {
                              var r = n(t);
                              e[r] || (e[r] = { count: 0, sumforceNodeSize: 0 });
                            }),
                            t.forEach(function (t) {
                              var i = n(t),
                                o = r(t),
                                a = e[i];
                              (a.count = a.count + 1),
                                (a.sumforceNodeSize = a.sumforceNodeSize + Math.PI * (o * o) * 1.3),
                                (e[i] = a);
                            }),
                            e
                          );
                        })(l)),
                        (m = (function (t) {
                          var e = {},
                            r = [];
                          return (
                            t.forEach(function (t) {
                              var r = (function (t) {
                                  var e = (0, s.getEdgeTerminal)(t, 'source'),
                                    r = (0, s.getEdgeTerminal)(t, 'target'),
                                    i = n(h[e]),
                                    o = n(h[r]);
                                  return i <= o ? i + '~' + o : o + '~' + i;
                                })(t),
                                i = 0;
                              void 0 !== e[r] && (i = e[r]), (i += 1), (e[r] = i);
                            }),
                            Object.entries(e).forEach(function (t) {
                              var e = t[0],
                                n = t[1],
                                i = e.split('~')[0],
                                o = e.split('~')[1];
                              void 0 !== i &&
                                void 0 !== o &&
                                r.push({ source: i, target: o, count: n });
                            }),
                            r
                          );
                        })(f)),
                        Object.keys(y).forEach(function (e, n) {
                          var r = y[e];
                          t.push({
                            id: e,
                            size: r.count,
                            r: Math.sqrt(r.sumforceNodeSize / Math.PI),
                          }),
                            (g[e] = n);
                        }),
                        m.forEach(function (t) {
                          var e = (0, s.getEdgeTerminal)(t, 'source'),
                            n = (0, s.getEdgeTerminal)(t, 'target'),
                            r = g[e],
                            i = g[n];
                          void 0 !== r &&
                            void 0 !== i &&
                            c.push({ source: r, target: i, count: t.count });
                        }),
                        { nodes: t, links: c });
                    (e = a
                      .forceSimulation(b.nodes)
                      .force('x', a.forceX(d).strength(0.1))
                      .force('y', a.forceY(p).strength(0.1))
                      .force(
                        'collide',
                        a
                          .forceCollide(function (t) {
                            return t.r;
                          })
                          .iterations(4),
                      )
                      .force('charge', a.forceManyBody().strength(i))
                      .force(
                        'links',
                        a
                          .forceLink(b.nodes.length ? b.links : [])
                          .distance(o)
                          .strength(u),
                      )),
                      (v = e.nodes()),
                      w();
                  }
                })();
            }
            function w() {
              return (
                (g = { none: { x: 0, y: 0 } }),
                v.forEach(function (t) {
                  g[t.id] = { x: t.x - c[0], y: t.y - c[1] };
                }),
                g
              );
            }
            function E(t) {
              (h = {}),
                t.forEach(function (t) {
                  h[t.id] = t;
                });
            }
            return (
              (x.initialize = function (t) {
                (l = t), _();
              }),
              (x.template = function (t) {
                return arguments.length ? ((y = t), _(), x) : y;
              }),
              (x.groupBy = function (t) {
                return arguments.length
                  ? 'string' == typeof t
                    ? ((n = function (e) {
                        return e[t];
                      }),
                      x)
                    : ((n = t), x)
                  : n;
              }),
              (x.enableGrouping = function (t) {
                return arguments.length ? ((m = t), x) : m;
              }),
              (x.strength = function (t) {
                return arguments.length ? ((b = t), x) : b;
              }),
              (x.centerX = function (t) {
                return arguments.length ? ((d = t), x) : d;
              }),
              (x.centerY = function (t) {
                return arguments.length ? ((p = t), x) : p;
              }),
              (x.nodes = function (t) {
                return arguments.length ? (E(t || []), (l = t || []), x) : l;
              }),
              (x.links = function (t) {
                return arguments.length ? ((f = t || []), _(), x) : f;
              }),
              (x.forceNodeSize = function (e) {
                return arguments.length ? ((r = 'function' == typeof e ? e : t(+e)), _(), x) : r;
              }),
              (x.nodeSize = x.forceNodeSize),
              (x.forceCharge = function (e) {
                return arguments.length ? ((i = 'function' == typeof e ? e : t(+e)), _(), x) : i;
              }),
              (x.forceLinkDistance = function (e) {
                return arguments.length ? ((o = 'function' == typeof e ? e : t(+e)), _(), x) : o;
              }),
              (x.forceLinkStrength = function (e) {
                return arguments.length ? ((u = 'function' == typeof e ? e : t(+e)), _(), x) : u;
              }),
              (x.offset = function (t) {
                return arguments.length ? ((c = t), x) : c;
              }),
              (x.getFocis = w),
              x
            );
          };
        },
        8810: function (t, e, n) {
          'use strict';
          var r,
            i =
              (this && this.__extends) ||
              ((r = function (t, e) {
                return (
                  (r =
                    Object.setPrototypeOf ||
                    ({ __proto__: [] } instanceof Array &&
                      function (t, e) {
                        t.__proto__ = e;
                      }) ||
                    function (t, e) {
                      for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
                    }),
                  r(t, e)
                );
              }),
              function (t, e) {
                if ('function' != typeof e && null !== e)
                  throw new TypeError(
                    'Class extends value ' + String(e) + ' is not a constructor or null',
                  );
                function n() {
                  this.constructor = t;
                }
                r(t, e),
                  (t.prototype =
                    null === e ? Object.create(e) : ((n.prototype = e.prototype), new n()));
              }),
            o =
              (this && this.__createBinding) ||
              (Object.create
                ? function (t, e, n, r) {
                    void 0 === r && (r = n),
                      Object.defineProperty(t, r, {
                        enumerable: !0,
                        get: function () {
                          return e[n];
                        },
                      });
                  }
                : function (t, e, n, r) {
                    void 0 === r && (r = n), (t[r] = e[n]);
                  }),
            a =
              (this && this.__setModuleDefault) ||
              (Object.create
                ? function (t, e) {
                    Object.defineProperty(t, 'default', { enumerable: !0, value: e });
                  }
                : function (t, e) {
                    t.default = e;
                  }),
            s =
              (this && this.__importStar) ||
              function (t) {
                if (t && t.__esModule) return t;
                var e = {};
                if (null != t)
                  for (var n in t)
                    'default' !== n && Object.prototype.hasOwnProperty.call(t, n) && o(e, t, n);
                return a(e, t), e;
              },
            u =
              (this && this.__importDefault) ||
              function (t) {
                return t && t.__esModule ? t : { default: t };
              };
          Object.defineProperty(e, '__esModule', { value: !0 }), (e.ForceLayout = void 0);
          var c = s(n(9201)),
            l = u(n(9806)),
            h = n(9784),
            f = n(2329),
            d = n(6470),
            p = (function (t) {
              function e(e) {
                var n = t.call(this) || this;
                return (
                  (n.center = [0, 0]),
                  (n.nodeStrength = null),
                  (n.edgeStrength = null),
                  (n.preventOverlap = !1),
                  (n.clusterNodeStrength = null),
                  (n.clusterEdgeStrength = null),
                  (n.clusterEdgeDistance = null),
                  (n.clusterNodeSize = null),
                  (n.clusterFociStrength = null),
                  (n.linkDistance = 50),
                  (n.alphaDecay = 0.028),
                  (n.alphaMin = 0.001),
                  (n.alpha = 0.3),
                  (n.collideStrength = 1),
                  (n.workerEnabled = !1),
                  (n.tick = function () {}),
                  (n.onLayoutEnd = function () {}),
                  (n.ticking = void 0),
                  e && n.updateCfg(e),
                  n
                );
              }
              return (
                i(e, t),
                (e.prototype.getDefaultCfg = function () {
                  return {
                    center: [0, 0],
                    nodeStrength: null,
                    edgeStrength: null,
                    preventOverlap: !1,
                    nodeSize: void 0,
                    nodeSpacing: void 0,
                    linkDistance: 50,
                    forceSimulation: null,
                    alphaDecay: 0.028,
                    alphaMin: 0.001,
                    alpha: 0.3,
                    collideStrength: 1,
                    clustering: !1,
                    clusterNodeStrength: -1,
                    clusterEdgeStrength: 0.1,
                    clusterEdgeDistance: 100,
                    clusterFociStrength: 0.8,
                    clusterNodeSize: 10,
                    tick: function () {},
                    onLayoutEnd: function () {},
                    workerEnabled: !1,
                  };
                }),
                (e.prototype.init = function (t) {
                  var e = this;
                  e.nodes = t.nodes || [];
                  var n = t.edges || [];
                  (e.edges = n.map(function (t) {
                    var e = {},
                      n = ['targetNode', 'sourceNode', 'startPoint', 'endPoint'];
                    return (
                      Object.keys(t).forEach(function (r) {
                        n.indexOf(r) > -1 || (e[r] = t[r]);
                      }),
                      e
                    );
                  })),
                    (e.ticking = !1);
                }),
                (e.prototype.execute = function (t) {
                  var e = this,
                    n = e.nodes,
                    r = e.edges;
                  if (!e.ticking) {
                    var i = e.forceSimulation,
                      o = e.alphaMin,
                      a = e.alphaDecay,
                      s = e.alpha;
                    if (i)
                      t &&
                        (e.clustering &&
                          e.clusterForce &&
                          (e.clusterForce.nodes(n), e.clusterForce.links(r)),
                        i.nodes(n),
                        r && e.edgeForce
                          ? e.edgeForce.links(r)
                          : r &&
                            !e.edgeForce &&
                            ((f = c
                              .forceLink()
                              .id(function (t) {
                                return t.id;
                              })
                              .links(r)),
                            e.edgeStrength && f.strength(e.edgeStrength),
                            e.linkDistance && f.distance(e.linkDistance),
                            (e.edgeForce = f),
                            i.force('link', f))),
                        e.preventOverlap && e.overlapProcess(i),
                        i.alpha(s).restart(),
                        (this.ticking = !0);
                    else
                      try {
                        var u = c.forceManyBody();
                        if (
                          (e.nodeStrength && u.strength(e.nodeStrength),
                          (i = c.forceSimulation().nodes(n)),
                          e.clustering)
                        ) {
                          var h = (0, l.default)();
                          h
                            .centerX(e.center[0])
                            .centerY(e.center[1])
                            .template('force')
                            .strength(e.clusterFociStrength),
                            r && h.links(r),
                            n && h.nodes(n),
                            h
                              .forceLinkDistance(e.clusterEdgeDistance)
                              .forceLinkStrength(e.clusterEdgeStrength)
                              .forceCharge(e.clusterNodeStrength)
                              .forceNodeSize(e.clusterNodeSize),
                            (e.clusterForce = h),
                            i.force('group', h);
                        }
                        if (
                          (i
                            .force('center', c.forceCenter(e.center[0], e.center[1]))
                            .force('charge', u)
                            .alpha(s)
                            .alphaDecay(a)
                            .alphaMin(o),
                          e.preventOverlap && e.overlapProcess(i),
                          r)
                        ) {
                          var f = c
                            .forceLink()
                            .id(function (t) {
                              return t.id;
                            })
                            .links(r);
                          e.edgeStrength && f.strength(e.edgeStrength),
                            e.linkDistance && f.distance(e.linkDistance),
                            (e.edgeForce = f),
                            i.force('link', f);
                        }
                        if (
                          (e.workerEnabled &&
                            !g() &&
                            ((e.workerEnabled = !1),
                            console.warn(
                              'workerEnabled option is only supported when running in web worker.',
                            )),
                          e.workerEnabled)
                        ) {
                          i.stop();
                          for (
                            var p = (function (t) {
                                var e = t.alphaMin(),
                                  n = t.alphaTarget(),
                                  r = t.alpha(),
                                  i = Math.log((e - n) / (r - n)) / Math.log(1 - t.alphaDecay());
                                return Math.ceil(i);
                              })(i),
                              v = 1;
                            v <= p;
                            v++
                          )
                            i.tick(),
                              postMessage(
                                {
                                  nodes: n,
                                  currentTick: v,
                                  totalTicks: p,
                                  type: d.LAYOUT_MESSAGE.TICK,
                                },
                                void 0,
                              );
                          e.ticking = !1;
                        } else
                          i
                            .on('tick', function () {
                              e.tick();
                            })
                            .on('end', function () {
                              (e.ticking = !1), e.onLayoutEnd && e.onLayoutEnd();
                            }),
                            (e.ticking = !0);
                        (e.forceSimulation = i), (e.ticking = !0);
                      } catch (t) {
                        (e.ticking = !1), console.warn(t);
                      }
                  }
                }),
                (e.prototype.overlapProcess = function (t) {
                  var e,
                    n,
                    r = this,
                    i = r.nodeSize,
                    o = r.nodeSpacing,
                    a = r.collideStrength;
                  if (
                    ((n = (0, h.isNumber)(o)
                      ? function () {
                          return o;
                        }
                      : (0, h.isFunction)(o)
                      ? o
                      : function () {
                          return 0;
                        }),
                    i)
                  )
                    if ((0, h.isFunction)(i))
                      e = function (t) {
                        return i(t) + n(t);
                      };
                    else if ((0, h.isArray)(i)) {
                      var s = (i[0] > i[1] ? i[0] : i[1]) / 2;
                      e = function (t) {
                        return s + n(t);
                      };
                    } else if ((0, h.isNumber)(i)) {
                      var u = i / 2;
                      e = function (t) {
                        return u + n(t);
                      };
                    } else
                      e = function () {
                        return 10;
                      };
                  else
                    e = function (t) {
                      return t.size
                        ? (0, h.isArray)(t.size)
                          ? (t.size[0] > t.size[1] ? t.size[0] : t.size[1]) / 2 + n(t)
                          : (0, h.isObject)(t.size)
                          ? (t.size.width > t.size.height ? t.size.width : t.size.height) / 2 + n(t)
                          : t.size / 2 + n(t)
                        : 10 + n(t);
                    };
                  t.force('collisionForce', c.forceCollide(e).strength(a));
                }),
                (e.prototype.updateCfg = function (t) {
                  var e = this;
                  e.ticking && (e.forceSimulation.stop(), (e.ticking = !1)),
                    (e.forceSimulation = null),
                    Object.assign(e, t);
                }),
                (e.prototype.destroy = function () {
                  var t = this;
                  t.ticking && (t.forceSimulation.stop(), (t.ticking = !1)),
                    (t.nodes = null),
                    (t.edges = null),
                    (t.destroyed = !0);
                }),
                e
              );
            })(f.Base);
          function g() {
            return 'undefined' != typeof WorkerGlobalScope && self instanceof WorkerGlobalScope;
          }
          e.ForceLayout = p;
        },
        5717: function (t, e, n) {
          'use strict';
          var r =
              (this && this.__createBinding) ||
              (Object.create
                ? function (t, e, n, r) {
                    void 0 === r && (r = n),
                      Object.defineProperty(t, r, {
                        enumerable: !0,
                        get: function () {
                          return e[n];
                        },
                      });
                  }
                : function (t, e, n, r) {
                    void 0 === r && (r = n), (t[r] = e[n]);
                  }),
            i =
              (this && this.__exportStar) ||
              function (t, e) {
                for (var n in t)
                  'default' === n || Object.prototype.hasOwnProperty.call(e, n) || r(e, t, n);
              };
          Object.defineProperty(e, '__esModule', { value: !0 }), i(n(8810), e);
        },
        374: function (t, e, n) {
          'use strict';
          var r,
            i =
              (this && this.__extends) ||
              ((r = function (t, e) {
                return (
                  (r =
                    Object.setPrototypeOf ||
                    ({ __proto__: [] } instanceof Array &&
                      function (t, e) {
                        t.__proto__ = e;
                      }) ||
                    function (t, e) {
                      for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
                    }),
                  r(t, e)
                );
              }),
              function (t, e) {
                if ('function' != typeof e && null !== e)
                  throw new TypeError(
                    'Class extends value ' + String(e) + ' is not a constructor or null',
                  );
                function n() {
                  this.constructor = t;
                }
                r(t, e),
                  (t.prototype =
                    null === e ? Object.create(e) : ((n.prototype = e.prototype), new n()));
              });
          Object.defineProperty(e, '__esModule', { value: !0 }), (e.FruchtermanLayout = void 0);
          var o = n(2329),
            a = n(9784),
            s = (function (t) {
              function e(e) {
                var n = t.call(this) || this;
                return (
                  (n.maxIteration = 1e3),
                  (n.workerEnabled = !1),
                  (n.gravity = 10),
                  (n.speed = 5),
                  (n.clustering = !1),
                  (n.clusterGravity = 10),
                  (n.nodes = []),
                  (n.edges = []),
                  (n.width = 300),
                  (n.height = 300),
                  (n.nodeMap = {}),
                  (n.nodeIdxMap = {}),
                  (n.onLayoutEnd = function () {}),
                  (n.tick = function () {}),
                  (n.animate = !0),
                  n.updateCfg(e),
                  n
                );
              }
              return (
                i(e, t),
                (e.prototype.getDefaultCfg = function () {
                  return {
                    maxIteration: 1e3,
                    gravity: 10,
                    speed: 1,
                    clustering: !1,
                    clusterGravity: 10,
                    animate: !0,
                  };
                }),
                (e.prototype.execute = function () {
                  var t,
                    e,
                    n = this,
                    r = this,
                    i = r.nodes;
                  if (
                    (void 0 !== r.timeInterval &&
                      'undefined' != typeof window &&
                      window.clearInterval(r.timeInterval),
                    i && 0 !== i.length)
                  ) {
                    r.width || 'undefined' == typeof window || (r.width = window.innerWidth),
                      r.height || 'undefined' == typeof window || (r.height = window.innerHeight),
                      r.center || (r.center = [r.width / 2, r.height / 2]);
                    var o = r.center;
                    if (1 === i.length)
                      return (
                        (i[0].x = o[0]),
                        (i[0].y = o[1]),
                        void (null === (e = r.onLayoutEnd) || void 0 === e || e.call(r))
                      );
                    var s = {},
                      u = {};
                    return (
                      i.forEach(function (t, e) {
                        (0, a.isNumber)(t.x) || (t.x = Math.random() * n.width),
                          (0, a.isNumber)(t.y) || (t.y = Math.random() * n.height),
                          (s[t.id] = t),
                          (u[t.id] = e);
                      }),
                      (r.nodeMap = s),
                      (r.nodeIdxMap = u),
                      r.run()
                    );
                  }
                  null === (t = r.onLayoutEnd) || void 0 === t || t.call(r);
                }),
                (e.prototype.run = function () {
                  var t,
                    e = this,
                    n = e.nodes;
                  if (n) {
                    var r = e.edges,
                      i = e.maxIteration,
                      o = e.workerEnabled,
                      a = e.clustering,
                      s = e.animate,
                      u = {};
                    if (
                      (a &&
                        n.forEach(function (t) {
                          void 0 === u[t.cluster] &&
                            (u[t.cluster] = { name: t.cluster, cx: 0, cy: 0, count: 0 });
                        }),
                      o || !s)
                    ) {
                      for (var c = 0; c < i; c++) e.runOneStep(u);
                      null === (t = e.onLayoutEnd) || void 0 === t || t.call(e);
                    } else {
                      if ('undefined' == typeof window) return;
                      var l = 0;
                      this.timeInterval = window.setInterval(function () {
                        var t;
                        e.runOneStep(u),
                          ++l >= i &&
                            (null === (t = e.onLayoutEnd) || void 0 === t || t.call(e),
                            window.clearInterval(e.timeInterval));
                      }, 0);
                    }
                    return { nodes: n, edges: r };
                  }
                }),
                (e.prototype.runOneStep = function (t) {
                  var e,
                    n = this,
                    r = n.nodes;
                  if (r) {
                    var i = n.edges,
                      o = n.center,
                      s = n.gravity,
                      u = n.speed,
                      c = n.clustering,
                      l = n.height * n.width,
                      h = Math.sqrt(l) / 10,
                      f = l / (r.length + 1),
                      d = Math.sqrt(f),
                      p = [];
                    if (
                      (r.forEach(function (t, e) {
                        p[e] = { x: 0, y: 0 };
                      }),
                      n.applyCalculate(r, i, p, d, f),
                      c)
                    ) {
                      for (var g in t) (t[g].cx = 0), (t[g].cy = 0), (t[g].count = 0);
                      for (var g in (r.forEach(function (e) {
                        var n = t[e.cluster];
                        (0, a.isNumber)(e.x) && (n.cx += e.x),
                          (0, a.isNumber)(e.y) && (n.cy += e.y),
                          n.count++;
                      }),
                      t))
                        (t[g].cx /= t[g].count), (t[g].cy /= t[g].count);
                      var v = n.clusterGravity || s;
                      r.forEach(function (e, n) {
                        if ((0, a.isNumber)(e.x) && (0, a.isNumber)(e.y)) {
                          var r = t[e.cluster],
                            i = Math.sqrt(
                              (e.x - r.cx) * (e.x - r.cx) + (e.y - r.cy) * (e.y - r.cy),
                            ),
                            o = d * v;
                          (p[n].x -= (o * (e.x - r.cx)) / i), (p[n].y -= (o * (e.y - r.cy)) / i);
                        }
                      });
                    }
                    r.forEach(function (t, e) {
                      if ((0, a.isNumber)(t.x) && (0, a.isNumber)(t.y)) {
                        var n = 0.01 * d * s;
                        (p[e].x -= n * (t.x - o[0])), (p[e].y -= n * (t.y - o[1]));
                      }
                    }),
                      r.forEach(function (t, e) {
                        if ((0, a.isNumber)(t.fx) && (0, a.isNumber)(t.fy))
                          return (t.x = t.fx), void (t.y = t.fy);
                        if ((0, a.isNumber)(t.x) && (0, a.isNumber)(t.y)) {
                          var n = Math.sqrt(p[e].x * p[e].x + p[e].y * p[e].y);
                          if (n > 0) {
                            var r = Math.min(h * (u / 800), n);
                            (t.x += (p[e].x / n) * r), (t.y += (p[e].y / n) * r);
                          }
                        }
                      }),
                      null === (e = n.tick) || void 0 === e || e.call(n);
                  }
                }),
                (e.prototype.applyCalculate = function (t, e, n, r, i) {
                  this.calRepulsive(t, n, i), e && this.calAttractive(e, n, r);
                }),
                (e.prototype.calRepulsive = function (t, e, n) {
                  t.forEach(function (r, i) {
                    (e[i] = { x: 0, y: 0 }),
                      t.forEach(function (t, o) {
                        if (
                          i !== o &&
                          (0, a.isNumber)(r.x) &&
                          (0, a.isNumber)(t.x) &&
                          (0, a.isNumber)(r.y) &&
                          (0, a.isNumber)(t.y)
                        ) {
                          var s = r.x - t.x,
                            u = r.y - t.y,
                            c = s * s + u * u;
                          if (0 === c) {
                            c = 1;
                            var l = i > o ? 1 : -1;
                            (s = 0.01 * l), (u = 0.01 * l);
                          }
                          var h = n / c;
                          (e[i].x += s * h), (e[i].y += u * h);
                        }
                      });
                  });
                }),
                (e.prototype.calAttractive = function (t, e, n) {
                  var r = this;
                  t.forEach(function (t) {
                    var i = (0, a.getEdgeTerminal)(t, 'source'),
                      o = (0, a.getEdgeTerminal)(t, 'target');
                    if (i && o) {
                      var s = r.nodeIdxMap[i],
                        u = r.nodeIdxMap[o];
                      if (s !== u) {
                        var c = r.nodeMap[i],
                          l = r.nodeMap[o];
                        if (
                          (0, a.isNumber)(l.x) &&
                          (0, a.isNumber)(c.x) &&
                          (0, a.isNumber)(l.y) &&
                          (0, a.isNumber)(c.y)
                        ) {
                          var h = l.x - c.x,
                            f = l.y - c.y,
                            d = Math.sqrt(h * h + f * f),
                            p = (d * d) / n;
                          (e[u].x -= (h / d) * p),
                            (e[u].y -= (f / d) * p),
                            (e[s].x += (h / d) * p),
                            (e[s].y += (f / d) * p);
                        }
                      }
                    }
                  });
                }),
                (e.prototype.stop = function () {
                  this.timeInterval &&
                    'undefined' != typeof window &&
                    window.clearInterval(this.timeInterval);
                }),
                (e.prototype.destroy = function () {
                  var t = this;
                  t.stop(), (t.tick = null), (t.nodes = null), (t.edges = null), (t.destroyed = !0);
                }),
                (e.prototype.getType = function () {
                  return 'fruchterman';
                }),
                e
              );
            })(o.Base);
          e.FruchtermanLayout = s;
        },
        3653: function (t, e, n) {
          'use strict';
          var r,
            i =
              (this && this.__extends) ||
              ((r = function (t, e) {
                return (
                  (r =
                    Object.setPrototypeOf ||
                    ({ __proto__: [] } instanceof Array &&
                      function (t, e) {
                        t.__proto__ = e;
                      }) ||
                    function (t, e) {
                      for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
                    }),
                  r(t, e)
                );
              }),
              function (t, e) {
                if ('function' != typeof e && null !== e)
                  throw new TypeError(
                    'Class extends value ' + String(e) + ' is not a constructor or null',
                  );
                function n() {
                  this.constructor = t;
                }
                r(t, e),
                  (t.prototype =
                    null === e ? Object.create(e) : ((n.prototype = e.prototype), new n()));
              });
          Object.defineProperty(e, '__esModule', { value: !0 }), (e.GForceLayout = void 0);
          var o = n(2329),
            a = n(9784),
            s = function (t, e) {
              return t
                ? (0, a.isNumber)(t)
                  ? function (e) {
                      return t;
                    }
                  : t
                : function (t) {
                    return e || 1;
                  };
            },
            u = (function (t) {
              function e(e) {
                var n = t.call(this) || this;
                return (
                  (n.maxIteration = 500),
                  (n.workerEnabled = !1),
                  (n.edgeStrength = 200),
                  (n.nodeStrength = 1e3),
                  (n.coulombDisScale = 0.005),
                  (n.damping = 0.9),
                  (n.maxSpeed = 1e3),
                  (n.minMovement = 0.5),
                  (n.interval = 0.02),
                  (n.factor = 1),
                  (n.linkDistance = 1),
                  (n.gravity = 10),
                  (n.preventOverlap = !0),
                  (n.collideStrength = 1),
                  (n.tick = function () {}),
                  (n.nodes = []),
                  (n.edges = []),
                  (n.width = 300),
                  (n.height = 300),
                  (n.nodeMap = {}),
                  (n.nodeIdxMap = {}),
                  (n.animate = !0),
                  n.updateCfg(e),
                  n
                );
              }
              return (
                i(e, t),
                (e.prototype.getDefaultCfg = function () {
                  return { maxIteration: 500, gravity: 10, enableTick: !0, animate: !0 };
                }),
                (e.prototype.execute = function () {
                  var t,
                    e,
                    n = this,
                    r = n.nodes;
                  if (
                    (void 0 !== n.timeInterval &&
                      'undefined' != typeof window &&
                      window.clearInterval(n.timeInterval),
                    r && 0 !== r.length)
                  ) {
                    n.width || 'undefined' == typeof window || (n.width = window.innerWidth),
                      n.height || 'undefined' == typeof window || (n.height = window.innerHeight),
                      n.center || (n.center = [n.width / 2, n.height / 2]);
                    var i = n.center;
                    if (1 === r.length)
                      return (
                        (r[0].x = i[0]),
                        (r[0].y = i[1]),
                        void (null === (e = n.onLayoutEnd) || void 0 === e || e.call(n))
                      );
                    var o = {},
                      u = {};
                    r.forEach(function (t, e) {
                      (0, a.isNumber)(t.x) || (t.x = Math.random() * n.width),
                        (0, a.isNumber)(t.y) || (t.y = Math.random() * n.height),
                        (o[t.id] = t),
                        (u[t.id] = e);
                    }),
                      (n.nodeMap = o),
                      (n.nodeIdxMap = u),
                      (n.linkDistance = s(n.linkDistance, 1)),
                      (n.nodeStrength = s(n.nodeStrength, 1)),
                      (n.edgeStrength = s(n.edgeStrength, 1));
                    var c,
                      l = n.nodeSize;
                    if (n.preventOverlap) {
                      var h,
                        f = n.nodeSpacing;
                      (h = (0, a.isNumber)(f)
                        ? function () {
                            return f;
                          }
                        : (0, a.isFunction)(f)
                        ? f
                        : function () {
                            return 0;
                          }),
                        (c = l
                          ? (0, a.isArray)(l)
                            ? function (t) {
                                return Math.max(l[0], l[1]) + h(t);
                              }
                            : function (t) {
                                return l + h(t);
                              }
                          : function (t) {
                              return t.size
                                ? (0, a.isArray)(t.size)
                                  ? Math.max(t.size[0], t.size[1]) + h(t)
                                  : (0, a.isObject)(t.size)
                                  ? Math.max(t.size.width, t.size.height) + h(t)
                                  : t.size + h(t)
                                : 10 + h(t);
                            });
                    }
                    n.nodeSize = c;
                    var d = n.edges;
                    (n.degrees = (0, a.getDegree)(r.length, n.nodeIdxMap, d)),
                      n.getMass ||
                        (n.getMass = function (t) {
                          return t.mass || n.degrees[n.nodeIdxMap[t.id]] || 1;
                        }),
                      n.run();
                  } else null === (t = n.onLayoutEnd) || void 0 === t || t.call(n);
                }),
                (e.prototype.run = function () {
                  var t,
                    e = this,
                    n = e.maxIteration,
                    r = e.nodes,
                    i = e.workerEnabled,
                    o = e.minMovement,
                    a = e.animate;
                  if (r)
                    if (i || !a) {
                      for (var s = 0; s < n; s++) {
                        var u = e.runOneStep(s);
                        if (e.reachMoveThreshold(r, u, o)) break;
                      }
                      null === (t = e.onLayoutEnd) || void 0 === t || t.call(e);
                    } else {
                      if ('undefined' == typeof window) return;
                      var c = 0;
                      this.timeInterval = window.setInterval(function () {
                        var t, i;
                        if (r) {
                          var a = e.runOneStep(c) || [];
                          e.reachMoveThreshold(r, a, o) &&
                            (null === (t = e.onLayoutEnd) || void 0 === t || t.call(e),
                            window.clearInterval(e.timeInterval)),
                            ++c >= n &&
                              (null === (i = e.onLayoutEnd) || void 0 === i || i.call(e),
                              window.clearInterval(e.timeInterval));
                        }
                      }, 0);
                    }
                }),
                (e.prototype.reachMoveThreshold = function (t, e, n) {
                  var r = 0;
                  return (
                    t.forEach(function (t, n) {
                      var i = t.x - e[n].x,
                        o = t.y - e[n].y;
                      r += Math.sqrt(i * i + o * o);
                    }),
                    (r /= t.length) < n
                  );
                }),
                (e.prototype.runOneStep = function (t) {
                  var e,
                    n = this,
                    r = n.nodes,
                    i = n.edges,
                    o = [],
                    a = [];
                  if (r) {
                    r.forEach(function (t, e) {
                      (o[2 * e] = 0), (o[2 * e + 1] = 0), (a[2 * e] = 0), (a[2 * e + 1] = 0);
                    }),
                      n.calRepulsive(o, r),
                      i && n.calAttractive(o, i),
                      n.calGravity(o, r);
                    var s = Math.max(0.02, n.interval - 0.002 * t);
                    n.updateVelocity(o, a, s, r);
                    var u = [];
                    return (
                      r.forEach(function (t) {
                        u.push({ x: t.x, y: t.y });
                      }),
                      n.updatePosition(a, s, r),
                      null === (e = n.tick) || void 0 === e || e.call(n),
                      u
                    );
                  }
                }),
                (e.prototype.calRepulsive = function (t, e) {
                  var n = this,
                    r = n.getMass,
                    i = n.factor,
                    o = n.coulombDisScale,
                    a = n.preventOverlap,
                    s = n.collideStrength,
                    u = void 0 === s ? 1 : s,
                    c = n.nodeStrength,
                    l = n.nodeSize;
                  e.forEach(function (n, s) {
                    var h = r ? r(n) : 1;
                    e.forEach(function (e, f) {
                      if (!(s >= f)) {
                        var d = n.x - e.x,
                          p = n.y - e.y;
                        0 === d &&
                          0 === p &&
                          ((d = 0.01 * Math.random()), (p = 0.01 * Math.random()));
                        var g = d * d + p * p,
                          v = Math.sqrt(g),
                          y = (v + 0.1) * o,
                          m = d / v,
                          b = p / v,
                          x = (0.5 * (c(n) + c(e)) * i) / (y * y),
                          _ = r ? r(e) : 1;
                        if (
                          ((t[2 * s] += m * x),
                          (t[2 * s + 1] += b * x),
                          (t[2 * f] -= m * x),
                          (t[2 * f + 1] -= b * x),
                          a && (l(n) + l(e)) / 2 > v)
                        ) {
                          var w = (u * (c(n) + c(e)) * 0.5) / g;
                          (t[2 * s] += (m * w) / h),
                            (t[2 * s + 1] += (b * w) / h),
                            (t[2 * f] -= (m * w) / _),
                            (t[2 * f + 1] -= (b * w) / _);
                        }
                      }
                    });
                  });
                }),
                (e.prototype.calAttractive = function (t, e) {
                  var n = this,
                    r = n.nodeMap,
                    i = n.nodeIdxMap,
                    o = n.linkDistance,
                    s = n.edgeStrength,
                    u = n.nodeSize,
                    c = n.getMass;
                  e.forEach(function (e, n) {
                    var l = (0, a.getEdgeTerminal)(e, 'source'),
                      h = (0, a.getEdgeTerminal)(e, 'target'),
                      f = r[l],
                      d = r[h],
                      p = d.x - f.x,
                      g = d.y - f.y;
                    0 === p && 0 === g && ((p = 0.01 * Math.random()), (g = 0.01 * Math.random()));
                    var v = Math.sqrt(p * p + g * g),
                      y = p / v,
                      m = g / v,
                      b = ((o(e, f, d) || 1 + (u(f) + u(f) || 0) / 2) - v) * s(e),
                      x = i[l],
                      _ = i[h],
                      w = c ? c(f) : 1,
                      E = c ? c(d) : 1;
                    (t[2 * x] -= (y * b) / w),
                      (t[2 * x + 1] -= (m * b) / w),
                      (t[2 * _] += (y * b) / E),
                      (t[2 * _ + 1] += (m * b) / E);
                  });
                }),
                (e.prototype.calGravity = function (t, e) {
                  for (
                    var n = this, r = n.center, i = n.gravity, o = n.degrees, s = e.length, u = 0;
                    u < s;
                    u++
                  ) {
                    var c = e[u],
                      l = c.x - r[0],
                      h = c.y - r[1],
                      f = i;
                    if (n.getCenter) {
                      var d = n.getCenter(c, o[u]);
                      d &&
                        (0, a.isNumber)(d[0]) &&
                        (0, a.isNumber)(d[1]) &&
                        (0, a.isNumber)(d[2]) &&
                        ((l = c.x - d[0]), (h = c.y - d[1]), (f = d[2]));
                    }
                    f && ((t[2 * u] -= f * l), (t[2 * u + 1] -= f * h));
                  }
                }),
                (e.prototype.updateVelocity = function (t, e, n, r) {
                  var i = this,
                    o = n * i.damping;
                  r.forEach(function (n, r) {
                    var a = t[2 * r] * o || 0.01,
                      s = t[2 * r + 1] * o || 0.01,
                      u = Math.sqrt(a * a + s * s);
                    if (u > i.maxSpeed) {
                      var c = i.maxSpeed / u;
                      (a *= c), (s *= c);
                    }
                    (e[2 * r] = a), (e[2 * r + 1] = s);
                  });
                }),
                (e.prototype.updatePosition = function (t, e, n) {
                  n.forEach(function (n, r) {
                    if ((0, a.isNumber)(n.fx) && (0, a.isNumber)(n.fy))
                      return (n.x = n.fx), void (n.y = n.fy);
                    var i = t[2 * r] * e,
                      o = t[2 * r + 1] * e;
                    (n.x += i), (n.y += o);
                  });
                }),
                (e.prototype.stop = function () {
                  this.timeInterval &&
                    'undefined' != typeof window &&
                    window.clearInterval(this.timeInterval);
                }),
                (e.prototype.destroy = function () {
                  var t = this;
                  t.stop(), (t.tick = null), (t.nodes = null), (t.edges = null), (t.destroyed = !0);
                }),
                (e.prototype.getType = function () {
                  return 'gForce';
                }),
                e
              );
            })(o.Base);
          e.GForceLayout = u;
        },
        7745: function (t, e, n) {
          'use strict';
          var r,
            i =
              (this && this.__extends) ||
              ((r = function (t, e) {
                return (
                  (r =
                    Object.setPrototypeOf ||
                    ({ __proto__: [] } instanceof Array &&
                      function (t, e) {
                        t.__proto__ = e;
                      }) ||
                    function (t, e) {
                      for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
                    }),
                  r(t, e)
                );
              }),
              function (t, e) {
                if ('function' != typeof e && null !== e)
                  throw new TypeError(
                    'Class extends value ' + String(e) + ' is not a constructor or null',
                  );
                function n() {
                  this.constructor = t;
                }
                r(t, e),
                  (t.prototype =
                    null === e ? Object.create(e) : ((n.prototype = e.prototype), new n()));
              }),
            o =
              (this && this.__awaiter) ||
              function (t, e, n, r) {
                return new (n || (n = Promise))(function (i, o) {
                  function a(t) {
                    try {
                      u(r.next(t));
                    } catch (t) {
                      o(t);
                    }
                  }
                  function s(t) {
                    try {
                      u(r.throw(t));
                    } catch (t) {
                      o(t);
                    }
                  }
                  function u(t) {
                    var e;
                    t.done
                      ? i(t.value)
                      : ((e = t.value),
                        e instanceof n
                          ? e
                          : new n(function (t) {
                              t(e);
                            })).then(a, s);
                  }
                  u((r = r.apply(t, e || [])).next());
                });
              },
            a =
              (this && this.__generator) ||
              function (t, e) {
                var n,
                  r,
                  i,
                  o,
                  a = {
                    label: 0,
                    sent: function () {
                      if (1 & i[0]) throw i[1];
                      return i[1];
                    },
                    trys: [],
                    ops: [],
                  };
                return (
                  (o = { next: s(0), throw: s(1), return: s(2) }),
                  'function' == typeof Symbol &&
                    (o[Symbol.iterator] = function () {
                      return this;
                    }),
                  o
                );
                function s(o) {
                  return function (s) {
                    return (function (o) {
                      if (n) throw new TypeError('Generator is already executing.');
                      for (; a; )
                        try {
                          if (
                            ((n = 1),
                            r &&
                              (i =
                                2 & o[0]
                                  ? r.return
                                  : o[0]
                                  ? r.throw || ((i = r.return) && i.call(r), 0)
                                  : r.next) &&
                              !(i = i.call(r, o[1])).done)
                          )
                            return i;
                          switch (((r = 0), i && (o = [2 & o[0], i.value]), o[0])) {
                            case 0:
                            case 1:
                              i = o;
                              break;
                            case 4:
                              return a.label++, { value: o[1], done: !1 };
                            case 5:
                              a.label++, (r = o[1]), (o = [0]);
                              continue;
                            case 7:
                              (o = a.ops.pop()), a.trys.pop();
                              continue;
                            default:
                              if (
                                !(
                                  (i = (i = a.trys).length > 0 && i[i.length - 1]) ||
                                  (6 !== o[0] && 2 !== o[0])
                                )
                              ) {
                                a = 0;
                                continue;
                              }
                              if (3 === o[0] && (!i || (o[1] > i[0] && o[1] < i[3]))) {
                                a.label = o[1];
                                break;
                              }
                              if (6 === o[0] && a.label < i[1]) {
                                (a.label = i[1]), (i = o);
                                break;
                              }
                              if (i && a.label < i[2]) {
                                (a.label = i[2]), a.ops.push(o);
                                break;
                              }
                              i[2] && a.ops.pop(), a.trys.pop();
                              continue;
                          }
                          o = e.call(t, a);
                        } catch (t) {
                          (o = [6, t]), (r = 0);
                        } finally {
                          n = i = 0;
                        }
                      if (5 & o[0]) throw o[1];
                      return { value: o[0] ? o[1] : void 0, done: !0 };
                    })([o, s]);
                  };
                }
              };
          Object.defineProperty(e, '__esModule', { value: !0 }), (e.FruchtermanGPULayout = void 0);
          var s = n(2329),
            u = n(9784),
            c = n(3682),
            l = n(8835),
            h = n(8574),
            f = n(6470),
            d = (function (t) {
              function e(e) {
                var n = t.call(this) || this;
                return (
                  (n.maxIteration = 1e3),
                  (n.gravity = 10),
                  (n.speed = 1),
                  (n.clustering = !1),
                  (n.clusterField = 'cluster'),
                  (n.clusterGravity = 10),
                  (n.workerEnabled = !1),
                  (n.nodes = []),
                  (n.edges = []),
                  (n.width = 300),
                  (n.height = 300),
                  (n.nodeMap = {}),
                  (n.nodeIdxMap = {}),
                  n.updateCfg(e),
                  n
                );
              }
              return (
                i(e, t),
                (e.prototype.getDefaultCfg = function () {
                  return {
                    maxIteration: 1e3,
                    gravity: 10,
                    speed: 1,
                    clustering: !1,
                    clusterGravity: 10,
                  };
                }),
                (e.prototype.execute = function () {
                  return o(this, void 0, void 0, function () {
                    var t,
                      e,
                      n,
                      r,
                      i,
                      o = this;
                    return a(this, function (a) {
                      switch (a.label) {
                        case 0:
                          return (e = (t = this).nodes) && 0 !== e.length
                            ? (t.width ||
                                'undefined' == typeof window ||
                                (t.width = window.innerWidth),
                              t.height ||
                                'undefined' == typeof window ||
                                (t.height = window.innerHeight),
                              t.center || (t.center = [t.width / 2, t.height / 2]),
                              (n = t.center),
                              1 === e.length
                                ? ((e[0].x = n[0]),
                                  (e[0].y = n[1]),
                                  t.onLayoutEnd && t.onLayoutEnd(),
                                  [2])
                                : ((r = {}),
                                  (i = {}),
                                  e.forEach(function (t, e) {
                                    (0, u.isNumber)(t.x) || (t.x = Math.random() * o.width),
                                      (0, u.isNumber)(t.y) || (t.y = Math.random() * o.height),
                                      (r[t.id] = t),
                                      (i[t.id] = e);
                                  }),
                                  (t.nodeMap = r),
                                  (t.nodeIdxMap = i),
                                  [4, t.run()]))
                            : (t.onLayoutEnd && t.onLayoutEnd(), [2]);
                        case 1:
                          return a.sent(), [2];
                      }
                    });
                  });
                }),
                (e.prototype.executeWithWorker = function (t, e) {
                  return o(this, void 0, void 0, function () {
                    var n,
                      r,
                      i,
                      o,
                      s,
                      c = this;
                    return a(this, function (a) {
                      switch (a.label) {
                        case 0:
                          return (
                            (r = (n = this).nodes),
                            (i = n.center),
                            r && 0 !== r.length
                              ? 1 === r.length
                                ? ((r[0].x = i[0]), (r[0].y = i[1]), [2])
                                : ((o = {}),
                                  (s = {}),
                                  r.forEach(function (t, e) {
                                    (0, u.isNumber)(t.x) || (t.x = Math.random() * c.width),
                                      (0, u.isNumber)(t.y) || (t.y = Math.random() * c.height),
                                      (o[t.id] = t),
                                      (s[t.id] = e);
                                  }),
                                  (n.nodeMap = o),
                                  (n.nodeIdxMap = s),
                                  [4, n.run(t, e)])
                              : [2]
                          );
                        case 1:
                          return a.sent(), [2];
                      }
                    });
                  });
                }),
                (e.prototype.run = function (t, e) {
                  return o(this, void 0, void 0, function () {
                    var n,
                      r,
                      i,
                      s,
                      d,
                      p,
                      g,
                      v,
                      y,
                      m,
                      b,
                      x,
                      _,
                      w,
                      E,
                      S,
                      M,
                      k,
                      A,
                      C,
                      I,
                      T,
                      N,
                      P,
                      O,
                      D,
                      L = this;
                    return a(this, function (R) {
                      switch (R.label) {
                        case 0:
                          for (
                            r = (n = this).nodes,
                              i = n.edges,
                              s = n.maxIteration,
                              d = n.center,
                              p = n.height * n.width,
                              g = Math.sqrt(p) / 10,
                              v = p / (r.length + 1),
                              y = Math.sqrt(v),
                              m = n.speed,
                              b = n.clustering,
                              x = (0, l.attributesToTextureData)([n.clusterField], r),
                              _ = x.array,
                              w = x.count,
                              r.forEach(function (t, e) {
                                var n = 0,
                                  r = 0;
                                (0, u.isNumber)(t.fx) &&
                                  (0, u.isNumber)(t.fy) &&
                                  ((n = t.fx || 0.001), (r = t.fy || 0.001)),
                                  (_[4 * e + 1] = n),
                                  (_[4 * e + 2] = r);
                              }),
                              E = r.length,
                              S = (0, l.buildTextureData)(r, i),
                              M = S.maxEdgePerVetex,
                              k = S.array,
                              A = n.workerEnabled,
                              C = A
                                ? c.World.create({
                                    canvas: t,
                                    engineOptions: { supportCompute: !0 },
                                  })
                                : c.World.create({ engineOptions: { supportCompute: !0 } }),
                              I = n.onLayoutEnd,
                              T = [],
                              N = 0;
                            N < w;
                            N++
                          )
                            T.push(0, 0, 0, 0);
                          return (
                            (P = C.createKernel(h.fruchtermanBundle)
                              .setDispatch([E, 1, 1])
                              .setBinding({
                                u_Data: k,
                                u_K: y,
                                u_K2: v,
                                u_Gravity: n.gravity,
                                u_ClusterGravity: n.clusterGravity || n.gravity || 1,
                                u_Speed: m,
                                u_MaxDisplace: g,
                                u_Clustering: b ? 1 : 0,
                                u_Center: d,
                                u_AttributeArray: _,
                                u_ClusterCenters: T,
                                MAX_EDGE_PER_VERTEX: M,
                                VERTEX_COUNT: E,
                              })),
                            b &&
                              (O = C.createKernel(h.clusterBundle)
                                .setDispatch([w, 1, 1])
                                .setBinding({
                                  u_Data: k,
                                  u_NodeAttributes: _,
                                  u_ClusterCenters: T,
                                  VERTEX_COUNT: E,
                                  CLUSTER_COUNT: w,
                                })),
                            (D = function () {
                              return o(L, void 0, void 0, function () {
                                var n, i;
                                return a(this, function (o) {
                                  switch (o.label) {
                                    case 0:
                                      (n = 0), (o.label = 1);
                                    case 1:
                                      return n < s ? [4, P.execute()] : [3, 6];
                                    case 2:
                                      return (
                                        o.sent(),
                                        b ? (O.setBinding({ u_Data: P }), [4, O.execute()]) : [3, 4]
                                      );
                                    case 3:
                                      o.sent(),
                                        P.setBinding({ u_ClusterCenters: O }),
                                        (o.label = 4);
                                    case 4:
                                      P.setBinding({ u_MaxDisplace: (g *= 0.99) }), (o.label = 5);
                                    case 5:
                                      return n++, [3, 1];
                                    case 6:
                                      return [4, P.getOutput()];
                                    case 7:
                                      return (
                                        (i = o.sent()),
                                        t
                                          ? e.postMessage({
                                              type: f.LAYOUT_MESSAGE.GPUEND,
                                              vertexEdgeData: i,
                                            })
                                          : r.forEach(function (t, e) {
                                              var n = i[4 * e],
                                                r = i[4 * e + 1];
                                              (t.x = n), (t.y = r);
                                            }),
                                        I && I(),
                                        [2]
                                      );
                                  }
                                });
                              });
                            }),
                            [4, D()]
                          );
                        case 1:
                          return R.sent(), [2];
                      }
                    });
                  });
                }),
                (e.prototype.getType = function () {
                  return 'fruchterman-gpu';
                }),
                e
              );
            })(s.Base);
          e.FruchtermanGPULayout = d;
        },
        8574: (t, e) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }),
            (e.clusterBundle = e.clusterCode = e.fruchtermanBundle = e.fruchtermanCode = void 0),
            (e.fruchtermanCode =
              "\nimport { globalInvocationID } from 'g-webgpu';\nconst MAX_EDGE_PER_VERTEX;\nconst VERTEX_COUNT;\n@numthreads(1, 1, 1)\nclass Fruchterman {\n  @in @out\n  u_Data: vec4[];\n  @in\n  u_K: float;\n  @in\n  u_K2: float;\n  \n  @in\n  u_Center: vec2;\n  @in\n  u_Gravity: float;\n  @in\n  u_ClusterGravity: float;\n  @in\n  u_Speed: float;\n  @in\n  u_MaxDisplace: float;\n  @in\n  u_Clustering: float;\n  @in\n  u_AttributeArray: vec4[];\n  @in\n  u_ClusterCenters: vec4[];\n  calcRepulsive(i: int, currentNode: vec4): vec2 {\n    let dx = 0, dy = 0;\n    for (let j = 0; j < VERTEX_COUNT; j++) {\n      if (i != j) {\n        const nextNode = this.u_Data[j];\n        const xDist = currentNode[0] - nextNode[0];\n        const yDist = currentNode[1] - nextNode[1];\n        const dist = (xDist * xDist + yDist * yDist) + 0.01;\n        let param = this.u_K2 / dist;\n        \n        if (dist > 0.0) {\n          dx += param * xDist;\n          dy += param * yDist;\n          if (xDist == 0 && yDist == 0) {\n            const sign = i < j ? 1 : -1;\n            dx += param * sign;\n            dy += param * sign;\n          }\n        }\n      }\n    }\n    return [dx, dy];\n  }\n  calcGravity(currentNode: vec4, nodeAttributes: vec4): vec2 { // \n    let dx = 0, dy = 0;\n    const vx = currentNode[0] - this.u_Center[0];\n    const vy = currentNode[1] - this.u_Center[1];\n    const gf = 0.01 * this.u_K * this.u_Gravity;\n    dx = gf * vx;\n    dy = gf * vy;\n    if (this.u_Clustering == 1) {\n      const clusterIdx = int(nodeAttributes[0]);\n      const center = this.u_ClusterCenters[clusterIdx];\n      const cvx = currentNode[0] - center[0];\n      const cvy = currentNode[1] - center[1];\n      const dist = sqrt(cvx * cvx + cvy * cvy) + 0.01;\n      const parma = this.u_K * this.u_ClusterGravity / dist;\n      dx += parma * cvx;\n      dy += parma * cvy;\n    }\n    return [dx, dy];\n  }\n  calcAttractive(i: int, currentNode: vec4): vec2 {\n    let dx = 0, dy = 0;\n    const arr_offset = int(floor(currentNode[2] + 0.5));\n    const length = int(floor(currentNode[3] + 0.5));\n    const node_buffer: vec4;\n    for (let p = 0; p < MAX_EDGE_PER_VERTEX; p++) {\n      if (p >= length) break;\n      const arr_idx = arr_offset + p;\n      // when arr_idx % 4 == 0 update currentNodedx_buffer\n      const buf_offset = arr_idx - arr_idx / 4 * 4;\n      if (p == 0 || buf_offset == 0) {\n        node_buffer = this.u_Data[int(arr_idx / 4)];\n      }\n      const float_j = buf_offset == 0 ? node_buffer[0] :\n                      buf_offset == 1 ? node_buffer[1] :\n                      buf_offset == 2 ? node_buffer[2] :\n                                        node_buffer[3];\n      const nextNode = this.u_Data[int(float_j)];\n      const xDist = currentNode[0] - nextNode[0];\n      const yDist = currentNode[1] - nextNode[1];\n      const dist = sqrt(xDist * xDist + yDist * yDist) + 0.01;\n      let attractiveF = dist / this.u_K;\n    \n      if (dist > 0.0) {\n        dx -= xDist * attractiveF;\n        dy -= yDist * attractiveF;\n        if (xDist == 0 && yDist == 0) {\n          const sign = i < int(float_j) ? 1 : -1;\n          dx -= sign * attractiveF;\n          dy -= sign * attractiveF;\n        }\n      }\n    }\n    return [dx, dy];\n  }\n  @main\n  compute() {\n    const i = globalInvocationID.x;\n    const currentNode = this.u_Data[i];\n    let dx = 0, dy = 0;\n    if (i >= VERTEX_COUNT) {\n      this.u_Data[i] = currentNode;\n      return;\n    }\n\n    // [gravity, fx, fy, 0]\n    const nodeAttributes = this.u_AttributeArray[i];\n\n    if (nodeAttributes[1] != 0 && nodeAttributes[2] != 0) {\n      // the node is fixed\n      this.u_Data[i] = [\n        nodeAttributes[1],\n        nodeAttributes[2],\n        currentNode[2],\n        currentNode[3]\n      ];\n      return;\n    }\n\n    // repulsive\n    const repulsive = this.calcRepulsive(i, currentNode);\n    dx += repulsive[0];\n    dy += repulsive[1];\n    // attractive\n    const attractive = this.calcAttractive(i, currentNode);\n    dx += attractive[0];\n    dy += attractive[1];\n    // gravity\n    const gravity = this.calcGravity(currentNode, nodeAttributes);\n    dx -= gravity[0];\n    dy -= gravity[1];\n    // speed\n    dx *= this.u_Speed;\n    dy *= this.u_Speed;\n\n    // move\n    const distLength = sqrt(dx * dx + dy * dy);\n    if (distLength > 0.0) {\n      const limitedDist = min(this.u_MaxDisplace * this.u_Speed, distLength);\n      this.u_Data[i] = [\n        currentNode[0] + dx / distLength * limitedDist,\n        currentNode[1] + dy / distLength * limitedDist,\n        currentNode[2],\n        currentNode[3]\n      ];\n    }\n  }\n}\n"),
            (e.fruchtermanBundle =
              '{"shaders":{"WGSL":"import \\"GLSL.std.450\\" as std;\\n\\n\\n# var gWebGPUDebug : bool = false;\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\n\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\n\\ntype GWebGPUParams = [[block]] struct {\\n  [[offset 0]] u_K : f32;\\n  [[offset 4]] u_K2 : f32;\\n  [[offset 8]] u_Center : vec2<f32>;\\n  [[offset 16]] u_Gravity : f32;\\n  [[offset 20]] u_ClusterGravity : f32;\\n  [[offset 24]] u_Speed : f32;\\n  [[offset 28]] u_MaxDisplace : f32;\\n  [[offset 32]] u_Clustering : f32;\\n};\\n[[binding 0, set 0]] var<uniform> gWebGPUUniformParams : GWebGPUParams;\\ntype GWebGPUBuffer0 = [[block]] struct {\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\ntype GWebGPUBuffer1 = [[block]] struct {\\n  [[offset 0]] u_AttributeArray : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\ntype GWebGPUBuffer2 = [[block]] struct {\\n  [[offset 0]] u_ClusterCenters : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 3, set 0]] var<storage_buffer> gWebGPUBuffer2 : GWebGPUBuffer2;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nfn calcRepulsive(i : i32, currentNode : vec4<f32>) -> vec2<f32> {var dx : f32 = 0.0;\\nvar dy : f32 = 0.0;\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {if (i != j) {var nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\nvar xDist : f32 = currentNode.x - nextNode.x;\\nvar yDist : f32 = currentNode.y - nextNode.y;\\nvar dist : f32 = ((xDist * xDist) + (yDist * yDist)) + 0.01;\\nvar param : f32 = gWebGPUUniformParams.u_K2 / dist;\\nif (dist > 0.0) {dx = dx + param * xDist;\\ndy = dy + param * yDist;\\nif ((xDist == 0.0) && (yDist == 0.0)) {var sign : f32 = select(1.0, -1.0, i < j);\\ndx = dx + param * std::sign;\\ndy = dy + param * std::sign;}}}}\\nreturn vec2<f32>(dx, dy);}\\nfn calcGravity(currentNode : vec4<f32>, nodeAttributes : vec4<f32>) -> vec2<f32> {var dx : f32 = 0.0;\\nvar dy : f32 = 0.0;\\nvar vx : f32 = currentNode.x - gWebGPUUniformParams.u_Center.x;\\nvar vy : f32 = currentNode.y - gWebGPUUniformParams.u_Center.y;\\nvar gf : f32 = (0.01 * gWebGPUUniformParams.u_K) * gWebGPUUniformParams.u_Gravity;\\ndx = gf * vx;\\ndy = gf * vy;\\nif (gWebGPUUniformParams.u_Clustering == 1.0) {var clusterIdx : i32 = i32(nodeAttributes.x);\\nvar center : vec4<f32> = gWebGPUBuffer2.u_ClusterCenters[clusterIdx];\\nvar cvx : f32 = currentNode.x - center.x;\\nvar cvy : f32 = currentNode.y - center.y;\\nvar dist : f32 = std::sqrt((cvx * cvx) + (cvy * cvy)) + 0.01;\\nvar parma : f32 = (gWebGPUUniformParams.u_K * gWebGPUUniformParams.u_ClusterGravity) / dist;\\ndx = dx + parma * cvx;\\ndy = dy + parma * cvy;}\\nreturn vec2<f32>(dx, dy);}\\nfn calcAttractive(i : i32, currentNode : vec4<f32>) -> vec2<f32> {var dx : f32 = 0.0;\\nvar dy : f32 = 0.0;\\nvar arr_offset : i32 = i32(std::floor(currentNode.z + 0.5));\\nvar length : i32 = i32(std::floor(currentNode.w + 0.5));\\nvar node_buffer : vec4<f32>;\\nfor (var p : i32 = 0; p < __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX; p = p + 1) {if (p >= length) {break;}\\nvar arr_idx : i32 = arr_offset + i32(p);\\nvar buf_offset : i32 = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[i32(arr_idx / 4)];}\\nvar float_j : f32 = select(node_buffer.x, select(node_buffer.y, select(node_buffer.z, node_buffer.w, buf_offset == 2), buf_offset == 1), buf_offset == 0);\\nvar nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[i32(float_j)];\\nvar xDist : f32 = currentNode.x - nextNode.x;\\nvar yDist : f32 = currentNode.y - nextNode.y;\\nvar dist : f32 = std::sqrt((xDist * xDist) + (yDist * yDist)) + 0.01;\\nvar attractiveF : f32 = dist / gWebGPUUniformParams.u_K;\\nif (dist > 0.0) {dx = dx - xDist * attractiveF;\\ndy = dy - yDist * attractiveF;\\nif ((xDist == 0.0) && (yDist == 0.0)) {var sign : f32 = select(1.0, -1.0, i < i32(float_j));\\ndx = dx - std::sign * attractiveF;\\ndy = dy - std::sign * attractiveF;}}}\\nreturn vec2<f32>(dx, dy);}\\nfn main() -> void {var i : i32 = globalInvocationID.x;\\nvar currentNode : vec4<f32> = gWebGPUBuffer0.u_Data[i];\\nvar dx : f32 = 0.0;\\nvar dy : f32 = 0.0;\\nif (i >= __DefineValuePlaceholder__VERTEX_COUNT) {gWebGPUBuffer0.u_Data[i] = currentNode;\\nreturn ;}\\nvar nodeAttributes : vec4<f32> = gWebGPUBuffer1.u_AttributeArray[i];\\nif ((nodeAttributes.y != 0.0) && (nodeAttributes.z != 0.0)) {gWebGPUBuffer0.u_Data[i] = vec4<f32>(nodeAttributes.y, nodeAttributes.z, currentNode.z, currentNode.w);\\nreturn ;}\\nvar repulsive : vec2<f32> = calcRepulsive(i, currentNode);\\ndx = dx + repulsive.x;\\ndy = dy + repulsive.y;\\nvar attractive : vec2<f32> = calcAttractive(i, currentNode);\\ndx = dx + attractive.x;\\ndy = dy + attractive.y;\\nvar gravity : vec2<f32> = calcGravity(currentNode, nodeAttributes);\\ndx = dx - gravity.x;\\ndy = dy - gravity.y;\\ndx = dx * gWebGPUUniformParams.u_Speed;\\ndy = dy * gWebGPUUniformParams.u_Speed;\\nvar distLength : f32 = std::sqrt((dx * dx) + (dy * dy));\\nif (distLength > 0.0) {var limitedDist : f32 = std::min(gWebGPUUniformParams.u_MaxDisplace * gWebGPUUniformParams.u_Speed, distLength);\\ngWebGPUBuffer0.u_Data[i] = vec4<f32>(currentNode.x + ((dx / distLength) * limitedDist), currentNode.y + ((dy / distLength) * limitedDist), currentNode.z, currentNode.w);}\\nreturn;}\\n\\nentry_point compute as \\"main\\" = main;\\n","GLSL450":"\\n\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\nivec3 workGroupSize = ivec3(1,1,1);\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\n\\nlayout(std140, set = 0, binding = 0) uniform GWebGPUParams {\\n  float u_K;\\n  float u_K2;\\n  vec2 u_Center;\\n  float u_Gravity;\\n  float u_ClusterGravity;\\n  float u_Speed;\\n  float u_MaxDisplace;\\n  float u_Clustering;\\n} gWebGPUUniformParams;\\nlayout(std430, set = 0, binding = 1) buffer   GWebGPUBuffer0 {\\n  vec4 u_Data[];\\n} gWebGPUBuffer0;\\n\\nlayout(std430, set = 0, binding = 2) buffer readonly  GWebGPUBuffer1 {\\n  vec4 u_AttributeArray[];\\n} gWebGPUBuffer1;\\n\\nlayout(std430, set = 0, binding = 3) buffer readonly  GWebGPUBuffer2 {\\n  vec4 u_ClusterCenters[];\\n} gWebGPUBuffer2;\\n\\n\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\nlayout (\\n  local_size_x = 1,\\n  local_size_y = 1,\\n  local_size_z = 1\\n) in;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nvec2 calcRepulsive(int i, vec4 currentNode) {float dx = 0.0;\\nfloat dy = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = gWebGPUBuffer0.u_Data[j];\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = ((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat param = gWebGPUUniformParams.u_K2 / dist;\\nif (dist > 0.0) {dx += param * xDist;\\ndy += param * yDist;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < j) ? (1.0) : (-1.0);\\ndx += param * sign;\\ndy += param * sign;}}}}\\nreturn vec2(dx, dy);}\\nvec2 calcGravity(vec4 currentNode, vec4 nodeAttributes) {float dx = 0.0;\\nfloat dy = 0.0;\\nfloat vx = currentNode.x - gWebGPUUniformParams.u_Center.x;\\nfloat vy = currentNode.y - gWebGPUUniformParams.u_Center.y;\\nfloat gf = (0.01 * gWebGPUUniformParams.u_K) * gWebGPUUniformParams.u_Gravity;\\ndx = gf * vx;\\ndy = gf * vy;\\nif (gWebGPUUniformParams.u_Clustering == 1.0) {int clusterIdx = int(nodeAttributes.x);\\nvec4 center = gWebGPUBuffer2.u_ClusterCenters[clusterIdx];\\nfloat cvx = currentNode.x - center.x;\\nfloat cvy = currentNode.y - center.y;\\nfloat dist = sqrt((cvx * cvx) + (cvy * cvy)) + 0.01;\\nfloat parma = (gWebGPUUniformParams.u_K * gWebGPUUniformParams.u_ClusterGravity) / dist;\\ndx += parma * cvx;\\ndy += parma * cvy;}\\nreturn vec2(dx, dy);}\\nvec2 calcAttractive(int i, vec4 currentNode) {float dx = 0.0;\\nfloat dy = 0.0;\\nint arr_offset = int(floor(currentNode.z + 0.5));\\nint length = int(floor(currentNode.w + 0.5));\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + int(p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[int(arr_idx / 4)];}\\nfloat float_j = (buf_offset == 0) ? (node_buffer.x) : ((buf_offset == 1) ? (node_buffer.y) : ((buf_offset == 2) ? (node_buffer.z) : (node_buffer.w)));\\nvec4 nextNode = gWebGPUBuffer0.u_Data[int(float_j)];\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = sqrt((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat attractiveF = dist / gWebGPUUniformParams.u_K;\\nif (dist > 0.0) {dx -= xDist * attractiveF;\\ndy -= yDist * attractiveF;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < int(float_j)) ? (1.0) : (-1.0);\\ndx -= sign * attractiveF;\\ndy -= sign * attractiveF;}}}\\nreturn vec2(dx, dy);}\\nvoid main() {int i = globalInvocationID.x;\\nvec4 currentNode = gWebGPUBuffer0.u_Data[i];\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nif (i >= VERTEX_COUNT) {gWebGPUBuffer0.u_Data[i] = currentNode;\\nreturn ;}\\nvec4 nodeAttributes = gWebGPUBuffer1.u_AttributeArray[i];\\nif ((nodeAttributes.y != 0.0) && (nodeAttributes.z != 0.0)) {gWebGPUBuffer0.u_Data[i] = vec4(nodeAttributes.y, nodeAttributes.z, currentNode.z, currentNode.w);\\nreturn ;}\\nvec2 repulsive = calcRepulsive(i, currentNode);\\ndx += repulsive.x;\\ndy += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode);\\ndx += attractive.x;\\ndy += attractive.y;\\nvec2 gravity = calcGravity(currentNode, nodeAttributes);\\ndx -= gravity.x;\\ndy -= gravity.y;\\ndx *= gWebGPUUniformParams.u_Speed;\\ndy *= gWebGPUUniformParams.u_Speed;\\nfloat distLength = sqrt((dx * dx) + (dy * dy));\\nif (distLength > 0.0) {float limitedDist = min(gWebGPUUniformParams.u_MaxDisplace * gWebGPUUniformParams.u_Speed, distLength);\\ngWebGPUBuffer0.u_Data[i] = vec4(currentNode.x + ((dx / distLength) * limitedDist), currentNode.y + ((dy / distLength) * limitedDist), currentNode.z, currentNode.w);}}\\n","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform float u_K;\\nuniform float u_K2;\\nuniform vec2 u_Center;\\nuniform float u_Gravity;\\nuniform float u_ClusterGravity;\\nuniform float u_Speed;\\nuniform float u_MaxDisplace;\\nuniform float u_Clustering;\\nuniform sampler2D u_AttributeArray;\\nuniform vec2 u_AttributeArraySize;\\nvec4 getDatau_AttributeArray(vec2 address2D) {\\n  return vec4(texture2D(u_AttributeArray, address2D).rgba);\\n}\\nvec4 getDatau_AttributeArray(float address1D) {\\n  return getDatau_AttributeArray(addrTranslation_1Dto2D(address1D, u_AttributeArraySize));\\n}\\nvec4 getDatau_AttributeArray(int address1D) {\\n  return getDatau_AttributeArray(float(address1D));\\n}\\nuniform sampler2D u_ClusterCenters;\\nuniform vec2 u_ClusterCentersSize;\\nvec4 getDatau_ClusterCenters(vec2 address2D) {\\n  return vec4(texture2D(u_ClusterCenters, address2D).rgba);\\n}\\nvec4 getDatau_ClusterCenters(float address1D) {\\n  return getDatau_ClusterCenters(addrTranslation_1Dto2D(address1D, u_ClusterCentersSize));\\n}\\nvec4 getDatau_ClusterCenters(int address1D) {\\n  return getDatau_ClusterCenters(float(address1D));\\n}\\nvec2 calcRepulsive(int i, vec4 currentNode) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = getDatau_Data(j);\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = ((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat param = u_K2 / dist;\\nif (dist > 0.0) {dx += param * xDist;\\ndy += param * yDist;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < j) ? (1.0) : (-1.0);\\ndx += param * sign;\\ndy += param * sign;}}}}\\nreturn vec2(dx, dy);}\\nvec2 calcGravity(vec4 currentNode, vec4 nodeAttributes) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nfloat vx = currentNode.x - u_Center.x;\\nfloat vy = currentNode.y - u_Center.y;\\nfloat gf = (0.01 * u_K) * u_Gravity;\\ndx = gf * vx;\\ndy = gf * vy;\\nif (u_Clustering == 1.0) {int clusterIdx = int(nodeAttributes.x);\\nvec4 center = getDatau_ClusterCenters(clusterIdx);\\nfloat cvx = currentNode.x - center.x;\\nfloat cvy = currentNode.y - center.y;\\nfloat dist = sqrt((cvx * cvx) + (cvy * cvy)) + 0.01;\\nfloat parma = (u_K * u_ClusterGravity) / dist;\\ndx += parma * cvx;\\ndy += parma * cvy;}\\nreturn vec2(dx, dy);}\\nvec2 calcAttractive(int i, vec4 currentNode) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nint arr_offset = int(floor(currentNode.z + 0.5));\\nint length = int(floor(currentNode.w + 0.5));\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + int(p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = getDatau_Data(int(arr_idx / 4));}\\nfloat float_j = (buf_offset == 0) ? (node_buffer.x) : ((buf_offset == 1) ? (node_buffer.y) : ((buf_offset == 2) ? (node_buffer.z) : (node_buffer.w)));\\nvec4 nextNode = getDatau_Data(int(float_j));\\nfloat xDist = currentNode.x - nextNode.x;\\nfloat yDist = currentNode.y - nextNode.y;\\nfloat dist = sqrt((xDist * xDist) + (yDist * yDist)) + 0.01;\\nfloat attractiveF = dist / u_K;\\nif (dist > 0.0) {dx -= xDist * attractiveF;\\ndy -= yDist * attractiveF;\\nif ((xDist == 0.0) && (yDist == 0.0)) {float sign = (i < int(float_j)) ? (1.0) : (-1.0);\\ndx -= sign * attractiveF;\\ndy -= sign * attractiveF;}}}\\nreturn vec2(dx, dy);}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint i = globalInvocationID.x;\\nvec4 currentNode = getDatau_Data(i);\\nfloat dx = 0.0;\\nfloat dy = 0.0;\\nif (i >= VERTEX_COUNT) {gl_FragColor = vec4(currentNode);\\nreturn ;}\\nvec4 nodeAttributes = getDatau_AttributeArray(i);\\nif ((nodeAttributes.y != 0.0) && (nodeAttributes.z != 0.0)) {gl_FragColor = vec4(vec4(nodeAttributes.y, nodeAttributes.z, currentNode.z, currentNode.w));\\nreturn ;}\\nvec2 repulsive = calcRepulsive(i, currentNode);\\ndx += repulsive.x;\\ndy += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode);\\ndx += attractive.x;\\ndy += attractive.y;\\nvec2 gravity = calcGravity(currentNode, nodeAttributes);\\ndx -= gravity.x;\\ndy -= gravity.y;\\ndx *= u_Speed;\\ndy *= u_Speed;\\nfloat distLength = sqrt((dx * dx) + (dy * dy));\\nif (distLength > 0.0) {float limitedDist = min(u_MaxDisplace * u_Speed, distLength);\\ngl_FragColor = vec4(vec4(currentNode.x + ((dx / distLength) * limitedDist), currentNode.y + ((dy / distLength) * limitedDist), currentNode.z, currentNode.w));}if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"MAX_EDGE_PER_VERTEX","type":"Float","runtime":true},{"name":"VERTEX_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]},{"name":"u_K","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_K2","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Center","type":"vec2<f32>","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Gravity","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterGravity","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Speed","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_MaxDisplace","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_Clustering","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AttributeArray","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterCenters","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_Data","size":[1,1],"length":1},"needPingpong":true}}'),
            (e.clusterCode =
              "\nimport { globalInvocationID } from 'g-webgpu';\nconst VERTEX_COUNT;\nconst CLUSTER_COUNT;\n@numthreads(1, 1, 1)\nclass CalcCenter {\n  @in\n  u_Data: vec4[];\n  @in\n  u_NodeAttributes: vec4[]; // [[clusterIdx, 0, 0, 0], ...]\n  @in @out\n  u_ClusterCenters: vec4[]; // [[cx, cy, nodeCount, clusterIdx], ...]\n  @main\n  compute() {\n    const i = globalInvocationID.x;\n    const center = this.u_ClusterCenters[i];\n    let sumx = 0;\n    let sumy = 0;\n    let count = 0;\n    for (let j = 0; j < VERTEX_COUNT; j++) {\n      const attributes = this.u_NodeAttributes[j];\n      const clusterIdx = int(attributes[0]);\n      const vertex = this.u_Data[j];\n      if (clusterIdx == i) {\n        sumx += vertex.x;\n        sumy += vertex.y;\n        count += 1;\n      }\n    }\n    this.u_ClusterCenters[i] = [\n      sumx / count,\n      sumy / count,\n      count,\n      i\n    ];\n  }\n}\n"),
            (e.clusterBundle =
              '{"shaders":{"WGSL":"import \\"GLSL.std.450\\" as std;\\n\\n\\n# var gWebGPUDebug : bool = false;\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\n\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\n\\n\\ntype GWebGPUBuffer0 = [[block]] struct {\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 0, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\ntype GWebGPUBuffer1 = [[block]] struct {\\n  [[offset 0]] u_NodeAttributes : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\ntype GWebGPUBuffer2 = [[block]] struct {\\n  [[offset 0]] u_ClusterCenters : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer2 : GWebGPUBuffer2;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nfn main() -> void {var i : i32 = globalInvocationID.x;\\nvar center : vec4<f32> = gWebGPUBuffer2.u_ClusterCenters[i];\\nvar sumx : f32 = 0.0;\\nvar sumy : f32 = 0.0;\\nvar count : f32 = 0.0;\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {var attributes : vec4<f32> = gWebGPUBuffer1.u_NodeAttributes[j];\\nvar clusterIdx : i32 = i32(attributes.x);\\nvar vertex : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\nif (clusterIdx == i) {sumx = sumx + vertex.x;\\nsumy = sumy + vertex.y;\\ncount = count + 1.0;}}\\ngWebGPUBuffer2.u_ClusterCenters[i] = vec4<f32>(sumx / count, sumy / count, count, i);\\nreturn;}\\n\\nentry_point compute as \\"main\\" = main;\\n","GLSL450":"\\n\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\nivec3 workGroupSize = ivec3(1,1,1);\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\n\\n\\nlayout(std430, set = 0, binding = 0) buffer readonly  GWebGPUBuffer0 {\\n  vec4 u_Data[];\\n} gWebGPUBuffer0;\\n\\nlayout(std430, set = 0, binding = 1) buffer readonly  GWebGPUBuffer1 {\\n  vec4 u_NodeAttributes[];\\n} gWebGPUBuffer1;\\n\\nlayout(std430, set = 0, binding = 2) buffer   GWebGPUBuffer2 {\\n  vec4 u_ClusterCenters[];\\n} gWebGPUBuffer2;\\n\\n\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define CLUSTER_COUNT __DefineValuePlaceholder__CLUSTER_COUNT\\nlayout (\\n  local_size_x = 1,\\n  local_size_y = 1,\\n  local_size_z = 1\\n) in;\\n\\n\\n\\nvoid main() {int i = globalInvocationID.x;\\nvec4 center = gWebGPUBuffer2.u_ClusterCenters[i];\\nfloat sumx = 0.0;\\nfloat sumy = 0.0;\\nfloat count = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 attributes = gWebGPUBuffer1.u_NodeAttributes[j];\\nint clusterIdx = int(attributes.x);\\nvec4 vertex = gWebGPUBuffer0.u_Data[j];\\nif (clusterIdx == i) {sumx += vertex.x;\\nsumy += vertex.y;\\ncount += 1.0;}}\\ngWebGPUBuffer2.u_ClusterCenters[i] = vec4(sumx / count, sumy / count, count, i);}\\n","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define CLUSTER_COUNT __DefineValuePlaceholder__CLUSTER_COUNT\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform sampler2D u_NodeAttributes;\\nuniform vec2 u_NodeAttributesSize;\\nvec4 getDatau_NodeAttributes(vec2 address2D) {\\n  return vec4(texture2D(u_NodeAttributes, address2D).rgba);\\n}\\nvec4 getDatau_NodeAttributes(float address1D) {\\n  return getDatau_NodeAttributes(addrTranslation_1Dto2D(address1D, u_NodeAttributesSize));\\n}\\nvec4 getDatau_NodeAttributes(int address1D) {\\n  return getDatau_NodeAttributes(float(address1D));\\n}\\nuniform sampler2D u_ClusterCenters;\\nuniform vec2 u_ClusterCentersSize;\\nvec4 getDatau_ClusterCenters(vec2 address2D) {\\n  return vec4(texture2D(u_ClusterCenters, address2D).rgba);\\n}\\nvec4 getDatau_ClusterCenters(float address1D) {\\n  return getDatau_ClusterCenters(addrTranslation_1Dto2D(address1D, u_ClusterCentersSize));\\n}\\nvec4 getDatau_ClusterCenters(int address1D) {\\n  return getDatau_ClusterCenters(float(address1D));\\n}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint i = globalInvocationID.x;\\nvec4 center = getDatau_ClusterCenters(i);\\nfloat sumx = 0.0;\\nfloat sumy = 0.0;\\nfloat count = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 attributes = getDatau_NodeAttributes(j);\\nint clusterIdx = int(attributes.x);\\nvec4 vertex = getDatau_Data(j);\\nif (clusterIdx == i) {sumx += vertex.x;\\nsumy += vertex.y;\\ncount += 1.0;}}\\ngl_FragColor = vec4(vec4(sumx / count, sumy / count, count, i));if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"VERTEX_COUNT","type":"Float","runtime":true},{"name":"CLUSTER_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributes","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_ClusterCenters","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_ClusterCenters","size":[1,1],"length":1},"needPingpong":true}}');
        },
        5194: function (t, e, n) {
          'use strict';
          var r,
            i =
              (this && this.__extends) ||
              ((r = function (t, e) {
                return (
                  (r =
                    Object.setPrototypeOf ||
                    ({ __proto__: [] } instanceof Array &&
                      function (t, e) {
                        t.__proto__ = e;
                      }) ||
                    function (t, e) {
                      for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
                    }),
                  r(t, e)
                );
              }),
              function (t, e) {
                if ('function' != typeof e && null !== e)
                  throw new TypeError(
                    'Class extends value ' + String(e) + ' is not a constructor or null',
                  );
                function n() {
                  this.constructor = t;
                }
                r(t, e),
                  (t.prototype =
                    null === e ? Object.create(e) : ((n.prototype = e.prototype), new n()));
              }),
            o =
              (this && this.__awaiter) ||
              function (t, e, n, r) {
                return new (n || (n = Promise))(function (i, o) {
                  function a(t) {
                    try {
                      u(r.next(t));
                    } catch (t) {
                      o(t);
                    }
                  }
                  function s(t) {
                    try {
                      u(r.throw(t));
                    } catch (t) {
                      o(t);
                    }
                  }
                  function u(t) {
                    var e;
                    t.done
                      ? i(t.value)
                      : ((e = t.value),
                        e instanceof n
                          ? e
                          : new n(function (t) {
                              t(e);
                            })).then(a, s);
                  }
                  u((r = r.apply(t, e || [])).next());
                });
              },
            a =
              (this && this.__generator) ||
              function (t, e) {
                var n,
                  r,
                  i,
                  o,
                  a = {
                    label: 0,
                    sent: function () {
                      if (1 & i[0]) throw i[1];
                      return i[1];
                    },
                    trys: [],
                    ops: [],
                  };
                return (
                  (o = { next: s(0), throw: s(1), return: s(2) }),
                  'function' == typeof Symbol &&
                    (o[Symbol.iterator] = function () {
                      return this;
                    }),
                  o
                );
                function s(o) {
                  return function (s) {
                    return (function (o) {
                      if (n) throw new TypeError('Generator is already executing.');
                      for (; a; )
                        try {
                          if (
                            ((n = 1),
                            r &&
                              (i =
                                2 & o[0]
                                  ? r.return
                                  : o[0]
                                  ? r.throw || ((i = r.return) && i.call(r), 0)
                                  : r.next) &&
                              !(i = i.call(r, o[1])).done)
                          )
                            return i;
                          switch (((r = 0), i && (o = [2 & o[0], i.value]), o[0])) {
                            case 0:
                            case 1:
                              i = o;
                              break;
                            case 4:
                              return a.label++, { value: o[1], done: !1 };
                            case 5:
                              a.label++, (r = o[1]), (o = [0]);
                              continue;
                            case 7:
                              (o = a.ops.pop()), a.trys.pop();
                              continue;
                            default:
                              if (
                                !(
                                  (i = (i = a.trys).length > 0 && i[i.length - 1]) ||
                                  (6 !== o[0] && 2 !== o[0])
                                )
                              ) {
                                a = 0;
                                continue;
                              }
                              if (3 === o[0] && (!i || (o[1] > i[0] && o[1] < i[3]))) {
                                a.label = o[1];
                                break;
                              }
                              if (6 === o[0] && a.label < i[1]) {
                                (a.label = i[1]), (i = o);
                                break;
                              }
                              if (i && a.label < i[2]) {
                                (a.label = i[2]), a.ops.push(o);
                                break;
                              }
                              i[2] && a.ops.pop(), a.trys.pop();
                              continue;
                          }
                          o = e.call(t, a);
                        } catch (t) {
                          (o = [6, t]), (r = 0);
                        } finally {
                          n = i = 0;
                        }
                      if (5 & o[0]) throw o[1];
                      return { value: o[0] ? o[1] : void 0, done: !0 };
                    })([o, s]);
                  };
                }
              };
          Object.defineProperty(e, '__esModule', { value: !0 }), (e.GForceGPULayout = void 0);
          var s = n(2329),
            u = n(9784),
            c = n(3682),
            l = n(8835),
            h = n(628),
            f = n(9762),
            d = n(6470),
            p = (function (t) {
              function e(e) {
                var n = t.call(this) || this;
                return (
                  (n.maxIteration = 1e3),
                  (n.edgeStrength = 200),
                  (n.nodeStrength = 1e3),
                  (n.coulombDisScale = 0.005),
                  (n.damping = 0.9),
                  (n.maxSpeed = 1e3),
                  (n.minMovement = 0.5),
                  (n.interval = 0.02),
                  (n.factor = 1),
                  (n.linkDistance = 1),
                  (n.gravity = 10),
                  (n.workerEnabled = !1),
                  (n.nodes = []),
                  (n.edges = []),
                  (n.width = 300),
                  (n.height = 300),
                  (n.nodeMap = {}),
                  (n.nodeIdxMap = {}),
                  n.updateCfg(e),
                  n
                );
              }
              return (
                i(e, t),
                (e.prototype.getDefaultCfg = function () {
                  return { maxIteration: 2e3, gravity: 10, clustering: !1, clusterGravity: 10 };
                }),
                (e.prototype.execute = function () {
                  return o(this, void 0, void 0, function () {
                    var t, e, n, r, i;
                    return a(this, function (o) {
                      switch (o.label) {
                        case 0:
                          return (e = (t = this).nodes) && 0 !== e.length
                            ? (t.width ||
                                'undefined' == typeof window ||
                                (t.width = window.innerWidth),
                              t.height ||
                                'undefined' == typeof window ||
                                (t.height = window.innerHeight),
                              t.center || (t.center = [t.width / 2, t.height / 2]),
                              (n = t.center),
                              1 === e.length
                                ? ((e[0].x = n[0]),
                                  (e[0].y = n[1]),
                                  t.onLayoutEnd && t.onLayoutEnd(),
                                  [2])
                                : ((r = {}),
                                  (i = {}),
                                  e.forEach(function (e, n) {
                                    (0, u.isNumber)(e.x) || (e.x = Math.random() * t.width),
                                      (0, u.isNumber)(e.y) || (e.y = Math.random() * t.height),
                                      (r[e.id] = e),
                                      (i[e.id] = n);
                                  }),
                                  (t.nodeMap = r),
                                  (t.nodeIdxMap = i),
                                  (t.nodeStrength = (0, l.proccessToFunc)(t.nodeStrength, 1)),
                                  (t.edgeStrength = (0, l.proccessToFunc)(t.edgeStrength, 1)),
                                  [4, t.run()]))
                            : (t.onLayoutEnd && t.onLayoutEnd(), [2]);
                        case 1:
                          return o.sent(), [2];
                      }
                    });
                  });
                }),
                (e.prototype.executeWithWorker = function (t, e) {
                  var n = this,
                    r = n.nodes,
                    i = n.center;
                  if (r && 0 !== r.length) {
                    if (1 === r.length) return (r[0].x = i[0]), void (r[0].y = i[1]);
                    var o = {},
                      a = {};
                    r.forEach(function (t, e) {
                      (0, u.isNumber)(t.x) || (t.x = Math.random() * n.width),
                        (0, u.isNumber)(t.y) || (t.y = Math.random() * n.height),
                        (o[t.id] = t),
                        (a[t.id] = e);
                    }),
                      (n.nodeMap = o),
                      (n.nodeIdxMap = a),
                      (n.nodeStrength = (0, l.proccessToFunc)(n.nodeStrength, 1)),
                      (n.edgeStrength = (0, l.proccessToFunc)(n.edgeStrength, 1)),
                      n.run(t, e);
                  }
                }),
                (e.prototype.run = function (t, e) {
                  return o(this, void 0, void 0, function () {
                    var n,
                      r,
                      i,
                      s,
                      p,
                      g,
                      v,
                      y,
                      m,
                      b,
                      x,
                      _,
                      w,
                      E,
                      S,
                      M,
                      k,
                      A,
                      C,
                      I,
                      T,
                      N,
                      P,
                      O,
                      D,
                      L,
                      R,
                      B = this;
                    return a(this, function (j) {
                      switch (j.label) {
                        case 0:
                          for (
                            r = (n = this).nodes,
                              i = n.edges,
                              s = n.maxIteration,
                              n.width ||
                                'undefined' == typeof window ||
                                (n.width = window.innerWidth),
                              n.height ||
                                'undefined' == typeof window ||
                                (n.height = window.innerHeight),
                              p = r.length,
                              n.linkDistance = (0, l.proccessToFunc)(n.linkDistance),
                              n.edgeStrength = (0, l.proccessToFunc)(n.edgeStrength),
                              g = (0, l.buildTextureDataWithTwoEdgeAttr)(
                                r,
                                i,
                                n.linkDistance,
                                n.edgeStrength,
                              ),
                              v = g.maxEdgePerVetex,
                              y = g.array,
                              n.degrees = (0, h.getDegree)(r.length, n.nodeIdxMap, i),
                              m = [],
                              b = [],
                              x = [],
                              _ = [],
                              w = [],
                              E = [],
                              S = [],
                              n.getMass ||
                                (n.getMass = function (t) {
                                  return n.degrees[n.nodeIdxMap[t.id]] || 1;
                                }),
                              M = n.gravity,
                              k = n.center,
                              r.forEach(function (t, e) {
                                m.push(n.getMass(t)),
                                  b.push(n.nodeStrength(t)),
                                  n.degrees[e] || (n.degrees[e] = 0);
                                var r = [k[0], k[1], M];
                                if (n.getCenter) {
                                  var i = n.getCenter(t, n.degrees[e]);
                                  i &&
                                    (0, u.isNumber)(i[0]) &&
                                    (0, u.isNumber)(i[1]) &&
                                    (0, u.isNumber)(i[2]) &&
                                    (r = i);
                                }
                                x.push(r[0]),
                                  _.push(r[1]),
                                  w.push(r[2]),
                                  (0, u.isNumber)(t.fx) && (0, u.isNumber)(t.fy)
                                    ? (E.push(t.fx || 0.001), S.push(t.fy || 0.001))
                                    : (E.push(0), S.push(0));
                              }),
                              A = (0, l.arrayToTextureData)([m, n.degrees, b, E]),
                              C = (0, l.arrayToTextureData)([x, _, w, S]),
                              I = n.workerEnabled,
                              T = I
                                ? c.World.create({
                                    canvas: t,
                                    engineOptions: { supportCompute: !0 },
                                  })
                                : c.World.create({ engineOptions: { supportCompute: !0 } }),
                              N = n.onLayoutEnd,
                              P = [],
                              y.forEach(function (t) {
                                P.push(t);
                              }),
                              O = 0;
                            O < 4;
                            O++
                          )
                            P.push(0);
                          return (
                            (D = T.createKernel(f.gForceBundle).setDispatch([p, 1, 1]).setBinding({
                              u_Data: y,
                              u_damping: n.damping,
                              u_maxSpeed: n.maxSpeed,
                              u_minMovement: n.minMovement,
                              u_coulombDisScale: n.coulombDisScale,
                              u_factor: n.factor,
                              u_NodeAttributeArray1: A,
                              u_NodeAttributeArray2: C,
                              MAX_EDGE_PER_VERTEX: v,
                              VERTEX_COUNT: p,
                              u_AveMovement: P,
                              u_interval: n.interval,
                            })),
                            (L = T.createKernel(f.aveMovementBundle)
                              .setDispatch([1, 1, 1])
                              .setBinding({
                                u_Data: y,
                                VERTEX_COUNT: p,
                                u_AveMovement: [0, 0, 0, 0],
                              })),
                            (R = function () {
                              return o(B, void 0, void 0, function () {
                                var i, o, u;
                                return a(this, function (a) {
                                  switch (a.label) {
                                    case 0:
                                      (i = 0), (a.label = 1);
                                    case 1:
                                      return i < s ? [4, D.execute()] : [3, 5];
                                    case 2:
                                      return (
                                        a.sent(), L.setBinding({ u_Data: D }), [4, L.execute()]
                                      );
                                    case 3:
                                      a.sent(),
                                        (o = Math.max(0.02, n.interval - 0.002 * i)),
                                        D.setBinding({ u_interval: o, u_AveMovement: L }),
                                        (a.label = 4);
                                    case 4:
                                      return i++, [3, 1];
                                    case 5:
                                      return [4, D.getOutput()];
                                    case 6:
                                      return (
                                        (u = a.sent()),
                                        t
                                          ? e.postMessage({
                                              type: d.LAYOUT_MESSAGE.GPUEND,
                                              vertexEdgeData: u,
                                            })
                                          : r.forEach(function (t, e) {
                                              var n = u[4 * e],
                                                r = u[4 * e + 1];
                                              (t.x = n), (t.y = r);
                                            }),
                                        N && N(),
                                        [2]
                                      );
                                  }
                                });
                              });
                            }),
                            [4, R()]
                          );
                        case 1:
                          return j.sent(), [2];
                      }
                    });
                  });
                }),
                (e.prototype.getType = function () {
                  return 'gForce-gpu';
                }),
                e
              );
            })(s.Base);
          e.GForceGPULayout = p;
        },
        9762: (t, e) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }),
            (e.aveMovementBundle = e.aveMovementCode = e.gForceBundle = e.gForceCode = void 0),
            (e.gForceCode =
              "\nimport { globalInvocationID } from 'g-webgpu';\n\nconst MAX_EDGE_PER_VERTEX;\nconst VERTEX_COUNT;\nconst SHIFT_20 = 1048576;\n\n@numthreads(1, 1, 1)\nclass GGForce {\n  @in @out\n  u_Data: vec4[];\n\n  @in\n  u_damping: float;\n  \n  @in\n  u_maxSpeed: float;\n\n  @in\n  u_minMovement: float;\n\n  @in\n  u_AveMovement: vec4[];\n\n  @in\n  u_coulombDisScale: float;\n\n  @in\n  u_factor: float;\n\n  @in\n  u_NodeAttributeArray1: vec4[];\n\n  @in\n  u_NodeAttributeArray2: vec4[];\n\n  @in\n  u_interval: float;\n\n  unpack_float(packedValue: float): ivec2 {\n    const packedIntValue = int(packedValue);\n    const v0 = packedIntValue / SHIFT_20;\n    return [v0, packedIntValue - v0 * SHIFT_20];\n  }\n\n  calcRepulsive(i: int, currentNode: vec4): vec2 {\n    let ax = 0, ay = 0;\n    for (let j: int = 0; j < VERTEX_COUNT; j++) {\n      if (i != j) {\n        const nextNode = this.u_Data[j];\n        const vx = currentNode[0] - nextNode[0];\n        const vy = currentNode[1] - nextNode[1];\n        const dist = sqrt(vx * vx + vy * vy) + 0.01;\n        const n_dist = (dist + 0.1) * this.u_coulombDisScale;\n        const direx = vx / dist;\n        const direy = vy / dist;\n        const attributesi = this.u_NodeAttributeArray1[i];\n        const attributesj = this.u_NodeAttributeArray1[j];\n        const massi = attributesi[0];\n        const nodeStrengthi = attributesi[2];\n        const nodeStrengthj = attributesj[2];\n        const nodeStrength = (nodeStrengthi + nodeStrengthj) / 2;\n        // const param = nodeStrength * this.u_factor / (n_dist * n_dist * massi);\n        const param = nodeStrength * this.u_factor / (n_dist * n_dist);\n        ax += direx * param;\n        ay += direy * param;\n      }\n    }\n    return [ax, ay];\n  }\n\n  calcGravity(i: int, currentNode: vec4, attributes2: vec4): vec2 {\n    // note: attributes2 = [centerX, centerY, gravity, 0]\n\n    const vx = currentNode[0] - attributes2[0];\n    const vy = currentNode[1] - attributes2[1];\n    \n    const ax = vx * attributes2[2];\n    const ay = vy * attributes2[2];\n    \n    return [ax, ay];\n  }\n\n  calcAttractive(i: int, currentNode: vec4, attributes1: vec4): vec2 {\n    // note: attributes1 = [mass, degree, nodeSterngth, 0]\n\n    const mass = attributes1[0];\n    let ax = 0, ay = 0;\n    // const arr_offset = int(floor(currentNode[2] + 0.5));\n    // const length = int(floor(currentNode[3] + 0.5));\n\n    const compressed = this.unpack_float(currentNode[2]);\n    const length = compressed[0];\n    const arr_offset = compressed[1];\n\n    const node_buffer: vec4;\n    for (let p: int = 0; p < MAX_EDGE_PER_VERTEX; p++) {\n      if (p >= length) break;\n      const arr_idx = arr_offset + 4 * p; // i 节点的第 p 条边开始的小格子位置\n      const buf_offset = arr_idx - arr_idx / 4 * 4;\n      if (p == 0 || buf_offset == 0) {\n        node_buffer = this.u_Data[int(arr_idx / 4)]; // 大格子，大格子位置=小个子位置 / 4，\n      }\n\n      let float_j: float = node_buffer[0];\n\n      const nextNode = this.u_Data[int(float_j)];\n      const vx = nextNode[0] - currentNode[0];\n      const vy = nextNode[1] - currentNode[1];\n      const dist = sqrt(vx * vx + vy * vy) + 0.01;\n      const direx = vx / dist;\n      const direy = vy / dist;\n      const edgeLength = node_buffer[1];\n      const edgeStrength = node_buffer[2];\n      const diff: float = edgeLength - dist;//edgeLength\n      // const param = diff * this.u_stiffness / mass; //\n      const param = diff * edgeStrength / mass; // \n      ax -= direx * param;\n      ay -= direy * param;\n    }\n    return [ax, ay];\n  }\n\n  @main\n  compute() {\n    const i = globalInvocationID.x;\n    const currentNode = this.u_Data[i];\n    const movement = u_AveMovement[0];\n    let ax = 0, ay = 0;\n\n    if (i >= VERTEX_COUNT || movement.x < u_minMovement) {\n      this.u_Data[i] = currentNode;\n      return;\n    }\n\n    // 每个节点属性占两个数组中各一格\n    // [mass, degree, nodeStrength, fx]\n    const nodeAttributes1 = this.u_NodeAttributeArray1[i];\n    // [centerX, centerY, centerGravity, fy]\n    const nodeAttributes2 = this.u_NodeAttributeArray2[i];\n\n    // repulsive\n    const repulsive = this.calcRepulsive(i, currentNode);\n    ax += repulsive[0];\n    ay += repulsive[1];\n\n    // attractive\n    const attractive = this.calcAttractive(i, currentNode, nodeAttributes1);\n    ax += attractive[0];\n    ay += attractive[1];\n\n    // gravity\n    const gravity = this.calcGravity(i, currentNode, nodeAttributes2);\n    ax -= gravity[0];\n    ay -= gravity[1];\n\n    // speed\n    const param = this.u_interval * this.u_damping;\n    let vx = ax * param;\n    let vy = ay * param;\n    const vlength = sqrt(vx * vx + vy * vy) + 0.0001;\n    if (vlength > this.u_maxSpeed) {\n      const param2 = this.u_maxSpeed / vlength;\n      vx = param2 * vx;\n      vy = param2 * vy;\n    }\n\n    // move\n    if (nodeAttributes1[3] != 0 && nodeAttributes2[3] != 0) {\n      this.u_Data[i] = [\n        nodeAttributes1[3],\n        nodeAttributes2[3],\n        currentNode[2],\n        0\n      ];\n    } else {\n      const distx = vx * this.u_interval;\n      const disty = vy * this.u_interval;\n      const distLength = sqrt(distx * distx + disty * disty);\n      this.u_Data[i] = [\n        currentNode[0] + distx,\n        currentNode[1] + disty,\n        currentNode[2],\n        distLength\n      ];\n    }\n    \n    // the avarage move distance\n    // need to share memory\n    \n  }\n}\n"),
            (e.gForceBundle =
              '{"shaders":{"WGSL":"import \\"GLSL.std.450\\" as std;\\n\\n\\n# var gWebGPUDebug : bool = false;\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\n\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\n\\ntype GWebGPUParams = [[block]] struct {\\n  [[offset 0]] u_damping : f32;\\n  [[offset 4]] u_maxSpeed : f32;\\n  [[offset 8]] u_minMovement : f32;\\n  \\n  [[offset 12]] u_coulombDisScale : f32;\\n  [[offset 16]] u_factor : f32;\\n  \\n  \\n  [[offset 20]] u_interval : f32;\\n};\\n[[binding 0, set 0]] var<uniform> gWebGPUUniformParams : GWebGPUParams;\\ntype GWebGPUBuffer0 = [[block]] struct {\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\ntype GWebGPUBuffer1 = [[block]] struct {\\n  [[offset 0]] u_AveMovement : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\ntype GWebGPUBuffer2 = [[block]] struct {\\n  [[offset 0]] u_NodeAttributeArray1 : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 3, set 0]] var<storage_buffer> gWebGPUBuffer2 : GWebGPUBuffer2;\\ntype GWebGPUBuffer3 = [[block]] struct {\\n  [[offset 0]] u_NodeAttributeArray2 : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 4, set 0]] var<storage_buffer> gWebGPUBuffer3 : GWebGPUBuffer3;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nfn unpack_float(packedValue : f32) -> vec2<i32> {var packedIntValue : i32 = i32(packedValue);\\nvar v0 : i32 = packedIntValue / 1048576;\\nreturn vec2<i32>(v0, packedIntValue - (v0 * 1048576));}\\nfn calcRepulsive(i : i32, currentNode : vec4<f32>) -> vec2<f32> {var ax : f32 = 0.0;\\nvar ay : f32 = 0.0;\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {if (i != j) {var nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\nvar vx : f32 = currentNode.x - nextNode.x;\\nvar vy : f32 = currentNode.y - nextNode.y;\\nvar dist : f32 = std::sqrt((vx * vx) + (vy * vy)) + 0.01;\\nvar n_dist : f32 = (dist + 0.1) * gWebGPUUniformParams.u_coulombDisScale;\\nvar direx : f32 = vx / dist;\\nvar direy : f32 = vy / dist;\\nvar attributesi : vec4<f32> = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\nvar attributesj : vec4<f32> = gWebGPUBuffer2.u_NodeAttributeArray1[j];\\nvar massi : f32 = attributesi.x;\\nvar nodeStrengthi : f32 = attributesi.z;\\nvar nodeStrengthj : f32 = attributesj.z;\\nvar nodeStrength : f32 = (nodeStrengthi + nodeStrengthj) / 2.0;\\nvar param : f32 = (nodeStrength * gWebGPUUniformParams.u_factor) / (n_dist * n_dist);\\nax = ax + direx * param;\\nay = ay + direy * param;}}\\nreturn vec2<f32>(ax, ay);}\\nfn calcGravity(i : i32, currentNode : vec4<f32>, attributes2 : vec4<f32>) -> vec2<f32> {var vx : f32 = currentNode.x - attributes2.x;\\nvar vy : f32 = currentNode.y - attributes2.y;\\nvar ax : f32 = vx * attributes2.z;\\nvar ay : f32 = vy * attributes2.z;\\nreturn vec2<f32>(ax, ay);}\\nfn calcAttractive(i : i32, currentNode : vec4<f32>, attributes1 : vec4<f32>) -> vec2<f32> {var mass : f32 = attributes1.x;\\nvar ax : f32 = 0.0;\\nvar ay : f32 = 0.0;\\nvar compressed : vec2<i32> = unpack_float(currentNode.z);\\nvar length : i32 = compressed.x;\\nvar arr_offset : i32 = compressed.y;\\nvar node_buffer : vec4<f32>;\\nfor (var p : i32 = 0; p < __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX; p = p + 1) {if (p >= length) {break;}\\nvar arr_idx : i32 = arr_offset + (4 * p);\\nvar buf_offset : i32 = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[i32(arr_idx / 4)];}\\nvar float_j : f32 = node_buffer.x;\\nvar nextNode : vec4<f32> = gWebGPUBuffer0.u_Data[i32(float_j)];\\nvar vx : f32 = nextNode.x - currentNode.x;\\nvar vy : f32 = nextNode.y - currentNode.y;\\nvar dist : f32 = std::sqrt((vx * vx) + (vy * vy)) + 0.01;\\nvar direx : f32 = vx / dist;\\nvar direy : f32 = vy / dist;\\nvar edgeLength : f32 = node_buffer.y;\\nvar edgeStrength : f32 = node_buffer.z;\\nvar diff : f32 = edgeLength - dist;\\nvar param : f32 = (diff * edgeStrength) / mass;\\nax = ax - direx * param;\\nay = ay - direy * param;}\\nreturn vec2<f32>(ax, ay);}\\nfn main() -> void {var i : i32 = globalInvocationID.x;\\nvar currentNode : vec4<f32> = gWebGPUBuffer0.u_Data[i];\\nvar movement : vec4<f32> = gWebGPUBuffer1.u_AveMovement[0];\\nvar ax : f32 = 0.0;\\nvar ay : f32 = 0.0;\\nif ((i >= __DefineValuePlaceholder__VERTEX_COUNT) || (movement.x < gWebGPUUniformParams.u_minMovement)) {gWebGPUBuffer0.u_Data[i] = currentNode;\\nreturn ;}\\nvar nodeAttributes1 : vec4<f32> = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\nvar nodeAttributes2 : vec4<f32> = gWebGPUBuffer3.u_NodeAttributeArray2[i];\\nvar repulsive : vec2<f32> = calcRepulsive(i, currentNode);\\nax = ax + repulsive.x;\\nay = ay + repulsive.y;\\nvar attractive : vec2<f32> = calcAttractive(i, currentNode, nodeAttributes1);\\nax = ax + attractive.x;\\nay = ay + attractive.y;\\nvar gravity : vec2<f32> = calcGravity(i, currentNode, nodeAttributes2);\\nax = ax - gravity.x;\\nay = ay - gravity.y;\\nvar param : f32 = gWebGPUUniformParams.u_interval * gWebGPUUniformParams.u_damping;\\nvar vx : f32 = ax * param;\\nvar vy : f32 = ay * param;\\nvar vlength : f32 = std::sqrt((vx * vx) + (vy * vy)) + 0.0001;\\nif (vlength > gWebGPUUniformParams.u_maxSpeed) {var param2 : f32 = gWebGPUUniformParams.u_maxSpeed / vlength;\\nvx = param2 * vx;\\nvy = param2 * vy;}\\nvar distx : f32 = vx * gWebGPUUniformParams.u_interval;\\nvar disty : f32 = vy * gWebGPUUniformParams.u_interval;\\nvar distLength : f32 = std::sqrt((distx * distx) + (disty * disty));\\nif ((nodeAttributes1.w != 0.0) && (nodeAttributes2.w != 0.0)) {gWebGPUBuffer0.u_Data[i] = vec4<f32>(nodeAttributes1.w, nodeAttributes2.w, currentNode.z, 0.0);}else {gWebGPUBuffer0.u_Data[i] = vec4<f32>(currentNode.x + distx, currentNode.y + disty, currentNode.z, distLength);}\\nreturn;}\\n\\nentry_point compute as \\"main\\" = main;\\n","GLSL450":"\\n\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\nivec3 workGroupSize = ivec3(1,1,1);\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\n\\nlayout(std140, set = 0, binding = 0) uniform GWebGPUParams {\\n  float u_damping;\\n  float u_maxSpeed;\\n  float u_minMovement;\\n  \\n  float u_coulombDisScale;\\n  float u_factor;\\n  \\n  \\n  float u_interval;\\n} gWebGPUUniformParams;\\nlayout(std430, set = 0, binding = 1) buffer   GWebGPUBuffer0 {\\n  vec4 u_Data[];\\n} gWebGPUBuffer0;\\n\\nlayout(std430, set = 0, binding = 2) buffer readonly  GWebGPUBuffer1 {\\n  vec4 u_AveMovement[];\\n} gWebGPUBuffer1;\\n\\nlayout(std430, set = 0, binding = 3) buffer readonly  GWebGPUBuffer2 {\\n  vec4 u_NodeAttributeArray1[];\\n} gWebGPUBuffer2;\\n\\nlayout(std430, set = 0, binding = 4) buffer readonly  GWebGPUBuffer3 {\\n  vec4 u_NodeAttributeArray2[];\\n} gWebGPUBuffer3;\\n\\n\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define SHIFT_20 1048576.0\\nlayout (\\n  local_size_x = 1,\\n  local_size_y = 1,\\n  local_size_z = 1\\n) in;\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\nivec2 unpack_float(float packedValue) {int packedIntValue = int(packedValue);\\nint v0 = packedIntValue / int(SHIFT_20);\\nreturn ivec2(v0, packedIntValue - (v0 * int(SHIFT_20)));}\\nvec2 calcRepulsive(int i, vec4 currentNode) {float ax = 0.0;\\nfloat ay = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = gWebGPUBuffer0.u_Data[j];\\nfloat vx = currentNode.x - nextNode.x;\\nfloat vy = currentNode.y - nextNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat n_dist = (dist + 0.1) * gWebGPUUniformParams.u_coulombDisScale;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nvec4 attributesi = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\nvec4 attributesj = gWebGPUBuffer2.u_NodeAttributeArray1[j];\\nfloat massi = attributesi.x;\\nfloat nodeStrengthi = attributesi.z;\\nfloat nodeStrengthj = attributesj.z;\\nfloat nodeStrength = (nodeStrengthi + nodeStrengthj) / 2.0;\\nfloat param = (nodeStrength * gWebGPUUniformParams.u_factor) / (n_dist * n_dist);\\nax += direx * param;\\nay += direy * param;}}\\nreturn vec2(ax, ay);}\\nvec2 calcGravity(int i, vec4 currentNode, vec4 attributes2) {float vx = currentNode.x - attributes2.x;\\nfloat vy = currentNode.y - attributes2.y;\\nfloat ax = vx * attributes2.z;\\nfloat ay = vy * attributes2.z;\\nreturn vec2(ax, ay);}\\nvec2 calcAttractive(int i, vec4 currentNode, vec4 attributes1) {float mass = attributes1.x;\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nivec2 compressed = unpack_float(currentNode.z);\\nint length = compressed.x;\\nint arr_offset = compressed.y;\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + (4 * p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = gWebGPUBuffer0.u_Data[int(arr_idx / 4)];}\\nfloat float_j = node_buffer.x;\\nvec4 nextNode = gWebGPUBuffer0.u_Data[int(float_j)];\\nfloat vx = nextNode.x - currentNode.x;\\nfloat vy = nextNode.y - currentNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nfloat edgeLength = node_buffer.y;\\nfloat edgeStrength = node_buffer.z;\\nfloat diff = edgeLength - dist;\\nfloat param = (diff * edgeStrength) / mass;\\nax -= direx * param;\\nay -= direy * param;}\\nreturn vec2(ax, ay);}\\nvoid main() {int i = globalInvocationID.x;\\nvec4 currentNode = gWebGPUBuffer0.u_Data[i];\\nvec4 movement = gWebGPUBuffer1.u_AveMovement[0];\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nif ((i >= VERTEX_COUNT) || (movement.x < gWebGPUUniformParams.u_minMovement)) {gWebGPUBuffer0.u_Data[i] = currentNode;\\nreturn ;}\\nvec4 nodeAttributes1 = gWebGPUBuffer2.u_NodeAttributeArray1[i];\\nvec4 nodeAttributes2 = gWebGPUBuffer3.u_NodeAttributeArray2[i];\\nvec2 repulsive = calcRepulsive(i, currentNode);\\nax += repulsive.x;\\nay += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode, nodeAttributes1);\\nax += attractive.x;\\nay += attractive.y;\\nvec2 gravity = calcGravity(i, currentNode, nodeAttributes2);\\nax -= gravity.x;\\nay -= gravity.y;\\nfloat param = gWebGPUUniformParams.u_interval * gWebGPUUniformParams.u_damping;\\nfloat vx = ax * param;\\nfloat vy = ay * param;\\nfloat vlength = sqrt((vx * vx) + (vy * vy)) + 0.0001;\\nif (vlength > gWebGPUUniformParams.u_maxSpeed) {float param2 = gWebGPUUniformParams.u_maxSpeed / vlength;\\nvx = param2 * vx;\\nvy = param2 * vy;}\\nfloat distx = vx * gWebGPUUniformParams.u_interval;\\nfloat disty = vy * gWebGPUUniformParams.u_interval;\\nfloat distLength = sqrt((distx * distx) + (disty * disty));\\nif ((nodeAttributes1.w != 0.0) && (nodeAttributes2.w != 0.0)) {gWebGPUBuffer0.u_Data[i] = vec4(nodeAttributes1.w, nodeAttributes2.w, currentNode.z, 0.0);}else {gWebGPUBuffer0.u_Data[i] = vec4(currentNode.x + distx, currentNode.y + disty, currentNode.z, distLength);}}\\n","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define MAX_EDGE_PER_VERTEX __DefineValuePlaceholder__MAX_EDGE_PER_VERTEX\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n#define SHIFT_20 1048576.0\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform float u_damping;\\nuniform float u_maxSpeed;\\nuniform float u_minMovement;\\nuniform sampler2D u_AveMovement;\\nuniform vec2 u_AveMovementSize;\\nvec4 getDatau_AveMovement(vec2 address2D) {\\n  return vec4(texture2D(u_AveMovement, address2D).rgba);\\n}\\nvec4 getDatau_AveMovement(float address1D) {\\n  return getDatau_AveMovement(addrTranslation_1Dto2D(address1D, u_AveMovementSize));\\n}\\nvec4 getDatau_AveMovement(int address1D) {\\n  return getDatau_AveMovement(float(address1D));\\n}\\nuniform float u_coulombDisScale;\\nuniform float u_factor;\\nuniform sampler2D u_NodeAttributeArray1;\\nuniform vec2 u_NodeAttributeArray1Size;\\nvec4 getDatau_NodeAttributeArray1(vec2 address2D) {\\n  return vec4(texture2D(u_NodeAttributeArray1, address2D).rgba);\\n}\\nvec4 getDatau_NodeAttributeArray1(float address1D) {\\n  return getDatau_NodeAttributeArray1(addrTranslation_1Dto2D(address1D, u_NodeAttributeArray1Size));\\n}\\nvec4 getDatau_NodeAttributeArray1(int address1D) {\\n  return getDatau_NodeAttributeArray1(float(address1D));\\n}\\nuniform sampler2D u_NodeAttributeArray2;\\nuniform vec2 u_NodeAttributeArray2Size;\\nvec4 getDatau_NodeAttributeArray2(vec2 address2D) {\\n  return vec4(texture2D(u_NodeAttributeArray2, address2D).rgba);\\n}\\nvec4 getDatau_NodeAttributeArray2(float address1D) {\\n  return getDatau_NodeAttributeArray2(addrTranslation_1Dto2D(address1D, u_NodeAttributeArray2Size));\\n}\\nvec4 getDatau_NodeAttributeArray2(int address1D) {\\n  return getDatau_NodeAttributeArray2(float(address1D));\\n}\\nuniform float u_interval;\\nivec2 unpack_float(float packedValue) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint packedIntValue = int(packedValue);\\nint v0 = packedIntValue / int(SHIFT_20);\\nreturn ivec2(v0, packedIntValue - (v0 * int(SHIFT_20)));}\\nvec2 calcRepulsive(int i, vec4 currentNode) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {if (i != j) {vec4 nextNode = getDatau_Data(j);\\nfloat vx = currentNode.x - nextNode.x;\\nfloat vy = currentNode.y - nextNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat n_dist = (dist + 0.1) * u_coulombDisScale;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nvec4 attributesi = getDatau_NodeAttributeArray1(i);\\nvec4 attributesj = getDatau_NodeAttributeArray1(j);\\nfloat massi = attributesi.x;\\nfloat nodeStrengthi = attributesi.z;\\nfloat nodeStrengthj = attributesj.z;\\nfloat nodeStrength = (nodeStrengthi + nodeStrengthj) / 2.0;\\nfloat param = (nodeStrength * u_factor) / (n_dist * n_dist);\\nax += direx * param;\\nay += direy * param;}}\\nreturn vec2(ax, ay);}\\nvec2 calcGravity(int i, vec4 currentNode, vec4 attributes2) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat vx = currentNode.x - attributes2.x;\\nfloat vy = currentNode.y - attributes2.y;\\nfloat ax = vx * attributes2.z;\\nfloat ay = vy * attributes2.z;\\nreturn vec2(ax, ay);}\\nvec2 calcAttractive(int i, vec4 currentNode, vec4 attributes1) {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat mass = attributes1.x;\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nivec2 compressed = unpack_float(currentNode.z);\\nint length = compressed.x;\\nint arr_offset = compressed.y;\\nvec4 node_buffer;\\nfor (int p = 0; p < MAX_EDGE_PER_VERTEX; p++) {if (p >= length) {break;}\\nint arr_idx = arr_offset + (4 * p);\\nint buf_offset = arr_idx - ((arr_idx / 4) * 4);\\nif ((p == 0) || (buf_offset == 0)) {node_buffer = getDatau_Data(int(arr_idx / 4));}\\nfloat float_j = node_buffer.x;\\nvec4 nextNode = getDatau_Data(int(float_j));\\nfloat vx = nextNode.x - currentNode.x;\\nfloat vy = nextNode.y - currentNode.y;\\nfloat dist = sqrt((vx * vx) + (vy * vy)) + 0.01;\\nfloat direx = vx / dist;\\nfloat direy = vy / dist;\\nfloat edgeLength = node_buffer.y;\\nfloat edgeStrength = node_buffer.z;\\nfloat diff = edgeLength - dist;\\nfloat param = (diff * edgeStrength) / mass;\\nax -= direx * param;\\nay -= direy * param;}\\nreturn vec2(ax, ay);}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nint i = globalInvocationID.x;\\nvec4 currentNode = getDatau_Data(i);\\nvec4 movement = getDatau_AveMovement(0.0);\\nfloat ax = 0.0;\\nfloat ay = 0.0;\\nif ((i >= VERTEX_COUNT) || (movement.x < u_minMovement)) {gl_FragColor = vec4(currentNode);\\nreturn ;}\\nvec4 nodeAttributes1 = getDatau_NodeAttributeArray1(i);\\nvec4 nodeAttributes2 = getDatau_NodeAttributeArray2(i);\\nvec2 repulsive = calcRepulsive(i, currentNode);\\nax += repulsive.x;\\nay += repulsive.y;\\nvec2 attractive = calcAttractive(i, currentNode, nodeAttributes1);\\nax += attractive.x;\\nay += attractive.y;\\nvec2 gravity = calcGravity(i, currentNode, nodeAttributes2);\\nax -= gravity.x;\\nay -= gravity.y;\\nfloat param = u_interval * u_damping;\\nfloat vx = ax * param;\\nfloat vy = ay * param;\\nfloat vlength = sqrt((vx * vx) + (vy * vy)) + 0.0001;\\nif (vlength > u_maxSpeed) {float param2 = u_maxSpeed / vlength;\\nvx = param2 * vx;\\nvy = param2 * vy;}\\nfloat distx = vx * u_interval;\\nfloat disty = vy * u_interval;\\nfloat distLength = sqrt((distx * distx) + (disty * disty));\\nif ((nodeAttributes1.w != 0.0) && (nodeAttributes2.w != 0.0)) {gl_FragColor = vec4(vec4(nodeAttributes1.w, nodeAttributes2.w, currentNode.z, 0.0));}else {gl_FragColor = vec4(vec4(currentNode.x + distx, currentNode.y + disty, currentNode.z, distLength));}if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"MAX_EDGE_PER_VERTEX","type":"Float","runtime":true},{"name":"VERTEX_COUNT","type":"Float","runtime":true},{"name":"SHIFT_20","type":"Float","value":1048576,"runtime":false}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]},{"name":"u_damping","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_maxSpeed","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_minMovement","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AveMovement","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_coulombDisScale","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_factor","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributeArray1","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_NodeAttributeArray2","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_interval","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_Data","size":[1,1],"length":1},"needPingpong":true}}'),
            (e.aveMovementCode =
              '\nconst VERTEX_COUNT;\n@numthreads(1, 1, 1)\nclass CalcAveMovement {\n  @in\n  u_Data: vec4[];\n  @in\n  u_iter: float;\n  @in @out\n  u_AveMovement: vec4[];\n  @main\n  compute() {\n    let movement = 0;\n    for (let j: int = 0; j < VERTEX_COUNT; j++) {\n      const vertex = this.u_Data[j];\n      movement += vertex[3];\n    }\n    movement = movement / float(VERTEX_COUNT);\n    this.u_AveMovement[0] = [movement, 0, 0, 0];\n  }\n}\n'),
            (e.aveMovementBundle =
              '{"shaders":{"WGSL":"import \\"GLSL.std.450\\" as std;\\n\\n\\n# var gWebGPUDebug : bool = false;\\n# var gWebGPUDebugOutput : vec4<f32> = vec4<f32>(0.0);\\n\\n[[builtin global_invocation_id]] var<in> globalInvocationID : vec3<u32>;\\n# [[builtin work_group_size]] var<in> workGroupSize : vec3<u32>;\\n# [[builtin work_group_id]] var<in> workGroupID : vec3<u32>;\\n[[builtin local_invocation_id]] var<in> localInvocationID : vec3<u32>;\\n# [[builtin num_work_groups]] var<in> numWorkGroups : vec3<u32>;\\n[[builtin local_invocation_idx]] var<in> localInvocationIndex : u32;\\n\\ntype GWebGPUParams = [[block]] struct {\\n  [[offset 0]] u_iter : f32;\\n};\\n[[binding 0, set 0]] var<uniform> gWebGPUUniformParams : GWebGPUParams;\\ntype GWebGPUBuffer0 = [[block]] struct {\\n  [[offset 0]] u_Data : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 1, set 0]] var<storage_buffer> gWebGPUBuffer0 : GWebGPUBuffer0;\\ntype GWebGPUBuffer1 = [[block]] struct {\\n  [[offset 0]] u_AveMovement : [[stride 16]] array<vec4<f32>>;\\n};\\n[[binding 2, set 0]] var<storage_buffer> gWebGPUBuffer1 : GWebGPUBuffer1;\\n\\n\\n\\n\\n\\n\\n\\n\\nfn main() -> void {var movement : f32 = 0.0;\\nfor (var j : i32 = 0; j < __DefineValuePlaceholder__VERTEX_COUNT; j = j + 1) {var vertex : vec4<f32> = gWebGPUBuffer0.u_Data[j];\\nmovement = movement + vertex.w;}\\nmovement = movement / f32(__DefineValuePlaceholder__VERTEX_COUNT);\\ngWebGPUBuffer1.u_AveMovement[0] = vec4<f32>(movement, 0.0, 0.0, 0.0);\\nreturn;}\\n\\nentry_point compute as \\"main\\" = main;\\n","GLSL450":"\\n\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\nivec3 globalInvocationID = ivec3(gl_GlobalInvocationID);\\nivec3 workGroupSize = ivec3(1,1,1);\\nivec3 workGroupID = ivec3(gl_WorkGroupID);\\nivec3 localInvocationID = ivec3(gl_LocalInvocationID);\\nivec3 numWorkGroups = ivec3(gl_NumWorkGroups);\\nint localInvocationIndex = int(gl_LocalInvocationIndex);\\n\\nlayout(std140, set = 0, binding = 0) uniform GWebGPUParams {\\n  float u_iter;\\n} gWebGPUUniformParams;\\nlayout(std430, set = 0, binding = 1) buffer readonly  GWebGPUBuffer0 {\\n  vec4 u_Data[];\\n} gWebGPUBuffer0;\\n\\nlayout(std430, set = 0, binding = 2) buffer   GWebGPUBuffer1 {\\n  vec4 u_AveMovement[];\\n} gWebGPUBuffer1;\\n\\n\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\nlayout (\\n  local_size_x = 1,\\n  local_size_y = 1,\\n  local_size_z = 1\\n) in;\\n\\n\\n\\nvoid main() {float movement = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 vertex = gWebGPUBuffer0.u_Data[j];\\nmovement += vertex.w;}\\nmovement = movement / float(VERTEX_COUNT);\\ngWebGPUBuffer1.u_AveMovement[0] = vec4(movement, 0.0, 0.0, 0.0);}\\n","GLSL100":"\\n\\nfloat epsilon = 0.00001;\\nvec2 addrTranslation_1Dto2D(float address1D, vec2 texSize) {\\n  vec2 conv_const = vec2(1.0 / texSize.x, 1.0 / (texSize.x * texSize.y));\\n  vec2 normAddr2D = float(address1D) * conv_const;\\n  return vec2(fract(normAddr2D.x + epsilon), normAddr2D.y);\\n}\\n\\nvoid barrier() {}\\n  \\n\\nuniform vec2 u_OutputTextureSize;\\nuniform int u_OutputTexelCount;\\nvarying vec2 v_TexCoord;\\n\\nbool gWebGPUDebug = false;\\nvec4 gWebGPUDebugOutput = vec4(0.0);\\n\\n#define VERTEX_COUNT __DefineValuePlaceholder__VERTEX_COUNT\\n\\nuniform sampler2D u_Data;\\nuniform vec2 u_DataSize;\\nvec4 getDatau_Data(vec2 address2D) {\\n  return vec4(texture2D(u_Data, address2D).rgba);\\n}\\nvec4 getDatau_Data(float address1D) {\\n  return getDatau_Data(addrTranslation_1Dto2D(address1D, u_DataSize));\\n}\\nvec4 getDatau_Data(int address1D) {\\n  return getDatau_Data(float(address1D));\\n}\\nuniform float u_iter;\\nuniform sampler2D u_AveMovement;\\nuniform vec2 u_AveMovementSize;\\nvec4 getDatau_AveMovement(vec2 address2D) {\\n  return vec4(texture2D(u_AveMovement, address2D).rgba);\\n}\\nvec4 getDatau_AveMovement(float address1D) {\\n  return getDatau_AveMovement(addrTranslation_1Dto2D(address1D, u_AveMovementSize));\\n}\\nvec4 getDatau_AveMovement(int address1D) {\\n  return getDatau_AveMovement(float(address1D));\\n}\\nvoid main() {\\nivec3 workGroupSize = ivec3(1, 1, 1);\\nivec3 numWorkGroups = ivec3(1, 1, 1);     \\nint globalInvocationIndex = int(floor(v_TexCoord.x * u_OutputTextureSize.x))\\n  + int(floor(v_TexCoord.y * u_OutputTextureSize.y)) * int(u_OutputTextureSize.x);\\nint workGroupIDLength = globalInvocationIndex / (workGroupSize.x * workGroupSize.y * workGroupSize.z);\\nivec3 workGroupID = ivec3(workGroupIDLength / numWorkGroups.y / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.z, workGroupIDLength / numWorkGroups.x / numWorkGroups.y);\\nint localInvocationIDZ = globalInvocationIndex / (workGroupSize.x * workGroupSize.y);\\nint localInvocationIDY = (globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y) / workGroupSize.x;\\nint localInvocationIDX = globalInvocationIndex - localInvocationIDZ * workGroupSize.x * workGroupSize.y - localInvocationIDY * workGroupSize.x;\\nivec3 localInvocationID = ivec3(localInvocationIDX, localInvocationIDY, localInvocationIDZ);\\nivec3 globalInvocationID = workGroupID * workGroupSize + localInvocationID;\\nint localInvocationIndex = localInvocationID.z * workGroupSize.x * workGroupSize.y\\n                + localInvocationID.y * workGroupSize.x + localInvocationID.x;\\nfloat movement = 0.0;\\nfor (int j = 0; j < VERTEX_COUNT; j++) {vec4 vertex = getDatau_Data(j);\\nmovement += vertex.w;}\\nmovement = movement / float(VERTEX_COUNT);\\ngl_FragColor = vec4(vec4(movement, 0.0, 0.0, 0.0));if (gWebGPUDebug) {\\n  gl_FragColor = gWebGPUDebugOutput;\\n}}\\n"},"context":{"name":"","dispatch":[1,1,1],"threadGroupSize":[1,1,1],"maxIteration":1,"defines":[{"name":"VERTEX_COUNT","type":"Float","runtime":true}],"uniforms":[{"name":"u_Data","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_iter","type":"Float","storageClass":"Uniform","readonly":true,"writeonly":false,"size":[1,1]},{"name":"u_AveMovement","type":"vec4<f32>[]","storageClass":"StorageBuffer","readonly":false,"writeonly":false,"size":[1,1]}],"globalDeclarations":[],"output":{"name":"u_AveMovement","size":[1,1],"length":1},"needPingpong":true}}');
        },
        4414: function (t, e, n) {
          'use strict';
          var r,
            i =
              (this && this.__extends) ||
              ((r = function (t, e) {
                return (
                  (r =
                    Object.setPrototypeOf ||
                    ({ __proto__: [] } instanceof Array &&
                      function (t, e) {
                        t.__proto__ = e;
                      }) ||
                    function (t, e) {
                      for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
                    }),
                  r(t, e)
                );
              }),
              function (t, e) {
                if ('function' != typeof e && null !== e)
                  throw new TypeError(
                    'Class extends value ' + String(e) + ' is not a constructor or null',
                  );
                function n() {
                  this.constructor = t;
                }
                r(t, e),
                  (t.prototype =
                    null === e ? Object.create(e) : ((n.prototype = e.prototype), new n()));
              });
          Object.defineProperty(e, '__esModule', { value: !0 }), (e.GridLayout = void 0);
          var o = n(9784),
            a = (function (t) {
              function e(e) {
                var n = t.call(this) || this;
                return (
                  (n.begin = [0, 0]),
                  (n.preventOverlap = !0),
                  (n.preventOverlapPadding = 10),
                  (n.condense = !1),
                  (n.sortBy = 'degree'),
                  (n.nodes = []),
                  (n.edges = []),
                  (n.width = 300),
                  (n.height = 300),
                  (n.row = 0),
                  (n.col = 0),
                  (n.cellWidth = 0),
                  (n.cellHeight = 0),
                  (n.cellUsed = {}),
                  (n.id2manPos = {}),
                  (n.onLayoutEnd = function () {}),
                  n.updateCfg(e),
                  n
                );
              }
              return (
                i(e, t),
                (e.prototype.getDefaultCfg = function () {
                  return {
                    begin: [0, 0],
                    preventOverlap: !0,
                    preventOverlapPadding: 10,
                    condense: !1,
                    rows: void 0,
                    cols: void 0,
                    position: void 0,
                    sortBy: 'degree',
                    nodeSize: 30,
                  };
                }),
                (e.prototype.execute = function () {
                  var t = this,
                    e = t.nodes,
                    n = t.edges,
                    r = t.begin,
                    i = e.length;
                  if (0 === i) return t.onLayoutEnd && t.onLayoutEnd(), { nodes: e, edges: n };
                  if (1 === i)
                    return (
                      (e[0].x = r[0]),
                      (e[0].y = r[1]),
                      t.onLayoutEnd && t.onLayoutEnd(),
                      { nodes: e, edges: n }
                    );
                  var a = t.sortBy,
                    s = t.width,
                    u = t.height,
                    c = t.condense,
                    l = t.preventOverlapPadding,
                    h = t.preventOverlap,
                    f = t.nodeSpacing,
                    d = t.nodeSize,
                    p = [];
                  e.forEach(function (t) {
                    p.push(t);
                  });
                  var g = {};
                  if (
                    (p.forEach(function (t, e) {
                      g[t.id] = e;
                    }),
                    ('degree' === a || !(0, o.isString)(a) || void 0 === p[0][a]) &&
                      ((a = 'degree'), (0, o.isNaN)(e[0].degree)))
                  ) {
                    var v = (0, o.getDegree)(p.length, g, n);
                    p.forEach(function (t, e) {
                      t.degree = v[e];
                    });
                  }
                  p.sort(function (t, e) {
                    return e[a] - t[a];
                  }),
                    s || 'undefined' == typeof window || (s = window.innerWidth),
                    u || 'undefined' == typeof window || (u = window.innerHeight);
                  var y = t.rows,
                    m = null != t.cols ? t.cols : t.columns;
                  if (
                    ((t.cells = i),
                    null != y && null != m
                      ? ((t.rows = y), (t.cols = m))
                      : null != y && null == m
                      ? ((t.rows = y), (t.cols = Math.ceil(t.cells / t.rows)))
                      : null == y && null != m
                      ? ((t.cols = m), (t.rows = Math.ceil(t.cells / t.cols)))
                      : ((t.splits = Math.sqrt((t.cells * t.height) / t.width)),
                        (t.rows = Math.round(t.splits)),
                        (t.cols = Math.round((t.width / t.height) * t.splits))),
                    t.cols * t.rows > t.cells)
                  )
                    ((x = t.small()) - 1) * (b = t.large()) >= t.cells
                      ? t.small(x - 1)
                      : (b - 1) * x >= t.cells && t.large(b - 1);
                  else
                    for (; t.cols * t.rows < t.cells; ) {
                      var b,
                        x = t.small();
                      ((b = t.large()) + 1) * x >= t.cells ? t.large(b + 1) : t.small(x + 1);
                    }
                  if (
                    ((t.cellWidth = s / t.cols),
                    (t.cellHeight = u / t.rows),
                    c && ((t.cellWidth = 0), (t.cellHeight = 0)),
                    h || f)
                  ) {
                    var _ = (0, o.getFuncByUnknownType)(10, f),
                      w = (0, o.getFuncByUnknownType)(30, d, !1);
                    p.forEach(function (e) {
                      (e.x && e.y) || ((e.x = 0), (e.y = 0));
                      var n = w(e),
                        r = n[0],
                        i = void 0 === r ? 30 : r,
                        o = n[1],
                        a = void 0 === o ? 30 : o,
                        s = void 0 !== _ ? _(e) : l,
                        u = i + s,
                        c = a + s;
                      (t.cellWidth = Math.max(t.cellWidth, u)),
                        (t.cellHeight = Math.max(t.cellHeight, c));
                    });
                  }
                  (t.cellUsed = {}), (t.row = 0), (t.col = 0), (t.id2manPos = {});
                  for (var E = 0; E < p.length; E++) {
                    var S = p[E],
                      M = void 0;
                    if (
                      (t.position && (M = t.position(S)),
                      M && (void 0 !== M.row || void 0 !== M.col))
                    ) {
                      var k = { row: M.row, col: M.col };
                      if (void 0 === k.col) for (k.col = 0; t.used(k.row, k.col); ) k.col++;
                      else if (void 0 === k.row) for (k.row = 0; t.used(k.row, k.col); ) k.row++;
                      (t.id2manPos[S.id] = k), t.use(k.row, k.col);
                    }
                    t.getPos(S);
                  }
                  return t.onLayoutEnd && t.onLayoutEnd(), { edges: n, nodes: p };
                }),
                (e.prototype.small = function (t) {
                  var e,
                    n = this,
                    r = n.rows || 5,
                    i = n.cols || 5;
                  return (
                    null == t
                      ? (e = Math.min(r, i))
                      : Math.min(r, i) === n.rows
                      ? (n.rows = t)
                      : (n.cols = t),
                    e
                  );
                }),
                (e.prototype.large = function (t) {
                  var e,
                    n = this,
                    r = n.rows || 5,
                    i = n.cols || 5;
                  return (
                    null == t
                      ? (e = Math.max(r, i))
                      : Math.max(r, i) === n.rows
                      ? (n.rows = t)
                      : (n.cols = t),
                    e
                  );
                }),
                (e.prototype.used = function (t, e) {
                  return this.cellUsed['c-' + t + '-' + e] || !1;
                }),
                (e.prototype.use = function (t, e) {
                  this.cellUsed['c-' + t + '-' + e] = !0;
                }),
                (e.prototype.moveToNextCell = function () {
                  var t = this,
                    e = t.cols || 5;
                  t.col++, t.col >= e && ((t.col = 0), t.row++);
                }),
                (e.prototype.getPos = function (t) {
                  var e,
                    n,
                    r = this,
                    i = r.begin,
                    o = r.cellWidth,
                    a = r.cellHeight,
                    s = r.id2manPos[t.id];
                  if (s) (e = s.col * o + o / 2 + i[0]), (n = s.row * a + a / 2 + i[1]);
                  else {
                    for (; r.used(r.row, r.col); ) r.moveToNextCell();
                    (e = r.col * o + o / 2 + i[0]),
                      (n = r.row * a + a / 2 + i[1]),
                      r.use(r.row, r.col),
                      r.moveToNextCell();
                  }
                  (t.x = e), (t.y = n);
                }),
                (e.prototype.getType = function () {
                  return 'grid';
                }),
                e
              );
            })(n(2329).Base);
          e.GridLayout = a;
        },
        2584: function (t, e, n) {
          'use strict';
          var r =
              (this && this.__createBinding) ||
              (Object.create
                ? function (t, e, n, r) {
                    void 0 === r && (r = n),
                      Object.defineProperty(t, r, {
                        enumerable: !0,
                        get: function () {
                          return e[n];
                        },
                      });
                  }
                : function (t, e, n, r) {
                    void 0 === r && (r = n), (t[r] = e[n]);
                  }),
            i =
              (this && this.__exportStar) ||
              function (t, e) {
                for (var n in t)
                  'default' === n || Object.prototype.hasOwnProperty.call(e, n) || r(e, t, n);
              };
          Object.defineProperty(e, '__esModule', { value: !0 }),
            (e.ERLayout =
              e.ForceAtlas2Layout =
              e.ComboCombinedLayout =
              e.ComboForceLayout =
              e.GForceGPULayout =
              e.FruchtermanGPULayout =
              e.FruchtermanLayout =
              e.MDSLayout =
              e.ConcentricLayout =
              e.RadialLayout =
              e.DagreCompoundLayout =
              e.DagreLayout =
              e.CircularLayout =
              e.ForceLayout =
              e.GForceLayout =
              e.RandomLayout =
              e.GridLayout =
              e.Layouts =
              e.Layout =
                void 0);
          var o = n(4414);
          Object.defineProperty(e, 'GridLayout', {
            enumerable: !0,
            get: function () {
              return o.GridLayout;
            },
          });
          var a = n(9711);
          Object.defineProperty(e, 'RandomLayout', {
            enumerable: !0,
            get: function () {
              return a.RandomLayout;
            },
          });
          var s = n(3653);
          Object.defineProperty(e, 'GForceLayout', {
            enumerable: !0,
            get: function () {
              return s.GForceLayout;
            },
          });
          var u = n(5717);
          Object.defineProperty(e, 'ForceLayout', {
            enumerable: !0,
            get: function () {
              return u.ForceLayout;
            },
          });
          var c = n(4885);
          Object.defineProperty(e, 'CircularLayout', {
            enumerable: !0,
            get: function () {
              return c.CircularLayout;
            },
          });
          var l = n(171);
          Object.defineProperty(e, 'DagreLayout', {
            enumerable: !0,
            get: function () {
              return l.DagreLayout;
            },
          });
          var h = n(7057);
          Object.defineProperty(e, 'DagreCompoundLayout', {
            enumerable: !0,
            get: function () {
              return h.DagreCompoundLayout;
            },
          });
          var f = n(7944);
          Object.defineProperty(e, 'RadialLayout', {
            enumerable: !0,
            get: function () {
              return f.RadialLayout;
            },
          });
          var d = n(3281);
          Object.defineProperty(e, 'ConcentricLayout', {
            enumerable: !0,
            get: function () {
              return d.ConcentricLayout;
            },
          });
          var p = n(2899);
          Object.defineProperty(e, 'MDSLayout', {
            enumerable: !0,
            get: function () {
              return p.MDSLayout;
            },
          });
          var g = n(374);
          Object.defineProperty(e, 'FruchtermanLayout', {
            enumerable: !0,
            get: function () {
              return g.FruchtermanLayout;
            },
          });
          var v = n(7745);
          Object.defineProperty(e, 'FruchtermanGPULayout', {
            enumerable: !0,
            get: function () {
              return v.FruchtermanGPULayout;
            },
          });
          var y = n(5194);
          Object.defineProperty(e, 'GForceGPULayout', {
            enumerable: !0,
            get: function () {
              return y.GForceGPULayout;
            },
          });
          var m = n(6590);
          Object.defineProperty(e, 'ComboForceLayout', {
            enumerable: !0,
            get: function () {
              return m.ComboForceLayout;
            },
          });
          var b = n(3861);
          Object.defineProperty(e, 'ComboCombinedLayout', {
            enumerable: !0,
            get: function () {
              return b.ComboCombinedLayout;
            },
          });
          var x = n(8564);
          Object.defineProperty(e, 'ForceAtlas2Layout', {
            enumerable: !0,
            get: function () {
              return x.ForceAtlas2Layout;
            },
          });
          var _ = n(441);
          Object.defineProperty(e, 'ERLayout', {
            enumerable: !0,
            get: function () {
              return _.ERLayout;
            },
          });
          var w = n(2875);
          Object.defineProperty(e, 'Layout', {
            enumerable: !0,
            get: function () {
              return w.Layout;
            },
          }),
            Object.defineProperty(e, 'Layouts', {
              enumerable: !0,
              get: function () {
                return w.Layouts;
              },
            }),
            i(n(2867), e);
        },
        2875: (t, e, n) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }), (e.Layouts = e.Layout = void 0);
          var r = n(5326),
            i = n(4414),
            o = n(9711),
            a = n(3653),
            s = n(5717),
            u = n(4885),
            c = n(171),
            l = n(7944),
            h = n(3281),
            f = n(2899),
            d = n(374),
            p = n(7745),
            g = n(5194),
            v = n(6590),
            y = n(3861),
            m = n(8564),
            b = n(441),
            x = n(7057),
            _ = (function () {
              function t(t) {
                var e = (0, r.getLayoutByName)(t.type);
                this.layoutInstance = new e(t);
              }
              return (
                (t.prototype.layout = function (t) {
                  return this.layoutInstance.layout(t);
                }),
                (t.prototype.updateCfg = function (t) {
                  this.layoutInstance.updateCfg(t);
                }),
                (t.prototype.init = function (t) {
                  this.layoutInstance.init(t);
                }),
                (t.prototype.execute = function () {
                  this.layoutInstance.execute();
                }),
                (t.prototype.getDefaultCfg = function () {
                  return this.layoutInstance.getDefaultCfg();
                }),
                (t.prototype.destroy = function () {
                  return this.layoutInstance.destroy();
                }),
                t
              );
            })();
          (e.Layout = _),
            (e.Layouts = {
              force: s.ForceLayout,
              fruchterman: d.FruchtermanLayout,
              forceAtlas2: m.ForceAtlas2Layout,
              gForce: a.GForceLayout,
              dagre: c.DagreLayout,
              dagreCompound: x.DagreCompoundLayout,
              circular: u.CircularLayout,
              radial: l.RadialLayout,
              concentric: h.ConcentricLayout,
              grid: i.GridLayout,
              mds: f.MDSLayout,
              comboForce: v.ComboForceLayout,
              comboCombined: y.ComboCombinedLayout,
              random: o.RandomLayout,
              'gForce-gpu': g.GForceGPULayout,
              'fruchterman-gpu': p.FruchtermanGPULayout,
              er: b.ERLayout,
            });
        },
        2899: function (t, e, n) {
          'use strict';
          var r,
            i =
              (this && this.__extends) ||
              ((r = function (t, e) {
                return (
                  (r =
                    Object.setPrototypeOf ||
                    ({ __proto__: [] } instanceof Array &&
                      function (t, e) {
                        t.__proto__ = e;
                      }) ||
                    function (t, e) {
                      for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
                    }),
                  r(t, e)
                );
              }),
              function (t, e) {
                if ('function' != typeof e && null !== e)
                  throw new TypeError(
                    'Class extends value ' + String(e) + ' is not a constructor or null',
                  );
                function n() {
                  this.constructor = t;
                }
                r(t, e),
                  (t.prototype =
                    null === e ? Object.create(e) : ((n.prototype = e.prototype), new n()));
              });
          Object.defineProperty(e, '__esModule', { value: !0 }), (e.MDSLayout = void 0);
          var o = n(3591),
            a = n(9784),
            s = (function (t) {
              function e(e) {
                var n = t.call(this) || this;
                return (
                  (n.center = [0, 0]),
                  (n.linkDistance = 50),
                  (n.nodes = []),
                  (n.edges = []),
                  (n.onLayoutEnd = function () {}),
                  n.updateCfg(e),
                  n
                );
              }
              return (
                i(e, t),
                (e.prototype.getDefaultCfg = function () {
                  return { center: [0, 0], linkDistance: 50 };
                }),
                (e.prototype.execute = function () {
                  var t = this,
                    e = t.nodes,
                    n = t.edges,
                    r = void 0 === n ? [] : n,
                    i = t.center;
                  if (e && 0 !== e.length) {
                    if (1 === e.length)
                      return (
                        (e[0].x = i[0]), (e[0].y = i[1]), void (t.onLayoutEnd && t.onLayoutEnd())
                      );
                    var o = t.linkDistance,
                      s = (0, a.getAdjMatrix)({ nodes: e, edges: r }, !1),
                      u = (0, a.floydWarshall)(s);
                    t.handleInfinity(u);
                    var c = (0, a.scaleMatrix)(u, o);
                    t.scaledDistances = c;
                    var l = t.runMDS();
                    return (
                      (t.positions = l),
                      l.forEach(function (t, n) {
                        (e[n].x = t[0] + i[0]), (e[n].y = t[1] + i[1]);
                      }),
                      t.onLayoutEnd && t.onLayoutEnd(),
                      { nodes: e, edges: r }
                    );
                  }
                  t.onLayoutEnd && t.onLayoutEnd();
                }),
                (e.prototype.runMDS = function () {
                  var t = this.scaledDistances,
                    e = o.Matrix.mul(o.Matrix.pow(t, 2), -0.5),
                    n = e.mean('row'),
                    r = e.mean('column'),
                    i = e.mean();
                  e.add(i).subRowVector(n).subColumnVector(r);
                  var a = new o.SingularValueDecomposition(e),
                    s = o.Matrix.sqrt(a.diagonalMatrix).diagonal();
                  return a.leftSingularVectors.toJSON().map(function (t) {
                    return o.Matrix.mul([t], [s]).toJSON()[0].splice(0, 2);
                  });
                }),
                (e.prototype.handleInfinity = function (t) {
                  var e = -999999;
                  t.forEach(function (t) {
                    t.forEach(function (t) {
                      t !== 1 / 0 && e < t && (e = t);
                    });
                  }),
                    t.forEach(function (n, r) {
                      n.forEach(function (n, i) {
                        n === 1 / 0 && (t[r][i] = e);
                      });
                    });
                }),
                (e.prototype.getType = function () {
                  return 'mds';
                }),
                e
              );
            })(n(2329).Base);
          e.MDSLayout = s;
        },
        7944: function (t, e, n) {
          'use strict';
          var r =
              (this && this.__createBinding) ||
              (Object.create
                ? function (t, e, n, r) {
                    void 0 === r && (r = n),
                      Object.defineProperty(t, r, {
                        enumerable: !0,
                        get: function () {
                          return e[n];
                        },
                      });
                  }
                : function (t, e, n, r) {
                    void 0 === r && (r = n), (t[r] = e[n]);
                  }),
            i =
              (this && this.__exportStar) ||
              function (t, e) {
                for (var n in t)
                  'default' === n || Object.prototype.hasOwnProperty.call(e, n) || r(e, t, n);
              };
          Object.defineProperty(e, '__esModule', { value: !0 }), i(n(5974), e);
        },
        6082: (t, e, n) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 });
          var r = n(3591),
            i = (function () {
              function t(t) {
                (this.distances = t.distances),
                  (this.dimension = t.dimension || 2),
                  (this.linkDistance = t.linkDistance);
              }
              return (
                (t.prototype.layout = function () {
                  var t = this,
                    e = t.dimension,
                    n = t.distances,
                    i = t.linkDistance;
                  try {
                    var o = r.Matrix.mul(r.Matrix.pow(n, 2), -0.5),
                      a = o.mean('row'),
                      s = o.mean('column'),
                      u = o.mean();
                    o.add(u).subRowVector(a).subColumnVector(s);
                    var c = new r.SingularValueDecomposition(o),
                      l = r.Matrix.sqrt(c.diagonalMatrix).diagonal();
                    return c.leftSingularVectors.toJSON().map(function (t) {
                      return r.Matrix.mul([t], [l]).toJSON()[0].splice(0, e);
                    });
                  } catch (t) {
                    for (var h = [], f = 0; f < n.length; f++) {
                      var d = Math.random() * i,
                        p = Math.random() * i;
                      h.push([d, p]);
                    }
                    return h;
                  }
                }),
                t
              );
            })();
          e.default = i;
        },
        5974: function (t, e, n) {
          'use strict';
          var r,
            i =
              (this && this.__extends) ||
              ((r = function (t, e) {
                return (
                  (r =
                    Object.setPrototypeOf ||
                    ({ __proto__: [] } instanceof Array &&
                      function (t, e) {
                        t.__proto__ = e;
                      }) ||
                    function (t, e) {
                      for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
                    }),
                  r(t, e)
                );
              }),
              function (t, e) {
                if ('function' != typeof e && null !== e)
                  throw new TypeError(
                    'Class extends value ' + String(e) + ' is not a constructor or null',
                  );
                function n() {
                  this.constructor = t;
                }
                r(t, e),
                  (t.prototype =
                    null === e ? Object.create(e) : ((n.prototype = e.prototype), new n()));
              }),
            o =
              (this && this.__importDefault) ||
              function (t) {
                return t && t.__esModule ? t : { default: t };
              };
          Object.defineProperty(e, '__esModule', { value: !0 }), (e.RadialLayout = void 0);
          var a = n(9784),
            s = n(2329),
            u = o(n(6082)),
            c = o(n(6290));
          function l(t, e) {
            return Math.sqrt((t[0] - e[0]) * (t[0] - e[0]) + (t[1] - e[1]) * (t[1] - e[1]));
          }
          var h = (function (t) {
            function e(e) {
              var n = t.call(this) || this;
              return (
                (n.maxIteration = 1e3),
                (n.focusNode = null),
                (n.unitRadius = null),
                (n.linkDistance = 50),
                (n.preventOverlap = !1),
                (n.strictRadial = !0),
                (n.maxPreventOverlapIteration = 200),
                (n.sortStrength = 10),
                (n.nodes = []),
                (n.edges = []),
                n.updateCfg(e),
                n
              );
            }
            return (
              i(e, t),
              (e.prototype.getDefaultCfg = function () {
                return {
                  maxIteration: 1e3,
                  focusNode: null,
                  unitRadius: null,
                  linkDistance: 50,
                  preventOverlap: !1,
                  nodeSize: void 0,
                  nodeSpacing: void 0,
                  strictRadial: !0,
                  maxPreventOverlapIteration: 200,
                  sortBy: void 0,
                  sortStrength: 10,
                };
              }),
              (e.prototype.execute = function () {
                var t = this,
                  e = t.nodes,
                  n = t.edges || [];
                if (e && 0 !== e.length) {
                  t.width || 'undefined' == typeof window || (t.width = window.innerWidth),
                    t.height || 'undefined' == typeof window || (t.height = window.innerHeight),
                    t.center || (t.center = [t.width / 2, t.height / 2]);
                  var r = t.center;
                  if (1 === e.length)
                    return (
                      (e[0].x = r[0]), (e[0].y = r[1]), void (t.onLayoutEnd && t.onLayoutEnd())
                    );
                  var i = t.linkDistance,
                    o = null;
                  if ((0, a.isString)(t.focusNode)) {
                    for (var s = !1, l = 0; l < e.length; l++)
                      e[l].id === t.focusNode &&
                        ((o = e[l]), (t.focusNode = o), (s = !0), (l = e.length));
                    s || (o = null);
                  } else o = t.focusNode;
                  o || ((o = e[0]), (t.focusNode = o));
                  var h,
                    f,
                    d,
                    p =
                      ((h = e),
                      (f = o.id),
                      (d = -1),
                      h.forEach(function (t, e) {
                        t.id === f && (d = e);
                      }),
                      d);
                  p < 0 && (p = 0), (t.focusIndex = p);
                  var g = (0, a.getAdjMatrix)({ nodes: e, edges: n }, !1),
                    v = (0, a.floydWarshall)(g),
                    y = t.maxToFocus(v, p);
                  t.handleInfinity(v, p, y + 1), (t.distances = v);
                  var m = v[p],
                    b = t.width || 500,
                    x = t.height || 500,
                    _ = b - r[0] > r[0] ? r[0] : b - r[0],
                    w = x - r[1] > r[1] ? r[1] : x - r[1];
                  0 === _ && (_ = b / 2), 0 === w && (w = x / 2);
                  var E = w > _ ? _ : w,
                    S = Math.max.apply(Math, m),
                    M = [];
                  m.forEach(function (e, n) {
                    t.unitRadius || (t.unitRadius = E / S), (M[n] = e * t.unitRadius);
                  }),
                    (t.radii = M);
                  var k = t.eIdealDisMatrix();
                  t.eIdealDistances = k;
                  var A = (function (t) {
                    for (var e = t.length, n = t[0].length, r = [], i = 0; i < e; i++) {
                      for (var o = [], a = 0; a < n; a++)
                        0 !== t[i][a] ? o.push(1 / (t[i][a] * t[i][a])) : o.push(0);
                      r.push(o);
                    }
                    return r;
                  })(k);
                  t.weights = A;
                  var C = new u.default({ linkDistance: i, distances: k }).layout();
                  C.forEach(function (t) {
                    (0, a.isNaN)(t[0]) && (t[0] = Math.random() * i),
                      (0, a.isNaN)(t[1]) && (t[1] = Math.random() * i);
                  }),
                    (t.positions = C),
                    C.forEach(function (t, n) {
                      (e[n].x = t[0] + r[0]), (e[n].y = t[1] + r[1]);
                    }),
                    C.forEach(function (t) {
                      (t[0] -= C[p][0]), (t[1] -= C[p][1]);
                    }),
                    t.run();
                  var I,
                    T = t.preventOverlap,
                    N = t.nodeSize,
                    P = t.strictRadial;
                  if (T) {
                    var O,
                      D = t.nodeSpacing;
                    (O = (0, a.isNumber)(D)
                      ? function () {
                          return D;
                        }
                      : (0, a.isFunction)(D)
                      ? D
                      : function () {
                          return 0;
                        }),
                      (I = N
                        ? (0, a.isArray)(N)
                          ? function (t) {
                              return (N[0] > N[1] ? N[0] : N[1]) + O(t);
                            }
                          : function (t) {
                              return N + O(t);
                            }
                        : function (t) {
                            return t.size
                              ? (0, a.isArray)(t.size)
                                ? (t.size[0] > t.size[1] ? t.size[0] : t.size[1]) + O(t)
                                : (0, a.isObject)(t.size)
                                ? (t.size.width > t.size.height ? t.size.width : t.size.height) +
                                  O(t)
                                : t.size + O(t)
                              : 10 + O(t);
                          });
                    var L = {
                        nodes: e,
                        nodeSizeFunc: I,
                        adjMatrix: g,
                        positions: C,
                        radii: M,
                        height: x,
                        width: b,
                        strictRadial: P,
                        focusID: p,
                        iterations: t.maxPreventOverlapIteration || 200,
                        k: C.length / 4.5,
                      },
                      R = new c.default(L);
                    C = R.layout();
                  }
                  return (
                    C.forEach(function (t, n) {
                      (e[n].x = t[0] + r[0]), (e[n].y = t[1] + r[1]);
                    }),
                    t.onLayoutEnd && t.onLayoutEnd(),
                    { nodes: e, edges: n }
                  );
                }
                t.onLayoutEnd && t.onLayoutEnd();
              }),
              (e.prototype.run = function () {
                for (
                  var t = this,
                    e = t.maxIteration,
                    n = t.positions || [],
                    r = t.weights || [],
                    i = t.eIdealDistances || [],
                    o = t.radii || [],
                    a = 0;
                  a <= e;
                  a++
                ) {
                  var s = a / e;
                  t.oneIteration(s, n, o, i, r);
                }
              }),
              (e.prototype.oneIteration = function (t, e, n, r, i) {
                var o = 1 - t,
                  a = this.focusIndex;
                e.forEach(function (s, u) {
                  var c = l(s, [0, 0]),
                    h = 0 === c ? 0 : 1 / c;
                  if (u !== a) {
                    var f = 0,
                      d = 0,
                      p = 0;
                    e.forEach(function (t, e) {
                      if (u !== e) {
                        var n = l(s, t),
                          o = 0 === n ? 0 : 1 / n,
                          a = r[e][u];
                        (p += i[u][e]),
                          (f += i[u][e] * (t[0] + a * (s[0] - t[0]) * o)),
                          (d += i[u][e] * (t[1] + a * (s[1] - t[1]) * o));
                      }
                    });
                    var g = 0 === n[u] ? 0 : 1 / n[u];
                    (p *= o),
                      (p += t * g * g),
                      (f *= o),
                      (f += t * g * s[0] * h),
                      (s[0] = f / p),
                      (d *= o),
                      (d += t * g * s[1] * h),
                      (s[1] = d / p);
                  }
                });
              }),
              (e.prototype.eIdealDisMatrix = function () {
                var t = this,
                  e = t.nodes;
                if (!e) return [];
                var n = t.distances,
                  r = t.linkDistance,
                  i = t.radii || [],
                  o = t.unitRadius || 50,
                  s = [];
                return (
                  n &&
                    n.forEach(function (n, u) {
                      var c = [];
                      n.forEach(function (n, s) {
                        if (u === s) c.push(0);
                        else if (i[u] === i[s])
                          if ('data' === t.sortBy)
                            c.push((n * (Math.abs(u - s) * t.sortStrength)) / (i[u] / o));
                          else if (t.sortBy) {
                            var l = e[u][t.sortBy] || 0,
                              h = e[s][t.sortBy] || 0;
                            (0, a.isString)(l) && (l = l.charCodeAt(0)),
                              (0, a.isString)(h) && (h = h.charCodeAt(0)),
                              c.push((n * (Math.abs(l - h) * t.sortStrength)) / (i[u] / o));
                          } else c.push((n * r) / (i[u] / o));
                        else {
                          var f = (r + o) / 2;
                          c.push(n * f);
                        }
                      }),
                        s.push(c);
                    }),
                  s
                );
              }),
              (e.prototype.handleInfinity = function (t, e, n) {
                for (var r = t.length, i = 0; i < r; i++)
                  if (t[e][i] === 1 / 0) {
                    (t[e][i] = n), (t[i][e] = n);
                    for (var o = 0; o < r; o++)
                      t[i][o] !== 1 / 0 &&
                        t[e][o] === 1 / 0 &&
                        ((t[e][o] = n + t[i][o]), (t[o][e] = n + t[i][o]));
                  }
                for (i = 0; i < r; i++)
                  if (i !== e)
                    for (o = 0; o < r; o++)
                      if (t[i][o] === 1 / 0) {
                        var a = Math.abs(t[e][i] - t[e][o]);
                        (a = 0 === a ? 1 : a), (t[i][o] = a);
                      }
              }),
              (e.prototype.maxToFocus = function (t, e) {
                for (var n = 0, r = 0; r < t[e].length; r++)
                  t[e][r] !== 1 / 0 && (n = t[e][r] > n ? t[e][r] : n);
                return n;
              }),
              (e.prototype.getType = function () {
                return 'radial';
              }),
              e
            );
          })(s.Base);
          e.RadialLayout = h;
        },
        6290: (t, e) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 });
          var n = (function () {
            function t(t) {
              (this.disp = []),
                (this.positions = t.positions),
                (this.adjMatrix = t.adjMatrix),
                (this.focusID = t.focusID),
                (this.radii = t.radii),
                (this.iterations = t.iterations || 10),
                (this.height = t.height || 10),
                (this.width = t.width || 10),
                (this.speed = t.speed || 100),
                (this.gravity = t.gravity || 10),
                (this.nodeSizeFunc = t.nodeSizeFunc),
                (this.k = t.k || 5),
                (this.strictRadial = t.strictRadial),
                (this.nodes = t.nodes);
            }
            return (
              (t.prototype.layout = function () {
                var t = this,
                  e = t.positions,
                  n = [],
                  r = t.iterations,
                  i = t.width / 10;
                (t.maxDisplace = i), (t.disp = n);
                for (var o = 0; o < r; o++)
                  e.forEach(function (t, e) {
                    n[e] = { x: 0, y: 0 };
                  }),
                    t.getRepulsion(),
                    t.updatePositions();
                return e;
              }),
              (t.prototype.getRepulsion = function () {
                var t = this,
                  e = t.positions,
                  n = t.nodes,
                  r = t.disp,
                  i = t.k,
                  o = t.radii || [];
                e.forEach(function (a, s) {
                  (r[s] = { x: 0, y: 0 }),
                    e.forEach(function (e, u) {
                      if (s !== u && o[s] === o[u]) {
                        var c = a[0] - e[0],
                          l = a[1] - e[1],
                          h = Math.sqrt(c * c + l * l);
                        if (0 === h) {
                          h = 1;
                          var f = s > u ? 1 : -1;
                          (c = 0.01 * f), (l = 0.01 * f);
                        }
                        if (h < t.nodeSizeFunc(n[s]) / 2 + t.nodeSizeFunc(n[u]) / 2) {
                          var d = (i * i) / h;
                          (r[s].x += (c / h) * d), (r[s].y += (l / h) * d);
                        }
                      }
                    });
                });
              }),
              (t.prototype.updatePositions = function () {
                var t = this,
                  e = t.positions,
                  n = t.disp,
                  r = t.speed,
                  i = t.strictRadial,
                  o = t.focusID,
                  a = t.maxDisplace || t.width / 10;
                i &&
                  n.forEach(function (t, n) {
                    var r = e[n][0] - e[o][0],
                      i = e[n][1] - e[o][1],
                      a = Math.sqrt(r * r + i * i),
                      s = i / a,
                      u = -r / a,
                      c = Math.sqrt(t.x * t.x + t.y * t.y),
                      l = Math.acos((s * t.x + u * t.y) / c);
                    l > Math.PI / 2 && ((l -= Math.PI / 2), (s *= -1), (u *= -1));
                    var h = Math.cos(l) * c;
                    (t.x = s * h), (t.y = u * h);
                  });
                var s = t.radii;
                e.forEach(function (t, u) {
                  if (u !== o) {
                    var c = Math.sqrt(n[u].x * n[u].x + n[u].y * n[u].y);
                    if (c > 0 && u !== o) {
                      var l = Math.min(a * (r / 800), c);
                      if (((t[0] += (n[u].x / c) * l), (t[1] += (n[u].y / c) * l), i)) {
                        var h = t[0] - e[o][0],
                          f = t[1] - e[o][1],
                          d = Math.sqrt(h * h + f * f);
                        (h = (h / d) * s[u]),
                          (f = (f / d) * s[u]),
                          (t[0] = e[o][0] + h),
                          (t[1] = e[o][1] + f);
                      }
                    }
                  }
                });
              }),
              t
            );
          })();
          e.default = n;
        },
        9711: function (t, e, n) {
          'use strict';
          var r,
            i =
              (this && this.__extends) ||
              ((r = function (t, e) {
                return (
                  (r =
                    Object.setPrototypeOf ||
                    ({ __proto__: [] } instanceof Array &&
                      function (t, e) {
                        t.__proto__ = e;
                      }) ||
                    function (t, e) {
                      for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
                    }),
                  r(t, e)
                );
              }),
              function (t, e) {
                if ('function' != typeof e && null !== e)
                  throw new TypeError(
                    'Class extends value ' + String(e) + ' is not a constructor or null',
                  );
                function n() {
                  this.constructor = t;
                }
                r(t, e),
                  (t.prototype =
                    null === e ? Object.create(e) : ((n.prototype = e.prototype), new n()));
              });
          Object.defineProperty(e, '__esModule', { value: !0 }), (e.RandomLayout = void 0);
          var o = (function (t) {
            function e(e) {
              var n = t.call(this) || this;
              return (
                (n.center = [0, 0]),
                (n.width = 300),
                (n.height = 300),
                (n.nodes = []),
                (n.edges = []),
                (n.onLayoutEnd = function () {}),
                n.updateCfg(e),
                n
              );
            }
            return (
              i(e, t),
              (e.prototype.getDefaultCfg = function () {
                return { center: [0, 0], width: 300, height: 300 };
              }),
              (e.prototype.execute = function () {
                var t = this,
                  e = t.nodes,
                  n = t.center;
                return (
                  t.width || 'undefined' == typeof window || (t.width = window.innerWidth),
                  t.height || 'undefined' == typeof window || (t.height = window.innerHeight),
                  e &&
                    e.forEach(function (e) {
                      (e.x = 0.9 * (Math.random() - 0.5) * t.width + n[0]),
                        (e.y = 0.9 * (Math.random() - 0.5) * t.height + n[1]);
                    }),
                  t.onLayoutEnd && t.onLayoutEnd(),
                  { nodes: e, edges: this.edges }
                );
              }),
              (e.prototype.getType = function () {
                return 'random';
              }),
              e
            );
          })(n(2329).Base);
          e.RandomLayout = o;
        },
        2867: (t, e) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 });
        },
        5326: function (t, e, n) {
          'use strict';
          var r,
            i =
              (this && this.__extends) ||
              ((r = function (t, e) {
                return (
                  (r =
                    Object.setPrototypeOf ||
                    ({ __proto__: [] } instanceof Array &&
                      function (t, e) {
                        t.__proto__ = e;
                      }) ||
                    function (t, e) {
                      for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
                    }),
                  r(t, e)
                );
              }),
              function (t, e) {
                if ('function' != typeof e && null !== e)
                  throw new TypeError(
                    'Class extends value ' + String(e) + ' is not a constructor or null',
                  );
                function n() {
                  this.constructor = t;
                }
                r(t, e),
                  (t.prototype =
                    null === e ? Object.create(e) : ((n.prototype = e.prototype), new n()));
              });
          Object.defineProperty(e, '__esModule', { value: !0 }),
            (e.getLayoutByName = e.unRegisterLayout = e.registerLayout = void 0);
          var o = n(2329),
            a = n(9784),
            s = new Map();
          (e.registerLayout = function (t, e) {
            if (
              (s.get(t) &&
                console.warn(
                  'The layout with the name ' + t + ' exists already, it will be overridden',
                ),
              (0, a.isObject)(e))
            ) {
              var n = (function (t) {
                function n(n) {
                  var r = t.call(this) || this,
                    i = r,
                    o = {},
                    a = i.getDefaultCfg();
                  return (
                    Object.assign(o, a, e, n),
                    Object.keys(o).forEach(function (t) {
                      var e = o[t];
                      i[t] = e;
                    }),
                    r
                  );
                }
                return i(n, t), n;
              })(o.Base);
              s.set(t, n);
            } else s.set(t, e);
            return s.get(t);
          }),
            (e.unRegisterLayout = function (t) {
              s.has(t) && s.delete(t);
            }),
            (e.getLayoutByName = function (t) {
              return s.has(t) ? s.get(t) : null;
            });
        },
        5087: (t, e) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }),
            (e.isArray = void 0),
            (e.isArray = Array.isArray);
        },
        8732: (t, e, n) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }),
            (e.getFuncByUnknownType = e.getFunc = e.isFunction = void 0);
          var r = n(9784),
            i = n(627);
          (e.isFunction = function (t) {
            return 'function' == typeof t;
          }),
            (e.getFunc = function (t, e, n) {
              return (
                n ||
                ((0, i.isNumber)(t)
                  ? function () {
                      return t;
                    }
                  : function () {
                      return e;
                    })
              );
            }),
            (e.getFuncByUnknownType = function (t, n, o) {
              return (
                void 0 === o && (o = !0),
                n || 0 === n
                  ? (0, e.isFunction)(n)
                    ? n
                    : (0, i.isNumber)(n)
                    ? function () {
                        return n;
                      }
                    : (0, r.isArray)(n)
                    ? function () {
                        if (o) {
                          var e = Math.max.apply(Math, n);
                          return isNaN(e) ? t : e;
                        }
                        return n;
                      }
                    : (0, r.isObject)(n)
                    ? function () {
                        if (o) {
                          var e = Math.max(n.width, n.height);
                          return isNaN(e) ? t : e;
                        }
                        return [n.width, n.height];
                      }
                    : function () {
                        return t;
                      }
                  : function (e) {
                      return e.size
                        ? (0, r.isArray)(e.size)
                          ? e.size[0] > e.size[1]
                            ? e.size[0]
                            : e.size[1]
                          : (0, r.isObject)(e.size)
                          ? e.size.width > e.size.height
                            ? e.size.width
                            : e.size.height
                          : e.size
                        : t;
                    }
              );
            });
        },
        8835: (t, e, n) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }),
            (e.arrayToTextureData =
              e.attributesToTextureData =
              e.buildTextureDataWithTwoEdgeAttr =
              e.buildTextureData =
              e.proccessToFunc =
                void 0);
          var r = n(9784),
            i = n(628);
          (e.proccessToFunc = function (t, e) {
            return t
              ? (0, r.isNumber)(t)
                ? function () {
                    return t;
                  }
                : t
              : function () {
                  return e || 1;
                };
          }),
            (e.buildTextureData = function (t, e) {
              var n = [],
                r = [],
                o = {},
                a = 0;
              for (a = 0; a < t.length; a++) {
                var s = t[a];
                (o[s.id] = a), n.push(s.x), n.push(s.y), n.push(0), n.push(0), r.push([]);
              }
              for (a = 0; a < e.length; a++) {
                var u = e[a],
                  c = (0, i.getEdgeTerminal)(u, 'source'),
                  l = (0, i.getEdgeTerminal)(u, 'target');
                r[o[c]].push(o[l]), r[o[l]].push(o[c]);
              }
              var h = 0;
              for (a = 0; a < t.length; a++) {
                var f = n.length,
                  d = r[a],
                  p = d.length;
                (n[4 * a + 2] = f), (n[4 * a + 3] = d.length), (h = Math.max(h, d.length));
                for (var g = 0; g < p; ++g) {
                  var v = d[g];
                  n.push(+v);
                }
              }
              for (; n.length % 4 != 0; ) n.push(0);
              return { maxEdgePerVetex: h, array: new Float32Array(n) };
            }),
            (e.buildTextureDataWithTwoEdgeAttr = function (t, e, n, r) {
              var o = [],
                a = [],
                s = {},
                u = 0;
              for (u = 0; u < t.length; u++) {
                var c = t[u];
                (s[c.id] = u), o.push(c.x), o.push(c.y), o.push(0), o.push(0), a.push([]);
              }
              for (u = 0; u < e.length; u++) {
                var l = e[u],
                  h = (0, i.getEdgeTerminal)(l, 'source'),
                  f = (0, i.getEdgeTerminal)(l, 'target');
                a[s[h]].push(s[f]),
                  a[s[h]].push(n(l)),
                  a[s[h]].push(r(l)),
                  a[s[h]].push(0),
                  a[s[f]].push(s[h]),
                  a[s[f]].push(n(l)),
                  a[s[f]].push(r(l)),
                  a[s[f]].push(0);
              }
              var d = 0;
              for (u = 0; u < t.length; u++) {
                var p = o.length,
                  g = a[u],
                  v = g.length;
                (o[4 * u + 2] = p + (1048576 * v) / 4),
                  (o[4 * u + 3] = 0),
                  (d = Math.max(d, v / 4));
                for (var y = 0; y < v; ++y) {
                  var m = g[y];
                  o.push(+m);
                }
              }
              for (; o.length % 4 != 0; ) o.push(0);
              return { maxEdgePerVetex: d, array: new Float32Array(o) };
            }),
            (e.attributesToTextureData = function (t, e) {
              var n = [],
                r = t.length,
                i = {};
              return (
                e.forEach(function (e) {
                  t.forEach(function (t, o) {
                    if (
                      (void 0 === i[e[t]] && (i[e[t]] = Object.keys(i).length),
                      n.push(i[e[t]]),
                      o === r - 1)
                    )
                      for (; n.length % 4 != 0; ) n.push(0);
                  });
                }),
                { array: new Float32Array(n), count: Object.keys(i).length }
              );
            }),
            (e.arrayToTextureData = function (t) {
              for (
                var e = [],
                  n = t.length,
                  r = t[0].length,
                  i = function (r) {
                    t.forEach(function (t, i) {
                      if ((e.push(t[r]), i === n - 1)) for (; e.length % 4 != 0; ) e.push(0);
                    });
                  },
                  o = 0;
                o < r;
                o++
              )
                i(o);
              return new Float32Array(e);
            });
        },
        9784: function (t, e, n) {
          'use strict';
          var r =
              (this && this.__createBinding) ||
              (Object.create
                ? function (t, e, n, r) {
                    void 0 === r && (r = n),
                      Object.defineProperty(t, r, {
                        enumerable: !0,
                        get: function () {
                          return e[n];
                        },
                      });
                  }
                : function (t, e, n, r) {
                    void 0 === r && (r = n), (t[r] = e[n]);
                  }),
            i =
              (this && this.__exportStar) ||
              function (t, e) {
                for (var n in t)
                  'default' === n || Object.prototype.hasOwnProperty.call(e, n) || r(e, t, n);
              };
          Object.defineProperty(e, '__esModule', { value: !0 }),
            i(n(8055), e),
            i(n(5087), e),
            i(n(627), e),
            i(n(628), e),
            i(n(8130), e),
            i(n(8732), e);
        },
        628: (t, e, n) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }),
            (e.findMinMaxNodeXY =
              e.traverseTreeUp =
              e.scaleMatrix =
              e.getAdjMatrix =
              e.floydWarshall =
              e.getDegree =
              e.getEdgeTerminal =
                void 0);
          var r = n(8130);
          (e.getEdgeTerminal = function (t, e) {
            var n = t[e];
            return (0, r.isObject)(n) ? n.cell : n;
          }),
            (e.getDegree = function (t, n, r) {
              for (var i = [], o = 0; o < t; o++) i[o] = 0;
              return r
                ? (r.forEach(function (t) {
                    var r = (0, e.getEdgeTerminal)(t, 'source'),
                      o = (0, e.getEdgeTerminal)(t, 'target');
                    r && (i[n[r]] += 1), o && (i[n[o]] += 1);
                  }),
                  i)
                : i;
            }),
            (e.floydWarshall = function (t) {
              for (var e = [], n = t.length, r = 0; r < n; r += 1) {
                e[r] = [];
                for (var i = 0; i < n; i += 1)
                  r === i
                    ? (e[r][i] = 0)
                    : 0 !== t[r][i] && t[r][i]
                    ? (e[r][i] = t[r][i])
                    : (e[r][i] = 1 / 0);
              }
              for (var o = 0; o < n; o += 1)
                for (r = 0; r < n; r += 1)
                  for (i = 0; i < n; i += 1)
                    e[r][i] > e[r][o] + e[o][i] && (e[r][i] = e[r][o] + e[o][i]);
              return e;
            }),
            (e.getAdjMatrix = function (t, n) {
              var r = t.nodes,
                i = t.edges,
                o = [],
                a = {};
              if (!r) throw new Error('invalid nodes data!');
              return (
                r &&
                  r.forEach(function (t, e) {
                    (a[t.id] = e), o.push([]);
                  }),
                i &&
                  i.forEach(function (t) {
                    var r = (0, e.getEdgeTerminal)(t, 'source'),
                      i = (0, e.getEdgeTerminal)(t, 'target'),
                      s = a[r],
                      u = a[i];
                    (o[s][u] = 1), n || (o[u][s] = 1);
                  }),
                o
              );
            }),
            (e.scaleMatrix = function (t, e) {
              var n = [];
              return (
                t.forEach(function (t) {
                  var r = [];
                  t.forEach(function (t) {
                    r.push(t * e);
                  }),
                    n.push(r);
                }),
                n
              );
            });
          var i = function (t, e) {
            if (t && t.children)
              for (var n = t.children.length - 1; n >= 0; n--) if (!i(t.children[n], e)) return;
            return !!e(t);
          };
          (e.traverseTreeUp = function (t, e) {
            'function' == typeof e && i(t, e);
          }),
            (e.findMinMaxNodeXY = function (t) {
              var e = 1 / 0,
                n = 1 / 0,
                r = -1 / 0,
                i = -1 / 0;
              return (
                t.forEach(function (t) {
                  e > t.x && (e = t.x),
                    n > t.y && (n = t.y),
                    r < t.x && (r = t.x),
                    i < t.y && (i = t.y);
                }),
                { minX: e, minY: n, maxX: r, maxY: i }
              );
            });
        },
        627: (t, e) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }),
            (e.toNumber = e.isNaN = e.isNumber = void 0),
            (e.isNumber = function (t) {
              return 'number' == typeof t;
            }),
            (e.isNaN = function (t) {
              return Number.isNaN(Number(t));
            }),
            (e.toNumber = function (t) {
              var n = parseFloat(t);
              return (0, e.isNaN)(n) ? t : n;
            });
        },
        8130: function (t, e) {
          'use strict';
          var n =
            (this && this.__assign) ||
            function () {
              return (
                (n =
                  Object.assign ||
                  function (t) {
                    for (var e, n = 1, r = arguments.length; n < r; n++)
                      for (var i in (e = arguments[n]))
                        Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i]);
                    return t;
                  }),
                n.apply(this, arguments)
              );
            };
          Object.defineProperty(e, '__esModule', { value: !0 }),
            (e.clone = e.isObject = void 0),
            (e.isObject = function (t) {
              return null !== t && 'object' == typeof t;
            }),
            (e.clone = function (t) {
              if (null === t) return t;
              if (t instanceof Date) return new Date(t.getTime());
              if (t instanceof Array) {
                var r = [];
                return (
                  t.forEach(function (t) {
                    r.push(t);
                  }),
                  r.map(function (t) {
                    return (0, e.clone)(t);
                  })
                );
              }
              if ('object' == typeof t && t !== {}) {
                var i = n({}, t);
                return (
                  Object.keys(i).forEach(function (t) {
                    i[t] = (0, e.clone)(i[t]);
                  }),
                  i
                );
              }
              return t;
            });
        },
        8055: (t, e) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }),
            (e.camelize = e.isString = void 0),
            (e.isString = function (t) {
              return 'string' == typeof t;
            });
          var n,
            r,
            i = /-(\w)/g;
          e.camelize =
            ((n = function (t) {
              return t.replace(i, function (t, e) {
                return e ? e.toUpperCase() : '';
              });
            }),
            (r = Object.create(null)),
            function (t) {
              return r[t] || (r[t] = n(t));
            });
        },
        1506: (t, e, n) => {
          'use strict';
          n.r(e),
            n.d(e, {
              angleTo: () => l,
              direction: () => c,
              leftRotate: () => a,
              leftScale: () => s,
              leftTranslate: () => o,
              transform: () => u,
              vertical: () => h,
            });
          var r = n(5600),
            i = n(1437);
          function o(t, e, n) {
            var i = [0, 0, 0, 0, 0, 0, 0, 0, 0];
            return r.fromTranslation(i, n), r.multiply(t, i, e);
          }
          function a(t, e, n) {
            var i = [0, 0, 0, 0, 0, 0, 0, 0, 0];
            return r.fromRotation(i, n), r.multiply(t, i, e);
          }
          function s(t, e, n) {
            var i = [0, 0, 0, 0, 0, 0, 0, 0, 0];
            return r.fromScaling(i, n), r.multiply(t, i, e);
          }
          function u(t, e) {
            for (
              var n, i, u, c = t ? [].concat(t) : [1, 0, 0, 0, 1, 0, 0, 0, 1], l = 0, h = e.length;
              l < h;
              l++
            ) {
              var f = e[l];
              switch (f[0]) {
                case 't':
                  o(c, c, [f[1], f[2]]);
                  break;
                case 's':
                  s(c, c, [f[1], f[2]]);
                  break;
                case 'r':
                  a(c, c, f[1]);
                  break;
                case 'm':
                  (n = c), (i = c), (u = f[1]), r.multiply(n, u, i);
              }
            }
            return c;
          }
          function c(t, e) {
            return t[0] * e[1] - e[0] * t[1];
          }
          function l(t, e, n) {
            var r = i.angle(t, e),
              o = c(t, e) >= 0;
            return n ? (o ? 2 * Math.PI - r : r) : o ? r : 2 * Math.PI - r;
          }
          function h(t, e, n) {
            return n ? ((t[0] = e[1]), (t[1] = -1 * e[0])) : ((t[0] = -1 * e[1]), (t[1] = e[0])), t;
          }
        },
        3567: (t, e, n) => {
          'use strict';
          n.r(e), n.d(e, { ext: () => a, mat3: () => r, vec2: () => i, vec3: () => o });
          var r = n(5600),
            i = n(1437),
            o = n(7160),
            a = n(1506);
        },
        2093: (t, e, n) => {
          'use strict';
          n.d(e, { e9: () => s, tr: () => h, wb: () => p, zx: () => _ });
          var r = n(9242),
            i = /[MLHVQTCSAZ]([^MLHVQTCSAZ]*)/gi,
            o = /[^\s\,]+/gi;
          var a = n(1437);
          const s = function (t, e, n) {
            void 0 === e && (e = !1),
              void 0 === n &&
                (n = [
                  [0, 0],
                  [1, 1],
                ]);
            for (var r = !!e, i = [], o = 0, s = t.length; o < s; o += 2) i.push([t[o], t[o + 1]]);
            var u,
              c,
              l,
              h = (function (t, e, n, r) {
                var i,
                  o,
                  s,
                  u,
                  c,
                  l,
                  h,
                  f = [],
                  d = !!r;
                if (d) {
                  (s = r[0]), (u = r[1]);
                  for (var p = 0, g = t.length; p < g; p += 1) {
                    var v = t[p];
                    (s = a.min([0, 0], s, v)), (u = a.max([0, 0], u, v));
                  }
                }
                p = 0;
                for (var y = t.length; p < y; p += 1)
                  if (((v = t[p]), 0 !== p || n))
                    if (p !== y - 1 || n) {
                      (i = t[[p ? p - 1 : y - 1, p - 1][n ? 0 : 1]]),
                        (o = t[n ? (p + 1) % y : p + 1]);
                      var m = [0, 0];
                      (m = a.sub(m, o, i)), (m = a.scale(m, m, 0.4));
                      var b = a.distance(v, i),
                        x = a.distance(v, o),
                        _ = b + x;
                      0 !== _ && ((b /= _), (x /= _));
                      var w = a.scale([0, 0], m, -b),
                        E = a.scale([0, 0], m, x);
                      (l = a.add([0, 0], v, w)),
                        (c = a.add([0, 0], v, E)),
                        (c = a.min([0, 0], c, a.max([0, 0], o, v))),
                        (c = a.max([0, 0], c, a.min([0, 0], o, v))),
                        (w = a.sub([0, 0], c, v)),
                        (w = a.scale([0, 0], w, -b / x)),
                        (l = a.add([0, 0], v, w)),
                        (l = a.min([0, 0], l, a.max([0, 0], i, v))),
                        (l = a.max([0, 0], l, a.min([0, 0], i, v))),
                        (E = a.sub([0, 0], v, l)),
                        (E = a.scale([0, 0], E, x / b)),
                        (c = a.add([0, 0], v, E)),
                        d &&
                          ((l = a.max([0, 0], l, s)),
                          (l = a.min([0, 0], l, u)),
                          (c = a.max([0, 0], c, s)),
                          (c = a.min([0, 0], c, u))),
                        f.push(h),
                        f.push(l),
                        (h = c);
                    } else (l = v), f.push(h), f.push(l);
                  else h = v;
                return n && f.push(f.shift()), f;
              })(i, 0, r, n),
              f = i.length,
              d = [];
            for (o = 0; o < f - 1; o += 1)
              (u = h[2 * o]),
                (c = h[2 * o + 1]),
                (l = i[o + 1]),
                d.push(['C', u[0], u[1], c[0], c[1], l[0], l[1]]);
            return (
              r &&
                ((u = h[f]),
                (c = h[f + 1]),
                (l = i[0]),
                d.push(['C', u[0], u[1], c[0], c[1], l[0], l[1]])),
              d
            );
          };
          var u = '\t\n\v\f\r   ᠎             　\u2028\u2029',
            c = new RegExp(
              '([a-z])[' + u + ',]*((-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?[' + u + ']*,?[' + u + ']*)+)',
              'ig',
            ),
            l = new RegExp('(-?\\d*\\.?\\d*(?:e[\\-+]?\\d+)?)[' + u + ']*,?[' + u + ']*', 'ig');
          function h(t) {
            if (!t) return null;
            if ((0, r.isArray)(t)) return t;
            var e = {
                a: 7,
                c: 6,
                o: 2,
                h: 1,
                l: 2,
                m: 2,
                r: 4,
                q: 4,
                s: 4,
                t: 2,
                v: 1,
                u: 3,
                z: 0,
              },
              n = [];
            return (
              String(t).replace(c, function (t, r, i) {
                var o = [],
                  a = r.toLowerCase();
                if (
                  (i.replace(l, function (t, e) {
                    e && o.push(+e);
                  }),
                  'm' === a &&
                    o.length > 2 &&
                    (n.push([r].concat(o.splice(0, 2))), (a = 'l'), (r = 'm' === r ? 'l' : 'L')),
                  'o' === a && 1 === o.length && n.push([r, o[0]]),
                  'r' === a)
                )
                  n.push([r].concat(o));
                else for (; o.length >= e[a] && (n.push([r].concat(o.splice(0, e[a]))), e[a]); );
                return '';
              }),
              n
            );
          }
          var f = /[a-z]/;
          function d(t, e) {
            return [e[0] + (e[0] - t[0]), e[1] + (e[1] - t[1])];
          }
          function p(t) {
            var e = h(t);
            if (!e || !e.length) return [['M', 0, 0]];
            for (var n = !1, r = 0; r < e.length; r++) {
              var i = e[r][0];
              if (f.test(i) || ['V', 'H', 'T', 'S'].indexOf(i) >= 0) {
                n = !0;
                break;
              }
            }
            if (!n) return e;
            var o = [],
              a = 0,
              s = 0,
              u = 0,
              c = 0,
              l = 0,
              p = e[0];
            ('M' !== p[0] && 'm' !== p[0]) ||
              ((u = a = +p[1]), (c = s = +p[2]), l++, (o[0] = ['M', a, s])),
              (r = l);
            for (var g = e.length; r < g; r++) {
              var v = e[r],
                y = o[r - 1],
                m = [],
                b = (i = v[0]).toUpperCase();
              if (i !== b)
                switch (((m[0] = b), b)) {
                  case 'A':
                    (m[1] = v[1]),
                      (m[2] = v[2]),
                      (m[3] = v[3]),
                      (m[4] = v[4]),
                      (m[5] = v[5]),
                      (m[6] = +v[6] + a),
                      (m[7] = +v[7] + s);
                    break;
                  case 'V':
                    m[1] = +v[1] + s;
                    break;
                  case 'H':
                    m[1] = +v[1] + a;
                    break;
                  case 'M':
                    (u = +v[1] + a), (c = +v[2] + s), (m[1] = u), (m[2] = c);
                    break;
                  default:
                    for (var x = 1, _ = v.length; x < _; x++) m[x] = +v[x] + (x % 2 ? a : s);
                }
              else m = e[r];
              switch (b) {
                case 'Z':
                  (a = +u), (s = +c);
                  break;
                case 'H':
                  m = ['L', (a = m[1]), s];
                  break;
                case 'V':
                  m = ['L', a, (s = m[1])];
                  break;
                case 'T':
                  (a = m[1]), (s = m[2]);
                  var w = d([y[1], y[2]], [y[3], y[4]]);
                  m = ['Q', w[0], w[1], a, s];
                  break;
                case 'S':
                  (a = m[m.length - 2]), (s = m[m.length - 1]);
                  var E = y.length,
                    S = d([y[E - 4], y[E - 3]], [y[E - 2], y[E - 1]]);
                  m = ['C', S[0], S[1], m[1], m[2], a, s];
                  break;
                case 'M':
                  (u = m[m.length - 2]), (c = m[m.length - 1]);
                  break;
                default:
                  (a = m[m.length - 2]), (s = m[m.length - 1]);
              }
              o.push(m);
            }
            return o;
          }
          function g(t) {
            return Math.sqrt(t[0] * t[0] + t[1] * t[1]);
          }
          function v(t, e) {
            return g(t) * g(e) ? (t[0] * e[0] + t[1] * e[1]) / (g(t) * g(e)) : 1;
          }
          function y(t, e) {
            return (t[0] * e[1] < t[1] * e[0] ? -1 : 1) * Math.acos(v(t, e));
          }
          function m(t, e) {
            return t[0] === e[0] && t[1] === e[1];
          }
          function b(t, e) {
            var n = e[1],
              i = e[2],
              o = (0, r.mod)((0, r.toRadian)(e[3]), 2 * Math.PI),
              a = e[4],
              s = e[5],
              u = t[0],
              c = t[1],
              l = e[6],
              h = e[7],
              f = (Math.cos(o) * (u - l)) / 2 + (Math.sin(o) * (c - h)) / 2,
              d = (-1 * Math.sin(o) * (u - l)) / 2 + (Math.cos(o) * (c - h)) / 2,
              p = (f * f) / (n * n) + (d * d) / (i * i);
            p > 1 && ((n *= Math.sqrt(p)), (i *= Math.sqrt(p)));
            var g = n * n * (d * d) + i * i * (f * f),
              b = g ? Math.sqrt((n * n * (i * i) - g) / g) : 1;
            a === s && (b *= -1), isNaN(b) && (b = 0);
            var x = i ? (b * n * d) / i : 0,
              _ = n ? (b * -i * f) / n : 0,
              w = (u + l) / 2 + Math.cos(o) * x - Math.sin(o) * _,
              E = (c + h) / 2 + Math.sin(o) * x + Math.cos(o) * _,
              S = [(f - x) / n, (d - _) / i],
              M = [(-1 * f - x) / n, (-1 * d - _) / i],
              k = y([1, 0], S),
              A = y(S, M);
            return (
              v(S, M) <= -1 && (A = Math.PI),
              v(S, M) >= 1 && (A = 0),
              0 === s && A > 0 && (A -= 2 * Math.PI),
              1 === s && A < 0 && (A += 2 * Math.PI),
              {
                cx: w,
                cy: E,
                rx: m(t, [l, h]) ? 0 : n,
                ry: m(t, [l, h]) ? 0 : i,
                startAngle: k,
                endAngle: k + A,
                xRotation: o,
                arcFlag: a,
                sweepFlag: s,
              }
            );
          }
          function x(t, e) {
            return [e[0] + (e[0] - t[0]), e[1] + (e[1] - t[1])];
          }
          function _(t) {
            for (
              var e = [],
                n = null,
                a = null,
                s = null,
                u = 0,
                c = (t = (function (t) {
                  var e = t || [];
                  return (0, r.isArray)(e)
                    ? e
                    : (0, r.isString)(e)
                    ? ((e = e.match(i)),
                      (0, r.each)(e, function (t, n) {
                        if ((t = t.match(o))[0].length > 1) {
                          var i = t[0].charAt(0);
                          t.splice(1, 0, t[0].substr(1)), (t[0] = i);
                        }
                        (0, r.each)(t, function (e, n) {
                          isNaN(e) || (t[n] = +e);
                        }),
                          (e[n] = t);
                      }),
                      e)
                    : void 0;
                })(t)).length,
                l = 0;
              l < c;
              l++
            ) {
              var h = t[l];
              a = t[l + 1];
              var f = h[0],
                d = { command: f, prePoint: n, params: h, startTangent: null, endTangent: null };
              switch (f) {
                case 'M':
                  (s = [h[1], h[2]]), (u = l);
                  break;
                case 'A':
                  var p = b(n, h);
                  d.arcParams = p;
              }
              if ('Z' === f) (n = s), (a = t[u + 1]);
              else {
                var g = h.length;
                n = [h[g - 2], h[g - 1]];
              }
              a && 'Z' === a[0] && ((a = t[u]), e[u] && (e[u].prePoint = n)),
                (d.currentPoint = n),
                e[u] && m(n, e[u].currentPoint) && (e[u].prePoint = d.prePoint);
              var v = a ? [a[a.length - 2], a[a.length - 1]] : null;
              d.nextPoint = v;
              var y = d.prePoint;
              if (['L', 'H', 'V'].includes(f))
                (d.startTangent = [y[0] - n[0], y[1] - n[1]]),
                  (d.endTangent = [n[0] - y[0], n[1] - y[1]]);
              else if ('Q' === f) {
                var _ = [h[1], h[2]];
                (d.startTangent = [y[0] - _[0], y[1] - _[1]]),
                  (d.endTangent = [n[0] - _[0], n[1] - _[1]]);
              } else if ('T' === f)
                (_ = x((S = e[l - 1]).currentPoint, y)),
                  'Q' === S.command
                    ? ((d.command = 'Q'),
                      (d.startTangent = [y[0] - _[0], y[1] - _[1]]),
                      (d.endTangent = [n[0] - _[0], n[1] - _[1]]))
                    : ((d.command = 'TL'),
                      (d.startTangent = [y[0] - n[0], y[1] - n[1]]),
                      (d.endTangent = [n[0] - y[0], n[1] - y[1]]));
              else if ('C' === f) {
                var w = [h[1], h[2]],
                  E = [h[3], h[4]];
                (d.startTangent = [y[0] - w[0], y[1] - w[1]]),
                  (d.endTangent = [n[0] - E[0], n[1] - E[1]]),
                  0 === d.startTangent[0] &&
                    0 === d.startTangent[1] &&
                    (d.startTangent = [w[0] - E[0], w[1] - E[1]]),
                  0 === d.endTangent[0] &&
                    0 === d.endTangent[1] &&
                    (d.endTangent = [E[0] - w[0], E[1] - w[1]]);
              } else if ('S' === f) {
                var S;
                (w = x((S = e[l - 1]).currentPoint, y)),
                  (E = [h[1], h[2]]),
                  'C' === S.command
                    ? ((d.command = 'C'),
                      (d.startTangent = [y[0] - w[0], y[1] - w[1]]),
                      (d.endTangent = [n[0] - E[0], n[1] - E[1]]))
                    : ((d.command = 'SQ'),
                      (d.startTangent = [y[0] - E[0], y[1] - E[1]]),
                      (d.endTangent = [n[0] - E[0], n[1] - E[1]]));
              } else if ('A' === f) {
                var M = 0.001,
                  k = d.arcParams || {},
                  A = k.cx,
                  C = void 0 === A ? 0 : A,
                  I = k.cy,
                  T = void 0 === I ? 0 : I,
                  N = k.rx,
                  P = void 0 === N ? 0 : N,
                  O = k.ry,
                  D = void 0 === O ? 0 : O,
                  L = k.sweepFlag,
                  R = void 0 === L ? 0 : L,
                  B = k.startAngle,
                  j = void 0 === B ? 0 : B,
                  G = k.endAngle,
                  z = void 0 === G ? 0 : G;
                0 === R && (M *= -1);
                var F = P * Math.cos(j - M) + C,
                  U = D * Math.sin(j - M) + T;
                d.startTangent = [F - s[0], U - s[1]];
                var V = P * Math.cos(j + z + M) + C,
                  W = D * Math.sin(j + z - M) + T;
                d.endTangent = [y[0] - V, y[1] - W];
              }
              e.push(d);
            }
            return e;
          }
          Math.PI;
        },
        9242: (t, e, n) => {
          'use strict';
          n.r(e),
            n.d(e, {
              Cache: () => ke,
              assign: () => Xt,
              augment: () => Ht,
              clamp: () => et,
              clearAnimationFrame: () => Wt,
              clone: () => Kt,
              contains: () => i,
              debounce: () => Zt,
              deepMix: () => Jt,
              difference: () => a,
              each: () => d,
              endsWith: () => V,
              every: () => W,
              extend: () => te,
              filter: () => o,
              find: () => m,
              findIndex: () => b,
              firstValue: () => x,
              fixedBase: () => nt,
              flatten: () => _,
              flattenDeep: () => E,
              forIn: () => bt,
              get: () => le,
              getEllipsisText: () => Me,
              getRange: () => k,
              getType: () => Nt,
              getWrapBehavior: () => Z,
              group: () => K,
              groupBy: () => H,
              groupToMap: () => q,
              has: () => xt,
              hasKey: () => _t,
              hasValue: () => Et,
              head: () => z,
              identity: () => xe,
              includes: () => i,
              indexOf: () => ee,
              isArguments: () => Pt,
              isArray: () => h,
              isArrayLike: () => r,
              isBoolean: () => Ot,
              isDate: () => Dt,
              isDecimal: () => it,
              isElement: () => Ut,
              isEmpty: () => re,
              isEqual: () => oe,
              isEqualWith: () => ae,
              isError: () => Lt,
              isEven: () => ot,
              isFinite: () => Rt,
              isFunction: () => c,
              isInteger: () => at,
              isMatch: () => g,
              isNegative: () => st,
              isNil: () => l,
              isNull: () => Bt,
              isNumber: () => rt,
              isNumberEqual: () => ut,
              isObject: () => f,
              isObjectLike: () => v,
              isOdd: () => ct,
              isPlainObject: () => y,
              isPositive: () => lt,
              isPrototype: () => Gt,
              isRegExp: () => zt,
              isString: () => L,
              isType: () => u,
              isUndefined: () => Ft,
              keys: () => p,
              last: () => F,
              lowerCase: () => Mt,
              lowerFirst: () => kt,
              map: () => se,
              mapValues: () => ce,
              max: () => S,
              maxBy: () => ht,
              measureTextWidth: () => Se,
              memoize: () => $t,
              min: () => M,
              minBy: () => ft,
              mix: () => Xt,
              mod: () => dt,
              noop: () => be,
              number2color: () => J,
              omit: () => pe,
              parseRadius: () => tt,
              pick: () => de,
              pull: () => T,
              pullAt: () => P,
              reduce: () => O,
              remove: () => D,
              requestAnimationFrame: () => Vt,
              set: () => he,
              size: () => _e,
              some: () => Y,
              sortBy: () => R,
              startsWith: () => U,
              substitute: () => At,
              throttle: () => ge,
              toArray: () => ve,
              toDegree: () => gt,
              toInteger: () => vt,
              toRadian: () => mt,
              toString: () => St,
              union: () => j,
              uniq: () => B,
              uniqueId: () => me,
              upperCase: () => Ct,
              upperFirst: () => It,
              values: () => wt,
              valuesOfKey: () => G,
              wrapBehavior: () => $,
            });
          const r = function (t) {
              return null !== t && 'function' != typeof t && isFinite(t.length);
            },
            i = function (t, e) {
              return !!r(t) && t.indexOf(e) > -1;
            },
            o = function (t, e) {
              if (!r(t)) return t;
              for (var n = [], i = 0; i < t.length; i++) {
                var o = t[i];
                e(o, i) && n.push(o);
              }
              return n;
            },
            a = function (t, e) {
              return (
                void 0 === e && (e = []),
                o(t, function (t) {
                  return !i(e, t);
                })
              );
            };
          var s = {}.toString;
          const u = function (t, e) {
              return s.call(t) === '[object ' + e + ']';
            },
            c = function (t) {
              return u(t, 'Function');
            },
            l = function (t) {
              return null == t;
            },
            h = function (t) {
              return Array.isArray ? Array.isArray(t) : u(t, 'Array');
            },
            f = function (t) {
              var e = typeof t;
              return (null !== t && 'object' === e) || 'function' === e;
            },
            d = function (t, e) {
              if (t)
                if (h(t)) for (var n = 0, r = t.length; n < r && !1 !== e(t[n], n); n++);
                else if (f(t)) for (var i in t) if (t.hasOwnProperty(i) && !1 === e(t[i], i)) break;
            },
            p = Object.keys
              ? function (t) {
                  return Object.keys(t);
                }
              : function (t) {
                  var e = [];
                  return (
                    d(t, function (n, r) {
                      (c(t) && 'prototype' === r) || e.push(r);
                    }),
                    e
                  );
                },
            g = function (t, e) {
              var n = p(e),
                r = n.length;
              if (l(t)) return !r;
              for (var i = 0; i < r; i += 1) {
                var o = n[i];
                if (e[o] !== t[o] || !(o in t)) return !1;
              }
              return !0;
            },
            v = function (t) {
              return 'object' == typeof t && null !== t;
            },
            y = function (t) {
              if (!v(t) || !u(t, 'Object')) return !1;
              if (null === Object.getPrototypeOf(t)) return !0;
              for (var e = t; null !== Object.getPrototypeOf(e); ) e = Object.getPrototypeOf(e);
              return Object.getPrototypeOf(t) === e;
            },
            m = function (t, e) {
              if (!h(t)) return null;
              var n;
              if (
                (c(e) && (n = e),
                y(e) &&
                  (n = function (t) {
                    return g(t, e);
                  }),
                n)
              )
                for (var r = 0; r < t.length; r += 1) if (n(t[r])) return t[r];
              return null;
            },
            b = function (t, e, n) {
              void 0 === n && (n = 0);
              for (var r = n; r < t.length; r++) if (e(t[r], r)) return r;
              return -1;
            },
            x = function (t, e) {
              for (var n = null, r = 0; r < t.length; r++) {
                var i = t[r][e];
                if (!l(i)) {
                  n = h(i) ? i[0] : i;
                  break;
                }
              }
              return n;
            },
            _ = function (t) {
              if (!h(t)) return [];
              for (var e = [], n = 0; n < t.length; n++) e = e.concat(t[n]);
              return e;
            };
          var w = function (t, e) {
            if ((void 0 === e && (e = []), h(t))) for (var n = 0; n < t.length; n += 1) w(t[n], e);
            else e.push(t);
            return e;
          };
          const E = w,
            S = function (t) {
              if (h(t))
                return t.reduce(function (t, e) {
                  return Math.max(t, e);
                }, t[0]);
            },
            M = function (t) {
              if (h(t))
                return t.reduce(function (t, e) {
                  return Math.min(t, e);
                }, t[0]);
            },
            k = function (t) {
              var e = t.filter(function (t) {
                return !isNaN(t);
              });
              if (!e.length) return { min: 0, max: 0 };
              if (h(t[0])) {
                for (var n = [], r = 0; r < t.length; r++) n = n.concat(t[r]);
                e = n;
              }
              var i = S(e);
              return { min: M(e), max: i };
            };
          var A = Array.prototype,
            C = A.splice,
            I = A.indexOf;
          const T = function (t) {
            for (var e = [], n = 1; n < arguments.length; n++) e[n - 1] = arguments[n];
            for (var r = 0; r < e.length; r++)
              for (var i = e[r], o = -1; (o = I.call(t, i)) > -1; ) C.call(t, o, 1);
            return t;
          };
          var N = Array.prototype.splice;
          const P = function (t, e) {
              if (!r(t)) return [];
              for (var n = t ? e.length : 0, i = n - 1; n--; ) {
                var o = void 0,
                  a = e[n];
                (n !== i && a === o) || ((o = a), N.call(t, a, 1));
              }
              return t;
            },
            O = function (t, e, n) {
              if (!h(t) && !y(t)) return t;
              var r = n;
              return (
                d(t, function (t, n) {
                  r = e(r, t, n);
                }),
                r
              );
            },
            D = function (t, e) {
              var n = [];
              if (!r(t)) return n;
              for (var i = -1, o = [], a = t.length; ++i < a; ) {
                var s = t[i];
                e(s, i, t) && (n.push(s), o.push(i));
              }
              return P(t, o), n;
            },
            L = function (t) {
              return u(t, 'String');
            },
            R = function (t, e) {
              var n;
              if (c(e))
                n = function (t, n) {
                  return e(t) - e(n);
                };
              else {
                var r = [];
                L(e) ? r.push(e) : h(e) && (r = e),
                  (n = function (t, e) {
                    for (var n = 0; n < r.length; n += 1) {
                      var i = r[n];
                      if (t[i] > e[i]) return 1;
                      if (t[i] < e[i]) return -1;
                    }
                    return 0;
                  });
              }
              return t.sort(n), t;
            };
          function B(t, e) {
            void 0 === e && (e = new Map());
            var n = [];
            if (Array.isArray(t))
              for (var r = 0, i = t.length; r < i; r++) {
                var o = t[r];
                e.has(o) || (n.push(o), e.set(o, !0));
              }
            return n;
          }
          const j = function () {
              for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
              return B([].concat.apply([], t));
            },
            G = function (t, e) {
              for (var n = [], r = {}, i = 0; i < t.length; i++) {
                var o = t[i][e];
                if (!l(o)) {
                  h(o) || (o = [o]);
                  for (var a = 0; a < o.length; a++) {
                    var s = o[a];
                    r[s] || (n.push(s), (r[s] = !0));
                  }
                }
              }
              return n;
            };
          function z(t) {
            if (r(t)) return t[0];
          }
          function F(t) {
            if (r(t)) return t[t.length - 1];
          }
          const U = function (t, e) {
              return !(!h(t) && !L(t)) && t[0] === e;
            },
            V = function (t, e) {
              return !(!h(t) && !L(t)) && t[t.length - 1] === e;
            },
            W = function (t, e) {
              for (var n = 0; n < t.length; n++) if (!e(t[n], n)) return !1;
              return !0;
            },
            Y = function (t, e) {
              for (var n = 0; n < t.length; n++) if (e(t[n], n)) return !0;
              return !1;
            };
          var X = Object.prototype.hasOwnProperty;
          const H = function (t, e) {
            if (!e || !h(t)) return {};
            for (
              var n,
                r = {},
                i = c(e)
                  ? e
                  : function (t) {
                      return t[e];
                    },
                o = 0;
              o < t.length;
              o++
            ) {
              var a = t[o];
              (n = i(a)), X.call(r, n) ? r[n].push(a) : (r[n] = [a]);
            }
            return r;
          };
          function q(t, e) {
            if (!e) return { 0: t };
            if (!c(e)) {
              var n = h(e) ? e : e.replace(/\s+/g, '').split('*');
              e = function (t) {
                for (var e = '_', r = 0, i = n.length; r < i; r++)
                  e += t[n[r]] && t[n[r]].toString();
                return e;
              };
            }
            return H(t, e);
          }
          const K = function (t, e) {
              if (!e) return [t];
              var n = q(t, e),
                r = [];
              for (var i in n) r.push(n[i]);
              return r;
            },
            Z = function (t, e) {
              return t['_wrap_' + e];
            },
            $ = function (t, e) {
              if (t['_wrap_' + e]) return t['_wrap_' + e];
              var n = function (n) {
                t[e](n);
              };
              return (t['_wrap_' + e] = n), n;
            };
          var Q = {};
          const J = function (t) {
              var e = Q[t];
              if (!e) {
                for (var n = t.toString(16), r = n.length; r < 6; r++) n = '0' + n;
                (e = '#' + n), (Q[t] = e);
              }
              return e;
            },
            tt = function (t) {
              var e = 0,
                n = 0,
                r = 0,
                i = 0;
              return (
                h(t)
                  ? 1 === t.length
                    ? (e = n = r = i = t[0])
                    : 2 === t.length
                    ? ((e = r = t[0]), (n = i = t[1]))
                    : 3 === t.length
                    ? ((e = t[0]), (n = i = t[1]), (r = t[2]))
                    : ((e = t[0]), (n = t[1]), (r = t[2]), (i = t[3]))
                  : (e = n = r = i = t),
                { r1: e, r2: n, r3: r, r4: i }
              );
            },
            et = function (t, e, n) {
              return t < e ? e : t > n ? n : t;
            },
            nt = function (t, e) {
              var n = e.toString(),
                r = n.indexOf('.');
              if (-1 === r) return Math.round(t);
              var i = n.substr(r + 1).length;
              return i > 20 && (i = 20), parseFloat(t.toFixed(i));
            },
            rt = function (t) {
              return u(t, 'Number');
            },
            it = function (t) {
              return rt(t) && t % 1 != 0;
            },
            ot = function (t) {
              return rt(t) && t % 2 == 0;
            },
            at = Number.isInteger
              ? Number.isInteger
              : function (t) {
                  return rt(t) && t % 1 == 0;
                },
            st = function (t) {
              return rt(t) && t < 0;
            };
          function ut(t, e, n) {
            return void 0 === n && (n = 1e-5), Math.abs(t - e) < n;
          }
          const ct = function (t) {
              return rt(t) && t % 2 != 0;
            },
            lt = function (t) {
              return rt(t) && t > 0;
            },
            ht = function (t, e) {
              if (h(t)) {
                for (var n, r = -1 / 0, i = 0; i < t.length; i++) {
                  var o = t[i],
                    a = c(e) ? e(o) : o[e];
                  a > r && ((n = o), (r = a));
                }
                return n;
              }
            },
            ft = function (t, e) {
              if (h(t)) {
                for (var n, r = 1 / 0, i = 0; i < t.length; i++) {
                  var o = t[i],
                    a = c(e) ? e(o) : o[e];
                  a < r && ((n = o), (r = a));
                }
                return n;
              }
            },
            dt = function (t, e) {
              return ((t % e) + e) % e;
            };
          var pt = 180 / Math.PI;
          const gt = function (t) {
              return pt * t;
            },
            vt = parseInt;
          var yt = Math.PI / 180;
          const mt = function (t) {
              return yt * t;
            },
            bt = d,
            xt = function (t, e) {
              return t.hasOwnProperty(e);
            },
            _t = xt,
            wt = Object.values
              ? function (t) {
                  return Object.values(t);
                }
              : function (t) {
                  var e = [];
                  return (
                    d(t, function (n, r) {
                      (c(t) && 'prototype' === r) || e.push(n);
                    }),
                    e
                  );
                },
            Et = function (t, e) {
              return i(wt(t), e);
            },
            St = function (t) {
              return l(t) ? '' : t.toString();
            },
            Mt = function (t) {
              return St(t).toLowerCase();
            },
            kt = function (t) {
              var e = St(t);
              return e.charAt(0).toLowerCase() + e.substring(1);
            },
            At = function (t, e) {
              return t && e
                ? t.replace(/\\?\{([^{}]+)\}/g, function (t, n) {
                    return '\\' === t.charAt(0) ? t.slice(1) : void 0 === e[n] ? '' : e[n];
                  })
                : t;
            },
            Ct = function (t) {
              return St(t).toUpperCase();
            },
            It = function (t) {
              var e = St(t);
              return e.charAt(0).toUpperCase() + e.substring(1);
            };
          var Tt = {}.toString;
          const Nt = function (t) {
              return Tt.call(t)
                .replace(/^\[object /, '')
                .replace(/]$/, '');
            },
            Pt = function (t) {
              return u(t, 'Arguments');
            },
            Ot = function (t) {
              return u(t, 'Boolean');
            },
            Dt = function (t) {
              return u(t, 'Date');
            },
            Lt = function (t) {
              return u(t, 'Error');
            };
          function Rt(t) {
            return rt(t) && isFinite(t);
          }
          const Bt = function (t) {
            return null === t;
          };
          var jt = Object.prototype;
          const Gt = function (t) {
              var e = t && t.constructor;
              return t === (('function' == typeof e && e.prototype) || jt);
            },
            zt = function (t) {
              return u(t, 'RegExp');
            },
            Ft = function (t) {
              return void 0 === t;
            },
            Ut = function (t) {
              return t instanceof Element || t instanceof HTMLDocument;
            };
          function Vt(t) {
            return (
              window.requestAnimationFrame ||
              window.webkitRequestAnimationFrame ||
              window.mozRequestAnimationFrame ||
              window.msRequestAnimationFrame ||
              function (t) {
                return setTimeout(t, 16);
              }
            )(t);
          }
          function Wt(t) {
            (
              window.cancelAnimationFrame ||
              window.webkitCancelAnimationFrame ||
              window.mozCancelAnimationFrame ||
              window.msCancelAnimationFrame ||
              clearTimeout
            )(t);
          }
          function Yt(t, e) {
            for (var n in e)
              e.hasOwnProperty(n) && 'constructor' !== n && void 0 !== e[n] && (t[n] = e[n]);
          }
          function Xt(t, e, n, r) {
            return e && Yt(t, e), n && Yt(t, n), r && Yt(t, r), t;
          }
          const Ht = function () {
            for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
            for (var n = t[0], r = 1; r < t.length; r++) {
              var i = t[r];
              c(i) && (i = i.prototype), Xt(n.prototype, i);
            }
          };
          var qt = function (t) {
            if ('object' != typeof t || null === t) return t;
            var e;
            if (h(t)) {
              e = [];
              for (var n = 0, r = t.length; n < r; n++)
                'object' == typeof t[n] && null != t[n] ? (e[n] = qt(t[n])) : (e[n] = t[n]);
            } else
              for (var i in ((e = {}), t))
                'object' == typeof t[i] && null != t[i] ? (e[i] = qt(t[i])) : (e[i] = t[i]);
            return e;
          };
          const Kt = qt,
            Zt = function (t, e, n) {
              var r;
              return function () {
                var i = this,
                  o = arguments,
                  a = function () {
                    (r = null), n || t.apply(i, o);
                  },
                  s = n && !r;
                clearTimeout(r), (r = setTimeout(a, e)), s && t.apply(i, o);
              };
            },
            $t = function (t, e) {
              if (!c(t)) throw new TypeError('Expected a function');
              var n = function () {
                for (var r = [], i = 0; i < arguments.length; i++) r[i] = arguments[i];
                var o = e ? e.apply(this, r) : r[0],
                  a = n.cache;
                if (a.has(o)) return a.get(o);
                var s = t.apply(this, r);
                return a.set(o, s), s;
              };
              return (n.cache = new Map()), n;
            };
          function Qt(t, e, n, r) {
            for (var i in ((n = n || 0), (r = r || 5), e))
              if (e.hasOwnProperty(i)) {
                var o = e[i];
                null !== o && y(o)
                  ? (y(t[i]) || (t[i] = {}), n < r ? Qt(t[i], o, n + 1, r) : (t[i] = e[i]))
                  : h(o)
                  ? ((t[i] = []), (t[i] = t[i].concat(o)))
                  : void 0 !== o && (t[i] = o);
              }
          }
          const Jt = function (t) {
              for (var e = [], n = 1; n < arguments.length; n++) e[n - 1] = arguments[n];
              for (var r = 0; r < e.length; r += 1) Qt(t, e[r]);
              return t;
            },
            te = function (t, e, n, r) {
              c(e) || ((n = e), (e = t), (t = function () {}));
              var i = Object.create
                  ? function (t, e) {
                      return Object.create(t, { constructor: { value: e } });
                    }
                  : function (t, e) {
                      function n() {}
                      n.prototype = t;
                      var r = new n();
                      return (r.constructor = e), r;
                    },
                o = i(e.prototype, t);
              return (
                (t.prototype = Xt(o, t.prototype)),
                (t.superclass = i(e.prototype, e)),
                Xt(o, n),
                Xt(t, r),
                t
              );
            },
            ee = function (t, e) {
              if (!r(t)) return -1;
              var n = Array.prototype.indexOf;
              if (n) return n.call(t, e);
              for (var i = -1, o = 0; o < t.length; o++)
                if (t[o] === e) {
                  i = o;
                  break;
                }
              return i;
            };
          var ne = Object.prototype.hasOwnProperty;
          const re = function (t) {
            if (l(t)) return !0;
            if (r(t)) return !t.length;
            var e = Nt(t);
            if ('Map' === e || 'Set' === e) return !t.size;
            if (Gt(t)) return !Object.keys(t).length;
            for (var n in t) if (ne.call(t, n)) return !1;
            return !0;
          };
          var ie = function (t, e) {
            if (t === e) return !0;
            if (!t || !e) return !1;
            if (L(t) || L(e)) return !1;
            if (r(t) || r(e)) {
              if (t.length !== e.length) return !1;
              for (var n = !0, i = 0; i < t.length && (n = ie(t[i], e[i])); i++);
              return n;
            }
            if (v(t) || v(e)) {
              var o = Object.keys(t),
                a = Object.keys(e);
              if (o.length !== a.length) return !1;
              for (n = !0, i = 0; i < o.length && (n = ie(t[o[i]], e[o[i]])); i++);
              return n;
            }
            return !1;
          };
          const oe = ie,
            ae = function (t, e, n) {
              return c(n) ? !!n(t, e) : oe(t, e);
            },
            se = function (t, e) {
              if (!r(t)) return t;
              for (var n = [], i = 0; i < t.length; i++) {
                var o = t[i];
                n.push(e(o, i));
              }
              return n;
            };
          var ue = function (t) {
            return t;
          };
          const ce = function (t, e) {
              void 0 === e && (e = ue);
              var n = {};
              return (
                f(t) &&
                  !l(t) &&
                  Object.keys(t).forEach(function (r) {
                    n[r] = e(t[r], r);
                  }),
                n
              );
            },
            le = function (t, e, n) {
              for (var r = 0, i = L(e) ? e.split('.') : e; t && r < i.length; ) t = t[i[r++]];
              return void 0 === t || r < i.length ? n : t;
            },
            he = function (t, e, n) {
              var r = t,
                i = L(e) ? e.split('.') : e;
              return (
                i.forEach(function (t, e) {
                  e < i.length - 1
                    ? (f(r[t]) || (r[t] = rt(i[e + 1]) ? [] : {}), (r = r[t]))
                    : (r[t] = n);
                }),
                t
              );
            };
          var fe = Object.prototype.hasOwnProperty;
          const de = function (t, e) {
              if (null === t || !y(t)) return {};
              var n = {};
              return (
                d(e, function (e) {
                  fe.call(t, e) && (n[e] = t[e]);
                }),
                n
              );
            },
            pe = function (t, e) {
              return O(
                t,
                function (t, n, r) {
                  return e.includes(r) || (t[r] = n), t;
                },
                {},
              );
            },
            ge = function (t, e, n) {
              var r,
                i,
                o,
                a,
                s = 0;
              n || (n = {});
              var u = function () {
                  (s = !1 === n.leading ? 0 : Date.now()),
                    (r = null),
                    (a = t.apply(i, o)),
                    r || (i = o = null);
                },
                c = function () {
                  var c = Date.now();
                  s || !1 !== n.leading || (s = c);
                  var l = e - (c - s);
                  return (
                    (i = this),
                    (o = arguments),
                    l <= 0 || l > e
                      ? (r && (clearTimeout(r), (r = null)),
                        (s = c),
                        (a = t.apply(i, o)),
                        r || (i = o = null))
                      : r || !1 === n.trailing || (r = setTimeout(u, l)),
                    a
                  );
                };
              return (
                (c.cancel = function () {
                  clearTimeout(r), (s = 0), (r = i = o = null);
                }),
                c
              );
            },
            ve = function (t) {
              return r(t) ? Array.prototype.slice.call(t) : [];
            };
          var ye = {};
          const me = function (t) {
              return ye[(t = t || 'g')] ? (ye[t] += 1) : (ye[t] = 1), t + ye[t];
            },
            be = function () {},
            xe = function (t) {
              return t;
            };
          function _e(t) {
            return l(t) ? 0 : r(t) ? t.length : Object.keys(t).length;
          }
          var we,
            Ee = n(655);
          const Se = $t(
              function (t, e) {
                void 0 === e && (e = {});
                var n = e.fontSize,
                  r = e.fontFamily,
                  i = e.fontWeight,
                  o = e.fontStyle,
                  a = e.fontVariant;
                return (
                  we || (we = document.createElement('canvas').getContext('2d')),
                  (we.font = [o, a, i, n + 'px', r].join(' ')),
                  we.measureText(L(t) ? t : '').width
                );
              },
              function (t, e) {
                return void 0 === e && (e = {}), (0, Ee.__spreadArrays)([t], wt(e)).join('');
              },
            ),
            Me = function (t, e, n, r) {
              void 0 === r && (r = '...');
              var i,
                o,
                a = Se(r, n),
                s = L(t) ? t : St(t),
                u = e,
                c = [];
              if (Se(t, n) <= e) return t;
              for (; (i = s.substr(0, 16)), !((o = Se(i, n)) + a > u && o > u); )
                if ((c.push(i), (u -= o), !(s = s.substr(16)))) return c.join('');
              for (; (i = s.substr(0, 1)), !((o = Se(i, n)) + a > u); )
                if ((c.push(i), (u -= o), !(s = s.substr(1)))) return c.join('');
              return '' + c.join('') + r;
            },
            ke = (function () {
              function t() {
                this.map = {};
              }
              return (
                (t.prototype.has = function (t) {
                  return void 0 !== this.map[t];
                }),
                (t.prototype.get = function (t, e) {
                  var n = this.map[t];
                  return void 0 === n ? e : n;
                }),
                (t.prototype.set = function (t, e) {
                  this.map[t] = e;
                }),
                (t.prototype.clear = function () {
                  this.map = {};
                }),
                (t.prototype.delete = function (t) {
                  delete this.map[t];
                }),
                (t.prototype.size = function () {
                  return Object.keys(this.map).length;
                }),
                t
              );
            })();
        },
        7757: (t, e, n) => {
          t.exports = n(5666);
        },
        5788: (t, e, n) => {
          var r = n(8579);
          t.exports = { Graph: r.Graph, json: n(2485), alg: n(9100), version: r.version };
        },
        4774: (t, e, n) => {
          var r = n(7163);
          t.exports = function (t) {
            var e,
              n = {},
              i = [];
            function o(i) {
              r.has(n, i) ||
                ((n[i] = !0), e.push(i), r.each(t.successors(i), o), r.each(t.predecessors(i), o));
            }
            return (
              r.each(t.nodes(), function (t) {
                (e = []), o(t), e.length && i.push(e);
              }),
              i
            );
          };
        },
        7110: (t, e, n) => {
          var r = n(7163);
          function i(t, e, n, o, a, s) {
            r.has(o, e) ||
              ((o[e] = !0),
              n || s.push(e),
              r.each(a(e), function (e) {
                i(t, e, n, o, a, s);
              }),
              n && s.push(e));
          }
          t.exports = function (t, e, n) {
            r.isArray(e) || (e = [e]);
            var o = (t.isDirected() ? t.successors : t.neighbors).bind(t),
              a = [],
              s = {};
            return (
              r.each(e, function (e) {
                if (!t.hasNode(e)) throw new Error('Graph does not have node: ' + e);
                i(t, e, 'post' === n, s, o, a);
              }),
              a
            );
          };
        },
        3897: (t, e, n) => {
          var r = n(9205),
            i = n(7163);
          t.exports = function (t, e, n) {
            return i.transform(
              t.nodes(),
              function (i, o) {
                i[o] = r(t, o, e, n);
              },
              {},
            );
          };
        },
        9205: (t, e, n) => {
          var r = n(7163),
            i = n(6129);
          t.exports = function (t, e, n, r) {
            return (function (t, e, n, r) {
              var o,
                a,
                s = {},
                u = new i(),
                c = function (t) {
                  var e = t.v !== o ? t.v : t.w,
                    r = s[e],
                    i = n(t),
                    c = a.distance + i;
                  if (i < 0)
                    throw new Error(
                      'dijkstra does not allow negative edge weights. Bad edge: ' +
                        t +
                        ' Weight: ' +
                        i,
                    );
                  c < r.distance && ((r.distance = c), (r.predecessor = o), u.decrease(e, c));
                };
              for (
                t.nodes().forEach(function (t) {
                  var n = t === e ? 0 : Number.POSITIVE_INFINITY;
                  (s[t] = { distance: n }), u.add(t, n);
                });
                u.size() > 0 &&
                ((o = u.removeMin()), (a = s[o]).distance !== Number.POSITIVE_INFINITY);

              )
                r(o).forEach(c);
              return s;
            })(
              t,
              String(e),
              n || o,
              r ||
                function (e) {
                  return t.outEdges(e);
                },
            );
          };
          var o = r.constant(1);
        },
        2630: (t, e, n) => {
          var r = n(7163),
            i = n(3070);
          t.exports = function (t) {
            return r.filter(i(t), function (e) {
              return e.length > 1 || (1 === e.length && t.hasEdge(e[0], e[0]));
            });
          };
        },
        3171: (t, e, n) => {
          var r = n(7163);
          t.exports = function (t, e, n) {
            return (function (t, e, n) {
              var r = {},
                i = t.nodes();
              return (
                i.forEach(function (t) {
                  (r[t] = {}),
                    (r[t][t] = { distance: 0 }),
                    i.forEach(function (e) {
                      t !== e && (r[t][e] = { distance: Number.POSITIVE_INFINITY });
                    }),
                    n(t).forEach(function (n) {
                      var i = n.v === t ? n.w : n.v,
                        o = e(n);
                      r[t][i] = { distance: o, predecessor: t };
                    });
                }),
                i.forEach(function (t) {
                  var e = r[t];
                  i.forEach(function (n) {
                    var o = r[n];
                    i.forEach(function (n) {
                      var r = o[t],
                        i = e[n],
                        a = o[n],
                        s = r.distance + i.distance;
                      s < a.distance && ((a.distance = s), (a.predecessor = i.predecessor));
                    });
                  });
                }),
                r
              );
            })(
              t,
              e || i,
              n ||
                function (e) {
                  return t.outEdges(e);
                },
            );
          };
          var i = r.constant(1);
        },
        9100: (t, e, n) => {
          t.exports = {
            components: n(4774),
            dijkstra: n(9205),
            dijkstraAll: n(3897),
            findCycles: n(2630),
            floydWarshall: n(3171),
            isAcyclic: n(8149),
            postorder: n(5979),
            preorder: n(5340),
            prim: n(4975),
            tarjan: n(3070),
            topsort: n(7034),
          };
        },
        8149: (t, e, n) => {
          var r = n(7034);
          t.exports = function (t) {
            try {
              r(t);
            } catch (t) {
              if (t instanceof r.CycleException) return !1;
              throw t;
            }
            return !0;
          };
        },
        5979: (t, e, n) => {
          var r = n(7110);
          t.exports = function (t, e) {
            return r(t, e, 'post');
          };
        },
        5340: (t, e, n) => {
          var r = n(7110);
          t.exports = function (t, e) {
            return r(t, e, 'pre');
          };
        },
        4975: (t, e, n) => {
          var r = n(7163),
            i = n(1053),
            o = n(6129);
          t.exports = function (t, e) {
            var n,
              a = new i(),
              s = {},
              u = new o();
            function c(t) {
              var r = t.v === n ? t.w : t.v,
                i = u.priority(r);
              if (void 0 !== i) {
                var o = e(t);
                o < i && ((s[r] = n), u.decrease(r, o));
              }
            }
            if (0 === t.nodeCount()) return a;
            r.each(t.nodes(), function (t) {
              u.add(t, Number.POSITIVE_INFINITY), a.setNode(t);
            }),
              u.decrease(t.nodes()[0], 0);
            for (var l = !1; u.size() > 0; ) {
              if (((n = u.removeMin()), r.has(s, n))) a.setEdge(n, s[n]);
              else {
                if (l) throw new Error('Input graph is not connected: ' + t);
                l = !0;
              }
              t.nodeEdges(n).forEach(c);
            }
            return a;
          };
        },
        3070: (t, e, n) => {
          var r = n(7163);
          t.exports = function (t) {
            var e = 0,
              n = [],
              i = {},
              o = [];
            function a(s) {
              var u = (i[s] = { onStack: !0, lowlink: e, index: e++ });
              if (
                (n.push(s),
                t.successors(s).forEach(function (t) {
                  r.has(i, t)
                    ? i[t].onStack && (u.lowlink = Math.min(u.lowlink, i[t].index))
                    : (a(t), (u.lowlink = Math.min(u.lowlink, i[t].lowlink)));
                }),
                u.lowlink === u.index)
              ) {
                var c,
                  l = [];
                do {
                  (c = n.pop()), (i[c].onStack = !1), l.push(c);
                } while (s !== c);
                o.push(l);
              }
            }
            return (
              t.nodes().forEach(function (t) {
                r.has(i, t) || a(t);
              }),
              o
            );
          };
        },
        7034: (t, e, n) => {
          var r = n(7163);
          function i(t) {
            var e = {},
              n = {},
              i = [];
            if (
              (r.each(t.sinks(), function a(s) {
                if (r.has(n, s)) throw new o();
                r.has(e, s) ||
                  ((n[s] = !0), (e[s] = !0), r.each(t.predecessors(s), a), delete n[s], i.push(s));
              }),
              r.size(e) !== t.nodeCount())
            )
              throw new o();
            return i;
          }
          function o() {}
          (t.exports = i), (i.CycleException = o);
        },
        6129: (t, e, n) => {
          var r = n(7163);
          function i() {
            (this._arr = []), (this._keyIndices = {});
          }
          (t.exports = i),
            (i.prototype.size = function () {
              return this._arr.length;
            }),
            (i.prototype.keys = function () {
              return this._arr.map(function (t) {
                return t.key;
              });
            }),
            (i.prototype.has = function (t) {
              return r.has(this._keyIndices, t);
            }),
            (i.prototype.priority = function (t) {
              var e = this._keyIndices[t];
              if (void 0 !== e) return this._arr[e].priority;
            }),
            (i.prototype.min = function () {
              if (0 === this.size()) throw new Error('Queue underflow');
              return this._arr[0].key;
            }),
            (i.prototype.add = function (t, e) {
              var n = this._keyIndices;
              if (((t = String(t)), !r.has(n, t))) {
                var i = this._arr,
                  o = i.length;
                return (n[t] = o), i.push({ key: t, priority: e }), this._decrease(o), !0;
              }
              return !1;
            }),
            (i.prototype.removeMin = function () {
              this._swap(0, this._arr.length - 1);
              var t = this._arr.pop();
              return delete this._keyIndices[t.key], this._heapify(0), t.key;
            }),
            (i.prototype.decrease = function (t, e) {
              var n = this._keyIndices[t];
              if (e > this._arr[n].priority)
                throw new Error(
                  'New priority is greater than current priority. Key: ' +
                    t +
                    ' Old: ' +
                    this._arr[n].priority +
                    ' New: ' +
                    e,
                );
              (this._arr[n].priority = e), this._decrease(n);
            }),
            (i.prototype._heapify = function (t) {
              var e = this._arr,
                n = 2 * t,
                r = n + 1,
                i = t;
              n < e.length &&
                ((i = e[n].priority < e[i].priority ? n : i),
                r < e.length && (i = e[r].priority < e[i].priority ? r : i),
                i !== t && (this._swap(t, i), this._heapify(i)));
            }),
            (i.prototype._decrease = function (t) {
              for (
                var e, n = this._arr, r = n[t].priority;
                0 !== t && !(n[(e = t >> 1)].priority < r);

              )
                this._swap(t, e), (t = e);
            }),
            (i.prototype._swap = function (t, e) {
              var n = this._arr,
                r = this._keyIndices,
                i = n[t],
                o = n[e];
              (n[t] = o), (n[e] = i), (r[o.key] = t), (r[i.key] = e);
            });
        },
        1053: (t, e, n) => {
          'use strict';
          var r = n(7163);
          t.exports = o;
          var i = '\0';
          function o(t) {
            (this._isDirected = !r.has(t, 'directed') || t.directed),
              (this._isMultigraph = !!r.has(t, 'multigraph') && t.multigraph),
              (this._isCompound = !!r.has(t, 'compound') && t.compound),
              (this._label = void 0),
              (this._defaultNodeLabelFn = r.constant(void 0)),
              (this._defaultEdgeLabelFn = r.constant(void 0)),
              (this._nodes = {}),
              this._isCompound &&
                ((this._parent = {}), (this._children = {}), (this._children['\0'] = {})),
              (this._in = {}),
              (this._preds = {}),
              (this._out = {}),
              (this._sucs = {}),
              (this._edgeObjs = {}),
              (this._edgeLabels = {});
          }
          function a(t, e) {
            t[e] ? t[e]++ : (t[e] = 1);
          }
          function s(t, e) {
            --t[e] || delete t[e];
          }
          function u(t, e, n, i) {
            var o = '' + e,
              a = '' + n;
            if (!t && o > a) {
              var s = o;
              (o = a), (a = s);
            }
            return o + '' + a + '' + (r.isUndefined(i) ? '\0' : i);
          }
          function c(t, e, n, r) {
            var i = '' + e,
              o = '' + n;
            if (!t && i > o) {
              var a = i;
              (i = o), (o = a);
            }
            var s = { v: i, w: o };
            return r && (s.name = r), s;
          }
          function l(t, e) {
            return u(t, e.v, e.w, e.name);
          }
          (o.prototype._nodeCount = 0),
            (o.prototype._edgeCount = 0),
            (o.prototype.isDirected = function () {
              return this._isDirected;
            }),
            (o.prototype.isMultigraph = function () {
              return this._isMultigraph;
            }),
            (o.prototype.isCompound = function () {
              return this._isCompound;
            }),
            (o.prototype.setGraph = function (t) {
              return (this._label = t), this;
            }),
            (o.prototype.graph = function () {
              return this._label;
            }),
            (o.prototype.setDefaultNodeLabel = function (t) {
              return r.isFunction(t) || (t = r.constant(t)), (this._defaultNodeLabelFn = t), this;
            }),
            (o.prototype.nodeCount = function () {
              return this._nodeCount;
            }),
            (o.prototype.nodes = function () {
              return r.keys(this._nodes);
            }),
            (o.prototype.sources = function () {
              return r.filter(
                this.nodes(),
                r.bind(function (t) {
                  return r.isEmpty(this._in[t]);
                }, this),
              );
            }),
            (o.prototype.sinks = function () {
              return r.filter(
                this.nodes(),
                r.bind(function (t) {
                  return r.isEmpty(this._out[t]);
                }, this),
              );
            }),
            (o.prototype.setNodes = function (t, e) {
              var n = arguments;
              return (
                r.each(
                  t,
                  r.bind(function (t) {
                    n.length > 1 ? this.setNode(t, e) : this.setNode(t);
                  }, this),
                ),
                this
              );
            }),
            (o.prototype.setNode = function (t, e) {
              return r.has(this._nodes, t)
                ? (arguments.length > 1 && (this._nodes[t] = e), this)
                : ((this._nodes[t] = arguments.length > 1 ? e : this._defaultNodeLabelFn(t)),
                  this._isCompound &&
                    ((this._parent[t] = i),
                    (this._children[t] = {}),
                    (this._children['\0'][t] = !0)),
                  (this._in[t] = {}),
                  (this._preds[t] = {}),
                  (this._out[t] = {}),
                  (this._sucs[t] = {}),
                  ++this._nodeCount,
                  this);
            }),
            (o.prototype.node = function (t) {
              return this._nodes[t];
            }),
            (o.prototype.hasNode = function (t) {
              return r.has(this._nodes, t);
            }),
            (o.prototype.removeNode = function (t) {
              var e = this;
              if (r.has(this._nodes, t)) {
                var n = function (t) {
                  e.removeEdge(e._edgeObjs[t]);
                };
                delete this._nodes[t],
                  this._isCompound &&
                    (this._removeFromParentsChildList(t),
                    delete this._parent[t],
                    r.each(
                      this.children(t),
                      r.bind(function (t) {
                        this.setParent(t);
                      }, this),
                    ),
                    delete this._children[t]),
                  r.each(r.keys(this._in[t]), n),
                  delete this._in[t],
                  delete this._preds[t],
                  r.each(r.keys(this._out[t]), n),
                  delete this._out[t],
                  delete this._sucs[t],
                  --this._nodeCount;
              }
              return this;
            }),
            (o.prototype.setParent = function (t, e) {
              if (!this._isCompound) throw new Error('Cannot set parent in a non-compound graph');
              if (r.isUndefined(e)) e = i;
              else {
                for (var n = (e += ''); !r.isUndefined(n); n = this.parent(n))
                  if (n === t)
                    throw new Error(
                      'Setting ' + e + ' as parent of ' + t + ' would create create a cycle',
                    );
                this.setNode(e);
              }
              return (
                this.setNode(t),
                this._removeFromParentsChildList(t),
                (this._parent[t] = e),
                (this._children[e][t] = !0),
                this
              );
            }),
            (o.prototype._removeFromParentsChildList = function (t) {
              delete this._children[this._parent[t]][t];
            }),
            (o.prototype.parent = function (t) {
              if (this._isCompound) {
                var e = this._parent[t];
                if (e !== i) return e;
              }
            }),
            (o.prototype.children = function (t) {
              if ((r.isUndefined(t) && (t = i), this._isCompound)) {
                var e = this._children[t];
                if (e) return r.keys(e);
              } else {
                if (t === i) return this.nodes();
                if (this.hasNode(t)) return [];
              }
            }),
            (o.prototype.predecessors = function (t) {
              var e = this._preds[t];
              if (e) return r.keys(e);
            }),
            (o.prototype.successors = function (t) {
              var e = this._sucs[t];
              if (e) return r.keys(e);
            }),
            (o.prototype.neighbors = function (t) {
              var e = this.predecessors(t);
              if (e) return r.union(e, this.successors(t));
            }),
            (o.prototype.isLeaf = function (t) {
              return 0 === (this.isDirected() ? this.successors(t) : this.neighbors(t)).length;
            }),
            (o.prototype.filterNodes = function (t) {
              var e = new this.constructor({
                directed: this._isDirected,
                multigraph: this._isMultigraph,
                compound: this._isCompound,
              });
              e.setGraph(this.graph()),
                r.each(
                  this._nodes,
                  r.bind(function (n, r) {
                    t(r) && e.setNode(r, n);
                  }, this),
                ),
                r.each(
                  this._edgeObjs,
                  r.bind(function (t) {
                    e.hasNode(t.v) && e.hasNode(t.w) && e.setEdge(t, this.edge(t));
                  }, this),
                );
              var n = this,
                i = {};
              function o(t) {
                var r = n.parent(t);
                return void 0 === r || e.hasNode(r) ? ((i[t] = r), r) : r in i ? i[r] : o(r);
              }
              return (
                this._isCompound &&
                  r.each(e.nodes(), function (t) {
                    e.setParent(t, o(t));
                  }),
                e
              );
            }),
            (o.prototype.setDefaultEdgeLabel = function (t) {
              return r.isFunction(t) || (t = r.constant(t)), (this._defaultEdgeLabelFn = t), this;
            }),
            (o.prototype.edgeCount = function () {
              return this._edgeCount;
            }),
            (o.prototype.edges = function () {
              return r.values(this._edgeObjs);
            }),
            (o.prototype.setPath = function (t, e) {
              var n = this,
                i = arguments;
              return (
                r.reduce(t, function (t, r) {
                  return i.length > 1 ? n.setEdge(t, r, e) : n.setEdge(t, r), r;
                }),
                this
              );
            }),
            (o.prototype.setEdge = function () {
              var t,
                e,
                n,
                i,
                o = !1,
                s = arguments[0];
              'object' == typeof s && null !== s && 'v' in s
                ? ((t = s.v),
                  (e = s.w),
                  (n = s.name),
                  2 === arguments.length && ((i = arguments[1]), (o = !0)))
                : ((t = s),
                  (e = arguments[1]),
                  (n = arguments[3]),
                  arguments.length > 2 && ((i = arguments[2]), (o = !0))),
                (t = '' + t),
                (e = '' + e),
                r.isUndefined(n) || (n = '' + n);
              var l = u(this._isDirected, t, e, n);
              if (r.has(this._edgeLabels, l)) return o && (this._edgeLabels[l] = i), this;
              if (!r.isUndefined(n) && !this._isMultigraph)
                throw new Error('Cannot set a named edge when isMultigraph = false');
              this.setNode(t),
                this.setNode(e),
                (this._edgeLabels[l] = o ? i : this._defaultEdgeLabelFn(t, e, n));
              var h = c(this._isDirected, t, e, n);
              return (
                (t = h.v),
                (e = h.w),
                Object.freeze(h),
                (this._edgeObjs[l] = h),
                a(this._preds[e], t),
                a(this._sucs[t], e),
                (this._in[e][l] = h),
                (this._out[t][l] = h),
                this._edgeCount++,
                this
              );
            }),
            (o.prototype.edge = function (t, e, n) {
              var r =
                1 === arguments.length
                  ? l(this._isDirected, arguments[0])
                  : u(this._isDirected, t, e, n);
              return this._edgeLabels[r];
            }),
            (o.prototype.hasEdge = function (t, e, n) {
              var i =
                1 === arguments.length
                  ? l(this._isDirected, arguments[0])
                  : u(this._isDirected, t, e, n);
              return r.has(this._edgeLabels, i);
            }),
            (o.prototype.removeEdge = function (t, e, n) {
              var r =
                  1 === arguments.length
                    ? l(this._isDirected, arguments[0])
                    : u(this._isDirected, t, e, n),
                i = this._edgeObjs[r];
              return (
                i &&
                  ((t = i.v),
                  (e = i.w),
                  delete this._edgeLabels[r],
                  delete this._edgeObjs[r],
                  s(this._preds[e], t),
                  s(this._sucs[t], e),
                  delete this._in[e][r],
                  delete this._out[t][r],
                  this._edgeCount--),
                this
              );
            }),
            (o.prototype.inEdges = function (t, e) {
              var n = this._in[t];
              if (n) {
                var i = r.values(n);
                return e
                  ? r.filter(i, function (t) {
                      return t.v === e;
                    })
                  : i;
              }
            }),
            (o.prototype.outEdges = function (t, e) {
              var n = this._out[t];
              if (n) {
                var i = r.values(n);
                return e
                  ? r.filter(i, function (t) {
                      return t.w === e;
                    })
                  : i;
              }
            }),
            (o.prototype.nodeEdges = function (t, e) {
              var n = this.inEdges(t, e);
              if (n) return n.concat(this.outEdges(t, e));
            });
        },
        8579: (t, e, n) => {
          t.exports = { Graph: n(1053), version: n(2321) };
        },
        2485: (t, e, n) => {
          var r = n(7163),
            i = n(1053);
          function o(t) {
            return r.map(t.nodes(), function (e) {
              var n = t.node(e),
                i = t.parent(e),
                o = { v: e };
              return r.isUndefined(n) || (o.value = n), r.isUndefined(i) || (o.parent = i), o;
            });
          }
          function a(t) {
            return r.map(t.edges(), function (e) {
              var n = t.edge(e),
                i = { v: e.v, w: e.w };
              return (
                r.isUndefined(e.name) || (i.name = e.name), r.isUndefined(n) || (i.value = n), i
              );
            });
          }
          t.exports = {
            write: function (t) {
              var e = {
                options: {
                  directed: t.isDirected(),
                  multigraph: t.isMultigraph(),
                  compound: t.isCompound(),
                },
                nodes: o(t),
                edges: a(t),
              };
              return r.isUndefined(t.graph()) || (e.value = r.clone(t.graph())), e;
            },
            read: function (t) {
              var e = new i(t.options).setGraph(t.value);
              return (
                r.each(t.nodes, function (t) {
                  e.setNode(t.v, t.value), t.parent && e.setParent(t.v, t.parent);
                }),
                r.each(t.edges, function (t) {
                  e.setEdge({ v: t.v, w: t.w, name: t.name }, t.value);
                }),
                e
              );
            },
          };
        },
        7163: (t, e, n) => {
          var r;
          try {
            r = n(6486);
          } catch (t) {}
          r || (r = window._), (t.exports = r);
        },
        2321: (t) => {
          t.exports = '2.1.4';
        },
        9469: (t, e) => {
          'use strict';
          var n, r, i, o, a, s, u, c, l, h, f, d, p, g, v, y, m, b, x, _, w, E, S, M, k;
          ((e.UX || (e.UX = {})).TextureCompressionBC = 'texture-compression-bc'),
            ((k = e.OB || (e.OB = {})).ClampToEdge = 'clamp-to-edge'),
            (k.Repeat = 'repeat'),
            (k.MirrorRepeat = 'mirror-repeat'),
            ((M = e.$l || (e.$l = {})).UniformBuffer = 'uniform-buffer'),
            (M.StorageBuffer = 'storage-buffer'),
            (M.ReadonlyStorageBuffer = 'readonly-storage-buffer'),
            (M.Sampler = 'sampler'),
            (M.ComparisonSampler = 'comparison-sampler'),
            (M.SampledTexture = 'sampled-texture'),
            (M.ReadonlyStorageTexture = 'readonly-storage-texture'),
            (M.WriteonlyStorageTexture = 'writeonly-storage-texture'),
            ((S = e.zi || (e.zi = {})).Zero = 'zero'),
            (S.One = 'one'),
            (S.SrcColor = 'src-color'),
            (S.OneMinusSrcColor = 'one-minus-src-color'),
            (S.SrcAlpha = 'src-alpha'),
            (S.OneMinusSrcAlpha = 'one-minus-src-alpha'),
            (S.DstColor = 'dst-color'),
            (S.OneMinusDstColor = 'one-minus-dst-color'),
            (S.DstAlpha = 'dst-alpha'),
            (S.OneMinusDstAlpha = 'one-minus-dst-alpha'),
            (S.SrcAlphaSaturated = 'src-alpha-saturated'),
            (S.BlendColor = 'blend-color'),
            (S.OneMinusBlendColor = 'one-minus-blend-color'),
            ((E = e.db || (e.db = {})).Add = 'add'),
            (E.Subtract = 'subtract'),
            (E.ReverseSubtract = 'reverse-subtract'),
            (E.Min = 'min'),
            (E.Max = 'max'),
            ((w = e.wb || (e.wb = {})).Never = 'never'),
            (w.Less = 'less'),
            (w.Equal = 'equal'),
            (w.LessEqual = 'less-equal'),
            (w.Greater = 'greater'),
            (w.NotEqual = 'not-equal'),
            (w.GreaterEqual = 'greater-equal'),
            (w.Always = 'always'),
            ((_ = e.Wf || (e.Wf = {})).None = 'none'),
            (_.Front = 'front'),
            (_.Back = 'back'),
            ((x = e.X9 || (e.X9 = {})).Nearest = 'nearest'),
            (x.Linear = 'linear'),
            ((b = e.zX || (e.zX = {})).CCW = 'ccw'),
            (b.CW = 'cw'),
            ((m = e.iD || (e.iD = {})).Uint16 = 'uint16'),
            (m.Uint32 = 'uint32'),
            ((y = e.V || (e.V = {})).Vertex = 'vertex'),
            (y.Instance = 'instance'),
            ((e.Ws || (e.Ws = {})).Load = 'load'),
            ((v = e.YV || (e.YV = {})).PointList = 'point-list'),
            (v.LineList = 'line-list'),
            (v.LineStrip = 'line-strip'),
            (v.TriangleList = 'triangle-list'),
            (v.TriangleStrip = 'triangle-strip'),
            ((g = e.xS || (e.xS = {})).Keep = 'keep'),
            (g.Zero = 'zero'),
            (g.Replace = 'replace'),
            (g.Invert = 'invert'),
            (g.IncrementClamp = 'increment-clamp'),
            (g.DecrementClamp = 'decrement-clamp'),
            (g.IncrementWrap = 'increment-wrap'),
            (g.DecrementWrap = 'decrement-wrap'),
            ((p = e.EG || (e.EG = {})).Store = 'store'),
            (p.Clear = 'clear'),
            ((d = e.kd || (e.kd = {})).E1d = '1d'),
            (d.E2d = '2d'),
            (d.E3d = '3d'),
            ((f = e.EV || (e.EV = {})).R8Unorm = 'r8unorm'),
            (f.R8Snorm = 'r8snorm'),
            (f.R8Uint = 'r8uint'),
            (f.R8Sint = 'r8sint'),
            (f.R16Uint = 'r16uint'),
            (f.R16Sint = 'r16sint'),
            (f.R16Float = 'r16float'),
            (f.RG8Unorm = 'rg8unorm'),
            (f.RG8Snorm = 'rg8snorm'),
            (f.RG8Uint = 'rg8uint'),
            (f.RG8Sint = 'rg8sint'),
            (f.R32Uint = 'r32uint'),
            (f.R32Sint = 'r32sint'),
            (f.R32Float = 'r32float'),
            (f.RG16Uint = 'rg16uint'),
            (f.RG16Sint = 'rg16sint'),
            (f.RG16Float = 'rg16float'),
            (f.RGBA8Unorm = 'rgba8unorm'),
            (f.RGBA8UnormSRGB = 'rgba8unorm-srgb'),
            (f.RGBA8Snorm = 'rgba8snorm'),
            (f.RGBA8Uint = 'rgba8uint'),
            (f.RGBA8Sint = 'rgba8sint'),
            (f.BGRA8Unorm = 'bgra8unorm'),
            (f.BGRA8UnormSRGB = 'bgra8unorm-srgb'),
            (f.RGB10A2Unorm = 'rgb10a2unorm'),
            (f.RG11B10Float = 'rg11b10float'),
            (f.RG32Uint = 'rg32uint'),
            (f.RG32Sint = 'rg32sint'),
            (f.RG32Float = 'rg32float'),
            (f.RGBA16Uint = 'rgba16uint'),
            (f.RGBA16Sint = 'rgba16sint'),
            (f.RGBA16Float = 'rgba16float'),
            (f.RGBA32Uint = 'rgba32uint'),
            (f.RGBA32Sint = 'rgba32sint'),
            (f.RGBA32Float = 'rgba32float'),
            (f.Depth32Float = 'depth32float'),
            (f.Depth24Plus = 'depth24plus'),
            (f.Depth24PlusStencil8 = 'depth24plus-stencil8'),
            ((h = e.Ek || (e.Ek = {})).Float = 'float'),
            (h.Sint = 'sint'),
            (h.Uint = 'uint'),
            ((l = e.p_ || (e.p_ = {})).E1d = '1d'),
            (l.E2d = '2d'),
            (l.E2dArray = '2d-array'),
            (l.Cube = 'cube'),
            (l.CubeArray = 'cube-array'),
            (l.E3d = '3d'),
            ((c = e.gB || (e.gB = {})).Uchar2 = 'uchar2'),
            (c.Uchar4 = 'uchar4'),
            (c.Char2 = 'char2'),
            (c.Char4 = 'char4'),
            (c.Uchar2Norm = 'uchar2norm'),
            (c.Uchar4Norm = 'uchar4norm'),
            (c.Char2Norm = 'char2norm'),
            (c.Char4Norm = 'char4norm'),
            (c.Ushort2 = 'ushort2'),
            (c.Ushort4 = 'ushort4'),
            (c.Short2 = 'short2'),
            (c.Short4 = 'short4'),
            (c.Ushort2Norm = 'ushort2norm'),
            (c.Ushort4Norm = 'ushort4norm'),
            (c.Short2Norm = 'short2norm'),
            (c.Short4Norm = 'short4norm'),
            (c.Half2 = 'half2'),
            (c.Half4 = 'half4'),
            (c.Float = 'float'),
            (c.Float2 = 'float2'),
            (c.Float3 = 'float3'),
            (c.Float4 = 'float4'),
            (c.Uint = 'uint'),
            (c.Uint2 = 'uint2'),
            (c.Uint3 = 'uint3'),
            (c.Uint4 = 'uint4'),
            (c.Int = 'int'),
            (c.Int2 = 'int2'),
            (c.Int3 = 'int3'),
            (c.Int4 = 'int4'),
            ((u = e.H7 || (e.H7 = {})).All = 'all'),
            (u.StencilOnly = 'stencil-only'),
            (u.DepthOnly = 'depth-only'),
            ((s = e.mj || (e.mj = {})).Error = 'error'),
            (s.Warning = 'warning'),
            (s.Info = 'info'),
            ((e.xL || (e.xL = {})).Occlusion = 'occlusion'),
            ((a = e.FB || (e.FB = {}))[(a.MapRead = 1)] = 'MapRead'),
            (a[(a.MapWrite = 2)] = 'MapWrite'),
            (a[(a.CopySrc = 4)] = 'CopySrc'),
            (a[(a.CopyDst = 8)] = 'CopyDst'),
            (a[(a.Index = 16)] = 'Index'),
            (a[(a.Vertex = 32)] = 'Vertex'),
            (a[(a.Uniform = 64)] = 'Uniform'),
            (a[(a.Storage = 128)] = 'Storage'),
            (a[(a.Indirect = 256)] = 'Indirect'),
            (a[(a.QueryResolve = 512)] = 'QueryResolve'),
            ((o = e.Yw || (e.Yw = {}))[(o.Red = 1)] = 'Red'),
            (o[(o.Green = 2)] = 'Green'),
            (o[(o.Blue = 4)] = 'Blue'),
            (o[(o.Alpha = 8)] = 'Alpha'),
            (o[(o.All = 15)] = 'All'),
            ((i = e.$X || (e.$X = {}))[(i.Vertex = 1)] = 'Vertex'),
            (i[(i.Fragment = 2)] = 'Fragment'),
            (i[(i.Compute = 4)] = 'Compute'),
            ((r = e.v2 || (e.v2 = {}))[(r.CopySrc = 1)] = 'CopySrc'),
            (r[(r.CopyDst = 2)] = 'CopyDst'),
            (r[(r.Sampled = 4)] = 'Sampled'),
            (r[(r.Storage = 8)] = 'Storage'),
            (r[(r.OutputAttachment = 16)] = 'OutputAttachment'),
            ((n = e.gc || (e.gc = {}))[(n.Read = 1)] = 'Read'),
            (n[(n.Write = 2)] = 'Write');
        },
        8168: (t, e, n) => {
          var r = n(9092),
            i = {};
          for (var o in r) r.hasOwnProperty(o) && (i[r[o]] = o);
          var a = (t.exports = {
            rgb: { channels: 3, labels: 'rgb' },
            hsl: { channels: 3, labels: 'hsl' },
            hsv: { channels: 3, labels: 'hsv' },
            hwb: { channels: 3, labels: 'hwb' },
            cmyk: { channels: 4, labels: 'cmyk' },
            xyz: { channels: 3, labels: 'xyz' },
            lab: { channels: 3, labels: 'lab' },
            lch: { channels: 3, labels: 'lch' },
            hex: { channels: 1, labels: ['hex'] },
            keyword: { channels: 1, labels: ['keyword'] },
            ansi16: { channels: 1, labels: ['ansi16'] },
            ansi256: { channels: 1, labels: ['ansi256'] },
            hcg: { channels: 3, labels: ['h', 'c', 'g'] },
            apple: { channels: 3, labels: ['r16', 'g16', 'b16'] },
            gray: { channels: 1, labels: ['gray'] },
          });
          for (var s in a)
            if (a.hasOwnProperty(s)) {
              if (!('channels' in a[s])) throw new Error('missing channels property: ' + s);
              if (!('labels' in a[s])) throw new Error('missing channel labels property: ' + s);
              if (a[s].labels.length !== a[s].channels)
                throw new Error('channel and label counts mismatch: ' + s);
              var u = a[s].channels,
                c = a[s].labels;
              delete a[s].channels,
                delete a[s].labels,
                Object.defineProperty(a[s], 'channels', { value: u }),
                Object.defineProperty(a[s], 'labels', { value: c });
            }
          (a.rgb.hsl = function (t) {
            var e,
              n,
              r = t[0] / 255,
              i = t[1] / 255,
              o = t[2] / 255,
              a = Math.min(r, i, o),
              s = Math.max(r, i, o),
              u = s - a;
            return (
              s === a
                ? (e = 0)
                : r === s
                ? (e = (i - o) / u)
                : i === s
                ? (e = 2 + (o - r) / u)
                : o === s && (e = 4 + (r - i) / u),
              (e = Math.min(60 * e, 360)) < 0 && (e += 360),
              (n = (a + s) / 2),
              [e, 100 * (s === a ? 0 : n <= 0.5 ? u / (s + a) : u / (2 - s - a)), 100 * n]
            );
          }),
            (a.rgb.hsv = function (t) {
              var e,
                n,
                r,
                i,
                o,
                a = t[0] / 255,
                s = t[1] / 255,
                u = t[2] / 255,
                c = Math.max(a, s, u),
                l = c - Math.min(a, s, u),
                h = function (t) {
                  return (c - t) / 6 / l + 0.5;
                };
              return (
                0 === l
                  ? (i = o = 0)
                  : ((o = l / c),
                    (e = h(a)),
                    (n = h(s)),
                    (r = h(u)),
                    a === c
                      ? (i = r - n)
                      : s === c
                      ? (i = 1 / 3 + e - r)
                      : u === c && (i = 2 / 3 + n - e),
                    i < 0 ? (i += 1) : i > 1 && (i -= 1)),
                [360 * i, 100 * o, 100 * c]
              );
            }),
            (a.rgb.hwb = function (t) {
              var e = t[0],
                n = t[1],
                r = t[2];
              return [
                a.rgb.hsl(t)[0],
                (1 / 255) * Math.min(e, Math.min(n, r)) * 100,
                100 * (r = 1 - (1 / 255) * Math.max(e, Math.max(n, r))),
              ];
            }),
            (a.rgb.cmyk = function (t) {
              var e,
                n = t[0] / 255,
                r = t[1] / 255,
                i = t[2] / 255;
              return [
                100 * ((1 - n - (e = Math.min(1 - n, 1 - r, 1 - i))) / (1 - e) || 0),
                100 * ((1 - r - e) / (1 - e) || 0),
                100 * ((1 - i - e) / (1 - e) || 0),
                100 * e,
              ];
            }),
            (a.rgb.keyword = function (t) {
              var e = i[t];
              if (e) return e;
              var n,
                o,
                a,
                s = 1 / 0;
              for (var u in r)
                if (r.hasOwnProperty(u)) {
                  var c =
                    ((o = t),
                    (a = r[u]),
                    Math.pow(o[0] - a[0], 2) + Math.pow(o[1] - a[1], 2) + Math.pow(o[2] - a[2], 2));
                  c < s && ((s = c), (n = u));
                }
              return n;
            }),
            (a.keyword.rgb = function (t) {
              return r[t];
            }),
            (a.rgb.xyz = function (t) {
              var e = t[0] / 255,
                n = t[1] / 255,
                r = t[2] / 255;
              return [
                100 *
                  (0.4124 * (e = e > 0.04045 ? Math.pow((e + 0.055) / 1.055, 2.4) : e / 12.92) +
                    0.3576 * (n = n > 0.04045 ? Math.pow((n + 0.055) / 1.055, 2.4) : n / 12.92) +
                    0.1805 * (r = r > 0.04045 ? Math.pow((r + 0.055) / 1.055, 2.4) : r / 12.92)),
                100 * (0.2126 * e + 0.7152 * n + 0.0722 * r),
                100 * (0.0193 * e + 0.1192 * n + 0.9505 * r),
              ];
            }),
            (a.rgb.lab = function (t) {
              var e = a.rgb.xyz(t),
                n = e[0],
                r = e[1],
                i = e[2];
              return (
                (r /= 100),
                (i /= 108.883),
                (n = (n /= 95.047) > 0.008856 ? Math.pow(n, 1 / 3) : 7.787 * n + 16 / 116),
                [
                  116 * (r = r > 0.008856 ? Math.pow(r, 1 / 3) : 7.787 * r + 16 / 116) - 16,
                  500 * (n - r),
                  200 * (r - (i = i > 0.008856 ? Math.pow(i, 1 / 3) : 7.787 * i + 16 / 116)),
                ]
              );
            }),
            (a.hsl.rgb = function (t) {
              var e,
                n,
                r,
                i,
                o,
                a = t[0] / 360,
                s = t[1] / 100,
                u = t[2] / 100;
              if (0 === s) return [(o = 255 * u), o, o];
              (e = 2 * u - (n = u < 0.5 ? u * (1 + s) : u + s - u * s)), (i = [0, 0, 0]);
              for (var c = 0; c < 3; c++)
                (r = a + (1 / 3) * -(c - 1)) < 0 && r++,
                  r > 1 && r--,
                  (o =
                    6 * r < 1
                      ? e + 6 * (n - e) * r
                      : 2 * r < 1
                      ? n
                      : 3 * r < 2
                      ? e + (n - e) * (2 / 3 - r) * 6
                      : e),
                  (i[c] = 255 * o);
              return i;
            }),
            (a.hsl.hsv = function (t) {
              var e = t[0],
                n = t[1] / 100,
                r = t[2] / 100,
                i = n,
                o = Math.max(r, 0.01);
              return (
                (n *= (r *= 2) <= 1 ? r : 2 - r),
                (i *= o <= 1 ? o : 2 - o),
                [e, 100 * (0 === r ? (2 * i) / (o + i) : (2 * n) / (r + n)), ((r + n) / 2) * 100]
              );
            }),
            (a.hsv.rgb = function (t) {
              var e = t[0] / 60,
                n = t[1] / 100,
                r = t[2] / 100,
                i = Math.floor(e) % 6,
                o = e - Math.floor(e),
                a = 255 * r * (1 - n),
                s = 255 * r * (1 - n * o),
                u = 255 * r * (1 - n * (1 - o));
              switch (((r *= 255), i)) {
                case 0:
                  return [r, u, a];
                case 1:
                  return [s, r, a];
                case 2:
                  return [a, r, u];
                case 3:
                  return [a, s, r];
                case 4:
                  return [u, a, r];
                case 5:
                  return [r, a, s];
              }
            }),
            (a.hsv.hsl = function (t) {
              var e,
                n,
                r,
                i = t[0],
                o = t[1] / 100,
                a = t[2] / 100,
                s = Math.max(a, 0.01);
              return (
                (r = (2 - o) * a),
                (n = o * s),
                [i, 100 * (n = (n /= (e = (2 - o) * s) <= 1 ? e : 2 - e) || 0), 100 * (r /= 2)]
              );
            }),
            (a.hwb.rgb = function (t) {
              var e,
                n,
                r,
                i,
                o,
                a,
                s,
                u = t[0] / 360,
                c = t[1] / 100,
                l = t[2] / 100,
                h = c + l;
              switch (
                (h > 1 && ((c /= h), (l /= h)),
                (r = 6 * u - (e = Math.floor(6 * u))),
                0 != (1 & e) && (r = 1 - r),
                (i = c + r * ((n = 1 - l) - c)),
                e)
              ) {
                default:
                case 6:
                case 0:
                  (o = n), (a = i), (s = c);
                  break;
                case 1:
                  (o = i), (a = n), (s = c);
                  break;
                case 2:
                  (o = c), (a = n), (s = i);
                  break;
                case 3:
                  (o = c), (a = i), (s = n);
                  break;
                case 4:
                  (o = i), (a = c), (s = n);
                  break;
                case 5:
                  (o = n), (a = c), (s = i);
              }
              return [255 * o, 255 * a, 255 * s];
            }),
            (a.cmyk.rgb = function (t) {
              var e = t[0] / 100,
                n = t[1] / 100,
                r = t[2] / 100,
                i = t[3] / 100;
              return [
                255 * (1 - Math.min(1, e * (1 - i) + i)),
                255 * (1 - Math.min(1, n * (1 - i) + i)),
                255 * (1 - Math.min(1, r * (1 - i) + i)),
              ];
            }),
            (a.xyz.rgb = function (t) {
              var e,
                n,
                r,
                i = t[0] / 100,
                o = t[1] / 100,
                a = t[2] / 100;
              return (
                (n = -0.9689 * i + 1.8758 * o + 0.0415 * a),
                (r = 0.0557 * i + -0.204 * o + 1.057 * a),
                (e =
                  (e = 3.2406 * i + -1.5372 * o + -0.4986 * a) > 0.0031308
                    ? 1.055 * Math.pow(e, 1 / 2.4) - 0.055
                    : 12.92 * e),
                (n = n > 0.0031308 ? 1.055 * Math.pow(n, 1 / 2.4) - 0.055 : 12.92 * n),
                (r = r > 0.0031308 ? 1.055 * Math.pow(r, 1 / 2.4) - 0.055 : 12.92 * r),
                [
                  255 * (e = Math.min(Math.max(0, e), 1)),
                  255 * (n = Math.min(Math.max(0, n), 1)),
                  255 * (r = Math.min(Math.max(0, r), 1)),
                ]
              );
            }),
            (a.xyz.lab = function (t) {
              var e = t[0],
                n = t[1],
                r = t[2];
              return (
                (n /= 100),
                (r /= 108.883),
                (e = (e /= 95.047) > 0.008856 ? Math.pow(e, 1 / 3) : 7.787 * e + 16 / 116),
                [
                  116 * (n = n > 0.008856 ? Math.pow(n, 1 / 3) : 7.787 * n + 16 / 116) - 16,
                  500 * (e - n),
                  200 * (n - (r = r > 0.008856 ? Math.pow(r, 1 / 3) : 7.787 * r + 16 / 116)),
                ]
              );
            }),
            (a.lab.xyz = function (t) {
              var e,
                n,
                r,
                i = t[0];
              (e = t[1] / 500 + (n = (i + 16) / 116)), (r = n - t[2] / 200);
              var o = Math.pow(n, 3),
                a = Math.pow(e, 3),
                s = Math.pow(r, 3);
              return (
                (n = o > 0.008856 ? o : (n - 16 / 116) / 7.787),
                (e = a > 0.008856 ? a : (e - 16 / 116) / 7.787),
                (r = s > 0.008856 ? s : (r - 16 / 116) / 7.787),
                [(e *= 95.047), (n *= 100), (r *= 108.883)]
              );
            }),
            (a.lab.lch = function (t) {
              var e,
                n = t[0],
                r = t[1],
                i = t[2];
              return (
                (e = (360 * Math.atan2(i, r)) / 2 / Math.PI) < 0 && (e += 360),
                [n, Math.sqrt(r * r + i * i), e]
              );
            }),
            (a.lch.lab = function (t) {
              var e,
                n = t[0],
                r = t[1];
              return (e = (t[2] / 360) * 2 * Math.PI), [n, r * Math.cos(e), r * Math.sin(e)];
            }),
            (a.rgb.ansi16 = function (t) {
              var e = t[0],
                n = t[1],
                r = t[2],
                i = 1 in arguments ? arguments[1] : a.rgb.hsv(t)[2];
              if (0 === (i = Math.round(i / 50))) return 30;
              var o =
                30 +
                ((Math.round(r / 255) << 2) | (Math.round(n / 255) << 1) | Math.round(e / 255));
              return 2 === i && (o += 60), o;
            }),
            (a.hsv.ansi16 = function (t) {
              return a.rgb.ansi16(a.hsv.rgb(t), t[2]);
            }),
            (a.rgb.ansi256 = function (t) {
              var e = t[0],
                n = t[1],
                r = t[2];
              return e === n && n === r
                ? e < 8
                  ? 16
                  : e > 248
                  ? 231
                  : Math.round(((e - 8) / 247) * 24) + 232
                : 16 +
                    36 * Math.round((e / 255) * 5) +
                    6 * Math.round((n / 255) * 5) +
                    Math.round((r / 255) * 5);
            }),
            (a.ansi16.rgb = function (t) {
              var e = t % 10;
              if (0 === e || 7 === e) return t > 50 && (e += 3.5), [(e = (e / 10.5) * 255), e, e];
              var n = 0.5 * (1 + ~~(t > 50));
              return [(1 & e) * n * 255, ((e >> 1) & 1) * n * 255, ((e >> 2) & 1) * n * 255];
            }),
            (a.ansi256.rgb = function (t) {
              if (t >= 232) {
                var e = 10 * (t - 232) + 8;
                return [e, e, e];
              }
              var n;
              return (
                (t -= 16),
                [
                  (Math.floor(t / 36) / 5) * 255,
                  (Math.floor((n = t % 36) / 6) / 5) * 255,
                  ((n % 6) / 5) * 255,
                ]
              );
            }),
            (a.rgb.hex = function (t) {
              var e = (
                ((255 & Math.round(t[0])) << 16) +
                ((255 & Math.round(t[1])) << 8) +
                (255 & Math.round(t[2]))
              )
                .toString(16)
                .toUpperCase();
              return '000000'.substring(e.length) + e;
            }),
            (a.hex.rgb = function (t) {
              var e = t.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);
              if (!e) return [0, 0, 0];
              var n = e[0];
              3 === e[0].length &&
                (n = n
                  .split('')
                  .map(function (t) {
                    return t + t;
                  })
                  .join(''));
              var r = parseInt(n, 16);
              return [(r >> 16) & 255, (r >> 8) & 255, 255 & r];
            }),
            (a.rgb.hcg = function (t) {
              var e,
                n = t[0] / 255,
                r = t[1] / 255,
                i = t[2] / 255,
                o = Math.max(Math.max(n, r), i),
                a = Math.min(Math.min(n, r), i),
                s = o - a;
              return (
                (e =
                  s <= 0
                    ? 0
                    : o === n
                    ? ((r - i) / s) % 6
                    : o === r
                    ? 2 + (i - n) / s
                    : 4 + (n - r) / s + 4),
                (e /= 6),
                [360 * (e %= 1), 100 * s, 100 * (s < 1 ? a / (1 - s) : 0)]
              );
            }),
            (a.hsl.hcg = function (t) {
              var e,
                n = t[1] / 100,
                r = t[2] / 100,
                i = 0;
              return (
                (e = r < 0.5 ? 2 * n * r : 2 * n * (1 - r)) < 1 && (i = (r - 0.5 * e) / (1 - e)),
                [t[0], 100 * e, 100 * i]
              );
            }),
            (a.hsv.hcg = function (t) {
              var e = t[1] / 100,
                n = t[2] / 100,
                r = e * n,
                i = 0;
              return r < 1 && (i = (n - r) / (1 - r)), [t[0], 100 * r, 100 * i];
            }),
            (a.hcg.rgb = function (t) {
              var e = t[0] / 360,
                n = t[1] / 100,
                r = t[2] / 100;
              if (0 === n) return [255 * r, 255 * r, 255 * r];
              var i,
                o = [0, 0, 0],
                a = (e % 1) * 6,
                s = a % 1,
                u = 1 - s;
              switch (Math.floor(a)) {
                case 0:
                  (o[0] = 1), (o[1] = s), (o[2] = 0);
                  break;
                case 1:
                  (o[0] = u), (o[1] = 1), (o[2] = 0);
                  break;
                case 2:
                  (o[0] = 0), (o[1] = 1), (o[2] = s);
                  break;
                case 3:
                  (o[0] = 0), (o[1] = u), (o[2] = 1);
                  break;
                case 4:
                  (o[0] = s), (o[1] = 0), (o[2] = 1);
                  break;
                default:
                  (o[0] = 1), (o[1] = 0), (o[2] = u);
              }
              return (
                (i = (1 - n) * r),
                [255 * (n * o[0] + i), 255 * (n * o[1] + i), 255 * (n * o[2] + i)]
              );
            }),
            (a.hcg.hsv = function (t) {
              var e = t[1] / 100,
                n = e + (t[2] / 100) * (1 - e),
                r = 0;
              return n > 0 && (r = e / n), [t[0], 100 * r, 100 * n];
            }),
            (a.hcg.hsl = function (t) {
              var e = t[1] / 100,
                n = (t[2] / 100) * (1 - e) + 0.5 * e,
                r = 0;
              return (
                n > 0 && n < 0.5 ? (r = e / (2 * n)) : n >= 0.5 && n < 1 && (r = e / (2 * (1 - n))),
                [t[0], 100 * r, 100 * n]
              );
            }),
            (a.hcg.hwb = function (t) {
              var e = t[1] / 100,
                n = e + (t[2] / 100) * (1 - e);
              return [t[0], 100 * (n - e), 100 * (1 - n)];
            }),
            (a.hwb.hcg = function (t) {
              var e = t[1] / 100,
                n = 1 - t[2] / 100,
                r = n - e,
                i = 0;
              return r < 1 && (i = (n - r) / (1 - r)), [t[0], 100 * r, 100 * i];
            }),
            (a.apple.rgb = function (t) {
              return [(t[0] / 65535) * 255, (t[1] / 65535) * 255, (t[2] / 65535) * 255];
            }),
            (a.rgb.apple = function (t) {
              return [(t[0] / 255) * 65535, (t[1] / 255) * 65535, (t[2] / 255) * 65535];
            }),
            (a.gray.rgb = function (t) {
              return [(t[0] / 100) * 255, (t[0] / 100) * 255, (t[0] / 100) * 255];
            }),
            (a.gray.hsl = a.gray.hsv =
              function (t) {
                return [0, 0, t[0]];
              }),
            (a.gray.hwb = function (t) {
              return [0, 100, t[0]];
            }),
            (a.gray.cmyk = function (t) {
              return [0, 0, 0, t[0]];
            }),
            (a.gray.lab = function (t) {
              return [t[0], 0, 0];
            }),
            (a.gray.hex = function (t) {
              var e = 255 & Math.round((t[0] / 100) * 255),
                n = ((e << 16) + (e << 8) + e).toString(16).toUpperCase();
              return '000000'.substring(n.length) + n;
            }),
            (a.rgb.gray = function (t) {
              return [((t[0] + t[1] + t[2]) / 3 / 255) * 100];
            });
        },
        2085: (t, e, n) => {
          var r = n(8168),
            i = n(4111),
            o = {};
          Object.keys(r).forEach(function (t) {
            (o[t] = {}),
              Object.defineProperty(o[t], 'channels', { value: r[t].channels }),
              Object.defineProperty(o[t], 'labels', { value: r[t].labels });
            var e = i(t);
            Object.keys(e).forEach(function (n) {
              var r = e[n];
              (o[t][n] = (function (t) {
                var e = function (e) {
                  if (null == e) return e;
                  arguments.length > 1 && (e = Array.prototype.slice.call(arguments));
                  var n = t(e);
                  if ('object' == typeof n)
                    for (var r = n.length, i = 0; i < r; i++) n[i] = Math.round(n[i]);
                  return n;
                };
                return 'conversion' in t && (e.conversion = t.conversion), e;
              })(r)),
                (o[t][n].raw = (function (t) {
                  var e = function (e) {
                    return null == e
                      ? e
                      : (arguments.length > 1 && (e = Array.prototype.slice.call(arguments)), t(e));
                  };
                  return 'conversion' in t && (e.conversion = t.conversion), e;
                })(r));
            });
          }),
            (t.exports = o);
        },
        9092: (t) => {
          'use strict';
          t.exports = {
            aliceblue: [240, 248, 255],
            antiquewhite: [250, 235, 215],
            aqua: [0, 255, 255],
            aquamarine: [127, 255, 212],
            azure: [240, 255, 255],
            beige: [245, 245, 220],
            bisque: [255, 228, 196],
            black: [0, 0, 0],
            blanchedalmond: [255, 235, 205],
            blue: [0, 0, 255],
            blueviolet: [138, 43, 226],
            brown: [165, 42, 42],
            burlywood: [222, 184, 135],
            cadetblue: [95, 158, 160],
            chartreuse: [127, 255, 0],
            chocolate: [210, 105, 30],
            coral: [255, 127, 80],
            cornflowerblue: [100, 149, 237],
            cornsilk: [255, 248, 220],
            crimson: [220, 20, 60],
            cyan: [0, 255, 255],
            darkblue: [0, 0, 139],
            darkcyan: [0, 139, 139],
            darkgoldenrod: [184, 134, 11],
            darkgray: [169, 169, 169],
            darkgreen: [0, 100, 0],
            darkgrey: [169, 169, 169],
            darkkhaki: [189, 183, 107],
            darkmagenta: [139, 0, 139],
            darkolivegreen: [85, 107, 47],
            darkorange: [255, 140, 0],
            darkorchid: [153, 50, 204],
            darkred: [139, 0, 0],
            darksalmon: [233, 150, 122],
            darkseagreen: [143, 188, 143],
            darkslateblue: [72, 61, 139],
            darkslategray: [47, 79, 79],
            darkslategrey: [47, 79, 79],
            darkturquoise: [0, 206, 209],
            darkviolet: [148, 0, 211],
            deeppink: [255, 20, 147],
            deepskyblue: [0, 191, 255],
            dimgray: [105, 105, 105],
            dimgrey: [105, 105, 105],
            dodgerblue: [30, 144, 255],
            firebrick: [178, 34, 34],
            floralwhite: [255, 250, 240],
            forestgreen: [34, 139, 34],
            fuchsia: [255, 0, 255],
            gainsboro: [220, 220, 220],
            ghostwhite: [248, 248, 255],
            gold: [255, 215, 0],
            goldenrod: [218, 165, 32],
            gray: [128, 128, 128],
            green: [0, 128, 0],
            greenyellow: [173, 255, 47],
            grey: [128, 128, 128],
            honeydew: [240, 255, 240],
            hotpink: [255, 105, 180],
            indianred: [205, 92, 92],
            indigo: [75, 0, 130],
            ivory: [255, 255, 240],
            khaki: [240, 230, 140],
            lavender: [230, 230, 250],
            lavenderblush: [255, 240, 245],
            lawngreen: [124, 252, 0],
            lemonchiffon: [255, 250, 205],
            lightblue: [173, 216, 230],
            lightcoral: [240, 128, 128],
            lightcyan: [224, 255, 255],
            lightgoldenrodyellow: [250, 250, 210],
            lightgray: [211, 211, 211],
            lightgreen: [144, 238, 144],
            lightgrey: [211, 211, 211],
            lightpink: [255, 182, 193],
            lightsalmon: [255, 160, 122],
            lightseagreen: [32, 178, 170],
            lightskyblue: [135, 206, 250],
            lightslategray: [119, 136, 153],
            lightslategrey: [119, 136, 153],
            lightsteelblue: [176, 196, 222],
            lightyellow: [255, 255, 224],
            lime: [0, 255, 0],
            limegreen: [50, 205, 50],
            linen: [250, 240, 230],
            magenta: [255, 0, 255],
            maroon: [128, 0, 0],
            mediumaquamarine: [102, 205, 170],
            mediumblue: [0, 0, 205],
            mediumorchid: [186, 85, 211],
            mediumpurple: [147, 112, 219],
            mediumseagreen: [60, 179, 113],
            mediumslateblue: [123, 104, 238],
            mediumspringgreen: [0, 250, 154],
            mediumturquoise: [72, 209, 204],
            mediumvioletred: [199, 21, 133],
            midnightblue: [25, 25, 112],
            mintcream: [245, 255, 250],
            mistyrose: [255, 228, 225],
            moccasin: [255, 228, 181],
            navajowhite: [255, 222, 173],
            navy: [0, 0, 128],
            oldlace: [253, 245, 230],
            olive: [128, 128, 0],
            olivedrab: [107, 142, 35],
            orange: [255, 165, 0],
            orangered: [255, 69, 0],
            orchid: [218, 112, 214],
            palegoldenrod: [238, 232, 170],
            palegreen: [152, 251, 152],
            paleturquoise: [175, 238, 238],
            palevioletred: [219, 112, 147],
            papayawhip: [255, 239, 213],
            peachpuff: [255, 218, 185],
            peru: [205, 133, 63],
            pink: [255, 192, 203],
            plum: [221, 160, 221],
            powderblue: [176, 224, 230],
            purple: [128, 0, 128],
            rebeccapurple: [102, 51, 153],
            red: [255, 0, 0],
            rosybrown: [188, 143, 143],
            royalblue: [65, 105, 225],
            saddlebrown: [139, 69, 19],
            salmon: [250, 128, 114],
            sandybrown: [244, 164, 96],
            seagreen: [46, 139, 87],
            seashell: [255, 245, 238],
            sienna: [160, 82, 45],
            silver: [192, 192, 192],
            skyblue: [135, 206, 235],
            slateblue: [106, 90, 205],
            slategray: [112, 128, 144],
            slategrey: [112, 128, 144],
            snow: [255, 250, 250],
            springgreen: [0, 255, 127],
            steelblue: [70, 130, 180],
            tan: [210, 180, 140],
            teal: [0, 128, 128],
            thistle: [216, 191, 216],
            tomato: [255, 99, 71],
            turquoise: [64, 224, 208],
            violet: [238, 130, 238],
            wheat: [245, 222, 179],
            white: [255, 255, 255],
            whitesmoke: [245, 245, 245],
            yellow: [255, 255, 0],
            yellowgreen: [154, 205, 50],
          };
        },
        4111: (t, e, n) => {
          var r = n(8168);
          function i(t, e) {
            return function (n) {
              return e(t(n));
            };
          }
          function o(t, e) {
            for (var n = [e[t].parent, t], o = r[e[t].parent][t], a = e[t].parent; e[a].parent; )
              n.unshift(e[a].parent), (o = i(r[e[a].parent][a], o)), (a = e[a].parent);
            return (o.conversion = n), o;
          }
          t.exports = function (t) {
            for (
              var e = (function (t) {
                  var e = (function () {
                      for (var t = {}, e = Object.keys(r), n = e.length, i = 0; i < n; i++)
                        t[e[i]] = { distance: -1, parent: null };
                      return t;
                    })(),
                    n = [t];
                  for (e[t].distance = 0; n.length; )
                    for (var i = n.pop(), o = Object.keys(r[i]), a = o.length, s = 0; s < a; s++) {
                      var u = o[s],
                        c = e[u];
                      -1 === c.distance &&
                        ((c.distance = e[i].distance + 1), (c.parent = i), n.unshift(u));
                    }
                  return e;
                })(t),
                n = {},
                i = Object.keys(e),
                a = i.length,
                s = 0;
              s < a;
              s++
            ) {
              var u = i[s];
              null !== e[u].parent && (n[u] = o(u, e));
            }
            return n;
          };
        },
        8874: (t) => {
          'use strict';
          t.exports = {
            aliceblue: [240, 248, 255],
            antiquewhite: [250, 235, 215],
            aqua: [0, 255, 255],
            aquamarine: [127, 255, 212],
            azure: [240, 255, 255],
            beige: [245, 245, 220],
            bisque: [255, 228, 196],
            black: [0, 0, 0],
            blanchedalmond: [255, 235, 205],
            blue: [0, 0, 255],
            blueviolet: [138, 43, 226],
            brown: [165, 42, 42],
            burlywood: [222, 184, 135],
            cadetblue: [95, 158, 160],
            chartreuse: [127, 255, 0],
            chocolate: [210, 105, 30],
            coral: [255, 127, 80],
            cornflowerblue: [100, 149, 237],
            cornsilk: [255, 248, 220],
            crimson: [220, 20, 60],
            cyan: [0, 255, 255],
            darkblue: [0, 0, 139],
            darkcyan: [0, 139, 139],
            darkgoldenrod: [184, 134, 11],
            darkgray: [169, 169, 169],
            darkgreen: [0, 100, 0],
            darkgrey: [169, 169, 169],
            darkkhaki: [189, 183, 107],
            darkmagenta: [139, 0, 139],
            darkolivegreen: [85, 107, 47],
            darkorange: [255, 140, 0],
            darkorchid: [153, 50, 204],
            darkred: [139, 0, 0],
            darksalmon: [233, 150, 122],
            darkseagreen: [143, 188, 143],
            darkslateblue: [72, 61, 139],
            darkslategray: [47, 79, 79],
            darkslategrey: [47, 79, 79],
            darkturquoise: [0, 206, 209],
            darkviolet: [148, 0, 211],
            deeppink: [255, 20, 147],
            deepskyblue: [0, 191, 255],
            dimgray: [105, 105, 105],
            dimgrey: [105, 105, 105],
            dodgerblue: [30, 144, 255],
            firebrick: [178, 34, 34],
            floralwhite: [255, 250, 240],
            forestgreen: [34, 139, 34],
            fuchsia: [255, 0, 255],
            gainsboro: [220, 220, 220],
            ghostwhite: [248, 248, 255],
            gold: [255, 215, 0],
            goldenrod: [218, 165, 32],
            gray: [128, 128, 128],
            green: [0, 128, 0],
            greenyellow: [173, 255, 47],
            grey: [128, 128, 128],
            honeydew: [240, 255, 240],
            hotpink: [255, 105, 180],
            indianred: [205, 92, 92],
            indigo: [75, 0, 130],
            ivory: [255, 255, 240],
            khaki: [240, 230, 140],
            lavender: [230, 230, 250],
            lavenderblush: [255, 240, 245],
            lawngreen: [124, 252, 0],
            lemonchiffon: [255, 250, 205],
            lightblue: [173, 216, 230],
            lightcoral: [240, 128, 128],
            lightcyan: [224, 255, 255],
            lightgoldenrodyellow: [250, 250, 210],
            lightgray: [211, 211, 211],
            lightgreen: [144, 238, 144],
            lightgrey: [211, 211, 211],
            lightpink: [255, 182, 193],
            lightsalmon: [255, 160, 122],
            lightseagreen: [32, 178, 170],
            lightskyblue: [135, 206, 250],
            lightslategray: [119, 136, 153],
            lightslategrey: [119, 136, 153],
            lightsteelblue: [176, 196, 222],
            lightyellow: [255, 255, 224],
            lime: [0, 255, 0],
            limegreen: [50, 205, 50],
            linen: [250, 240, 230],
            magenta: [255, 0, 255],
            maroon: [128, 0, 0],
            mediumaquamarine: [102, 205, 170],
            mediumblue: [0, 0, 205],
            mediumorchid: [186, 85, 211],
            mediumpurple: [147, 112, 219],
            mediumseagreen: [60, 179, 113],
            mediumslateblue: [123, 104, 238],
            mediumspringgreen: [0, 250, 154],
            mediumturquoise: [72, 209, 204],
            mediumvioletred: [199, 21, 133],
            midnightblue: [25, 25, 112],
            mintcream: [245, 255, 250],
            mistyrose: [255, 228, 225],
            moccasin: [255, 228, 181],
            navajowhite: [255, 222, 173],
            navy: [0, 0, 128],
            oldlace: [253, 245, 230],
            olive: [128, 128, 0],
            olivedrab: [107, 142, 35],
            orange: [255, 165, 0],
            orangered: [255, 69, 0],
            orchid: [218, 112, 214],
            palegoldenrod: [238, 232, 170],
            palegreen: [152, 251, 152],
            paleturquoise: [175, 238, 238],
            palevioletred: [219, 112, 147],
            papayawhip: [255, 239, 213],
            peachpuff: [255, 218, 185],
            peru: [205, 133, 63],
            pink: [255, 192, 203],
            plum: [221, 160, 221],
            powderblue: [176, 224, 230],
            purple: [128, 0, 128],
            rebeccapurple: [102, 51, 153],
            red: [255, 0, 0],
            rosybrown: [188, 143, 143],
            royalblue: [65, 105, 225],
            saddlebrown: [139, 69, 19],
            salmon: [250, 128, 114],
            sandybrown: [244, 164, 96],
            seagreen: [46, 139, 87],
            seashell: [255, 245, 238],
            sienna: [160, 82, 45],
            silver: [192, 192, 192],
            skyblue: [135, 206, 235],
            slateblue: [106, 90, 205],
            slategray: [112, 128, 144],
            slategrey: [112, 128, 144],
            snow: [255, 250, 250],
            springgreen: [0, 255, 127],
            steelblue: [70, 130, 180],
            tan: [210, 180, 140],
            teal: [0, 128, 128],
            thistle: [216, 191, 216],
            tomato: [255, 99, 71],
            turquoise: [64, 224, 208],
            violet: [238, 130, 238],
            wheat: [245, 222, 179],
            white: [255, 255, 255],
            whitesmoke: [245, 245, 245],
            yellow: [255, 255, 0],
            yellowgreen: [154, 205, 50],
          };
        },
        9818: (t, e, n) => {
          var r = n(8874),
            i = n(6851),
            o = {};
          for (var a in r) r.hasOwnProperty(a) && (o[r[a]] = a);
          var s = (t.exports = { to: {}, get: {} });
          function u(t, e, n) {
            return Math.min(Math.max(e, t), n);
          }
          function c(t) {
            var e = t.toString(16).toUpperCase();
            return e.length < 2 ? '0' + e : e;
          }
          (s.get = function (t) {
            var e, n;
            switch (t.substring(0, 3).toLowerCase()) {
              case 'hsl':
                (e = s.get.hsl(t)), (n = 'hsl');
                break;
              case 'hwb':
                (e = s.get.hwb(t)), (n = 'hwb');
                break;
              default:
                (e = s.get.rgb(t)), (n = 'rgb');
            }
            return e ? { model: n, value: e } : null;
          }),
            (s.get.rgb = function (t) {
              if (!t) return null;
              var e,
                n,
                i,
                o = [0, 0, 0, 1];
              if ((e = t.match(/^#([a-f0-9]{6})([a-f0-9]{2})?$/i))) {
                for (i = e[2], e = e[1], n = 0; n < 3; n++) {
                  var a = 2 * n;
                  o[n] = parseInt(e.slice(a, a + 2), 16);
                }
                i && (o[3] = parseInt(i, 16) / 255);
              } else if ((e = t.match(/^#([a-f0-9]{3,4})$/i))) {
                for (i = (e = e[1])[3], n = 0; n < 3; n++) o[n] = parseInt(e[n] + e[n], 16);
                i && (o[3] = parseInt(i + i, 16) / 255);
              } else if (
                (e = t.match(
                  /^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,
                ))
              ) {
                for (n = 0; n < 3; n++) o[n] = parseInt(e[n + 1], 0);
                e[4] && (o[3] = parseFloat(e[4]));
              } else {
                if (
                  !(e = t.match(
                    /^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,
                  ))
                )
                  return (e = t.match(/(\D+)/))
                    ? 'transparent' === e[1]
                      ? [0, 0, 0, 0]
                      : (o = r[e[1]])
                      ? ((o[3] = 1), o)
                      : null
                    : null;
                for (n = 0; n < 3; n++) o[n] = Math.round(2.55 * parseFloat(e[n + 1]));
                e[4] && (o[3] = parseFloat(e[4]));
              }
              for (n = 0; n < 3; n++) o[n] = u(o[n], 0, 255);
              return (o[3] = u(o[3], 0, 1)), o;
            }),
            (s.get.hsl = function (t) {
              if (!t) return null;
              var e = t.match(
                /^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?[\d\.]+)\s*)?\)$/,
              );
              if (e) {
                var n = parseFloat(e[4]);
                return [
                  (parseFloat(e[1]) + 360) % 360,
                  u(parseFloat(e[2]), 0, 100),
                  u(parseFloat(e[3]), 0, 100),
                  u(isNaN(n) ? 1 : n, 0, 1),
                ];
              }
              return null;
            }),
            (s.get.hwb = function (t) {
              if (!t) return null;
              var e = t.match(
                /^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,
              );
              if (e) {
                var n = parseFloat(e[4]);
                return [
                  ((parseFloat(e[1]) % 360) + 360) % 360,
                  u(parseFloat(e[2]), 0, 100),
                  u(parseFloat(e[3]), 0, 100),
                  u(isNaN(n) ? 1 : n, 0, 1),
                ];
              }
              return null;
            }),
            (s.to.hex = function () {
              var t = i(arguments);
              return (
                '#' + c(t[0]) + c(t[1]) + c(t[2]) + (t[3] < 1 ? c(Math.round(255 * t[3])) : '')
              );
            }),
            (s.to.rgb = function () {
              var t = i(arguments);
              return t.length < 4 || 1 === t[3]
                ? 'rgb(' +
                    Math.round(t[0]) +
                    ', ' +
                    Math.round(t[1]) +
                    ', ' +
                    Math.round(t[2]) +
                    ')'
                : 'rgba(' +
                    Math.round(t[0]) +
                    ', ' +
                    Math.round(t[1]) +
                    ', ' +
                    Math.round(t[2]) +
                    ', ' +
                    t[3] +
                    ')';
            }),
            (s.to.rgb.percent = function () {
              var t = i(arguments),
                e = Math.round((t[0] / 255) * 100),
                n = Math.round((t[1] / 255) * 100),
                r = Math.round((t[2] / 255) * 100);
              return t.length < 4 || 1 === t[3]
                ? 'rgb(' + e + '%, ' + n + '%, ' + r + '%)'
                : 'rgba(' + e + '%, ' + n + '%, ' + r + '%, ' + t[3] + ')';
            }),
            (s.to.hsl = function () {
              var t = i(arguments);
              return t.length < 4 || 1 === t[3]
                ? 'hsl(' + t[0] + ', ' + t[1] + '%, ' + t[2] + '%)'
                : 'hsla(' + t[0] + ', ' + t[1] + '%, ' + t[2] + '%, ' + t[3] + ')';
            }),
            (s.to.hwb = function () {
              var t = i(arguments),
                e = '';
              return (
                t.length >= 4 && 1 !== t[3] && (e = ', ' + t[3]),
                'hwb(' + t[0] + ', ' + t[1] + '%, ' + t[2] + '%' + e + ')'
              );
            }),
            (s.to.keyword = function (t) {
              return o[t.slice(0, 3)];
            });
        },
        6767: (t, e, n) => {
          'use strict';
          var r = n(9818),
            i = n(2085),
            o = [].slice,
            a = ['keyword', 'gray', 'hex'],
            s = {};
          Object.keys(i).forEach(function (t) {
            s[o.call(i[t].labels).sort().join('')] = t;
          });
          var u = {};
          function c(t, e) {
            if (!(this instanceof c)) return new c(t, e);
            if ((e && e in a && (e = null), e && !(e in i))) throw new Error('Unknown model: ' + e);
            var n, l;
            if (null == t) (this.model = 'rgb'), (this.color = [0, 0, 0]), (this.valpha = 1);
            else if (t instanceof c)
              (this.model = t.model), (this.color = t.color.slice()), (this.valpha = t.valpha);
            else if ('string' == typeof t) {
              var h = r.get(t);
              if (null === h) throw new Error('Unable to parse color from string: ' + t);
              (this.model = h.model),
                (l = i[this.model].channels),
                (this.color = h.value.slice(0, l)),
                (this.valpha = 'number' == typeof h.value[l] ? h.value[l] : 1);
            } else if (t.length) {
              (this.model = e || 'rgb'), (l = i[this.model].channels);
              var f = o.call(t, 0, l);
              (this.color = d(f, l)), (this.valpha = 'number' == typeof t[l] ? t[l] : 1);
            } else if ('number' == typeof t)
              (t &= 16777215),
                (this.model = 'rgb'),
                (this.color = [(t >> 16) & 255, (t >> 8) & 255, 255 & t]),
                (this.valpha = 1);
            else {
              this.valpha = 1;
              var p = Object.keys(t);
              'alpha' in t &&
                (p.splice(p.indexOf('alpha'), 1),
                (this.valpha = 'number' == typeof t.alpha ? t.alpha : 0));
              var g = p.sort().join('');
              if (!(g in s))
                throw new Error('Unable to parse color from object: ' + JSON.stringify(t));
              this.model = s[g];
              var v = i[this.model].labels,
                y = [];
              for (n = 0; n < v.length; n++) y.push(t[v[n]]);
              this.color = d(y);
            }
            if (u[this.model])
              for (l = i[this.model].channels, n = 0; n < l; n++) {
                var m = u[this.model][n];
                m && (this.color[n] = m(this.color[n]));
              }
            (this.valpha = Math.max(0, Math.min(1, this.valpha))),
              Object.freeze && Object.freeze(this);
          }
          function l(t, e, n) {
            return (
              (t = Array.isArray(t) ? t : [t]).forEach(function (t) {
                (u[t] || (u[t] = []))[e] = n;
              }),
              (t = t[0]),
              function (r) {
                var i;
                return arguments.length
                  ? (n && (r = n(r)), ((i = this[t]()).color[e] = r), i)
                  : ((i = this[t]().color[e]), n && (i = n(i)), i);
              }
            );
          }
          function h(t) {
            return function (e) {
              return Math.max(0, Math.min(t, e));
            };
          }
          function f(t) {
            return Array.isArray(t) ? t : [t];
          }
          function d(t, e) {
            for (var n = 0; n < e; n++) 'number' != typeof t[n] && (t[n] = 0);
            return t;
          }
          (c.prototype = {
            toString: function () {
              return this.string();
            },
            toJSON: function () {
              return this[this.model]();
            },
            string: function (t) {
              var e = this.model in r.to ? this : this.rgb(),
                n =
                  1 === (e = e.round('number' == typeof t ? t : 1)).valpha
                    ? e.color
                    : e.color.concat(this.valpha);
              return r.to[e.model](n);
            },
            percentString: function (t) {
              var e = this.rgb().round('number' == typeof t ? t : 1),
                n = 1 === e.valpha ? e.color : e.color.concat(this.valpha);
              return r.to.rgb.percent(n);
            },
            array: function () {
              return 1 === this.valpha ? this.color.slice() : this.color.concat(this.valpha);
            },
            object: function () {
              for (
                var t = {}, e = i[this.model].channels, n = i[this.model].labels, r = 0;
                r < e;
                r++
              )
                t[n[r]] = this.color[r];
              return 1 !== this.valpha && (t.alpha = this.valpha), t;
            },
            unitArray: function () {
              var t = this.rgb().color;
              return (
                (t[0] /= 255),
                (t[1] /= 255),
                (t[2] /= 255),
                1 !== this.valpha && t.push(this.valpha),
                t
              );
            },
            unitObject: function () {
              var t = this.rgb().object();
              return (
                (t.r /= 255),
                (t.g /= 255),
                (t.b /= 255),
                1 !== this.valpha && (t.alpha = this.valpha),
                t
              );
            },
            round: function (t) {
              return (
                (t = Math.max(t || 0, 0)),
                new c(
                  this.color
                    .map(
                      (function (t) {
                        return function (e) {
                          return (function (t, e) {
                            return Number(t.toFixed(e));
                          })(e, t);
                        };
                      })(t),
                    )
                    .concat(this.valpha),
                  this.model,
                )
              );
            },
            alpha: function (t) {
              return arguments.length
                ? new c(this.color.concat(Math.max(0, Math.min(1, t))), this.model)
                : this.valpha;
            },
            red: l('rgb', 0, h(255)),
            green: l('rgb', 1, h(255)),
            blue: l('rgb', 2, h(255)),
            hue: l(['hsl', 'hsv', 'hsl', 'hwb', 'hcg'], 0, function (t) {
              return ((t % 360) + 360) % 360;
            }),
            saturationl: l('hsl', 1, h(100)),
            lightness: l('hsl', 2, h(100)),
            saturationv: l('hsv', 1, h(100)),
            value: l('hsv', 2, h(100)),
            chroma: l('hcg', 1, h(100)),
            gray: l('hcg', 2, h(100)),
            white: l('hwb', 1, h(100)),
            wblack: l('hwb', 2, h(100)),
            cyan: l('cmyk', 0, h(100)),
            magenta: l('cmyk', 1, h(100)),
            yellow: l('cmyk', 2, h(100)),
            black: l('cmyk', 3, h(100)),
            x: l('xyz', 0, h(100)),
            y: l('xyz', 1, h(100)),
            z: l('xyz', 2, h(100)),
            l: l('lab', 0, h(100)),
            a: l('lab', 1),
            b: l('lab', 2),
            keyword: function (t) {
              return arguments.length ? new c(t) : i[this.model].keyword(this.color);
            },
            hex: function (t) {
              return arguments.length ? new c(t) : r.to.hex(this.rgb().round().color);
            },
            rgbNumber: function () {
              var t = this.rgb().color;
              return ((255 & t[0]) << 16) | ((255 & t[1]) << 8) | (255 & t[2]);
            },
            luminosity: function () {
              for (var t = this.rgb().color, e = [], n = 0; n < t.length; n++) {
                var r = t[n] / 255;
                e[n] = r <= 0.03928 ? r / 12.92 : Math.pow((r + 0.055) / 1.055, 2.4);
              }
              return 0.2126 * e[0] + 0.7152 * e[1] + 0.0722 * e[2];
            },
            contrast: function (t) {
              var e = this.luminosity(),
                n = t.luminosity();
              return e > n ? (e + 0.05) / (n + 0.05) : (n + 0.05) / (e + 0.05);
            },
            level: function (t) {
              var e = this.contrast(t);
              return e >= 7.1 ? 'AAA' : e >= 4.5 ? 'AA' : '';
            },
            isDark: function () {
              var t = this.rgb().color;
              return (299 * t[0] + 587 * t[1] + 114 * t[2]) / 1e3 < 128;
            },
            isLight: function () {
              return !this.isDark();
            },
            negate: function () {
              for (var t = this.rgb(), e = 0; e < 3; e++) t.color[e] = 255 - t.color[e];
              return t;
            },
            lighten: function (t) {
              var e = this.hsl();
              return (e.color[2] += e.color[2] * t), e;
            },
            darken: function (t) {
              var e = this.hsl();
              return (e.color[2] -= e.color[2] * t), e;
            },
            saturate: function (t) {
              var e = this.hsl();
              return (e.color[1] += e.color[1] * t), e;
            },
            desaturate: function (t) {
              var e = this.hsl();
              return (e.color[1] -= e.color[1] * t), e;
            },
            whiten: function (t) {
              var e = this.hwb();
              return (e.color[1] += e.color[1] * t), e;
            },
            blacken: function (t) {
              var e = this.hwb();
              return (e.color[2] += e.color[2] * t), e;
            },
            grayscale: function () {
              var t = this.rgb().color,
                e = 0.3 * t[0] + 0.59 * t[1] + 0.11 * t[2];
              return c.rgb(e, e, e);
            },
            fade: function (t) {
              return this.alpha(this.valpha - this.valpha * t);
            },
            opaquer: function (t) {
              return this.alpha(this.valpha + this.valpha * t);
            },
            rotate: function (t) {
              var e = this.hsl(),
                n = e.color[0];
              return (n = (n = (n + t) % 360) < 0 ? 360 + n : n), (e.color[0] = n), e;
            },
            mix: function (t, e) {
              if (!t || !t.rgb)
                throw new Error(
                  'Argument to "mix" was not a Color instance, but rather an instance of ' +
                    typeof t,
                );
              var n = t.rgb(),
                r = this.rgb(),
                i = void 0 === e ? 0.5 : e,
                o = 2 * i - 1,
                a = n.alpha() - r.alpha(),
                s = ((o * a == -1 ? o : (o + a) / (1 + o * a)) + 1) / 2,
                u = 1 - s;
              return c.rgb(
                s * n.red() + u * r.red(),
                s * n.green() + u * r.green(),
                s * n.blue() + u * r.blue(),
                n.alpha() * i + r.alpha() * (1 - i),
              );
            },
          }),
            Object.keys(i).forEach(function (t) {
              if (-1 === a.indexOf(t)) {
                var e = i[t].channels;
                (c.prototype[t] = function () {
                  if (this.model === t) return new c(this);
                  if (arguments.length) return new c(arguments, t);
                  var n = 'number' == typeof arguments[e] ? e : this.valpha;
                  return new c(f(i[this.model][t].raw(this.color)).concat(n), t);
                }),
                  (c[t] = function (n) {
                    return 'number' == typeof n && (n = d(o.call(arguments), e)), new c(n, t);
                  });
              }
            }),
            (t.exports = c);
        },
        9201: (t, e, n) => {
          'use strict';
          function r(t, e) {
            var n,
              r = 1;
            function i() {
              var i,
                o,
                a = n.length,
                s = 0,
                u = 0;
              for (i = 0; i < a; ++i) (s += (o = n[i]).x), (u += o.y);
              for (s = (s / a - t) * r, u = (u / a - e) * r, i = 0; i < a; ++i)
                ((o = n[i]).x -= s), (o.y -= u);
            }
            return (
              null == t && (t = 0),
              null == e && (e = 0),
              (i.initialize = function (t) {
                n = t;
              }),
              (i.x = function (e) {
                return arguments.length ? ((t = +e), i) : t;
              }),
              (i.y = function (t) {
                return arguments.length ? ((e = +t), i) : e;
              }),
              (i.strength = function (t) {
                return arguments.length ? ((r = +t), i) : r;
              }),
              i
            );
          }
          function i(t, e, n, r) {
            if (isNaN(e) || isNaN(n)) return t;
            var i,
              o,
              a,
              s,
              u,
              c,
              l,
              h,
              f,
              d = t._root,
              p = { data: r },
              g = t._x0,
              v = t._y0,
              y = t._x1,
              m = t._y1;
            if (!d) return (t._root = p), t;
            for (; d.length; )
              if (
                ((c = e >= (o = (g + y) / 2)) ? (g = o) : (y = o),
                (l = n >= (a = (v + m) / 2)) ? (v = a) : (m = a),
                (i = d),
                !(d = d[(h = (l << 1) | c)]))
              )
                return (i[h] = p), t;
            if (
              ((s = +t._x.call(null, d.data)), (u = +t._y.call(null, d.data)), e === s && n === u)
            )
              return (p.next = d), i ? (i[h] = p) : (t._root = p), t;
            do {
              (i = i ? (i[h] = new Array(4)) : (t._root = new Array(4))),
                (c = e >= (o = (g + y) / 2)) ? (g = o) : (y = o),
                (l = n >= (a = (v + m) / 2)) ? (v = a) : (m = a);
            } while ((h = (l << 1) | c) == (f = ((u >= a) << 1) | (s >= o)));
            return (i[f] = d), (i[h] = p), t;
          }
          function o(t, e, n, r, i) {
            (this.node = t), (this.x0 = e), (this.y0 = n), (this.x1 = r), (this.y1 = i);
          }
          function a(t) {
            return t[0];
          }
          function s(t) {
            return t[1];
          }
          function u(t, e, n) {
            var r = new c(null == e ? a : e, null == n ? s : n, NaN, NaN, NaN, NaN);
            return null == t ? r : r.addAll(t);
          }
          function c(t, e, n, r, i, o) {
            (this._x = t),
              (this._y = e),
              (this._x0 = n),
              (this._y0 = r),
              (this._x1 = i),
              (this._y1 = o),
              (this._root = void 0);
          }
          function l(t) {
            for (var e = { data: t.data }, n = e; (t = t.next); ) n = n.next = { data: t.data };
            return e;
          }
          n.r(e),
            n.d(e, {
              forceCenter: () => r,
              forceCollide: () => v,
              forceLink: () => b,
              forceManyBody: () => K,
              forceRadial: () => Z,
              forceSimulation: () => q,
              forceX: () => $,
              forceY: () => Q,
            });
          var h = (u.prototype = c.prototype);
          function f(t) {
            return function () {
              return t;
            };
          }
          function d(t) {
            return 1e-6 * (t() - 0.5);
          }
          function p(t) {
            return t.x + t.vx;
          }
          function g(t) {
            return t.y + t.vy;
          }
          function v(t) {
            var e,
              n,
              r,
              i = 1,
              o = 1;
            function a() {
              for (var t, a, c, l, h, f, v, y = e.length, m = 0; m < o; ++m)
                for (a = u(e, p, g).visitAfter(s), t = 0; t < y; ++t)
                  (c = e[t]),
                    (f = n[c.index]),
                    (v = f * f),
                    (l = c.x + c.vx),
                    (h = c.y + c.vy),
                    a.visit(b);
              function b(t, e, n, o, a) {
                var s = t.data,
                  u = t.r,
                  p = f + u;
                if (!s) return e > l + p || o < l - p || n > h + p || a < h - p;
                if (s.index > c.index) {
                  var g = l - s.x - s.vx,
                    y = h - s.y - s.vy,
                    m = g * g + y * y;
                  m < p * p &&
                    (0 === g && (m += (g = d(r)) * g),
                    0 === y && (m += (y = d(r)) * y),
                    (m = ((p - (m = Math.sqrt(m))) / m) * i),
                    (c.vx += (g *= m) * (p = (u *= u) / (v + u))),
                    (c.vy += (y *= m) * p),
                    (s.vx -= g * (p = 1 - p)),
                    (s.vy -= y * p));
                }
              }
            }
            function s(t) {
              if (t.data) return (t.r = n[t.data.index]);
              for (var e = (t.r = 0); e < 4; ++e) t[e] && t[e].r > t.r && (t.r = t[e].r);
            }
            function c() {
              if (e) {
                var r,
                  i,
                  o = e.length;
                for (n = new Array(o), r = 0; r < o; ++r) (i = e[r]), (n[i.index] = +t(i, r, e));
              }
            }
            return (
              'function' != typeof t && (t = f(null == t ? 1 : +t)),
              (a.initialize = function (t, n) {
                (e = t), (r = n), c();
              }),
              (a.iterations = function (t) {
                return arguments.length ? ((o = +t), a) : o;
              }),
              (a.strength = function (t) {
                return arguments.length ? ((i = +t), a) : i;
              }),
              (a.radius = function (e) {
                return arguments.length ? ((t = 'function' == typeof e ? e : f(+e)), c(), a) : t;
              }),
              a
            );
          }
          function y(t) {
            return t.index;
          }
          function m(t, e) {
            var n = t.get(e);
            if (!n) throw new Error('node not found: ' + e);
            return n;
          }
          function b(t) {
            var e,
              n,
              r,
              i,
              o,
              a,
              s = y,
              u = function (t) {
                return 1 / Math.min(i[t.source.index], i[t.target.index]);
              },
              c = f(30),
              l = 1;
            function h(r) {
              for (var i = 0, s = t.length; i < l; ++i)
                for (var u, c, h, f, p, g, v, y = 0; y < s; ++y)
                  (c = (u = t[y]).source),
                    (f = (h = u.target).x + h.vx - c.x - c.vx || d(a)),
                    (p = h.y + h.vy - c.y - c.vy || d(a)),
                    (f *= g = (((g = Math.sqrt(f * f + p * p)) - n[y]) / g) * r * e[y]),
                    (p *= g),
                    (h.vx -= f * (v = o[y])),
                    (h.vy -= p * v),
                    (c.vx += f * (v = 1 - v)),
                    (c.vy += p * v);
            }
            function p() {
              if (r) {
                var a,
                  u,
                  c = r.length,
                  l = t.length,
                  h = new Map(r.map((t, e) => [s(t, e, r), t]));
                for (a = 0, i = new Array(c); a < l; ++a)
                  ((u = t[a]).index = a),
                    'object' != typeof u.source && (u.source = m(h, u.source)),
                    'object' != typeof u.target && (u.target = m(h, u.target)),
                    (i[u.source.index] = (i[u.source.index] || 0) + 1),
                    (i[u.target.index] = (i[u.target.index] || 0) + 1);
                for (a = 0, o = new Array(l); a < l; ++a)
                  (u = t[a]), (o[a] = i[u.source.index] / (i[u.source.index] + i[u.target.index]));
                (e = new Array(l)), g(), (n = new Array(l)), v();
              }
            }
            function g() {
              if (r) for (var n = 0, i = t.length; n < i; ++n) e[n] = +u(t[n], n, t);
            }
            function v() {
              if (r) for (var e = 0, i = t.length; e < i; ++e) n[e] = +c(t[e], e, t);
            }
            return (
              null == t && (t = []),
              (h.initialize = function (t, e) {
                (r = t), (a = e), p();
              }),
              (h.links = function (e) {
                return arguments.length ? ((t = e), p(), h) : t;
              }),
              (h.id = function (t) {
                return arguments.length ? ((s = t), h) : s;
              }),
              (h.iterations = function (t) {
                return arguments.length ? ((l = +t), h) : l;
              }),
              (h.strength = function (t) {
                return arguments.length ? ((u = 'function' == typeof t ? t : f(+t)), g(), h) : u;
              }),
              (h.distance = function (t) {
                return arguments.length ? ((c = 'function' == typeof t ? t : f(+t)), v(), h) : c;
              }),
              h
            );
          }
          (h.copy = function () {
            var t,
              e,
              n = new c(this._x, this._y, this._x0, this._y0, this._x1, this._y1),
              r = this._root;
            if (!r) return n;
            if (!r.length) return (n._root = l(r)), n;
            for (t = [{ source: r, target: (n._root = new Array(4)) }]; (r = t.pop()); )
              for (var i = 0; i < 4; ++i)
                (e = r.source[i]) &&
                  (e.length
                    ? t.push({ source: e, target: (r.target[i] = new Array(4)) })
                    : (r.target[i] = l(e)));
            return n;
          }),
            (h.add = function (t) {
              const e = +this._x.call(null, t),
                n = +this._y.call(null, t);
              return i(this.cover(e, n), e, n, t);
            }),
            (h.addAll = function (t) {
              var e,
                n,
                r,
                o,
                a = t.length,
                s = new Array(a),
                u = new Array(a),
                c = 1 / 0,
                l = 1 / 0,
                h = -1 / 0,
                f = -1 / 0;
              for (n = 0; n < a; ++n)
                isNaN((r = +this._x.call(null, (e = t[n])))) ||
                  isNaN((o = +this._y.call(null, e))) ||
                  ((s[n] = r),
                  (u[n] = o),
                  r < c && (c = r),
                  r > h && (h = r),
                  o < l && (l = o),
                  o > f && (f = o));
              if (c > h || l > f) return this;
              for (this.cover(c, l).cover(h, f), n = 0; n < a; ++n) i(this, s[n], u[n], t[n]);
              return this;
            }),
            (h.cover = function (t, e) {
              if (isNaN((t = +t)) || isNaN((e = +e))) return this;
              var n = this._x0,
                r = this._y0,
                i = this._x1,
                o = this._y1;
              if (isNaN(n)) (i = (n = Math.floor(t)) + 1), (o = (r = Math.floor(e)) + 1);
              else {
                for (var a, s, u = i - n || 1, c = this._root; n > t || t >= i || r > e || e >= o; )
                  switch (
                    ((s = ((e < r) << 1) | (t < n)),
                    ((a = new Array(4))[s] = c),
                    (c = a),
                    (u *= 2),
                    s)
                  ) {
                    case 0:
                      (i = n + u), (o = r + u);
                      break;
                    case 1:
                      (n = i - u), (o = r + u);
                      break;
                    case 2:
                      (i = n + u), (r = o - u);
                      break;
                    case 3:
                      (n = i - u), (r = o - u);
                  }
                this._root && this._root.length && (this._root = c);
              }
              return (this._x0 = n), (this._y0 = r), (this._x1 = i), (this._y1 = o), this;
            }),
            (h.data = function () {
              var t = [];
              return (
                this.visit(function (e) {
                  if (!e.length)
                    do {
                      t.push(e.data);
                    } while ((e = e.next));
                }),
                t
              );
            }),
            (h.extent = function (t) {
              return arguments.length
                ? this.cover(+t[0][0], +t[0][1]).cover(+t[1][0], +t[1][1])
                : isNaN(this._x0)
                ? void 0
                : [
                    [this._x0, this._y0],
                    [this._x1, this._y1],
                  ];
            }),
            (h.find = function (t, e, n) {
              var r,
                i,
                a,
                s,
                u,
                c,
                l,
                h = this._x0,
                f = this._y0,
                d = this._x1,
                p = this._y1,
                g = [],
                v = this._root;
              for (
                v && g.push(new o(v, h, f, d, p)),
                  null == n
                    ? (n = 1 / 0)
                    : ((h = t - n), (f = e - n), (d = t + n), (p = e + n), (n *= n));
                (c = g.pop());

              )
                if (
                  !(
                    !(v = c.node) ||
                    (i = c.x0) > d ||
                    (a = c.y0) > p ||
                    (s = c.x1) < h ||
                    (u = c.y1) < f
                  )
                )
                  if (v.length) {
                    var y = (i + s) / 2,
                      m = (a + u) / 2;
                    g.push(
                      new o(v[3], y, m, s, u),
                      new o(v[2], i, m, y, u),
                      new o(v[1], y, a, s, m),
                      new o(v[0], i, a, y, m),
                    ),
                      (l = ((e >= m) << 1) | (t >= y)) &&
                        ((c = g[g.length - 1]),
                        (g[g.length - 1] = g[g.length - 1 - l]),
                        (g[g.length - 1 - l] = c));
                  } else {
                    var b = t - +this._x.call(null, v.data),
                      x = e - +this._y.call(null, v.data),
                      _ = b * b + x * x;
                    if (_ < n) {
                      var w = Math.sqrt((n = _));
                      (h = t - w), (f = e - w), (d = t + w), (p = e + w), (r = v.data);
                    }
                  }
              return r;
            }),
            (h.remove = function (t) {
              if (isNaN((o = +this._x.call(null, t))) || isNaN((a = +this._y.call(null, t))))
                return this;
              var e,
                n,
                r,
                i,
                o,
                a,
                s,
                u,
                c,
                l,
                h,
                f,
                d = this._root,
                p = this._x0,
                g = this._y0,
                v = this._x1,
                y = this._y1;
              if (!d) return this;
              if (d.length)
                for (;;) {
                  if (
                    ((c = o >= (s = (p + v) / 2)) ? (p = s) : (v = s),
                    (l = a >= (u = (g + y) / 2)) ? (g = u) : (y = u),
                    (e = d),
                    !(d = d[(h = (l << 1) | c)]))
                  )
                    return this;
                  if (!d.length) break;
                  (e[(h + 1) & 3] || e[(h + 2) & 3] || e[(h + 3) & 3]) && ((n = e), (f = h));
                }
              for (; d.data !== t; ) if (((r = d), !(d = d.next))) return this;
              return (
                (i = d.next) && delete d.next,
                r
                  ? (i ? (r.next = i) : delete r.next, this)
                  : e
                  ? (i ? (e[h] = i) : delete e[h],
                    (d = e[0] || e[1] || e[2] || e[3]) &&
                      d === (e[3] || e[2] || e[1] || e[0]) &&
                      !d.length &&
                      (n ? (n[f] = d) : (this._root = d)),
                    this)
                  : ((this._root = i), this)
              );
            }),
            (h.removeAll = function (t) {
              for (var e = 0, n = t.length; e < n; ++e) this.remove(t[e]);
              return this;
            }),
            (h.root = function () {
              return this._root;
            }),
            (h.size = function () {
              var t = 0;
              return (
                this.visit(function (e) {
                  if (!e.length)
                    do {
                      ++t;
                    } while ((e = e.next));
                }),
                t
              );
            }),
            (h.visit = function (t) {
              var e,
                n,
                r,
                i,
                a,
                s,
                u = [],
                c = this._root;
              for (c && u.push(new o(c, this._x0, this._y0, this._x1, this._y1)); (e = u.pop()); )
                if (!t((c = e.node), (r = e.x0), (i = e.y0), (a = e.x1), (s = e.y1)) && c.length) {
                  var l = (r + a) / 2,
                    h = (i + s) / 2;
                  (n = c[3]) && u.push(new o(n, l, h, a, s)),
                    (n = c[2]) && u.push(new o(n, r, h, l, s)),
                    (n = c[1]) && u.push(new o(n, l, i, a, h)),
                    (n = c[0]) && u.push(new o(n, r, i, l, h));
                }
              return this;
            }),
            (h.visitAfter = function (t) {
              var e,
                n = [],
                r = [];
              for (
                this._root && n.push(new o(this._root, this._x0, this._y0, this._x1, this._y1));
                (e = n.pop());

              ) {
                var i = e.node;
                if (i.length) {
                  var a,
                    s = e.x0,
                    u = e.y0,
                    c = e.x1,
                    l = e.y1,
                    h = (s + c) / 2,
                    f = (u + l) / 2;
                  (a = i[0]) && n.push(new o(a, s, u, h, f)),
                    (a = i[1]) && n.push(new o(a, h, u, c, f)),
                    (a = i[2]) && n.push(new o(a, s, f, h, l)),
                    (a = i[3]) && n.push(new o(a, h, f, c, l));
                }
                r.push(e);
              }
              for (; (e = r.pop()); ) t(e.node, e.x0, e.y0, e.x1, e.y1);
              return this;
            }),
            (h.x = function (t) {
              return arguments.length ? ((this._x = t), this) : this._x;
            }),
            (h.y = function (t) {
              return arguments.length ? ((this._y = t), this) : this._y;
            });
          var x = { value: () => {} };
          function _() {
            for (var t, e = 0, n = arguments.length, r = {}; e < n; ++e) {
              if (!(t = arguments[e] + '') || t in r || /[\s.]/.test(t))
                throw new Error('illegal type: ' + t);
              r[t] = [];
            }
            return new w(r);
          }
          function w(t) {
            this._ = t;
          }
          function E(t, e) {
            return t
              .trim()
              .split(/^|\s+/)
              .map(function (t) {
                var n = '',
                  r = t.indexOf('.');
                if (
                  (r >= 0 && ((n = t.slice(r + 1)), (t = t.slice(0, r))), t && !e.hasOwnProperty(t))
                )
                  throw new Error('unknown type: ' + t);
                return { type: t, name: n };
              });
          }
          function S(t, e) {
            for (var n, r = 0, i = t.length; r < i; ++r) if ((n = t[r]).name === e) return n.value;
          }
          function M(t, e, n) {
            for (var r = 0, i = t.length; r < i; ++r)
              if (t[r].name === e) {
                (t[r] = x), (t = t.slice(0, r).concat(t.slice(r + 1)));
                break;
              }
            return null != n && t.push({ name: e, value: n }), t;
          }
          w.prototype = _.prototype = {
            constructor: w,
            on: function (t, e) {
              var n,
                r = this._,
                i = E(t + '', r),
                o = -1,
                a = i.length;
              if (!(arguments.length < 2)) {
                if (null != e && 'function' != typeof e) throw new Error('invalid callback: ' + e);
                for (; ++o < a; )
                  if ((n = (t = i[o]).type)) r[n] = M(r[n], t.name, e);
                  else if (null == e) for (n in r) r[n] = M(r[n], t.name, null);
                return this;
              }
              for (; ++o < a; ) if ((n = (t = i[o]).type) && (n = S(r[n], t.name))) return n;
            },
            copy: function () {
              var t = {},
                e = this._;
              for (var n in e) t[n] = e[n].slice();
              return new w(t);
            },
            call: function (t, e) {
              if ((n = arguments.length - 2) > 0)
                for (var n, r, i = new Array(n), o = 0; o < n; ++o) i[o] = arguments[o + 2];
              if (!this._.hasOwnProperty(t)) throw new Error('unknown type: ' + t);
              for (o = 0, n = (r = this._[t]).length; o < n; ++o) r[o].value.apply(e, i);
            },
            apply: function (t, e, n) {
              if (!this._.hasOwnProperty(t)) throw new Error('unknown type: ' + t);
              for (var r = this._[t], i = 0, o = r.length; i < o; ++i) r[i].value.apply(e, n);
            },
          };
          const k = _;
          var A,
            C,
            I = 0,
            T = 0,
            N = 0,
            P = 0,
            O = 0,
            D = 0,
            L = 'object' == typeof performance && performance.now ? performance : Date,
            R =
              'object' == typeof window && window.requestAnimationFrame
                ? window.requestAnimationFrame.bind(window)
                : function (t) {
                    setTimeout(t, 17);
                  };
          function B() {
            return O || (R(j), (O = L.now() + D));
          }
          function j() {
            O = 0;
          }
          function G() {
            this._call = this._time = this._next = null;
          }
          function z(t, e, n) {
            var r = new G();
            return r.restart(t, e, n), r;
          }
          function F() {
            (O = (P = L.now()) + D), (I = T = 0);
            try {
              !(function () {
                B(), ++I;
                for (var t, e = A; e; )
                  (t = O - e._time) >= 0 && e._call.call(null, t), (e = e._next);
                --I;
              })();
            } finally {
              (I = 0),
                (function () {
                  for (var t, e, n = A, r = 1 / 0; n; )
                    n._call
                      ? (r > n._time && (r = n._time), (t = n), (n = n._next))
                      : ((e = n._next), (n._next = null), (n = t ? (t._next = e) : (A = e)));
                  (C = t), V(r);
                })(),
                (O = 0);
            }
          }
          function U() {
            var t = L.now(),
              e = t - P;
            e > 1e3 && ((D -= e), (P = t));
          }
          function V(t) {
            I ||
              (T && (T = clearTimeout(T)),
              t - O > 24
                ? (t < 1 / 0 && (T = setTimeout(F, t - L.now() - D)), N && (N = clearInterval(N)))
                : (N || ((P = L.now()), (N = setInterval(U, 1e3))), (I = 1), R(F)));
          }
          G.prototype = z.prototype = {
            constructor: G,
            restart: function (t, e, n) {
              if ('function' != typeof t) throw new TypeError('callback is not a function');
              (n = (null == n ? B() : +n) + (null == e ? 0 : +e)),
                this._next || C === this || (C ? (C._next = this) : (A = this), (C = this)),
                (this._call = t),
                (this._time = n),
                V();
            },
            stop: function () {
              this._call && ((this._call = null), (this._time = 1 / 0), V());
            },
          };
          const W = 4294967296;
          function Y(t) {
            return t.x;
          }
          function X(t) {
            return t.y;
          }
          var H = Math.PI * (3 - Math.sqrt(5));
          function q(t) {
            var e,
              n = 1,
              r = 0.001,
              i = 1 - Math.pow(r, 1 / 300),
              o = 0,
              a = 0.6,
              s = new Map(),
              u = z(h),
              c = k('tick', 'end'),
              l = (function () {
                let t = 1;
                return () => (t = (1664525 * t + 1013904223) % W) / W;
              })();
            function h() {
              f(), c.call('tick', e), n < r && (u.stop(), c.call('end', e));
            }
            function f(r) {
              var u,
                c,
                l = t.length;
              void 0 === r && (r = 1);
              for (var h = 0; h < r; ++h)
                for (
                  n += (o - n) * i,
                    s.forEach(function (t) {
                      t(n);
                    }),
                    u = 0;
                  u < l;
                  ++u
                )
                  null == (c = t[u]).fx ? (c.x += c.vx *= a) : ((c.x = c.fx), (c.vx = 0)),
                    null == c.fy ? (c.y += c.vy *= a) : ((c.y = c.fy), (c.vy = 0));
              return e;
            }
            function d() {
              for (var e, n = 0, r = t.length; n < r; ++n) {
                if (
                  (((e = t[n]).index = n),
                  null != e.fx && (e.x = e.fx),
                  null != e.fy && (e.y = e.fy),
                  isNaN(e.x) || isNaN(e.y))
                ) {
                  var i = 10 * Math.sqrt(0.5 + n),
                    o = n * H;
                  (e.x = i * Math.cos(o)), (e.y = i * Math.sin(o));
                }
                (isNaN(e.vx) || isNaN(e.vy)) && (e.vx = e.vy = 0);
              }
            }
            function p(e) {
              return e.initialize && e.initialize(t, l), e;
            }
            return (
              null == t && (t = []),
              d(),
              (e = {
                tick: f,
                restart: function () {
                  return u.restart(h), e;
                },
                stop: function () {
                  return u.stop(), e;
                },
                nodes: function (n) {
                  return arguments.length ? ((t = n), d(), s.forEach(p), e) : t;
                },
                alpha: function (t) {
                  return arguments.length ? ((n = +t), e) : n;
                },
                alphaMin: function (t) {
                  return arguments.length ? ((r = +t), e) : r;
                },
                alphaDecay: function (t) {
                  return arguments.length ? ((i = +t), e) : +i;
                },
                alphaTarget: function (t) {
                  return arguments.length ? ((o = +t), e) : o;
                },
                velocityDecay: function (t) {
                  return arguments.length ? ((a = 1 - t), e) : 1 - a;
                },
                randomSource: function (t) {
                  return arguments.length ? ((l = t), s.forEach(p), e) : l;
                },
                force: function (t, n) {
                  return arguments.length > 1
                    ? (null == n ? s.delete(t) : s.set(t, p(n)), e)
                    : s.get(t);
                },
                find: function (e, n, r) {
                  var i,
                    o,
                    a,
                    s,
                    u,
                    c = 0,
                    l = t.length;
                  for (null == r ? (r = 1 / 0) : (r *= r), c = 0; c < l; ++c)
                    (a = (i = e - (s = t[c]).x) * i + (o = n - s.y) * o) < r && ((u = s), (r = a));
                  return u;
                },
                on: function (t, n) {
                  return arguments.length > 1 ? (c.on(t, n), e) : c.on(t);
                },
              })
            );
          }
          function K() {
            var t,
              e,
              n,
              r,
              i,
              o = f(-30),
              a = 1,
              s = 1 / 0,
              c = 0.81;
            function l(n) {
              var i,
                o = t.length,
                a = u(t, Y, X).visitAfter(p);
              for (r = n, i = 0; i < o; ++i) (e = t[i]), a.visit(g);
            }
            function h() {
              if (t) {
                var e,
                  n,
                  r = t.length;
                for (i = new Array(r), e = 0; e < r; ++e) (n = t[e]), (i[n.index] = +o(n, e, t));
              }
            }
            function p(t) {
              var e,
                n,
                r,
                o,
                a,
                s = 0,
                u = 0;
              if (t.length) {
                for (r = o = a = 0; a < 4; ++a)
                  (e = t[a]) &&
                    (n = Math.abs(e.value)) &&
                    ((s += e.value), (u += n), (r += n * e.x), (o += n * e.y));
                (t.x = r / u), (t.y = o / u);
              } else {
                ((e = t).x = e.data.x), (e.y = e.data.y);
                do {
                  s += i[e.data.index];
                } while ((e = e.next));
              }
              t.value = s;
            }
            function g(t, o, u, l) {
              if (!t.value) return !0;
              var h = t.x - e.x,
                f = t.y - e.y,
                p = l - o,
                g = h * h + f * f;
              if ((p * p) / c < g)
                return (
                  g < s &&
                    (0 === h && (g += (h = d(n)) * h),
                    0 === f && (g += (f = d(n)) * f),
                    g < a && (g = Math.sqrt(a * g)),
                    (e.vx += (h * t.value * r) / g),
                    (e.vy += (f * t.value * r) / g)),
                  !0
                );
              if (!(t.length || g >= s)) {
                (t.data !== e || t.next) &&
                  (0 === h && (g += (h = d(n)) * h),
                  0 === f && (g += (f = d(n)) * f),
                  g < a && (g = Math.sqrt(a * g)));
                do {
                  t.data !== e &&
                    ((p = (i[t.data.index] * r) / g), (e.vx += h * p), (e.vy += f * p));
                } while ((t = t.next));
              }
            }
            return (
              (l.initialize = function (e, r) {
                (t = e), (n = r), h();
              }),
              (l.strength = function (t) {
                return arguments.length ? ((o = 'function' == typeof t ? t : f(+t)), h(), l) : o;
              }),
              (l.distanceMin = function (t) {
                return arguments.length ? ((a = t * t), l) : Math.sqrt(a);
              }),
              (l.distanceMax = function (t) {
                return arguments.length ? ((s = t * t), l) : Math.sqrt(s);
              }),
              (l.theta = function (t) {
                return arguments.length ? ((c = t * t), l) : Math.sqrt(c);
              }),
              l
            );
          }
          function Z(t, e, n) {
            var r,
              i,
              o,
              a = f(0.1);
            function s(t) {
              for (var a = 0, s = r.length; a < s; ++a) {
                var u = r[a],
                  c = u.x - e || 1e-6,
                  l = u.y - n || 1e-6,
                  h = Math.sqrt(c * c + l * l),
                  f = ((o[a] - h) * i[a] * t) / h;
                (u.vx += c * f), (u.vy += l * f);
              }
            }
            function u() {
              if (r) {
                var e,
                  n = r.length;
                for (i = new Array(n), o = new Array(n), e = 0; e < n; ++e)
                  (o[e] = +t(r[e], e, r)), (i[e] = isNaN(o[e]) ? 0 : +a(r[e], e, r));
              }
            }
            return (
              'function' != typeof t && (t = f(+t)),
              null == e && (e = 0),
              null == n && (n = 0),
              (s.initialize = function (t) {
                (r = t), u();
              }),
              (s.strength = function (t) {
                return arguments.length ? ((a = 'function' == typeof t ? t : f(+t)), u(), s) : a;
              }),
              (s.radius = function (e) {
                return arguments.length ? ((t = 'function' == typeof e ? e : f(+e)), u(), s) : t;
              }),
              (s.x = function (t) {
                return arguments.length ? ((e = +t), s) : e;
              }),
              (s.y = function (t) {
                return arguments.length ? ((n = +t), s) : n;
              }),
              s
            );
          }
          function $(t) {
            var e,
              n,
              r,
              i = f(0.1);
            function o(t) {
              for (var i, o = 0, a = e.length; o < a; ++o) (i = e[o]).vx += (r[o] - i.x) * n[o] * t;
            }
            function a() {
              if (e) {
                var o,
                  a = e.length;
                for (n = new Array(a), r = new Array(a), o = 0; o < a; ++o)
                  n[o] = isNaN((r[o] = +t(e[o], o, e))) ? 0 : +i(e[o], o, e);
              }
            }
            return (
              'function' != typeof t && (t = f(null == t ? 0 : +t)),
              (o.initialize = function (t) {
                (e = t), a();
              }),
              (o.strength = function (t) {
                return arguments.length ? ((i = 'function' == typeof t ? t : f(+t)), a(), o) : i;
              }),
              (o.x = function (e) {
                return arguments.length ? ((t = 'function' == typeof e ? e : f(+e)), a(), o) : t;
              }),
              o
            );
          }
          function Q(t) {
            var e,
              n,
              r,
              i = f(0.1);
            function o(t) {
              for (var i, o = 0, a = e.length; o < a; ++o) (i = e[o]).vy += (r[o] - i.y) * n[o] * t;
            }
            function a() {
              if (e) {
                var o,
                  a = e.length;
                for (n = new Array(a), r = new Array(a), o = 0; o < a; ++o)
                  n[o] = isNaN((r[o] = +t(e[o], o, e))) ? 0 : +i(e[o], o, e);
              }
            }
            return (
              'function' != typeof t && (t = f(null == t ? 0 : +t)),
              (o.initialize = function (t) {
                (e = t), a();
              }),
              (o.strength = function (t) {
                return arguments.length ? ((i = 'function' == typeof t ? t : f(+t)), a(), o) : i;
              }),
              (o.y = function (e) {
                return arguments.length ? ((t = 'function' == typeof e ? e : f(+e)), a(), o) : t;
              }),
              o
            );
          }
        },
        1969: (t, e, n) => {
          'use strict';
          n.r(e),
            n.d(e, {
              BRIDGE_GRAPH_NAME: () => s,
              GraphType: () => l,
              HierarchyNodeType: () => h,
              InclusionType: () => c,
              LAYOUT_CONFIG: () => r,
              NodeType: () => u,
              ROOT_NAME: () => a,
              buildGraph: () => Yo,
              flatGraph: () => Xo,
              getEdges: () => Ho,
              mergeConfig: () => i,
            });
          const r = {
            graph: { meta: { rankDir: 'TB', nodeSep: 50, rankSep: 50, edgeSep: 5, align: void 0 } },
            subScene: {
              meta: {
                paddingTop: 20,
                paddingBottom: 20,
                paddingLeft: 20,
                paddingRight: 20,
                labelHeight: 20,
              },
            },
            nodeSize: {
              meta: { width: 100, maxLabelWidth: 0, height: 20 },
              node: { width: 80, height: 20, labelOffset: 10, maxLabelWidth: 40 },
              bridge: { width: 5, height: 5, radius: 2, labelOffset: 0 },
            },
          };
          function i(t = {}, e = r) {
            var n, i, o, a;
            const s = JSON.parse(JSON.stringify(e)),
              u =
                (null === (n = null == t ? void 0 : t.graph) || void 0 === n ? void 0 : n.meta) ||
                {},
              c =
                (null === (i = null == t ? void 0 : t.subScene) || void 0 === i
                  ? void 0
                  : i.meta) || {},
              l =
                (null === (o = null == t ? void 0 : t.nodeSize) || void 0 === o
                  ? void 0
                  : o.meta) || {},
              h =
                (null === (a = null == t ? void 0 : t.nodeSize) || void 0 === a
                  ? void 0
                  : a.node) || {},
              f = s.nodeSize.bridge;
            return {
              graph: { meta: Object.assign(s.graph.meta, u) },
              subScene: { meta: Object.assign(s.subScene.meta, c) },
              nodeSize: {
                meta: Object.assign(s.nodeSize.meta, l),
                node: Object.assign(s.nodeSize.node, h),
                bridge: f,
              },
            };
          }
          function o(t) {
            return `◬${t}◬`;
          }
          const a = o('ROOT'),
            s = o('BRIDGE_GRAPH');
          var u, c, l, h;
          !(function (t) {
            (t[(t.META = 0)] = 'META'), (t[(t.NODE = 1)] = 'NODE'), (t[(t.BRIDGE = 2)] = 'BRIDGE');
          })(u || (u = {})),
            (function (t) {
              (t[(t.INCLUDE = 0)] = 'INCLUDE'),
                (t[(t.EXCLUDE = 1)] = 'EXCLUDE'),
                (t[(t.UNSPECIFIED = 2)] = 'UNSPECIFIED');
            })(c || (c = {})),
            (function (t) {
              (t[(t.META = 0)] = 'META'),
                (t[(t.CORE = 1)] = 'CORE'),
                (t[(t.BRIDGE = 2)] = 'BRIDGE');
            })(l || (l = {})),
            (function (t) {
              (t[(t.META = 0)] = 'META'), (t[(t.OP = 1)] = 'OP'), (t[(t.SERIES = 2)] = 'SERIES');
            })(h || (h = {}));
          var f =
            'undefined' != typeof globalThis
              ? globalThis
              : 'undefined' != typeof window
              ? window
              : void 0 !== n.g
              ? n.g
              : 'undefined' != typeof self
              ? self
              : {};
          function d(t, e) {
            return t((e = { exports: {} }), e.exports), e.exports;
          }
          var p = function (t, e) {
              return t === e || (t != t && e != e);
            },
            g = function (t, e) {
              for (var n = t.length; n--; ) if (p(t[n][0], e)) return n;
              return -1;
            },
            v = Array.prototype.splice;
          function y(t) {
            var e = -1,
              n = null == t ? 0 : t.length;
            for (this.clear(); ++e < n; ) {
              var r = t[e];
              this.set(r[0], r[1]);
            }
          }
          (y.prototype.clear = function () {
            (this.__data__ = []), (this.size = 0);
          }),
            (y.prototype.delete = function (t) {
              var e = this.__data__,
                n = g(e, t);
              return !(n < 0 || (n == e.length - 1 ? e.pop() : v.call(e, n, 1), --this.size, 0));
            }),
            (y.prototype.get = function (t) {
              var e = this.__data__,
                n = g(e, t);
              return n < 0 ? void 0 : e[n][1];
            }),
            (y.prototype.has = function (t) {
              return g(this.__data__, t) > -1;
            }),
            (y.prototype.set = function (t, e) {
              var n = this.__data__,
                r = g(n, t);
              return r < 0 ? (++this.size, n.push([t, e])) : (n[r][1] = e), this;
            });
          var m,
            b = y,
            x = 'object' == typeof f && f && f.Object === Object && f,
            _ = 'object' == typeof self && self && self.Object === Object && self,
            w = x || _ || Function('return this')(),
            E = w.Symbol,
            S = Object.prototype,
            M = S.hasOwnProperty,
            k = S.toString,
            A = E ? E.toStringTag : void 0,
            C = Object.prototype.toString,
            I = E ? E.toStringTag : void 0,
            T = function (t) {
              return null == t
                ? void 0 === t
                  ? '[object Undefined]'
                  : '[object Null]'
                : I && I in Object(t)
                ? (function (t) {
                    var e = M.call(t, A),
                      n = t[A];
                    try {
                      t[A] = void 0;
                      var r = !0;
                    } catch (t) {}
                    var i = k.call(t);
                    return r && (e ? (t[A] = n) : delete t[A]), i;
                  })(t)
                : (function (t) {
                    return C.call(t);
                  })(t);
            },
            N = function (t) {
              var e = typeof t;
              return null != t && ('object' == e || 'function' == e);
            },
            P = function (t) {
              if (!N(t)) return !1;
              var e = T(t);
              return (
                '[object Function]' == e ||
                '[object GeneratorFunction]' == e ||
                '[object AsyncFunction]' == e ||
                '[object Proxy]' == e
              );
            },
            O = w['__core-js_shared__'],
            D = (m = /[^.]+$/.exec((O && O.keys && O.keys.IE_PROTO) || ''))
              ? 'Symbol(src)_1.' + m
              : '',
            L = Function.prototype.toString,
            R = function (t) {
              if (null != t) {
                try {
                  return L.call(t);
                } catch (t) {}
                try {
                  return t + '';
                } catch (t) {}
              }
              return '';
            },
            B = /^\[object .+?Constructor\]$/,
            j = Function.prototype,
            G = Object.prototype,
            z = j.toString,
            F = G.hasOwnProperty,
            U = RegExp(
              '^' +
                z
                  .call(F)
                  .replace(/[\\^$.*+?()[\]{}|]/g, '\\$&')
                  .replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g, '$1.*?') +
                '$',
            ),
            V = function (t, e) {
              var n = (function (t, e) {
                return null == t ? void 0 : t[e];
              })(t, e);
              return (function (t) {
                return (
                  !(
                    !N(t) ||
                    (function (t) {
                      return !!D && D in t;
                    })(t)
                  ) && (P(t) ? U : B).test(R(t))
                );
              })(n)
                ? n
                : void 0;
            },
            W = V(w, 'Map'),
            Y = V(Object, 'create'),
            X = Object.prototype.hasOwnProperty,
            H = Object.prototype.hasOwnProperty;
          function q(t) {
            var e = -1,
              n = null == t ? 0 : t.length;
            for (this.clear(); ++e < n; ) {
              var r = t[e];
              this.set(r[0], r[1]);
            }
          }
          (q.prototype.clear = function () {
            (this.__data__ = Y ? Y(null) : {}), (this.size = 0);
          }),
            (q.prototype.delete = function (t) {
              var e = this.has(t) && delete this.__data__[t];
              return (this.size -= e ? 1 : 0), e;
            }),
            (q.prototype.get = function (t) {
              var e = this.__data__;
              if (Y) {
                var n = e[t];
                return '__lodash_hash_undefined__' === n ? void 0 : n;
              }
              return X.call(e, t) ? e[t] : void 0;
            }),
            (q.prototype.has = function (t) {
              var e = this.__data__;
              return Y ? void 0 !== e[t] : H.call(e, t);
            }),
            (q.prototype.set = function (t, e) {
              var n = this.__data__;
              return (
                (this.size += this.has(t) ? 0 : 1),
                (n[t] = Y && void 0 === e ? '__lodash_hash_undefined__' : e),
                this
              );
            });
          var K = q,
            Z = function (t, e) {
              var n = t.__data__;
              return (function (t) {
                var e = typeof t;
                return 'string' == e || 'number' == e || 'symbol' == e || 'boolean' == e
                  ? '__proto__' !== t
                  : null === t;
              })(e)
                ? n['string' == typeof e ? 'string' : 'hash']
                : n.map;
            };
          function $(t) {
            var e = -1,
              n = null == t ? 0 : t.length;
            for (this.clear(); ++e < n; ) {
              var r = t[e];
              this.set(r[0], r[1]);
            }
          }
          ($.prototype.clear = function () {
            (this.size = 0),
              (this.__data__ = { hash: new K(), map: new (W || b)(), string: new K() });
          }),
            ($.prototype.delete = function (t) {
              var e = Z(this, t).delete(t);
              return (this.size -= e ? 1 : 0), e;
            }),
            ($.prototype.get = function (t) {
              return Z(this, t).get(t);
            }),
            ($.prototype.has = function (t) {
              return Z(this, t).has(t);
            }),
            ($.prototype.set = function (t, e) {
              var n = Z(this, t),
                r = n.size;
              return n.set(t, e), (this.size += n.size == r ? 0 : 1), this;
            });
          var Q = $;
          function J(t) {
            var e = (this.__data__ = new b(t));
            this.size = e.size;
          }
          (J.prototype.clear = function () {
            (this.__data__ = new b()), (this.size = 0);
          }),
            (J.prototype.delete = function (t) {
              var e = this.__data__,
                n = e.delete(t);
              return (this.size = e.size), n;
            }),
            (J.prototype.get = function (t) {
              return this.__data__.get(t);
            }),
            (J.prototype.has = function (t) {
              return this.__data__.has(t);
            }),
            (J.prototype.set = function (t, e) {
              var n = this.__data__;
              if (n instanceof b) {
                var r = n.__data__;
                if (!W || r.length < 199) return r.push([t, e]), (this.size = ++n.size), this;
                n = this.__data__ = new Q(r);
              }
              return n.set(t, e), (this.size = n.size), this;
            });
          var tt = J,
            et = function (t, e) {
              for (var n = -1, r = null == t ? 0 : t.length; ++n < r && !1 !== e(t[n], n, t); );
              return t;
            },
            nt = (function () {
              try {
                var t = V(Object, 'defineProperty');
                return t({}, '', {}), t;
              } catch (t) {}
            })(),
            rt = function (t, e, n) {
              '__proto__' == e && nt
                ? nt(t, e, { configurable: !0, enumerable: !0, value: n, writable: !0 })
                : (t[e] = n);
            },
            it = Object.prototype.hasOwnProperty,
            ot = function (t, e, n) {
              var r = t[e];
              (it.call(t, e) && p(r, n) && (void 0 !== n || e in t)) || rt(t, e, n);
            },
            at = function (t, e, n, r) {
              var i = !n;
              n || (n = {});
              for (var o = -1, a = e.length; ++o < a; ) {
                var s = e[o],
                  u = r ? r(n[s], t[s], s, n, t) : void 0;
                void 0 === u && (u = t[s]), i ? rt(n, s, u) : ot(n, s, u);
              }
              return n;
            },
            st = function (t) {
              return null != t && 'object' == typeof t;
            },
            ut = function (t) {
              return st(t) && '[object Arguments]' == T(t);
            },
            ct = Object.prototype,
            lt = ct.hasOwnProperty,
            ht = ct.propertyIsEnumerable,
            ft = ut(
              (function () {
                return arguments;
              })(),
            )
              ? ut
              : function (t) {
                  return st(t) && lt.call(t, 'callee') && !ht.call(t, 'callee');
                },
            dt = Array.isArray,
            pt = function () {
              return !1;
            },
            gt = d(function (t, e) {
              var n = e && !e.nodeType && e,
                r = n && t && !t.nodeType && t,
                i = r && r.exports === n ? w.Buffer : void 0,
                o = (i ? i.isBuffer : void 0) || pt;
              t.exports = o;
            }),
            vt = /^(?:0|[1-9]\d*)$/,
            yt = function (t, e) {
              var n = typeof t;
              return (
                !!(e = null == e ? 9007199254740991 : e) &&
                ('number' == n || ('symbol' != n && vt.test(t))) &&
                t > -1 &&
                t % 1 == 0 &&
                t < e
              );
            },
            mt = function (t) {
              return 'number' == typeof t && t > -1 && t % 1 == 0 && t <= 9007199254740991;
            },
            bt = {};
          (bt['[object Float32Array]'] =
            bt['[object Float64Array]'] =
            bt['[object Int8Array]'] =
            bt['[object Int16Array]'] =
            bt['[object Int32Array]'] =
            bt['[object Uint8Array]'] =
            bt['[object Uint8ClampedArray]'] =
            bt['[object Uint16Array]'] =
            bt['[object Uint32Array]'] =
              !0),
            (bt['[object Arguments]'] =
              bt['[object Array]'] =
              bt['[object ArrayBuffer]'] =
              bt['[object Boolean]'] =
              bt['[object DataView]'] =
              bt['[object Date]'] =
              bt['[object Error]'] =
              bt['[object Function]'] =
              bt['[object Map]'] =
              bt['[object Number]'] =
              bt['[object Object]'] =
              bt['[object RegExp]'] =
              bt['[object Set]'] =
              bt['[object String]'] =
              bt['[object WeakMap]'] =
                !1);
          var xt = function (t) {
              return function (e) {
                return t(e);
              };
            },
            _t = d(function (t, e) {
              var n = e && !e.nodeType && e,
                r = n && t && !t.nodeType && t,
                i = r && r.exports === n && x.process,
                o = (function () {
                  try {
                    return (
                      (r && r.require && r.require('util').types) ||
                      (i && i.binding && i.binding('util'))
                    );
                  } catch (t) {}
                })();
              t.exports = o;
            }),
            wt = _t && _t.isTypedArray,
            Et = wt
              ? xt(wt)
              : function (t) {
                  return st(t) && mt(t.length) && !!bt[T(t)];
                },
            St = Object.prototype.hasOwnProperty,
            Mt = function (t, e) {
              var n = dt(t),
                r = !n && ft(t),
                i = !n && !r && gt(t),
                o = !n && !r && !i && Et(t),
                a = n || r || i || o,
                s = a
                  ? (function (t, e) {
                      for (var n = -1, r = Array(t); ++n < t; ) r[n] = e(n);
                      return r;
                    })(t.length, String)
                  : [],
                u = s.length;
              for (var c in t)
                (!e && !St.call(t, c)) ||
                  (a &&
                    ('length' == c ||
                      (i && ('offset' == c || 'parent' == c)) ||
                      (o && ('buffer' == c || 'byteLength' == c || 'byteOffset' == c)) ||
                      yt(c, u))) ||
                  s.push(c);
              return s;
            },
            kt = Object.prototype,
            At = function (t) {
              var e = t && t.constructor;
              return t === (('function' == typeof e && e.prototype) || kt);
            },
            Ct = function (t, e) {
              return function (n) {
                return t(e(n));
              };
            },
            It = Ct(Object.keys, Object),
            Tt = Object.prototype.hasOwnProperty,
            Nt = function (t) {
              if (!At(t)) return It(t);
              var e = [];
              for (var n in Object(t)) Tt.call(t, n) && 'constructor' != n && e.push(n);
              return e;
            },
            Pt = function (t) {
              return null != t && mt(t.length) && !P(t);
            },
            Ot = function (t) {
              return Pt(t) ? Mt(t) : Nt(t);
            },
            Dt = Object.prototype.hasOwnProperty,
            Lt = function (t) {
              return Pt(t)
                ? Mt(t, !0)
                : (function (t) {
                    if (!N(t))
                      return (function (t) {
                        var e = [];
                        if (null != t) for (var n in Object(t)) e.push(n);
                        return e;
                      })(t);
                    var e = At(t),
                      n = [];
                    for (var r in t) ('constructor' != r || (!e && Dt.call(t, r))) && n.push(r);
                    return n;
                  })(t);
            },
            Rt = d(function (t, e) {
              var n = e && !e.nodeType && e,
                r = n && t && !t.nodeType && t,
                i = r && r.exports === n ? w.Buffer : void 0,
                o = i ? i.allocUnsafe : void 0;
              t.exports = function (t, e) {
                if (e) return t.slice();
                var n = t.length,
                  r = o ? o(n) : new t.constructor(n);
                return t.copy(r), r;
              };
            }),
            Bt = function (t, e) {
              var n = -1,
                r = t.length;
              for (e || (e = Array(r)); ++n < r; ) e[n] = t[n];
              return e;
            },
            jt = function (t, e) {
              for (var n = -1, r = null == t ? 0 : t.length, i = 0, o = []; ++n < r; ) {
                var a = t[n];
                e(a, n, t) && (o[i++] = a);
              }
              return o;
            },
            Gt = function () {
              return [];
            },
            zt = Object.prototype.propertyIsEnumerable,
            Ft = Object.getOwnPropertySymbols,
            Ut = Ft
              ? function (t) {
                  return null == t
                    ? []
                    : ((t = Object(t)),
                      jt(Ft(t), function (e) {
                        return zt.call(t, e);
                      }));
                }
              : Gt,
            Vt = function (t, e) {
              for (var n = -1, r = e.length, i = t.length; ++n < r; ) t[i + n] = e[n];
              return t;
            },
            Wt = Ct(Object.getPrototypeOf, Object),
            Yt = Object.getOwnPropertySymbols
              ? function (t) {
                  for (var e = []; t; ) Vt(e, Ut(t)), (t = Wt(t));
                  return e;
                }
              : Gt,
            Xt = function (t, e, n) {
              var r = e(t);
              return dt(t) ? r : Vt(r, n(t));
            },
            Ht = function (t) {
              return Xt(t, Ot, Ut);
            },
            qt = function (t) {
              return Xt(t, Lt, Yt);
            },
            Kt = V(w, 'DataView'),
            Zt = V(w, 'Promise'),
            $t = V(w, 'Set'),
            Qt = V(w, 'WeakMap'),
            Jt = R(Kt),
            te = R(W),
            ee = R(Zt),
            ne = R($t),
            re = R(Qt),
            ie = T;
          ((Kt && '[object DataView]' != ie(new Kt(new ArrayBuffer(1)))) ||
            (W && '[object Map]' != ie(new W())) ||
            (Zt && '[object Promise]' != ie(Zt.resolve())) ||
            ($t && '[object Set]' != ie(new $t())) ||
            (Qt && '[object WeakMap]' != ie(new Qt()))) &&
            (ie = function (t) {
              var e = T(t),
                n = '[object Object]' == e ? t.constructor : void 0,
                r = n ? R(n) : '';
              if (r)
                switch (r) {
                  case Jt:
                    return '[object DataView]';
                  case te:
                    return '[object Map]';
                  case ee:
                    return '[object Promise]';
                  case ne:
                    return '[object Set]';
                  case re:
                    return '[object WeakMap]';
                }
              return e;
            });
          var oe = ie,
            ae = Object.prototype.hasOwnProperty,
            se = w.Uint8Array,
            ue = function (t) {
              var e = new t.constructor(t.byteLength);
              return new se(e).set(new se(t)), e;
            },
            ce = /\w*$/,
            le = E ? E.prototype : void 0,
            he = le ? le.valueOf : void 0,
            fe = function (t, e) {
              var n = e ? ue(t.buffer) : t.buffer;
              return new t.constructor(n, t.byteOffset, t.length);
            },
            de = Object.create,
            pe = (function () {
              function t() {}
              return function (e) {
                if (!N(e)) return {};
                if (de) return de(e);
                t.prototype = e;
                var n = new t();
                return (t.prototype = void 0), n;
              };
            })(),
            ge = function (t) {
              return 'function' != typeof t.constructor || At(t) ? {} : pe(Wt(t));
            },
            ve = _t && _t.isMap,
            ye = ve
              ? xt(ve)
              : function (t) {
                  return st(t) && '[object Map]' == oe(t);
                },
            me = _t && _t.isSet,
            be = me
              ? xt(me)
              : function (t) {
                  return st(t) && '[object Set]' == oe(t);
                },
            xe = {};
          (xe['[object Arguments]'] =
            xe['[object Array]'] =
            xe['[object ArrayBuffer]'] =
            xe['[object DataView]'] =
            xe['[object Boolean]'] =
            xe['[object Date]'] =
            xe['[object Float32Array]'] =
            xe['[object Float64Array]'] =
            xe['[object Int8Array]'] =
            xe['[object Int16Array]'] =
            xe['[object Int32Array]'] =
            xe['[object Map]'] =
            xe['[object Number]'] =
            xe['[object Object]'] =
            xe['[object RegExp]'] =
            xe['[object Set]'] =
            xe['[object String]'] =
            xe['[object Symbol]'] =
            xe['[object Uint8Array]'] =
            xe['[object Uint8ClampedArray]'] =
            xe['[object Uint16Array]'] =
            xe['[object Uint32Array]'] =
              !0),
            (xe['[object Error]'] = xe['[object Function]'] = xe['[object WeakMap]'] = !1);
          var _e = function t(e, n, r, i, o, a) {
              var s,
                u = 1 & n,
                c = 2 & n,
                l = 4 & n;
              if ((r && (s = o ? r(e, i, o, a) : r(e)), void 0 !== s)) return s;
              if (!N(e)) return e;
              var h = dt(e);
              if (h) {
                if (
                  ((s = (function (t) {
                    var e = t.length,
                      n = new t.constructor(e);
                    return (
                      e &&
                        'string' == typeof t[0] &&
                        ae.call(t, 'index') &&
                        ((n.index = t.index), (n.input = t.input)),
                      n
                    );
                  })(e)),
                  !u)
                )
                  return Bt(e, s);
              } else {
                var f = oe(e),
                  d = '[object Function]' == f || '[object GeneratorFunction]' == f;
                if (gt(e)) return Rt(e, u);
                if ('[object Object]' == f || '[object Arguments]' == f || (d && !o)) {
                  if (((s = c || d ? {} : ge(e)), !u))
                    return c
                      ? (function (t, e) {
                          return at(t, Yt(t), e);
                        })(
                          e,
                          (function (t, e) {
                            return t && at(e, Lt(e), t);
                          })(s, e),
                        )
                      : (function (t, e) {
                          return at(t, Ut(t), e);
                        })(
                          e,
                          (function (t, e) {
                            return t && at(e, Ot(e), t);
                          })(s, e),
                        );
                } else {
                  if (!xe[f]) return o ? e : {};
                  s = (function (t, e, n) {
                    var r = t.constructor;
                    switch (e) {
                      case '[object ArrayBuffer]':
                        return ue(t);
                      case '[object Boolean]':
                      case '[object Date]':
                        return new r(+t);
                      case '[object DataView]':
                        return (function (t, e) {
                          var n = e ? ue(t.buffer) : t.buffer;
                          return new t.constructor(n, t.byteOffset, t.byteLength);
                        })(t, n);
                      case '[object Float32Array]':
                      case '[object Float64Array]':
                      case '[object Int8Array]':
                      case '[object Int16Array]':
                      case '[object Int32Array]':
                      case '[object Uint8Array]':
                      case '[object Uint8ClampedArray]':
                      case '[object Uint16Array]':
                      case '[object Uint32Array]':
                        return fe(t, n);
                      case '[object Map]':
                      case '[object Set]':
                        return new r();
                      case '[object Number]':
                      case '[object String]':
                        return new r(t);
                      case '[object RegExp]':
                        return (function (t) {
                          var e = new t.constructor(t.source, ce.exec(t));
                          return (e.lastIndex = t.lastIndex), e;
                        })(t);
                      case '[object Symbol]':
                        return (function (t) {
                          return he ? Object(he.call(t)) : {};
                        })(t);
                    }
                  })(e, f, u);
                }
              }
              a || (a = new tt());
              var p = a.get(e);
              if (p) return p;
              a.set(e, s),
                be(e)
                  ? e.forEach(function (i) {
                      s.add(t(i, n, r, i, e, a));
                    })
                  : ye(e) &&
                    e.forEach(function (i, o) {
                      s.set(o, t(i, n, r, o, e, a));
                    });
              var g = h ? void 0 : (l ? (c ? qt : Ht) : c ? Lt : Ot)(e);
              return (
                et(g || e, function (i, o) {
                  g && (i = e[(o = i)]), ot(s, o, t(i, n, r, o, e, a));
                }),
                s
              );
            },
            we = function (t) {
              return function () {
                return t;
              };
            },
            Ee = function (t, e, n) {
              for (var r = -1, i = Object(t), o = n(t), a = o.length; a--; ) {
                var s = o[++r];
                if (!1 === e(i[s], s, i)) break;
              }
              return t;
            },
            Se = function (t, e) {
              return t && Ee(t, e, Ot);
            },
            Me = (function (t, e) {
              return function (e, n) {
                if (null == e) return e;
                if (!Pt(e)) return t(e, n);
                for (var r = e.length, i = -1, o = Object(e); ++i < r && !1 !== n(o[i], i, o); );
                return e;
              };
            })(Se),
            ke = function (t) {
              return t;
            },
            Ae = function (t) {
              return 'function' == typeof t ? t : ke;
            },
            Ce = function (t, e) {
              return (dt(t) ? et : Me)(t, Ae(e));
            },
            Ie = Ce,
            Te = function (t, e) {
              var n = [];
              return (
                Me(t, function (t, r, i) {
                  e(t, r, i) && n.push(t);
                }),
                n
              );
            };
          function Ne(t) {
            var e = -1,
              n = null == t ? 0 : t.length;
            for (this.__data__ = new Q(); ++e < n; ) this.add(t[e]);
          }
          (Ne.prototype.add = Ne.prototype.push =
            function (t) {
              return this.__data__.set(t, '__lodash_hash_undefined__'), this;
            }),
            (Ne.prototype.has = function (t) {
              return this.__data__.has(t);
            });
          var Pe = Ne,
            Oe = function (t, e) {
              for (var n = -1, r = null == t ? 0 : t.length; ++n < r; )
                if (e(t[n], n, t)) return !0;
              return !1;
            },
            De = function (t, e) {
              return t.has(e);
            },
            Le = function (t, e, n, r, i, o) {
              var a = 1 & n,
                s = t.length,
                u = e.length;
              if (s != u && !(a && u > s)) return !1;
              var c = o.get(t),
                l = o.get(e);
              if (c && l) return c == e && l == t;
              var h = -1,
                f = !0,
                d = 2 & n ? new Pe() : void 0;
              for (o.set(t, e), o.set(e, t); ++h < s; ) {
                var p = t[h],
                  g = e[h];
                if (r) var v = a ? r(g, p, h, e, t, o) : r(p, g, h, t, e, o);
                if (void 0 !== v) {
                  if (v) continue;
                  f = !1;
                  break;
                }
                if (d) {
                  if (
                    !Oe(e, function (t, e) {
                      if (!De(d, e) && (p === t || i(p, t, n, r, o))) return d.push(e);
                    })
                  ) {
                    f = !1;
                    break;
                  }
                } else if (p !== g && !i(p, g, n, r, o)) {
                  f = !1;
                  break;
                }
              }
              return o.delete(t), o.delete(e), f;
            },
            Re = function (t) {
              var e = -1,
                n = Array(t.size);
              return (
                t.forEach(function (t, r) {
                  n[++e] = [r, t];
                }),
                n
              );
            },
            Be = function (t) {
              var e = -1,
                n = Array(t.size);
              return (
                t.forEach(function (t) {
                  n[++e] = t;
                }),
                n
              );
            },
            je = E ? E.prototype : void 0,
            Ge = je ? je.valueOf : void 0,
            ze = function (t, e, n, r, i, o, a) {
              switch (n) {
                case '[object DataView]':
                  if (t.byteLength != e.byteLength || t.byteOffset != e.byteOffset) return !1;
                  (t = t.buffer), (e = e.buffer);
                case '[object ArrayBuffer]':
                  return !(t.byteLength != e.byteLength || !o(new se(t), new se(e)));
                case '[object Boolean]':
                case '[object Date]':
                case '[object Number]':
                  return p(+t, +e);
                case '[object Error]':
                  return t.name == e.name && t.message == e.message;
                case '[object RegExp]':
                case '[object String]':
                  return t == e + '';
                case '[object Map]':
                  var s = Re;
                case '[object Set]':
                  var u = 1 & r;
                  if ((s || (s = Be), t.size != e.size && !u)) return !1;
                  var c = a.get(t);
                  if (c) return c == e;
                  (r |= 2), a.set(t, e);
                  var l = Le(s(t), s(e), r, i, o, a);
                  return a.delete(t), l;
                case '[object Symbol]':
                  if (Ge) return Ge.call(t) == Ge.call(e);
              }
              return !1;
            },
            Fe = Object.prototype.hasOwnProperty,
            Ue = Object.prototype.hasOwnProperty,
            Ve = function t(e, n, r, i, o) {
              return (
                e === n ||
                (null == e || null == n || (!st(e) && !st(n))
                  ? e != e && n != n
                  : (function (t, e, n, r, i, o) {
                      var a = dt(t),
                        s = dt(e),
                        u = a ? '[object Array]' : oe(t),
                        c = s ? '[object Array]' : oe(e),
                        l =
                          '[object Object]' ==
                          (u = '[object Arguments]' == u ? '[object Object]' : u),
                        h =
                          '[object Object]' ==
                          (c = '[object Arguments]' == c ? '[object Object]' : c),
                        f = u == c;
                      if (f && gt(t)) {
                        if (!gt(e)) return !1;
                        (a = !0), (l = !1);
                      }
                      if (f && !l)
                        return (
                          o || (o = new tt()),
                          a || Et(t) ? Le(t, e, n, r, i, o) : ze(t, e, u, n, r, i, o)
                        );
                      if (!(1 & n)) {
                        var d = l && Ue.call(t, '__wrapped__'),
                          p = h && Ue.call(e, '__wrapped__');
                        if (d || p) {
                          var g = d ? t.value() : t,
                            v = p ? e.value() : e;
                          return o || (o = new tt()), i(g, v, n, r, o);
                        }
                      }
                      return (
                        !!f &&
                        (o || (o = new tt()),
                        (function (t, e, n, r, i, o) {
                          var a = 1 & n,
                            s = Ht(t),
                            u = s.length;
                          if (u != Ht(e).length && !a) return !1;
                          for (var c = u; c--; ) {
                            var l = s[c];
                            if (!(a ? l in e : Fe.call(e, l))) return !1;
                          }
                          var h = o.get(t),
                            f = o.get(e);
                          if (h && f) return h == e && f == t;
                          var d = !0;
                          o.set(t, e), o.set(e, t);
                          for (var p = a; ++c < u; ) {
                            var g = t[(l = s[c])],
                              v = e[l];
                            if (r) var y = a ? r(v, g, l, e, t, o) : r(g, v, l, t, e, o);
                            if (!(void 0 === y ? g === v || i(g, v, n, r, o) : y)) {
                              d = !1;
                              break;
                            }
                            p || (p = 'constructor' == l);
                          }
                          if (d && !p) {
                            var m = t.constructor,
                              b = e.constructor;
                            m == b ||
                              !('constructor' in t) ||
                              !('constructor' in e) ||
                              ('function' == typeof m &&
                                m instanceof m &&
                                'function' == typeof b &&
                                b instanceof b) ||
                              (d = !1);
                          }
                          return o.delete(t), o.delete(e), d;
                        })(t, e, n, r, i, o))
                      );
                    })(e, n, r, i, t, o))
              );
            },
            We = function (t) {
              return t == t && !N(t);
            },
            Ye = function (t, e) {
              return function (n) {
                return null != n && n[t] === e && (void 0 !== e || t in Object(n));
              };
            },
            Xe = function (t) {
              return 'symbol' == typeof t || (st(t) && '[object Symbol]' == T(t));
            },
            He = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,
            qe = /^\w*$/,
            Ke = function (t, e) {
              if (dt(t)) return !1;
              var n = typeof t;
              return (
                !('number' != n && 'symbol' != n && 'boolean' != n && null != t && !Xe(t)) ||
                qe.test(t) ||
                !He.test(t) ||
                (null != e && t in Object(e))
              );
            };
          function Ze(t, e) {
            if ('function' != typeof t || (null != e && 'function' != typeof e))
              throw new TypeError('Expected a function');
            var n = function () {
              var r = arguments,
                i = e ? e.apply(this, r) : r[0],
                o = n.cache;
              if (o.has(i)) return o.get(i);
              var a = t.apply(this, r);
              return (n.cache = o.set(i, a) || o), a;
            };
            return (n.cache = new (Ze.Cache || Q)()), n;
          }
          Ze.Cache = Q;
          var $e,
            Qe = Ze,
            Je =
              /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,
            tn = /\\(\\)?/g,
            en = (function (t) {
              var e = Qe(
                  function (t) {
                    var e = [];
                    return (
                      46 === t.charCodeAt(0) && e.push(''),
                      t.replace(Je, function (t, n, r, i) {
                        e.push(r ? i.replace(tn, '$1') : n || t);
                      }),
                      e
                    );
                  },
                  function (t) {
                    return 500 === n.size && n.clear(), t;
                  },
                ),
                n = e.cache;
              return e;
            })(),
            nn = function (t, e) {
              for (var n = -1, r = null == t ? 0 : t.length, i = Array(r); ++n < r; )
                i[n] = e(t[n], n, t);
              return i;
            },
            rn = E ? E.prototype : void 0,
            on = rn ? rn.toString : void 0,
            an = function t(e) {
              if ('string' == typeof e) return e;
              if (dt(e)) return nn(e, t) + '';
              if (Xe(e)) return on ? on.call(e) : '';
              var n = e + '';
              return '0' == n && 1 / e == -1 / 0 ? '-0' : n;
            },
            sn = function (t) {
              return null == t ? '' : an(t);
            },
            un = function (t, e) {
              return dt(t) ? t : Ke(t, e) ? [t] : en(sn(t));
            },
            cn = function (t) {
              if ('string' == typeof t || Xe(t)) return t;
              var e = t + '';
              return '0' == e && 1 / t == -1 / 0 ? '-0' : e;
            },
            ln = function (t, e) {
              for (var n = 0, r = (e = un(e, t)).length; null != t && n < r; ) t = t[cn(e[n++])];
              return n && n == r ? t : void 0;
            },
            hn = function (t, e) {
              return null != t && e in Object(t);
            },
            fn = function (t, e, n) {
              for (var r = -1, i = (e = un(e, t)).length, o = !1; ++r < i; ) {
                var a = cn(e[r]);
                if (!(o = null != t && n(t, a))) break;
                t = t[a];
              }
              return o || ++r != i
                ? o
                : !!(i = null == t ? 0 : t.length) && mt(i) && yt(a, i) && (dt(t) || ft(t));
            },
            dn = function (t, e) {
              return null != t && fn(t, e, hn);
            },
            pn = function (t) {
              return function (e) {
                return null == e ? void 0 : e[t];
              };
            },
            gn = function (t) {
              return 'function' == typeof t
                ? t
                : null == t
                ? ke
                : 'object' == typeof t
                ? dt(t)
                  ? (function (t, e) {
                      return Ke(t) && We(e)
                        ? Ye(cn(t), e)
                        : function (n) {
                            var r = (function (t, e, n) {
                              var r = null == t ? void 0 : ln(t, e);
                              return void 0 === r ? void 0 : r;
                            })(n, t);
                            return void 0 === r && r === e ? dn(n, t) : Ve(e, r, 3);
                          };
                    })(t[0], t[1])
                  : (function (t) {
                      var e = (function (t) {
                        for (var e = Ot(t), n = e.length; n--; ) {
                          var r = e[n],
                            i = t[r];
                          e[n] = [r, i, We(i)];
                        }
                        return e;
                      })(t);
                      return 1 == e.length && e[0][2]
                        ? Ye(e[0][0], e[0][1])
                        : function (n) {
                            return (
                              n === t ||
                              (function (t, e, n, r) {
                                var i = n.length,
                                  o = i;
                                if (null == t) return !o;
                                for (t = Object(t); i--; ) {
                                  var a = n[i];
                                  if (a[2] ? a[1] !== t[a[0]] : !(a[0] in t)) return !1;
                                }
                                for (; ++i < o; ) {
                                  var s = (a = n[i])[0],
                                    u = t[s],
                                    c = a[1];
                                  if (a[2]) {
                                    if (void 0 === u && !(s in t)) return !1;
                                  } else {
                                    var l,
                                      h = new tt();
                                    if (!(void 0 === l ? Ve(c, u, 3, r, h) : l)) return !1;
                                  }
                                }
                                return !0;
                              })(n, 0, e)
                            );
                          };
                    })(t)
                : (function (t) {
                    return Ke(t)
                      ? pn(cn(t))
                      : (function (t) {
                          return function (e) {
                            return ln(e, t);
                          };
                        })(t);
                  })(t);
            },
            vn = function (t, e) {
              return (dt(t) ? jt : Te)(t, gn(e));
            },
            yn = Object.prototype.hasOwnProperty,
            mn = function (t, e) {
              return null != t && yn.call(t, e);
            },
            bn = function (t, e) {
              return null != t && fn(t, e, mn);
            },
            xn = Object.prototype.hasOwnProperty,
            _n = function (t) {
              return void 0 === t;
            },
            wn = function (t, e) {
              var n = -1,
                r = Pt(t) ? Array(t.length) : [];
              return (
                Me(t, function (t, i, o) {
                  r[++n] = e(t, i, o);
                }),
                r
              );
            },
            En = function (t, e) {
              return (dt(t) ? nn : wn)(t, gn(e));
            },
            Sn = function (t, e, n, r) {
              var i = -1,
                o = null == t ? 0 : t.length;
              for (r && o && (n = t[++i]); ++i < o; ) n = e(n, t[i], i, t);
              return n;
            },
            Mn = function (t, e, n, r, i) {
              return (
                i(t, function (t, i, o) {
                  n = r ? ((r = !1), t) : e(n, t, i, o);
                }),
                n
              );
            },
            kn = function (t, e, n) {
              var r = dt(t) ? Sn : Mn,
                i = arguments.length < 3;
              return r(t, gn(e), n, i, Me);
            },
            An = pn('length'),
            Cn = RegExp(
              '[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]',
            ),
            In = '[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]',
            Tn = '\\ud83c[\\udffb-\\udfff]',
            Nn = '[^\\ud800-\\udfff]',
            Pn = '(?:\\ud83c[\\udde6-\\uddff]){2}',
            On = '[\\ud800-\\udbff][\\udc00-\\udfff]',
            Dn = '(?:' + In + '|' + Tn + ')?',
            Ln =
              '[\\ufe0e\\ufe0f]?' +
              Dn +
              '(?:\\u200d(?:' +
              [Nn, Pn, On].join('|') +
              ')[\\ufe0e\\ufe0f]?' +
              Dn +
              ')*',
            Rn = '(?:' + [Nn + In + '?', In, Pn, On, '[\\ud800-\\udfff]'].join('|') + ')',
            Bn = RegExp(Tn + '(?=' + Tn + ')|' + Rn + Ln, 'g'),
            jn = E ? E.isConcatSpreadable : void 0,
            Gn = function (t) {
              return dt(t) || ft(t) || !!(jn && t && t[jn]);
            },
            zn = function t(e, n, r, i, o) {
              var a = -1,
                s = e.length;
              for (r || (r = Gn), o || (o = []); ++a < s; ) {
                var u = e[a];
                n > 0 && r(u) ? (n > 1 ? t(u, n - 1, r, i, o) : Vt(o, u)) : i || (o[o.length] = u);
              }
              return o;
            },
            Fn = function (t, e, n) {
              switch (n.length) {
                case 0:
                  return t.call(e);
                case 1:
                  return t.call(e, n[0]);
                case 2:
                  return t.call(e, n[0], n[1]);
                case 3:
                  return t.call(e, n[0], n[1], n[2]);
              }
              return t.apply(e, n);
            },
            Un = Math.max,
            Vn = function (t, e, n) {
              return (
                (e = Un(void 0 === e ? t.length - 1 : e, 0)),
                function () {
                  for (var r = arguments, i = -1, o = Un(r.length - e, 0), a = Array(o); ++i < o; )
                    a[i] = r[e + i];
                  i = -1;
                  for (var s = Array(e + 1); ++i < e; ) s[i] = r[i];
                  return (s[e] = n(a)), Fn(t, this, s);
                }
              );
            },
            Wn = nt
              ? function (t, e) {
                  return nt(t, 'toString', {
                    configurable: !0,
                    enumerable: !1,
                    value: we(e),
                    writable: !0,
                  });
                }
              : ke,
            Yn = Date.now,
            Xn = (function (t) {
              var e = 0,
                n = 0;
              return function () {
                var r = Yn(),
                  i = 16 - (r - n);
                if (((n = r), i > 0)) {
                  if (++e >= 800) return arguments[0];
                } else e = 0;
                return t.apply(void 0, arguments);
              };
            })(Wn),
            Hn = function (t, e) {
              return Xn(Vn(t, e, ke), t + '');
            },
            qn = function (t, e, n, r) {
              for (var i = t.length, o = n + (r ? 1 : -1); r ? o-- : ++o < i; )
                if (e(t[o], o, t)) return o;
              return -1;
            },
            Kn = function (t) {
              return t != t;
            },
            Zn = function (t, e) {
              return (
                !(null == t || !t.length) &&
                (function (t, e, n) {
                  return e == e
                    ? (function (t, e, n) {
                        for (var r = -1, i = t.length; ++r < i; ) if (t[r] === e) return r;
                        return -1;
                      })(t, e)
                    : qn(t, Kn, 0);
                })(t, e) > -1
              );
            },
            $n =
              $t && 1 / Be(new $t([, -0]))[1] == 1 / 0
                ? function (t) {
                    return new $t(t);
                  }
                : function () {},
            Qn = function (t) {
              return st(t) && Pt(t);
            },
            Jn = Hn(function (t) {
              return (function (t, e, n) {
                var r = -1,
                  i = Zn,
                  o = t.length,
                  a = !0,
                  s = [],
                  u = s;
                if (o >= 200) {
                  var c = $n(t);
                  if (c) return Be(c);
                  (a = !1), (i = De), (u = new Pe());
                } else u = s;
                t: for (; ++r < o; ) {
                  var l = t[r],
                    h = l;
                  if (((l = 0 !== l ? l : 0), a && h == h)) {
                    for (var f = u.length; f--; ) if (u[f] === h) continue t;
                    s.push(l);
                  } else i(u, h, n) || (u !== s && u.push(h), s.push(l));
                }
                return s;
              })(zn(t, 1, Qn, !0));
            }),
            tr = function (t) {
              return null == t
                ? []
                : (function (t, e) {
                    return nn(e, function (e) {
                      return t[e];
                    });
                  })(t, Ot(t));
            };
          try {
            $e = {
              clone: function (t) {
                return _e(t, 4);
              },
              constant: we,
              each: Ie,
              filter: vn,
              has: bn,
              isArray: dt,
              isEmpty: function (t) {
                if (null == t) return !0;
                if (
                  Pt(t) &&
                  (dt(t) ||
                    'string' == typeof t ||
                    'function' == typeof t.splice ||
                    gt(t) ||
                    Et(t) ||
                    ft(t))
                )
                  return !t.length;
                var e = oe(t);
                if ('[object Map]' == e || '[object Set]' == e) return !t.size;
                if (At(t)) return !Nt(t).length;
                for (var n in t) if (xn.call(t, n)) return !1;
                return !0;
              },
              isFunction: P,
              isUndefined: _n,
              keys: Ot,
              map: En,
              reduce: kn,
              size: function (t) {
                if (null == t) return 0;
                if (Pt(t))
                  return (function (t) {
                    return 'string' == typeof t || (!dt(t) && st(t) && '[object String]' == T(t));
                  })(t)
                    ? (function (t) {
                        return (function (t) {
                          return Cn.test(t);
                        })(t)
                          ? (function (t) {
                              for (var e = (Bn.lastIndex = 0); Bn.test(t); ) ++e;
                              return e;
                            })(t)
                          : An(t);
                      })(t)
                    : t.length;
                var e = oe(t);
                return '[object Map]' == e || '[object Set]' == e ? t.size : Nt(t).length;
              },
              transform: function (t, e, n) {
                var r = dt(t),
                  i = r || gt(t) || Et(t);
                if (((e = gn(e)), null == n)) {
                  var o = t && t.constructor;
                  n = i ? (r ? new o() : []) : N(t) && P(o) ? pe(Wt(t)) : {};
                }
                return (
                  (i ? et : Se)(t, function (t, r, i) {
                    return e(n, t, r, i);
                  }),
                  n
                );
              },
              union: Jn,
              values: tr,
            };
          } catch (r) {}
          $e || ($e = window._);
          var er = $e,
            nr = rr;
          function rr(t) {
            (this._isDirected = !er.has(t, 'directed') || t.directed),
              (this._isMultigraph = !!er.has(t, 'multigraph') && t.multigraph),
              (this._isCompound = !!er.has(t, 'compound') && t.compound),
              (this._label = void 0),
              (this._defaultNodeLabelFn = er.constant(void 0)),
              (this._defaultEdgeLabelFn = er.constant(void 0)),
              (this._nodes = {}),
              this._isCompound &&
                ((this._parent = {}), (this._children = {}), (this._children['\0'] = {})),
              (this._in = {}),
              (this._preds = {}),
              (this._out = {}),
              (this._sucs = {}),
              (this._edgeObjs = {}),
              (this._edgeLabels = {});
          }
          function ir(t, e) {
            t[e] ? t[e]++ : (t[e] = 1);
          }
          function or(t, e) {
            --t[e] || delete t[e];
          }
          function ar(t, e, n, r) {
            var i = '' + e,
              o = '' + n;
            if (!t && i > o) {
              var a = i;
              (i = o), (o = a);
            }
            return i + '' + o + '' + (er.isUndefined(r) ? '\0' : r);
          }
          function sr(t, e, n, r) {
            var i = '' + e,
              o = '' + n;
            if (!t && i > o) {
              var a = i;
              (i = o), (o = a);
            }
            var s = { v: i, w: o };
            return r && (s.name = r), s;
          }
          function ur(t, e) {
            return ar(t, e.v, e.w, e.name);
          }
          (rr.prototype._nodeCount = 0),
            (rr.prototype._edgeCount = 0),
            (rr.prototype.isDirected = function () {
              return this._isDirected;
            }),
            (rr.prototype.isMultigraph = function () {
              return this._isMultigraph;
            }),
            (rr.prototype.isCompound = function () {
              return this._isCompound;
            }),
            (rr.prototype.setGraph = function (t) {
              return (this._label = t), this;
            }),
            (rr.prototype.graph = function () {
              return this._label;
            }),
            (rr.prototype.setDefaultNodeLabel = function (t) {
              return er.isFunction(t) || (t = er.constant(t)), (this._defaultNodeLabelFn = t), this;
            }),
            (rr.prototype.nodeCount = function () {
              return this._nodeCount;
            }),
            (rr.prototype.nodes = function () {
              return er.keys(this._nodes);
            }),
            (rr.prototype.sources = function () {
              var t = this;
              return er.filter(this.nodes(), function (e) {
                return er.isEmpty(t._in[e]);
              });
            }),
            (rr.prototype.sinks = function () {
              var t = this;
              return er.filter(this.nodes(), function (e) {
                return er.isEmpty(t._out[e]);
              });
            }),
            (rr.prototype.setNodes = function (t, e) {
              var n = arguments,
                r = this;
              return (
                er.each(t, function (t) {
                  n.length > 1 ? r.setNode(t, e) : r.setNode(t);
                }),
                this
              );
            }),
            (rr.prototype.setNode = function (t, e) {
              return er.has(this._nodes, t)
                ? (arguments.length > 1 && (this._nodes[t] = e), this)
                : ((this._nodes[t] = arguments.length > 1 ? e : this._defaultNodeLabelFn(t)),
                  this._isCompound &&
                    ((this._parent[t] = '\0'),
                    (this._children[t] = {}),
                    (this._children['\0'][t] = !0)),
                  (this._in[t] = {}),
                  (this._preds[t] = {}),
                  (this._out[t] = {}),
                  (this._sucs[t] = {}),
                  ++this._nodeCount,
                  this);
            }),
            (rr.prototype.node = function (t) {
              return this._nodes[t];
            }),
            (rr.prototype.hasNode = function (t) {
              return er.has(this._nodes, t);
            }),
            (rr.prototype.removeNode = function (t) {
              var e = this;
              if (er.has(this._nodes, t)) {
                var n = function (t) {
                  e.removeEdge(e._edgeObjs[t]);
                };
                delete this._nodes[t],
                  this._isCompound &&
                    (this._removeFromParentsChildList(t),
                    delete this._parent[t],
                    er.each(this.children(t), function (t) {
                      e.setParent(t);
                    }),
                    delete this._children[t]),
                  er.each(er.keys(this._in[t]), n),
                  delete this._in[t],
                  delete this._preds[t],
                  er.each(er.keys(this._out[t]), n),
                  delete this._out[t],
                  delete this._sucs[t],
                  --this._nodeCount;
              }
              return this;
            }),
            (rr.prototype.setParent = function (t, e) {
              if (!this._isCompound) throw new Error('Cannot set parent in a non-compound graph');
              if (er.isUndefined(e)) e = '\0';
              else {
                for (var n = (e += ''); !er.isUndefined(n); n = this.parent(n))
                  if (n === t)
                    throw new Error(
                      'Setting ' + e + ' as parent of ' + t + ' would create a cycle',
                    );
                this.setNode(e);
              }
              return (
                this.setNode(t),
                this._removeFromParentsChildList(t),
                (this._parent[t] = e),
                (this._children[e][t] = !0),
                this
              );
            }),
            (rr.prototype._removeFromParentsChildList = function (t) {
              delete this._children[this._parent[t]][t];
            }),
            (rr.prototype.parent = function (t) {
              if (this._isCompound) {
                var e = this._parent[t];
                if ('\0' !== e) return e;
              }
            }),
            (rr.prototype.children = function (t) {
              if ((er.isUndefined(t) && (t = '\0'), this._isCompound)) {
                var e = this._children[t];
                if (e) return er.keys(e);
              } else {
                if ('\0' === t) return this.nodes();
                if (this.hasNode(t)) return [];
              }
            }),
            (rr.prototype.predecessors = function (t) {
              var e = this._preds[t];
              if (e) return er.keys(e);
            }),
            (rr.prototype.successors = function (t) {
              var e = this._sucs[t];
              if (e) return er.keys(e);
            }),
            (rr.prototype.neighbors = function (t) {
              var e = this.predecessors(t);
              if (e) return er.union(e, this.successors(t));
            }),
            (rr.prototype.isLeaf = function (t) {
              return 0 === (this.isDirected() ? this.successors(t) : this.neighbors(t)).length;
            }),
            (rr.prototype.filterNodes = function (t) {
              var e = new this.constructor({
                directed: this._isDirected,
                multigraph: this._isMultigraph,
                compound: this._isCompound,
              });
              e.setGraph(this.graph());
              var n = this;
              er.each(this._nodes, function (n, r) {
                t(r) && e.setNode(r, n);
              }),
                er.each(this._edgeObjs, function (t) {
                  e.hasNode(t.v) && e.hasNode(t.w) && e.setEdge(t, n.edge(t));
                });
              var r = {};
              function i(t) {
                var o = n.parent(t);
                return void 0 === o || e.hasNode(o) ? ((r[t] = o), o) : o in r ? r[o] : i(o);
              }
              return (
                this._isCompound &&
                  er.each(e.nodes(), function (t) {
                    e.setParent(t, i(t));
                  }),
                e
              );
            }),
            (rr.prototype.setDefaultEdgeLabel = function (t) {
              return er.isFunction(t) || (t = er.constant(t)), (this._defaultEdgeLabelFn = t), this;
            }),
            (rr.prototype.edgeCount = function () {
              return this._edgeCount;
            }),
            (rr.prototype.edges = function () {
              return er.values(this._edgeObjs);
            }),
            (rr.prototype.setPath = function (t, e) {
              var n = this,
                r = arguments;
              return (
                er.reduce(t, function (t, i) {
                  return r.length > 1 ? n.setEdge(t, i, e) : n.setEdge(t, i), i;
                }),
                this
              );
            }),
            (rr.prototype.setEdge = function () {
              var t,
                e,
                n,
                r,
                i = !1,
                o = arguments[0];
              'object' == typeof o && null !== o && 'v' in o
                ? ((t = o.v),
                  (e = o.w),
                  (n = o.name),
                  2 === arguments.length && ((r = arguments[1]), (i = !0)))
                : ((t = o),
                  (e = arguments[1]),
                  (n = arguments[3]),
                  arguments.length > 2 && ((r = arguments[2]), (i = !0))),
                (t = '' + t),
                (e = '' + e),
                er.isUndefined(n) || (n = '' + n);
              var a = ar(this._isDirected, t, e, n);
              if (er.has(this._edgeLabels, a)) return i && (this._edgeLabels[a] = r), this;
              if (!er.isUndefined(n) && !this._isMultigraph)
                throw new Error('Cannot set a named edge when isMultigraph = false');
              this.setNode(t),
                this.setNode(e),
                (this._edgeLabels[a] = i ? r : this._defaultEdgeLabelFn(t, e, n));
              var s = sr(this._isDirected, t, e, n);
              return (
                (t = s.v),
                (e = s.w),
                Object.freeze(s),
                (this._edgeObjs[a] = s),
                ir(this._preds[e], t),
                ir(this._sucs[t], e),
                (this._in[e][a] = s),
                (this._out[t][a] = s),
                this._edgeCount++,
                this
              );
            }),
            (rr.prototype.edge = function (t, e, n) {
              var r =
                1 === arguments.length
                  ? ur(this._isDirected, arguments[0])
                  : ar(this._isDirected, t, e, n);
              return this._edgeLabels[r];
            }),
            (rr.prototype.hasEdge = function (t, e, n) {
              var r =
                1 === arguments.length
                  ? ur(this._isDirected, arguments[0])
                  : ar(this._isDirected, t, e, n);
              return er.has(this._edgeLabels, r);
            }),
            (rr.prototype.removeEdge = function (t, e, n) {
              var r =
                  1 === arguments.length
                    ? ur(this._isDirected, arguments[0])
                    : ar(this._isDirected, t, e, n),
                i = this._edgeObjs[r];
              return (
                i &&
                  ((t = i.v),
                  (e = i.w),
                  delete this._edgeLabels[r],
                  delete this._edgeObjs[r],
                  or(this._preds[e], t),
                  or(this._sucs[t], e),
                  delete this._in[e][r],
                  delete this._out[t][r],
                  this._edgeCount--),
                this
              );
            }),
            (rr.prototype.inEdges = function (t, e) {
              var n = this._in[t];
              if (n) {
                var r = er.values(n);
                return e
                  ? er.filter(r, function (t) {
                      return t.v === e;
                    })
                  : r;
              }
            }),
            (rr.prototype.outEdges = function (t, e) {
              var n = this._out[t];
              if (n) {
                var r = er.values(n);
                return e
                  ? er.filter(r, function (t) {
                      return t.w === e;
                    })
                  : r;
              }
            }),
            (rr.prototype.nodeEdges = function (t, e) {
              var n = this.inEdges(t, e);
              if (n) return n.concat(this.outEdges(t, e));
            });
          var cr = { Graph: nr, version: '2.1.8' },
            lr = {
              write: function (t) {
                var e = {
                  options: {
                    directed: t.isDirected(),
                    multigraph: t.isMultigraph(),
                    compound: t.isCompound(),
                  },
                  nodes: hr(t),
                  edges: fr(t),
                };
                return er.isUndefined(t.graph()) || (e.value = er.clone(t.graph())), e;
              },
              read: function (t) {
                var e = new nr(t.options).setGraph(t.value);
                return (
                  er.each(t.nodes, function (t) {
                    e.setNode(t.v, t.value), t.parent && e.setParent(t.v, t.parent);
                  }),
                  er.each(t.edges, function (t) {
                    e.setEdge({ v: t.v, w: t.w, name: t.name }, t.value);
                  }),
                  e
                );
              },
            };
          function hr(t) {
            return er.map(t.nodes(), function (e) {
              var n = t.node(e),
                r = t.parent(e),
                i = { v: e };
              return er.isUndefined(n) || (i.value = n), er.isUndefined(r) || (i.parent = r), i;
            });
          }
          function fr(t) {
            return er.map(t.edges(), function (e) {
              var n = t.edge(e),
                r = { v: e.v, w: e.w };
              return (
                er.isUndefined(e.name) || (r.name = e.name), er.isUndefined(n) || (r.value = n), r
              );
            });
          }
          var dr = pr;
          function pr() {
            (this._arr = []), (this._keyIndices = {});
          }
          (pr.prototype.size = function () {
            return this._arr.length;
          }),
            (pr.prototype.keys = function () {
              return this._arr.map(function (t) {
                return t.key;
              });
            }),
            (pr.prototype.has = function (t) {
              return er.has(this._keyIndices, t);
            }),
            (pr.prototype.priority = function (t) {
              var e = this._keyIndices[t];
              if (void 0 !== e) return this._arr[e].priority;
            }),
            (pr.prototype.min = function () {
              if (0 === this.size()) throw new Error('Queue underflow');
              return this._arr[0].key;
            }),
            (pr.prototype.add = function (t, e) {
              var n = this._keyIndices;
              if (((t = String(t)), !er.has(n, t))) {
                var r = this._arr,
                  i = r.length;
                return (n[t] = i), r.push({ key: t, priority: e }), this._decrease(i), !0;
              }
              return !1;
            }),
            (pr.prototype.removeMin = function () {
              this._swap(0, this._arr.length - 1);
              var t = this._arr.pop();
              return delete this._keyIndices[t.key], this._heapify(0), t.key;
            }),
            (pr.prototype.decrease = function (t, e) {
              var n = this._keyIndices[t];
              if (e > this._arr[n].priority)
                throw new Error(
                  'New priority is greater than current priority. Key: ' +
                    t +
                    ' Old: ' +
                    this._arr[n].priority +
                    ' New: ' +
                    e,
                );
              (this._arr[n].priority = e), this._decrease(n);
            }),
            (pr.prototype._heapify = function (t) {
              var e = this._arr,
                n = 2 * t,
                r = n + 1,
                i = t;
              n < e.length &&
                ((i = e[n].priority < e[i].priority ? n : i),
                r < e.length && (i = e[r].priority < e[i].priority ? r : i),
                i !== t && (this._swap(t, i), this._heapify(i)));
            }),
            (pr.prototype._decrease = function (t) {
              for (
                var e, n = this._arr, r = n[t].priority;
                0 !== t && !(n[(e = t >> 1)].priority < r);

              )
                this._swap(t, e), (t = e);
            }),
            (pr.prototype._swap = function (t, e) {
              var n = this._arr,
                r = this._keyIndices,
                i = n[t],
                o = n[e];
              (n[t] = o), (n[e] = i), (r[o.key] = t), (r[i.key] = e);
            });
          var gr = function (t, e, n, r) {
              return (function (t, e, n, r) {
                var i,
                  o,
                  a = {},
                  s = new dr(),
                  u = function (t) {
                    var e = t.v !== i ? t.v : t.w,
                      r = a[e],
                      u = n(t),
                      c = o.distance + u;
                    if (u < 0)
                      throw new Error(
                        'dijkstra does not allow negative edge weights. Bad edge: ' +
                          t +
                          ' Weight: ' +
                          u,
                      );
                    c < r.distance && ((r.distance = c), (r.predecessor = i), s.decrease(e, c));
                  };
                for (
                  t.nodes().forEach(function (t) {
                    var n = t === e ? 0 : Number.POSITIVE_INFINITY;
                    (a[t] = { distance: n }), s.add(t, n);
                  });
                  s.size() > 0 &&
                  ((i = s.removeMin()), (o = a[i]).distance !== Number.POSITIVE_INFINITY);

                )
                  r(i).forEach(u);
                return a;
              })(
                t,
                String(e),
                n || vr,
                r ||
                  function (e) {
                    return t.outEdges(e);
                  },
              );
            },
            vr = er.constant(1),
            yr = function (t) {
              var e = 0,
                n = [],
                r = {},
                i = [];
              function o(a) {
                var s = (r[a] = { onStack: !0, lowlink: e, index: e++ });
                if (
                  (n.push(a),
                  t.successors(a).forEach(function (t) {
                    er.has(r, t)
                      ? r[t].onStack && (s.lowlink = Math.min(s.lowlink, r[t].index))
                      : (o(t), (s.lowlink = Math.min(s.lowlink, r[t].lowlink)));
                  }),
                  s.lowlink === s.index)
                ) {
                  var u,
                    c = [];
                  do {
                    (u = n.pop()), (r[u].onStack = !1), c.push(u);
                  } while (a !== u);
                  i.push(c);
                }
              }
              return (
                t.nodes().forEach(function (t) {
                  er.has(r, t) || o(t);
                }),
                i
              );
            },
            mr = er.constant(1),
            br = xr;
          function xr(t) {
            var e = {},
              n = {},
              r = [];
            if (
              (er.each(t.sinks(), function i(o) {
                if (er.has(n, o)) throw new _r();
                er.has(e, o) ||
                  ((n[o] = !0), (e[o] = !0), er.each(t.predecessors(o), i), delete n[o], r.push(o));
              }),
              er.size(e) !== t.nodeCount())
            )
              throw new _r();
            return r;
          }
          function _r() {}
          (xr.CycleException = _r), (_r.prototype = new Error());
          var wr = function (t, e, n) {
            er.isArray(e) || (e = [e]);
            var r = (t.isDirected() ? t.successors : t.neighbors).bind(t),
              i = [],
              o = {};
            return (
              er.each(e, function (e) {
                if (!t.hasNode(e)) throw new Error('Graph does not have node: ' + e);
                Er(t, e, 'post' === n, o, r, i);
              }),
              i
            );
          };
          function Er(t, e, n, r, i, o) {
            er.has(r, e) ||
              ((r[e] = !0),
              n || o.push(e),
              er.each(i(e), function (e) {
                Er(t, e, n, r, i, o);
              }),
              n && o.push(e));
          }
          var Sr,
            Mr = {
              Graph: cr.Graph,
              json: lr,
              alg: {
                components: function (t) {
                  var e,
                    n = {},
                    r = [];
                  function i(r) {
                    er.has(n, r) ||
                      ((n[r] = !0),
                      e.push(r),
                      er.each(t.successors(r), i),
                      er.each(t.predecessors(r), i));
                  }
                  return (
                    er.each(t.nodes(), function (t) {
                      (e = []), i(t), e.length && r.push(e);
                    }),
                    r
                  );
                },
                dijkstra: gr,
                dijkstraAll: function (t, e, n) {
                  return er.transform(
                    t.nodes(),
                    function (r, i) {
                      r[i] = gr(t, i, e, n);
                    },
                    {},
                  );
                },
                findCycles: function (t) {
                  return er.filter(yr(t), function (e) {
                    return e.length > 1 || (1 === e.length && t.hasEdge(e[0], e[0]));
                  });
                },
                floydWarshall: function (t, e, n) {
                  return (function (t, e, n) {
                    var r = {},
                      i = t.nodes();
                    return (
                      i.forEach(function (t) {
                        (r[t] = {}),
                          (r[t][t] = { distance: 0 }),
                          i.forEach(function (e) {
                            t !== e && (r[t][e] = { distance: Number.POSITIVE_INFINITY });
                          }),
                          n(t).forEach(function (n) {
                            var i = n.v === t ? n.w : n.v,
                              o = e(n);
                            r[t][i] = { distance: o, predecessor: t };
                          });
                      }),
                      i.forEach(function (t) {
                        var e = r[t];
                        i.forEach(function (n) {
                          var o = r[n];
                          i.forEach(function (n) {
                            var r = o[t],
                              i = e[n],
                              a = o[n],
                              s = r.distance + i.distance;
                            s < a.distance && ((a.distance = s), (a.predecessor = i.predecessor));
                          });
                        });
                      }),
                      r
                    );
                  })(
                    t,
                    e || mr,
                    n ||
                      function (e) {
                        return t.outEdges(e);
                      },
                  );
                },
                isAcyclic: function (t) {
                  try {
                    br(t);
                  } catch (t) {
                    if (t instanceof br.CycleException) return !1;
                    throw t;
                  }
                  return !0;
                },
                postorder: function (t, e) {
                  return wr(t, e, 'post');
                },
                preorder: function (t, e) {
                  return wr(t, e, 'pre');
                },
                prim: function (t, e) {
                  var n,
                    r = new nr(),
                    i = {},
                    o = new dr();
                  function a(t) {
                    var r = t.v === n ? t.w : t.v,
                      a = o.priority(r);
                    if (void 0 !== a) {
                      var s = e(t);
                      s < a && ((i[r] = n), o.decrease(r, s));
                    }
                  }
                  if (0 === t.nodeCount()) return r;
                  er.each(t.nodes(), function (t) {
                    o.add(t, Number.POSITIVE_INFINITY), r.setNode(t);
                  }),
                    o.decrease(t.nodes()[0], 0);
                  for (var s = !1; o.size() > 0; ) {
                    if (((n = o.removeMin()), er.has(i, n))) r.setEdge(n, i[n]);
                    else {
                      if (s) throw new Error('Input graph is not connected: ' + t);
                      s = !0;
                    }
                    t.nodeEdges(n).forEach(a);
                  }
                  return r;
                },
                tarjan: yr,
                topsort: br,
              },
              version: cr.version,
            };
          try {
            Sr = Mr;
          } catch (r) {}
          Sr || (Sr = window.graphlib);
          var kr,
            Ar = Sr,
            Cr = function (t, e, n) {
              if (!N(n)) return !1;
              var r = typeof e;
              return (
                !!('number' == r ? Pt(n) && yt(e, n.length) : 'string' == r && e in n) && p(n[e], t)
              );
            },
            Ir = Object.prototype,
            Tr = Ir.hasOwnProperty,
            Nr = Hn(function (t, e) {
              t = Object(t);
              var n = -1,
                r = e.length,
                i = r > 2 ? e[2] : void 0;
              for (i && Cr(e[0], e[1], i) && (r = 1); ++n < r; )
                for (var o = e[n], a = Lt(o), s = -1, u = a.length; ++s < u; ) {
                  var c = a[s],
                    l = t[c];
                  (void 0 === l || (p(l, Ir[c]) && !Tr.call(t, c))) && (t[c] = o[c]);
                }
              return t;
            }),
            Pr = /^\s+|\s+$/g,
            Or = /^[-+]0x[0-9a-f]+$/i,
            Dr = /^0b[01]+$/i,
            Lr = /^0o[0-7]+$/i,
            Rr = parseInt,
            Br = function (t) {
              return t
                ? 1 / 0 ===
                    (t = (function (t) {
                      if ('number' == typeof t) return t;
                      if (Xe(t)) return NaN;
                      if (N(t)) {
                        var e = 'function' == typeof t.valueOf ? t.valueOf() : t;
                        t = N(e) ? e + '' : e;
                      }
                      if ('string' != typeof t) return 0 === t ? t : +t;
                      t = t.replace(Pr, '');
                      var n = Dr.test(t);
                      return n || Lr.test(t) ? Rr(t.slice(2), n ? 2 : 8) : Or.test(t) ? NaN : +t;
                    })(t)) || -1 / 0 === t
                  ? 17976931348623157e292 * (t < 0 ? -1 : 1)
                  : t == t
                  ? t
                  : 0
                : 0 === t
                ? t
                : 0;
            },
            jr = Math.max,
            Gr = function (t, e, n) {
              var r = Object(t);
              if (!Pt(t)) {
                var i = gn(e);
                (t = Ot(t)),
                  (e = function (t) {
                    return i(r[t], t, r);
                  });
              }
              var o = (function (t, e, n) {
                var r = null == t ? 0 : t.length;
                if (!r) return -1;
                var i =
                  null == n
                    ? 0
                    : (function (t) {
                        var e = Br(t),
                          n = e % 1;
                        return e == e ? (n ? e - n : e) : 0;
                      })(n);
                return i < 0 && (i = jr(r + i, 0)), qn(t, gn(e), i);
              })(t, e, n);
              return o > -1 ? r[i ? t[o] : o] : void 0;
            },
            zr = function (t) {
              return null != t && t.length ? zn(t, 1) : [];
            },
            Fr = function (t, e, n) {
              for (var r = -1, i = t.length; ++r < i; ) {
                var o = t[r],
                  a = e(o);
                if (null != a && (void 0 === s ? a == a && !Xe(a) : n(a, s)))
                  var s = a,
                    u = o;
              }
              return u;
            },
            Ur = function (t, e) {
              return t > e;
            },
            Vr = function (t, e, n) {
              ((void 0 !== n && !p(t[e], n)) || (void 0 === n && !(e in t))) && rt(t, e, n);
            },
            Wr = Function.prototype,
            Yr = Object.prototype,
            Xr = Wr.toString,
            Hr = Yr.hasOwnProperty,
            qr = Xr.call(Object),
            Kr = function (t, e) {
              if (('constructor' !== e || 'function' != typeof t[e]) && '__proto__' != e)
                return t[e];
            },
            Zr = function t(e, n, r, i, o) {
              e !== n &&
                Ee(
                  n,
                  function (a, s) {
                    if ((o || (o = new tt()), N(a)))
                      !(function (t, e, n, r, i, o, a) {
                        var s = Kr(t, n),
                          u = Kr(e, n),
                          c = a.get(u);
                        if (c) Vr(t, n, c);
                        else {
                          var l = o ? o(s, u, n + '', t, e, a) : void 0,
                            h = void 0 === l;
                          if (h) {
                            var f = dt(u),
                              d = !f && gt(u),
                              p = !f && !d && Et(u);
                            (l = u),
                              f || d || p
                                ? dt(s)
                                  ? (l = s)
                                  : Qn(s)
                                  ? (l = Bt(s))
                                  : d
                                  ? ((h = !1), (l = Rt(u, !0)))
                                  : p
                                  ? ((h = !1), (l = fe(u, !0)))
                                  : (l = [])
                                : (function (t) {
                                    if (!st(t) || '[object Object]' != T(t)) return !1;
                                    var e = Wt(t);
                                    if (null === e) return !0;
                                    var n = Hr.call(e, 'constructor') && e.constructor;
                                    return (
                                      'function' == typeof n && n instanceof n && Xr.call(n) == qr
                                    );
                                  })(u) || ft(u)
                                ? ((l = s),
                                  ft(s)
                                    ? (l = (function (t) {
                                        return at(t, Lt(t));
                                      })(s))
                                    : (N(s) && !P(s)) || (l = ge(u)))
                                : (h = !1);
                          }
                          h && (a.set(u, l), i(l, u, r, o, a), a.delete(u)), Vr(t, n, l);
                        }
                      })(e, n, s, r, t, i, o);
                    else {
                      var u = i ? i(Kr(e, s), a, s + '', e, n, o) : void 0;
                      void 0 === u && (u = a), Vr(e, s, u);
                    }
                  },
                  Lt,
                );
            },
            $r = (function (t) {
              return Hn(function (e, n) {
                var r = -1,
                  i = n.length,
                  o = i > 1 ? n[i - 1] : void 0,
                  a = i > 2 ? n[2] : void 0;
                for (
                  o = t.length > 3 && 'function' == typeof o ? (i--, o) : void 0,
                    a && Cr(n[0], n[1], a) && ((o = i < 3 ? void 0 : o), (i = 1)),
                    e = Object(e);
                  ++r < i;

                ) {
                  var s = n[r];
                  s && t(e, s, r);
                }
                return e;
              });
            })(function (t, e, n) {
              Zr(t, e, n);
            }),
            Qr = function (t, e) {
              return t < e;
            },
            Jr = function (t, e, n, r) {
              if (!N(t)) return t;
              for (
                var i = -1, o = (e = un(e, t)).length, a = o - 1, s = t;
                null != s && ++i < o;

              ) {
                var u = cn(e[i]),
                  c = n;
                if ('__proto__' === u || 'constructor' === u || 'prototype' === u) return t;
                if (i != a) {
                  var l = s[u];
                  void 0 === (c = r ? r(l, u, s) : void 0) &&
                    (c = N(l) ? l : yt(e[i + 1]) ? [] : {});
                }
                ot(s, u, c), (s = s[u]);
              }
              return t;
            },
            ti = (function (t) {
              return Xn(Vn(t, void 0, zr), t + '');
            })(function (t, e) {
              return null == t
                ? {}
                : (function (t, e) {
                    return (function (t, e, n) {
                      for (var r = -1, i = e.length, o = {}; ++r < i; ) {
                        var a = e[r],
                          s = ln(t, a);
                        n(0, a) && Jr(o, un(a, t), s);
                      }
                      return o;
                    })(t, e, function (e, n) {
                      return dn(t, n);
                    });
                  })(t, e);
            }),
            ei = Math.ceil,
            ni = Math.max,
            ri = function (t, e) {
              if (t !== e) {
                var n = void 0 !== t,
                  r = null === t,
                  i = t == t,
                  o = Xe(t),
                  a = void 0 !== e,
                  s = null === e,
                  u = e == e,
                  c = Xe(e);
                if (
                  (!s && !c && !o && t > e) ||
                  (o && a && u && !s && !c) ||
                  (r && a && u) ||
                  (!n && u) ||
                  !i
                )
                  return 1;
                if (
                  (!r && !o && !c && t < e) ||
                  (c && n && i && !r && !o) ||
                  (s && n && i) ||
                  (!a && i) ||
                  !u
                )
                  return -1;
              }
              return 0;
            },
            ii = Hn(function (t, e) {
              if (null == t) return [];
              var n = e.length;
              return (
                n > 1 && Cr(t, e[0], e[1])
                  ? (e = [])
                  : n > 2 && Cr(e[0], e[1], e[2]) && (e = [e[0]]),
                (function (t, e, n) {
                  e = e.length
                    ? nn(e, function (t) {
                        return dt(t)
                          ? function (e) {
                              return ln(e, 1 === t.length ? t[0] : t);
                            }
                          : t;
                      })
                    : [ke];
                  var r = -1;
                  e = nn(e, xt(gn));
                  var i = wn(t, function (t, n, i) {
                    return {
                      criteria: nn(e, function (e) {
                        return e(t);
                      }),
                      index: ++r,
                      value: t,
                    };
                  });
                  return (function (t, e) {
                    var n = t.length;
                    for (t.sort(e); n--; ) t[n] = t[n].value;
                    return t;
                  })(i, function (t, e) {
                    return (function (t, e, n) {
                      for (
                        var r = -1, i = t.criteria, o = e.criteria, a = i.length, s = n.length;
                        ++r < a;

                      ) {
                        var u = ri(i[r], o[r]);
                        if (u) return r >= s ? u : u * ('desc' == n[r] ? -1 : 1);
                      }
                      return t.index - e.index;
                    })(t, e, n);
                  });
                })(t, zn(e, 1), [])
              );
            }),
            oi = 0;
          try {
            kr = {
              cloneDeep: function (t) {
                return _e(t, 5);
              },
              constant: we,
              defaults: Nr,
              each: Ie,
              filter: vn,
              find: Gr,
              flatten: zr,
              forEach: Ce,
              forIn: function (t, e) {
                return null == t ? t : Ee(t, Ae(e), Lt);
              },
              has: bn,
              isUndefined: _n,
              last: function (t) {
                var e = null == t ? 0 : t.length;
                return e ? t[e - 1] : void 0;
              },
              map: En,
              mapValues: function (t, e) {
                var n = {};
                return (
                  (e = gn(e)),
                  Se(t, function (t, r, i) {
                    rt(n, r, e(t, r, i));
                  }),
                  n
                );
              },
              max: function (t) {
                return t && t.length ? Fr(t, ke, Ur) : void 0;
              },
              merge: $r,
              min: function (t) {
                return t && t.length ? Fr(t, ke, Qr) : void 0;
              },
              minBy: function (t, e) {
                return t && t.length ? Fr(t, gn(e), Qr) : void 0;
              },
              now: function () {
                return w.Date.now();
              },
              pick: ti,
              range: function (t, e, n) {
                return (
                  n && 'number' != typeof n && Cr(t, e, n) && (e = n = void 0),
                  (t = Br(t)),
                  void 0 === e ? ((e = t), (t = 0)) : (e = Br(e)),
                  (function (t, e, n, r) {
                    for (var i = -1, o = ni(ei((e - t) / (n || 1)), 0), a = Array(o); o--; )
                      (a[++i] = t), (t += n);
                    return a;
                  })(t, e, (n = void 0 === n ? (t < e ? 1 : -1) : Br(n)))
                );
              },
              reduce: kn,
              sortBy: ii,
              uniqueId: function (t) {
                var e = ++oi;
                return sn(t) + e;
              },
              values: tr,
              zipObject: function (t, e) {
                return (function (t, e, n) {
                  for (var r = -1, i = t.length, o = e.length, a = {}; ++r < i; ) {
                    var s = r < o ? e[r] : void 0;
                    n(a, t[r], s);
                  }
                  return a;
                })(t || [], e || [], ot);
              },
            };
          } catch (r) {}
          kr || (kr = window._);
          var ai = kr,
            si = ui;
          function ui() {
            var t = {};
            (t._next = t._prev = t), (this._sentinel = t);
          }
          function ci(t) {
            (t._prev._next = t._next), (t._next._prev = t._prev), delete t._next, delete t._prev;
          }
          function li(t, e) {
            if ('_next' !== t && '_prev' !== t) return e;
          }
          (ui.prototype.dequeue = function () {
            var t = this._sentinel,
              e = t._prev;
            if (e !== t) return ci(e), e;
          }),
            (ui.prototype.enqueue = function (t) {
              var e = this._sentinel;
              t._prev && t._next && ci(t),
                (t._next = e._next),
                (e._next._prev = t),
                (e._next = t),
                (t._prev = e);
            }),
            (ui.prototype.toString = function () {
              for (var t = [], e = this._sentinel, n = e._prev; n !== e; )
                t.push(JSON.stringify(n, li)), (n = n._prev);
              return '[' + t.join(', ') + ']';
            });
          var hi = Ar.Graph,
            fi = ai.constant(1);
          function di(t, e, n, r, i) {
            var o = i ? [] : void 0;
            return (
              ai.forEach(t.inEdges(r.v), function (r) {
                var a = t.edge(r),
                  s = t.node(r.v);
                i && o.push({ v: r.v, w: r.w }), (s.out -= a), pi(e, n, s);
              }),
              ai.forEach(t.outEdges(r.v), function (r) {
                var i = t.edge(r),
                  o = r.w,
                  a = t.node(o);
                (a.in -= i), pi(e, n, a);
              }),
              t.removeNode(r.v),
              o
            );
          }
          function pi(t, e, n) {
            n.out
              ? n.in
                ? t[n.out - n.in + e].enqueue(n)
                : t[t.length - 1].enqueue(n)
              : t[0].enqueue(n);
          }
          var gi = Ar.Graph,
            vi = {
              addDummyNode: yi,
              simplify: function (t) {
                var e = new gi().setGraph(t.graph());
                return (
                  ai.forEach(t.nodes(), function (n) {
                    e.setNode(n, t.node(n));
                  }),
                  ai.forEach(t.edges(), function (n) {
                    var r = e.edge(n.v, n.w) || { weight: 0, minlen: 1 },
                      i = t.edge(n);
                    e.setEdge(n.v, n.w, {
                      weight: r.weight + i.weight,
                      minlen: Math.max(r.minlen, i.minlen),
                    });
                  }),
                  e
                );
              },
              asNonCompoundGraph: function (t) {
                var e = new gi({ multigraph: t.isMultigraph() }).setGraph(t.graph());
                return (
                  ai.forEach(t.nodes(), function (n) {
                    t.children(n).length || e.setNode(n, t.node(n));
                  }),
                  ai.forEach(t.edges(), function (n) {
                    e.setEdge(n, t.edge(n));
                  }),
                  e
                );
              },
              successorWeights: function (t) {
                var e = ai.map(t.nodes(), function (e) {
                  var n = {};
                  return (
                    ai.forEach(t.outEdges(e), function (e) {
                      n[e.w] = (n[e.w] || 0) + t.edge(e).weight;
                    }),
                    n
                  );
                });
                return ai.zipObject(t.nodes(), e);
              },
              predecessorWeights: function (t) {
                var e = ai.map(t.nodes(), function (e) {
                  var n = {};
                  return (
                    ai.forEach(t.inEdges(e), function (e) {
                      n[e.v] = (n[e.v] || 0) + t.edge(e).weight;
                    }),
                    n
                  );
                });
                return ai.zipObject(t.nodes(), e);
              },
              intersectRect: function (t, e) {
                var n,
                  r,
                  i = t.x,
                  o = t.y,
                  a = e.x - i,
                  s = e.y - o,
                  u = t.width / 2,
                  c = t.height / 2;
                if (!a && !s)
                  throw new Error('Not possible to find intersection inside of the rectangle');
                return (
                  Math.abs(s) * u > Math.abs(a) * c
                    ? (s < 0 && (c = -c), (n = (c * a) / s), (r = c))
                    : (a < 0 && (u = -u), (n = u), (r = (u * s) / a)),
                  { x: i + n, y: o + r }
                );
              },
              buildLayerMatrix: function (t) {
                var e = ai.map(ai.range(mi(t) + 1), function () {
                  return [];
                });
                return (
                  ai.forEach(t.nodes(), function (n) {
                    var r = t.node(n),
                      i = r.rank;
                    ai.isUndefined(i) || (e[i][r.order] = n);
                  }),
                  e
                );
              },
              normalizeRanks: function (t) {
                var e = ai.min(
                  ai.map(t.nodes(), function (e) {
                    return t.node(e).rank;
                  }),
                );
                ai.forEach(t.nodes(), function (n) {
                  var r = t.node(n);
                  ai.has(r, 'rank') && (r.rank -= e);
                });
              },
              removeEmptyRanks: function (t) {
                var e = ai.min(
                    ai.map(t.nodes(), function (e) {
                      return t.node(e).rank;
                    }),
                  ),
                  n = [];
                ai.forEach(t.nodes(), function (r) {
                  var i = t.node(r).rank - e;
                  n[i] || (n[i] = []), n[i].push(r);
                });
                var r = 0,
                  i = t.graph().nodeRankFactor;
                ai.forEach(n, function (e, n) {
                  ai.isUndefined(e) && n % i != 0
                    ? --r
                    : r &&
                      ai.forEach(e, function (e) {
                        t.node(e).rank += r;
                      });
                });
              },
              addBorderNode: function (t, e, n, r) {
                var i = { width: 0, height: 0 };
                return (
                  arguments.length >= 4 && ((i.rank = n), (i.order = r)), yi(t, 'border', i, e)
                );
              },
              maxRank: mi,
              partition: function (t, e) {
                var n = { lhs: [], rhs: [] };
                return (
                  ai.forEach(t, function (t) {
                    e(t) ? n.lhs.push(t) : n.rhs.push(t);
                  }),
                  n
                );
              },
              time: function (t, e) {
                var n = ai.now();
                try {
                  return e();
                } finally {
                  console.log(t + ' time: ' + (ai.now() - n) + 'ms');
                }
              },
              notime: function (t, e) {
                return e();
              },
            };
          function yi(t, e, n, r) {
            var i;
            do {
              i = ai.uniqueId(r);
            } while (t.hasNode(i));
            return (n.dummy = e), t.setNode(i, n), i;
          }
          function mi(t) {
            return ai.max(
              ai.map(t.nodes(), function (e) {
                var n = t.node(e).rank;
                if (!ai.isUndefined(n)) return n;
              }),
            );
          }
          var bi = function (t) {
              var e = {};
              ai.forEach(t.sources(), function n(r) {
                var i = t.node(r);
                if (ai.has(e, r)) return i.rank;
                e[r] = !0;
                var o = ai.min(
                  ai.map(t.outEdges(r), function (e) {
                    return n(e.w) - t.edge(e).minlen;
                  }),
                );
                return (o !== Number.POSITIVE_INFINITY && null != o) || (o = 0), (i.rank = o);
              });
            },
            xi = function (t, e) {
              return t.node(e.w).rank - t.node(e.v).rank - t.edge(e).minlen;
            },
            _i = Ar.Graph,
            wi = xi,
            Ei = function (t) {
              var e,
                n,
                r = new _i({ directed: !1 }),
                i = t.nodes()[0],
                o = t.nodeCount();
              for (r.setNode(i, {}); Si(r, t) < o; )
                (e = Mi(r, t)), (n = r.hasNode(e.v) ? wi(t, e) : -wi(t, e)), ki(r, t, n);
              return r;
            };
          function Si(t, e) {
            return (
              ai.forEach(t.nodes(), function n(r) {
                ai.forEach(e.nodeEdges(r), function (i) {
                  var o = i.v,
                    a = r === o ? i.w : o;
                  t.hasNode(a) || wi(e, i) || (t.setNode(a, {}), t.setEdge(r, a, {}), n(a));
                });
              }),
              t.nodeCount()
            );
          }
          function Mi(t, e) {
            return ai.minBy(e.edges(), function (n) {
              if (t.hasNode(n.v) !== t.hasNode(n.w)) return wi(e, n);
            });
          }
          function ki(t, e, n) {
            ai.forEach(t.nodes(), function (t) {
              e.node(t).rank += n;
            });
          }
          var Ai = xi,
            Ci = bi,
            Ii = Ar.alg.preorder,
            Ti = Ar.alg.postorder,
            Ni = vi.simplify,
            Pi = Oi;
          function Oi(t) {
            (t = Ni(t)), Ci(t);
            var e,
              n = Ei(t);
            for (Ri(n), Di(n, t); (e = ji(n)); ) zi(n, t, e, Gi(n, t, e));
          }
          function Di(t, e) {
            var n = Ti(t, t.nodes());
            (n = n.slice(0, n.length - 1)),
              ai.forEach(n, function (n) {
                !(function (t, e, n) {
                  var r = t.node(n).parent;
                  t.edge(n, r).cutvalue = Li(t, e, n);
                })(t, e, n);
              });
          }
          function Li(t, e, n) {
            var r = t.node(n).parent,
              i = !0,
              o = e.edge(n, r),
              a = 0;
            return (
              o || ((i = !1), (o = e.edge(r, n))),
              (a = o.weight),
              ai.forEach(e.nodeEdges(n), function (o) {
                var s,
                  u,
                  c = o.v === n,
                  l = c ? o.w : o.v;
                if (l !== r) {
                  var h = c === i,
                    f = e.edge(o).weight;
                  if (((a += h ? f : -f), (s = n), (u = l), t.hasEdge(s, u))) {
                    var d = t.edge(n, l).cutvalue;
                    a += h ? -d : d;
                  }
                }
              }),
              a
            );
          }
          function Ri(t, e) {
            arguments.length < 2 && (e = t.nodes()[0]), Bi(t, {}, 1, e);
          }
          function Bi(t, e, n, r, i) {
            var o = n,
              a = t.node(r);
            return (
              (e[r] = !0),
              ai.forEach(t.neighbors(r), function (i) {
                ai.has(e, i) || (n = Bi(t, e, n, i, r));
              }),
              (a.low = o),
              (a.lim = n++),
              i ? (a.parent = i) : delete a.parent,
              n
            );
          }
          function ji(t) {
            return ai.find(t.edges(), function (e) {
              return t.edge(e).cutvalue < 0;
            });
          }
          function Gi(t, e, n) {
            var r = n.v,
              i = n.w;
            e.hasEdge(r, i) || ((r = n.w), (i = n.v));
            var o = t.node(r),
              a = t.node(i),
              s = o,
              u = !1;
            o.lim > a.lim && ((s = a), (u = !0));
            var c = ai.filter(e.edges(), function (e) {
              return u === Fi(0, t.node(e.v), s) && u !== Fi(0, t.node(e.w), s);
            });
            return ai.minBy(c, function (t) {
              return Ai(e, t);
            });
          }
          function zi(t, e, n, r) {
            var i = n.v,
              o = n.w;
            t.removeEdge(i, o),
              t.setEdge(r.v, r.w, {}),
              Ri(t),
              Di(t, e),
              (function (t, e) {
                var n = ai.find(t.nodes(), function (t) {
                    return !e.node(t).parent;
                  }),
                  r = Ii(t, n);
                (r = r.slice(1)),
                  ai.forEach(r, function (n) {
                    var r = t.node(n).parent,
                      i = e.edge(n, r),
                      o = !1;
                    i || ((i = e.edge(r, n)), (o = !0)),
                      (e.node(n).rank = e.node(r).rank + (o ? i.minlen : -i.minlen));
                  });
              })(t, e);
          }
          function Fi(t, e, n) {
            return n.low <= e.lim && e.lim <= n.lim;
          }
          (Oi.initLowLimValues = Ri),
            (Oi.initCutValues = Di),
            (Oi.calcCutValue = Li),
            (Oi.leaveEdge = ji),
            (Oi.enterEdge = Gi),
            (Oi.exchangeEdges = zi);
          var Ui = bi,
            Vi = Ui;
          var Wi = function (t) {
            var e = vi.addDummyNode(t, 'root', {}, '_root'),
              n = (function (t) {
                var e = {};
                function n(r, i) {
                  var o = t.children(r);
                  o &&
                    o.length &&
                    ai.forEach(o, function (t) {
                      n(t, i + 1);
                    }),
                    (e[r] = i);
                }
                return (
                  ai.forEach(t.children(), function (t) {
                    n(t, 1);
                  }),
                  e
                );
              })(t),
              r = ai.max(ai.values(n)) - 1,
              i = 2 * r + 1;
            (t.graph().nestingRoot = e),
              ai.forEach(t.edges(), function (e) {
                t.edge(e).minlen *= i;
              });
            var o =
              (function (t) {
                return ai.reduce(
                  t.edges(),
                  function (e, n) {
                    return e + t.edge(n).weight;
                  },
                  0,
                );
              })(t) + 1;
            ai.forEach(t.children(), function (a) {
              Yi(t, e, i, o, r, n, a);
            }),
              (t.graph().nodeRankFactor = i);
          };
          function Yi(t, e, n, r, i, o, a) {
            var s = t.children(a);
            if (s.length) {
              var u = vi.addBorderNode(t, '_bt'),
                c = vi.addBorderNode(t, '_bb'),
                l = t.node(a);
              t.setParent(u, a),
                (l.borderTop = u),
                t.setParent(c, a),
                (l.borderBottom = c),
                ai.forEach(s, function (s) {
                  Yi(t, e, n, r, i, o, s);
                  var l = t.node(s),
                    h = l.borderTop ? l.borderTop : s,
                    f = l.borderBottom ? l.borderBottom : s,
                    d = l.borderTop ? r : 2 * r,
                    p = h !== f ? 1 : i - o[a] + 1;
                  t.setEdge(u, h, { weight: d, minlen: p, nestingEdge: !0 }),
                    t.setEdge(f, c, { weight: d, minlen: p, nestingEdge: !0 });
                }),
                t.parent(a) || t.setEdge(e, u, { weight: 0, minlen: i + o[a] });
            } else a !== e && t.setEdge(e, a, { weight: 0, minlen: n });
          }
          function Xi(t, e, n, r, i, o) {
            var a = { width: 0, height: 0, rank: o, borderType: e },
              s = i[e][o - 1],
              u = vi.addDummyNode(t, 'border', a, n);
            (i[e][o] = u), t.setParent(u, r), s && t.setEdge(s, u, { weight: 1 });
          }
          function Hi(t) {
            ai.forEach(t.nodes(), function (e) {
              qi(t.node(e));
            }),
              ai.forEach(t.edges(), function (e) {
                qi(t.edge(e));
              });
          }
          function qi(t) {
            var e = t.width;
            (t.width = t.height), (t.height = e);
          }
          function Ki(t) {
            t.y = -t.y;
          }
          function Zi(t) {
            var e = t.x;
            (t.x = t.y), (t.y = e);
          }
          var $i = function (t, e) {
            for (var n = 0, r = 1; r < e.length; ++r) n += Qi(t, e[r - 1], e[r]);
            return n;
          };
          function Qi(t, e, n) {
            for (
              var r = ai.zipObject(
                  n,
                  ai.map(n, function (t, e) {
                    return e;
                  }),
                ),
                i = ai.flatten(
                  ai.map(e, function (e) {
                    return ai.sortBy(
                      ai.map(t.outEdges(e), function (e) {
                        return { pos: r[e.w], weight: t.edge(e).weight };
                      }),
                      'pos',
                    );
                  }),
                  !0,
                ),
                o = 1;
              o < n.length;

            )
              o <<= 1;
            var a = 2 * o - 1;
            o -= 1;
            var s = ai.map(new Array(a), function () {
                return 0;
              }),
              u = 0;
            return (
              ai.forEach(
                i.forEach(function (t) {
                  var e = t.pos + o;
                  s[e] += t.weight;
                  for (var n = 0; e > 0; )
                    e % 2 && (n += s[e + 1]), (s[(e = (e - 1) >> 1)] += t.weight);
                  u += t.weight * n;
                }),
              ),
              u
            );
          }
          function Ji(t, e, n) {
            for (var r; e.length && (r = ai.last(e)).i <= n; ) e.pop(), t.push(r.vs), n++;
            return n;
          }
          var to = function t(e, n, r, i) {
              var o = e.children(n),
                a = e.node(n),
                s = a ? a.borderLeft : void 0,
                u = a ? a.borderRight : void 0,
                c = {};
              s &&
                (o = ai.filter(o, function (t) {
                  return t !== s && t !== u;
                }));
              var l = (function (t, e) {
                return ai.map(e, function (e) {
                  var n = t.inEdges(e);
                  if (n.length) {
                    var r = ai.reduce(
                      n,
                      function (e, n) {
                        var r = t.edge(n),
                          i = t.node(n.v);
                        return { sum: e.sum + r.weight * i.order, weight: e.weight + r.weight };
                      },
                      { sum: 0, weight: 0 },
                    );
                    return { v: e, barycenter: r.sum / r.weight, weight: r.weight };
                  }
                  return { v: e };
                });
              })(e, o);
              ai.forEach(l, function (n) {
                if (e.children(n.v).length) {
                  var o = t(e, n.v, r, i);
                  (c[n.v] = o),
                    ai.has(o, 'barycenter') &&
                      ((a = n),
                      (s = o),
                      ai.isUndefined(a.barycenter)
                        ? ((a.barycenter = s.barycenter), (a.weight = s.weight))
                        : ((a.barycenter =
                            (a.barycenter * a.weight + s.barycenter * s.weight) /
                            (a.weight + s.weight)),
                          (a.weight += s.weight)));
                }
                var a, s;
              });
              var h = (function (t, e) {
                var n = {};
                return (
                  ai.forEach(t, function (t, e) {
                    var r = (n[t.v] = { indegree: 0, in: [], out: [], vs: [t.v], i: e });
                    ai.isUndefined(t.barycenter) ||
                      ((r.barycenter = t.barycenter), (r.weight = t.weight));
                  }),
                  ai.forEach(e.edges(), function (t) {
                    var e = n[t.v],
                      r = n[t.w];
                    ai.isUndefined(e) || ai.isUndefined(r) || (r.indegree++, e.out.push(n[t.w]));
                  }),
                  (function (t) {
                    var e = [];
                    function n(t) {
                      return function (e) {
                        e.merged ||
                          ((ai.isUndefined(e.barycenter) ||
                            ai.isUndefined(t.barycenter) ||
                            e.barycenter >= t.barycenter) &&
                            (function (t, e) {
                              var n = 0,
                                r = 0;
                              t.weight && ((n += t.barycenter * t.weight), (r += t.weight)),
                                e.weight && ((n += e.barycenter * e.weight), (r += e.weight)),
                                (t.vs = e.vs.concat(t.vs)),
                                (t.barycenter = n / r),
                                (t.weight = r),
                                (t.i = Math.min(e.i, t.i)),
                                (e.merged = !0);
                            })(t, e));
                      };
                    }
                    function r(e) {
                      return function (n) {
                        n.in.push(e), 0 == --n.indegree && t.push(n);
                      };
                    }
                    for (; t.length; ) {
                      var i = t.pop();
                      e.push(i), ai.forEach(i.in.reverse(), n(i)), ai.forEach(i.out, r(i));
                    }
                    return ai.map(
                      ai.filter(e, function (t) {
                        return !t.merged;
                      }),
                      function (t) {
                        return ai.pick(t, ['vs', 'i', 'barycenter', 'weight']);
                      },
                    );
                  })(
                    ai.filter(n, function (t) {
                      return !t.indegree;
                    }),
                  )
                );
              })(l, r);
              !(function (t, e) {
                ai.forEach(t, function (t) {
                  t.vs = ai.flatten(
                    t.vs.map(function (t) {
                      return e[t] ? e[t].vs : t;
                    }),
                    !0,
                  );
                });
              })(h, c);
              var f = (function (t, e) {
                var n,
                  r = vi.partition(t, function (t) {
                    return ai.has(t, 'barycenter');
                  }),
                  i = r.lhs,
                  o = ai.sortBy(r.rhs, function (t) {
                    return -t.i;
                  }),
                  a = [],
                  s = 0,
                  u = 0,
                  c = 0;
                i.sort(
                  ((n = !!e),
                  function (t, e) {
                    return t.barycenter < e.barycenter
                      ? -1
                      : t.barycenter > e.barycenter
                      ? 1
                      : n
                      ? e.i - t.i
                      : t.i - e.i;
                  }),
                ),
                  (c = Ji(a, o, c)),
                  ai.forEach(i, function (t) {
                    (c += t.vs.length),
                      a.push(t.vs),
                      (s += t.barycenter * t.weight),
                      (u += t.weight),
                      (c = Ji(a, o, c));
                  });
                var l = { vs: ai.flatten(a, !0) };
                return u && ((l.barycenter = s / u), (l.weight = u)), l;
              })(h, i);
              if (s && ((f.vs = ai.flatten([s, f.vs, u], !0)), e.predecessors(s).length)) {
                var d = e.node(e.predecessors(s)[0]),
                  p = e.node(e.predecessors(u)[0]);
                ai.has(f, 'barycenter') || ((f.barycenter = 0), (f.weight = 0)),
                  (f.barycenter = (f.barycenter * f.weight + d.order + p.order) / (f.weight + 2)),
                  (f.weight += 2);
              }
              return f;
            },
            eo = Ar.Graph,
            no = Ar.Graph;
          function ro(t, e, n) {
            return ai.map(e, function (e) {
              return (function (t, e, n) {
                var r = (function (t) {
                    for (var e; t.hasNode((e = ai.uniqueId('_root'))); );
                    return e;
                  })(t),
                  i = new eo({ compound: !0 })
                    .setGraph({ root: r })
                    .setDefaultNodeLabel(function (e) {
                      return t.node(e);
                    });
                return (
                  ai.forEach(t.nodes(), function (o) {
                    var a = t.node(o),
                      s = t.parent(o);
                    (a.rank === e || (a.minRank <= e && e <= a.maxRank)) &&
                      (i.setNode(o),
                      i.setParent(o, s || r),
                      ai.forEach(t[n](o), function (e) {
                        var n = e.v === o ? e.w : e.v,
                          r = i.edge(n, o),
                          a = ai.isUndefined(r) ? 0 : r.weight;
                        i.setEdge(n, o, { weight: t.edge(e).weight + a });
                      }),
                      ai.has(a, 'minRank') &&
                        i.setNode(o, {
                          borderLeft: a.borderLeft[e],
                          borderRight: a.borderRight[e],
                        }));
                  }),
                  i
                );
              })(t, e, n);
            });
          }
          function io(t, e) {
            var n = new no();
            ai.forEach(t, function (t) {
              var r = t.graph().root,
                i = to(t, r, n, e);
              ai.forEach(i.vs, function (e, n) {
                t.node(e).order = n;
              }),
                (function (t, e, n) {
                  var r,
                    i = {};
                  ai.forEach(n, function (n) {
                    for (var o, a, s = t.parent(n); s; ) {
                      if (
                        ((o = t.parent(s)) ? ((a = i[o]), (i[o] = s)) : ((a = r), (r = s)),
                        a && a !== s)
                      )
                        return void e.setEdge(a, s);
                      s = o;
                    }
                  });
                })(t, n, i.vs);
            });
          }
          function oo(t, e) {
            ai.forEach(e, function (e) {
              ai.forEach(e, function (e, n) {
                t.node(e).order = n;
              });
            });
          }
          var ao = Ar.Graph;
          function so(t, e, n) {
            if (e > n) {
              var r = e;
              (e = n), (n = r);
            }
            var i = t[e];
            i || (t[e] = i = {}), (i[n] = !0);
          }
          function uo(t, e, n) {
            if (e > n) {
              var r = e;
              (e = n), (n = r);
            }
            return ai.has(t[e], n);
          }
          var co = vi.normalizeRanks,
            lo = vi.removeEmptyRanks,
            ho = vi,
            fo = Ar.Graph,
            po = ['nodesep', 'edgesep', 'ranksep', 'marginx', 'marginy'],
            go = { ranksep: 50, edgesep: 20, nodesep: 50, rankdir: 'tb' },
            vo = ['acyclicer', 'ranker', 'rankdir', 'align'],
            yo = ['width', 'height'],
            mo = { width: 0, height: 0 },
            bo = ['minlen', 'weight', 'width', 'height', 'labeloffset'],
            xo = { minlen: 1, weight: 1, width: 0, height: 0, labeloffset: 10, labelpos: 'r' },
            _o = ['labelpos'];
          function wo(t, e) {
            return ai.mapValues(ai.pick(t, e), Number);
          }
          function Eo(t) {
            var e = {};
            return (
              ai.forEach(t, function (t, n) {
                e[n.toLowerCase()] = t;
              }),
              e
            );
          }
          var So = Ar.Graph,
            Mo = {
              graphlib: Ar,
              layout: function (t, e) {
                var n = e && e.debugTiming ? ho.time : ho.notime;
                n('layout', function () {
                  var e = n('  buildLayoutGraph', function () {
                    return (function (t) {
                      var e = new fo({ multigraph: !0, compound: !0 }),
                        n = Eo(t.graph());
                      return (
                        e.setGraph(ai.merge({}, go, wo(n, po), ai.pick(n, vo))),
                        ai.forEach(t.nodes(), function (n) {
                          var r = Eo(t.node(n));
                          e.setNode(n, ai.defaults(wo(r, yo), mo)), e.setParent(n, t.parent(n));
                        }),
                        ai.forEach(t.edges(), function (n) {
                          var r = Eo(t.edge(n));
                          e.setEdge(n, ai.merge({}, xo, wo(r, bo), ai.pick(r, _o)));
                        }),
                        e
                      );
                    })(t);
                  });
                  n('  runLayout', function () {
                    !(function (t, e) {
                      e('    makeSpaceForEdgeLabels', function () {
                        !(function (t) {
                          var e = t.graph();
                          (e.ranksep /= 2),
                            ai.forEach(t.edges(), function (n) {
                              var r = t.edge(n);
                              (r.minlen *= 2),
                                'c' !== r.labelpos.toLowerCase() &&
                                  ('TB' === e.rankdir || 'BT' === e.rankdir
                                    ? (r.width += r.labeloffset)
                                    : (r.height += r.labeloffset));
                            });
                        })(t);
                      }),
                        e('    removeSelfEdges', function () {
                          !(function (t) {
                            ai.forEach(t.edges(), function (e) {
                              if (e.v === e.w) {
                                var n = t.node(e.v);
                                n.selfEdges || (n.selfEdges = []),
                                  n.selfEdges.push({ e, label: t.edge(e) }),
                                  t.removeEdge(e);
                              }
                            });
                          })(t);
                        }),
                        e('    acyclic', function () {
                          !(function (t) {
                            var e =
                              'greedy' === t.graph().acyclicer
                                ? (function (t, e) {
                                    if (t.nodeCount() <= 1) return [];
                                    var n = (function (t, e) {
                                        var n = new hi(),
                                          r = 0,
                                          i = 0;
                                        ai.forEach(t.nodes(), function (t) {
                                          n.setNode(t, { v: t, in: 0, out: 0 });
                                        }),
                                          ai.forEach(t.edges(), function (t) {
                                            var o = n.edge(t.v, t.w) || 0,
                                              a = e(t),
                                              s = o + a;
                                            n.setEdge(t.v, t.w, s),
                                              (i = Math.max(i, (n.node(t.v).out += a))),
                                              (r = Math.max(r, (n.node(t.w).in += a)));
                                          });
                                        var o = ai.range(i + r + 3).map(function () {
                                            return new si();
                                          }),
                                          a = r + 1;
                                        return (
                                          ai.forEach(n.nodes(), function (t) {
                                            pi(o, a, n.node(t));
                                          }),
                                          { graph: n, buckets: o, zeroIdx: a }
                                        );
                                      })(t, e || fi),
                                      r = (function (t, e, n) {
                                        for (
                                          var r, i = [], o = e[e.length - 1], a = e[0];
                                          t.nodeCount();

                                        ) {
                                          for (; (r = a.dequeue()); ) di(t, e, n, r);
                                          for (; (r = o.dequeue()); ) di(t, e, n, r);
                                          if (t.nodeCount())
                                            for (var s = e.length - 2; s > 0; --s)
                                              if ((r = e[s].dequeue())) {
                                                i = i.concat(di(t, e, n, r, !0));
                                                break;
                                              }
                                        }
                                        return i;
                                      })(n.graph, n.buckets, n.zeroIdx);
                                    return ai.flatten(
                                      ai.map(r, function (e) {
                                        return t.outEdges(e.v, e.w);
                                      }),
                                      !0,
                                    );
                                  })(
                                    t,
                                    (function (t) {
                                      return function (e) {
                                        return t.edge(e).weight;
                                      };
                                    })(t),
                                  )
                                : (function (t) {
                                    var e = [],
                                      n = {},
                                      r = {};
                                    return (
                                      ai.forEach(t.nodes(), function i(o) {
                                        ai.has(r, o) ||
                                          ((r[o] = !0),
                                          (n[o] = !0),
                                          ai.forEach(t.outEdges(o), function (t) {
                                            ai.has(n, t.w) ? e.push(t) : i(t.w);
                                          }),
                                          delete n[o]);
                                      }),
                                      e
                                    );
                                  })(t);
                            ai.forEach(e, function (e) {
                              var n = t.edge(e);
                              t.removeEdge(e),
                                (n.forwardName = e.name),
                                (n.reversed = !0),
                                t.setEdge(e.w, e.v, n, ai.uniqueId('rev'));
                            });
                          })(t);
                        }),
                        e('    nestingGraph.run', function () {
                          Wi(t);
                        }),
                        e('    rank', function () {
                          !(function (t) {
                            switch (t.graph().ranker) {
                              case 'network-simplex':
                              default:
                                !(function (t) {
                                  Pi(t);
                                })(t);
                                break;
                              case 'tight-tree':
                                !(function (t) {
                                  Ui(t), Ei(t);
                                })(t);
                                break;
                              case 'longest-path':
                                Vi(t);
                            }
                          })(ho.asNonCompoundGraph(t));
                        }),
                        e('    injectEdgeLabelProxies', function () {
                          !(function (t) {
                            ai.forEach(t.edges(), function (e) {
                              var n = t.edge(e);
                              if (n.width && n.height) {
                                var r = t.node(e.v),
                                  i = { rank: (t.node(e.w).rank - r.rank) / 2 + r.rank, e };
                                ho.addDummyNode(t, 'edge-proxy', i, '_ep');
                              }
                            });
                          })(t);
                        }),
                        e('    removeEmptyRanks', function () {
                          lo(t);
                        }),
                        e('    nestingGraph.cleanup', function () {
                          !(function (t) {
                            var e = t.graph();
                            t.removeNode(e.nestingRoot),
                              delete e.nestingRoot,
                              ai.forEach(t.edges(), function (e) {
                                t.edge(e).nestingEdge && t.removeEdge(e);
                              });
                          })(t);
                        }),
                        e('    normalizeRanks', function () {
                          co(t);
                        }),
                        e('    assignRankMinMax', function () {
                          !(function (t) {
                            var e = 0;
                            ai.forEach(t.nodes(), function (n) {
                              var r = t.node(n);
                              r.borderTop &&
                                ((r.minRank = t.node(r.borderTop).rank),
                                (r.maxRank = t.node(r.borderBottom).rank),
                                (e = ai.max(e, r.maxRank)));
                            }),
                              (t.graph().maxRank = e);
                          })(t);
                        }),
                        e('    removeEdgeLabelProxies', function () {
                          !(function (t) {
                            ai.forEach(t.nodes(), function (e) {
                              var n = t.node(e);
                              'edge-proxy' === n.dummy &&
                                ((t.edge(n.e).labelRank = n.rank), t.removeNode(e));
                            });
                          })(t);
                        }),
                        e('    normalize.run', function () {
                          !(function (t) {
                            (t.graph().dummyChains = []),
                              ai.forEach(t.edges(), function (e) {
                                !(function (t, e) {
                                  var n,
                                    r,
                                    i,
                                    o = e.v,
                                    a = t.node(o).rank,
                                    s = e.w,
                                    u = t.node(s).rank,
                                    c = e.name,
                                    l = t.edge(e),
                                    h = l.labelRank;
                                  if (u !== a + 1) {
                                    for (t.removeEdge(e), i = 0, ++a; a < u; ++i, ++a)
                                      (l.points = []),
                                        (r = {
                                          width: 0,
                                          height: 0,
                                          edgeLabel: l,
                                          edgeObj: e,
                                          rank: a,
                                        }),
                                        (n = vi.addDummyNode(t, 'edge', r, '_d')),
                                        a === h &&
                                          ((r.width = l.width),
                                          (r.height = l.height),
                                          (r.dummy = 'edge-label'),
                                          (r.labelpos = l.labelpos)),
                                        t.setEdge(o, n, { weight: l.weight }, c),
                                        0 === i && t.graph().dummyChains.push(n),
                                        (o = n);
                                    t.setEdge(o, s, { weight: l.weight }, c);
                                  }
                                })(t, e);
                              });
                          })(t);
                        }),
                        e('    parentDummyChains', function () {
                          !(function (t) {
                            var e = (function (t) {
                              var e = {},
                                n = 0;
                              return (
                                ai.forEach(t.children(), function r(i) {
                                  var o = n;
                                  ai.forEach(t.children(i), r), (e[i] = { low: o, lim: n++ });
                                }),
                                e
                              );
                            })(t);
                            ai.forEach(t.graph().dummyChains, function (n) {
                              for (
                                var r = t.node(n),
                                  i = r.edgeObj,
                                  o = (function (t, e, n, r) {
                                    var i,
                                      o,
                                      a = [],
                                      s = [],
                                      u = Math.min(e[n].low, e[r].low),
                                      c = Math.max(e[n].lim, e[r].lim);
                                    i = n;
                                    do {
                                      (i = t.parent(i)), a.push(i);
                                    } while (i && (e[i].low > u || c > e[i].lim));
                                    for (o = i, i = r; (i = t.parent(i)) !== o; ) s.push(i);
                                    return { path: a.concat(s.reverse()), lca: o };
                                  })(t, e, i.v, i.w),
                                  a = o.path,
                                  s = o.lca,
                                  u = 0,
                                  c = a[u],
                                  l = !0;
                                n !== i.w;

                              ) {
                                if (((r = t.node(n)), l)) {
                                  for (; (c = a[u]) !== s && t.node(c).maxRank < r.rank; ) u++;
                                  c === s && (l = !1);
                                }
                                if (!l) {
                                  for (
                                    ;
                                    u < a.length - 1 && t.node((c = a[u + 1])).minRank <= r.rank;

                                  )
                                    u++;
                                  c = a[u];
                                }
                                t.setParent(n, c), (n = t.successors(n)[0]);
                              }
                            });
                          })(t);
                        }),
                        e('    addBorderSegments', function () {
                          !(function (t) {
                            ai.forEach(t.children(), function e(n) {
                              var r = t.children(n),
                                i = t.node(n);
                              if ((r.length && ai.forEach(r, e), ai.has(i, 'minRank'))) {
                                (i.borderLeft = []), (i.borderRight = []);
                                for (var o = i.minRank, a = i.maxRank + 1; o < a; ++o)
                                  Xi(t, 'borderLeft', '_bl', n, i, o),
                                    Xi(t, 'borderRight', '_br', n, i, o);
                              }
                            });
                          })(t);
                        }),
                        e('    order', function () {
                          !(function (t) {
                            var e = vi.maxRank(t),
                              n = ro(t, ai.range(1, e + 1), 'inEdges'),
                              r = ro(t, ai.range(e - 1, -1, -1), 'outEdges'),
                              i = (function (t) {
                                var e = {},
                                  n = ai.filter(t.nodes(), function (e) {
                                    return !t.children(e).length;
                                  }),
                                  r = ai.max(
                                    ai.map(n, function (e) {
                                      return t.node(e).rank;
                                    }),
                                  ),
                                  i = ai.map(ai.range(r + 1), function () {
                                    return [];
                                  }),
                                  o = ai.sortBy(n, function (e) {
                                    return t.node(e).rank;
                                  });
                                return (
                                  ai.forEach(o, function n(r) {
                                    if (!ai.has(e, r)) {
                                      e[r] = !0;
                                      var o = t.node(r);
                                      i[o.rank].push(r), ai.forEach(t.successors(r), n);
                                    }
                                  }),
                                  i
                                );
                              })(t);
                            oo(t, i);
                            for (
                              var o, a = Number.POSITIVE_INFINITY, s = 0, u = 0;
                              u < 4;
                              ++s, ++u
                            ) {
                              io(s % 2 ? n : r, s % 4 >= 2), (i = vi.buildLayerMatrix(t));
                              var c = $i(t, i);
                              c < a && ((u = 0), (o = ai.cloneDeep(i)), (a = c));
                            }
                            oo(t, o);
                          })(t);
                        }),
                        e('    insertSelfEdges', function () {
                          !(function (t) {
                            var e = ho.buildLayerMatrix(t);
                            ai.forEach(e, function (e) {
                              var n = 0;
                              ai.forEach(e, function (e, r) {
                                var i = t.node(e);
                                (i.order = r + n),
                                  ai.forEach(i.selfEdges, function (e) {
                                    ho.addDummyNode(
                                      t,
                                      'selfedge',
                                      {
                                        width: e.label.width,
                                        height: e.label.height,
                                        rank: i.rank,
                                        order: r + ++n,
                                        e: e.e,
                                        label: e.label,
                                      },
                                      '_se',
                                    );
                                  }),
                                  delete i.selfEdges;
                              });
                            });
                          })(t);
                        }),
                        e('    adjustCoordinateSystem', function () {
                          !(function (t) {
                            var e = t.graph().rankdir.toLowerCase();
                            ('lr' !== e && 'rl' !== e) || Hi(t);
                          })(t);
                        }),
                        e('    position', function () {
                          !(function (t) {
                            (function (t) {
                              var e = vi.buildLayerMatrix(t),
                                n = t.graph().ranksep,
                                r = 0;
                              ai.forEach(e, function (e) {
                                var i = ai.max(
                                  ai.map(e, function (e) {
                                    return t.node(e).height;
                                  }),
                                );
                                ai.forEach(e, function (e) {
                                  t.node(e).y = r + i / 2;
                                }),
                                  (r += i + n);
                              });
                            })((t = vi.asNonCompoundGraph(t))),
                              ai.forEach(
                                (function (t) {
                                  var e,
                                    n = vi.buildLayerMatrix(t),
                                    r = ai.merge(
                                      (function (t, e) {
                                        var n = {};
                                        return (
                                          ai.reduce(e, function (e, r) {
                                            var i = 0,
                                              o = 0,
                                              a = e.length,
                                              s = ai.last(r);
                                            return (
                                              ai.forEach(r, function (e, u) {
                                                var c = (function (t, e) {
                                                    if (t.node(e).dummy)
                                                      return ai.find(
                                                        t.predecessors(e),
                                                        function (e) {
                                                          return t.node(e).dummy;
                                                        },
                                                      );
                                                  })(t, e),
                                                  l = c ? t.node(c).order : a;
                                                (c || e === s) &&
                                                  (ai.forEach(r.slice(o, u + 1), function (e) {
                                                    ai.forEach(t.predecessors(e), function (r) {
                                                      var o = t.node(r),
                                                        a = o.order;
                                                      !(a < i || l < a) ||
                                                        (o.dummy && t.node(e).dummy) ||
                                                        so(n, r, e);
                                                    });
                                                  }),
                                                  (o = u + 1),
                                                  (i = l));
                                              }),
                                              r
                                            );
                                          }),
                                          n
                                        );
                                      })(t, n),
                                      (function (t, e) {
                                        var n = {};
                                        function r(e, r, i, o, a) {
                                          var s;
                                          ai.forEach(ai.range(r, i), function (r) {
                                            (s = e[r]),
                                              t.node(s).dummy &&
                                                ai.forEach(t.predecessors(s), function (e) {
                                                  var r = t.node(e);
                                                  r.dummy &&
                                                    (r.order < o || r.order > a) &&
                                                    so(n, e, s);
                                                });
                                          });
                                        }
                                        return (
                                          ai.reduce(e, function (e, n) {
                                            var i,
                                              o = -1,
                                              a = 0;
                                            return (
                                              ai.forEach(n, function (s, u) {
                                                if ('border' === t.node(s).dummy) {
                                                  var c = t.predecessors(s);
                                                  c.length &&
                                                    ((i = t.node(c[0]).order),
                                                    r(n, a, u, o, i),
                                                    (a = u),
                                                    (o = i));
                                                }
                                                r(n, a, n.length, i, e.length);
                                              }),
                                              n
                                            );
                                          }),
                                          n
                                        );
                                      })(t, n),
                                    ),
                                    i = {};
                                  ai.forEach(['u', 'd'], function (o) {
                                    (e = 'u' === o ? n : ai.values(n).reverse()),
                                      ai.forEach(['l', 'r'], function (n) {
                                        'r' === n &&
                                          (e = ai.map(e, function (t) {
                                            return ai.values(t).reverse();
                                          }));
                                        var a = ('u' === o ? t.predecessors : t.successors).bind(t),
                                          s = (function (t, e, n, r) {
                                            var i = {},
                                              o = {},
                                              a = {};
                                            return (
                                              ai.forEach(e, function (t) {
                                                ai.forEach(t, function (t, e) {
                                                  (i[t] = t), (o[t] = t), (a[t] = e);
                                                });
                                              }),
                                              ai.forEach(e, function (t) {
                                                var e = -1;
                                                ai.forEach(t, function (t) {
                                                  var s = r(t);
                                                  if (s.length)
                                                    for (
                                                      var u =
                                                          ((s = ai.sortBy(s, function (t) {
                                                            return a[t];
                                                          })).length -
                                                            1) /
                                                          2,
                                                        c = Math.floor(u),
                                                        l = Math.ceil(u);
                                                      c <= l;
                                                      ++c
                                                    ) {
                                                      var h = s[c];
                                                      o[t] === t &&
                                                        e < a[h] &&
                                                        !uo(n, t, h) &&
                                                        ((o[h] = t),
                                                        (o[t] = i[t] = i[h]),
                                                        (e = a[h]));
                                                    }
                                                });
                                              }),
                                              { root: i, align: o }
                                            );
                                          })(0, e, r, a),
                                          u = (function (t, e, n, r, i) {
                                            var o = {},
                                              a = (function (t, e, n, r) {
                                                var i = new ao(),
                                                  o = t.graph(),
                                                  a = (function (t, e, n) {
                                                    return function (r, i, o) {
                                                      var a,
                                                        s = r.node(i),
                                                        u = r.node(o),
                                                        c = 0;
                                                      if (
                                                        ((c += s.width / 2), ai.has(s, 'labelpos'))
                                                      )
                                                        switch (s.labelpos.toLowerCase()) {
                                                          case 'l':
                                                            a = -s.width / 2;
                                                            break;
                                                          case 'r':
                                                            a = s.width / 2;
                                                        }
                                                      if (
                                                        (a && (c += n ? a : -a),
                                                        (a = 0),
                                                        (c += (s.dummy ? e : t) / 2),
                                                        (c += (u.dummy ? e : t) / 2),
                                                        (c += u.width / 2),
                                                        ai.has(u, 'labelpos'))
                                                      )
                                                        switch (u.labelpos.toLowerCase()) {
                                                          case 'l':
                                                            a = u.width / 2;
                                                            break;
                                                          case 'r':
                                                            a = -u.width / 2;
                                                        }
                                                      return a && (c += n ? a : -a), (a = 0), c;
                                                    };
                                                  })(o.nodesep, o.edgesep, r);
                                                return (
                                                  ai.forEach(e, function (e) {
                                                    var r;
                                                    ai.forEach(e, function (e) {
                                                      var o = n[e];
                                                      if ((i.setNode(o), r)) {
                                                        var s = n[r],
                                                          u = i.edge(s, o);
                                                        i.setEdge(
                                                          s,
                                                          o,
                                                          Math.max(a(t, e, r), u || 0),
                                                        );
                                                      }
                                                      r = e;
                                                    });
                                                  }),
                                                  i
                                                );
                                              })(t, e, n, i),
                                              s = i ? 'borderLeft' : 'borderRight';
                                            function u(t, e) {
                                              for (var n = a.nodes(), r = n.pop(), i = {}; r; )
                                                i[r]
                                                  ? t(r)
                                                  : ((i[r] = !0), n.push(r), (n = n.concat(e(r)))),
                                                  (r = n.pop());
                                            }
                                            return (
                                              u(function (t) {
                                                o[t] = a.inEdges(t).reduce(function (t, e) {
                                                  return Math.max(t, o[e.v] + a.edge(e));
                                                }, 0);
                                              }, a.predecessors.bind(a)),
                                              u(function (e) {
                                                var n = a.outEdges(e).reduce(function (t, e) {
                                                    return Math.min(t, o[e.w] - a.edge(e));
                                                  }, Number.POSITIVE_INFINITY),
                                                  r = t.node(e);
                                                n !== Number.POSITIVE_INFINITY &&
                                                  r.borderType !== s &&
                                                  (o[e] = Math.max(o[e], n));
                                              }, a.successors.bind(a)),
                                              ai.forEach(r, function (t) {
                                                o[t] = o[n[t]];
                                              }),
                                              o
                                            );
                                          })(t, e, s.root, s.align, 'r' === n);
                                        'r' === n &&
                                          (u = ai.mapValues(u, function (t) {
                                            return -t;
                                          })),
                                          (i[o + n] = u);
                                      });
                                  });
                                  var o = (function (t, e) {
                                    return ai.minBy(ai.values(e), function (e) {
                                      var n = Number.NEGATIVE_INFINITY,
                                        r = Number.POSITIVE_INFINITY;
                                      return (
                                        ai.forIn(e, function (e, i) {
                                          var o =
                                            (function (t, e) {
                                              return t.node(e).width;
                                            })(t, i) / 2;
                                          (n = Math.max(e + o, n)), (r = Math.min(e - o, r));
                                        }),
                                        n - r
                                      );
                                    });
                                  })(t, i);
                                  return (
                                    (function (t, e) {
                                      var n = ai.values(e),
                                        r = ai.min(n),
                                        i = ai.max(n);
                                      ai.forEach(['u', 'd'], function (n) {
                                        ai.forEach(['l', 'r'], function (o) {
                                          var a,
                                            s = n + o,
                                            u = t[s];
                                          if (u !== e) {
                                            var c = ai.values(u);
                                            (a = 'l' === o ? r - ai.min(c) : i - ai.max(c)) &&
                                              (t[s] = ai.mapValues(u, function (t) {
                                                return t + a;
                                              }));
                                          }
                                        });
                                      });
                                    })(i, o),
                                    (function (t, e) {
                                      return ai.mapValues(t.ul, function (n, r) {
                                        if (e) return t[e.toLowerCase()][r];
                                        var i = ai.sortBy(ai.map(t, r));
                                        return (i[1] + i[2]) / 2;
                                      });
                                    })(i, t.graph().align)
                                  );
                                })(t),
                                function (e, n) {
                                  t.node(n).x = e;
                                },
                              );
                          })(t);
                        }),
                        e('    positionSelfEdges', function () {
                          !(function (t) {
                            ai.forEach(t.nodes(), function (e) {
                              var n = t.node(e);
                              if ('selfedge' === n.dummy) {
                                var r = t.node(n.e.v),
                                  i = r.x + r.width / 2,
                                  o = r.y,
                                  a = n.x - i,
                                  s = r.height / 2;
                                t.setEdge(n.e, n.label),
                                  t.removeNode(e),
                                  (n.label.points = [
                                    { x: i + (2 * a) / 3, y: o - s },
                                    { x: i + (5 * a) / 6, y: o - s },
                                    { x: i + a, y: o },
                                    { x: i + (5 * a) / 6, y: o + s },
                                    { x: i + (2 * a) / 3, y: o + s },
                                  ]),
                                  (n.label.x = n.x),
                                  (n.label.y = n.y);
                              }
                            });
                          })(t);
                        }),
                        e('    removeBorderNodes', function () {
                          !(function (t) {
                            ai.forEach(t.nodes(), function (e) {
                              if (t.children(e).length) {
                                var n = t.node(e),
                                  r = t.node(n.borderTop),
                                  i = t.node(n.borderBottom),
                                  o = t.node(ai.last(n.borderLeft)),
                                  a = t.node(ai.last(n.borderRight));
                                (n.width = Math.abs(a.x - o.x)),
                                  (n.height = Math.abs(i.y - r.y)),
                                  (n.x = o.x + n.width / 2),
                                  (n.y = r.y + n.height / 2);
                              }
                            }),
                              ai.forEach(t.nodes(), function (e) {
                                'border' === t.node(e).dummy && t.removeNode(e);
                              });
                          })(t);
                        }),
                        e('    normalize.undo', function () {
                          !(function (t) {
                            ai.forEach(t.graph().dummyChains, function (e) {
                              var n,
                                r = t.node(e),
                                i = r.edgeLabel;
                              for (t.setEdge(r.edgeObj, i); r.dummy; )
                                (n = t.successors(e)[0]),
                                  t.removeNode(e),
                                  i.points.push({ x: r.x, y: r.y }),
                                  'edge-label' === r.dummy &&
                                    ((i.x = r.x),
                                    (i.y = r.y),
                                    (i.width = r.width),
                                    (i.height = r.height)),
                                  (e = n),
                                  (r = t.node(e));
                            });
                          })(t);
                        }),
                        e('    fixupEdgeLabelCoords', function () {
                          !(function (t) {
                            ai.forEach(t.edges(), function (e) {
                              var n = t.edge(e);
                              if (ai.has(n, 'x'))
                                switch (
                                  (('l' !== n.labelpos && 'r' !== n.labelpos) ||
                                    (n.width -= n.labeloffset),
                                  n.labelpos)
                                ) {
                                  case 'l':
                                    n.x -= n.width / 2 + n.labeloffset;
                                    break;
                                  case 'r':
                                    n.x += n.width / 2 + n.labeloffset;
                                }
                            });
                          })(t);
                        }),
                        e('    undoCoordinateSystem', function () {
                          !(function (t) {
                            var e = t.graph().rankdir.toLowerCase();
                            ('bt' !== e && 'rl' !== e) ||
                              (function (t) {
                                ai.forEach(t.nodes(), function (e) {
                                  Ki(t.node(e));
                                }),
                                  ai.forEach(t.edges(), function (e) {
                                    var n = t.edge(e);
                                    ai.forEach(n.points, Ki), ai.has(n, 'y') && Ki(n);
                                  });
                              })(t),
                              ('lr' !== e && 'rl' !== e) ||
                                ((function (t) {
                                  ai.forEach(t.nodes(), function (e) {
                                    Zi(t.node(e));
                                  }),
                                    ai.forEach(t.edges(), function (e) {
                                      var n = t.edge(e);
                                      ai.forEach(n.points, Zi), ai.has(n, 'x') && Zi(n);
                                    });
                                })(t),
                                Hi(t));
                          })(t);
                        }),
                        e('    translateGraph', function () {
                          !(function (t) {
                            var e = Number.POSITIVE_INFINITY,
                              n = 0,
                              r = Number.POSITIVE_INFINITY,
                              i = 0,
                              o = t.graph(),
                              a = o.marginx || 0,
                              s = o.marginy || 0;
                            function u(t) {
                              var o = t.x,
                                a = t.y,
                                s = t.width,
                                u = t.height;
                              (e = Math.min(e, o - s / 2)),
                                (n = Math.max(n, o + s / 2)),
                                (r = Math.min(r, a - u / 2)),
                                (i = Math.max(i, a + u / 2));
                            }
                            ai.forEach(t.nodes(), function (e) {
                              u(t.node(e));
                            }),
                              ai.forEach(t.edges(), function (e) {
                                var n = t.edge(e);
                                ai.has(n, 'x') && u(n);
                              }),
                              (e -= a),
                              (r -= s),
                              ai.forEach(t.nodes(), function (n) {
                                var i = t.node(n);
                                (i.x -= e), (i.y -= r);
                              }),
                              ai.forEach(t.edges(), function (n) {
                                var i = t.edge(n);
                                ai.forEach(i.points, function (t) {
                                  (t.x -= e), (t.y -= r);
                                }),
                                  ai.has(i, 'x') && (i.x -= e),
                                  ai.has(i, 'y') && (i.y -= r);
                              }),
                              (o.width = n - e + a),
                              (o.height = i - r + s);
                          })(t);
                        }),
                        e('    assignNodeIntersects', function () {
                          !(function (t) {
                            ai.forEach(t.edges(), function (e) {
                              var n,
                                r,
                                i = t.edge(e),
                                o = t.node(e.v),
                                a = t.node(e.w);
                              i.points
                                ? ((n = i.points[0]), (r = i.points[i.points.length - 1]))
                                : ((i.points = []), (n = a), (r = o)),
                                i.points.unshift(ho.intersectRect(o, n)),
                                i.points.push(ho.intersectRect(a, r));
                            });
                          })(t);
                        }),
                        e('    reversePoints', function () {
                          !(function (t) {
                            ai.forEach(t.edges(), function (e) {
                              var n = t.edge(e);
                              n.reversed && n.points.reverse();
                            });
                          })(t);
                        }),
                        e('    acyclic.undo', function () {
                          !(function (t) {
                            ai.forEach(t.edges(), function (e) {
                              var n = t.edge(e);
                              if (n.reversed) {
                                t.removeEdge(e);
                                var r = n.forwardName;
                                delete n.reversed, delete n.forwardName, t.setEdge(e.w, e.v, n, r);
                              }
                            });
                          })(t);
                        });
                    })(e, n);
                  }),
                    n('  updateInputGraph', function () {
                      !(function (t, e) {
                        ai.forEach(t.nodes(), function (n) {
                          var r = t.node(n),
                            i = e.node(n);
                          r &&
                            ((r.x = i.x),
                            (r.y = i.y),
                            e.children(n).length && ((r.width = i.width), (r.height = i.height)));
                        }),
                          ai.forEach(t.edges(), function (n) {
                            var r = t.edge(n),
                              i = e.edge(n);
                            (r.points = i.points), ai.has(i, 'x') && ((r.x = i.x), (r.y = i.y));
                          }),
                          (t.graph().width = e.graph().width),
                          (t.graph().height = e.graph().height);
                      })(t, e);
                    });
                });
              },
              debug: {
                debugOrdering: function (t) {
                  var e = vi.buildLayerMatrix(t),
                    n = new So({ compound: !0, multigraph: !0 }).setGraph({});
                  return (
                    ai.forEach(t.nodes(), function (e) {
                      n.setNode(e, { label: e }), n.setParent(e, 'layer' + t.node(e).rank);
                    }),
                    ai.forEach(t.edges(), function (t) {
                      n.setEdge(t.v, t.w, {}, t.name);
                    }),
                    ai.forEach(e, function (t, e) {
                      var r = 'layer' + e;
                      n.setNode(r, { rank: 'same' }),
                        ai.reduce(t, function (t, e) {
                          return n.setEdge(t, e, { style: 'invis' }), e;
                        });
                    }),
                    n
                  );
                },
              },
              util: { time: vi.time, notime: vi.notime },
              version: '0.8.5',
            },
            ko = Mo.graphlib,
            Ao = Mo.layout;
          class Co {
            constructor(t) {
              (this.cardinality = 1),
                (this.include = c.UNSPECIFIED),
                (this.isGroupNode = !1),
                (this.parentNode = null),
                (this.type = u.NODE),
                (this.name = t.name),
                (this.attr = t.attr || {}),
                (this.inputs = t.inputs),
                (this.path = t.path || []),
                (this.width = t.width),
                (this.height = t.height);
            }
          }
          class Io {
            constructor() {
              (this.nodes = {}), (this.edges = []), (this.nodes = {}), (this.edges = []);
            }
          }
          class To {
            constructor(t, e = {}) {
              (this.attr = null),
                (this.bridgeGraph = null),
                (this.cardinality = 0),
                (this.depth = 1),
                (this.include = c.UNSPECIFIED),
                (this.isGroupNode = !0),
                (this.parentNode = null),
                (this.type = u.META),
                (this.path = []),
                (this.name = t),
                (this.metaGraph = Do(t, l.META, e));
            }
            getFirstChild() {
              return this.metaGraph.node(this.metaGraph.nodes()[0]);
            }
            getChildren() {
              return this.metaGraph.nodes().map((t) => this.metaGraph.node(t));
            }
            leaves() {
              let t,
                e = [],
                n = [this];
              for (; n.length; ) {
                let r = n.shift();
                r.isGroupNode
                  ? ((t = r.metaGraph), t.nodes().forEach((e) => n.push(t.node(e))))
                  : e.push(r.name);
              }
              return e;
            }
          }
          class No {
            constructor(t, e) {
              (this.v = t),
                (this.w = e),
                (this.baseEdgeList = []),
                (this.inbound = null),
                (this.name = null);
            }
            addBaseEdge(t, e) {
              this.baseEdgeList.push(t);
            }
          }
          function Po(t, e = {}) {
            return new To(t, e);
          }
          function Oo(t, e) {
            return new No(t, e);
          }
          function Do(t, e, n) {
            const r = n || {},
              i = new ko.Graph(r);
            return i.setGraph({ name: t, rankdir: r.rankdir, type: e, align: r.align }), i;
          }
          class Lo {
            constructor(t = {}) {
              (this.graphOptions = t),
                (this.index = {}),
                (this.graphOptions.compound = !0),
                (this.root = Po(a, this.graphOptions)),
                (this.index[a] = this.root);
            }
            getNodeMap() {
              return this.index;
            }
            node(t) {
              return this.index[t];
            }
            setNode(t, e) {
              this.index[t] = e;
            }
            getBridgeGraph(t) {
              const e = this.index[t];
              if (!e) throw Error('Could not find node in hierarchy: ' + t);
              if (!('metaGraph' in e)) return null;
              const n = e;
              if (n.bridgeGraph) return n.bridgeGraph;
              const r = Do(s, l.BRIDGE, this.graphOptions);
              if (((n.bridgeGraph = r), !e.parentNode || !('metaGraph' in e.parentNode))) return r;
              const i = e.parentNode;
              return (
                [i.metaGraph, this.getBridgeGraph(i.name)].forEach((e) => {
                  e.edges()
                    .filter((e) => e.v === t || e.w === t)
                    .forEach((n) => {
                      const i = n.w === t;
                      e.edge(n).baseEdgeList.forEach((e) => {
                        const [o, a] = i ? [e.w, n.v] : [e.v, n.w],
                          s = this.getChildName(t, o),
                          u = { v: i ? a : s, w: i ? s : a };
                        let c = r.edge(u);
                        c || ((c = Oo(u.v, u.w)), (c.inbound = i), r.setEdge(u.v, u.w, c)),
                          c.addBaseEdge(e, this);
                      });
                    });
                }),
                r
              );
            }
            getChildName(t, e) {
              let n = this.index[e];
              for (; n; ) {
                if (n.parentNode && n.parentNode.name === t) return n.name;
                n = n.parentNode;
              }
              throw Error('Could not find immediate child for descendant: ' + e);
            }
            getPredecessors(t) {
              const e = this.index[t];
              if (!e) throw Error('Could not find node with name: ' + t);
              return this.getOneWayEdges(e, !0);
            }
            getSuccessors(t) {
              const e = this.index[t];
              if (!e) throw Error('Could not find node with name: ' + t);
              return this.getOneWayEdges(e, !1);
            }
            getOneWayEdges(t, e) {
              const n = [];
              if (!t.parentNode || !t.parentNode.isGroupNode) return n;
              const r = t.parentNode,
                i = r.metaGraph,
                o = this.getBridgeGraph(r.name);
              return Ro(i, t, e, n), Ro(o, t, e, n), n;
            }
          }
          function Ro(t, e, n, r) {
            (n ? t.inEdges(e.name) : t.outEdges(e.name)).forEach((e) => {
              const n = t.edge(e);
              r.push(n);
            });
          }
          class Bo {
            constructor(t) {
              (this.hierarchy = t),
                (this.index = {}),
                (this.hasSubHierarchy = {}),
                (this.root = new zo(this.hierarchy.root, this.hierarchy.graphOptions)),
                (this.index[t.root.name] = this.root),
                this.buildSubHierarchy(t.root.name),
                (this.root.expanded = !0);
            }
            getRenderInfoNodes() {
              return Object.values(this.index);
            }
            getSubHierarchy() {
              return this.hasSubHierarchy;
            }
            buildSubHierarchy(t) {
              if (t in this.hasSubHierarchy) return;
              this.hasSubHierarchy[t] = !0;
              const e = this.index[t];
              if (e.node.type !== u.META) return;
              const n = e,
                r = n.node.metaGraph,
                i = n.coreGraph;
              r.nodes().forEach((t) => {
                const e = this.getOrCreateRenderNodeByName(t);
                i.setNode(t, e);
              }),
                r.edges().forEach((t) => {
                  const e = r.edge(t),
                    n = new Go(e);
                  i.setEdge(t.v, t.w, n);
                });
              const o = n.node.parentNode;
              if (!o) return;
              const a = this.getRenderNodeByName(o.name),
                s = (t, ...e) => e.concat([t ? 'IN' : 'OUT']).join('~~'),
                l = this.hierarchy.getBridgeGraph(t);
              l.edges().forEach((e) => {
                const n = l.edge(e),
                  h = !!r.node(e.w),
                  [f, d] = h ? [e.w, e.v] : [e.v, e.w],
                  p = (e) => {
                    const n = h ? { v: e, w: t } : { v: t, w: e };
                    return a.coreGraph.edge(n);
                  };
                let g = p(d);
                g || (g = p(s(h, d, o.name)));
                const v = s(h, t),
                  y = s(h, d, t);
                let m = i.node(y);
                if (!m) {
                  let t = i.node(v);
                  if (!t) {
                    const e = {
                      name: v,
                      type: u.BRIDGE,
                      isGroupNode: !1,
                      cardinality: 0,
                      parentNode: null,
                      include: c.UNSPECIFIED,
                      inbound: h,
                      attr: {},
                    };
                    (t = new jo(e)), (this.index[v] = t), i.setNode(v, t);
                  }
                  const e = {
                    name: y,
                    type: u.BRIDGE,
                    isGroupNode: !1,
                    cardinality: 1,
                    parentNode: null,
                    include: c.UNSPECIFIED,
                    inbound: h,
                    attr: {},
                  };
                  (m = new jo(e)),
                    (this.index[y] = m),
                    i.setNode(y, m),
                    i.setParent(y, v),
                    t.node.cardinality++;
                }
                const b = new Go(n);
                (b.adjoiningMetaEdge = g), h ? i.setEdge(y, f, b) : i.setEdge(f, y, b);
              });
            }
            getOrCreateRenderNodeByName(t) {
              if (!t) return null;
              if (t in this.index) return this.index[t];
              const e = this.getNodeByName(t);
              return e
                ? ((this.index[t] = e.isGroupNode
                    ? new zo(e, this.hierarchy.graphOptions)
                    : new jo(e)),
                  this.index[t])
                : null;
            }
            getRenderNodeByName(t) {
              return this.index[t];
            }
            getNodeByName(t) {
              return this.hierarchy.node(t);
            }
          }
          class jo {
            constructor(t) {
              (this.node = t),
                (this.expanded = !1),
                (this.x = 0),
                (this.y = 0),
                (this.coreBox = { width: 0, height: 0 }),
                (this.outboxWidth = 0),
                (this.labelOffset = 0),
                (this.radius = 0),
                (this.labelHeight = 0),
                (this.paddingTop = 0),
                (this.paddingLeft = 0),
                (this.paddingRight = 0),
                (this.paddingBottom = 0),
                (this.width = t.width || 0),
                (this.height = t.height || 0),
                (this.displayName = t.name),
                (this.attr = t.attr);
            }
          }
          class Go {
            constructor(t) {
              (this.metaEdge = t),
                (this.adjoiningMetaEdge = null),
                (this.weight = 1),
                (this.points = []);
            }
          }
          class zo extends jo {
            constructor(t, e) {
              super(t);
              const n = t.metaGraph.graph();
              (e.compound = !0), (this.coreGraph = Do(n.name, l.CORE, e));
            }
          }
          function Fo(t, e) {
            t.node.isGroupNode &&
              (function (t, e) {
                const n = i(e);
                t.coreGraph
                  .nodes()
                  .map((e) => t.coreGraph.node(e))
                  .forEach((t) => {
                    var r, i, o, a, s, c;
                    const { height: l, width: h } = t;
                    switch (t.node.type) {
                      case u.NODE:
                        Object.assign(t, n.nodeSize.node),
                          (t.height = l || n.nodeSize.node.height),
                          (t.width = h || n.nodeSize.node.width);
                        break;
                      case u.BRIDGE:
                        Object.assign(t, n.nodeSize.bridge);
                        break;
                      case u.META:
                        t.expanded
                          ? Fo(t, e)
                          : (Object.assign(t, n.nodeSize.meta),
                            (t.height = n.nodeSize.meta.height),
                            (t.width = n.nodeSize.meta.width));
                        break;
                      default:
                        throw Error('Unrecognized node type: ' + t.node.type);
                    }
                    if (!t.expanded) {
                      const n = t.attr;
                      !(function (t, e = !1) {
                        if (((t.coreBox.width = t.width), (t.coreBox.height = t.height), !e)) {
                          const e = `${t.displayName}`.length,
                            n = 3;
                          t.width = Math.max(t.coreBox.width, e * n);
                        }
                      })(
                        t,
                        e &&
                          ((0 === t.node.type &&
                            !!(null ===
                              (i =
                                null === (r = null == e ? void 0 : e.nodeSize) || void 0 === r
                                  ? void 0
                                  : r.meta) || void 0 === i
                              ? void 0
                              : i.width)) ||
                            (1 === t.node.type &&
                              (!!(null ===
                                (a =
                                  null === (o = null == e ? void 0 : e.nodeSize) || void 0 === o
                                    ? void 0
                                    : o.node) || void 0 === a
                                ? void 0
                                : a.width) ||
                                !!n.width)) ||
                            (2 === t.node.type &&
                              !!(null ===
                                (c =
                                  null === (s = null == e ? void 0 : e.nodeSize) || void 0 === s
                                    ? void 0
                                    : s.bridge) || void 0 === c
                                ? void 0
                                : c.width))),
                      );
                    }
                  });
              })(t, e),
              t.node.type === u.META &&
                (function (t, e) {
                  const n = i(e),
                    r = n.subScene.meta;
                  Object.assign(t, r);
                  const { nodeSep: o, rankSep: a, edgeSep: s, align: c } = n.graph.meta,
                    l = { nodesep: o, ranksep: a, edgesep: s, align: c };
                  Object.assign(
                    t.coreBox,
                    (function (t, e) {
                      const { ranksep: n, nodesep: r, edgesep: i, align: o } = e;
                      Object.assign(t.graph(), { ranksep: n, nodesep: r, edgesep: i, align: o });
                      const a = [];
                      if (
                        (t.nodes().forEach((e) => {
                          t.node(e).node.type !== u.BRIDGE && a.push(e);
                        }),
                        !a.length)
                      )
                        return { width: 0, height: 0 };
                      Ao(t);
                      let s = 1 / 0,
                        c = 1 / 0,
                        l = -1 / 0,
                        h = -1 / 0;
                      return (
                        a.forEach((e) => {
                          const n = t.node(e),
                            r = 0.5 * n.width,
                            i = n.x - r,
                            o = n.x + r;
                          (s = i < s ? i : s), (l = o > l ? o : l);
                          const a = 0.5 * n.height,
                            u = n.y - a,
                            f = n.y + a;
                          (c = u < c ? u : c), (h = f > h ? f : h);
                        }),
                        t.edges().forEach((e) => {
                          const n = t.edge(e),
                            r = t.node(n.metaEdge.v),
                            i = t.node(n.metaEdge.w);
                          if (
                            3 === n.points.length &&
                            (function (t) {
                              let e = Uo(t[0], t[1]);
                              for (let n = 1; n < t.length - 1; n++) {
                                const r = Uo(t[n], t[n + 1]);
                                if (Math.abs(r - e) > 1) return !1;
                                e = r;
                              }
                              return !0;
                            })(n.points)
                          ) {
                            if (null != r) {
                              const t = r.expanded ? r.x : Vo(r);
                              n.points[0].x = t;
                            }
                            if (null != i) {
                              const t = i.expanded ? i.x : Vo(i);
                              n.points[2].x = t;
                            }
                            n.points = [n.points[0], n.points[1]];
                          }
                          const o = n.points[n.points.length - 2];
                          null != i && (n.points[n.points.length - 1] = Wo(o, i));
                          const a = n.points[1];
                          null != r && (n.points[0] = Wo(a, r)),
                            n.points.forEach((t) => {
                              (s = t.x < s ? t.x : s),
                                (l = t.x > l ? t.x : l),
                                (c = t.y < c ? t.y : c),
                                (h = t.y > h ? t.y : h);
                            });
                        }),
                        t.nodes().forEach((e) => {
                          const n = t.node(e);
                          (n.x -= s), (n.y -= c);
                        }),
                        t.edges().forEach((e) => {
                          t.edge(e).points.forEach((t) => {
                            (t.x -= s), (t.y -= c);
                          });
                        }),
                        { width: l - s, height: h - c }
                      );
                    })(t.coreGraph, l),
                  );
                  let h = 0;
                  t.coreGraph.nodeCount() > 0 && h++;
                  const f = h <= 1 ? 0 : h;
                  (t.coreBox.width += f + f),
                    (t.coreBox.height = r.labelHeight + t.coreBox.height),
                    (t.width = t.coreBox.width + r.paddingLeft + r.paddingRight),
                    (t.height = t.paddingTop + t.coreBox.height + t.paddingBottom);
                })(t, e);
          }
          function Uo(t, e) {
            const n = e.x - t.x,
              r = e.y - t.y;
            return (180 * Math.atan(r / n)) / Math.PI;
          }
          function Vo(t) {
            return t.expanded ? t.x : t.x - t.width / 2 + 0 + t.coreBox.width / 2;
          }
          function Wo(t, e) {
            const n = e.expanded ? e.x : Vo(e),
              r = e.y,
              i = t.x - n,
              o = t.y - r;
            let a,
              s,
              u = e.expanded ? e.width : e.coreBox.width,
              c = e.expanded ? e.height : e.coreBox.height;
            return (
              (Math.abs(o) * u) / 2 > (Math.abs(i) * c) / 2
                ? (o < 0 && (c = -c), (a = 0 === o ? 0 : ((c / 2) * i) / o), (s = c / 2))
                : (i < 0 && (u = -u), (a = u / 2), (s = 0 === i ? 0 : ((u / 2) * o) / i)),
              { x: n + a, y: r + s }
            );
          }
          function Yo(t, e, n) {
            var i, o, a, s;
            const u = t.nodes
              .filter((t, e, n) => n.findIndex((e) => e.id === t.id) !== e)
              .map((t) => t.id);
            if (u.length) throw new Error(`Duplicated ids found: ${u.join(', ')}`);
            const c = (function (t) {
                const e = { nodes: [] },
                  n = t.compound,
                  r = Object.keys(n || {}),
                  i = new Map(),
                  o = (t, e = []) => {
                    if (i.has(t)) return i.get(t);
                    for (let i = 0; i < r.length; i++) {
                      let a = r[i];
                      if (n && -1 !== n[a].indexOf(t)) return e.unshift(a), o(a, e);
                    }
                    return 0 === e.length && i.set(t, e), e;
                  },
                  a = (e) => t.edges.filter((t) => t.w === e).map((t) => ({ name: t.v }));
                return (
                  t.nodes.forEach((t) => {
                    const n = t.id,
                      r = [...o(n), n];
                    let i = a(n);
                    e.nodes.push({
                      name: n,
                      path: r,
                      inputs: i,
                      width: t.width,
                      height: t.height,
                      attr: Object.assign({}, t),
                    });
                  }),
                  e
                );
              })(t),
              l = (function (t, e) {
                const n = (t, e) => {
                    for (let n of e.values()) if (n.includes(t)) return !0;
                    return !1;
                  },
                  r = (t, e = []) => {
                    if (0 === Object.keys(t).length) return [...new Set(e)];
                    const i = new Map(Object.keys(t).map((e) => [e, t[e]])),
                      o = {};
                    for (let [t, r] of i) n(t, i) ? (o[t] = r) : (e = e.concat(t, r));
                    return r(o, e);
                  };
                return r(t).filter((t) => e.includes(t));
              })(t.compound || {}, (null == e ? void 0 : e.expanded) || []),
              h = (function (t, e) {
                return (function (t) {
                  return new Bo(t);
                })(
                  (function (t, e) {
                    const { rankDirection: n, align: r } = e,
                      i = new Lo({ rankdir: n, align: r });
                    return (
                      (function (t, e) {
                        Object.keys(e.nodes).forEach((n) => {
                          const r = e.nodes[n],
                            i = r.path;
                          let o = t.root;
                          o.depth = Math.max(i.length, o.depth);
                          for (
                            let e = 0;
                            e < i.length &&
                            ((o.depth = Math.max(o.depth, i.length - e)),
                            (o.cardinality += r.cardinality),
                            e !== i.length - 1);
                            e++
                          ) {
                            const n = i[e];
                            let a = t.node(n);
                            a ||
                              ((a = Po(n, t.graphOptions)),
                              (a.path = r.path.slice(0, e + 1)),
                              (a.parentNode = o),
                              t.setNode(n, a),
                              o.metaGraph.setNode(n, a)),
                              (o = a);
                          }
                          t.setNode(r.name, r), (r.parentNode = o), o.metaGraph.setNode(r.name, r);
                        });
                      })(i, t),
                      (function (t, e) {
                        const n = t.getNodeMap();
                        let r = [],
                          i = [];
                        const o = (t, e) => {
                          let n = 0;
                          for (; t; ) (e[n++] = t.name), (t = t.parentNode);
                          return n - 1;
                        };
                        e.edges.forEach((a) => {
                          (r = []), (i = []);
                          let s = o(e.nodes[a.v], r),
                            u = o(e.nodes[a.w], i);
                          for (; r[s] === i[u]; )
                            if ((s--, u--, s < 0 || u < 0))
                              throw Error('No difference found between ancestor paths.');
                          const c = n[r[s + 1]],
                            l = r[s],
                            h = i[u];
                          let f = c.metaGraph.edge(l, h);
                          f || ((f = Oo(l, h)), c.metaGraph.setEdge(l, h, f)), f.addBaseEdge(a, t);
                        });
                      })(i, t),
                      i
                    );
                  })(
                    (function (t) {
                      const e = new Io();
                      return (
                        t.nodes
                          .map((t) => new Co(t))
                          .forEach((t) => {
                            (e.nodes[t.name] = t),
                              t.inputs.forEach((n) => {
                                !(function (t, e, n) {
                                  n.name !== e.name &&
                                    t.edges.push(
                                      Object.assign(Object.assign({}, n.attr), {
                                        v: n.name,
                                        w: e.name,
                                      }),
                                    );
                                })(e, t, n);
                              });
                          }),
                        e
                      );
                    })(t),
                    e,
                  ),
                );
              })(c, {
                rankDirection:
                  (null ===
                    (o =
                      null === (i = null == n ? void 0 : n.graph) || void 0 === i
                        ? void 0
                        : i.meta) || void 0 === o
                    ? void 0
                    : o.rankDir) ||
                  (null == e ? void 0 : e.rankDirection) ||
                  r.graph.meta.rankDir,
                align:
                  (null ===
                    (s =
                      null === (a = null == n ? void 0 : n.graph) || void 0 === a
                        ? void 0
                        : a.meta) || void 0 === s
                    ? void 0
                    : s.align) || r.graph.meta.align,
              });
            return (
              (function (t, e) {
                e.forEach((e) => {
                  const n = t.getRenderInfoNodes().find((t) => t.displayName === e);
                  let r = (n && n.node && n.node.name) || '';
                  const i = t.getRenderNodeByName(r);
                  if (!i) throw new Error(`No nodes found: ${r}`);
                  (i.expanded = !0), t.buildSubHierarchy(r);
                });
              })(h, l),
              Fo(h.root, n),
              qo(h.root)
            );
          }
          function Xo(t, e = !1) {
            const n = JSON.parse(JSON.stringify(t)),
              r = { nodes: [n], edges: [...n.edges] };
            return (
              n.nodes.forEach(function t(e) {
                (0 === e.type || 1 === e.type) && r.nodes.push(e),
                  0 === e.type && (r.edges = r.edges.concat(e.edges)),
                  Array.isArray(e.nodes) && e.nodes.forEach(t);
              }),
              e &&
                r.nodes.forEach((t) => {
                  const e = r.nodes.find((e) => e.id === t.parentNodeName);
                  if (e) {
                    const n = e.x - e.width / 2 + e.paddingLeft,
                      r = e.y - e.height / 2 + e.labelHeight + e.paddingTop;
                    e.id !== a && ((t.x += n), (t.y += r)),
                      0 === t.type &&
                        t.edges.forEach((e) => {
                          e.points.forEach((e) => {
                            (e.x += t.x - t.width / 2 + t.paddingLeft),
                              (e.y += t.y - t.height / 2 + t.labelHeight + t.paddingTop);
                          });
                        });
                  }
                }),
              r
            );
          }
          function Ho(t, e, n, r) {
            var i, o;
            let s = [];
            const u =
                (null === (i = n.find((e) => e.id === t)) || void 0 === i ? void 0 : i.path) || [],
              c =
                (null === (o = n.find((t) => t.id === e)) || void 0 === o ? void 0 : o.path) || [],
              l = [a, ...u].slice(0, u.length).reverse(),
              h = [a, ...c].slice(0, c.length);
            return (
              l.forEach((i) => {
                const o = n.find((t) => t.id === i);
                s = s.concat(
                  o.edges.filter((n) =>
                    n.baseEdgeList.some(
                      (n) =>
                        n.v === ((null == r ? void 0 : r.v) || t) &&
                        n.w === ((null == r ? void 0 : r.w) || e),
                    ),
                  ),
                );
              }),
              h
                .filter((t) => !l.includes(t))
                .forEach((i) => {
                  const o = n.find((t) => t.id === i);
                  s = s.concat(
                    o.edges.filter((n) =>
                      n.baseEdgeList.some(
                        (n) =>
                          n.v === ((null == r ? void 0 : r.v) || t) &&
                          n.w === ((null == r ? void 0 : r.w) || e),
                      ),
                    ),
                  );
                }),
              s
            );
          }
          function qo(t) {
            const e = t.coreGraph.nodes().map((e) => t.coreGraph.node(e));
            return Object.assign(Object.assign({}, Ko(t)), {
              expanded: t.expanded,
              nodes: t.expanded
                ? ((n = e), n.map((t) => (t.node.type === u.META ? qo(t) : Ko(t))))
                : [],
              edges: t.expanded ? Zo(t) : [],
            });
            var n;
          }
          function Ko(t) {
            return {
              id: t.node.name,
              name: t.node.name,
              type: t.node.type,
              cardinality: t.node.cardinality,
              attr: t.attr,
              parentNodeName: t.node.parentNode ? t.node.parentNode.name : null,
              coreBox: Object.assign({}, t.coreBox),
              x: t.x,
              y: t.y,
              width: t.width,
              height: t.height,
              radius: t.radius,
              labelHeight: t.labelHeight,
              labelOffset: t.labelOffset,
              outboxWidth: t.outboxWidth,
              paddingLeft: t.paddingLeft,
              paddingTop: t.paddingTop,
              paddingRight: t.paddingRight,
              paddingBottom: t.paddingBottom,
              path: t.node.path,
            };
          }
          function Zo(t) {
            return t.coreGraph
              .edges()
              .map((e) => ({ renderInfoEdge: t.coreGraph.edge(e), edge: e }))
              .filter(({ renderInfoEdge: t }) => t.metaEdge)
              .map(({ edge: e, renderInfoEdge: n }) => {
                const r = (function (t, e) {
                  const n = e.points.map((t) => Object.assign({}, t));
                  if (e.adjoiningMetaEdge) {
                    const r = e.adjoiningMetaEdge.points,
                      i = e.metaEdge.inbound,
                      o = i ? r[r.length - 1] : r[0],
                      a = n[i ? 0 : n.length - 1],
                      s = t.x - t.width / 2,
                      u = t.y - t.height / 2,
                      c = o.x - s,
                      l = o.y - u,
                      h = -t.paddingLeft,
                      f = -(t.paddingTop + t.labelHeight);
                    (a.x = c + h), (a.y = l + f);
                  }
                  return n;
                })(t, n);
                return {
                  adjoiningEdge: n.adjoiningMetaEdge
                    ? { w: n.adjoiningMetaEdge.metaEdge.w, v: n.adjoiningMetaEdge.metaEdge.v }
                    : null,
                  inbound: n.metaEdge.inbound,
                  w: e.w,
                  v: e.v,
                  points: r,
                  weight: n.weight,
                  baseEdgeList: n.metaEdge.baseEdgeList,
                  parentNodeName: t.node.name,
                };
              });
          }
        },
        3631: (t, e, n) => {
          'use strict';
          n.d(e, { qY: () => f });
          var r = function (t, e, n) {
              if (n || 2 === arguments.length)
                for (var r, i = 0, o = e.length; i < o; i++)
                  (!r && i in e) || (r || (r = Array.prototype.slice.call(e, 0, i)), (r[i] = e[i]));
              return t.concat(r || Array.prototype.slice.call(e));
            },
            i = function (t, e, n) {
              (this.name = t), (this.version = e), (this.os = n), (this.type = 'browser');
            },
            o = function (t) {
              (this.version = t),
                (this.type = 'node'),
                (this.name = 'node'),
                (this.os = process.platform);
            },
            a = function (t, e, n, r) {
              (this.name = t),
                (this.version = e),
                (this.os = n),
                (this.bot = r),
                (this.type = 'bot-device');
            },
            s = function () {
              (this.type = 'bot'),
                (this.bot = !0),
                (this.name = 'bot'),
                (this.version = null),
                (this.os = null);
            },
            u = function () {
              (this.type = 'react-native'),
                (this.name = 'react-native'),
                (this.version = null),
                (this.os = null);
            },
            c =
              /(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,
            l = [
              ['aol', /AOLShield\/([0-9\._]+)/],
              ['edge', /Edge\/([0-9\._]+)/],
              ['edge-ios', /EdgiOS\/([0-9\._]+)/],
              ['yandexbrowser', /YaBrowser\/([0-9\._]+)/],
              ['kakaotalk', /KAKAOTALK\s([0-9\.]+)/],
              ['samsung', /SamsungBrowser\/([0-9\.]+)/],
              ['silk', /\bSilk\/([0-9._-]+)\b/],
              ['miui', /MiuiBrowser\/([0-9\.]+)$/],
              ['beaker', /BeakerBrowser\/([0-9\.]+)/],
              ['edge-chromium', /EdgA?\/([0-9\.]+)/],
              ['chromium-webview', /(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],
              ['chrome', /(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],
              ['phantomjs', /PhantomJS\/([0-9\.]+)(:?\s|$)/],
              ['crios', /CriOS\/([0-9\.]+)(:?\s|$)/],
              ['firefox', /Firefox\/([0-9\.]+)(?:\s|$)/],
              ['fxios', /FxiOS\/([0-9\.]+)/],
              ['opera-mini', /Opera Mini.*Version\/([0-9\.]+)/],
              ['opera', /Opera\/([0-9\.]+)(?:\s|$)/],
              ['opera', /OPR\/([0-9\.]+)(:?\s|$)/],
              ['ie', /Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],
              ['ie', /MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],
              ['ie', /MSIE\s(7\.0)/],
              ['bb10', /BB10;\sTouch.*Version\/([0-9\.]+)/],
              ['android', /Android\s([0-9\.]+)/],
              ['ios', /Version\/([0-9\._]+).*Mobile.*Safari.*/],
              ['safari', /Version\/([0-9\._]+).*Safari/],
              ['facebook', /FB[AS]V\/([0-9\.]+)/],
              ['instagram', /Instagram\s([0-9\.]+)/],
              ['ios-webview', /AppleWebKit\/([0-9\.]+).*Mobile/],
              ['ios-webview', /AppleWebKit\/([0-9\.]+).*Gecko\)$/],
              ['curl', /^curl\/([0-9\.]+)$/],
              [
                'searchbot',
                /alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,
              ],
            ],
            h = [
              ['iOS', /iP(hone|od|ad)/],
              ['Android OS', /Android/],
              ['BlackBerry OS', /BlackBerry|BB10/],
              ['Windows Mobile', /IEMobile/],
              ['Amazon OS', /Kindle/],
              ['Windows 3.11', /Win16/],
              ['Windows 95', /(Windows 95)|(Win95)|(Windows_95)/],
              ['Windows 98', /(Windows 98)|(Win98)/],
              ['Windows 2000', /(Windows NT 5.0)|(Windows 2000)/],
              ['Windows XP', /(Windows NT 5.1)|(Windows XP)/],
              ['Windows Server 2003', /(Windows NT 5.2)/],
              ['Windows Vista', /(Windows NT 6.0)/],
              ['Windows 7', /(Windows NT 6.1)/],
              ['Windows 8', /(Windows NT 6.2)/],
              ['Windows 8.1', /(Windows NT 6.3)/],
              ['Windows 10', /(Windows NT 10.0)/],
              ['Windows ME', /Windows ME/],
              ['Open BSD', /OpenBSD/],
              ['Sun OS', /SunOS/],
              ['Chrome OS', /CrOS/],
              ['Linux', /(Linux)|(X11)/],
              ['Mac OS', /(Mac_PowerPC)|(Macintosh)/],
              ['QNX', /QNX/],
              ['BeOS', /BeOS/],
              ['OS/2', /OS\/2/],
            ];
          function f(t) {
            return t
              ? d(t)
              : 'undefined' == typeof document &&
                'undefined' != typeof navigator &&
                'ReactNative' === navigator.product
              ? new u()
              : 'undefined' != typeof navigator
              ? d(navigator.userAgent)
              : 'undefined' != typeof process && process.version
              ? new o(process.version.slice(1))
              : null;
          }
          function d(t) {
            var e = (function (t) {
              return (
                '' !== t &&
                l.reduce(function (e, n) {
                  var r = n[0],
                    i = n[1];
                  if (e) return e;
                  var o = i.exec(t);
                  return !!o && [r, o];
                }, !1)
              );
            })(t);
            if (!e) return null;
            var n = e[0],
              o = e[1];
            if ('searchbot' === n) return new s();
            var u = o[1] && o[1].split('.').join('_').split('_').slice(0, 3);
            u
              ? u.length < 3 &&
                (u = r(
                  r([], u, !0),
                  (function (t) {
                    for (var e = [], n = 0; n < t; n++) e.push('0');
                    return e;
                  })(3 - u.length),
                  !0,
                ))
              : (u = []);
            var f = u.join('.'),
              d = (function (t) {
                for (var e = 0, n = h.length; e < n; e++) {
                  var r = h[e],
                    i = r[0];
                  if (r[1].exec(t)) return i;
                }
                return null;
              })(t),
              p = c.exec(t);
            return p && p[1] ? new a(n, f, d, p[1]) : new i(n, f, d);
          }
        },
        9685: (t, e, n) => {
          'use strict';
          n.d(e, { FD: () => o, Ib: () => r, WT: () => i });
          var r = 1e-6,
            i = 'undefined' != typeof Float32Array ? Float32Array : Array,
            o = Math.random;
          Math.PI,
            Math.hypot ||
              (Math.hypot = function () {
                for (var t = 0, e = arguments.length; e--; ) t += arguments[e] * arguments[e];
                return Math.sqrt(t);
              });
        },
        5600: (t, e, n) => {
          'use strict';
          n.r(e),
            n.d(e, {
              add: () => C,
              adjoint: () => d,
              clone: () => a,
              copy: () => s,
              create: () => i,
              determinant: () => p,
              equals: () => O,
              exactEquals: () => P,
              frob: () => A,
              fromMat2d: () => w,
              fromMat4: () => o,
              fromQuat: () => E,
              fromRotation: () => x,
              fromScaling: () => _,
              fromTranslation: () => b,
              fromValues: () => u,
              identity: () => l,
              invert: () => f,
              mul: () => D,
              multiply: () => g,
              multiplyScalar: () => T,
              multiplyScalarAndAdd: () => N,
              normalFromMat4: () => S,
              projection: () => M,
              rotate: () => y,
              scale: () => m,
              set: () => c,
              str: () => k,
              sub: () => L,
              subtract: () => I,
              translate: () => v,
              transpose: () => h,
            });
          var r = n(9685);
          function i() {
            var t = new r.WT(9);
            return (
              r.WT != Float32Array &&
                ((t[1] = 0), (t[2] = 0), (t[3] = 0), (t[5] = 0), (t[6] = 0), (t[7] = 0)),
              (t[0] = 1),
              (t[4] = 1),
              (t[8] = 1),
              t
            );
          }
          function o(t, e) {
            return (
              (t[0] = e[0]),
              (t[1] = e[1]),
              (t[2] = e[2]),
              (t[3] = e[4]),
              (t[4] = e[5]),
              (t[5] = e[6]),
              (t[6] = e[8]),
              (t[7] = e[9]),
              (t[8] = e[10]),
              t
            );
          }
          function a(t) {
            var e = new r.WT(9);
            return (
              (e[0] = t[0]),
              (e[1] = t[1]),
              (e[2] = t[2]),
              (e[3] = t[3]),
              (e[4] = t[4]),
              (e[5] = t[5]),
              (e[6] = t[6]),
              (e[7] = t[7]),
              (e[8] = t[8]),
              e
            );
          }
          function s(t, e) {
            return (
              (t[0] = e[0]),
              (t[1] = e[1]),
              (t[2] = e[2]),
              (t[3] = e[3]),
              (t[4] = e[4]),
              (t[5] = e[5]),
              (t[6] = e[6]),
              (t[7] = e[7]),
              (t[8] = e[8]),
              t
            );
          }
          function u(t, e, n, i, o, a, s, u, c) {
            var l = new r.WT(9);
            return (
              (l[0] = t),
              (l[1] = e),
              (l[2] = n),
              (l[3] = i),
              (l[4] = o),
              (l[5] = a),
              (l[6] = s),
              (l[7] = u),
              (l[8] = c),
              l
            );
          }
          function c(t, e, n, r, i, o, a, s, u, c) {
            return (
              (t[0] = e),
              (t[1] = n),
              (t[2] = r),
              (t[3] = i),
              (t[4] = o),
              (t[5] = a),
              (t[6] = s),
              (t[7] = u),
              (t[8] = c),
              t
            );
          }
          function l(t) {
            return (
              (t[0] = 1),
              (t[1] = 0),
              (t[2] = 0),
              (t[3] = 0),
              (t[4] = 1),
              (t[5] = 0),
              (t[6] = 0),
              (t[7] = 0),
              (t[8] = 1),
              t
            );
          }
          function h(t, e) {
            if (t === e) {
              var n = e[1],
                r = e[2],
                i = e[5];
              (t[1] = e[3]), (t[2] = e[6]), (t[3] = n), (t[5] = e[7]), (t[6] = r), (t[7] = i);
            } else
              (t[0] = e[0]),
                (t[1] = e[3]),
                (t[2] = e[6]),
                (t[3] = e[1]),
                (t[4] = e[4]),
                (t[5] = e[7]),
                (t[6] = e[2]),
                (t[7] = e[5]),
                (t[8] = e[8]);
            return t;
          }
          function f(t, e) {
            var n = e[0],
              r = e[1],
              i = e[2],
              o = e[3],
              a = e[4],
              s = e[5],
              u = e[6],
              c = e[7],
              l = e[8],
              h = l * a - s * c,
              f = -l * o + s * u,
              d = c * o - a * u,
              p = n * h + r * f + i * d;
            return p
              ? ((p = 1 / p),
                (t[0] = h * p),
                (t[1] = (-l * r + i * c) * p),
                (t[2] = (s * r - i * a) * p),
                (t[3] = f * p),
                (t[4] = (l * n - i * u) * p),
                (t[5] = (-s * n + i * o) * p),
                (t[6] = d * p),
                (t[7] = (-c * n + r * u) * p),
                (t[8] = (a * n - r * o) * p),
                t)
              : null;
          }
          function d(t, e) {
            var n = e[0],
              r = e[1],
              i = e[2],
              o = e[3],
              a = e[4],
              s = e[5],
              u = e[6],
              c = e[7],
              l = e[8];
            return (
              (t[0] = a * l - s * c),
              (t[1] = i * c - r * l),
              (t[2] = r * s - i * a),
              (t[3] = s * u - o * l),
              (t[4] = n * l - i * u),
              (t[5] = i * o - n * s),
              (t[6] = o * c - a * u),
              (t[7] = r * u - n * c),
              (t[8] = n * a - r * o),
              t
            );
          }
          function p(t) {
            var e = t[0],
              n = t[1],
              r = t[2],
              i = t[3],
              o = t[4],
              a = t[5],
              s = t[6],
              u = t[7],
              c = t[8];
            return e * (c * o - a * u) + n * (-c * i + a * s) + r * (u * i - o * s);
          }
          function g(t, e, n) {
            var r = e[0],
              i = e[1],
              o = e[2],
              a = e[3],
              s = e[4],
              u = e[5],
              c = e[6],
              l = e[7],
              h = e[8],
              f = n[0],
              d = n[1],
              p = n[2],
              g = n[3],
              v = n[4],
              y = n[5],
              m = n[6],
              b = n[7],
              x = n[8];
            return (
              (t[0] = f * r + d * a + p * c),
              (t[1] = f * i + d * s + p * l),
              (t[2] = f * o + d * u + p * h),
              (t[3] = g * r + v * a + y * c),
              (t[4] = g * i + v * s + y * l),
              (t[5] = g * o + v * u + y * h),
              (t[6] = m * r + b * a + x * c),
              (t[7] = m * i + b * s + x * l),
              (t[8] = m * o + b * u + x * h),
              t
            );
          }
          function v(t, e, n) {
            var r = e[0],
              i = e[1],
              o = e[2],
              a = e[3],
              s = e[4],
              u = e[5],
              c = e[6],
              l = e[7],
              h = e[8],
              f = n[0],
              d = n[1];
            return (
              (t[0] = r),
              (t[1] = i),
              (t[2] = o),
              (t[3] = a),
              (t[4] = s),
              (t[5] = u),
              (t[6] = f * r + d * a + c),
              (t[7] = f * i + d * s + l),
              (t[8] = f * o + d * u + h),
              t
            );
          }
          function y(t, e, n) {
            var r = e[0],
              i = e[1],
              o = e[2],
              a = e[3],
              s = e[4],
              u = e[5],
              c = e[6],
              l = e[7],
              h = e[8],
              f = Math.sin(n),
              d = Math.cos(n);
            return (
              (t[0] = d * r + f * a),
              (t[1] = d * i + f * s),
              (t[2] = d * o + f * u),
              (t[3] = d * a - f * r),
              (t[4] = d * s - f * i),
              (t[5] = d * u - f * o),
              (t[6] = c),
              (t[7] = l),
              (t[8] = h),
              t
            );
          }
          function m(t, e, n) {
            var r = n[0],
              i = n[1];
            return (
              (t[0] = r * e[0]),
              (t[1] = r * e[1]),
              (t[2] = r * e[2]),
              (t[3] = i * e[3]),
              (t[4] = i * e[4]),
              (t[5] = i * e[5]),
              (t[6] = e[6]),
              (t[7] = e[7]),
              (t[8] = e[8]),
              t
            );
          }
          function b(t, e) {
            return (
              (t[0] = 1),
              (t[1] = 0),
              (t[2] = 0),
              (t[3] = 0),
              (t[4] = 1),
              (t[5] = 0),
              (t[6] = e[0]),
              (t[7] = e[1]),
              (t[8] = 1),
              t
            );
          }
          function x(t, e) {
            var n = Math.sin(e),
              r = Math.cos(e);
            return (
              (t[0] = r),
              (t[1] = n),
              (t[2] = 0),
              (t[3] = -n),
              (t[4] = r),
              (t[5] = 0),
              (t[6] = 0),
              (t[7] = 0),
              (t[8] = 1),
              t
            );
          }
          function _(t, e) {
            return (
              (t[0] = e[0]),
              (t[1] = 0),
              (t[2] = 0),
              (t[3] = 0),
              (t[4] = e[1]),
              (t[5] = 0),
              (t[6] = 0),
              (t[7] = 0),
              (t[8] = 1),
              t
            );
          }
          function w(t, e) {
            return (
              (t[0] = e[0]),
              (t[1] = e[1]),
              (t[2] = 0),
              (t[3] = e[2]),
              (t[4] = e[3]),
              (t[5] = 0),
              (t[6] = e[4]),
              (t[7] = e[5]),
              (t[8] = 1),
              t
            );
          }
          function E(t, e) {
            var n = e[0],
              r = e[1],
              i = e[2],
              o = e[3],
              a = n + n,
              s = r + r,
              u = i + i,
              c = n * a,
              l = r * a,
              h = r * s,
              f = i * a,
              d = i * s,
              p = i * u,
              g = o * a,
              v = o * s,
              y = o * u;
            return (
              (t[0] = 1 - h - p),
              (t[3] = l - y),
              (t[6] = f + v),
              (t[1] = l + y),
              (t[4] = 1 - c - p),
              (t[7] = d - g),
              (t[2] = f - v),
              (t[5] = d + g),
              (t[8] = 1 - c - h),
              t
            );
          }
          function S(t, e) {
            var n = e[0],
              r = e[1],
              i = e[2],
              o = e[3],
              a = e[4],
              s = e[5],
              u = e[6],
              c = e[7],
              l = e[8],
              h = e[9],
              f = e[10],
              d = e[11],
              p = e[12],
              g = e[13],
              v = e[14],
              y = e[15],
              m = n * s - r * a,
              b = n * u - i * a,
              x = n * c - o * a,
              _ = r * u - i * s,
              w = r * c - o * s,
              E = i * c - o * u,
              S = l * g - h * p,
              M = l * v - f * p,
              k = l * y - d * p,
              A = h * v - f * g,
              C = h * y - d * g,
              I = f * y - d * v,
              T = m * I - b * C + x * A + _ * k - w * M + E * S;
            return T
              ? ((T = 1 / T),
                (t[0] = (s * I - u * C + c * A) * T),
                (t[1] = (u * k - a * I - c * M) * T),
                (t[2] = (a * C - s * k + c * S) * T),
                (t[3] = (i * C - r * I - o * A) * T),
                (t[4] = (n * I - i * k + o * M) * T),
                (t[5] = (r * k - n * C - o * S) * T),
                (t[6] = (g * E - v * w + y * _) * T),
                (t[7] = (v * x - p * E - y * b) * T),
                (t[8] = (p * w - g * x + y * m) * T),
                t)
              : null;
          }
          function M(t, e, n) {
            return (
              (t[0] = 2 / e),
              (t[1] = 0),
              (t[2] = 0),
              (t[3] = 0),
              (t[4] = -2 / n),
              (t[5] = 0),
              (t[6] = -1),
              (t[7] = 1),
              (t[8] = 1),
              t
            );
          }
          function k(t) {
            return (
              'mat3(' +
              t[0] +
              ', ' +
              t[1] +
              ', ' +
              t[2] +
              ', ' +
              t[3] +
              ', ' +
              t[4] +
              ', ' +
              t[5] +
              ', ' +
              t[6] +
              ', ' +
              t[7] +
              ', ' +
              t[8] +
              ')'
            );
          }
          function A(t) {
            return Math.hypot(t[0], t[1], t[2], t[3], t[4], t[5], t[6], t[7], t[8]);
          }
          function C(t, e, n) {
            return (
              (t[0] = e[0] + n[0]),
              (t[1] = e[1] + n[1]),
              (t[2] = e[2] + n[2]),
              (t[3] = e[3] + n[3]),
              (t[4] = e[4] + n[4]),
              (t[5] = e[5] + n[5]),
              (t[6] = e[6] + n[6]),
              (t[7] = e[7] + n[7]),
              (t[8] = e[8] + n[8]),
              t
            );
          }
          function I(t, e, n) {
            return (
              (t[0] = e[0] - n[0]),
              (t[1] = e[1] - n[1]),
              (t[2] = e[2] - n[2]),
              (t[3] = e[3] - n[3]),
              (t[4] = e[4] - n[4]),
              (t[5] = e[5] - n[5]),
              (t[6] = e[6] - n[6]),
              (t[7] = e[7] - n[7]),
              (t[8] = e[8] - n[8]),
              t
            );
          }
          function T(t, e, n) {
            return (
              (t[0] = e[0] * n),
              (t[1] = e[1] * n),
              (t[2] = e[2] * n),
              (t[3] = e[3] * n),
              (t[4] = e[4] * n),
              (t[5] = e[5] * n),
              (t[6] = e[6] * n),
              (t[7] = e[7] * n),
              (t[8] = e[8] * n),
              t
            );
          }
          function N(t, e, n, r) {
            return (
              (t[0] = e[0] + n[0] * r),
              (t[1] = e[1] + n[1] * r),
              (t[2] = e[2] + n[2] * r),
              (t[3] = e[3] + n[3] * r),
              (t[4] = e[4] + n[4] * r),
              (t[5] = e[5] + n[5] * r),
              (t[6] = e[6] + n[6] * r),
              (t[7] = e[7] + n[7] * r),
              (t[8] = e[8] + n[8] * r),
              t
            );
          }
          function P(t, e) {
            return (
              t[0] === e[0] &&
              t[1] === e[1] &&
              t[2] === e[2] &&
              t[3] === e[3] &&
              t[4] === e[4] &&
              t[5] === e[5] &&
              t[6] === e[6] &&
              t[7] === e[7] &&
              t[8] === e[8]
            );
          }
          function O(t, e) {
            var n = t[0],
              i = t[1],
              o = t[2],
              a = t[3],
              s = t[4],
              u = t[5],
              c = t[6],
              l = t[7],
              h = t[8],
              f = e[0],
              d = e[1],
              p = e[2],
              g = e[3],
              v = e[4],
              y = e[5],
              m = e[6],
              b = e[7],
              x = e[8];
            return (
              Math.abs(n - f) <= r.Ib * Math.max(1, Math.abs(n), Math.abs(f)) &&
              Math.abs(i - d) <= r.Ib * Math.max(1, Math.abs(i), Math.abs(d)) &&
              Math.abs(o - p) <= r.Ib * Math.max(1, Math.abs(o), Math.abs(p)) &&
              Math.abs(a - g) <= r.Ib * Math.max(1, Math.abs(a), Math.abs(g)) &&
              Math.abs(s - v) <= r.Ib * Math.max(1, Math.abs(s), Math.abs(v)) &&
              Math.abs(u - y) <= r.Ib * Math.max(1, Math.abs(u), Math.abs(y)) &&
              Math.abs(c - m) <= r.Ib * Math.max(1, Math.abs(c), Math.abs(m)) &&
              Math.abs(l - b) <= r.Ib * Math.max(1, Math.abs(l), Math.abs(b)) &&
              Math.abs(h - x) <= r.Ib * Math.max(1, Math.abs(h), Math.abs(x))
            );
          }
          var D = g,
            L = I;
        },
        1437: (t, e, n) => {
          'use strict';
          n.r(e),
            n.d(e, {
              add: () => c,
              angle: () => R,
              ceil: () => d,
              clone: () => o,
              copy: () => s,
              create: () => i,
              cross: () => C,
              dist: () => X,
              distance: () => x,
              div: () => Y,
              divide: () => f,
              dot: () => A,
              equals: () => z,
              exactEquals: () => G,
              floor: () => p,
              forEach: () => K,
              fromValues: () => a,
              inverse: () => M,
              len: () => U,
              length: () => w,
              lerp: () => I,
              max: () => v,
              min: () => g,
              mul: () => W,
              multiply: () => h,
              negate: () => S,
              normalize: () => k,
              random: () => T,
              rotate: () => L,
              round: () => y,
              scale: () => m,
              scaleAndAdd: () => b,
              set: () => u,
              sqrDist: () => H,
              sqrLen: () => q,
              squaredDistance: () => _,
              squaredLength: () => E,
              str: () => j,
              sub: () => V,
              subtract: () => l,
              transformMat2: () => N,
              transformMat2d: () => P,
              transformMat3: () => O,
              transformMat4: () => D,
              zero: () => B,
            });
          var r = n(9685);
          function i() {
            var t = new r.WT(2);
            return r.WT != Float32Array && ((t[0] = 0), (t[1] = 0)), t;
          }
          function o(t) {
            var e = new r.WT(2);
            return (e[0] = t[0]), (e[1] = t[1]), e;
          }
          function a(t, e) {
            var n = new r.WT(2);
            return (n[0] = t), (n[1] = e), n;
          }
          function s(t, e) {
            return (t[0] = e[0]), (t[1] = e[1]), t;
          }
          function u(t, e, n) {
            return (t[0] = e), (t[1] = n), t;
          }
          function c(t, e, n) {
            return (t[0] = e[0] + n[0]), (t[1] = e[1] + n[1]), t;
          }
          function l(t, e, n) {
            return (t[0] = e[0] - n[0]), (t[1] = e[1] - n[1]), t;
          }
          function h(t, e, n) {
            return (t[0] = e[0] * n[0]), (t[1] = e[1] * n[1]), t;
          }
          function f(t, e, n) {
            return (t[0] = e[0] / n[0]), (t[1] = e[1] / n[1]), t;
          }
          function d(t, e) {
            return (t[0] = Math.ceil(e[0])), (t[1] = Math.ceil(e[1])), t;
          }
          function p(t, e) {
            return (t[0] = Math.floor(e[0])), (t[1] = Math.floor(e[1])), t;
          }
          function g(t, e, n) {
            return (t[0] = Math.min(e[0], n[0])), (t[1] = Math.min(e[1], n[1])), t;
          }
          function v(t, e, n) {
            return (t[0] = Math.max(e[0], n[0])), (t[1] = Math.max(e[1], n[1])), t;
          }
          function y(t, e) {
            return (t[0] = Math.round(e[0])), (t[1] = Math.round(e[1])), t;
          }
          function m(t, e, n) {
            return (t[0] = e[0] * n), (t[1] = e[1] * n), t;
          }
          function b(t, e, n, r) {
            return (t[0] = e[0] + n[0] * r), (t[1] = e[1] + n[1] * r), t;
          }
          function x(t, e) {
            var n = e[0] - t[0],
              r = e[1] - t[1];
            return Math.hypot(n, r);
          }
          function _(t, e) {
            var n = e[0] - t[0],
              r = e[1] - t[1];
            return n * n + r * r;
          }
          function w(t) {
            var e = t[0],
              n = t[1];
            return Math.hypot(e, n);
          }
          function E(t) {
            var e = t[0],
              n = t[1];
            return e * e + n * n;
          }
          function S(t, e) {
            return (t[0] = -e[0]), (t[1] = -e[1]), t;
          }
          function M(t, e) {
            return (t[0] = 1 / e[0]), (t[1] = 1 / e[1]), t;
          }
          function k(t, e) {
            var n = e[0],
              r = e[1],
              i = n * n + r * r;
            return i > 0 && (i = 1 / Math.sqrt(i)), (t[0] = e[0] * i), (t[1] = e[1] * i), t;
          }
          function A(t, e) {
            return t[0] * e[0] + t[1] * e[1];
          }
          function C(t, e, n) {
            var r = e[0] * n[1] - e[1] * n[0];
            return (t[0] = t[1] = 0), (t[2] = r), t;
          }
          function I(t, e, n, r) {
            var i = e[0],
              o = e[1];
            return (t[0] = i + r * (n[0] - i)), (t[1] = o + r * (n[1] - o)), t;
          }
          function T(t, e) {
            e = e || 1;
            var n = 2 * r.FD() * Math.PI;
            return (t[0] = Math.cos(n) * e), (t[1] = Math.sin(n) * e), t;
          }
          function N(t, e, n) {
            var r = e[0],
              i = e[1];
            return (t[0] = n[0] * r + n[2] * i), (t[1] = n[1] * r + n[3] * i), t;
          }
          function P(t, e, n) {
            var r = e[0],
              i = e[1];
            return (t[0] = n[0] * r + n[2] * i + n[4]), (t[1] = n[1] * r + n[3] * i + n[5]), t;
          }
          function O(t, e, n) {
            var r = e[0],
              i = e[1];
            return (t[0] = n[0] * r + n[3] * i + n[6]), (t[1] = n[1] * r + n[4] * i + n[7]), t;
          }
          function D(t, e, n) {
            var r = e[0],
              i = e[1];
            return (t[0] = n[0] * r + n[4] * i + n[12]), (t[1] = n[1] * r + n[5] * i + n[13]), t;
          }
          function L(t, e, n, r) {
            var i = e[0] - n[0],
              o = e[1] - n[1],
              a = Math.sin(r),
              s = Math.cos(r);
            return (t[0] = i * s - o * a + n[0]), (t[1] = i * a + o * s + n[1]), t;
          }
          function R(t, e) {
            var n = t[0],
              r = t[1],
              i = e[0],
              o = e[1],
              a = Math.sqrt(n * n + r * r) * Math.sqrt(i * i + o * o),
              s = a && (n * i + r * o) / a;
            return Math.acos(Math.min(Math.max(s, -1), 1));
          }
          function B(t) {
            return (t[0] = 0), (t[1] = 0), t;
          }
          function j(t) {
            return 'vec2(' + t[0] + ', ' + t[1] + ')';
          }
          function G(t, e) {
            return t[0] === e[0] && t[1] === e[1];
          }
          function z(t, e) {
            var n = t[0],
              i = t[1],
              o = e[0],
              a = e[1];
            return (
              Math.abs(n - o) <= r.Ib * Math.max(1, Math.abs(n), Math.abs(o)) &&
              Math.abs(i - a) <= r.Ib * Math.max(1, Math.abs(i), Math.abs(a))
            );
          }
          var F,
            U = w,
            V = l,
            W = h,
            Y = f,
            X = x,
            H = _,
            q = E,
            K =
              ((F = i()),
              function (t, e, n, r, i, o) {
                var a, s;
                for (
                  e || (e = 2),
                    n || (n = 0),
                    s = r ? Math.min(r * e + n, t.length) : t.length,
                    a = n;
                  a < s;
                  a += e
                )
                  (F[0] = t[a]), (F[1] = t[a + 1]), i(F, F, o), (t[a] = F[0]), (t[a + 1] = F[1]);
                return t;
              });
        },
        7160: (t, e, n) => {
          'use strict';
          n.r(e),
            n.d(e, {
              add: () => l,
              angle: () => G,
              bezier: () => N,
              ceil: () => p,
              clone: () => o,
              copy: () => u,
              create: () => i,
              cross: () => C,
              dist: () => q,
              distance: () => _,
              div: () => H,
              divide: () => d,
              dot: () => A,
              equals: () => V,
              exactEquals: () => U,
              floor: () => g,
              forEach: () => Q,
              fromValues: () => s,
              hermite: () => T,
              inverse: () => M,
              len: () => Z,
              length: () => a,
              lerp: () => I,
              max: () => y,
              min: () => v,
              mul: () => X,
              multiply: () => f,
              negate: () => S,
              normalize: () => k,
              random: () => P,
              rotateX: () => R,
              rotateY: () => B,
              rotateZ: () => j,
              round: () => m,
              scale: () => b,
              scaleAndAdd: () => x,
              set: () => c,
              sqrDist: () => K,
              sqrLen: () => $,
              squaredDistance: () => w,
              squaredLength: () => E,
              str: () => F,
              sub: () => Y,
              subtract: () => h,
              transformMat3: () => D,
              transformMat4: () => O,
              transformQuat: () => L,
              zero: () => z,
            });
          var r = n(9685);
          function i() {
            var t = new r.WT(3);
            return r.WT != Float32Array && ((t[0] = 0), (t[1] = 0), (t[2] = 0)), t;
          }
          function o(t) {
            var e = new r.WT(3);
            return (e[0] = t[0]), (e[1] = t[1]), (e[2] = t[2]), e;
          }
          function a(t) {
            var e = t[0],
              n = t[1],
              r = t[2];
            return Math.hypot(e, n, r);
          }
          function s(t, e, n) {
            var i = new r.WT(3);
            return (i[0] = t), (i[1] = e), (i[2] = n), i;
          }
          function u(t, e) {
            return (t[0] = e[0]), (t[1] = e[1]), (t[2] = e[2]), t;
          }
          function c(t, e, n, r) {
            return (t[0] = e), (t[1] = n), (t[2] = r), t;
          }
          function l(t, e, n) {
            return (t[0] = e[0] + n[0]), (t[1] = e[1] + n[1]), (t[2] = e[2] + n[2]), t;
          }
          function h(t, e, n) {
            return (t[0] = e[0] - n[0]), (t[1] = e[1] - n[1]), (t[2] = e[2] - n[2]), t;
          }
          function f(t, e, n) {
            return (t[0] = e[0] * n[0]), (t[1] = e[1] * n[1]), (t[2] = e[2] * n[2]), t;
          }
          function d(t, e, n) {
            return (t[0] = e[0] / n[0]), (t[1] = e[1] / n[1]), (t[2] = e[2] / n[2]), t;
          }
          function p(t, e) {
            return (t[0] = Math.ceil(e[0])), (t[1] = Math.ceil(e[1])), (t[2] = Math.ceil(e[2])), t;
          }
          function g(t, e) {
            return (
              (t[0] = Math.floor(e[0])), (t[1] = Math.floor(e[1])), (t[2] = Math.floor(e[2])), t
            );
          }
          function v(t, e, n) {
            return (
              (t[0] = Math.min(e[0], n[0])),
              (t[1] = Math.min(e[1], n[1])),
              (t[2] = Math.min(e[2], n[2])),
              t
            );
          }
          function y(t, e, n) {
            return (
              (t[0] = Math.max(e[0], n[0])),
              (t[1] = Math.max(e[1], n[1])),
              (t[2] = Math.max(e[2], n[2])),
              t
            );
          }
          function m(t, e) {
            return (
              (t[0] = Math.round(e[0])), (t[1] = Math.round(e[1])), (t[2] = Math.round(e[2])), t
            );
          }
          function b(t, e, n) {
            return (t[0] = e[0] * n), (t[1] = e[1] * n), (t[2] = e[2] * n), t;
          }
          function x(t, e, n, r) {
            return (t[0] = e[0] + n[0] * r), (t[1] = e[1] + n[1] * r), (t[2] = e[2] + n[2] * r), t;
          }
          function _(t, e) {
            var n = e[0] - t[0],
              r = e[1] - t[1],
              i = e[2] - t[2];
            return Math.hypot(n, r, i);
          }
          function w(t, e) {
            var n = e[0] - t[0],
              r = e[1] - t[1],
              i = e[2] - t[2];
            return n * n + r * r + i * i;
          }
          function E(t) {
            var e = t[0],
              n = t[1],
              r = t[2];
            return e * e + n * n + r * r;
          }
          function S(t, e) {
            return (t[0] = -e[0]), (t[1] = -e[1]), (t[2] = -e[2]), t;
          }
          function M(t, e) {
            return (t[0] = 1 / e[0]), (t[1] = 1 / e[1]), (t[2] = 1 / e[2]), t;
          }
          function k(t, e) {
            var n = e[0],
              r = e[1],
              i = e[2],
              o = n * n + r * r + i * i;
            return (
              o > 0 && (o = 1 / Math.sqrt(o)),
              (t[0] = e[0] * o),
              (t[1] = e[1] * o),
              (t[2] = e[2] * o),
              t
            );
          }
          function A(t, e) {
            return t[0] * e[0] + t[1] * e[1] + t[2] * e[2];
          }
          function C(t, e, n) {
            var r = e[0],
              i = e[1],
              o = e[2],
              a = n[0],
              s = n[1],
              u = n[2];
            return (t[0] = i * u - o * s), (t[1] = o * a - r * u), (t[2] = r * s - i * a), t;
          }
          function I(t, e, n, r) {
            var i = e[0],
              o = e[1],
              a = e[2];
            return (
              (t[0] = i + r * (n[0] - i)),
              (t[1] = o + r * (n[1] - o)),
              (t[2] = a + r * (n[2] - a)),
              t
            );
          }
          function T(t, e, n, r, i, o) {
            var a = o * o,
              s = a * (2 * o - 3) + 1,
              u = a * (o - 2) + o,
              c = a * (o - 1),
              l = a * (3 - 2 * o);
            return (
              (t[0] = e[0] * s + n[0] * u + r[0] * c + i[0] * l),
              (t[1] = e[1] * s + n[1] * u + r[1] * c + i[1] * l),
              (t[2] = e[2] * s + n[2] * u + r[2] * c + i[2] * l),
              t
            );
          }
          function N(t, e, n, r, i, o) {
            var a = 1 - o,
              s = a * a,
              u = o * o,
              c = s * a,
              l = 3 * o * s,
              h = 3 * u * a,
              f = u * o;
            return (
              (t[0] = e[0] * c + n[0] * l + r[0] * h + i[0] * f),
              (t[1] = e[1] * c + n[1] * l + r[1] * h + i[1] * f),
              (t[2] = e[2] * c + n[2] * l + r[2] * h + i[2] * f),
              t
            );
          }
          function P(t, e) {
            e = e || 1;
            var n = 2 * r.FD() * Math.PI,
              i = 2 * r.FD() - 1,
              o = Math.sqrt(1 - i * i) * e;
            return (t[0] = Math.cos(n) * o), (t[1] = Math.sin(n) * o), (t[2] = i * e), t;
          }
          function O(t, e, n) {
            var r = e[0],
              i = e[1],
              o = e[2],
              a = n[3] * r + n[7] * i + n[11] * o + n[15];
            return (
              (a = a || 1),
              (t[0] = (n[0] * r + n[4] * i + n[8] * o + n[12]) / a),
              (t[1] = (n[1] * r + n[5] * i + n[9] * o + n[13]) / a),
              (t[2] = (n[2] * r + n[6] * i + n[10] * o + n[14]) / a),
              t
            );
          }
          function D(t, e, n) {
            var r = e[0],
              i = e[1],
              o = e[2];
            return (
              (t[0] = r * n[0] + i * n[3] + o * n[6]),
              (t[1] = r * n[1] + i * n[4] + o * n[7]),
              (t[2] = r * n[2] + i * n[5] + o * n[8]),
              t
            );
          }
          function L(t, e, n) {
            var r = n[0],
              i = n[1],
              o = n[2],
              a = n[3],
              s = e[0],
              u = e[1],
              c = e[2],
              l = i * c - o * u,
              h = o * s - r * c,
              f = r * u - i * s,
              d = i * f - o * h,
              p = o * l - r * f,
              g = r * h - i * l,
              v = 2 * a;
            return (
              (l *= v),
              (h *= v),
              (f *= v),
              (d *= 2),
              (p *= 2),
              (g *= 2),
              (t[0] = s + l + d),
              (t[1] = u + h + p),
              (t[2] = c + f + g),
              t
            );
          }
          function R(t, e, n, r) {
            var i = [],
              o = [];
            return (
              (i[0] = e[0] - n[0]),
              (i[1] = e[1] - n[1]),
              (i[2] = e[2] - n[2]),
              (o[0] = i[0]),
              (o[1] = i[1] * Math.cos(r) - i[2] * Math.sin(r)),
              (o[2] = i[1] * Math.sin(r) + i[2] * Math.cos(r)),
              (t[0] = o[0] + n[0]),
              (t[1] = o[1] + n[1]),
              (t[2] = o[2] + n[2]),
              t
            );
          }
          function B(t, e, n, r) {
            var i = [],
              o = [];
            return (
              (i[0] = e[0] - n[0]),
              (i[1] = e[1] - n[1]),
              (i[2] = e[2] - n[2]),
              (o[0] = i[2] * Math.sin(r) + i[0] * Math.cos(r)),
              (o[1] = i[1]),
              (o[2] = i[2] * Math.cos(r) - i[0] * Math.sin(r)),
              (t[0] = o[0] + n[0]),
              (t[1] = o[1] + n[1]),
              (t[2] = o[2] + n[2]),
              t
            );
          }
          function j(t, e, n, r) {
            var i = [],
              o = [];
            return (
              (i[0] = e[0] - n[0]),
              (i[1] = e[1] - n[1]),
              (i[2] = e[2] - n[2]),
              (o[0] = i[0] * Math.cos(r) - i[1] * Math.sin(r)),
              (o[1] = i[0] * Math.sin(r) + i[1] * Math.cos(r)),
              (o[2] = i[2]),
              (t[0] = o[0] + n[0]),
              (t[1] = o[1] + n[1]),
              (t[2] = o[2] + n[2]),
              t
            );
          }
          function G(t, e) {
            var n = t[0],
              r = t[1],
              i = t[2],
              o = e[0],
              a = e[1],
              s = e[2],
              u = Math.sqrt(n * n + r * r + i * i) * Math.sqrt(o * o + a * a + s * s),
              c = u && A(t, e) / u;
            return Math.acos(Math.min(Math.max(c, -1), 1));
          }
          function z(t) {
            return (t[0] = 0), (t[1] = 0), (t[2] = 0), t;
          }
          function F(t) {
            return 'vec3(' + t[0] + ', ' + t[1] + ', ' + t[2] + ')';
          }
          function U(t, e) {
            return t[0] === e[0] && t[1] === e[1] && t[2] === e[2];
          }
          function V(t, e) {
            var n = t[0],
              i = t[1],
              o = t[2],
              a = e[0],
              s = e[1],
              u = e[2];
            return (
              Math.abs(n - a) <= r.Ib * Math.max(1, Math.abs(n), Math.abs(a)) &&
              Math.abs(i - s) <= r.Ib * Math.max(1, Math.abs(i), Math.abs(s)) &&
              Math.abs(o - u) <= r.Ib * Math.max(1, Math.abs(o), Math.abs(u))
            );
          }
          var W,
            Y = h,
            X = f,
            H = d,
            q = _,
            K = w,
            Z = a,
            $ = E,
            Q =
              ((W = i()),
              function (t, e, n, r, i, o) {
                var a, s;
                for (
                  e || (e = 3),
                    n || (n = 0),
                    s = r ? Math.min(r * e + n, t.length) : t.length,
                    a = n;
                  a < s;
                  a += e
                )
                  (W[0] = t[a]),
                    (W[1] = t[a + 1]),
                    (W[2] = t[a + 2]),
                    i(W, W, o),
                    (t[a] = W[0]),
                    (t[a + 1] = W[1]),
                    (t[a + 2] = W[2]);
                return t;
              });
        },
        9550: (t) => {
          t.exports = function (t, e, n) {
            return (t[0] = e[0] + n[0]), (t[1] = e[1] + n[1]), t;
          };
        },
        2189: (t) => {
          t.exports = function (t, e) {
            return (t[0] = Math.ceil(e[0])), (t[1] = Math.ceil(e[1])), t;
          };
        },
        6057: (t) => {
          t.exports = function (t) {
            var e = new Float32Array(2);
            return (e[0] = t[0]), (e[1] = t[1]), e;
          };
        },
        3492: (t) => {
          t.exports = function (t, e) {
            return (t[0] = e[0]), (t[1] = e[1]), t;
          };
        },
        1589: (t) => {
          t.exports = function () {
            var t = new Float32Array(2);
            return (t[0] = 0), (t[1] = 0), t;
          };
        },
        7741: (t) => {
          t.exports = function (t, e, n) {
            var r = e[0] * n[1] - e[1] * n[0];
            return (t[0] = t[1] = 0), (t[2] = r), t;
          };
        },
        278: (t, e, n) => {
          t.exports = n(7953);
        },
        7953: (t) => {
          t.exports = function (t, e) {
            var n = e[0] - t[0],
              r = e[1] - t[1];
            return Math.sqrt(n * n + r * r);
          };
        },
        9973: (t, e, n) => {
          t.exports = n(6773);
        },
        6773: (t) => {
          t.exports = function (t, e, n) {
            return (t[0] = e[0] / n[0]), (t[1] = e[1] / n[1]), t;
          };
        },
        6601: (t) => {
          t.exports = function (t, e) {
            return t[0] * e[0] + t[1] * e[1];
          };
        },
        9936: (t) => {
          t.exports = 1e-6;
        },
        1232: (t, e, n) => {
          t.exports = function (t, e) {
            var n = t[0],
              i = t[1],
              o = e[0],
              a = e[1];
            return (
              Math.abs(n - o) <= r * Math.max(1, Math.abs(n), Math.abs(o)) &&
              Math.abs(i - a) <= r * Math.max(1, Math.abs(i), Math.abs(a))
            );
          };
          var r = n(9936);
        },
        9546: (t) => {
          t.exports = function (t, e) {
            return t[0] === e[0] && t[1] === e[1];
          };
        },
        7744: (t) => {
          t.exports = function (t, e) {
            return (t[0] = Math.floor(e[0])), (t[1] = Math.floor(e[1])), t;
          };
        },
        9002: (t, e, n) => {
          t.exports = function (t, e, n, i, o, a) {
            var s, u;
            for (
              e || (e = 2), n || (n = 0), u = i ? Math.min(i * e + n, t.length) : t.length, s = n;
              s < u;
              s += e
            )
              (r[0] = t[s]), (r[1] = t[s + 1]), o(r, r, a), (t[s] = r[0]), (t[s + 1] = r[1]);
            return t;
          };
          var r = n(1589)();
        },
        9878: (t) => {
          t.exports = function (t, e) {
            var n = new Float32Array(2);
            return (n[0] = t), (n[1] = e), n;
          };
        },
        2644: (t, e, n) => {
          t.exports = {
            EPSILON: n(9936),
            create: n(1589),
            clone: n(6057),
            fromValues: n(9878),
            copy: n(3492),
            set: n(8854),
            equals: n(1232),
            exactEquals: n(9546),
            add: n(9550),
            subtract: n(3650),
            sub: n(5222),
            multiply: n(9920),
            mul: n(2314),
            divide: n(6773),
            div: n(9973),
            inverse: n(3793),
            min: n(676),
            max: n(7899),
            rotate: n(8677),
            floor: n(7744),
            ceil: n(2189),
            round: n(7074),
            scale: n(7838),
            scaleAndAdd: n(1066),
            distance: n(7953),
            dist: n(278),
            squaredDistance: n(7126),
            sqrDist: n(9569),
            length: n(7781),
            len: n(8123),
            squaredLength: n(6791),
            sqrLen: n(1791),
            negate: n(549),
            normalize: n(6820),
            dot: n(6601),
            cross: n(7741),
            lerp: n(577),
            random: n(5773),
            transformMat2: n(904),
            transformMat2d: n(736),
            transformMat3: n(221),
            transformMat4: n(7674),
            forEach: n(9002),
            limit: n(2418),
          };
        },
        3793: (t) => {
          t.exports = function (t, e) {
            return (t[0] = 1 / e[0]), (t[1] = 1 / e[1]), t;
          };
        },
        8123: (t, e, n) => {
          t.exports = n(7781);
        },
        7781: (t) => {
          t.exports = function (t) {
            var e = t[0],
              n = t[1];
            return Math.sqrt(e * e + n * n);
          };
        },
        577: (t) => {
          t.exports = function (t, e, n, r) {
            var i = e[0],
              o = e[1];
            return (t[0] = i + r * (n[0] - i)), (t[1] = o + r * (n[1] - o)), t;
          };
        },
        2418: (t) => {
          t.exports = function (t, e, n) {
            var r = e[0] * e[0] + e[1] * e[1];
            if (r > n * n) {
              var i = Math.sqrt(r);
              (t[0] = (e[0] / i) * n), (t[1] = (e[1] / i) * n);
            } else (t[0] = e[0]), (t[1] = e[1]);
            return t;
          };
        },
        7899: (t) => {
          t.exports = function (t, e, n) {
            return (t[0] = Math.max(e[0], n[0])), (t[1] = Math.max(e[1], n[1])), t;
          };
        },
        676: (t) => {
          t.exports = function (t, e, n) {
            return (t[0] = Math.min(e[0], n[0])), (t[1] = Math.min(e[1], n[1])), t;
          };
        },
        2314: (t, e, n) => {
          t.exports = n(9920);
        },
        9920: (t) => {
          t.exports = function (t, e, n) {
            return (t[0] = e[0] * n[0]), (t[1] = e[1] * n[1]), t;
          };
        },
        549: (t) => {
          t.exports = function (t, e) {
            return (t[0] = -e[0]), (t[1] = -e[1]), t;
          };
        },
        6820: (t) => {
          t.exports = function (t, e) {
            var n = e[0],
              r = e[1],
              i = n * n + r * r;
            return i > 0 && ((i = 1 / Math.sqrt(i)), (t[0] = e[0] * i), (t[1] = e[1] * i)), t;
          };
        },
        5773: (t) => {
          t.exports = function (t, e) {
            e = e || 1;
            var n = 2 * Math.random() * Math.PI;
            return (t[0] = Math.cos(n) * e), (t[1] = Math.sin(n) * e), t;
          };
        },
        8677: (t) => {
          t.exports = function (t, e, n) {
            var r = Math.cos(n),
              i = Math.sin(n),
              o = e[0],
              a = e[1];
            return (t[0] = o * r - a * i), (t[1] = o * i + a * r), t;
          };
        },
        7074: (t) => {
          t.exports = function (t, e) {
            return (t[0] = Math.round(e[0])), (t[1] = Math.round(e[1])), t;
          };
        },
        7838: (t) => {
          t.exports = function (t, e, n) {
            return (t[0] = e[0] * n), (t[1] = e[1] * n), t;
          };
        },
        1066: (t) => {
          t.exports = function (t, e, n, r) {
            return (t[0] = e[0] + n[0] * r), (t[1] = e[1] + n[1] * r), t;
          };
        },
        8854: (t) => {
          t.exports = function (t, e, n) {
            return (t[0] = e), (t[1] = n), t;
          };
        },
        9569: (t, e, n) => {
          t.exports = n(7126);
        },
        1791: (t, e, n) => {
          t.exports = n(6791);
        },
        7126: (t) => {
          t.exports = function (t, e) {
            var n = e[0] - t[0],
              r = e[1] - t[1];
            return n * n + r * r;
          };
        },
        6791: (t) => {
          t.exports = function (t) {
            var e = t[0],
              n = t[1];
            return e * e + n * n;
          };
        },
        5222: (t, e, n) => {
          t.exports = n(3650);
        },
        3650: (t) => {
          t.exports = function (t, e, n) {
            return (t[0] = e[0] - n[0]), (t[1] = e[1] - n[1]), t;
          };
        },
        904: (t) => {
          t.exports = function (t, e, n) {
            var r = e[0],
              i = e[1];
            return (t[0] = n[0] * r + n[2] * i), (t[1] = n[1] * r + n[3] * i), t;
          };
        },
        736: (t) => {
          t.exports = function (t, e, n) {
            var r = e[0],
              i = e[1];
            return (t[0] = n[0] * r + n[2] * i + n[4]), (t[1] = n[1] * r + n[3] * i + n[5]), t;
          };
        },
        221: (t) => {
          t.exports = function (t, e, n) {
            var r = e[0],
              i = e[1];
            return (t[0] = n[0] * r + n[3] * i + n[6]), (t[1] = n[1] * r + n[4] * i + n[7]), t;
          };
        },
        7674: (t) => {
          t.exports = function (t, e, n) {
            var r = e[0],
              i = e[1];
            return (t[0] = n[0] * r + n[4] * i + n[12]), (t[1] = n[1] * r + n[5] * i + n[13]), t;
          };
        },
        8186: (t) => {
          var e = [],
            n = [];
          function r(t, r) {
            if (((r = r || {}), void 0 === t))
              throw new Error(
                'insert-css: You need to provide a CSS string. Usage: insertCss(cssString[, options]).',
              );
            var i,
              o = !0 === r.prepend ? 'prepend' : 'append',
              a = void 0 !== r.container ? r.container : document.querySelector('head'),
              s = e.indexOf(a);
            return (
              -1 === s && ((s = e.push(a) - 1), (n[s] = {})),
              void 0 !== n[s] && void 0 !== n[s][o]
                ? (i = n[s][o])
                : ((i = n[s][o] =
                    (function () {
                      var t = document.createElement('style');
                      return t.setAttribute('type', 'text/css'), t;
                    })()),
                  'prepend' === o ? a.insertBefore(i, a.childNodes[0]) : a.appendChild(i)),
              65279 === t.charCodeAt(0) && (t = t.substr(1, t.length)),
              i.styleSheet ? (i.styleSheet.cssText += t) : (i.textContent += t),
              i
            );
          }
          (t.exports = r), (t.exports.insertCss = r);
        },
        7375: (t, e) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 });
          var n = Symbol.for('INJECTION');
          function r(t, e, r, i) {
            Object.defineProperty(t, e, {
              configurable: !0,
              enumerable: !0,
              get: function () {
                return (
                  i && !Reflect.hasMetadata(n, this, e) && Reflect.defineMetadata(n, r(), this, e),
                  Reflect.hasMetadata(n, this, e) ? Reflect.getMetadata(n, this, e) : r()
                );
              },
              set: function (t) {
                Reflect.defineMetadata(n, t, this, e);
              },
            });
          }
          (e.makePropertyInjectDecorator = function (t, e) {
            return function (n) {
              return function (i, o) {
                r(
                  i,
                  o,
                  function () {
                    return t.get(n);
                  },
                  e,
                );
              };
            };
          }),
            (e.makePropertyInjectNamedDecorator = function (t, e) {
              return function (n, i) {
                return function (o, a) {
                  r(
                    o,
                    a,
                    function () {
                      return t.getNamed(n, i);
                    },
                    e,
                  );
                };
              };
            }),
            (e.makePropertyInjectTaggedDecorator = function (t, e) {
              return function (n, i, o) {
                return function (a, s) {
                  r(
                    a,
                    s,
                    function () {
                      return t.getTagged(n, i, o);
                    },
                    e,
                  );
                };
              };
            }),
            (e.makePropertyMultiInjectDecorator = function (t, e) {
              return function (n) {
                return function (i, o) {
                  r(
                    i,
                    o,
                    function () {
                      return t.getAll(n);
                    },
                    e,
                  );
                };
              };
            });
        },
        4879: (t, e, n) => {
          'use strict';
          var r = n(7375);
          e.Z = function (t, e) {
            return (
              void 0 === e && (e = !0),
              {
                lazyInject: r.makePropertyInjectDecorator(t, e),
                lazyInjectNamed: r.makePropertyInjectNamedDecorator(t, e),
                lazyInjectTagged: r.makePropertyInjectTaggedDecorator(t, e),
                lazyMultiInject: r.makePropertyMultiInjectDecorator(t, e),
              }
            );
          };
        },
        9934: (t, e, n) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }),
            (e.tagProperty = e.tagParameter = e.decorate = void 0);
          var r = n(6674),
            i = n(6867);
          function o(t, e, n, i, o) {
            var a = {},
              s = 'number' == typeof o,
              u = void 0 !== o && s ? o.toString() : n;
            if (s && void 0 !== n) throw new Error(r.INVALID_DECORATOR_OPERATION);
            Reflect.hasOwnMetadata(t, e) && (a = Reflect.getMetadata(t, e));
            var c = a[u];
            if (Array.isArray(c))
              for (var l = 0, h = c; l < h.length; l++) {
                var f = h[l];
                if (f.key === i.key)
                  throw new Error(r.DUPLICATED_METADATA + ' ' + f.key.toString());
              }
            else c = [];
            c.push(i), (a[u] = c), Reflect.defineMetadata(t, a, e);
          }
          function a(t, e) {
            Reflect.decorate(t, e);
          }
          function s(t, e) {
            return function (n, r) {
              e(n, r, t);
            };
          }
          (e.tagParameter = function (t, e, n, r) {
            o(i.TAGGED, t, e, r, n);
          }),
            (e.tagProperty = function (t, e, n) {
              o(i.TAGGED_PROP, t.constructor, e, n);
            }),
            (e.decorate = function (t, e, n) {
              'number' == typeof n
                ? a([s(n, t)], e)
                : 'string' == typeof n
                ? Reflect.decorate([t], e, n)
                : a([t], e);
            });
        },
        5744: (t, e, n) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }),
            (e.inject = e.LazyServiceIdentifer = void 0);
          var r = n(6674),
            i = n(6867),
            o = n(7738),
            a = n(9934),
            s = (function () {
              function t(t) {
                this._cb = t;
              }
              return (
                (t.prototype.unwrap = function () {
                  return this._cb();
                }),
                t
              );
            })();
          (e.LazyServiceIdentifer = s),
            (e.inject = function (t) {
              return function (e, n, s) {
                if (void 0 === t) throw new Error(r.UNDEFINED_INJECT_ANNOTATION(e.name));
                var u = new o.Metadata(i.INJECT_TAG, t);
                'number' == typeof s ? a.tagParameter(e, n, s, u) : a.tagProperty(e, n, u);
              };
            });
        },
        4315: (t, e, n) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }), (e.injectable = void 0);
          var r = n(6674),
            i = n(6867);
          e.injectable = function () {
            return function (t) {
              if (Reflect.hasOwnMetadata(i.PARAM_TYPES, t))
                throw new Error(r.DUPLICATED_INJECTABLE_DECORATOR);
              var e = Reflect.getMetadata(i.DESIGN_PARAM_TYPES, t) || [];
              return Reflect.defineMetadata(i.PARAM_TYPES, e, t), t;
            };
          };
        },
        1693: (t, e, n) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }), (e.multiInject = void 0);
          var r = n(6867),
            i = n(7738),
            o = n(9934);
          e.multiInject = function (t) {
            return function (e, n, a) {
              var s = new i.Metadata(r.MULTI_INJECT_TAG, t);
              'number' == typeof a ? o.tagParameter(e, n, a, s) : o.tagProperty(e, n, s);
            };
          };
        },
        8085: (t, e, n) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }), (e.named = void 0);
          var r = n(6867),
            i = n(7738),
            o = n(9934);
          e.named = function (t) {
            return function (e, n, a) {
              var s = new i.Metadata(r.NAMED_TAG, t);
              'number' == typeof a ? o.tagParameter(e, n, a, s) : o.tagProperty(e, n, s);
            };
          };
        },
        6515: (t, e, n) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }), (e.optional = void 0);
          var r = n(6867),
            i = n(7738),
            o = n(9934);
          e.optional = function () {
            return function (t, e, n) {
              var a = new i.Metadata(r.OPTIONAL_TAG, !0);
              'number' == typeof n ? o.tagParameter(t, e, n, a) : o.tagProperty(t, e, a);
            };
          };
        },
        7014: (t, e, n) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }), (e.postConstruct = void 0);
          var r = n(6674),
            i = n(6867),
            o = n(7738);
          e.postConstruct = function () {
            return function (t, e, n) {
              var a = new o.Metadata(i.POST_CONSTRUCT, e);
              if (Reflect.hasOwnMetadata(i.POST_CONSTRUCT, t.constructor))
                throw new Error(r.MULTIPLE_POST_CONSTRUCT_METHODS);
              Reflect.defineMetadata(i.POST_CONSTRUCT, a, t.constructor);
            };
          };
        },
        2052: (t, e, n) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }), (e.tagged = void 0);
          var r = n(7738),
            i = n(9934);
          e.tagged = function (t, e) {
            return function (n, o, a) {
              var s = new r.Metadata(t, e);
              'number' == typeof a ? i.tagParameter(n, o, a, s) : i.tagProperty(n, o, s);
            };
          };
        },
        5638: (t, e, n) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }), (e.targetName = void 0);
          var r = n(6867),
            i = n(7738),
            o = n(9934);
          e.targetName = function (t) {
            return function (e, n, a) {
              var s = new i.Metadata(r.NAME_TAG, t);
              o.tagParameter(e, n, a, s);
            };
          };
        },
        6757: (t, e, n) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }), (e.unmanaged = void 0);
          var r = n(6867),
            i = n(7738),
            o = n(9934);
          e.unmanaged = function () {
            return function (t, e, n) {
              var a = new i.Metadata(r.UNMANAGED_TAG, !0);
              o.tagParameter(t, e, n, a);
            };
          };
        },
        4290: (t, e, n) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }), (e.Binding = void 0);
          var r = n(8421),
            i = n(7791),
            o = (function () {
              function t(t, e) {
                (this.id = i.id()),
                  (this.activated = !1),
                  (this.serviceIdentifier = t),
                  (this.scope = e),
                  (this.type = r.BindingTypeEnum.Invalid),
                  (this.constraint = function (t) {
                    return !0;
                  }),
                  (this.implementationType = null),
                  (this.cache = null),
                  (this.factory = null),
                  (this.provider = null),
                  (this.onActivation = null),
                  (this.dynamicValue = null);
              }
              return (
                (t.prototype.clone = function () {
                  var e = new t(this.serviceIdentifier, this.scope);
                  return (
                    (e.activated = e.scope === r.BindingScopeEnum.Singleton && this.activated),
                    (e.implementationType = this.implementationType),
                    (e.dynamicValue = this.dynamicValue),
                    (e.scope = this.scope),
                    (e.type = this.type),
                    (e.factory = this.factory),
                    (e.provider = this.provider),
                    (e.constraint = this.constraint),
                    (e.onActivation = this.onActivation),
                    (e.cache = this.cache),
                    e
                  );
                }),
                t
              );
            })();
          e.Binding = o;
        },
        3184: (t, e) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }),
            (e.BindingCount = void 0),
            (e.BindingCount = {
              MultipleBindingsAvailable: 2,
              NoBindingsAvailable: 0,
              OnlyOneBindingAvailable: 1,
            });
        },
        6674: (t, e) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }),
            (e.STACK_OVERFLOW =
              e.CIRCULAR_DEPENDENCY_IN_FACTORY =
              e.POST_CONSTRUCT_ERROR =
              e.MULTIPLE_POST_CONSTRUCT_METHODS =
              e.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK =
              e.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE =
              e.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE =
              e.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT =
              e.ARGUMENTS_LENGTH_MISMATCH =
              e.INVALID_DECORATOR_OPERATION =
              e.INVALID_TO_SELF_VALUE =
              e.INVALID_FUNCTION_BINDING =
              e.INVALID_MIDDLEWARE_RETURN =
              e.NO_MORE_SNAPSHOTS_AVAILABLE =
              e.INVALID_BINDING_TYPE =
              e.NOT_IMPLEMENTED =
              e.CIRCULAR_DEPENDENCY =
              e.UNDEFINED_INJECT_ANNOTATION =
              e.MISSING_INJECT_ANNOTATION =
              e.MISSING_INJECTABLE_ANNOTATION =
              e.NOT_REGISTERED =
              e.CANNOT_UNBIND =
              e.AMBIGUOUS_MATCH =
              e.KEY_NOT_FOUND =
              e.NULL_ARGUMENT =
              e.DUPLICATED_METADATA =
              e.DUPLICATED_INJECTABLE_DECORATOR =
                void 0),
            (e.DUPLICATED_INJECTABLE_DECORATOR =
              'Cannot apply @injectable decorator multiple times.'),
            (e.DUPLICATED_METADATA = 'Metadata key was used more than once in a parameter:'),
            (e.NULL_ARGUMENT = 'NULL argument'),
            (e.KEY_NOT_FOUND = 'Key Not Found'),
            (e.AMBIGUOUS_MATCH = 'Ambiguous match found for serviceIdentifier:'),
            (e.CANNOT_UNBIND = 'Could not unbind serviceIdentifier:'),
            (e.NOT_REGISTERED = 'No matching bindings found for serviceIdentifier:'),
            (e.MISSING_INJECTABLE_ANNOTATION = 'Missing required @injectable annotation in:'),
            (e.MISSING_INJECT_ANNOTATION =
              'Missing required @inject or @multiInject annotation in:'),
            (e.UNDEFINED_INJECT_ANNOTATION = function (t) {
              return (
                '@inject called with undefined this could mean that the class ' +
                t +
                ' has a circular dependency problem. You can use a LazyServiceIdentifer to  overcome this limitation.'
              );
            }),
            (e.CIRCULAR_DEPENDENCY = 'Circular dependency found:'),
            (e.NOT_IMPLEMENTED = 'Sorry, this feature is not fully implemented yet.'),
            (e.INVALID_BINDING_TYPE = 'Invalid binding type:'),
            (e.NO_MORE_SNAPSHOTS_AVAILABLE = 'No snapshot available to restore.'),
            (e.INVALID_MIDDLEWARE_RETURN =
              'Invalid return type in middleware. Middleware must return!'),
            (e.INVALID_FUNCTION_BINDING = 'Value provided to function binding must be a function!'),
            (e.INVALID_TO_SELF_VALUE =
              'The toSelf function can only be applied when a constructor is used as service identifier'),
            (e.INVALID_DECORATOR_OPERATION =
              'The @inject @multiInject @tagged and @named decorators must be applied to the parameters of a class constructor or a class property.'),
            (e.ARGUMENTS_LENGTH_MISMATCH = function () {
              for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
              return (
                'The number of constructor arguments in the derived class ' +
                t[0] +
                ' must be >= than the number of constructor arguments of its base class.'
              );
            }),
            (e.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT =
              'Invalid Container constructor argument. Container options must be an object.'),
            (e.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE =
              "Invalid Container option. Default scope must be a string ('singleton' or 'transient')."),
            (e.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE =
              'Invalid Container option. Auto bind injectable must be a boolean'),
            (e.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK =
              'Invalid Container option. Skip base check must be a boolean'),
            (e.MULTIPLE_POST_CONSTRUCT_METHODS =
              'Cannot apply @postConstruct decorator multiple times in the same class'),
            (e.POST_CONSTRUCT_ERROR = function () {
              for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
              return '@postConstruct error in class ' + t[0] + ': ' + t[1];
            }),
            (e.CIRCULAR_DEPENDENCY_IN_FACTORY = function () {
              for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
              return (
                "It looks like there is a circular dependency in one of the '" +
                t[0] +
                "' bindings. Please investigate bindings withservice identifier '" +
                t[1] +
                "'."
              );
            }),
            (e.STACK_OVERFLOW = 'Maximum call stack size exceeded');
        },
        8421: (t, e) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }),
            (e.TargetTypeEnum = e.BindingTypeEnum = e.BindingScopeEnum = void 0),
            (e.BindingScopeEnum = {
              Request: 'Request',
              Singleton: 'Singleton',
              Transient: 'Transient',
            }),
            (e.BindingTypeEnum = {
              ConstantValue: 'ConstantValue',
              Constructor: 'Constructor',
              DynamicValue: 'DynamicValue',
              Factory: 'Factory',
              Function: 'Function',
              Instance: 'Instance',
              Invalid: 'Invalid',
              Provider: 'Provider',
            }),
            (e.TargetTypeEnum = {
              ClassProperty: 'ClassProperty',
              ConstructorArgument: 'ConstructorArgument',
              Variable: 'Variable',
            });
        },
        6867: (t, e) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }),
            (e.NON_CUSTOM_TAG_KEYS =
              e.POST_CONSTRUCT =
              e.DESIGN_PARAM_TYPES =
              e.PARAM_TYPES =
              e.TAGGED_PROP =
              e.TAGGED =
              e.MULTI_INJECT_TAG =
              e.INJECT_TAG =
              e.OPTIONAL_TAG =
              e.UNMANAGED_TAG =
              e.NAME_TAG =
              e.NAMED_TAG =
                void 0),
            (e.NAMED_TAG = 'named'),
            (e.NAME_TAG = 'name'),
            (e.UNMANAGED_TAG = 'unmanaged'),
            (e.OPTIONAL_TAG = 'optional'),
            (e.INJECT_TAG = 'inject'),
            (e.MULTI_INJECT_TAG = 'multi_inject'),
            (e.TAGGED = 'inversify:tagged'),
            (e.TAGGED_PROP = 'inversify:tagged_props'),
            (e.PARAM_TYPES = 'inversify:paramtypes'),
            (e.DESIGN_PARAM_TYPES = 'design:paramtypes'),
            (e.POST_CONSTRUCT = 'post_construct'),
            (e.NON_CUSTOM_TAG_KEYS = [
              e.INJECT_TAG,
              e.MULTI_INJECT_TAG,
              e.NAME_TAG,
              e.UNMANAGED_TAG,
              e.NAMED_TAG,
              e.OPTIONAL_TAG,
            ]);
        },
        1389: function (t, e, n) {
          'use strict';
          var r =
              (this && this.__awaiter) ||
              function (t, e, n, r) {
                return new (n || (n = Promise))(function (i, o) {
                  function a(t) {
                    try {
                      u(r.next(t));
                    } catch (t) {
                      o(t);
                    }
                  }
                  function s(t) {
                    try {
                      u(r.throw(t));
                    } catch (t) {
                      o(t);
                    }
                  }
                  function u(t) {
                    var e;
                    t.done
                      ? i(t.value)
                      : ((e = t.value),
                        e instanceof n
                          ? e
                          : new n(function (t) {
                              t(e);
                            })).then(a, s);
                  }
                  u((r = r.apply(t, e || [])).next());
                });
              },
            i =
              (this && this.__generator) ||
              function (t, e) {
                var n,
                  r,
                  i,
                  o,
                  a = {
                    label: 0,
                    sent: function () {
                      if (1 & i[0]) throw i[1];
                      return i[1];
                    },
                    trys: [],
                    ops: [],
                  };
                return (
                  (o = { next: s(0), throw: s(1), return: s(2) }),
                  'function' == typeof Symbol &&
                    (o[Symbol.iterator] = function () {
                      return this;
                    }),
                  o
                );
                function s(o) {
                  return function (s) {
                    return (function (o) {
                      if (n) throw new TypeError('Generator is already executing.');
                      for (; a; )
                        try {
                          if (
                            ((n = 1),
                            r &&
                              (i =
                                2 & o[0]
                                  ? r.return
                                  : o[0]
                                  ? r.throw || ((i = r.return) && i.call(r), 0)
                                  : r.next) &&
                              !(i = i.call(r, o[1])).done)
                          )
                            return i;
                          switch (((r = 0), i && (o = [2 & o[0], i.value]), o[0])) {
                            case 0:
                            case 1:
                              i = o;
                              break;
                            case 4:
                              return a.label++, { value: o[1], done: !1 };
                            case 5:
                              a.label++, (r = o[1]), (o = [0]);
                              continue;
                            case 7:
                              (o = a.ops.pop()), a.trys.pop();
                              continue;
                            default:
                              if (
                                !(
                                  (i = (i = a.trys).length > 0 && i[i.length - 1]) ||
                                  (6 !== o[0] && 2 !== o[0])
                                )
                              ) {
                                a = 0;
                                continue;
                              }
                              if (3 === o[0] && (!i || (o[1] > i[0] && o[1] < i[3]))) {
                                a.label = o[1];
                                break;
                              }
                              if (6 === o[0] && a.label < i[1]) {
                                (a.label = i[1]), (i = o);
                                break;
                              }
                              if (i && a.label < i[2]) {
                                (a.label = i[2]), a.ops.push(o);
                                break;
                              }
                              i[2] && a.ops.pop(), a.trys.pop();
                              continue;
                          }
                          o = e.call(t, a);
                        } catch (t) {
                          (o = [6, t]), (r = 0);
                        } finally {
                          n = i = 0;
                        }
                      if (5 & o[0]) throw o[1];
                      return { value: o[0] ? o[1] : void 0, done: !0 };
                    })([o, s]);
                  };
                }
              },
            o =
              (this && this.__spreadArray) ||
              function (t, e) {
                for (var n = 0, r = e.length, i = t.length; n < r; n++, i++) t[i] = e[n];
                return t;
              };
          Object.defineProperty(e, '__esModule', { value: !0 }), (e.Container = void 0);
          var a = n(4290),
            s = n(6674),
            u = n(8421),
            c = n(6867),
            l = n(1377),
            h = n(6311),
            f = n(1927),
            d = n(1860),
            p = n(7791),
            g = n(5800),
            v = n(5700),
            y = n(175),
            m = (function () {
              function t(t) {
                this._appliedMiddleware = [];
                var e = t || {};
                if ('object' != typeof e)
                  throw new Error('' + s.CONTAINER_OPTIONS_MUST_BE_AN_OBJECT);
                if (void 0 === e.defaultScope) e.defaultScope = u.BindingScopeEnum.Transient;
                else if (
                  e.defaultScope !== u.BindingScopeEnum.Singleton &&
                  e.defaultScope !== u.BindingScopeEnum.Transient &&
                  e.defaultScope !== u.BindingScopeEnum.Request
                )
                  throw new Error('' + s.CONTAINER_OPTIONS_INVALID_DEFAULT_SCOPE);
                if (void 0 === e.autoBindInjectable) e.autoBindInjectable = !1;
                else if ('boolean' != typeof e.autoBindInjectable)
                  throw new Error('' + s.CONTAINER_OPTIONS_INVALID_AUTO_BIND_INJECTABLE);
                if (void 0 === e.skipBaseClassChecks) e.skipBaseClassChecks = !1;
                else if ('boolean' != typeof e.skipBaseClassChecks)
                  throw new Error('' + s.CONTAINER_OPTIONS_INVALID_SKIP_BASE_CHECK);
                (this.options = {
                  autoBindInjectable: e.autoBindInjectable,
                  defaultScope: e.defaultScope,
                  skipBaseClassChecks: e.skipBaseClassChecks,
                }),
                  (this.id = p.id()),
                  (this._bindingDictionary = new y.Lookup()),
                  (this._snapshots = []),
                  (this._middleware = null),
                  (this.parent = null),
                  (this._metadataReader = new l.MetadataReader());
              }
              return (
                (t.merge = function (e, n) {
                  for (var r = [], i = 2; i < arguments.length; i++) r[i - 2] = arguments[i];
                  var a = new t(),
                    s = o([e, n], r).map(function (t) {
                      return h.getBindingDictionary(t);
                    }),
                    u = h.getBindingDictionary(a);
                  function c(t, e) {
                    t.traverse(function (t, n) {
                      n.forEach(function (t) {
                        e.add(t.serviceIdentifier, t.clone());
                      });
                    });
                  }
                  return (
                    s.forEach(function (t) {
                      c(t, u);
                    }),
                    a
                  );
                }),
                (t.prototype.load = function () {
                  for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
                  for (
                    var n = this._getContainerModuleHelpersFactory(), r = 0, i = t;
                    r < i.length;
                    r++
                  ) {
                    var o = i[r],
                      a = n(o.id);
                    o.registry(
                      a.bindFunction,
                      a.unbindFunction,
                      a.isboundFunction,
                      a.rebindFunction,
                    );
                  }
                }),
                (t.prototype.loadAsync = function () {
                  for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
                  return r(this, void 0, void 0, function () {
                    var e, n, r, o, a;
                    return i(this, function (i) {
                      switch (i.label) {
                        case 0:
                          (e = this._getContainerModuleHelpersFactory()),
                            (n = 0),
                            (r = t),
                            (i.label = 1);
                        case 1:
                          return n < r.length
                            ? ((o = r[n]),
                              (a = e(o.id)),
                              [
                                4,
                                o.registry(
                                  a.bindFunction,
                                  a.unbindFunction,
                                  a.isboundFunction,
                                  a.rebindFunction,
                                ),
                              ])
                            : [3, 4];
                        case 2:
                          i.sent(), (i.label = 3);
                        case 3:
                          return n++, [3, 1];
                        case 4:
                          return [2];
                      }
                    });
                  });
                }),
                (t.prototype.unload = function () {
                  for (var t = this, e = [], n = 0; n < arguments.length; n++) e[n] = arguments[n];
                  var r = function (t) {
                    return function (e) {
                      return e.moduleId === t;
                    };
                  };
                  e.forEach(function (e) {
                    var n = r(e.id);
                    t._bindingDictionary.removeByCondition(n);
                  });
                }),
                (t.prototype.bind = function (t) {
                  var e = this.options.defaultScope || u.BindingScopeEnum.Transient,
                    n = new a.Binding(t, e);
                  return this._bindingDictionary.add(t, n), new d.BindingToSyntax(n);
                }),
                (t.prototype.rebind = function (t) {
                  return this.unbind(t), this.bind(t);
                }),
                (t.prototype.unbind = function (t) {
                  try {
                    this._bindingDictionary.remove(t);
                  } catch (e) {
                    throw new Error(s.CANNOT_UNBIND + ' ' + g.getServiceIdentifierAsString(t));
                  }
                }),
                (t.prototype.unbindAll = function () {
                  this._bindingDictionary = new y.Lookup();
                }),
                (t.prototype.isBound = function (t) {
                  var e = this._bindingDictionary.hasKey(t);
                  return !e && this.parent && (e = this.parent.isBound(t)), e;
                }),
                (t.prototype.isBoundNamed = function (t, e) {
                  return this.isBoundTagged(t, c.NAMED_TAG, e);
                }),
                (t.prototype.isBoundTagged = function (t, e, n) {
                  var r = !1;
                  if (this._bindingDictionary.hasKey(t)) {
                    var i = this._bindingDictionary.get(t),
                      o = h.createMockRequest(this, t, e, n);
                    r = i.some(function (t) {
                      return t.constraint(o);
                    });
                  }
                  return !r && this.parent && (r = this.parent.isBoundTagged(t, e, n)), r;
                }),
                (t.prototype.snapshot = function () {
                  this._snapshots.push(
                    v.ContainerSnapshot.of(this._bindingDictionary.clone(), this._middleware),
                  );
                }),
                (t.prototype.restore = function () {
                  var t = this._snapshots.pop();
                  if (void 0 === t) throw new Error(s.NO_MORE_SNAPSHOTS_AVAILABLE);
                  (this._bindingDictionary = t.bindings), (this._middleware = t.middleware);
                }),
                (t.prototype.createChild = function (e) {
                  var n = new t(e || this.options);
                  return (n.parent = this), n;
                }),
                (t.prototype.applyMiddleware = function () {
                  for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
                  this._appliedMiddleware = this._appliedMiddleware.concat(t);
                  var n = this._middleware ? this._middleware : this._planAndResolve();
                  this._middleware = t.reduce(function (t, e) {
                    return e(t);
                  }, n);
                }),
                (t.prototype.applyCustomMetadataReader = function (t) {
                  this._metadataReader = t;
                }),
                (t.prototype.get = function (t) {
                  return this._get(!1, !1, u.TargetTypeEnum.Variable, t);
                }),
                (t.prototype.getTagged = function (t, e, n) {
                  return this._get(!1, !1, u.TargetTypeEnum.Variable, t, e, n);
                }),
                (t.prototype.getNamed = function (t, e) {
                  return this.getTagged(t, c.NAMED_TAG, e);
                }),
                (t.prototype.getAll = function (t) {
                  return this._get(!0, !0, u.TargetTypeEnum.Variable, t);
                }),
                (t.prototype.getAllTagged = function (t, e, n) {
                  return this._get(!1, !0, u.TargetTypeEnum.Variable, t, e, n);
                }),
                (t.prototype.getAllNamed = function (t, e) {
                  return this.getAllTagged(t, c.NAMED_TAG, e);
                }),
                (t.prototype.resolve = function (t) {
                  var e = this.createChild();
                  return (
                    e.bind(t).toSelf(),
                    this._appliedMiddleware.forEach(function (t) {
                      e.applyMiddleware(t);
                    }),
                    e.get(t)
                  );
                }),
                (t.prototype._getContainerModuleHelpersFactory = function () {
                  var t = this,
                    e = function (t, e) {
                      t._binding.moduleId = e;
                    },
                    n = function (n) {
                      return function (r) {
                        var i = t.rebind.bind(t)(r);
                        return e(i, n), i;
                      };
                    };
                  return function (r) {
                    return {
                      bindFunction:
                        ((i = r),
                        function (n) {
                          var r = t.bind.bind(t)(n);
                          return e(r, i), r;
                        }),
                      isboundFunction: function (e) {
                        return t.isBound.bind(t)(e);
                      },
                      rebindFunction: n(r),
                      unbindFunction: function (e) {
                        t.unbind.bind(t)(e);
                      },
                    };
                    var i;
                  };
                }),
                (t.prototype._get = function (t, e, n, r, i, o) {
                  var a = null,
                    u = {
                      avoidConstraints: t,
                      contextInterceptor: function (t) {
                        return t;
                      },
                      isMultiInject: e,
                      key: i,
                      serviceIdentifier: r,
                      targetType: n,
                      value: o,
                    };
                  if (this._middleware) {
                    if (null == (a = this._middleware(u)))
                      throw new Error(s.INVALID_MIDDLEWARE_RETURN);
                  } else a = this._planAndResolve()(u);
                  return a;
                }),
                (t.prototype._planAndResolve = function () {
                  var t = this;
                  return function (e) {
                    var n = h.plan(
                      t._metadataReader,
                      t,
                      e.isMultiInject,
                      e.targetType,
                      e.serviceIdentifier,
                      e.key,
                      e.value,
                      e.avoidConstraints,
                    );
                    return (n = e.contextInterceptor(n)), f.resolve(n);
                  };
                }),
                t
              );
            })();
          e.Container = m;
        },
        3244: (t, e, n) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }),
            (e.AsyncContainerModule = e.ContainerModule = void 0);
          var r = n(7791);
          e.ContainerModule = function (t) {
            (this.id = r.id()), (this.registry = t);
          };
          e.AsyncContainerModule = function (t) {
            (this.id = r.id()), (this.registry = t);
          };
        },
        5700: (t, e) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }), (e.ContainerSnapshot = void 0);
          var n = (function () {
            function t() {}
            return (
              (t.of = function (e, n) {
                var r = new t();
                return (r.bindings = e), (r.middleware = n), r;
              }),
              t
            );
          })();
          e.ContainerSnapshot = n;
        },
        175: (t, e, n) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }), (e.Lookup = void 0);
          var r = n(6674),
            i = (function () {
              function t() {
                this._map = new Map();
              }
              return (
                (t.prototype.getMap = function () {
                  return this._map;
                }),
                (t.prototype.add = function (t, e) {
                  if (null == t) throw new Error(r.NULL_ARGUMENT);
                  if (null == e) throw new Error(r.NULL_ARGUMENT);
                  var n = this._map.get(t);
                  void 0 !== n ? (n.push(e), this._map.set(t, n)) : this._map.set(t, [e]);
                }),
                (t.prototype.get = function (t) {
                  if (null == t) throw new Error(r.NULL_ARGUMENT);
                  var e = this._map.get(t);
                  if (void 0 !== e) return e;
                  throw new Error(r.KEY_NOT_FOUND);
                }),
                (t.prototype.remove = function (t) {
                  if (null == t) throw new Error(r.NULL_ARGUMENT);
                  if (!this._map.delete(t)) throw new Error(r.KEY_NOT_FOUND);
                }),
                (t.prototype.removeByCondition = function (t) {
                  var e = this;
                  this._map.forEach(function (n, r) {
                    var i = n.filter(function (e) {
                      return !t(e);
                    });
                    i.length > 0 ? e._map.set(r, i) : e._map.delete(r);
                  });
                }),
                (t.prototype.hasKey = function (t) {
                  if (null == t) throw new Error(r.NULL_ARGUMENT);
                  return this._map.has(t);
                }),
                (t.prototype.clone = function () {
                  var e = new t();
                  return (
                    this._map.forEach(function (t, n) {
                      t.forEach(function (t) {
                        return e.add(n, t.clone());
                      });
                    }),
                    e
                  );
                }),
                (t.prototype.traverse = function (t) {
                  this._map.forEach(function (e, n) {
                    t(n, e);
                  });
                }),
                t
              );
            })();
          e.Lookup = i;
        },
        6700: (t, e, n) => {
          'use strict';
          (e.f3 = e.t6 = e.b2 = e.W2 = void 0), n(6867);
          var r = n(1389);
          Object.defineProperty(e, 'W2', {
            enumerable: !0,
            get: function () {
              return r.Container;
            },
          });
          n(8421), n(3244);
          var i = n(4315);
          Object.defineProperty(e, 'b2', {
            enumerable: !0,
            get: function () {
              return i.injectable;
            },
          });
          n(2052);
          var o = n(8085);
          Object.defineProperty(e, 't6', {
            enumerable: !0,
            get: function () {
              return o.named;
            },
          });
          var a = n(5744);
          Object.defineProperty(e, 'f3', {
            enumerable: !0,
            get: function () {
              return a.inject;
            },
          });
          n(6515),
            n(6757),
            n(1693),
            n(5638),
            n(7014),
            n(1377),
            n(7791),
            n(9934),
            n(758),
            n(5800),
            n(600);
        },
        3113: (t, e, n) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }), (e.Context = void 0);
          var r = n(7791),
            i = (function () {
              function t(t) {
                (this.id = r.id()), (this.container = t);
              }
              return (
                (t.prototype.addPlan = function (t) {
                  this.plan = t;
                }),
                (t.prototype.setCurrentRequest = function (t) {
                  this.currentRequest = t;
                }),
                t
              );
            })();
          e.Context = i;
        },
        7738: (t, e, n) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }), (e.Metadata = void 0);
          var r = n(6867),
            i = (function () {
              function t(t, e) {
                (this.key = t), (this.value = e);
              }
              return (
                (t.prototype.toString = function () {
                  return this.key === r.NAMED_TAG
                    ? 'named: ' + this.value.toString() + ' '
                    : 'tagged: { key:' + this.key.toString() + ', value: ' + this.value + ' }';
                }),
                t
              );
            })();
          e.Metadata = i;
        },
        1377: (t, e, n) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }), (e.MetadataReader = void 0);
          var r = n(6867),
            i = (function () {
              function t() {}
              return (
                (t.prototype.getConstructorMetadata = function (t) {
                  return {
                    compilerGeneratedMetadata: Reflect.getMetadata(r.PARAM_TYPES, t),
                    userGeneratedMetadata: Reflect.getMetadata(r.TAGGED, t) || {},
                  };
                }),
                (t.prototype.getPropertiesMetadata = function (t) {
                  return Reflect.getMetadata(r.TAGGED_PROP, t) || [];
                }),
                t
              );
            })();
          e.MetadataReader = i;
        },
        5314: (t, e) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }), (e.Plan = void 0);
          e.Plan = function (t, e) {
            (this.parentContext = t), (this.rootRequest = e);
          };
        },
        6311: (t, e, n) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }),
            (e.getBindingDictionary = e.createMockRequest = e.plan = void 0);
          var r = n(3184),
            i = n(6674),
            o = n(8421),
            a = n(6867),
            s = n(5265),
            u = n(5800),
            c = n(3113),
            l = n(7738),
            h = n(5314),
            f = n(6e3),
            d = n(6748),
            p = n(8924);
          function g(t) {
            return t._bindingDictionary;
          }
          function v(t, e, n, o, a) {
            var s,
              c = m(n.container, a.serviceIdentifier);
            return (
              c.length === r.BindingCount.NoBindingsAvailable &&
                n.container.options.autoBindInjectable &&
                'function' == typeof a.serviceIdentifier &&
                t.getConstructorMetadata(a.serviceIdentifier).compilerGeneratedMetadata &&
                (n.container.bind(a.serviceIdentifier).toSelf(),
                (c = m(n.container, a.serviceIdentifier))),
              (s = e
                ? c
                : c.filter(function (t) {
                    var e = new d.Request(t.serviceIdentifier, n, o, t, a);
                    return t.constraint(e);
                  })),
              (function (t, e, n, o) {
                switch (e.length) {
                  case r.BindingCount.NoBindingsAvailable:
                    if (n.isOptional()) return e;
                    var a = u.getServiceIdentifierAsString(t),
                      s = i.NOT_REGISTERED;
                    throw (
                      ((s += u.listMetadataForTarget(a, n)),
                      (s += u.listRegisteredBindingsForServiceIdentifier(o, a, m)),
                      new Error(s))
                    );
                  case r.BindingCount.OnlyOneBindingAvailable:
                    if (!n.isArray()) return e;
                  case r.BindingCount.MultipleBindingsAvailable:
                  default:
                    if (n.isArray()) return e;
                    throw (
                      ((a = u.getServiceIdentifierAsString(t)),
                      (s = i.AMBIGUOUS_MATCH + ' ' + a),
                      (s += u.listRegisteredBindingsForServiceIdentifier(o, a, m)),
                      new Error(s))
                    );
                }
              })(a.serviceIdentifier, s, a, n.container),
              s
            );
          }
          function y(t, e, n, r, a, s) {
            var u, c;
            if (null === a) {
              (u = v(t, e, r, null, s)), (c = new d.Request(n, r, null, u, s));
              var l = new h.Plan(r, c);
              r.addPlan(l);
            } else (u = v(t, e, r, a, s)), (c = a.addChildRequest(s.serviceIdentifier, u, s));
            u.forEach(function (e) {
              var n = null;
              if (s.isArray()) n = c.addChildRequest(e.serviceIdentifier, e, s);
              else {
                if (e.cache) return;
                n = c;
              }
              if (e.type === o.BindingTypeEnum.Instance && null !== e.implementationType) {
                var a = f.getDependencies(t, e.implementationType);
                if (!r.container.options.skipBaseClassChecks) {
                  var u = f.getBaseClassDependencyCount(t, e.implementationType);
                  if (a.length < u) {
                    var l = i.ARGUMENTS_LENGTH_MISMATCH(f.getFunctionName(e.implementationType));
                    throw new Error(l);
                  }
                }
                a.forEach(function (e) {
                  y(t, !1, e.serviceIdentifier, r, n, e);
                });
              }
            });
          }
          function m(t, e) {
            var n = [],
              r = g(t);
            return r.hasKey(e) ? (n = r.get(e)) : null !== t.parent && (n = m(t.parent, e)), n;
          }
          (e.getBindingDictionary = g),
            (e.plan = function (t, e, n, r, i, o, h, f) {
              void 0 === f && (f = !1);
              var d = new c.Context(e),
                g = (function (t, e, n, r, i, o) {
                  var s = t ? a.MULTI_INJECT_TAG : a.INJECT_TAG,
                    u = new l.Metadata(s, n),
                    c = new p.Target(e, '', n, u);
                  if (void 0 !== i) {
                    var h = new l.Metadata(i, o);
                    c.metadata.push(h);
                  }
                  return c;
                })(n, r, i, 0, o, h);
              try {
                return y(t, f, i, d, null, g), d;
              } catch (t) {
                throw (
                  (s.isStackOverflowExeption(t) &&
                    d.plan &&
                    u.circularDependencyToException(d.plan.rootRequest),
                  t)
                );
              }
            }),
            (e.createMockRequest = function (t, e, n, r) {
              var i = new p.Target(o.TargetTypeEnum.Variable, '', e, new l.Metadata(n, r)),
                a = new c.Context(t);
              return new d.Request(e, a, null, [], i);
            });
        },
        8460: (t, e) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }), (e.QueryableString = void 0);
          var n = (function () {
            function t(t) {
              this.str = t;
            }
            return (
              (t.prototype.startsWith = function (t) {
                return 0 === this.str.indexOf(t);
              }),
              (t.prototype.endsWith = function (t) {
                var e,
                  n = t.split('').reverse().join('');
                return (
                  (e = this.str.split('').reverse().join('')), this.startsWith.call({ str: e }, n)
                );
              }),
              (t.prototype.contains = function (t) {
                return -1 !== this.str.indexOf(t);
              }),
              (t.prototype.equals = function (t) {
                return this.str === t;
              }),
              (t.prototype.value = function () {
                return this.str;
              }),
              t
            );
          })();
          e.QueryableString = n;
        },
        6e3: function (t, e, n) {
          'use strict';
          var r =
            (this && this.__spreadArray) ||
            function (t, e) {
              for (var n = 0, r = e.length, i = t.length; n < r; n++, i++) t[i] = e[n];
              return t;
            };
          Object.defineProperty(e, '__esModule', { value: !0 }),
            (e.getFunctionName = e.getBaseClassDependencyCount = e.getDependencies = void 0);
          var i = n(5744),
            o = n(6674),
            a = n(8421),
            s = n(6867),
            u = n(5800);
          Object.defineProperty(e, 'getFunctionName', {
            enumerable: !0,
            get: function () {
              return u.getFunctionName;
            },
          });
          var c = n(8924);
          function l(t, e, n, i) {
            var a = t.getConstructorMetadata(n),
              s = a.compilerGeneratedMetadata;
            if (void 0 === s) {
              var u = o.MISSING_INJECTABLE_ANNOTATION + ' ' + e + '.';
              throw new Error(u);
            }
            var c = a.userGeneratedMetadata,
              l = Object.keys(c),
              d = 0 === n.length && l.length > 0,
              p = l.length > n.length,
              g = (function (t, e, n, r, i) {
                for (var o = [], a = 0; a < i; a++) {
                  var s = h(a, t, e, n, r);
                  null !== s && o.push(s);
                }
                return o;
              })(i, e, s, c, d || p ? l.length : n.length),
              v = f(t, n);
            return r(r([], g), v);
          }
          function h(t, e, n, r, s) {
            var u = s[t.toString()] || [],
              l = d(u),
              h = !0 !== l.unmanaged,
              f = r[t];
            if (
              ((f = l.inject || l.multiInject || f) instanceof i.LazyServiceIdentifer &&
                (f = f.unwrap()),
              h)
            ) {
              if (!e && (f === Object || f === Function || void 0 === f)) {
                var p = o.MISSING_INJECT_ANNOTATION + ' argument ' + t + ' in class ' + n + '.';
                throw new Error(p);
              }
              var g = new c.Target(a.TargetTypeEnum.ConstructorArgument, l.targetName, f);
              return (g.metadata = u), g;
            }
            return null;
          }
          function f(t, e) {
            for (
              var n = t.getPropertiesMetadata(e), i = [], o = 0, s = Object.keys(n);
              o < s.length;
              o++
            ) {
              var u = s[o],
                l = n[u],
                h = d(n[u]),
                p = h.targetName || u,
                g = h.inject || h.multiInject,
                v = new c.Target(a.TargetTypeEnum.ClassProperty, p, g);
              (v.metadata = l), i.push(v);
            }
            var y = Object.getPrototypeOf(e.prototype).constructor;
            if (y !== Object) {
              var m = f(t, y);
              i = r(r([], i), m);
            }
            return i;
          }
          function d(t) {
            var e = {};
            return (
              t.forEach(function (t) {
                e[t.key.toString()] = t.value;
              }),
              {
                inject: e[s.INJECT_TAG],
                multiInject: e[s.MULTI_INJECT_TAG],
                targetName: e[s.NAME_TAG],
                unmanaged: e[s.UNMANAGED_TAG],
              }
            );
          }
          (e.getDependencies = function (t, e) {
            return l(t, u.getFunctionName(e), e, !1);
          }),
            (e.getBaseClassDependencyCount = function t(e, n) {
              var r = Object.getPrototypeOf(n.prototype).constructor;
              if (r !== Object) {
                var i = l(e, u.getFunctionName(r), r, !0),
                  o = i.map(function (t) {
                    return t.metadata.filter(function (t) {
                      return t.key === s.UNMANAGED_TAG;
                    });
                  }),
                  a = [].concat.apply([], o).length,
                  c = i.length - a;
                return c > 0 ? c : t(e, r);
              }
              return 0;
            });
        },
        6748: (t, e, n) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }), (e.Request = void 0);
          var r = n(7791),
            i = (function () {
              function t(t, e, n, i, o) {
                (this.id = r.id()),
                  (this.serviceIdentifier = t),
                  (this.parentContext = e),
                  (this.parentRequest = n),
                  (this.target = o),
                  (this.childRequests = []),
                  (this.bindings = Array.isArray(i) ? i : [i]),
                  (this.requestScope = null === n ? new Map() : null);
              }
              return (
                (t.prototype.addChildRequest = function (e, n, r) {
                  var i = new t(e, this.parentContext, this, n, r);
                  return this.childRequests.push(i), i;
                }),
                t
              );
            })();
          e.Request = i;
        },
        8924: (t, e, n) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }), (e.Target = void 0);
          var r = n(6867),
            i = n(7791),
            o = n(7738),
            a = n(8460),
            s = (function () {
              function t(t, e, n, s) {
                (this.id = i.id()),
                  (this.type = t),
                  (this.serviceIdentifier = n),
                  (this.name = new a.QueryableString(e || '')),
                  (this.metadata = new Array());
                var u = null;
                'string' == typeof s
                  ? (u = new o.Metadata(r.NAMED_TAG, s))
                  : s instanceof o.Metadata && (u = s),
                  null !== u && this.metadata.push(u);
              }
              return (
                (t.prototype.hasTag = function (t) {
                  for (var e = 0, n = this.metadata; e < n.length; e++)
                    if (n[e].key === t) return !0;
                  return !1;
                }),
                (t.prototype.isArray = function () {
                  return this.hasTag(r.MULTI_INJECT_TAG);
                }),
                (t.prototype.matchesArray = function (t) {
                  return this.matchesTag(r.MULTI_INJECT_TAG)(t);
                }),
                (t.prototype.isNamed = function () {
                  return this.hasTag(r.NAMED_TAG);
                }),
                (t.prototype.isTagged = function () {
                  return this.metadata.some(function (t) {
                    return r.NON_CUSTOM_TAG_KEYS.every(function (e) {
                      return t.key !== e;
                    });
                  });
                }),
                (t.prototype.isOptional = function () {
                  return this.matchesTag(r.OPTIONAL_TAG)(!0);
                }),
                (t.prototype.getNamedTag = function () {
                  return this.isNamed()
                    ? this.metadata.filter(function (t) {
                        return t.key === r.NAMED_TAG;
                      })[0]
                    : null;
                }),
                (t.prototype.getCustomTags = function () {
                  return this.isTagged()
                    ? this.metadata.filter(function (t) {
                        return r.NON_CUSTOM_TAG_KEYS.every(function (e) {
                          return t.key !== e;
                        });
                      })
                    : null;
                }),
                (t.prototype.matchesNamedTag = function (t) {
                  return this.matchesTag(r.NAMED_TAG)(t);
                }),
                (t.prototype.matchesTag = function (t) {
                  var e = this;
                  return function (n) {
                    for (var r = 0, i = e.metadata; r < i.length; r++) {
                      var o = i[r];
                      if (o.key === t && o.value === n) return !0;
                    }
                    return !1;
                  };
                }),
                t
              );
            })();
          e.Target = s;
        },
        2279: function (t, e, n) {
          'use strict';
          var r =
            (this && this.__spreadArray) ||
            function (t, e) {
              for (var n = 0, r = e.length, i = t.length; n < r; n++, i++) t[i] = e[n];
              return t;
            };
          Object.defineProperty(e, '__esModule', { value: !0 }), (e.resolveInstance = void 0);
          var i = n(6674),
            o = n(8421),
            a = n(6867);
          e.resolveInstance = function (t, e, n) {
            var s,
              u,
              c = null;
            e.length > 0
              ? ((u = e
                  .filter(function (t) {
                    return (
                      null !== t.target && t.target.type === o.TargetTypeEnum.ConstructorArgument
                    );
                  })
                  .map(n)),
                (c = (function (t, e, n) {
                  var r = e.filter(function (t) {
                      return null !== t.target && t.target.type === o.TargetTypeEnum.ClassProperty;
                    }),
                    i = r.map(n);
                  return (
                    r.forEach(function (e, n) {
                      var r;
                      r = e.target.name.value();
                      var o = i[n];
                      t[r] = o;
                    }),
                    t
                  );
                })((c = new ((s = t).bind.apply(s, r([void 0], u)))()), e, n)))
              : (c = new t());
            return (
              (function (t, e) {
                if (Reflect.hasMetadata(a.POST_CONSTRUCT, t)) {
                  var n = Reflect.getMetadata(a.POST_CONSTRUCT, t);
                  try {
                    e[n.value]();
                  } catch (e) {
                    throw new Error(i.POST_CONSTRUCT_ERROR(t.name, e.message));
                  }
                }
              })(t, c),
              c
            );
          };
        },
        1927: (t, e, n) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }), (e.resolve = void 0);
          var r = n(6674),
            i = n(8421),
            o = n(5265),
            a = n(5800),
            s = n(2279),
            u = function (t, e, n) {
              try {
                return n();
              } catch (n) {
                throw o.isStackOverflowExeption(n)
                  ? new Error(r.CIRCULAR_DEPENDENCY_IN_FACTORY(t, e.toString()))
                  : n;
              }
            },
            c = function (t) {
              return function (e) {
                e.parentContext.setCurrentRequest(e);
                var n = e.bindings,
                  o = e.childRequests,
                  l = e.target && e.target.isArray(),
                  h = !(
                    e.parentRequest &&
                    e.parentRequest.target &&
                    e.target &&
                    e.parentRequest.target.matchesArray(e.target.serviceIdentifier)
                  );
                if (l && h)
                  return o.map(function (e) {
                    return c(t)(e);
                  });
                var f = null;
                if (!e.target.isOptional() || 0 !== n.length) {
                  var d = n[0],
                    p = d.scope === i.BindingScopeEnum.Singleton,
                    g = d.scope === i.BindingScopeEnum.Request;
                  if (p && d.activated) return d.cache;
                  if (g && null !== t && t.has(d.id)) return t.get(d.id);
                  if (d.type === i.BindingTypeEnum.ConstantValue) (f = d.cache), (d.activated = !0);
                  else if (d.type === i.BindingTypeEnum.Function) (f = d.cache), (d.activated = !0);
                  else if (d.type === i.BindingTypeEnum.Constructor) f = d.implementationType;
                  else if (d.type === i.BindingTypeEnum.DynamicValue && null !== d.dynamicValue)
                    f = u('toDynamicValue', d.serviceIdentifier, function () {
                      return d.dynamicValue(e.parentContext);
                    });
                  else if (d.type === i.BindingTypeEnum.Factory && null !== d.factory)
                    f = u('toFactory', d.serviceIdentifier, function () {
                      return d.factory(e.parentContext);
                    });
                  else if (d.type === i.BindingTypeEnum.Provider && null !== d.provider)
                    f = u('toProvider', d.serviceIdentifier, function () {
                      return d.provider(e.parentContext);
                    });
                  else {
                    if (d.type !== i.BindingTypeEnum.Instance || null === d.implementationType) {
                      var v = a.getServiceIdentifierAsString(e.serviceIdentifier);
                      throw new Error(r.INVALID_BINDING_TYPE + ' ' + v);
                    }
                    f = s.resolveInstance(d.implementationType, o, c(t));
                  }
                  return (
                    'function' == typeof d.onActivation && (f = d.onActivation(e.parentContext, f)),
                    p && ((d.cache = f), (d.activated = !0)),
                    g && null !== t && !t.has(d.id) && t.set(d.id, f),
                    f
                  );
                }
              };
            };
          e.resolve = function (t) {
            return c(t.plan.rootRequest.requestScope)(t.plan.rootRequest);
          };
        },
        3366: (t, e, n) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }), (e.BindingInSyntax = void 0);
          var r = n(8421),
            i = n(1325),
            o = (function () {
              function t(t) {
                this._binding = t;
              }
              return (
                (t.prototype.inRequestScope = function () {
                  return (
                    (this._binding.scope = r.BindingScopeEnum.Request),
                    new i.BindingWhenOnSyntax(this._binding)
                  );
                }),
                (t.prototype.inSingletonScope = function () {
                  return (
                    (this._binding.scope = r.BindingScopeEnum.Singleton),
                    new i.BindingWhenOnSyntax(this._binding)
                  );
                }),
                (t.prototype.inTransientScope = function () {
                  return (
                    (this._binding.scope = r.BindingScopeEnum.Transient),
                    new i.BindingWhenOnSyntax(this._binding)
                  );
                }),
                t
              );
            })();
          e.BindingInSyntax = o;
        },
        9812: (t, e, n) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }), (e.BindingInWhenOnSyntax = void 0);
          var r = n(3366),
            i = n(1811),
            o = n(8370),
            a = (function () {
              function t(t) {
                (this._binding = t),
                  (this._bindingWhenSyntax = new o.BindingWhenSyntax(this._binding)),
                  (this._bindingOnSyntax = new i.BindingOnSyntax(this._binding)),
                  (this._bindingInSyntax = new r.BindingInSyntax(t));
              }
              return (
                (t.prototype.inRequestScope = function () {
                  return this._bindingInSyntax.inRequestScope();
                }),
                (t.prototype.inSingletonScope = function () {
                  return this._bindingInSyntax.inSingletonScope();
                }),
                (t.prototype.inTransientScope = function () {
                  return this._bindingInSyntax.inTransientScope();
                }),
                (t.prototype.when = function (t) {
                  return this._bindingWhenSyntax.when(t);
                }),
                (t.prototype.whenTargetNamed = function (t) {
                  return this._bindingWhenSyntax.whenTargetNamed(t);
                }),
                (t.prototype.whenTargetIsDefault = function () {
                  return this._bindingWhenSyntax.whenTargetIsDefault();
                }),
                (t.prototype.whenTargetTagged = function (t, e) {
                  return this._bindingWhenSyntax.whenTargetTagged(t, e);
                }),
                (t.prototype.whenInjectedInto = function (t) {
                  return this._bindingWhenSyntax.whenInjectedInto(t);
                }),
                (t.prototype.whenParentNamed = function (t) {
                  return this._bindingWhenSyntax.whenParentNamed(t);
                }),
                (t.prototype.whenParentTagged = function (t, e) {
                  return this._bindingWhenSyntax.whenParentTagged(t, e);
                }),
                (t.prototype.whenAnyAncestorIs = function (t) {
                  return this._bindingWhenSyntax.whenAnyAncestorIs(t);
                }),
                (t.prototype.whenNoAncestorIs = function (t) {
                  return this._bindingWhenSyntax.whenNoAncestorIs(t);
                }),
                (t.prototype.whenAnyAncestorNamed = function (t) {
                  return this._bindingWhenSyntax.whenAnyAncestorNamed(t);
                }),
                (t.prototype.whenAnyAncestorTagged = function (t, e) {
                  return this._bindingWhenSyntax.whenAnyAncestorTagged(t, e);
                }),
                (t.prototype.whenNoAncestorNamed = function (t) {
                  return this._bindingWhenSyntax.whenNoAncestorNamed(t);
                }),
                (t.prototype.whenNoAncestorTagged = function (t, e) {
                  return this._bindingWhenSyntax.whenNoAncestorTagged(t, e);
                }),
                (t.prototype.whenAnyAncestorMatches = function (t) {
                  return this._bindingWhenSyntax.whenAnyAncestorMatches(t);
                }),
                (t.prototype.whenNoAncestorMatches = function (t) {
                  return this._bindingWhenSyntax.whenNoAncestorMatches(t);
                }),
                (t.prototype.onActivation = function (t) {
                  return this._bindingOnSyntax.onActivation(t);
                }),
                t
              );
            })();
          e.BindingInWhenOnSyntax = a;
        },
        1811: (t, e, n) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }), (e.BindingOnSyntax = void 0);
          var r = n(8370),
            i = (function () {
              function t(t) {
                this._binding = t;
              }
              return (
                (t.prototype.onActivation = function (t) {
                  return (this._binding.onActivation = t), new r.BindingWhenSyntax(this._binding);
                }),
                t
              );
            })();
          e.BindingOnSyntax = i;
        },
        1860: (t, e, n) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }), (e.BindingToSyntax = void 0);
          var r = n(6674),
            i = n(8421),
            o = n(9812),
            a = n(1325),
            s = (function () {
              function t(t) {
                this._binding = t;
              }
              return (
                (t.prototype.to = function (t) {
                  return (
                    (this._binding.type = i.BindingTypeEnum.Instance),
                    (this._binding.implementationType = t),
                    new o.BindingInWhenOnSyntax(this._binding)
                  );
                }),
                (t.prototype.toSelf = function () {
                  if ('function' != typeof this._binding.serviceIdentifier)
                    throw new Error('' + r.INVALID_TO_SELF_VALUE);
                  var t = this._binding.serviceIdentifier;
                  return this.to(t);
                }),
                (t.prototype.toConstantValue = function (t) {
                  return (
                    (this._binding.type = i.BindingTypeEnum.ConstantValue),
                    (this._binding.cache = t),
                    (this._binding.dynamicValue = null),
                    (this._binding.implementationType = null),
                    (this._binding.scope = i.BindingScopeEnum.Singleton),
                    new a.BindingWhenOnSyntax(this._binding)
                  );
                }),
                (t.prototype.toDynamicValue = function (t) {
                  return (
                    (this._binding.type = i.BindingTypeEnum.DynamicValue),
                    (this._binding.cache = null),
                    (this._binding.dynamicValue = t),
                    (this._binding.implementationType = null),
                    new o.BindingInWhenOnSyntax(this._binding)
                  );
                }),
                (t.prototype.toConstructor = function (t) {
                  return (
                    (this._binding.type = i.BindingTypeEnum.Constructor),
                    (this._binding.implementationType = t),
                    (this._binding.scope = i.BindingScopeEnum.Singleton),
                    new a.BindingWhenOnSyntax(this._binding)
                  );
                }),
                (t.prototype.toFactory = function (t) {
                  return (
                    (this._binding.type = i.BindingTypeEnum.Factory),
                    (this._binding.factory = t),
                    (this._binding.scope = i.BindingScopeEnum.Singleton),
                    new a.BindingWhenOnSyntax(this._binding)
                  );
                }),
                (t.prototype.toFunction = function (t) {
                  if ('function' != typeof t) throw new Error(r.INVALID_FUNCTION_BINDING);
                  var e = this.toConstantValue(t);
                  return (
                    (this._binding.type = i.BindingTypeEnum.Function),
                    (this._binding.scope = i.BindingScopeEnum.Singleton),
                    e
                  );
                }),
                (t.prototype.toAutoFactory = function (t) {
                  return (
                    (this._binding.type = i.BindingTypeEnum.Factory),
                    (this._binding.factory = function (e) {
                      return function () {
                        return e.container.get(t);
                      };
                    }),
                    (this._binding.scope = i.BindingScopeEnum.Singleton),
                    new a.BindingWhenOnSyntax(this._binding)
                  );
                }),
                (t.prototype.toProvider = function (t) {
                  return (
                    (this._binding.type = i.BindingTypeEnum.Provider),
                    (this._binding.provider = t),
                    (this._binding.scope = i.BindingScopeEnum.Singleton),
                    new a.BindingWhenOnSyntax(this._binding)
                  );
                }),
                (t.prototype.toService = function (t) {
                  this.toDynamicValue(function (e) {
                    return e.container.get(t);
                  });
                }),
                t
              );
            })();
          e.BindingToSyntax = s;
        },
        1325: (t, e, n) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }), (e.BindingWhenOnSyntax = void 0);
          var r = n(1811),
            i = n(8370),
            o = (function () {
              function t(t) {
                (this._binding = t),
                  (this._bindingWhenSyntax = new i.BindingWhenSyntax(this._binding)),
                  (this._bindingOnSyntax = new r.BindingOnSyntax(this._binding));
              }
              return (
                (t.prototype.when = function (t) {
                  return this._bindingWhenSyntax.when(t);
                }),
                (t.prototype.whenTargetNamed = function (t) {
                  return this._bindingWhenSyntax.whenTargetNamed(t);
                }),
                (t.prototype.whenTargetIsDefault = function () {
                  return this._bindingWhenSyntax.whenTargetIsDefault();
                }),
                (t.prototype.whenTargetTagged = function (t, e) {
                  return this._bindingWhenSyntax.whenTargetTagged(t, e);
                }),
                (t.prototype.whenInjectedInto = function (t) {
                  return this._bindingWhenSyntax.whenInjectedInto(t);
                }),
                (t.prototype.whenParentNamed = function (t) {
                  return this._bindingWhenSyntax.whenParentNamed(t);
                }),
                (t.prototype.whenParentTagged = function (t, e) {
                  return this._bindingWhenSyntax.whenParentTagged(t, e);
                }),
                (t.prototype.whenAnyAncestorIs = function (t) {
                  return this._bindingWhenSyntax.whenAnyAncestorIs(t);
                }),
                (t.prototype.whenNoAncestorIs = function (t) {
                  return this._bindingWhenSyntax.whenNoAncestorIs(t);
                }),
                (t.prototype.whenAnyAncestorNamed = function (t) {
                  return this._bindingWhenSyntax.whenAnyAncestorNamed(t);
                }),
                (t.prototype.whenAnyAncestorTagged = function (t, e) {
                  return this._bindingWhenSyntax.whenAnyAncestorTagged(t, e);
                }),
                (t.prototype.whenNoAncestorNamed = function (t) {
                  return this._bindingWhenSyntax.whenNoAncestorNamed(t);
                }),
                (t.prototype.whenNoAncestorTagged = function (t, e) {
                  return this._bindingWhenSyntax.whenNoAncestorTagged(t, e);
                }),
                (t.prototype.whenAnyAncestorMatches = function (t) {
                  return this._bindingWhenSyntax.whenAnyAncestorMatches(t);
                }),
                (t.prototype.whenNoAncestorMatches = function (t) {
                  return this._bindingWhenSyntax.whenNoAncestorMatches(t);
                }),
                (t.prototype.onActivation = function (t) {
                  return this._bindingOnSyntax.onActivation(t);
                }),
                t
              );
            })();
          e.BindingWhenOnSyntax = o;
        },
        8370: (t, e, n) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }), (e.BindingWhenSyntax = void 0);
          var r = n(1811),
            i = n(758),
            o = (function () {
              function t(t) {
                this._binding = t;
              }
              return (
                (t.prototype.when = function (t) {
                  return (this._binding.constraint = t), new r.BindingOnSyntax(this._binding);
                }),
                (t.prototype.whenTargetNamed = function (t) {
                  return (
                    (this._binding.constraint = i.namedConstraint(t)),
                    new r.BindingOnSyntax(this._binding)
                  );
                }),
                (t.prototype.whenTargetIsDefault = function () {
                  return (
                    (this._binding.constraint = function (t) {
                      return null !== t.target && !t.target.isNamed() && !t.target.isTagged();
                    }),
                    new r.BindingOnSyntax(this._binding)
                  );
                }),
                (t.prototype.whenTargetTagged = function (t, e) {
                  return (
                    (this._binding.constraint = i.taggedConstraint(t)(e)),
                    new r.BindingOnSyntax(this._binding)
                  );
                }),
                (t.prototype.whenInjectedInto = function (t) {
                  return (
                    (this._binding.constraint = function (e) {
                      return i.typeConstraint(t)(e.parentRequest);
                    }),
                    new r.BindingOnSyntax(this._binding)
                  );
                }),
                (t.prototype.whenParentNamed = function (t) {
                  return (
                    (this._binding.constraint = function (e) {
                      return i.namedConstraint(t)(e.parentRequest);
                    }),
                    new r.BindingOnSyntax(this._binding)
                  );
                }),
                (t.prototype.whenParentTagged = function (t, e) {
                  return (
                    (this._binding.constraint = function (n) {
                      return i.taggedConstraint(t)(e)(n.parentRequest);
                    }),
                    new r.BindingOnSyntax(this._binding)
                  );
                }),
                (t.prototype.whenAnyAncestorIs = function (t) {
                  return (
                    (this._binding.constraint = function (e) {
                      return i.traverseAncerstors(e, i.typeConstraint(t));
                    }),
                    new r.BindingOnSyntax(this._binding)
                  );
                }),
                (t.prototype.whenNoAncestorIs = function (t) {
                  return (
                    (this._binding.constraint = function (e) {
                      return !i.traverseAncerstors(e, i.typeConstraint(t));
                    }),
                    new r.BindingOnSyntax(this._binding)
                  );
                }),
                (t.prototype.whenAnyAncestorNamed = function (t) {
                  return (
                    (this._binding.constraint = function (e) {
                      return i.traverseAncerstors(e, i.namedConstraint(t));
                    }),
                    new r.BindingOnSyntax(this._binding)
                  );
                }),
                (t.prototype.whenNoAncestorNamed = function (t) {
                  return (
                    (this._binding.constraint = function (e) {
                      return !i.traverseAncerstors(e, i.namedConstraint(t));
                    }),
                    new r.BindingOnSyntax(this._binding)
                  );
                }),
                (t.prototype.whenAnyAncestorTagged = function (t, e) {
                  return (
                    (this._binding.constraint = function (n) {
                      return i.traverseAncerstors(n, i.taggedConstraint(t)(e));
                    }),
                    new r.BindingOnSyntax(this._binding)
                  );
                }),
                (t.prototype.whenNoAncestorTagged = function (t, e) {
                  return (
                    (this._binding.constraint = function (n) {
                      return !i.traverseAncerstors(n, i.taggedConstraint(t)(e));
                    }),
                    new r.BindingOnSyntax(this._binding)
                  );
                }),
                (t.prototype.whenAnyAncestorMatches = function (t) {
                  return (
                    (this._binding.constraint = function (e) {
                      return i.traverseAncerstors(e, t);
                    }),
                    new r.BindingOnSyntax(this._binding)
                  );
                }),
                (t.prototype.whenNoAncestorMatches = function (t) {
                  return (
                    (this._binding.constraint = function (e) {
                      return !i.traverseAncerstors(e, t);
                    }),
                    new r.BindingOnSyntax(this._binding)
                  );
                }),
                t
              );
            })();
          e.BindingWhenSyntax = o;
        },
        758: (t, e, n) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }),
            (e.typeConstraint =
              e.namedConstraint =
              e.taggedConstraint =
              e.traverseAncerstors =
                void 0);
          var r = n(6867),
            i = n(7738),
            o = function (t, e) {
              var n = t.parentRequest;
              return null !== n && (!!e(n) || o(n, e));
            };
          e.traverseAncerstors = o;
          var a = function (t) {
            return function (e) {
              var n = function (n) {
                return null !== n && null !== n.target && n.target.matchesTag(t)(e);
              };
              return (n.metaData = new i.Metadata(t, e)), n;
            };
          };
          e.taggedConstraint = a;
          var s = a(r.NAMED_TAG);
          (e.namedConstraint = s),
            (e.typeConstraint = function (t) {
              return function (e) {
                var n = null;
                if (null !== e) {
                  if (((n = e.bindings[0]), 'string' == typeof t)) return n.serviceIdentifier === t;
                  var r = e.bindings[0].implementationType;
                  return t === r;
                }
                return !1;
              };
            });
        },
        600: (t, e) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }),
            (e.multiBindToService = void 0),
            (e.multiBindToService = function (t) {
              return function (e) {
                return function () {
                  for (var n = [], r = 0; r < arguments.length; r++) n[r] = arguments[r];
                  return n.forEach(function (n) {
                    return t.bind(n).toService(e);
                  });
                };
              };
            });
        },
        5265: (t, e, n) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }),
            (e.isStackOverflowExeption = void 0);
          var r = n(6674);
          e.isStackOverflowExeption = function (t) {
            return t instanceof RangeError || t.message === r.STACK_OVERFLOW;
          };
        },
        7791: (t, e) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }), (e.id = void 0);
          var n = 0;
          e.id = function () {
            return n++;
          };
        },
        5800: (t, e, n) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }),
            (e.circularDependencyToException =
              e.listMetadataForTarget =
              e.listRegisteredBindingsForServiceIdentifier =
              e.getServiceIdentifierAsString =
              e.getFunctionName =
                void 0);
          var r = n(6674);
          function i(t) {
            return 'function' == typeof t ? t.name : 'symbol' == typeof t ? t.toString() : t;
          }
          function o(t, e) {
            return (
              null !== t.parentRequest &&
              (t.parentRequest.serviceIdentifier === e || o(t.parentRequest, e))
            );
          }
          function a(t) {
            if (t.name) return t.name;
            var e = t.toString(),
              n = e.match(/^function\s*([^\s(]+)/);
            return n ? n[1] : 'Anonymous function: ' + e;
          }
          (e.getServiceIdentifierAsString = i),
            (e.listRegisteredBindingsForServiceIdentifier = function (t, e, n) {
              var r = '',
                i = n(t, e);
              return (
                0 !== i.length &&
                  ((r = '\nRegistered bindings:'),
                  i.forEach(function (t) {
                    var e = 'Object';
                    null !== t.implementationType && (e = a(t.implementationType)),
                      (r = r + '\n ' + e),
                      t.constraint.metaData && (r = r + ' - ' + t.constraint.metaData);
                  })),
                r
              );
            }),
            (e.circularDependencyToException = function t(e) {
              e.childRequests.forEach(function (e) {
                if (o(e, e.serviceIdentifier)) {
                  var n = (function (t) {
                    return (function t(e, n) {
                      void 0 === n && (n = []);
                      var r = i(e.serviceIdentifier);
                      return n.push(r), null !== e.parentRequest ? t(e.parentRequest, n) : n;
                    })(t)
                      .reverse()
                      .join(' --\x3e ');
                  })(e);
                  throw new Error(r.CIRCULAR_DEPENDENCY + ' ' + n);
                }
                t(e);
              });
            }),
            (e.listMetadataForTarget = function (t, e) {
              if (e.isTagged() || e.isNamed()) {
                var n = '',
                  r = e.getNamedTag(),
                  i = e.getCustomTags();
                return (
                  null !== r && (n += r.toString() + '\n'),
                  null !== i &&
                    i.forEach(function (t) {
                      n += t.toString() + '\n';
                    }),
                  ' ' + t + '\n ' + t + ' - ' + n
                );
              }
              return ' ' + t;
            }),
            (e.getFunctionName = a);
        },
        5171: (t) => {
          t.exports = function (t) {
            return (
              !(!t || 'string' == typeof t) &&
              (t instanceof Array ||
                Array.isArray(t) ||
                (t.length >= 0 &&
                  (t.splice instanceof Function ||
                    (Object.getOwnPropertyDescriptor(t, t.length - 1) &&
                      'String' !== t.constructor.name))))
            );
          };
        },
        6486: function (t, e, n) {
          var r;
          (t = n.nmd(t)),
            function () {
              var i,
                o = 'Expected a function',
                a = '__lodash_hash_undefined__',
                s = '__lodash_placeholder__',
                u = 32,
                c = 128,
                l = 1 / 0,
                h = 9007199254740991,
                f = NaN,
                d = 4294967295,
                p = [
                  ['ary', c],
                  ['bind', 1],
                  ['bindKey', 2],
                  ['curry', 8],
                  ['curryRight', 16],
                  ['flip', 512],
                  ['partial', u],
                  ['partialRight', 64],
                  ['rearg', 256],
                ],
                g = '[object Arguments]',
                v = '[object Array]',
                y = '[object Boolean]',
                m = '[object Date]',
                b = '[object Error]',
                x = '[object Function]',
                _ = '[object GeneratorFunction]',
                w = '[object Map]',
                E = '[object Number]',
                S = '[object Object]',
                M = '[object Promise]',
                k = '[object RegExp]',
                A = '[object Set]',
                C = '[object String]',
                I = '[object Symbol]',
                T = '[object WeakMap]',
                N = '[object ArrayBuffer]',
                P = '[object DataView]',
                O = '[object Float32Array]',
                D = '[object Float64Array]',
                L = '[object Int8Array]',
                R = '[object Int16Array]',
                B = '[object Int32Array]',
                j = '[object Uint8Array]',
                G = '[object Uint8ClampedArray]',
                z = '[object Uint16Array]',
                F = '[object Uint32Array]',
                U = /\b__p \+= '';/g,
                V = /\b(__p \+=) '' \+/g,
                W = /(__e\(.*?\)|\b__t\)) \+\n'';/g,
                Y = /&(?:amp|lt|gt|quot|#39);/g,
                X = /[&<>"']/g,
                H = RegExp(Y.source),
                q = RegExp(X.source),
                K = /<%-([\s\S]+?)%>/g,
                Z = /<%([\s\S]+?)%>/g,
                $ = /<%=([\s\S]+?)%>/g,
                Q = /\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,
                J = /^\w*$/,
                tt =
                  /[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,
                et = /[\\^$.*+?()[\]{}|]/g,
                nt = RegExp(et.source),
                rt = /^\s+/,
                it = /\s/,
                ot = /\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,
                at = /\{\n\/\* \[wrapped with (.+)\] \*/,
                st = /,? & /,
                ut = /[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,
                ct = /[()=,{}\[\]\/\s]/,
                lt = /\\(\\)?/g,
                ht = /\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,
                ft = /\w*$/,
                dt = /^[-+]0x[0-9a-f]+$/i,
                pt = /^0b[01]+$/i,
                gt = /^\[object .+?Constructor\]$/,
                vt = /^0o[0-7]+$/i,
                yt = /^(?:0|[1-9]\d*)$/,
                mt = /[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,
                bt = /($^)/,
                xt = /['\n\r\u2028\u2029\\]/g,
                _t = '\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff',
                wt = 'a-z\\xdf-\\xf6\\xf8-\\xff',
                Et = 'A-Z\\xc0-\\xd6\\xd8-\\xde',
                St =
                  '\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000',
                Mt = '[' + St + ']',
                kt = '[' + _t + ']',
                At = '\\d+',
                Ct = '[' + wt + ']',
                It = '[^\\ud800-\\udfff' + St + At + '\\u2700-\\u27bf' + wt + Et + ']',
                Tt = '\\ud83c[\\udffb-\\udfff]',
                Nt = '[^\\ud800-\\udfff]',
                Pt = '(?:\\ud83c[\\udde6-\\uddff]){2}',
                Ot = '[\\ud800-\\udbff][\\udc00-\\udfff]',
                Dt = '[' + Et + ']',
                Lt = '(?:' + Ct + '|' + It + ')',
                Rt = '(?:' + Dt + '|' + It + ')',
                Bt = "(?:['’](?:d|ll|m|re|s|t|ve))?",
                jt = "(?:['’](?:D|LL|M|RE|S|T|VE))?",
                Gt = '(?:' + kt + '|' + Tt + ')?',
                zt = '[\\ufe0e\\ufe0f]?',
                Ft = zt + Gt + '(?:\\u200d(?:' + [Nt, Pt, Ot].join('|') + ')' + zt + Gt + ')*',
                Ut = '(?:' + ['[\\u2700-\\u27bf]', Pt, Ot].join('|') + ')' + Ft,
                Vt = '(?:' + [Nt + kt + '?', kt, Pt, Ot, '[\\ud800-\\udfff]'].join('|') + ')',
                Wt = RegExp("['’]", 'g'),
                Yt = RegExp(kt, 'g'),
                Xt = RegExp(Tt + '(?=' + Tt + ')|' + Vt + Ft, 'g'),
                Ht = RegExp(
                  [
                    Dt + '?' + Ct + '+' + Bt + '(?=' + [Mt, Dt, '$'].join('|') + ')',
                    Rt + '+' + jt + '(?=' + [Mt, Dt + Lt, '$'].join('|') + ')',
                    Dt + '?' + Lt + '+' + Bt,
                    Dt + '+' + jt,
                    '\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])',
                    '\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])',
                    At,
                    Ut,
                  ].join('|'),
                  'g',
                ),
                qt = RegExp('[\\u200d\\ud800-\\udfff' + _t + '\\ufe0e\\ufe0f]'),
                Kt = /[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,
                Zt = [
                  'Array',
                  'Buffer',
                  'DataView',
                  'Date',
                  'Error',
                  'Float32Array',
                  'Float64Array',
                  'Function',
                  'Int8Array',
                  'Int16Array',
                  'Int32Array',
                  'Map',
                  'Math',
                  'Object',
                  'Promise',
                  'RegExp',
                  'Set',
                  'String',
                  'Symbol',
                  'TypeError',
                  'Uint8Array',
                  'Uint8ClampedArray',
                  'Uint16Array',
                  'Uint32Array',
                  'WeakMap',
                  '_',
                  'clearTimeout',
                  'isFinite',
                  'parseInt',
                  'setTimeout',
                ],
                $t = -1,
                Qt = {};
              (Qt[O] = Qt[D] = Qt[L] = Qt[R] = Qt[B] = Qt[j] = Qt[G] = Qt[z] = Qt[F] = !0),
                (Qt[g] =
                  Qt[v] =
                  Qt[N] =
                  Qt[y] =
                  Qt[P] =
                  Qt[m] =
                  Qt[b] =
                  Qt[x] =
                  Qt[w] =
                  Qt[E] =
                  Qt[S] =
                  Qt[k] =
                  Qt[A] =
                  Qt[C] =
                  Qt[T] =
                    !1);
              var Jt = {};
              (Jt[g] =
                Jt[v] =
                Jt[N] =
                Jt[P] =
                Jt[y] =
                Jt[m] =
                Jt[O] =
                Jt[D] =
                Jt[L] =
                Jt[R] =
                Jt[B] =
                Jt[w] =
                Jt[E] =
                Jt[S] =
                Jt[k] =
                Jt[A] =
                Jt[C] =
                Jt[I] =
                Jt[j] =
                Jt[G] =
                Jt[z] =
                Jt[F] =
                  !0),
                (Jt[b] = Jt[x] = Jt[T] = !1);
              var te = {
                  '\\': '\\',
                  "'": "'",
                  '\n': 'n',
                  '\r': 'r',
                  '\u2028': 'u2028',
                  '\u2029': 'u2029',
                },
                ee = parseFloat,
                ne = parseInt,
                re = 'object' == typeof n.g && n.g && n.g.Object === Object && n.g,
                ie = 'object' == typeof self && self && self.Object === Object && self,
                oe = re || ie || Function('return this')(),
                ae = e && !e.nodeType && e,
                se = ae && t && !t.nodeType && t,
                ue = se && se.exports === ae,
                ce = ue && re.process,
                le = (function () {
                  try {
                    return (
                      (se && se.require && se.require('util').types) ||
                      (ce && ce.binding && ce.binding('util'))
                    );
                  } catch (t) {}
                })(),
                he = le && le.isArrayBuffer,
                fe = le && le.isDate,
                de = le && le.isMap,
                pe = le && le.isRegExp,
                ge = le && le.isSet,
                ve = le && le.isTypedArray;
              function ye(t, e, n) {
                switch (n.length) {
                  case 0:
                    return t.call(e);
                  case 1:
                    return t.call(e, n[0]);
                  case 2:
                    return t.call(e, n[0], n[1]);
                  case 3:
                    return t.call(e, n[0], n[1], n[2]);
                }
                return t.apply(e, n);
              }
              function me(t, e, n, r) {
                for (var i = -1, o = null == t ? 0 : t.length; ++i < o; ) {
                  var a = t[i];
                  e(r, a, n(a), t);
                }
                return r;
              }
              function be(t, e) {
                for (var n = -1, r = null == t ? 0 : t.length; ++n < r && !1 !== e(t[n], n, t); );
                return t;
              }
              function xe(t, e) {
                for (var n = null == t ? 0 : t.length; n-- && !1 !== e(t[n], n, t); );
                return t;
              }
              function _e(t, e) {
                for (var n = -1, r = null == t ? 0 : t.length; ++n < r; )
                  if (!e(t[n], n, t)) return !1;
                return !0;
              }
              function we(t, e) {
                for (var n = -1, r = null == t ? 0 : t.length, i = 0, o = []; ++n < r; ) {
                  var a = t[n];
                  e(a, n, t) && (o[i++] = a);
                }
                return o;
              }
              function Ee(t, e) {
                return !(null == t || !t.length) && Oe(t, e, 0) > -1;
              }
              function Se(t, e, n) {
                for (var r = -1, i = null == t ? 0 : t.length; ++r < i; ) if (n(e, t[r])) return !0;
                return !1;
              }
              function Me(t, e) {
                for (var n = -1, r = null == t ? 0 : t.length, i = Array(r); ++n < r; )
                  i[n] = e(t[n], n, t);
                return i;
              }
              function ke(t, e) {
                for (var n = -1, r = e.length, i = t.length; ++n < r; ) t[i + n] = e[n];
                return t;
              }
              function Ae(t, e, n, r) {
                var i = -1,
                  o = null == t ? 0 : t.length;
                for (r && o && (n = t[++i]); ++i < o; ) n = e(n, t[i], i, t);
                return n;
              }
              function Ce(t, e, n, r) {
                var i = null == t ? 0 : t.length;
                for (r && i && (n = t[--i]); i--; ) n = e(n, t[i], i, t);
                return n;
              }
              function Ie(t, e) {
                for (var n = -1, r = null == t ? 0 : t.length; ++n < r; )
                  if (e(t[n], n, t)) return !0;
                return !1;
              }
              var Te = Be('length');
              function Ne(t, e, n) {
                var r;
                return (
                  n(t, function (t, n, i) {
                    if (e(t, n, i)) return (r = n), !1;
                  }),
                  r
                );
              }
              function Pe(t, e, n, r) {
                for (var i = t.length, o = n + (r ? 1 : -1); r ? o-- : ++o < i; )
                  if (e(t[o], o, t)) return o;
                return -1;
              }
              function Oe(t, e, n) {
                return e == e
                  ? (function (t, e, n) {
                      for (var r = n - 1, i = t.length; ++r < i; ) if (t[r] === e) return r;
                      return -1;
                    })(t, e, n)
                  : Pe(t, Le, n);
              }
              function De(t, e, n, r) {
                for (var i = n - 1, o = t.length; ++i < o; ) if (r(t[i], e)) return i;
                return -1;
              }
              function Le(t) {
                return t != t;
              }
              function Re(t, e) {
                var n = null == t ? 0 : t.length;
                return n ? ze(t, e) / n : f;
              }
              function Be(t) {
                return function (e) {
                  return null == e ? i : e[t];
                };
              }
              function je(t) {
                return function (e) {
                  return null == t ? i : t[e];
                };
              }
              function Ge(t, e, n, r, i) {
                return (
                  i(t, function (t, i, o) {
                    n = r ? ((r = !1), t) : e(n, t, i, o);
                  }),
                  n
                );
              }
              function ze(t, e) {
                for (var n, r = -1, o = t.length; ++r < o; ) {
                  var a = e(t[r]);
                  a !== i && (n = n === i ? a : n + a);
                }
                return n;
              }
              function Fe(t, e) {
                for (var n = -1, r = Array(t); ++n < t; ) r[n] = e(n);
                return r;
              }
              function Ue(t) {
                return t ? t.slice(0, sn(t) + 1).replace(rt, '') : t;
              }
              function Ve(t) {
                return function (e) {
                  return t(e);
                };
              }
              function We(t, e) {
                return Me(e, function (e) {
                  return t[e];
                });
              }
              function Ye(t, e) {
                return t.has(e);
              }
              function Xe(t, e) {
                for (var n = -1, r = t.length; ++n < r && Oe(e, t[n], 0) > -1; );
                return n;
              }
              function He(t, e) {
                for (var n = t.length; n-- && Oe(e, t[n], 0) > -1; );
                return n;
              }
              function qe(t, e) {
                for (var n = t.length, r = 0; n--; ) t[n] === e && ++r;
                return r;
              }
              var Ke = je({
                  À: 'A',
                  Á: 'A',
                  Â: 'A',
                  Ã: 'A',
                  Ä: 'A',
                  Å: 'A',
                  à: 'a',
                  á: 'a',
                  â: 'a',
                  ã: 'a',
                  ä: 'a',
                  å: 'a',
                  Ç: 'C',
                  ç: 'c',
                  Ð: 'D',
                  ð: 'd',
                  È: 'E',
                  É: 'E',
                  Ê: 'E',
                  Ë: 'E',
                  è: 'e',
                  é: 'e',
                  ê: 'e',
                  ë: 'e',
                  Ì: 'I',
                  Í: 'I',
                  Î: 'I',
                  Ï: 'I',
                  ì: 'i',
                  í: 'i',
                  î: 'i',
                  ï: 'i',
                  Ñ: 'N',
                  ñ: 'n',
                  Ò: 'O',
                  Ó: 'O',
                  Ô: 'O',
                  Õ: 'O',
                  Ö: 'O',
                  Ø: 'O',
                  ò: 'o',
                  ó: 'o',
                  ô: 'o',
                  õ: 'o',
                  ö: 'o',
                  ø: 'o',
                  Ù: 'U',
                  Ú: 'U',
                  Û: 'U',
                  Ü: 'U',
                  ù: 'u',
                  ú: 'u',
                  û: 'u',
                  ü: 'u',
                  Ý: 'Y',
                  ý: 'y',
                  ÿ: 'y',
                  Æ: 'Ae',
                  æ: 'ae',
                  Þ: 'Th',
                  þ: 'th',
                  ß: 'ss',
                  Ā: 'A',
                  Ă: 'A',
                  Ą: 'A',
                  ā: 'a',
                  ă: 'a',
                  ą: 'a',
                  Ć: 'C',
                  Ĉ: 'C',
                  Ċ: 'C',
                  Č: 'C',
                  ć: 'c',
                  ĉ: 'c',
                  ċ: 'c',
                  č: 'c',
                  Ď: 'D',
                  Đ: 'D',
                  ď: 'd',
                  đ: 'd',
                  Ē: 'E',
                  Ĕ: 'E',
                  Ė: 'E',
                  Ę: 'E',
                  Ě: 'E',
                  ē: 'e',
                  ĕ: 'e',
                  ė: 'e',
                  ę: 'e',
                  ě: 'e',
                  Ĝ: 'G',
                  Ğ: 'G',
                  Ġ: 'G',
                  Ģ: 'G',
                  ĝ: 'g',
                  ğ: 'g',
                  ġ: 'g',
                  ģ: 'g',
                  Ĥ: 'H',
                  Ħ: 'H',
                  ĥ: 'h',
                  ħ: 'h',
                  Ĩ: 'I',
                  Ī: 'I',
                  Ĭ: 'I',
                  Į: 'I',
                  İ: 'I',
                  ĩ: 'i',
                  ī: 'i',
                  ĭ: 'i',
                  į: 'i',
                  ı: 'i',
                  Ĵ: 'J',
                  ĵ: 'j',
                  Ķ: 'K',
                  ķ: 'k',
                  ĸ: 'k',
                  Ĺ: 'L',
                  Ļ: 'L',
                  Ľ: 'L',
                  Ŀ: 'L',
                  Ł: 'L',
                  ĺ: 'l',
                  ļ: 'l',
                  ľ: 'l',
                  ŀ: 'l',
                  ł: 'l',
                  Ń: 'N',
                  Ņ: 'N',
                  Ň: 'N',
                  Ŋ: 'N',
                  ń: 'n',
                  ņ: 'n',
                  ň: 'n',
                  ŋ: 'n',
                  Ō: 'O',
                  Ŏ: 'O',
                  Ő: 'O',
                  ō: 'o',
                  ŏ: 'o',
                  ő: 'o',
                  Ŕ: 'R',
                  Ŗ: 'R',
                  Ř: 'R',
                  ŕ: 'r',
                  ŗ: 'r',
                  ř: 'r',
                  Ś: 'S',
                  Ŝ: 'S',
                  Ş: 'S',
                  Š: 'S',
                  ś: 's',
                  ŝ: 's',
                  ş: 's',
                  š: 's',
                  Ţ: 'T',
                  Ť: 'T',
                  Ŧ: 'T',
                  ţ: 't',
                  ť: 't',
                  ŧ: 't',
                  Ũ: 'U',
                  Ū: 'U',
                  Ŭ: 'U',
                  Ů: 'U',
                  Ű: 'U',
                  Ų: 'U',
                  ũ: 'u',
                  ū: 'u',
                  ŭ: 'u',
                  ů: 'u',
                  ű: 'u',
                  ų: 'u',
                  Ŵ: 'W',
                  ŵ: 'w',
                  Ŷ: 'Y',
                  ŷ: 'y',
                  Ÿ: 'Y',
                  Ź: 'Z',
                  Ż: 'Z',
                  Ž: 'Z',
                  ź: 'z',
                  ż: 'z',
                  ž: 'z',
                  Ĳ: 'IJ',
                  ĳ: 'ij',
                  Œ: 'Oe',
                  œ: 'oe',
                  ŉ: "'n",
                  ſ: 's',
                }),
                Ze = je({ '&': '&amp;', '<': '&lt;', '>': '&gt;', '"': '&quot;', "'": '&#39;' });
              function $e(t) {
                return '\\' + te[t];
              }
              function Qe(t) {
                return qt.test(t);
              }
              function Je(t) {
                var e = -1,
                  n = Array(t.size);
                return (
                  t.forEach(function (t, r) {
                    n[++e] = [r, t];
                  }),
                  n
                );
              }
              function tn(t, e) {
                return function (n) {
                  return t(e(n));
                };
              }
              function en(t, e) {
                for (var n = -1, r = t.length, i = 0, o = []; ++n < r; ) {
                  var a = t[n];
                  (a !== e && a !== s) || ((t[n] = s), (o[i++] = n));
                }
                return o;
              }
              function nn(t) {
                var e = -1,
                  n = Array(t.size);
                return (
                  t.forEach(function (t) {
                    n[++e] = t;
                  }),
                  n
                );
              }
              function rn(t) {
                var e = -1,
                  n = Array(t.size);
                return (
                  t.forEach(function (t) {
                    n[++e] = [t, t];
                  }),
                  n
                );
              }
              function on(t) {
                return Qe(t)
                  ? (function (t) {
                      for (var e = (Xt.lastIndex = 0); Xt.test(t); ) ++e;
                      return e;
                    })(t)
                  : Te(t);
              }
              function an(t) {
                return Qe(t)
                  ? (function (t) {
                      return t.match(Xt) || [];
                    })(t)
                  : (function (t) {
                      return t.split('');
                    })(t);
              }
              function sn(t) {
                for (var e = t.length; e-- && it.test(t.charAt(e)); );
                return e;
              }
              var un = je({ '&amp;': '&', '&lt;': '<', '&gt;': '>', '&quot;': '"', '&#39;': "'" }),
                cn = (function t(e) {
                  var n,
                    r = (e = null == e ? oe : cn.defaults(oe.Object(), e, cn.pick(oe, Zt))).Array,
                    it = e.Date,
                    _t = e.Error,
                    wt = e.Function,
                    Et = e.Math,
                    St = e.Object,
                    Mt = e.RegExp,
                    kt = e.String,
                    At = e.TypeError,
                    Ct = r.prototype,
                    It = wt.prototype,
                    Tt = St.prototype,
                    Nt = e['__core-js_shared__'],
                    Pt = It.toString,
                    Ot = Tt.hasOwnProperty,
                    Dt = 0,
                    Lt = (n = /[^.]+$/.exec((Nt && Nt.keys && Nt.keys.IE_PROTO) || ''))
                      ? 'Symbol(src)_1.' + n
                      : '',
                    Rt = Tt.toString,
                    Bt = Pt.call(St),
                    jt = oe._,
                    Gt = Mt(
                      '^' +
                        Pt.call(Ot)
                          .replace(et, '\\$&')
                          .replace(
                            /hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,
                            '$1.*?',
                          ) +
                        '$',
                    ),
                    zt = ue ? e.Buffer : i,
                    Ft = e.Symbol,
                    Ut = e.Uint8Array,
                    Vt = zt ? zt.allocUnsafe : i,
                    Xt = tn(St.getPrototypeOf, St),
                    qt = St.create,
                    te = Tt.propertyIsEnumerable,
                    re = Ct.splice,
                    ie = Ft ? Ft.isConcatSpreadable : i,
                    ae = Ft ? Ft.iterator : i,
                    se = Ft ? Ft.toStringTag : i,
                    ce = (function () {
                      try {
                        var t = co(St, 'defineProperty');
                        return t({}, '', {}), t;
                      } catch (t) {}
                    })(),
                    le = e.clearTimeout !== oe.clearTimeout && e.clearTimeout,
                    Te = it && it.now !== oe.Date.now && it.now,
                    je = e.setTimeout !== oe.setTimeout && e.setTimeout,
                    ln = Et.ceil,
                    hn = Et.floor,
                    fn = St.getOwnPropertySymbols,
                    dn = zt ? zt.isBuffer : i,
                    pn = e.isFinite,
                    gn = Ct.join,
                    vn = tn(St.keys, St),
                    yn = Et.max,
                    mn = Et.min,
                    bn = it.now,
                    xn = e.parseInt,
                    _n = Et.random,
                    wn = Ct.reverse,
                    En = co(e, 'DataView'),
                    Sn = co(e, 'Map'),
                    Mn = co(e, 'Promise'),
                    kn = co(e, 'Set'),
                    An = co(e, 'WeakMap'),
                    Cn = co(St, 'create'),
                    In = An && new An(),
                    Tn = {},
                    Nn = Go(En),
                    Pn = Go(Sn),
                    On = Go(Mn),
                    Dn = Go(kn),
                    Ln = Go(An),
                    Rn = Ft ? Ft.prototype : i,
                    Bn = Rn ? Rn.valueOf : i,
                    jn = Rn ? Rn.toString : i;
                  function Gn(t) {
                    if (ns(t) && !Ya(t) && !(t instanceof Vn)) {
                      if (t instanceof Un) return t;
                      if (Ot.call(t, '__wrapped__')) return zo(t);
                    }
                    return new Un(t);
                  }
                  var zn = (function () {
                    function t() {}
                    return function (e) {
                      if (!es(e)) return {};
                      if (qt) return qt(e);
                      t.prototype = e;
                      var n = new t();
                      return (t.prototype = i), n;
                    };
                  })();
                  function Fn() {}
                  function Un(t, e) {
                    (this.__wrapped__ = t),
                      (this.__actions__ = []),
                      (this.__chain__ = !!e),
                      (this.__index__ = 0),
                      (this.__values__ = i);
                  }
                  function Vn(t) {
                    (this.__wrapped__ = t),
                      (this.__actions__ = []),
                      (this.__dir__ = 1),
                      (this.__filtered__ = !1),
                      (this.__iteratees__ = []),
                      (this.__takeCount__ = d),
                      (this.__views__ = []);
                  }
                  function Wn(t) {
                    var e = -1,
                      n = null == t ? 0 : t.length;
                    for (this.clear(); ++e < n; ) {
                      var r = t[e];
                      this.set(r[0], r[1]);
                    }
                  }
                  function Yn(t) {
                    var e = -1,
                      n = null == t ? 0 : t.length;
                    for (this.clear(); ++e < n; ) {
                      var r = t[e];
                      this.set(r[0], r[1]);
                    }
                  }
                  function Xn(t) {
                    var e = -1,
                      n = null == t ? 0 : t.length;
                    for (this.clear(); ++e < n; ) {
                      var r = t[e];
                      this.set(r[0], r[1]);
                    }
                  }
                  function Hn(t) {
                    var e = -1,
                      n = null == t ? 0 : t.length;
                    for (this.__data__ = new Xn(); ++e < n; ) this.add(t[e]);
                  }
                  function qn(t) {
                    var e = (this.__data__ = new Yn(t));
                    this.size = e.size;
                  }
                  function Kn(t, e) {
                    var n = Ya(t),
                      r = !n && Wa(t),
                      i = !n && !r && Ka(t),
                      o = !n && !r && !i && ls(t),
                      a = n || r || i || o,
                      s = a ? Fe(t.length, kt) : [],
                      u = s.length;
                    for (var c in t)
                      (!e && !Ot.call(t, c)) ||
                        (a &&
                          ('length' == c ||
                            (i && ('offset' == c || 'parent' == c)) ||
                            (o && ('buffer' == c || 'byteLength' == c || 'byteOffset' == c)) ||
                            yo(c, u))) ||
                        s.push(c);
                    return s;
                  }
                  function Zn(t) {
                    var e = t.length;
                    return e ? t[Xr(0, e - 1)] : i;
                  }
                  function $n(t, e) {
                    return Do(Ai(t), ar(e, 0, t.length));
                  }
                  function Qn(t) {
                    return Do(Ai(t));
                  }
                  function Jn(t, e, n) {
                    ((n !== i && !Fa(t[e], n)) || (n === i && !(e in t))) && ir(t, e, n);
                  }
                  function tr(t, e, n) {
                    var r = t[e];
                    (Ot.call(t, e) && Fa(r, n) && (n !== i || e in t)) || ir(t, e, n);
                  }
                  function er(t, e) {
                    for (var n = t.length; n--; ) if (Fa(t[n][0], e)) return n;
                    return -1;
                  }
                  function nr(t, e, n, r) {
                    return (
                      hr(t, function (t, i, o) {
                        e(r, t, n(t), o);
                      }),
                      r
                    );
                  }
                  function rr(t, e) {
                    return t && Ci(e, Ps(e), t);
                  }
                  function ir(t, e, n) {
                    '__proto__' == e && ce
                      ? ce(t, e, { configurable: !0, enumerable: !0, value: n, writable: !0 })
                      : (t[e] = n);
                  }
                  function or(t, e) {
                    for (var n = -1, o = e.length, a = r(o), s = null == t; ++n < o; )
                      a[n] = s ? i : As(t, e[n]);
                    return a;
                  }
                  function ar(t, e, n) {
                    return (
                      t == t && (n !== i && (t = t <= n ? t : n), e !== i && (t = t >= e ? t : e)),
                      t
                    );
                  }
                  function sr(t, e, n, r, o, a) {
                    var s,
                      u = 1 & e,
                      c = 2 & e,
                      l = 4 & e;
                    if ((n && (s = o ? n(t, r, o, a) : n(t)), s !== i)) return s;
                    if (!es(t)) return t;
                    var h = Ya(t);
                    if (h) {
                      if (
                        ((s = (function (t) {
                          var e = t.length,
                            n = new t.constructor(e);
                          return (
                            e &&
                              'string' == typeof t[0] &&
                              Ot.call(t, 'index') &&
                              ((n.index = t.index), (n.input = t.input)),
                            n
                          );
                        })(t)),
                        !u)
                      )
                        return Ai(t, s);
                    } else {
                      var f = fo(t),
                        d = f == x || f == _;
                      if (Ka(t)) return _i(t, u);
                      if (f == S || f == g || (d && !o)) {
                        if (((s = c || d ? {} : go(t)), !u))
                          return c
                            ? (function (t, e) {
                                return Ci(t, ho(t), e);
                              })(
                                t,
                                (function (t, e) {
                                  return t && Ci(e, Os(e), t);
                                })(s, t),
                              )
                            : (function (t, e) {
                                return Ci(t, lo(t), e);
                              })(t, rr(s, t));
                      } else {
                        if (!Jt[f]) return o ? t : {};
                        s = (function (t, e, n) {
                          var r,
                            i = t.constructor;
                          switch (e) {
                            case N:
                              return wi(t);
                            case y:
                            case m:
                              return new i(+t);
                            case P:
                              return (function (t, e) {
                                var n = e ? wi(t.buffer) : t.buffer;
                                return new t.constructor(n, t.byteOffset, t.byteLength);
                              })(t, n);
                            case O:
                            case D:
                            case L:
                            case R:
                            case B:
                            case j:
                            case G:
                            case z:
                            case F:
                              return Ei(t, n);
                            case w:
                              return new i();
                            case E:
                            case C:
                              return new i(t);
                            case k:
                              return (function (t) {
                                var e = new t.constructor(t.source, ft.exec(t));
                                return (e.lastIndex = t.lastIndex), e;
                              })(t);
                            case A:
                              return new i();
                            case I:
                              return (r = t), Bn ? St(Bn.call(r)) : {};
                          }
                        })(t, f, u);
                      }
                    }
                    a || (a = new qn());
                    var p = a.get(t);
                    if (p) return p;
                    a.set(t, s),
                      ss(t)
                        ? t.forEach(function (r) {
                            s.add(sr(r, e, n, r, t, a));
                          })
                        : rs(t) &&
                          t.forEach(function (r, i) {
                            s.set(i, sr(r, e, n, i, t, a));
                          });
                    var v = h ? i : (l ? (c ? no : eo) : c ? Os : Ps)(t);
                    return (
                      be(v || t, function (r, i) {
                        v && (r = t[(i = r)]), tr(s, i, sr(r, e, n, i, t, a));
                      }),
                      s
                    );
                  }
                  function ur(t, e, n) {
                    var r = n.length;
                    if (null == t) return !r;
                    for (t = St(t); r--; ) {
                      var o = n[r],
                        a = e[o],
                        s = t[o];
                      if ((s === i && !(o in t)) || !a(s)) return !1;
                    }
                    return !0;
                  }
                  function cr(t, e, n) {
                    if ('function' != typeof t) throw new At(o);
                    return To(function () {
                      t.apply(i, n);
                    }, e);
                  }
                  function lr(t, e, n, r) {
                    var i = -1,
                      o = Ee,
                      a = !0,
                      s = t.length,
                      u = [],
                      c = e.length;
                    if (!s) return u;
                    n && (e = Me(e, Ve(n))),
                      r
                        ? ((o = Se), (a = !1))
                        : e.length >= 200 && ((o = Ye), (a = !1), (e = new Hn(e)));
                    t: for (; ++i < s; ) {
                      var l = t[i],
                        h = null == n ? l : n(l);
                      if (((l = r || 0 !== l ? l : 0), a && h == h)) {
                        for (var f = c; f--; ) if (e[f] === h) continue t;
                        u.push(l);
                      } else o(e, h, r) || u.push(l);
                    }
                    return u;
                  }
                  (Gn.templateSettings = {
                    escape: K,
                    evaluate: Z,
                    interpolate: $,
                    variable: '',
                    imports: { _: Gn },
                  }),
                    (Gn.prototype = Fn.prototype),
                    (Gn.prototype.constructor = Gn),
                    (Un.prototype = zn(Fn.prototype)),
                    (Un.prototype.constructor = Un),
                    (Vn.prototype = zn(Fn.prototype)),
                    (Vn.prototype.constructor = Vn),
                    (Wn.prototype.clear = function () {
                      (this.__data__ = Cn ? Cn(null) : {}), (this.size = 0);
                    }),
                    (Wn.prototype.delete = function (t) {
                      var e = this.has(t) && delete this.__data__[t];
                      return (this.size -= e ? 1 : 0), e;
                    }),
                    (Wn.prototype.get = function (t) {
                      var e = this.__data__;
                      if (Cn) {
                        var n = e[t];
                        return n === a ? i : n;
                      }
                      return Ot.call(e, t) ? e[t] : i;
                    }),
                    (Wn.prototype.has = function (t) {
                      var e = this.__data__;
                      return Cn ? e[t] !== i : Ot.call(e, t);
                    }),
                    (Wn.prototype.set = function (t, e) {
                      var n = this.__data__;
                      return (
                        (this.size += this.has(t) ? 0 : 1), (n[t] = Cn && e === i ? a : e), this
                      );
                    }),
                    (Yn.prototype.clear = function () {
                      (this.__data__ = []), (this.size = 0);
                    }),
                    (Yn.prototype.delete = function (t) {
                      var e = this.__data__,
                        n = er(e, t);
                      return !(
                        n < 0 || (n == e.length - 1 ? e.pop() : re.call(e, n, 1), --this.size, 0)
                      );
                    }),
                    (Yn.prototype.get = function (t) {
                      var e = this.__data__,
                        n = er(e, t);
                      return n < 0 ? i : e[n][1];
                    }),
                    (Yn.prototype.has = function (t) {
                      return er(this.__data__, t) > -1;
                    }),
                    (Yn.prototype.set = function (t, e) {
                      var n = this.__data__,
                        r = er(n, t);
                      return r < 0 ? (++this.size, n.push([t, e])) : (n[r][1] = e), this;
                    }),
                    (Xn.prototype.clear = function () {
                      (this.size = 0),
                        (this.__data__ = {
                          hash: new Wn(),
                          map: new (Sn || Yn)(),
                          string: new Wn(),
                        });
                    }),
                    (Xn.prototype.delete = function (t) {
                      var e = so(this, t).delete(t);
                      return (this.size -= e ? 1 : 0), e;
                    }),
                    (Xn.prototype.get = function (t) {
                      return so(this, t).get(t);
                    }),
                    (Xn.prototype.has = function (t) {
                      return so(this, t).has(t);
                    }),
                    (Xn.prototype.set = function (t, e) {
                      var n = so(this, t),
                        r = n.size;
                      return n.set(t, e), (this.size += n.size == r ? 0 : 1), this;
                    }),
                    (Hn.prototype.add = Hn.prototype.push =
                      function (t) {
                        return this.__data__.set(t, a), this;
                      }),
                    (Hn.prototype.has = function (t) {
                      return this.__data__.has(t);
                    }),
                    (qn.prototype.clear = function () {
                      (this.__data__ = new Yn()), (this.size = 0);
                    }),
                    (qn.prototype.delete = function (t) {
                      var e = this.__data__,
                        n = e.delete(t);
                      return (this.size = e.size), n;
                    }),
                    (qn.prototype.get = function (t) {
                      return this.__data__.get(t);
                    }),
                    (qn.prototype.has = function (t) {
                      return this.__data__.has(t);
                    }),
                    (qn.prototype.set = function (t, e) {
                      var n = this.__data__;
                      if (n instanceof Yn) {
                        var r = n.__data__;
                        if (!Sn || r.length < 199)
                          return r.push([t, e]), (this.size = ++n.size), this;
                        n = this.__data__ = new Xn(r);
                      }
                      return n.set(t, e), (this.size = n.size), this;
                    });
                  var hr = Ni(br),
                    fr = Ni(xr, !0);
                  function dr(t, e) {
                    var n = !0;
                    return (
                      hr(t, function (t, r, i) {
                        return (n = !!e(t, r, i));
                      }),
                      n
                    );
                  }
                  function pr(t, e, n) {
                    for (var r = -1, o = t.length; ++r < o; ) {
                      var a = t[r],
                        s = e(a);
                      if (null != s && (u === i ? s == s && !cs(s) : n(s, u)))
                        var u = s,
                          c = a;
                    }
                    return c;
                  }
                  function gr(t, e) {
                    var n = [];
                    return (
                      hr(t, function (t, r, i) {
                        e(t, r, i) && n.push(t);
                      }),
                      n
                    );
                  }
                  function vr(t, e, n, r, i) {
                    var o = -1,
                      a = t.length;
                    for (n || (n = vo), i || (i = []); ++o < a; ) {
                      var s = t[o];
                      e > 0 && n(s)
                        ? e > 1
                          ? vr(s, e - 1, n, r, i)
                          : ke(i, s)
                        : r || (i[i.length] = s);
                    }
                    return i;
                  }
                  var yr = Pi(),
                    mr = Pi(!0);
                  function br(t, e) {
                    return t && yr(t, e, Ps);
                  }
                  function xr(t, e) {
                    return t && mr(t, e, Ps);
                  }
                  function _r(t, e) {
                    return we(e, function (e) {
                      return Qa(t[e]);
                    });
                  }
                  function wr(t, e) {
                    for (var n = 0, r = (e = yi(e, t)).length; null != t && n < r; )
                      t = t[jo(e[n++])];
                    return n && n == r ? t : i;
                  }
                  function Er(t, e, n) {
                    var r = e(t);
                    return Ya(t) ? r : ke(r, n(t));
                  }
                  function Sr(t) {
                    return null == t
                      ? t === i
                        ? '[object Undefined]'
                        : '[object Null]'
                      : se && se in St(t)
                      ? (function (t) {
                          var e = Ot.call(t, se),
                            n = t[se];
                          try {
                            t[se] = i;
                            var r = !0;
                          } catch (t) {}
                          var o = Rt.call(t);
                          return r && (e ? (t[se] = n) : delete t[se]), o;
                        })(t)
                      : (function (t) {
                          return Rt.call(t);
                        })(t);
                  }
                  function Mr(t, e) {
                    return t > e;
                  }
                  function kr(t, e) {
                    return null != t && Ot.call(t, e);
                  }
                  function Ar(t, e) {
                    return null != t && e in St(t);
                  }
                  function Cr(t, e, n) {
                    for (
                      var o = n ? Se : Ee,
                        a = t[0].length,
                        s = t.length,
                        u = s,
                        c = r(s),
                        l = 1 / 0,
                        h = [];
                      u--;

                    ) {
                      var f = t[u];
                      u && e && (f = Me(f, Ve(e))),
                        (l = mn(f.length, l)),
                        (c[u] = !n && (e || (a >= 120 && f.length >= 120)) ? new Hn(u && f) : i);
                    }
                    f = t[0];
                    var d = -1,
                      p = c[0];
                    t: for (; ++d < a && h.length < l; ) {
                      var g = f[d],
                        v = e ? e(g) : g;
                      if (((g = n || 0 !== g ? g : 0), !(p ? Ye(p, v) : o(h, v, n)))) {
                        for (u = s; --u; ) {
                          var y = c[u];
                          if (!(y ? Ye(y, v) : o(t[u], v, n))) continue t;
                        }
                        p && p.push(v), h.push(g);
                      }
                    }
                    return h;
                  }
                  function Ir(t, e, n) {
                    var r = null == (t = ko(t, (e = yi(e, t)))) ? t : t[jo($o(e))];
                    return null == r ? i : ye(r, t, n);
                  }
                  function Tr(t) {
                    return ns(t) && Sr(t) == g;
                  }
                  function Nr(t, e, n, r, o) {
                    return (
                      t === e ||
                      (null == t || null == e || (!ns(t) && !ns(e))
                        ? t != t && e != e
                        : (function (t, e, n, r, o, a) {
                            var s = Ya(t),
                              u = Ya(e),
                              c = s ? v : fo(t),
                              l = u ? v : fo(e),
                              h = (c = c == g ? S : c) == S,
                              f = (l = l == g ? S : l) == S,
                              d = c == l;
                            if (d && Ka(t)) {
                              if (!Ka(e)) return !1;
                              (s = !0), (h = !1);
                            }
                            if (d && !h)
                              return (
                                a || (a = new qn()),
                                s || ls(t)
                                  ? Ji(t, e, n, r, o, a)
                                  : (function (t, e, n, r, i, o, a) {
                                      switch (n) {
                                        case P:
                                          if (
                                            t.byteLength != e.byteLength ||
                                            t.byteOffset != e.byteOffset
                                          )
                                            return !1;
                                          (t = t.buffer), (e = e.buffer);
                                        case N:
                                          return !(
                                            t.byteLength != e.byteLength || !o(new Ut(t), new Ut(e))
                                          );
                                        case y:
                                        case m:
                                        case E:
                                          return Fa(+t, +e);
                                        case b:
                                          return t.name == e.name && t.message == e.message;
                                        case k:
                                        case C:
                                          return t == e + '';
                                        case w:
                                          var s = Je;
                                        case A:
                                          var u = 1 & r;
                                          if ((s || (s = nn), t.size != e.size && !u)) return !1;
                                          var c = a.get(t);
                                          if (c) return c == e;
                                          (r |= 2), a.set(t, e);
                                          var l = Ji(s(t), s(e), r, i, o, a);
                                          return a.delete(t), l;
                                        case I:
                                          if (Bn) return Bn.call(t) == Bn.call(e);
                                      }
                                      return !1;
                                    })(t, e, c, n, r, o, a)
                              );
                            if (!(1 & n)) {
                              var p = h && Ot.call(t, '__wrapped__'),
                                x = f && Ot.call(e, '__wrapped__');
                              if (p || x) {
                                var _ = p ? t.value() : t,
                                  M = x ? e.value() : e;
                                return a || (a = new qn()), o(_, M, n, r, a);
                              }
                            }
                            return (
                              !!d &&
                              (a || (a = new qn()),
                              (function (t, e, n, r, o, a) {
                                var s = 1 & n,
                                  u = eo(t),
                                  c = u.length;
                                if (c != eo(e).length && !s) return !1;
                                for (var l = c; l--; ) {
                                  var h = u[l];
                                  if (!(s ? h in e : Ot.call(e, h))) return !1;
                                }
                                var f = a.get(t),
                                  d = a.get(e);
                                if (f && d) return f == e && d == t;
                                var p = !0;
                                a.set(t, e), a.set(e, t);
                                for (var g = s; ++l < c; ) {
                                  var v = t[(h = u[l])],
                                    y = e[h];
                                  if (r) var m = s ? r(y, v, h, e, t, a) : r(v, y, h, t, e, a);
                                  if (!(m === i ? v === y || o(v, y, n, r, a) : m)) {
                                    p = !1;
                                    break;
                                  }
                                  g || (g = 'constructor' == h);
                                }
                                if (p && !g) {
                                  var b = t.constructor,
                                    x = e.constructor;
                                  b == x ||
                                    !('constructor' in t) ||
                                    !('constructor' in e) ||
                                    ('function' == typeof b &&
                                      b instanceof b &&
                                      'function' == typeof x &&
                                      x instanceof x) ||
                                    (p = !1);
                                }
                                return a.delete(t), a.delete(e), p;
                              })(t, e, n, r, o, a))
                            );
                          })(t, e, n, r, Nr, o))
                    );
                  }
                  function Pr(t, e, n, r) {
                    var o = n.length,
                      a = o,
                      s = !r;
                    if (null == t) return !a;
                    for (t = St(t); o--; ) {
                      var u = n[o];
                      if (s && u[2] ? u[1] !== t[u[0]] : !(u[0] in t)) return !1;
                    }
                    for (; ++o < a; ) {
                      var c = (u = n[o])[0],
                        l = t[c],
                        h = u[1];
                      if (s && u[2]) {
                        if (l === i && !(c in t)) return !1;
                      } else {
                        var f = new qn();
                        if (r) var d = r(l, h, c, t, e, f);
                        if (!(d === i ? Nr(h, l, 3, r, f) : d)) return !1;
                      }
                    }
                    return !0;
                  }
                  function Or(t) {
                    return !(!es(t) || ((e = t), Lt && Lt in e)) && (Qa(t) ? Gt : gt).test(Go(t));
                    var e;
                  }
                  function Dr(t) {
                    return 'function' == typeof t
                      ? t
                      : null == t
                      ? iu
                      : 'object' == typeof t
                      ? Ya(t)
                        ? Gr(t[0], t[1])
                        : jr(t)
                      : du(t);
                  }
                  function Lr(t) {
                    if (!wo(t)) return vn(t);
                    var e = [];
                    for (var n in St(t)) Ot.call(t, n) && 'constructor' != n && e.push(n);
                    return e;
                  }
                  function Rr(t, e) {
                    return t < e;
                  }
                  function Br(t, e) {
                    var n = -1,
                      i = Ha(t) ? r(t.length) : [];
                    return (
                      hr(t, function (t, r, o) {
                        i[++n] = e(t, r, o);
                      }),
                      i
                    );
                  }
                  function jr(t) {
                    var e = uo(t);
                    return 1 == e.length && e[0][2]
                      ? So(e[0][0], e[0][1])
                      : function (n) {
                          return n === t || Pr(n, t, e);
                        };
                  }
                  function Gr(t, e) {
                    return bo(t) && Eo(e)
                      ? So(jo(t), e)
                      : function (n) {
                          var r = As(n, t);
                          return r === i && r === e ? Cs(n, t) : Nr(e, r, 3);
                        };
                  }
                  function zr(t, e, n, r, o) {
                    t !== e &&
                      yr(
                        e,
                        function (a, s) {
                          if ((o || (o = new qn()), es(a)))
                            !(function (t, e, n, r, o, a, s) {
                              var u = Co(t, n),
                                c = Co(e, n),
                                l = s.get(c);
                              if (l) Jn(t, n, l);
                              else {
                                var h = a ? a(u, c, n + '', t, e, s) : i,
                                  f = h === i;
                                if (f) {
                                  var d = Ya(c),
                                    p = !d && Ka(c),
                                    g = !d && !p && ls(c);
                                  (h = c),
                                    d || p || g
                                      ? Ya(u)
                                        ? (h = u)
                                        : qa(u)
                                        ? (h = Ai(u))
                                        : p
                                        ? ((f = !1), (h = _i(c, !0)))
                                        : g
                                        ? ((f = !1), (h = Ei(c, !0)))
                                        : (h = [])
                                      : os(c) || Wa(c)
                                      ? ((h = u),
                                        Wa(u) ? (h = ms(u)) : (es(u) && !Qa(u)) || (h = go(c)))
                                      : (f = !1);
                                }
                                f && (s.set(c, h), o(h, c, r, a, s), s.delete(c)), Jn(t, n, h);
                              }
                            })(t, e, s, n, zr, r, o);
                          else {
                            var u = r ? r(Co(t, s), a, s + '', t, e, o) : i;
                            u === i && (u = a), Jn(t, s, u);
                          }
                        },
                        Os,
                      );
                  }
                  function Fr(t, e) {
                    var n = t.length;
                    if (n) return yo((e += e < 0 ? n : 0), n) ? t[e] : i;
                  }
                  function Ur(t, e, n) {
                    e = e.length
                      ? Me(e, function (t) {
                          return Ya(t)
                            ? function (e) {
                                return wr(e, 1 === t.length ? t[0] : t);
                              }
                            : t;
                        })
                      : [iu];
                    var r = -1;
                    e = Me(e, Ve(ao()));
                    var i = Br(t, function (t, n, i) {
                      var o = Me(e, function (e) {
                        return e(t);
                      });
                      return { criteria: o, index: ++r, value: t };
                    });
                    return (function (t, e) {
                      var r = t.length;
                      for (
                        t.sort(function (t, e) {
                          return (function (t, e, n) {
                            for (
                              var r = -1,
                                i = t.criteria,
                                o = e.criteria,
                                a = i.length,
                                s = n.length;
                              ++r < a;

                            ) {
                              var u = Si(i[r], o[r]);
                              if (u) return r >= s ? u : u * ('desc' == n[r] ? -1 : 1);
                            }
                            return t.index - e.index;
                          })(t, e, n);
                        });
                        r--;

                      )
                        t[r] = t[r].value;
                      return t;
                    })(i);
                  }
                  function Vr(t, e, n) {
                    for (var r = -1, i = e.length, o = {}; ++r < i; ) {
                      var a = e[r],
                        s = wr(t, a);
                      n(s, a) && $r(o, yi(a, t), s);
                    }
                    return o;
                  }
                  function Wr(t, e, n, r) {
                    var i = r ? De : Oe,
                      o = -1,
                      a = e.length,
                      s = t;
                    for (t === e && (e = Ai(e)), n && (s = Me(t, Ve(n))); ++o < a; )
                      for (var u = 0, c = e[o], l = n ? n(c) : c; (u = i(s, l, u, r)) > -1; )
                        s !== t && re.call(s, u, 1), re.call(t, u, 1);
                    return t;
                  }
                  function Yr(t, e) {
                    for (var n = t ? e.length : 0, r = n - 1; n--; ) {
                      var i = e[n];
                      if (n == r || i !== o) {
                        var o = i;
                        yo(i) ? re.call(t, i, 1) : ci(t, i);
                      }
                    }
                    return t;
                  }
                  function Xr(t, e) {
                    return t + hn(_n() * (e - t + 1));
                  }
                  function Hr(t, e) {
                    var n = '';
                    if (!t || e < 1 || e > h) return n;
                    do {
                      e % 2 && (n += t), (e = hn(e / 2)) && (t += t);
                    } while (e);
                    return n;
                  }
                  function qr(t, e) {
                    return No(Mo(t, e, iu), t + '');
                  }
                  function Kr(t) {
                    return Zn(Fs(t));
                  }
                  function Zr(t, e) {
                    var n = Fs(t);
                    return Do(n, ar(e, 0, n.length));
                  }
                  function $r(t, e, n, r) {
                    if (!es(t)) return t;
                    for (
                      var o = -1, a = (e = yi(e, t)).length, s = a - 1, u = t;
                      null != u && ++o < a;

                    ) {
                      var c = jo(e[o]),
                        l = n;
                      if ('__proto__' === c || 'constructor' === c || 'prototype' === c) return t;
                      if (o != s) {
                        var h = u[c];
                        (l = r ? r(h, c, u) : i) === i && (l = es(h) ? h : yo(e[o + 1]) ? [] : {});
                      }
                      tr(u, c, l), (u = u[c]);
                    }
                    return t;
                  }
                  var Qr = In
                      ? function (t, e) {
                          return In.set(t, e), t;
                        }
                      : iu,
                    Jr = ce
                      ? function (t, e) {
                          return ce(t, 'toString', {
                            configurable: !0,
                            enumerable: !1,
                            value: eu(e),
                            writable: !0,
                          });
                        }
                      : iu;
                  function ti(t) {
                    return Do(Fs(t));
                  }
                  function ei(t, e, n) {
                    var i = -1,
                      o = t.length;
                    e < 0 && (e = -e > o ? 0 : o + e),
                      (n = n > o ? o : n) < 0 && (n += o),
                      (o = e > n ? 0 : (n - e) >>> 0),
                      (e >>>= 0);
                    for (var a = r(o); ++i < o; ) a[i] = t[i + e];
                    return a;
                  }
                  function ni(t, e) {
                    var n;
                    return (
                      hr(t, function (t, r, i) {
                        return !(n = e(t, r, i));
                      }),
                      !!n
                    );
                  }
                  function ri(t, e, n) {
                    var r = 0,
                      i = null == t ? r : t.length;
                    if ('number' == typeof e && e == e && i <= 2147483647) {
                      for (; r < i; ) {
                        var o = (r + i) >>> 1,
                          a = t[o];
                        null !== a && !cs(a) && (n ? a <= e : a < e) ? (r = o + 1) : (i = o);
                      }
                      return i;
                    }
                    return ii(t, e, iu, n);
                  }
                  function ii(t, e, n, r) {
                    var o = 0,
                      a = null == t ? 0 : t.length;
                    if (0 === a) return 0;
                    for (var s = (e = n(e)) != e, u = null === e, c = cs(e), l = e === i; o < a; ) {
                      var h = hn((o + a) / 2),
                        f = n(t[h]),
                        d = f !== i,
                        p = null === f,
                        g = f == f,
                        v = cs(f);
                      if (s) var y = r || g;
                      else
                        y = l
                          ? g && (r || d)
                          : u
                          ? g && d && (r || !p)
                          : c
                          ? g && d && !p && (r || !v)
                          : !p && !v && (r ? f <= e : f < e);
                      y ? (o = h + 1) : (a = h);
                    }
                    return mn(a, 4294967294);
                  }
                  function oi(t, e) {
                    for (var n = -1, r = t.length, i = 0, o = []; ++n < r; ) {
                      var a = t[n],
                        s = e ? e(a) : a;
                      if (!n || !Fa(s, u)) {
                        var u = s;
                        o[i++] = 0 === a ? 0 : a;
                      }
                    }
                    return o;
                  }
                  function ai(t) {
                    return 'number' == typeof t ? t : cs(t) ? f : +t;
                  }
                  function si(t) {
                    if ('string' == typeof t) return t;
                    if (Ya(t)) return Me(t, si) + '';
                    if (cs(t)) return jn ? jn.call(t) : '';
                    var e = t + '';
                    return '0' == e && 1 / t == -1 / 0 ? '-0' : e;
                  }
                  function ui(t, e, n) {
                    var r = -1,
                      i = Ee,
                      o = t.length,
                      a = !0,
                      s = [],
                      u = s;
                    if (n) (a = !1), (i = Se);
                    else if (o >= 200) {
                      var c = e ? null : Hi(t);
                      if (c) return nn(c);
                      (a = !1), (i = Ye), (u = new Hn());
                    } else u = e ? [] : s;
                    t: for (; ++r < o; ) {
                      var l = t[r],
                        h = e ? e(l) : l;
                      if (((l = n || 0 !== l ? l : 0), a && h == h)) {
                        for (var f = u.length; f--; ) if (u[f] === h) continue t;
                        e && u.push(h), s.push(l);
                      } else i(u, h, n) || (u !== s && u.push(h), s.push(l));
                    }
                    return s;
                  }
                  function ci(t, e) {
                    return null == (t = ko(t, (e = yi(e, t)))) || delete t[jo($o(e))];
                  }
                  function li(t, e, n, r) {
                    return $r(t, e, n(wr(t, e)), r);
                  }
                  function hi(t, e, n, r) {
                    for (var i = t.length, o = r ? i : -1; (r ? o-- : ++o < i) && e(t[o], o, t); );
                    return n ? ei(t, r ? 0 : o, r ? o + 1 : i) : ei(t, r ? o + 1 : 0, r ? i : o);
                  }
                  function fi(t, e) {
                    var n = t;
                    return (
                      n instanceof Vn && (n = n.value()),
                      Ae(
                        e,
                        function (t, e) {
                          return e.func.apply(e.thisArg, ke([t], e.args));
                        },
                        n,
                      )
                    );
                  }
                  function di(t, e, n) {
                    var i = t.length;
                    if (i < 2) return i ? ui(t[0]) : [];
                    for (var o = -1, a = r(i); ++o < i; )
                      for (var s = t[o], u = -1; ++u < i; )
                        u != o && (a[o] = lr(a[o] || s, t[u], e, n));
                    return ui(vr(a, 1), e, n);
                  }
                  function pi(t, e, n) {
                    for (var r = -1, o = t.length, a = e.length, s = {}; ++r < o; ) {
                      var u = r < a ? e[r] : i;
                      n(s, t[r], u);
                    }
                    return s;
                  }
                  function gi(t) {
                    return qa(t) ? t : [];
                  }
                  function vi(t) {
                    return 'function' == typeof t ? t : iu;
                  }
                  function yi(t, e) {
                    return Ya(t) ? t : bo(t, e) ? [t] : Bo(bs(t));
                  }
                  var mi = qr;
                  function bi(t, e, n) {
                    var r = t.length;
                    return (n = n === i ? r : n), !e && n >= r ? t : ei(t, e, n);
                  }
                  var xi =
                    le ||
                    function (t) {
                      return oe.clearTimeout(t);
                    };
                  function _i(t, e) {
                    if (e) return t.slice();
                    var n = t.length,
                      r = Vt ? Vt(n) : new t.constructor(n);
                    return t.copy(r), r;
                  }
                  function wi(t) {
                    var e = new t.constructor(t.byteLength);
                    return new Ut(e).set(new Ut(t)), e;
                  }
                  function Ei(t, e) {
                    var n = e ? wi(t.buffer) : t.buffer;
                    return new t.constructor(n, t.byteOffset, t.length);
                  }
                  function Si(t, e) {
                    if (t !== e) {
                      var n = t !== i,
                        r = null === t,
                        o = t == t,
                        a = cs(t),
                        s = e !== i,
                        u = null === e,
                        c = e == e,
                        l = cs(e);
                      if (
                        (!u && !l && !a && t > e) ||
                        (a && s && c && !u && !l) ||
                        (r && s && c) ||
                        (!n && c) ||
                        !o
                      )
                        return 1;
                      if (
                        (!r && !a && !l && t < e) ||
                        (l && n && o && !r && !a) ||
                        (u && n && o) ||
                        (!s && o) ||
                        !c
                      )
                        return -1;
                    }
                    return 0;
                  }
                  function Mi(t, e, n, i) {
                    for (
                      var o = -1,
                        a = t.length,
                        s = n.length,
                        u = -1,
                        c = e.length,
                        l = yn(a - s, 0),
                        h = r(c + l),
                        f = !i;
                      ++u < c;

                    )
                      h[u] = e[u];
                    for (; ++o < s; ) (f || o < a) && (h[n[o]] = t[o]);
                    for (; l--; ) h[u++] = t[o++];
                    return h;
                  }
                  function ki(t, e, n, i) {
                    for (
                      var o = -1,
                        a = t.length,
                        s = -1,
                        u = n.length,
                        c = -1,
                        l = e.length,
                        h = yn(a - u, 0),
                        f = r(h + l),
                        d = !i;
                      ++o < h;

                    )
                      f[o] = t[o];
                    for (var p = o; ++c < l; ) f[p + c] = e[c];
                    for (; ++s < u; ) (d || o < a) && (f[p + n[s]] = t[o++]);
                    return f;
                  }
                  function Ai(t, e) {
                    var n = -1,
                      i = t.length;
                    for (e || (e = r(i)); ++n < i; ) e[n] = t[n];
                    return e;
                  }
                  function Ci(t, e, n, r) {
                    var o = !n;
                    n || (n = {});
                    for (var a = -1, s = e.length; ++a < s; ) {
                      var u = e[a],
                        c = r ? r(n[u], t[u], u, n, t) : i;
                      c === i && (c = t[u]), o ? ir(n, u, c) : tr(n, u, c);
                    }
                    return n;
                  }
                  function Ii(t, e) {
                    return function (n, r) {
                      var i = Ya(n) ? me : nr,
                        o = e ? e() : {};
                      return i(n, t, ao(r, 2), o);
                    };
                  }
                  function Ti(t) {
                    return qr(function (e, n) {
                      var r = -1,
                        o = n.length,
                        a = o > 1 ? n[o - 1] : i,
                        s = o > 2 ? n[2] : i;
                      for (
                        a = t.length > 3 && 'function' == typeof a ? (o--, a) : i,
                          s && mo(n[0], n[1], s) && ((a = o < 3 ? i : a), (o = 1)),
                          e = St(e);
                        ++r < o;

                      ) {
                        var u = n[r];
                        u && t(e, u, r, a);
                      }
                      return e;
                    });
                  }
                  function Ni(t, e) {
                    return function (n, r) {
                      if (null == n) return n;
                      if (!Ha(n)) return t(n, r);
                      for (
                        var i = n.length, o = e ? i : -1, a = St(n);
                        (e ? o-- : ++o < i) && !1 !== r(a[o], o, a);

                      );
                      return n;
                    };
                  }
                  function Pi(t) {
                    return function (e, n, r) {
                      for (var i = -1, o = St(e), a = r(e), s = a.length; s--; ) {
                        var u = a[t ? s : ++i];
                        if (!1 === n(o[u], u, o)) break;
                      }
                      return e;
                    };
                  }
                  function Oi(t) {
                    return function (e) {
                      var n = Qe((e = bs(e))) ? an(e) : i,
                        r = n ? n[0] : e.charAt(0),
                        o = n ? bi(n, 1).join('') : e.slice(1);
                      return r[t]() + o;
                    };
                  }
                  function Di(t) {
                    return function (e) {
                      return Ae(Qs(Ws(e).replace(Wt, '')), t, '');
                    };
                  }
                  function Li(t) {
                    return function () {
                      var e = arguments;
                      switch (e.length) {
                        case 0:
                          return new t();
                        case 1:
                          return new t(e[0]);
                        case 2:
                          return new t(e[0], e[1]);
                        case 3:
                          return new t(e[0], e[1], e[2]);
                        case 4:
                          return new t(e[0], e[1], e[2], e[3]);
                        case 5:
                          return new t(e[0], e[1], e[2], e[3], e[4]);
                        case 6:
                          return new t(e[0], e[1], e[2], e[3], e[4], e[5]);
                        case 7:
                          return new t(e[0], e[1], e[2], e[3], e[4], e[5], e[6]);
                      }
                      var n = zn(t.prototype),
                        r = t.apply(n, e);
                      return es(r) ? r : n;
                    };
                  }
                  function Ri(t) {
                    return function (e, n, r) {
                      var o = St(e);
                      if (!Ha(e)) {
                        var a = ao(n, 3);
                        (e = Ps(e)),
                          (n = function (t) {
                            return a(o[t], t, o);
                          });
                      }
                      var s = t(e, n, r);
                      return s > -1 ? o[a ? e[s] : s] : i;
                    };
                  }
                  function Bi(t) {
                    return to(function (e) {
                      var n = e.length,
                        r = n,
                        a = Un.prototype.thru;
                      for (t && e.reverse(); r--; ) {
                        var s = e[r];
                        if ('function' != typeof s) throw new At(o);
                        if (a && !u && 'wrapper' == io(s)) var u = new Un([], !0);
                      }
                      for (r = u ? r : n; ++r < n; ) {
                        var c = io((s = e[r])),
                          l = 'wrapper' == c ? ro(s) : i;
                        u =
                          l && xo(l[0]) && 424 == l[1] && !l[4].length && 1 == l[9]
                            ? u[io(l[0])].apply(u, l[3])
                            : 1 == s.length && xo(s)
                            ? u[c]()
                            : u.thru(s);
                      }
                      return function () {
                        var t = arguments,
                          r = t[0];
                        if (u && 1 == t.length && Ya(r)) return u.plant(r).value();
                        for (var i = 0, o = n ? e[i].apply(this, t) : r; ++i < n; )
                          o = e[i].call(this, o);
                        return o;
                      };
                    });
                  }
                  function ji(t, e, n, o, a, s, u, l, h, f) {
                    var d = e & c,
                      p = 1 & e,
                      g = 2 & e,
                      v = 24 & e,
                      y = 512 & e,
                      m = g ? i : Li(t);
                    return function i() {
                      for (var c = arguments.length, b = r(c), x = c; x--; ) b[x] = arguments[x];
                      if (v)
                        var _ = oo(i),
                          w = qe(b, _);
                      if (
                        (o && (b = Mi(b, o, a, v)), s && (b = ki(b, s, u, v)), (c -= w), v && c < f)
                      ) {
                        var E = en(b, _);
                        return Yi(t, e, ji, i.placeholder, n, b, E, l, h, f - c);
                      }
                      var S = p ? n : this,
                        M = g ? S[t] : t;
                      return (
                        (c = b.length),
                        l ? (b = Ao(b, l)) : y && c > 1 && b.reverse(),
                        d && h < c && (b.length = h),
                        this && this !== oe && this instanceof i && (M = m || Li(M)),
                        M.apply(S, b)
                      );
                    };
                  }
                  function Gi(t, e) {
                    return function (n, r) {
                      return (function (t, e, n, r) {
                        return (
                          br(t, function (t, i, o) {
                            e(r, n(t), i, o);
                          }),
                          r
                        );
                      })(n, t, e(r), {});
                    };
                  }
                  function zi(t, e) {
                    return function (n, r) {
                      var o;
                      if (n === i && r === i) return e;
                      if ((n !== i && (o = n), r !== i)) {
                        if (o === i) return r;
                        'string' == typeof n || 'string' == typeof r
                          ? ((n = si(n)), (r = si(r)))
                          : ((n = ai(n)), (r = ai(r))),
                          (o = t(n, r));
                      }
                      return o;
                    };
                  }
                  function Fi(t) {
                    return to(function (e) {
                      return (
                        (e = Me(e, Ve(ao()))),
                        qr(function (n) {
                          var r = this;
                          return t(e, function (t) {
                            return ye(t, r, n);
                          });
                        })
                      );
                    });
                  }
                  function Ui(t, e) {
                    var n = (e = e === i ? ' ' : si(e)).length;
                    if (n < 2) return n ? Hr(e, t) : e;
                    var r = Hr(e, ln(t / on(e)));
                    return Qe(e) ? bi(an(r), 0, t).join('') : r.slice(0, t);
                  }
                  function Vi(t) {
                    return function (e, n, o) {
                      return (
                        o && 'number' != typeof o && mo(e, n, o) && (n = o = i),
                        (e = ps(e)),
                        n === i ? ((n = e), (e = 0)) : (n = ps(n)),
                        (function (t, e, n, i) {
                          for (var o = -1, a = yn(ln((e - t) / (n || 1)), 0), s = r(a); a--; )
                            (s[i ? a : ++o] = t), (t += n);
                          return s;
                        })(e, n, (o = o === i ? (e < n ? 1 : -1) : ps(o)), t)
                      );
                    };
                  }
                  function Wi(t) {
                    return function (e, n) {
                      return (
                        ('string' == typeof e && 'string' == typeof n) ||
                          ((e = ys(e)), (n = ys(n))),
                        t(e, n)
                      );
                    };
                  }
                  function Yi(t, e, n, r, o, a, s, c, l, h) {
                    var f = 8 & e;
                    (e |= f ? u : 64), 4 & (e &= ~(f ? 64 : u)) || (e &= -4);
                    var d = [t, e, o, f ? a : i, f ? s : i, f ? i : a, f ? i : s, c, l, h],
                      p = n.apply(i, d);
                    return xo(t) && Io(p, d), (p.placeholder = r), Po(p, t, e);
                  }
                  function Xi(t) {
                    var e = Et[t];
                    return function (t, n) {
                      if (((t = ys(t)), (n = null == n ? 0 : mn(gs(n), 292)) && pn(t))) {
                        var r = (bs(t) + 'e').split('e');
                        return +(
                          (r = (bs(e(r[0] + 'e' + (+r[1] + n))) + 'e').split('e'))[0] +
                          'e' +
                          (+r[1] - n)
                        );
                      }
                      return e(t);
                    };
                  }
                  var Hi =
                    kn && 1 / nn(new kn([, -0]))[1] == l
                      ? function (t) {
                          return new kn(t);
                        }
                      : cu;
                  function qi(t) {
                    return function (e) {
                      var n = fo(e);
                      return n == w
                        ? Je(e)
                        : n == A
                        ? rn(e)
                        : (function (t, e) {
                            return Me(e, function (e) {
                              return [e, t[e]];
                            });
                          })(e, t(e));
                    };
                  }
                  function Ki(t, e, n, a, l, h, f, d) {
                    var p = 2 & e;
                    if (!p && 'function' != typeof t) throw new At(o);
                    var g = a ? a.length : 0;
                    if (
                      (g || ((e &= -97), (a = l = i)),
                      (f = f === i ? f : yn(gs(f), 0)),
                      (d = d === i ? d : gs(d)),
                      (g -= l ? l.length : 0),
                      64 & e)
                    ) {
                      var v = a,
                        y = l;
                      a = l = i;
                    }
                    var m = p ? i : ro(t),
                      b = [t, e, n, a, l, v, y, h, f, d];
                    if (
                      (m &&
                        (function (t, e) {
                          var n = t[1],
                            r = e[1],
                            i = n | r,
                            o = i < 131,
                            a =
                              (r == c && 8 == n) ||
                              (r == c && 256 == n && t[7].length <= e[8]) ||
                              (384 == r && e[7].length <= e[8] && 8 == n);
                          if (!o && !a) return t;
                          1 & r && ((t[2] = e[2]), (i |= 1 & n ? 0 : 4));
                          var u = e[3];
                          if (u) {
                            var l = t[3];
                            (t[3] = l ? Mi(l, u, e[4]) : u), (t[4] = l ? en(t[3], s) : e[4]);
                          }
                          (u = e[5]) &&
                            ((l = t[5]),
                            (t[5] = l ? ki(l, u, e[6]) : u),
                            (t[6] = l ? en(t[5], s) : e[6])),
                            (u = e[7]) && (t[7] = u),
                            r & c && (t[8] = null == t[8] ? e[8] : mn(t[8], e[8])),
                            null == t[9] && (t[9] = e[9]),
                            (t[0] = e[0]),
                            (t[1] = i);
                        })(b, m),
                      (t = b[0]),
                      (e = b[1]),
                      (n = b[2]),
                      (a = b[3]),
                      (l = b[4]),
                      !(d = b[9] = b[9] === i ? (p ? 0 : t.length) : yn(b[9] - g, 0)) &&
                        24 & e &&
                        (e &= -25),
                      e && 1 != e)
                    )
                      x =
                        8 == e || 16 == e
                          ? (function (t, e, n) {
                              var o = Li(t);
                              return function a() {
                                for (var s = arguments.length, u = r(s), c = s, l = oo(a); c--; )
                                  u[c] = arguments[c];
                                var h = s < 3 && u[0] !== l && u[s - 1] !== l ? [] : en(u, l);
                                return (s -= h.length) < n
                                  ? Yi(t, e, ji, a.placeholder, i, u, h, i, i, n - s)
                                  : ye(this && this !== oe && this instanceof a ? o : t, this, u);
                              };
                            })(t, e, d)
                          : (e != u && 33 != e) || l.length
                          ? ji.apply(i, b)
                          : (function (t, e, n, i) {
                              var o = 1 & e,
                                a = Li(t);
                              return function e() {
                                for (
                                  var s = -1,
                                    u = arguments.length,
                                    c = -1,
                                    l = i.length,
                                    h = r(l + u),
                                    f = this && this !== oe && this instanceof e ? a : t;
                                  ++c < l;

                                )
                                  h[c] = i[c];
                                for (; u--; ) h[c++] = arguments[++s];
                                return ye(f, o ? n : this, h);
                              };
                            })(t, e, n, a);
                    else
                      var x = (function (t, e, n) {
                        var r = 1 & e,
                          i = Li(t);
                        return function e() {
                          return (this && this !== oe && this instanceof e ? i : t).apply(
                            r ? n : this,
                            arguments,
                          );
                        };
                      })(t, e, n);
                    return Po((m ? Qr : Io)(x, b), t, e);
                  }
                  function Zi(t, e, n, r) {
                    return t === i || (Fa(t, Tt[n]) && !Ot.call(r, n)) ? e : t;
                  }
                  function $i(t, e, n, r, o, a) {
                    return es(t) && es(e) && (a.set(e, t), zr(t, e, i, $i, a), a.delete(e)), t;
                  }
                  function Qi(t) {
                    return os(t) ? i : t;
                  }
                  function Ji(t, e, n, r, o, a) {
                    var s = 1 & n,
                      u = t.length,
                      c = e.length;
                    if (u != c && !(s && c > u)) return !1;
                    var l = a.get(t),
                      h = a.get(e);
                    if (l && h) return l == e && h == t;
                    var f = -1,
                      d = !0,
                      p = 2 & n ? new Hn() : i;
                    for (a.set(t, e), a.set(e, t); ++f < u; ) {
                      var g = t[f],
                        v = e[f];
                      if (r) var y = s ? r(v, g, f, e, t, a) : r(g, v, f, t, e, a);
                      if (y !== i) {
                        if (y) continue;
                        d = !1;
                        break;
                      }
                      if (p) {
                        if (
                          !Ie(e, function (t, e) {
                            if (!Ye(p, e) && (g === t || o(g, t, n, r, a))) return p.push(e);
                          })
                        ) {
                          d = !1;
                          break;
                        }
                      } else if (g !== v && !o(g, v, n, r, a)) {
                        d = !1;
                        break;
                      }
                    }
                    return a.delete(t), a.delete(e), d;
                  }
                  function to(t) {
                    return No(Mo(t, i, Xo), t + '');
                  }
                  function eo(t) {
                    return Er(t, Ps, lo);
                  }
                  function no(t) {
                    return Er(t, Os, ho);
                  }
                  var ro = In
                    ? function (t) {
                        return In.get(t);
                      }
                    : cu;
                  function io(t) {
                    for (var e = t.name + '', n = Tn[e], r = Ot.call(Tn, e) ? n.length : 0; r--; ) {
                      var i = n[r],
                        o = i.func;
                      if (null == o || o == t) return i.name;
                    }
                    return e;
                  }
                  function oo(t) {
                    return (Ot.call(Gn, 'placeholder') ? Gn : t).placeholder;
                  }
                  function ao() {
                    var t = Gn.iteratee || ou;
                    return (
                      (t = t === ou ? Dr : t), arguments.length ? t(arguments[0], arguments[1]) : t
                    );
                  }
                  function so(t, e) {
                    var n,
                      r,
                      i = t.__data__;
                    return (
                      'string' == (r = typeof (n = e)) ||
                      'number' == r ||
                      'symbol' == r ||
                      'boolean' == r
                        ? '__proto__' !== n
                        : null === n
                    )
                      ? i['string' == typeof e ? 'string' : 'hash']
                      : i.map;
                  }
                  function uo(t) {
                    for (var e = Ps(t), n = e.length; n--; ) {
                      var r = e[n],
                        i = t[r];
                      e[n] = [r, i, Eo(i)];
                    }
                    return e;
                  }
                  function co(t, e) {
                    var n = (function (t, e) {
                      return null == t ? i : t[e];
                    })(t, e);
                    return Or(n) ? n : i;
                  }
                  var lo = fn
                      ? function (t) {
                          return null == t
                            ? []
                            : ((t = St(t)),
                              we(fn(t), function (e) {
                                return te.call(t, e);
                              }));
                        }
                      : vu,
                    ho = fn
                      ? function (t) {
                          for (var e = []; t; ) ke(e, lo(t)), (t = Xt(t));
                          return e;
                        }
                      : vu,
                    fo = Sr;
                  function po(t, e, n) {
                    for (var r = -1, i = (e = yi(e, t)).length, o = !1; ++r < i; ) {
                      var a = jo(e[r]);
                      if (!(o = null != t && n(t, a))) break;
                      t = t[a];
                    }
                    return o || ++r != i
                      ? o
                      : !!(i = null == t ? 0 : t.length) && ts(i) && yo(a, i) && (Ya(t) || Wa(t));
                  }
                  function go(t) {
                    return 'function' != typeof t.constructor || wo(t) ? {} : zn(Xt(t));
                  }
                  function vo(t) {
                    return Ya(t) || Wa(t) || !!(ie && t && t[ie]);
                  }
                  function yo(t, e) {
                    var n = typeof t;
                    return (
                      !!(e = null == e ? h : e) &&
                      ('number' == n || ('symbol' != n && yt.test(t))) &&
                      t > -1 &&
                      t % 1 == 0 &&
                      t < e
                    );
                  }
                  function mo(t, e, n) {
                    if (!es(n)) return !1;
                    var r = typeof e;
                    return (
                      !!('number' == r ? Ha(n) && yo(e, n.length) : 'string' == r && e in n) &&
                      Fa(n[e], t)
                    );
                  }
                  function bo(t, e) {
                    if (Ya(t)) return !1;
                    var n = typeof t;
                    return (
                      !('number' != n && 'symbol' != n && 'boolean' != n && null != t && !cs(t)) ||
                      J.test(t) ||
                      !Q.test(t) ||
                      (null != e && t in St(e))
                    );
                  }
                  function xo(t) {
                    var e = io(t),
                      n = Gn[e];
                    if ('function' != typeof n || !(e in Vn.prototype)) return !1;
                    if (t === n) return !0;
                    var r = ro(n);
                    return !!r && t === r[0];
                  }
                  ((En && fo(new En(new ArrayBuffer(1))) != P) ||
                    (Sn && fo(new Sn()) != w) ||
                    (Mn && fo(Mn.resolve()) != M) ||
                    (kn && fo(new kn()) != A) ||
                    (An && fo(new An()) != T)) &&
                    (fo = function (t) {
                      var e = Sr(t),
                        n = e == S ? t.constructor : i,
                        r = n ? Go(n) : '';
                      if (r)
                        switch (r) {
                          case Nn:
                            return P;
                          case Pn:
                            return w;
                          case On:
                            return M;
                          case Dn:
                            return A;
                          case Ln:
                            return T;
                        }
                      return e;
                    });
                  var _o = Nt ? Qa : yu;
                  function wo(t) {
                    var e = t && t.constructor;
                    return t === (('function' == typeof e && e.prototype) || Tt);
                  }
                  function Eo(t) {
                    return t == t && !es(t);
                  }
                  function So(t, e) {
                    return function (n) {
                      return null != n && n[t] === e && (e !== i || t in St(n));
                    };
                  }
                  function Mo(t, e, n) {
                    return (
                      (e = yn(e === i ? t.length - 1 : e, 0)),
                      function () {
                        for (
                          var i = arguments, o = -1, a = yn(i.length - e, 0), s = r(a);
                          ++o < a;

                        )
                          s[o] = i[e + o];
                        o = -1;
                        for (var u = r(e + 1); ++o < e; ) u[o] = i[o];
                        return (u[e] = n(s)), ye(t, this, u);
                      }
                    );
                  }
                  function ko(t, e) {
                    return e.length < 2 ? t : wr(t, ei(e, 0, -1));
                  }
                  function Ao(t, e) {
                    for (var n = t.length, r = mn(e.length, n), o = Ai(t); r--; ) {
                      var a = e[r];
                      t[r] = yo(a, n) ? o[a] : i;
                    }
                    return t;
                  }
                  function Co(t, e) {
                    if (('constructor' !== e || 'function' != typeof t[e]) && '__proto__' != e)
                      return t[e];
                  }
                  var Io = Oo(Qr),
                    To =
                      je ||
                      function (t, e) {
                        return oe.setTimeout(t, e);
                      },
                    No = Oo(Jr);
                  function Po(t, e, n) {
                    var r = e + '';
                    return No(
                      t,
                      (function (t, e) {
                        var n = e.length;
                        if (!n) return t;
                        var r = n - 1;
                        return (
                          (e[r] = (n > 1 ? '& ' : '') + e[r]),
                          (e = e.join(n > 2 ? ', ' : ' ')),
                          t.replace(ot, '{\n/* [wrapped with ' + e + '] */\n')
                        );
                      })(
                        r,
                        (function (t, e) {
                          return (
                            be(p, function (n) {
                              var r = '_.' + n[0];
                              e & n[1] && !Ee(t, r) && t.push(r);
                            }),
                            t.sort()
                          );
                        })(
                          (function (t) {
                            var e = t.match(at);
                            return e ? e[1].split(st) : [];
                          })(r),
                          n,
                        ),
                      ),
                    );
                  }
                  function Oo(t) {
                    var e = 0,
                      n = 0;
                    return function () {
                      var r = bn(),
                        o = 16 - (r - n);
                      if (((n = r), o > 0)) {
                        if (++e >= 800) return arguments[0];
                      } else e = 0;
                      return t.apply(i, arguments);
                    };
                  }
                  function Do(t, e) {
                    var n = -1,
                      r = t.length,
                      o = r - 1;
                    for (e = e === i ? r : e; ++n < e; ) {
                      var a = Xr(n, o),
                        s = t[a];
                      (t[a] = t[n]), (t[n] = s);
                    }
                    return (t.length = e), t;
                  }
                  var Lo,
                    Ro,
                    Bo =
                      ((Lo = La(
                        function (t) {
                          var e = [];
                          return (
                            46 === t.charCodeAt(0) && e.push(''),
                            t.replace(tt, function (t, n, r, i) {
                              e.push(r ? i.replace(lt, '$1') : n || t);
                            }),
                            e
                          );
                        },
                        function (t) {
                          return 500 === Ro.size && Ro.clear(), t;
                        },
                      )),
                      (Ro = Lo.cache),
                      Lo);
                  function jo(t) {
                    if ('string' == typeof t || cs(t)) return t;
                    var e = t + '';
                    return '0' == e && 1 / t == -1 / 0 ? '-0' : e;
                  }
                  function Go(t) {
                    if (null != t) {
                      try {
                        return Pt.call(t);
                      } catch (t) {}
                      try {
                        return t + '';
                      } catch (t) {}
                    }
                    return '';
                  }
                  function zo(t) {
                    if (t instanceof Vn) return t.clone();
                    var e = new Un(t.__wrapped__, t.__chain__);
                    return (
                      (e.__actions__ = Ai(t.__actions__)),
                      (e.__index__ = t.__index__),
                      (e.__values__ = t.__values__),
                      e
                    );
                  }
                  var Fo = qr(function (t, e) {
                      return qa(t) ? lr(t, vr(e, 1, qa, !0)) : [];
                    }),
                    Uo = qr(function (t, e) {
                      var n = $o(e);
                      return qa(n) && (n = i), qa(t) ? lr(t, vr(e, 1, qa, !0), ao(n, 2)) : [];
                    }),
                    Vo = qr(function (t, e) {
                      var n = $o(e);
                      return qa(n) && (n = i), qa(t) ? lr(t, vr(e, 1, qa, !0), i, n) : [];
                    });
                  function Wo(t, e, n) {
                    var r = null == t ? 0 : t.length;
                    if (!r) return -1;
                    var i = null == n ? 0 : gs(n);
                    return i < 0 && (i = yn(r + i, 0)), Pe(t, ao(e, 3), i);
                  }
                  function Yo(t, e, n) {
                    var r = null == t ? 0 : t.length;
                    if (!r) return -1;
                    var o = r - 1;
                    return (
                      n !== i && ((o = gs(n)), (o = n < 0 ? yn(r + o, 0) : mn(o, r - 1))),
                      Pe(t, ao(e, 3), o, !0)
                    );
                  }
                  function Xo(t) {
                    return null != t && t.length ? vr(t, 1) : [];
                  }
                  function Ho(t) {
                    return t && t.length ? t[0] : i;
                  }
                  var qo = qr(function (t) {
                      var e = Me(t, gi);
                      return e.length && e[0] === t[0] ? Cr(e) : [];
                    }),
                    Ko = qr(function (t) {
                      var e = $o(t),
                        n = Me(t, gi);
                      return (
                        e === $o(n) ? (e = i) : n.pop(),
                        n.length && n[0] === t[0] ? Cr(n, ao(e, 2)) : []
                      );
                    }),
                    Zo = qr(function (t) {
                      var e = $o(t),
                        n = Me(t, gi);
                      return (
                        (e = 'function' == typeof e ? e : i) && n.pop(),
                        n.length && n[0] === t[0] ? Cr(n, i, e) : []
                      );
                    });
                  function $o(t) {
                    var e = null == t ? 0 : t.length;
                    return e ? t[e - 1] : i;
                  }
                  var Qo = qr(Jo);
                  function Jo(t, e) {
                    return t && t.length && e && e.length ? Wr(t, e) : t;
                  }
                  var ta = to(function (t, e) {
                    var n = null == t ? 0 : t.length,
                      r = or(t, e);
                    return (
                      Yr(
                        t,
                        Me(e, function (t) {
                          return yo(t, n) ? +t : t;
                        }).sort(Si),
                      ),
                      r
                    );
                  });
                  function ea(t) {
                    return null == t ? t : wn.call(t);
                  }
                  var na = qr(function (t) {
                      return ui(vr(t, 1, qa, !0));
                    }),
                    ra = qr(function (t) {
                      var e = $o(t);
                      return qa(e) && (e = i), ui(vr(t, 1, qa, !0), ao(e, 2));
                    }),
                    ia = qr(function (t) {
                      var e = $o(t);
                      return (e = 'function' == typeof e ? e : i), ui(vr(t, 1, qa, !0), i, e);
                    });
                  function oa(t) {
                    if (!t || !t.length) return [];
                    var e = 0;
                    return (
                      (t = we(t, function (t) {
                        if (qa(t)) return (e = yn(t.length, e)), !0;
                      })),
                      Fe(e, function (e) {
                        return Me(t, Be(e));
                      })
                    );
                  }
                  function aa(t, e) {
                    if (!t || !t.length) return [];
                    var n = oa(t);
                    return null == e
                      ? n
                      : Me(n, function (t) {
                          return ye(e, i, t);
                        });
                  }
                  var sa = qr(function (t, e) {
                      return qa(t) ? lr(t, e) : [];
                    }),
                    ua = qr(function (t) {
                      return di(we(t, qa));
                    }),
                    ca = qr(function (t) {
                      var e = $o(t);
                      return qa(e) && (e = i), di(we(t, qa), ao(e, 2));
                    }),
                    la = qr(function (t) {
                      var e = $o(t);
                      return (e = 'function' == typeof e ? e : i), di(we(t, qa), i, e);
                    }),
                    ha = qr(oa),
                    fa = qr(function (t) {
                      var e = t.length,
                        n = e > 1 ? t[e - 1] : i;
                      return (n = 'function' == typeof n ? (t.pop(), n) : i), aa(t, n);
                    });
                  function da(t) {
                    var e = Gn(t);
                    return (e.__chain__ = !0), e;
                  }
                  function pa(t, e) {
                    return e(t);
                  }
                  var ga = to(function (t) {
                      var e = t.length,
                        n = e ? t[0] : 0,
                        r = this.__wrapped__,
                        o = function (e) {
                          return or(e, t);
                        };
                      return !(e > 1 || this.__actions__.length) && r instanceof Vn && yo(n)
                        ? ((r = r.slice(n, +n + (e ? 1 : 0))).__actions__.push({
                            func: pa,
                            args: [o],
                            thisArg: i,
                          }),
                          new Un(r, this.__chain__).thru(function (t) {
                            return e && !t.length && t.push(i), t;
                          }))
                        : this.thru(o);
                    }),
                    va = Ii(function (t, e, n) {
                      Ot.call(t, n) ? ++t[n] : ir(t, n, 1);
                    }),
                    ya = Ri(Wo),
                    ma = Ri(Yo);
                  function ba(t, e) {
                    return (Ya(t) ? be : hr)(t, ao(e, 3));
                  }
                  function xa(t, e) {
                    return (Ya(t) ? xe : fr)(t, ao(e, 3));
                  }
                  var _a = Ii(function (t, e, n) {
                      Ot.call(t, n) ? t[n].push(e) : ir(t, n, [e]);
                    }),
                    wa = qr(function (t, e, n) {
                      var i = -1,
                        o = 'function' == typeof e,
                        a = Ha(t) ? r(t.length) : [];
                      return (
                        hr(t, function (t) {
                          a[++i] = o ? ye(e, t, n) : Ir(t, e, n);
                        }),
                        a
                      );
                    }),
                    Ea = Ii(function (t, e, n) {
                      ir(t, n, e);
                    });
                  function Sa(t, e) {
                    return (Ya(t) ? Me : Br)(t, ao(e, 3));
                  }
                  var Ma = Ii(
                      function (t, e, n) {
                        t[n ? 0 : 1].push(e);
                      },
                      function () {
                        return [[], []];
                      },
                    ),
                    ka = qr(function (t, e) {
                      if (null == t) return [];
                      var n = e.length;
                      return (
                        n > 1 && mo(t, e[0], e[1])
                          ? (e = [])
                          : n > 2 && mo(e[0], e[1], e[2]) && (e = [e[0]]),
                        Ur(t, vr(e, 1), [])
                      );
                    }),
                    Aa =
                      Te ||
                      function () {
                        return oe.Date.now();
                      };
                  function Ca(t, e, n) {
                    return (
                      (e = n ? i : e), (e = t && null == e ? t.length : e), Ki(t, c, i, i, i, i, e)
                    );
                  }
                  function Ia(t, e) {
                    var n;
                    if ('function' != typeof e) throw new At(o);
                    return (
                      (t = gs(t)),
                      function () {
                        return --t > 0 && (n = e.apply(this, arguments)), t <= 1 && (e = i), n;
                      }
                    );
                  }
                  var Ta = qr(function (t, e, n) {
                      var r = 1;
                      if (n.length) {
                        var i = en(n, oo(Ta));
                        r |= u;
                      }
                      return Ki(t, r, e, n, i);
                    }),
                    Na = qr(function (t, e, n) {
                      var r = 3;
                      if (n.length) {
                        var i = en(n, oo(Na));
                        r |= u;
                      }
                      return Ki(e, r, t, n, i);
                    });
                  function Pa(t, e, n) {
                    var r,
                      a,
                      s,
                      u,
                      c,
                      l,
                      h = 0,
                      f = !1,
                      d = !1,
                      p = !0;
                    if ('function' != typeof t) throw new At(o);
                    function g(e) {
                      var n = r,
                        o = a;
                      return (r = a = i), (h = e), (u = t.apply(o, n));
                    }
                    function v(t) {
                      return (h = t), (c = To(m, e)), f ? g(t) : u;
                    }
                    function y(t) {
                      var n = t - l;
                      return l === i || n >= e || n < 0 || (d && t - h >= s);
                    }
                    function m() {
                      var t = Aa();
                      if (y(t)) return b(t);
                      c = To(
                        m,
                        (function (t) {
                          var n = e - (t - l);
                          return d ? mn(n, s - (t - h)) : n;
                        })(t),
                      );
                    }
                    function b(t) {
                      return (c = i), p && r ? g(t) : ((r = a = i), u);
                    }
                    function x() {
                      var t = Aa(),
                        n = y(t);
                      if (((r = arguments), (a = this), (l = t), n)) {
                        if (c === i) return v(l);
                        if (d) return xi(c), (c = To(m, e)), g(l);
                      }
                      return c === i && (c = To(m, e)), u;
                    }
                    return (
                      (e = ys(e) || 0),
                      es(n) &&
                        ((f = !!n.leading),
                        (s = (d = 'maxWait' in n) ? yn(ys(n.maxWait) || 0, e) : s),
                        (p = 'trailing' in n ? !!n.trailing : p)),
                      (x.cancel = function () {
                        c !== i && xi(c), (h = 0), (r = l = a = c = i);
                      }),
                      (x.flush = function () {
                        return c === i ? u : b(Aa());
                      }),
                      x
                    );
                  }
                  var Oa = qr(function (t, e) {
                      return cr(t, 1, e);
                    }),
                    Da = qr(function (t, e, n) {
                      return cr(t, ys(e) || 0, n);
                    });
                  function La(t, e) {
                    if ('function' != typeof t || (null != e && 'function' != typeof e))
                      throw new At(o);
                    var n = function () {
                      var r = arguments,
                        i = e ? e.apply(this, r) : r[0],
                        o = n.cache;
                      if (o.has(i)) return o.get(i);
                      var a = t.apply(this, r);
                      return (n.cache = o.set(i, a) || o), a;
                    };
                    return (n.cache = new (La.Cache || Xn)()), n;
                  }
                  function Ra(t) {
                    if ('function' != typeof t) throw new At(o);
                    return function () {
                      var e = arguments;
                      switch (e.length) {
                        case 0:
                          return !t.call(this);
                        case 1:
                          return !t.call(this, e[0]);
                        case 2:
                          return !t.call(this, e[0], e[1]);
                        case 3:
                          return !t.call(this, e[0], e[1], e[2]);
                      }
                      return !t.apply(this, e);
                    };
                  }
                  La.Cache = Xn;
                  var Ba = mi(function (t, e) {
                      var n = (e =
                        1 == e.length && Ya(e[0]) ? Me(e[0], Ve(ao())) : Me(vr(e, 1), Ve(ao())))
                        .length;
                      return qr(function (r) {
                        for (var i = -1, o = mn(r.length, n); ++i < o; )
                          r[i] = e[i].call(this, r[i]);
                        return ye(t, this, r);
                      });
                    }),
                    ja = qr(function (t, e) {
                      var n = en(e, oo(ja));
                      return Ki(t, u, i, e, n);
                    }),
                    Ga = qr(function (t, e) {
                      var n = en(e, oo(Ga));
                      return Ki(t, 64, i, e, n);
                    }),
                    za = to(function (t, e) {
                      return Ki(t, 256, i, i, i, e);
                    });
                  function Fa(t, e) {
                    return t === e || (t != t && e != e);
                  }
                  var Ua = Wi(Mr),
                    Va = Wi(function (t, e) {
                      return t >= e;
                    }),
                    Wa = Tr(
                      (function () {
                        return arguments;
                      })(),
                    )
                      ? Tr
                      : function (t) {
                          return ns(t) && Ot.call(t, 'callee') && !te.call(t, 'callee');
                        },
                    Ya = r.isArray,
                    Xa = he
                      ? Ve(he)
                      : function (t) {
                          return ns(t) && Sr(t) == N;
                        };
                  function Ha(t) {
                    return null != t && ts(t.length) && !Qa(t);
                  }
                  function qa(t) {
                    return ns(t) && Ha(t);
                  }
                  var Ka = dn || yu,
                    Za = fe
                      ? Ve(fe)
                      : function (t) {
                          return ns(t) && Sr(t) == m;
                        };
                  function $a(t) {
                    if (!ns(t)) return !1;
                    var e = Sr(t);
                    return (
                      e == b ||
                      '[object DOMException]' == e ||
                      ('string' == typeof t.message && 'string' == typeof t.name && !os(t))
                    );
                  }
                  function Qa(t) {
                    if (!es(t)) return !1;
                    var e = Sr(t);
                    return (
                      e == x || e == _ || '[object AsyncFunction]' == e || '[object Proxy]' == e
                    );
                  }
                  function Ja(t) {
                    return 'number' == typeof t && t == gs(t);
                  }
                  function ts(t) {
                    return 'number' == typeof t && t > -1 && t % 1 == 0 && t <= h;
                  }
                  function es(t) {
                    var e = typeof t;
                    return null != t && ('object' == e || 'function' == e);
                  }
                  function ns(t) {
                    return null != t && 'object' == typeof t;
                  }
                  var rs = de
                    ? Ve(de)
                    : function (t) {
                        return ns(t) && fo(t) == w;
                      };
                  function is(t) {
                    return 'number' == typeof t || (ns(t) && Sr(t) == E);
                  }
                  function os(t) {
                    if (!ns(t) || Sr(t) != S) return !1;
                    var e = Xt(t);
                    if (null === e) return !0;
                    var n = Ot.call(e, 'constructor') && e.constructor;
                    return 'function' == typeof n && n instanceof n && Pt.call(n) == Bt;
                  }
                  var as = pe
                      ? Ve(pe)
                      : function (t) {
                          return ns(t) && Sr(t) == k;
                        },
                    ss = ge
                      ? Ve(ge)
                      : function (t) {
                          return ns(t) && fo(t) == A;
                        };
                  function us(t) {
                    return 'string' == typeof t || (!Ya(t) && ns(t) && Sr(t) == C);
                  }
                  function cs(t) {
                    return 'symbol' == typeof t || (ns(t) && Sr(t) == I);
                  }
                  var ls = ve
                      ? Ve(ve)
                      : function (t) {
                          return ns(t) && ts(t.length) && !!Qt[Sr(t)];
                        },
                    hs = Wi(Rr),
                    fs = Wi(function (t, e) {
                      return t <= e;
                    });
                  function ds(t) {
                    if (!t) return [];
                    if (Ha(t)) return us(t) ? an(t) : Ai(t);
                    if (ae && t[ae])
                      return (function (t) {
                        for (var e, n = []; !(e = t.next()).done; ) n.push(e.value);
                        return n;
                      })(t[ae]());
                    var e = fo(t);
                    return (e == w ? Je : e == A ? nn : Fs)(t);
                  }
                  function ps(t) {
                    return t
                      ? (t = ys(t)) === l || t === -1 / 0
                        ? 17976931348623157e292 * (t < 0 ? -1 : 1)
                        : t == t
                        ? t
                        : 0
                      : 0 === t
                      ? t
                      : 0;
                  }
                  function gs(t) {
                    var e = ps(t),
                      n = e % 1;
                    return e == e ? (n ? e - n : e) : 0;
                  }
                  function vs(t) {
                    return t ? ar(gs(t), 0, d) : 0;
                  }
                  function ys(t) {
                    if ('number' == typeof t) return t;
                    if (cs(t)) return f;
                    if (es(t)) {
                      var e = 'function' == typeof t.valueOf ? t.valueOf() : t;
                      t = es(e) ? e + '' : e;
                    }
                    if ('string' != typeof t) return 0 === t ? t : +t;
                    t = Ue(t);
                    var n = pt.test(t);
                    return n || vt.test(t) ? ne(t.slice(2), n ? 2 : 8) : dt.test(t) ? f : +t;
                  }
                  function ms(t) {
                    return Ci(t, Os(t));
                  }
                  function bs(t) {
                    return null == t ? '' : si(t);
                  }
                  var xs = Ti(function (t, e) {
                      if (wo(e) || Ha(e)) Ci(e, Ps(e), t);
                      else for (var n in e) Ot.call(e, n) && tr(t, n, e[n]);
                    }),
                    _s = Ti(function (t, e) {
                      Ci(e, Os(e), t);
                    }),
                    ws = Ti(function (t, e, n, r) {
                      Ci(e, Os(e), t, r);
                    }),
                    Es = Ti(function (t, e, n, r) {
                      Ci(e, Ps(e), t, r);
                    }),
                    Ss = to(or),
                    Ms = qr(function (t, e) {
                      t = St(t);
                      var n = -1,
                        r = e.length,
                        o = r > 2 ? e[2] : i;
                      for (o && mo(e[0], e[1], o) && (r = 1); ++n < r; )
                        for (var a = e[n], s = Os(a), u = -1, c = s.length; ++u < c; ) {
                          var l = s[u],
                            h = t[l];
                          (h === i || (Fa(h, Tt[l]) && !Ot.call(t, l))) && (t[l] = a[l]);
                        }
                      return t;
                    }),
                    ks = qr(function (t) {
                      return t.push(i, $i), ye(Ls, i, t);
                    });
                  function As(t, e, n) {
                    var r = null == t ? i : wr(t, e);
                    return r === i ? n : r;
                  }
                  function Cs(t, e) {
                    return null != t && po(t, e, Ar);
                  }
                  var Is = Gi(function (t, e, n) {
                      null != e && 'function' != typeof e.toString && (e = Rt.call(e)), (t[e] = n);
                    }, eu(iu)),
                    Ts = Gi(function (t, e, n) {
                      null != e && 'function' != typeof e.toString && (e = Rt.call(e)),
                        Ot.call(t, e) ? t[e].push(n) : (t[e] = [n]);
                    }, ao),
                    Ns = qr(Ir);
                  function Ps(t) {
                    return Ha(t) ? Kn(t) : Lr(t);
                  }
                  function Os(t) {
                    return Ha(t)
                      ? Kn(t, !0)
                      : (function (t) {
                          if (!es(t))
                            return (function (t) {
                              var e = [];
                              if (null != t) for (var n in St(t)) e.push(n);
                              return e;
                            })(t);
                          var e = wo(t),
                            n = [];
                          for (var r in t)
                            ('constructor' != r || (!e && Ot.call(t, r))) && n.push(r);
                          return n;
                        })(t);
                  }
                  var Ds = Ti(function (t, e, n) {
                      zr(t, e, n);
                    }),
                    Ls = Ti(function (t, e, n, r) {
                      zr(t, e, n, r);
                    }),
                    Rs = to(function (t, e) {
                      var n = {};
                      if (null == t) return n;
                      var r = !1;
                      (e = Me(e, function (e) {
                        return (e = yi(e, t)), r || (r = e.length > 1), e;
                      })),
                        Ci(t, no(t), n),
                        r && (n = sr(n, 7, Qi));
                      for (var i = e.length; i--; ) ci(n, e[i]);
                      return n;
                    }),
                    Bs = to(function (t, e) {
                      return null == t
                        ? {}
                        : (function (t, e) {
                            return Vr(t, e, function (e, n) {
                              return Cs(t, n);
                            });
                          })(t, e);
                    });
                  function js(t, e) {
                    if (null == t) return {};
                    var n = Me(no(t), function (t) {
                      return [t];
                    });
                    return (
                      (e = ao(e)),
                      Vr(t, n, function (t, n) {
                        return e(t, n[0]);
                      })
                    );
                  }
                  var Gs = qi(Ps),
                    zs = qi(Os);
                  function Fs(t) {
                    return null == t ? [] : We(t, Ps(t));
                  }
                  var Us = Di(function (t, e, n) {
                    return (e = e.toLowerCase()), t + (n ? Vs(e) : e);
                  });
                  function Vs(t) {
                    return $s(bs(t).toLowerCase());
                  }
                  function Ws(t) {
                    return (t = bs(t)) && t.replace(mt, Ke).replace(Yt, '');
                  }
                  var Ys = Di(function (t, e, n) {
                      return t + (n ? '-' : '') + e.toLowerCase();
                    }),
                    Xs = Di(function (t, e, n) {
                      return t + (n ? ' ' : '') + e.toLowerCase();
                    }),
                    Hs = Oi('toLowerCase'),
                    qs = Di(function (t, e, n) {
                      return t + (n ? '_' : '') + e.toLowerCase();
                    }),
                    Ks = Di(function (t, e, n) {
                      return t + (n ? ' ' : '') + $s(e);
                    }),
                    Zs = Di(function (t, e, n) {
                      return t + (n ? ' ' : '') + e.toUpperCase();
                    }),
                    $s = Oi('toUpperCase');
                  function Qs(t, e, n) {
                    return (
                      (t = bs(t)),
                      (e = n ? i : e) === i
                        ? (function (t) {
                            return Kt.test(t);
                          })(t)
                          ? (function (t) {
                              return t.match(Ht) || [];
                            })(t)
                          : (function (t) {
                              return t.match(ut) || [];
                            })(t)
                        : t.match(e) || []
                    );
                  }
                  var Js = qr(function (t, e) {
                      try {
                        return ye(t, i, e);
                      } catch (t) {
                        return $a(t) ? t : new _t(t);
                      }
                    }),
                    tu = to(function (t, e) {
                      return (
                        be(e, function (e) {
                          (e = jo(e)), ir(t, e, Ta(t[e], t));
                        }),
                        t
                      );
                    });
                  function eu(t) {
                    return function () {
                      return t;
                    };
                  }
                  var nu = Bi(),
                    ru = Bi(!0);
                  function iu(t) {
                    return t;
                  }
                  function ou(t) {
                    return Dr('function' == typeof t ? t : sr(t, 1));
                  }
                  var au = qr(function (t, e) {
                      return function (n) {
                        return Ir(n, t, e);
                      };
                    }),
                    su = qr(function (t, e) {
                      return function (n) {
                        return Ir(t, n, e);
                      };
                    });
                  function uu(t, e, n) {
                    var r = Ps(e),
                      i = _r(e, r);
                    null != n ||
                      (es(e) && (i.length || !r.length)) ||
                      ((n = e), (e = t), (t = this), (i = _r(e, Ps(e))));
                    var o = !(es(n) && 'chain' in n && !n.chain),
                      a = Qa(t);
                    return (
                      be(i, function (n) {
                        var r = e[n];
                        (t[n] = r),
                          a &&
                            (t.prototype[n] = function () {
                              var e = this.__chain__;
                              if (o || e) {
                                var n = t(this.__wrapped__),
                                  i = (n.__actions__ = Ai(this.__actions__));
                                return (
                                  i.push({ func: r, args: arguments, thisArg: t }),
                                  (n.__chain__ = e),
                                  n
                                );
                              }
                              return r.apply(t, ke([this.value()], arguments));
                            });
                      }),
                      t
                    );
                  }
                  function cu() {}
                  var lu = Fi(Me),
                    hu = Fi(_e),
                    fu = Fi(Ie);
                  function du(t) {
                    return bo(t)
                      ? Be(jo(t))
                      : (function (t) {
                          return function (e) {
                            return wr(e, t);
                          };
                        })(t);
                  }
                  var pu = Vi(),
                    gu = Vi(!0);
                  function vu() {
                    return [];
                  }
                  function yu() {
                    return !1;
                  }
                  var mu,
                    bu = zi(function (t, e) {
                      return t + e;
                    }, 0),
                    xu = Xi('ceil'),
                    _u = zi(function (t, e) {
                      return t / e;
                    }, 1),
                    wu = Xi('floor'),
                    Eu = zi(function (t, e) {
                      return t * e;
                    }, 1),
                    Su = Xi('round'),
                    Mu = zi(function (t, e) {
                      return t - e;
                    }, 0);
                  return (
                    (Gn.after = function (t, e) {
                      if ('function' != typeof e) throw new At(o);
                      return (
                        (t = gs(t)),
                        function () {
                          if (--t < 1) return e.apply(this, arguments);
                        }
                      );
                    }),
                    (Gn.ary = Ca),
                    (Gn.assign = xs),
                    (Gn.assignIn = _s),
                    (Gn.assignInWith = ws),
                    (Gn.assignWith = Es),
                    (Gn.at = Ss),
                    (Gn.before = Ia),
                    (Gn.bind = Ta),
                    (Gn.bindAll = tu),
                    (Gn.bindKey = Na),
                    (Gn.castArray = function () {
                      if (!arguments.length) return [];
                      var t = arguments[0];
                      return Ya(t) ? t : [t];
                    }),
                    (Gn.chain = da),
                    (Gn.chunk = function (t, e, n) {
                      e = (n ? mo(t, e, n) : e === i) ? 1 : yn(gs(e), 0);
                      var o = null == t ? 0 : t.length;
                      if (!o || e < 1) return [];
                      for (var a = 0, s = 0, u = r(ln(o / e)); a < o; ) u[s++] = ei(t, a, (a += e));
                      return u;
                    }),
                    (Gn.compact = function (t) {
                      for (var e = -1, n = null == t ? 0 : t.length, r = 0, i = []; ++e < n; ) {
                        var o = t[e];
                        o && (i[r++] = o);
                      }
                      return i;
                    }),
                    (Gn.concat = function () {
                      var t = arguments.length;
                      if (!t) return [];
                      for (var e = r(t - 1), n = arguments[0], i = t; i--; )
                        e[i - 1] = arguments[i];
                      return ke(Ya(n) ? Ai(n) : [n], vr(e, 1));
                    }),
                    (Gn.cond = function (t) {
                      var e = null == t ? 0 : t.length,
                        n = ao();
                      return (
                        (t = e
                          ? Me(t, function (t) {
                              if ('function' != typeof t[1]) throw new At(o);
                              return [n(t[0]), t[1]];
                            })
                          : []),
                        qr(function (n) {
                          for (var r = -1; ++r < e; ) {
                            var i = t[r];
                            if (ye(i[0], this, n)) return ye(i[1], this, n);
                          }
                        })
                      );
                    }),
                    (Gn.conforms = function (t) {
                      return (function (t) {
                        var e = Ps(t);
                        return function (n) {
                          return ur(n, t, e);
                        };
                      })(sr(t, 1));
                    }),
                    (Gn.constant = eu),
                    (Gn.countBy = va),
                    (Gn.create = function (t, e) {
                      var n = zn(t);
                      return null == e ? n : rr(n, e);
                    }),
                    (Gn.curry = function t(e, n, r) {
                      var o = Ki(e, 8, i, i, i, i, i, (n = r ? i : n));
                      return (o.placeholder = t.placeholder), o;
                    }),
                    (Gn.curryRight = function t(e, n, r) {
                      var o = Ki(e, 16, i, i, i, i, i, (n = r ? i : n));
                      return (o.placeholder = t.placeholder), o;
                    }),
                    (Gn.debounce = Pa),
                    (Gn.defaults = Ms),
                    (Gn.defaultsDeep = ks),
                    (Gn.defer = Oa),
                    (Gn.delay = Da),
                    (Gn.difference = Fo),
                    (Gn.differenceBy = Uo),
                    (Gn.differenceWith = Vo),
                    (Gn.drop = function (t, e, n) {
                      var r = null == t ? 0 : t.length;
                      return r ? ei(t, (e = n || e === i ? 1 : gs(e)) < 0 ? 0 : e, r) : [];
                    }),
                    (Gn.dropRight = function (t, e, n) {
                      var r = null == t ? 0 : t.length;
                      return r
                        ? ei(t, 0, (e = r - (e = n || e === i ? 1 : gs(e))) < 0 ? 0 : e)
                        : [];
                    }),
                    (Gn.dropRightWhile = function (t, e) {
                      return t && t.length ? hi(t, ao(e, 3), !0, !0) : [];
                    }),
                    (Gn.dropWhile = function (t, e) {
                      return t && t.length ? hi(t, ao(e, 3), !0) : [];
                    }),
                    (Gn.fill = function (t, e, n, r) {
                      var o = null == t ? 0 : t.length;
                      return o
                        ? (n && 'number' != typeof n && mo(t, e, n) && ((n = 0), (r = o)),
                          (function (t, e, n, r) {
                            var o = t.length;
                            for (
                              (n = gs(n)) < 0 && (n = -n > o ? 0 : o + n),
                                (r = r === i || r > o ? o : gs(r)) < 0 && (r += o),
                                r = n > r ? 0 : vs(r);
                              n < r;

                            )
                              t[n++] = e;
                            return t;
                          })(t, e, n, r))
                        : [];
                    }),
                    (Gn.filter = function (t, e) {
                      return (Ya(t) ? we : gr)(t, ao(e, 3));
                    }),
                    (Gn.flatMap = function (t, e) {
                      return vr(Sa(t, e), 1);
                    }),
                    (Gn.flatMapDeep = function (t, e) {
                      return vr(Sa(t, e), l);
                    }),
                    (Gn.flatMapDepth = function (t, e, n) {
                      return (n = n === i ? 1 : gs(n)), vr(Sa(t, e), n);
                    }),
                    (Gn.flatten = Xo),
                    (Gn.flattenDeep = function (t) {
                      return null != t && t.length ? vr(t, l) : [];
                    }),
                    (Gn.flattenDepth = function (t, e) {
                      return null != t && t.length ? vr(t, (e = e === i ? 1 : gs(e))) : [];
                    }),
                    (Gn.flip = function (t) {
                      return Ki(t, 512);
                    }),
                    (Gn.flow = nu),
                    (Gn.flowRight = ru),
                    (Gn.fromPairs = function (t) {
                      for (var e = -1, n = null == t ? 0 : t.length, r = {}; ++e < n; ) {
                        var i = t[e];
                        r[i[0]] = i[1];
                      }
                      return r;
                    }),
                    (Gn.functions = function (t) {
                      return null == t ? [] : _r(t, Ps(t));
                    }),
                    (Gn.functionsIn = function (t) {
                      return null == t ? [] : _r(t, Os(t));
                    }),
                    (Gn.groupBy = _a),
                    (Gn.initial = function (t) {
                      return null != t && t.length ? ei(t, 0, -1) : [];
                    }),
                    (Gn.intersection = qo),
                    (Gn.intersectionBy = Ko),
                    (Gn.intersectionWith = Zo),
                    (Gn.invert = Is),
                    (Gn.invertBy = Ts),
                    (Gn.invokeMap = wa),
                    (Gn.iteratee = ou),
                    (Gn.keyBy = Ea),
                    (Gn.keys = Ps),
                    (Gn.keysIn = Os),
                    (Gn.map = Sa),
                    (Gn.mapKeys = function (t, e) {
                      var n = {};
                      return (
                        (e = ao(e, 3)),
                        br(t, function (t, r, i) {
                          ir(n, e(t, r, i), t);
                        }),
                        n
                      );
                    }),
                    (Gn.mapValues = function (t, e) {
                      var n = {};
                      return (
                        (e = ao(e, 3)),
                        br(t, function (t, r, i) {
                          ir(n, r, e(t, r, i));
                        }),
                        n
                      );
                    }),
                    (Gn.matches = function (t) {
                      return jr(sr(t, 1));
                    }),
                    (Gn.matchesProperty = function (t, e) {
                      return Gr(t, sr(e, 1));
                    }),
                    (Gn.memoize = La),
                    (Gn.merge = Ds),
                    (Gn.mergeWith = Ls),
                    (Gn.method = au),
                    (Gn.methodOf = su),
                    (Gn.mixin = uu),
                    (Gn.negate = Ra),
                    (Gn.nthArg = function (t) {
                      return (
                        (t = gs(t)),
                        qr(function (e) {
                          return Fr(e, t);
                        })
                      );
                    }),
                    (Gn.omit = Rs),
                    (Gn.omitBy = function (t, e) {
                      return js(t, Ra(ao(e)));
                    }),
                    (Gn.once = function (t) {
                      return Ia(2, t);
                    }),
                    (Gn.orderBy = function (t, e, n, r) {
                      return null == t
                        ? []
                        : (Ya(e) || (e = null == e ? [] : [e]),
                          Ya((n = r ? i : n)) || (n = null == n ? [] : [n]),
                          Ur(t, e, n));
                    }),
                    (Gn.over = lu),
                    (Gn.overArgs = Ba),
                    (Gn.overEvery = hu),
                    (Gn.overSome = fu),
                    (Gn.partial = ja),
                    (Gn.partialRight = Ga),
                    (Gn.partition = Ma),
                    (Gn.pick = Bs),
                    (Gn.pickBy = js),
                    (Gn.property = du),
                    (Gn.propertyOf = function (t) {
                      return function (e) {
                        return null == t ? i : wr(t, e);
                      };
                    }),
                    (Gn.pull = Qo),
                    (Gn.pullAll = Jo),
                    (Gn.pullAllBy = function (t, e, n) {
                      return t && t.length && e && e.length ? Wr(t, e, ao(n, 2)) : t;
                    }),
                    (Gn.pullAllWith = function (t, e, n) {
                      return t && t.length && e && e.length ? Wr(t, e, i, n) : t;
                    }),
                    (Gn.pullAt = ta),
                    (Gn.range = pu),
                    (Gn.rangeRight = gu),
                    (Gn.rearg = za),
                    (Gn.reject = function (t, e) {
                      return (Ya(t) ? we : gr)(t, Ra(ao(e, 3)));
                    }),
                    (Gn.remove = function (t, e) {
                      var n = [];
                      if (!t || !t.length) return n;
                      var r = -1,
                        i = [],
                        o = t.length;
                      for (e = ao(e, 3); ++r < o; ) {
                        var a = t[r];
                        e(a, r, t) && (n.push(a), i.push(r));
                      }
                      return Yr(t, i), n;
                    }),
                    (Gn.rest = function (t, e) {
                      if ('function' != typeof t) throw new At(o);
                      return qr(t, (e = e === i ? e : gs(e)));
                    }),
                    (Gn.reverse = ea),
                    (Gn.sampleSize = function (t, e, n) {
                      return (e = (n ? mo(t, e, n) : e === i) ? 1 : gs(e)), (Ya(t) ? $n : Zr)(t, e);
                    }),
                    (Gn.set = function (t, e, n) {
                      return null == t ? t : $r(t, e, n);
                    }),
                    (Gn.setWith = function (t, e, n, r) {
                      return (r = 'function' == typeof r ? r : i), null == t ? t : $r(t, e, n, r);
                    }),
                    (Gn.shuffle = function (t) {
                      return (Ya(t) ? Qn : ti)(t);
                    }),
                    (Gn.slice = function (t, e, n) {
                      var r = null == t ? 0 : t.length;
                      return r
                        ? (n && 'number' != typeof n && mo(t, e, n)
                            ? ((e = 0), (n = r))
                            : ((e = null == e ? 0 : gs(e)), (n = n === i ? r : gs(n))),
                          ei(t, e, n))
                        : [];
                    }),
                    (Gn.sortBy = ka),
                    (Gn.sortedUniq = function (t) {
                      return t && t.length ? oi(t) : [];
                    }),
                    (Gn.sortedUniqBy = function (t, e) {
                      return t && t.length ? oi(t, ao(e, 2)) : [];
                    }),
                    (Gn.split = function (t, e, n) {
                      return (
                        n && 'number' != typeof n && mo(t, e, n) && (e = n = i),
                        (n = n === i ? d : n >>> 0)
                          ? (t = bs(t)) &&
                            ('string' == typeof e || (null != e && !as(e))) &&
                            !(e = si(e)) &&
                            Qe(t)
                            ? bi(an(t), 0, n)
                            : t.split(e, n)
                          : []
                      );
                    }),
                    (Gn.spread = function (t, e) {
                      if ('function' != typeof t) throw new At(o);
                      return (
                        (e = null == e ? 0 : yn(gs(e), 0)),
                        qr(function (n) {
                          var r = n[e],
                            i = bi(n, 0, e);
                          return r && ke(i, r), ye(t, this, i);
                        })
                      );
                    }),
                    (Gn.tail = function (t) {
                      var e = null == t ? 0 : t.length;
                      return e ? ei(t, 1, e) : [];
                    }),
                    (Gn.take = function (t, e, n) {
                      return t && t.length
                        ? ei(t, 0, (e = n || e === i ? 1 : gs(e)) < 0 ? 0 : e)
                        : [];
                    }),
                    (Gn.takeRight = function (t, e, n) {
                      var r = null == t ? 0 : t.length;
                      return r
                        ? ei(t, (e = r - (e = n || e === i ? 1 : gs(e))) < 0 ? 0 : e, r)
                        : [];
                    }),
                    (Gn.takeRightWhile = function (t, e) {
                      return t && t.length ? hi(t, ao(e, 3), !1, !0) : [];
                    }),
                    (Gn.takeWhile = function (t, e) {
                      return t && t.length ? hi(t, ao(e, 3)) : [];
                    }),
                    (Gn.tap = function (t, e) {
                      return e(t), t;
                    }),
                    (Gn.throttle = function (t, e, n) {
                      var r = !0,
                        i = !0;
                      if ('function' != typeof t) throw new At(o);
                      return (
                        es(n) &&
                          ((r = 'leading' in n ? !!n.leading : r),
                          (i = 'trailing' in n ? !!n.trailing : i)),
                        Pa(t, e, { leading: r, maxWait: e, trailing: i })
                      );
                    }),
                    (Gn.thru = pa),
                    (Gn.toArray = ds),
                    (Gn.toPairs = Gs),
                    (Gn.toPairsIn = zs),
                    (Gn.toPath = function (t) {
                      return Ya(t) ? Me(t, jo) : cs(t) ? [t] : Ai(Bo(bs(t)));
                    }),
                    (Gn.toPlainObject = ms),
                    (Gn.transform = function (t, e, n) {
                      var r = Ya(t),
                        i = r || Ka(t) || ls(t);
                      if (((e = ao(e, 4)), null == n)) {
                        var o = t && t.constructor;
                        n = i ? (r ? new o() : []) : es(t) && Qa(o) ? zn(Xt(t)) : {};
                      }
                      return (
                        (i ? be : br)(t, function (t, r, i) {
                          return e(n, t, r, i);
                        }),
                        n
                      );
                    }),
                    (Gn.unary = function (t) {
                      return Ca(t, 1);
                    }),
                    (Gn.union = na),
                    (Gn.unionBy = ra),
                    (Gn.unionWith = ia),
                    (Gn.uniq = function (t) {
                      return t && t.length ? ui(t) : [];
                    }),
                    (Gn.uniqBy = function (t, e) {
                      return t && t.length ? ui(t, ao(e, 2)) : [];
                    }),
                    (Gn.uniqWith = function (t, e) {
                      return (e = 'function' == typeof e ? e : i), t && t.length ? ui(t, i, e) : [];
                    }),
                    (Gn.unset = function (t, e) {
                      return null == t || ci(t, e);
                    }),
                    (Gn.unzip = oa),
                    (Gn.unzipWith = aa),
                    (Gn.update = function (t, e, n) {
                      return null == t ? t : li(t, e, vi(n));
                    }),
                    (Gn.updateWith = function (t, e, n, r) {
                      return (
                        (r = 'function' == typeof r ? r : i), null == t ? t : li(t, e, vi(n), r)
                      );
                    }),
                    (Gn.values = Fs),
                    (Gn.valuesIn = function (t) {
                      return null == t ? [] : We(t, Os(t));
                    }),
                    (Gn.without = sa),
                    (Gn.words = Qs),
                    (Gn.wrap = function (t, e) {
                      return ja(vi(e), t);
                    }),
                    (Gn.xor = ua),
                    (Gn.xorBy = ca),
                    (Gn.xorWith = la),
                    (Gn.zip = ha),
                    (Gn.zipObject = function (t, e) {
                      return pi(t || [], e || [], tr);
                    }),
                    (Gn.zipObjectDeep = function (t, e) {
                      return pi(t || [], e || [], $r);
                    }),
                    (Gn.zipWith = fa),
                    (Gn.entries = Gs),
                    (Gn.entriesIn = zs),
                    (Gn.extend = _s),
                    (Gn.extendWith = ws),
                    uu(Gn, Gn),
                    (Gn.add = bu),
                    (Gn.attempt = Js),
                    (Gn.camelCase = Us),
                    (Gn.capitalize = Vs),
                    (Gn.ceil = xu),
                    (Gn.clamp = function (t, e, n) {
                      return (
                        n === i && ((n = e), (e = i)),
                        n !== i && (n = (n = ys(n)) == n ? n : 0),
                        e !== i && (e = (e = ys(e)) == e ? e : 0),
                        ar(ys(t), e, n)
                      );
                    }),
                    (Gn.clone = function (t) {
                      return sr(t, 4);
                    }),
                    (Gn.cloneDeep = function (t) {
                      return sr(t, 5);
                    }),
                    (Gn.cloneDeepWith = function (t, e) {
                      return sr(t, 5, (e = 'function' == typeof e ? e : i));
                    }),
                    (Gn.cloneWith = function (t, e) {
                      return sr(t, 4, (e = 'function' == typeof e ? e : i));
                    }),
                    (Gn.conformsTo = function (t, e) {
                      return null == e || ur(t, e, Ps(e));
                    }),
                    (Gn.deburr = Ws),
                    (Gn.defaultTo = function (t, e) {
                      return null == t || t != t ? e : t;
                    }),
                    (Gn.divide = _u),
                    (Gn.endsWith = function (t, e, n) {
                      (t = bs(t)), (e = si(e));
                      var r = t.length,
                        o = (n = n === i ? r : ar(gs(n), 0, r));
                      return (n -= e.length) >= 0 && t.slice(n, o) == e;
                    }),
                    (Gn.eq = Fa),
                    (Gn.escape = function (t) {
                      return (t = bs(t)) && q.test(t) ? t.replace(X, Ze) : t;
                    }),
                    (Gn.escapeRegExp = function (t) {
                      return (t = bs(t)) && nt.test(t) ? t.replace(et, '\\$&') : t;
                    }),
                    (Gn.every = function (t, e, n) {
                      var r = Ya(t) ? _e : dr;
                      return n && mo(t, e, n) && (e = i), r(t, ao(e, 3));
                    }),
                    (Gn.find = ya),
                    (Gn.findIndex = Wo),
                    (Gn.findKey = function (t, e) {
                      return Ne(t, ao(e, 3), br);
                    }),
                    (Gn.findLast = ma),
                    (Gn.findLastIndex = Yo),
                    (Gn.findLastKey = function (t, e) {
                      return Ne(t, ao(e, 3), xr);
                    }),
                    (Gn.floor = wu),
                    (Gn.forEach = ba),
                    (Gn.forEachRight = xa),
                    (Gn.forIn = function (t, e) {
                      return null == t ? t : yr(t, ao(e, 3), Os);
                    }),
                    (Gn.forInRight = function (t, e) {
                      return null == t ? t : mr(t, ao(e, 3), Os);
                    }),
                    (Gn.forOwn = function (t, e) {
                      return t && br(t, ao(e, 3));
                    }),
                    (Gn.forOwnRight = function (t, e) {
                      return t && xr(t, ao(e, 3));
                    }),
                    (Gn.get = As),
                    (Gn.gt = Ua),
                    (Gn.gte = Va),
                    (Gn.has = function (t, e) {
                      return null != t && po(t, e, kr);
                    }),
                    (Gn.hasIn = Cs),
                    (Gn.head = Ho),
                    (Gn.identity = iu),
                    (Gn.includes = function (t, e, n, r) {
                      (t = Ha(t) ? t : Fs(t)), (n = n && !r ? gs(n) : 0);
                      var i = t.length;
                      return (
                        n < 0 && (n = yn(i + n, 0)),
                        us(t) ? n <= i && t.indexOf(e, n) > -1 : !!i && Oe(t, e, n) > -1
                      );
                    }),
                    (Gn.indexOf = function (t, e, n) {
                      var r = null == t ? 0 : t.length;
                      if (!r) return -1;
                      var i = null == n ? 0 : gs(n);
                      return i < 0 && (i = yn(r + i, 0)), Oe(t, e, i);
                    }),
                    (Gn.inRange = function (t, e, n) {
                      return (
                        (e = ps(e)),
                        n === i ? ((n = e), (e = 0)) : (n = ps(n)),
                        (function (t, e, n) {
                          return t >= mn(e, n) && t < yn(e, n);
                        })((t = ys(t)), e, n)
                      );
                    }),
                    (Gn.invoke = Ns),
                    (Gn.isArguments = Wa),
                    (Gn.isArray = Ya),
                    (Gn.isArrayBuffer = Xa),
                    (Gn.isArrayLike = Ha),
                    (Gn.isArrayLikeObject = qa),
                    (Gn.isBoolean = function (t) {
                      return !0 === t || !1 === t || (ns(t) && Sr(t) == y);
                    }),
                    (Gn.isBuffer = Ka),
                    (Gn.isDate = Za),
                    (Gn.isElement = function (t) {
                      return ns(t) && 1 === t.nodeType && !os(t);
                    }),
                    (Gn.isEmpty = function (t) {
                      if (null == t) return !0;
                      if (
                        Ha(t) &&
                        (Ya(t) ||
                          'string' == typeof t ||
                          'function' == typeof t.splice ||
                          Ka(t) ||
                          ls(t) ||
                          Wa(t))
                      )
                        return !t.length;
                      var e = fo(t);
                      if (e == w || e == A) return !t.size;
                      if (wo(t)) return !Lr(t).length;
                      for (var n in t) if (Ot.call(t, n)) return !1;
                      return !0;
                    }),
                    (Gn.isEqual = function (t, e) {
                      return Nr(t, e);
                    }),
                    (Gn.isEqualWith = function (t, e, n) {
                      var r = (n = 'function' == typeof n ? n : i) ? n(t, e) : i;
                      return r === i ? Nr(t, e, i, n) : !!r;
                    }),
                    (Gn.isError = $a),
                    (Gn.isFinite = function (t) {
                      return 'number' == typeof t && pn(t);
                    }),
                    (Gn.isFunction = Qa),
                    (Gn.isInteger = Ja),
                    (Gn.isLength = ts),
                    (Gn.isMap = rs),
                    (Gn.isMatch = function (t, e) {
                      return t === e || Pr(t, e, uo(e));
                    }),
                    (Gn.isMatchWith = function (t, e, n) {
                      return (n = 'function' == typeof n ? n : i), Pr(t, e, uo(e), n);
                    }),
                    (Gn.isNaN = function (t) {
                      return is(t) && t != +t;
                    }),
                    (Gn.isNative = function (t) {
                      if (_o(t))
                        throw new _t(
                          'Unsupported core-js use. Try https://npms.io/search?q=ponyfill.',
                        );
                      return Or(t);
                    }),
                    (Gn.isNil = function (t) {
                      return null == t;
                    }),
                    (Gn.isNull = function (t) {
                      return null === t;
                    }),
                    (Gn.isNumber = is),
                    (Gn.isObject = es),
                    (Gn.isObjectLike = ns),
                    (Gn.isPlainObject = os),
                    (Gn.isRegExp = as),
                    (Gn.isSafeInteger = function (t) {
                      return Ja(t) && t >= -9007199254740991 && t <= h;
                    }),
                    (Gn.isSet = ss),
                    (Gn.isString = us),
                    (Gn.isSymbol = cs),
                    (Gn.isTypedArray = ls),
                    (Gn.isUndefined = function (t) {
                      return t === i;
                    }),
                    (Gn.isWeakMap = function (t) {
                      return ns(t) && fo(t) == T;
                    }),
                    (Gn.isWeakSet = function (t) {
                      return ns(t) && '[object WeakSet]' == Sr(t);
                    }),
                    (Gn.join = function (t, e) {
                      return null == t ? '' : gn.call(t, e);
                    }),
                    (Gn.kebabCase = Ys),
                    (Gn.last = $o),
                    (Gn.lastIndexOf = function (t, e, n) {
                      var r = null == t ? 0 : t.length;
                      if (!r) return -1;
                      var o = r;
                      return (
                        n !== i && (o = (o = gs(n)) < 0 ? yn(r + o, 0) : mn(o, r - 1)),
                        e == e
                          ? (function (t, e, n) {
                              for (var r = n + 1; r--; ) if (t[r] === e) return r;
                              return r;
                            })(t, e, o)
                          : Pe(t, Le, o, !0)
                      );
                    }),
                    (Gn.lowerCase = Xs),
                    (Gn.lowerFirst = Hs),
                    (Gn.lt = hs),
                    (Gn.lte = fs),
                    (Gn.max = function (t) {
                      return t && t.length ? pr(t, iu, Mr) : i;
                    }),
                    (Gn.maxBy = function (t, e) {
                      return t && t.length ? pr(t, ao(e, 2), Mr) : i;
                    }),
                    (Gn.mean = function (t) {
                      return Re(t, iu);
                    }),
                    (Gn.meanBy = function (t, e) {
                      return Re(t, ao(e, 2));
                    }),
                    (Gn.min = function (t) {
                      return t && t.length ? pr(t, iu, Rr) : i;
                    }),
                    (Gn.minBy = function (t, e) {
                      return t && t.length ? pr(t, ao(e, 2), Rr) : i;
                    }),
                    (Gn.stubArray = vu),
                    (Gn.stubFalse = yu),
                    (Gn.stubObject = function () {
                      return {};
                    }),
                    (Gn.stubString = function () {
                      return '';
                    }),
                    (Gn.stubTrue = function () {
                      return !0;
                    }),
                    (Gn.multiply = Eu),
                    (Gn.nth = function (t, e) {
                      return t && t.length ? Fr(t, gs(e)) : i;
                    }),
                    (Gn.noConflict = function () {
                      return oe._ === this && (oe._ = jt), this;
                    }),
                    (Gn.noop = cu),
                    (Gn.now = Aa),
                    (Gn.pad = function (t, e, n) {
                      t = bs(t);
                      var r = (e = gs(e)) ? on(t) : 0;
                      if (!e || r >= e) return t;
                      var i = (e - r) / 2;
                      return Ui(hn(i), n) + t + Ui(ln(i), n);
                    }),
                    (Gn.padEnd = function (t, e, n) {
                      t = bs(t);
                      var r = (e = gs(e)) ? on(t) : 0;
                      return e && r < e ? t + Ui(e - r, n) : t;
                    }),
                    (Gn.padStart = function (t, e, n) {
                      t = bs(t);
                      var r = (e = gs(e)) ? on(t) : 0;
                      return e && r < e ? Ui(e - r, n) + t : t;
                    }),
                    (Gn.parseInt = function (t, e, n) {
                      return (
                        n || null == e ? (e = 0) : e && (e = +e), xn(bs(t).replace(rt, ''), e || 0)
                      );
                    }),
                    (Gn.random = function (t, e, n) {
                      if (
                        (n && 'boolean' != typeof n && mo(t, e, n) && (e = n = i),
                        n === i &&
                          ('boolean' == typeof e
                            ? ((n = e), (e = i))
                            : 'boolean' == typeof t && ((n = t), (t = i))),
                        t === i && e === i
                          ? ((t = 0), (e = 1))
                          : ((t = ps(t)), e === i ? ((e = t), (t = 0)) : (e = ps(e))),
                        t > e)
                      ) {
                        var r = t;
                        (t = e), (e = r);
                      }
                      if (n || t % 1 || e % 1) {
                        var o = _n();
                        return mn(t + o * (e - t + ee('1e-' + ((o + '').length - 1))), e);
                      }
                      return Xr(t, e);
                    }),
                    (Gn.reduce = function (t, e, n) {
                      var r = Ya(t) ? Ae : Ge,
                        i = arguments.length < 3;
                      return r(t, ao(e, 4), n, i, hr);
                    }),
                    (Gn.reduceRight = function (t, e, n) {
                      var r = Ya(t) ? Ce : Ge,
                        i = arguments.length < 3;
                      return r(t, ao(e, 4), n, i, fr);
                    }),
                    (Gn.repeat = function (t, e, n) {
                      return (e = (n ? mo(t, e, n) : e === i) ? 1 : gs(e)), Hr(bs(t), e);
                    }),
                    (Gn.replace = function () {
                      var t = arguments,
                        e = bs(t[0]);
                      return t.length < 3 ? e : e.replace(t[1], t[2]);
                    }),
                    (Gn.result = function (t, e, n) {
                      var r = -1,
                        o = (e = yi(e, t)).length;
                      for (o || ((o = 1), (t = i)); ++r < o; ) {
                        var a = null == t ? i : t[jo(e[r])];
                        a === i && ((r = o), (a = n)), (t = Qa(a) ? a.call(t) : a);
                      }
                      return t;
                    }),
                    (Gn.round = Su),
                    (Gn.runInContext = t),
                    (Gn.sample = function (t) {
                      return (Ya(t) ? Zn : Kr)(t);
                    }),
                    (Gn.size = function (t) {
                      if (null == t) return 0;
                      if (Ha(t)) return us(t) ? on(t) : t.length;
                      var e = fo(t);
                      return e == w || e == A ? t.size : Lr(t).length;
                    }),
                    (Gn.snakeCase = qs),
                    (Gn.some = function (t, e, n) {
                      var r = Ya(t) ? Ie : ni;
                      return n && mo(t, e, n) && (e = i), r(t, ao(e, 3));
                    }),
                    (Gn.sortedIndex = function (t, e) {
                      return ri(t, e);
                    }),
                    (Gn.sortedIndexBy = function (t, e, n) {
                      return ii(t, e, ao(n, 2));
                    }),
                    (Gn.sortedIndexOf = function (t, e) {
                      var n = null == t ? 0 : t.length;
                      if (n) {
                        var r = ri(t, e);
                        if (r < n && Fa(t[r], e)) return r;
                      }
                      return -1;
                    }),
                    (Gn.sortedLastIndex = function (t, e) {
                      return ri(t, e, !0);
                    }),
                    (Gn.sortedLastIndexBy = function (t, e, n) {
                      return ii(t, e, ao(n, 2), !0);
                    }),
                    (Gn.sortedLastIndexOf = function (t, e) {
                      if (null != t && t.length) {
                        var n = ri(t, e, !0) - 1;
                        if (Fa(t[n], e)) return n;
                      }
                      return -1;
                    }),
                    (Gn.startCase = Ks),
                    (Gn.startsWith = function (t, e, n) {
                      return (
                        (t = bs(t)),
                        (n = null == n ? 0 : ar(gs(n), 0, t.length)),
                        (e = si(e)),
                        t.slice(n, n + e.length) == e
                      );
                    }),
                    (Gn.subtract = Mu),
                    (Gn.sum = function (t) {
                      return t && t.length ? ze(t, iu) : 0;
                    }),
                    (Gn.sumBy = function (t, e) {
                      return t && t.length ? ze(t, ao(e, 2)) : 0;
                    }),
                    (Gn.template = function (t, e, n) {
                      var r = Gn.templateSettings;
                      n && mo(t, e, n) && (e = i), (t = bs(t)), (e = ws({}, e, r, Zi));
                      var o,
                        a,
                        s = ws({}, e.imports, r.imports, Zi),
                        u = Ps(s),
                        c = We(s, u),
                        l = 0,
                        h = e.interpolate || bt,
                        f = "__p += '",
                        d = Mt(
                          (e.escape || bt).source +
                            '|' +
                            h.source +
                            '|' +
                            (h === $ ? ht : bt).source +
                            '|' +
                            (e.evaluate || bt).source +
                            '|$',
                          'g',
                        ),
                        p =
                          '//# sourceURL=' +
                          (Ot.call(e, 'sourceURL')
                            ? (e.sourceURL + '').replace(/\s/g, ' ')
                            : 'lodash.templateSources[' + ++$t + ']') +
                          '\n';
                      t.replace(d, function (e, n, r, i, s, u) {
                        return (
                          r || (r = i),
                          (f += t.slice(l, u).replace(xt, $e)),
                          n && ((o = !0), (f += "' +\n__e(" + n + ") +\n'")),
                          s && ((a = !0), (f += "';\n" + s + ";\n__p += '")),
                          r && (f += "' +\n((__t = (" + r + ")) == null ? '' : __t) +\n'"),
                          (l = u + e.length),
                          e
                        );
                      }),
                        (f += "';\n");
                      var g = Ot.call(e, 'variable') && e.variable;
                      if (g) {
                        if (ct.test(g))
                          throw new _t('Invalid `variable` option passed into `_.template`');
                      } else f = 'with (obj) {\n' + f + '\n}\n';
                      (f = (a ? f.replace(U, '') : f).replace(V, '$1').replace(W, '$1;')),
                        (f =
                          'function(' +
                          (g || 'obj') +
                          ') {\n' +
                          (g ? '' : 'obj || (obj = {});\n') +
                          "var __t, __p = ''" +
                          (o ? ', __e = _.escape' : '') +
                          (a
                            ? ", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n"
                            : ';\n') +
                          f +
                          'return __p\n}');
                      var v = Js(function () {
                        return wt(u, p + 'return ' + f).apply(i, c);
                      });
                      if (((v.source = f), $a(v))) throw v;
                      return v;
                    }),
                    (Gn.times = function (t, e) {
                      if ((t = gs(t)) < 1 || t > h) return [];
                      var n = d,
                        r = mn(t, d);
                      (e = ao(e)), (t -= d);
                      for (var i = Fe(r, e); ++n < t; ) e(n);
                      return i;
                    }),
                    (Gn.toFinite = ps),
                    (Gn.toInteger = gs),
                    (Gn.toLength = vs),
                    (Gn.toLower = function (t) {
                      return bs(t).toLowerCase();
                    }),
                    (Gn.toNumber = ys),
                    (Gn.toSafeInteger = function (t) {
                      return t ? ar(gs(t), -9007199254740991, h) : 0 === t ? t : 0;
                    }),
                    (Gn.toString = bs),
                    (Gn.toUpper = function (t) {
                      return bs(t).toUpperCase();
                    }),
                    (Gn.trim = function (t, e, n) {
                      if ((t = bs(t)) && (n || e === i)) return Ue(t);
                      if (!t || !(e = si(e))) return t;
                      var r = an(t),
                        o = an(e);
                      return bi(r, Xe(r, o), He(r, o) + 1).join('');
                    }),
                    (Gn.trimEnd = function (t, e, n) {
                      if ((t = bs(t)) && (n || e === i)) return t.slice(0, sn(t) + 1);
                      if (!t || !(e = si(e))) return t;
                      var r = an(t);
                      return bi(r, 0, He(r, an(e)) + 1).join('');
                    }),
                    (Gn.trimStart = function (t, e, n) {
                      if ((t = bs(t)) && (n || e === i)) return t.replace(rt, '');
                      if (!t || !(e = si(e))) return t;
                      var r = an(t);
                      return bi(r, Xe(r, an(e))).join('');
                    }),
                    (Gn.truncate = function (t, e) {
                      var n = 30,
                        r = '...';
                      if (es(e)) {
                        var o = 'separator' in e ? e.separator : o;
                        (n = 'length' in e ? gs(e.length) : n),
                          (r = 'omission' in e ? si(e.omission) : r);
                      }
                      var a = (t = bs(t)).length;
                      if (Qe(t)) {
                        var s = an(t);
                        a = s.length;
                      }
                      if (n >= a) return t;
                      var u = n - on(r);
                      if (u < 1) return r;
                      var c = s ? bi(s, 0, u).join('') : t.slice(0, u);
                      if (o === i) return c + r;
                      if ((s && (u += c.length - u), as(o))) {
                        if (t.slice(u).search(o)) {
                          var l,
                            h = c;
                          for (
                            o.global || (o = Mt(o.source, bs(ft.exec(o)) + 'g')), o.lastIndex = 0;
                            (l = o.exec(h));

                          )
                            var f = l.index;
                          c = c.slice(0, f === i ? u : f);
                        }
                      } else if (t.indexOf(si(o), u) != u) {
                        var d = c.lastIndexOf(o);
                        d > -1 && (c = c.slice(0, d));
                      }
                      return c + r;
                    }),
                    (Gn.unescape = function (t) {
                      return (t = bs(t)) && H.test(t) ? t.replace(Y, un) : t;
                    }),
                    (Gn.uniqueId = function (t) {
                      var e = ++Dt;
                      return bs(t) + e;
                    }),
                    (Gn.upperCase = Zs),
                    (Gn.upperFirst = $s),
                    (Gn.each = ba),
                    (Gn.eachRight = xa),
                    (Gn.first = Ho),
                    uu(
                      Gn,
                      ((mu = {}),
                      br(Gn, function (t, e) {
                        Ot.call(Gn.prototype, e) || (mu[e] = t);
                      }),
                      mu),
                      { chain: !1 },
                    ),
                    (Gn.VERSION = '4.17.21'),
                    be(
                      ['bind', 'bindKey', 'curry', 'curryRight', 'partial', 'partialRight'],
                      function (t) {
                        Gn[t].placeholder = Gn;
                      },
                    ),
                    be(['drop', 'take'], function (t, e) {
                      (Vn.prototype[t] = function (n) {
                        n = n === i ? 1 : yn(gs(n), 0);
                        var r = this.__filtered__ && !e ? new Vn(this) : this.clone();
                        return (
                          r.__filtered__
                            ? (r.__takeCount__ = mn(n, r.__takeCount__))
                            : r.__views__.push({
                                size: mn(n, d),
                                type: t + (r.__dir__ < 0 ? 'Right' : ''),
                              }),
                          r
                        );
                      }),
                        (Vn.prototype[t + 'Right'] = function (e) {
                          return this.reverse()[t](e).reverse();
                        });
                    }),
                    be(['filter', 'map', 'takeWhile'], function (t, e) {
                      var n = e + 1,
                        r = 1 == n || 3 == n;
                      Vn.prototype[t] = function (t) {
                        var e = this.clone();
                        return (
                          e.__iteratees__.push({ iteratee: ao(t, 3), type: n }),
                          (e.__filtered__ = e.__filtered__ || r),
                          e
                        );
                      };
                    }),
                    be(['head', 'last'], function (t, e) {
                      var n = 'take' + (e ? 'Right' : '');
                      Vn.prototype[t] = function () {
                        return this[n](1).value()[0];
                      };
                    }),
                    be(['initial', 'tail'], function (t, e) {
                      var n = 'drop' + (e ? '' : 'Right');
                      Vn.prototype[t] = function () {
                        return this.__filtered__ ? new Vn(this) : this[n](1);
                      };
                    }),
                    (Vn.prototype.compact = function () {
                      return this.filter(iu);
                    }),
                    (Vn.prototype.find = function (t) {
                      return this.filter(t).head();
                    }),
                    (Vn.prototype.findLast = function (t) {
                      return this.reverse().find(t);
                    }),
                    (Vn.prototype.invokeMap = qr(function (t, e) {
                      return 'function' == typeof t
                        ? new Vn(this)
                        : this.map(function (n) {
                            return Ir(n, t, e);
                          });
                    })),
                    (Vn.prototype.reject = function (t) {
                      return this.filter(Ra(ao(t)));
                    }),
                    (Vn.prototype.slice = function (t, e) {
                      t = gs(t);
                      var n = this;
                      return n.__filtered__ && (t > 0 || e < 0)
                        ? new Vn(n)
                        : (t < 0 ? (n = n.takeRight(-t)) : t && (n = n.drop(t)),
                          e !== i && (n = (e = gs(e)) < 0 ? n.dropRight(-e) : n.take(e - t)),
                          n);
                    }),
                    (Vn.prototype.takeRightWhile = function (t) {
                      return this.reverse().takeWhile(t).reverse();
                    }),
                    (Vn.prototype.toArray = function () {
                      return this.take(d);
                    }),
                    br(Vn.prototype, function (t, e) {
                      var n = /^(?:filter|find|map|reject)|While$/.test(e),
                        r = /^(?:head|last)$/.test(e),
                        o = Gn[r ? 'take' + ('last' == e ? 'Right' : '') : e],
                        a = r || /^find/.test(e);
                      o &&
                        (Gn.prototype[e] = function () {
                          var e = this.__wrapped__,
                            s = r ? [1] : arguments,
                            u = e instanceof Vn,
                            c = s[0],
                            l = u || Ya(e),
                            h = function (t) {
                              var e = o.apply(Gn, ke([t], s));
                              return r && f ? e[0] : e;
                            };
                          l && n && 'function' == typeof c && 1 != c.length && (u = l = !1);
                          var f = this.__chain__,
                            d = !!this.__actions__.length,
                            p = a && !f,
                            g = u && !d;
                          if (!a && l) {
                            e = g ? e : new Vn(this);
                            var v = t.apply(e, s);
                            return (
                              v.__actions__.push({ func: pa, args: [h], thisArg: i }), new Un(v, f)
                            );
                          }
                          return p && g
                            ? t.apply(this, s)
                            : ((v = this.thru(h)), p ? (r ? v.value()[0] : v.value()) : v);
                        });
                    }),
                    be(['pop', 'push', 'shift', 'sort', 'splice', 'unshift'], function (t) {
                      var e = Ct[t],
                        n = /^(?:push|sort|unshift)$/.test(t) ? 'tap' : 'thru',
                        r = /^(?:pop|shift)$/.test(t);
                      Gn.prototype[t] = function () {
                        var t = arguments;
                        if (r && !this.__chain__) {
                          var i = this.value();
                          return e.apply(Ya(i) ? i : [], t);
                        }
                        return this[n](function (n) {
                          return e.apply(Ya(n) ? n : [], t);
                        });
                      };
                    }),
                    br(Vn.prototype, function (t, e) {
                      var n = Gn[e];
                      if (n) {
                        var r = n.name + '';
                        Ot.call(Tn, r) || (Tn[r] = []), Tn[r].push({ name: e, func: n });
                      }
                    }),
                    (Tn[ji(i, 2).name] = [{ name: 'wrapper', func: i }]),
                    (Vn.prototype.clone = function () {
                      var t = new Vn(this.__wrapped__);
                      return (
                        (t.__actions__ = Ai(this.__actions__)),
                        (t.__dir__ = this.__dir__),
                        (t.__filtered__ = this.__filtered__),
                        (t.__iteratees__ = Ai(this.__iteratees__)),
                        (t.__takeCount__ = this.__takeCount__),
                        (t.__views__ = Ai(this.__views__)),
                        t
                      );
                    }),
                    (Vn.prototype.reverse = function () {
                      if (this.__filtered__) {
                        var t = new Vn(this);
                        (t.__dir__ = -1), (t.__filtered__ = !0);
                      } else (t = this.clone()).__dir__ *= -1;
                      return t;
                    }),
                    (Vn.prototype.value = function () {
                      var t = this.__wrapped__.value(),
                        e = this.__dir__,
                        n = Ya(t),
                        r = e < 0,
                        i = n ? t.length : 0,
                        o = (function (t, e, n) {
                          for (var r = -1, i = n.length; ++r < i; ) {
                            var o = n[r],
                              a = o.size;
                            switch (o.type) {
                              case 'drop':
                                t += a;
                                break;
                              case 'dropRight':
                                e -= a;
                                break;
                              case 'take':
                                e = mn(e, t + a);
                                break;
                              case 'takeRight':
                                t = yn(t, e - a);
                            }
                          }
                          return { start: t, end: e };
                        })(0, i, this.__views__),
                        a = o.start,
                        s = o.end,
                        u = s - a,
                        c = r ? s : a - 1,
                        l = this.__iteratees__,
                        h = l.length,
                        f = 0,
                        d = mn(u, this.__takeCount__);
                      if (!n || (!r && i == u && d == u)) return fi(t, this.__actions__);
                      var p = [];
                      t: for (; u-- && f < d; ) {
                        for (var g = -1, v = t[(c += e)]; ++g < h; ) {
                          var y = l[g],
                            m = y.iteratee,
                            b = y.type,
                            x = m(v);
                          if (2 == b) v = x;
                          else if (!x) {
                            if (1 == b) continue t;
                            break t;
                          }
                        }
                        p[f++] = v;
                      }
                      return p;
                    }),
                    (Gn.prototype.at = ga),
                    (Gn.prototype.chain = function () {
                      return da(this);
                    }),
                    (Gn.prototype.commit = function () {
                      return new Un(this.value(), this.__chain__);
                    }),
                    (Gn.prototype.next = function () {
                      this.__values__ === i && (this.__values__ = ds(this.value()));
                      var t = this.__index__ >= this.__values__.length;
                      return { done: t, value: t ? i : this.__values__[this.__index__++] };
                    }),
                    (Gn.prototype.plant = function (t) {
                      for (var e, n = this; n instanceof Fn; ) {
                        var r = zo(n);
                        (r.__index__ = 0), (r.__values__ = i), e ? (o.__wrapped__ = r) : (e = r);
                        var o = r;
                        n = n.__wrapped__;
                      }
                      return (o.__wrapped__ = t), e;
                    }),
                    (Gn.prototype.reverse = function () {
                      var t = this.__wrapped__;
                      if (t instanceof Vn) {
                        var e = t;
                        return (
                          this.__actions__.length && (e = new Vn(this)),
                          (e = e.reverse()).__actions__.push({ func: pa, args: [ea], thisArg: i }),
                          new Un(e, this.__chain__)
                        );
                      }
                      return this.thru(ea);
                    }),
                    (Gn.prototype.toJSON =
                      Gn.prototype.valueOf =
                      Gn.prototype.value =
                        function () {
                          return fi(this.__wrapped__, this.__actions__);
                        }),
                    (Gn.prototype.first = Gn.prototype.head),
                    ae &&
                      (Gn.prototype[ae] = function () {
                        return this;
                      }),
                    Gn
                  );
                })();
              (oe._ = cn),
                (r = function () {
                  return cn;
                }.call(e, n, e, t)) === i || (t.exports = r);
            }.call(this);
        },
        1965: (t, e) => {
          'use strict';
          function n() {
            for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
            return r.apply(void 0, t);
          }
          function r() {
            for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
            return u(!0 === t[0], !1, t);
          }
          function i() {
            for (var t = [], e = 0; e < arguments.length; e++) t[e] = arguments[e];
            return u(!0 === t[0], !0, t);
          }
          function o(t) {
            if (Array.isArray(t)) {
              for (var e = [], n = 0; n < t.length; ++n) e.push(o(t[n]));
              return e;
            }
            if (a(t)) {
              for (var n in ((e = {}), t)) e[n] = o(t[n]);
              return e;
            }
            return t;
          }
          function a(t) {
            return t && 'object' == typeof t && !Array.isArray(t);
          }
          function s(t, e) {
            if (!a(t)) return e;
            for (var n in e)
              '__proto__' !== n &&
                'constructor' !== n &&
                'prototype' !== n &&
                (t[n] = a(t[n]) && a(e[n]) ? s(t[n], e[n]) : e[n]);
            return t;
          }
          function u(t, e, n) {
            var r;
            (!t && a((r = n.shift()))) || (r = {});
            for (var i = 0; i < n.length; ++i) {
              var u = n[i];
              if (a(u))
                for (var c in u)
                  if ('__proto__' !== c && 'constructor' !== c && 'prototype' !== c) {
                    var l = t ? o(u[c]) : u[c];
                    r[c] = e ? s(r[c], l) : l;
                  }
            }
            return r;
          }
          Object.defineProperty(e, '__esModule', { value: !0 }),
            (e.isPlainObject = e.clone = e.recursive = e.merge = e.main = void 0),
            (t.exports = e = n),
            (e.default = n),
            (e.main = n),
            (n.clone = o),
            (n.isPlainObject = a),
            (n.recursive = i),
            (e.merge = r),
            (e.recursive = i),
            (e.clone = o),
            (e.isPlainObject = a);
        },
        3591: (t, e, n) => {
          'use strict';
          n.r(e),
            n.d(e, {
              AbstractMatrix: () => E,
              CHO: () => tt,
              CholeskyDecomposition: () => tt,
              EVD: () => Q,
              EigenvalueDecomposition: () => Q,
              LU: () => G,
              LuDecomposition: () => G,
              Matrix: () => M,
              MatrixColumnSelectionView: () => C,
              MatrixColumnView: () => A,
              MatrixFlipColumnView: () => I,
              MatrixFlipRowView: () => T,
              MatrixRowSelectionView: () => P,
              MatrixRowView: () => N,
              MatrixSelectionView: () => O,
              MatrixSubView: () => D,
              MatrixTransposeView: () => L,
              NIPALS: () => et,
              Nipals: () => et,
              QR: () => F,
              QrDecomposition: () => F,
              SVD: () => U,
              SingularValueDecomposition: () => U,
              WrapperMatrix1D: () => R,
              WrapperMatrix2D: () => B,
              correlation: () => $,
              covariance: () => Z,
              default: () => M,
              determinant: () => Y,
              inverse: () => V,
              linearDependencies: () => q,
              pseudoInverse: () => K,
              solve: () => W,
              wrap: () => j,
            });
          const r = Object.prototype.toString;
          function i(t) {
            return r.call(t).endsWith('Array]');
          }
          const o = function (t) {
              var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
              if (!i(t)) throw new TypeError('input must be an array');
              if (0 === t.length) throw new TypeError('input must not be empty');
              var n = e.fromIndex,
                r = void 0 === n ? 0 : n,
                o = e.toIndex,
                a = void 0 === o ? t.length : o;
              if (r < 0 || r >= t.length || !Number.isInteger(r))
                throw new Error('fromIndex must be a positive integer smaller than length');
              if (a <= r || a > t.length || !Number.isInteger(a))
                throw new Error(
                  'toIndex must be an integer greater than fromIndex and at most equal to length',
                );
              for (var s = t[r], u = r + 1; u < a; u++) t[u] > s && (s = t[u]);
              return s;
            },
            a = function (t) {
              var e = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
              if (!i(t)) throw new TypeError('input must be an array');
              if (0 === t.length) throw new TypeError('input must not be empty');
              var n = e.fromIndex,
                r = void 0 === n ? 0 : n,
                o = e.toIndex,
                a = void 0 === o ? t.length : o;
              if (r < 0 || r >= t.length || !Number.isInteger(r))
                throw new Error('fromIndex must be a positive integer smaller than length');
              if (a <= r || a > t.length || !Number.isInteger(a))
                throw new Error(
                  'toIndex must be an integer greater than fromIndex and at most equal to length',
                );
              for (var s = t[r], u = r + 1; u < a; u++) t[u] < s && (s = t[u]);
              return s;
            };
          function s(t) {
            var e,
              n = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {};
            if (!i(t)) throw new TypeError('input must be an array');
            if (0 === t.length) throw new TypeError('input must not be empty');
            if (void 0 !== n.output) {
              if (!i(n.output)) throw new TypeError('output option must be an array if specified');
              e = n.output;
            } else e = new Array(t.length);
            var r = a(t),
              s = o(t);
            if (r === s)
              throw new RangeError(
                'minimum and maximum input values are equal. Cannot rescale a constant array',
              );
            var u = n.min,
              c = void 0 === u ? (n.autoMinMax ? r : 0) : u,
              l = n.max,
              h = void 0 === l ? (n.autoMinMax ? s : 1) : l;
            if (c >= h) throw new RangeError('min option must be smaller than max option');
            for (var f = (h - c) / (s - r), d = 0; d < t.length; d++) e[d] = (t[d] - r) * f + c;
            return e;
          }
          const u = ' '.repeat(2),
            c = ' '.repeat(4);
          function l(t, e = {}) {
            const { maxRows: n = 15, maxColumns: r = 10, maxNumSize: i = 8 } = e;
            return `${t.constructor.name} {\n${u}[\n${c}${(function (t, e, n, r) {
              const { rows: i, columns: o } = t,
                a = Math.min(i, e),
                s = Math.min(o, n),
                u = [];
              for (let e = 0; e < a; e++) {
                let n = [];
                for (let i = 0; i < s; i++) n.push(h(t.get(e, i), r));
                u.push(`${n.join(' ')}`);
              }
              return (
                s !== o && (u[u.length - 1] += ` ... ${o - n} more columns`),
                a !== i && u.push(`... ${i - e} more rows`),
                u.join(`\n${c}`)
              );
            })(t, n, r, i)}\n${u}]\n${u}rows: ${t.rows}\n${u}columns: ${t.columns}\n}`;
          }
          function h(t, e) {
            const n = String(t);
            if (n.length <= e) return n.padEnd(e, ' ');
            const r = t.toPrecision(e - 2);
            if (r.length <= e) return r;
            const i = t.toExponential(e - 2),
              o = i.indexOf('e'),
              a = i.slice(o);
            return i.slice(0, e - a.length) + a;
          }
          function f(t, e, n) {
            let r = n ? t.rows : t.rows - 1;
            if (e < 0 || e > r) throw new RangeError('Row index out of range');
          }
          function d(t, e, n) {
            let r = n ? t.columns : t.columns - 1;
            if (e < 0 || e > r) throw new RangeError('Column index out of range');
          }
          function p(t, e) {
            if ((e.to1DArray && (e = e.to1DArray()), e.length !== t.columns))
              throw new RangeError('vector size must be the same as the number of columns');
            return e;
          }
          function g(t, e) {
            if ((e.to1DArray && (e = e.to1DArray()), e.length !== t.rows))
              throw new RangeError('vector size must be the same as the number of rows');
            return e;
          }
          function v(t, e, n) {
            return { row: y(t, e), column: m(t, n) };
          }
          function y(t, e) {
            if ('object' != typeof e) throw new TypeError('unexpected type for row indices');
            if (e.some((e) => e < 0 || e >= t.rows))
              throw new RangeError('row indices are out of range');
            return Array.isArray(e) || (e = Array.from(e)), e;
          }
          function m(t, e) {
            if ('object' != typeof e) throw new TypeError('unexpected type for column indices');
            if (e.some((e) => e < 0 || e >= t.columns))
              throw new RangeError('column indices are out of range');
            return Array.isArray(e) || (e = Array.from(e)), e;
          }
          function b(t, e, n, r, i) {
            if (5 !== arguments.length) throw new RangeError('expected 4 arguments');
            if (
              (_('startRow', e),
              _('endRow', n),
              _('startColumn', r),
              _('endColumn', i),
              e > n ||
                r > i ||
                e < 0 ||
                e >= t.rows ||
                n < 0 ||
                n >= t.rows ||
                r < 0 ||
                r >= t.columns ||
                i < 0 ||
                i >= t.columns)
            )
              throw new RangeError('Submatrix indices are out of range');
          }
          function x(t, e = 0) {
            let n = [];
            for (let r = 0; r < t; r++) n.push(e);
            return n;
          }
          function _(t, e) {
            if ('number' != typeof e) throw new TypeError(`${t} must be a number`);
          }
          function w(t) {
            if (t.isEmpty()) throw new Error('Empty matrix has no elements to index');
          }
          class E {
            static from1DArray(t, e, n) {
              if (t * e !== n.length)
                throw new RangeError('data length does not match given dimensions');
              let r = new M(t, e);
              for (let i = 0; i < t; i++) for (let t = 0; t < e; t++) r.set(i, t, n[i * e + t]);
              return r;
            }
            static rowVector(t) {
              let e = new M(1, t.length);
              for (let n = 0; n < t.length; n++) e.set(0, n, t[n]);
              return e;
            }
            static columnVector(t) {
              let e = new M(t.length, 1);
              for (let n = 0; n < t.length; n++) e.set(n, 0, t[n]);
              return e;
            }
            static zeros(t, e) {
              return new M(t, e);
            }
            static ones(t, e) {
              return new M(t, e).fill(1);
            }
            static rand(t, e, n = {}) {
              if ('object' != typeof n) throw new TypeError('options must be an object');
              const { random: r = Math.random } = n;
              let i = new M(t, e);
              for (let n = 0; n < t; n++) for (let t = 0; t < e; t++) i.set(n, t, r());
              return i;
            }
            static randInt(t, e, n = {}) {
              if ('object' != typeof n) throw new TypeError('options must be an object');
              const { min: r = 0, max: i = 1e3, random: o = Math.random } = n;
              if (!Number.isInteger(r)) throw new TypeError('min must be an integer');
              if (!Number.isInteger(i)) throw new TypeError('max must be an integer');
              if (r >= i) throw new RangeError('min must be smaller than max');
              let a = i - r,
                s = new M(t, e);
              for (let n = 0; n < t; n++)
                for (let t = 0; t < e; t++) {
                  let e = r + Math.round(o() * a);
                  s.set(n, t, e);
                }
              return s;
            }
            static eye(t, e, n) {
              void 0 === e && (e = t), void 0 === n && (n = 1);
              let r = Math.min(t, e),
                i = this.zeros(t, e);
              for (let t = 0; t < r; t++) i.set(t, t, n);
              return i;
            }
            static diag(t, e, n) {
              let r = t.length;
              void 0 === e && (e = r), void 0 === n && (n = e);
              let i = Math.min(r, e, n),
                o = this.zeros(e, n);
              for (let e = 0; e < i; e++) o.set(e, e, t[e]);
              return o;
            }
            static min(t, e) {
              (t = this.checkMatrix(t)), (e = this.checkMatrix(e));
              let n = t.rows,
                r = t.columns,
                i = new M(n, r);
              for (let o = 0; o < n; o++)
                for (let n = 0; n < r; n++) i.set(o, n, Math.min(t.get(o, n), e.get(o, n)));
              return i;
            }
            static max(t, e) {
              (t = this.checkMatrix(t)), (e = this.checkMatrix(e));
              let n = t.rows,
                r = t.columns,
                i = new this(n, r);
              for (let o = 0; o < n; o++)
                for (let n = 0; n < r; n++) i.set(o, n, Math.max(t.get(o, n), e.get(o, n)));
              return i;
            }
            static checkMatrix(t) {
              return E.isMatrix(t) ? t : new M(t);
            }
            static isMatrix(t) {
              return null != t && 'Matrix' === t.klass;
            }
            get size() {
              return this.rows * this.columns;
            }
            apply(t) {
              if ('function' != typeof t) throw new TypeError('callback must be a function');
              for (let e = 0; e < this.rows; e++)
                for (let n = 0; n < this.columns; n++) t.call(this, e, n);
              return this;
            }
            to1DArray() {
              let t = [];
              for (let e = 0; e < this.rows; e++)
                for (let n = 0; n < this.columns; n++) t.push(this.get(e, n));
              return t;
            }
            to2DArray() {
              let t = [];
              for (let e = 0; e < this.rows; e++) {
                t.push([]);
                for (let n = 0; n < this.columns; n++) t[e].push(this.get(e, n));
              }
              return t;
            }
            toJSON() {
              return this.to2DArray();
            }
            isRowVector() {
              return 1 === this.rows;
            }
            isColumnVector() {
              return 1 === this.columns;
            }
            isVector() {
              return 1 === this.rows || 1 === this.columns;
            }
            isSquare() {
              return this.rows === this.columns;
            }
            isEmpty() {
              return 0 === this.rows || 0 === this.columns;
            }
            isSymmetric() {
              if (this.isSquare()) {
                for (let t = 0; t < this.rows; t++)
                  for (let e = 0; e <= t; e++) if (this.get(t, e) !== this.get(e, t)) return !1;
                return !0;
              }
              return !1;
            }
            isEchelonForm() {
              let t = 0,
                e = 0,
                n = -1,
                r = !0,
                i = !1;
              for (; t < this.rows && r; ) {
                for (e = 0, i = !1; e < this.columns && !1 === i; )
                  0 === this.get(t, e)
                    ? e++
                    : 1 === this.get(t, e) && e > n
                    ? ((i = !0), (n = e))
                    : ((r = !1), (i = !0));
                t++;
              }
              return r;
            }
            isReducedEchelonForm() {
              let t = 0,
                e = 0,
                n = -1,
                r = !0,
                i = !1;
              for (; t < this.rows && r; ) {
                for (e = 0, i = !1; e < this.columns && !1 === i; )
                  0 === this.get(t, e)
                    ? e++
                    : 1 === this.get(t, e) && e > n
                    ? ((i = !0), (n = e))
                    : ((r = !1), (i = !0));
                for (let n = e + 1; n < this.rows; n++) 0 !== this.get(t, n) && (r = !1);
                t++;
              }
              return r;
            }
            echelonForm() {
              let t = this.clone(),
                e = 0,
                n = 0;
              for (; e < t.rows && n < t.columns; ) {
                let r = e;
                for (let i = e; i < t.rows; i++) t.get(i, n) > t.get(r, n) && (r = i);
                if (0 === t.get(r, n)) n++;
                else {
                  t.swapRows(e, r);
                  let i = t.get(e, n);
                  for (let r = n; r < t.columns; r++) t.set(e, r, t.get(e, r) / i);
                  for (let r = e + 1; r < t.rows; r++) {
                    let i = t.get(r, n) / t.get(e, n);
                    t.set(r, n, 0);
                    for (let o = n + 1; o < t.columns; o++)
                      t.set(r, o, t.get(r, o) - t.get(e, o) * i);
                  }
                  e++, n++;
                }
              }
              return t;
            }
            reducedEchelonForm() {
              let t = this.echelonForm(),
                e = t.columns,
                n = t.rows,
                r = n - 1;
              for (; r >= 0; )
                if (0 === t.maxRow(r)) r--;
                else {
                  let i = 0,
                    o = !1;
                  for (; i < n && !1 === o; ) 1 === t.get(r, i) ? (o = !0) : i++;
                  for (let n = 0; n < r; n++) {
                    let o = t.get(n, i);
                    for (let a = i; a < e; a++) {
                      let e = t.get(n, a) - o * t.get(r, a);
                      t.set(n, a, e);
                    }
                  }
                  r--;
                }
              return t;
            }
            set() {
              throw new Error('set method is unimplemented');
            }
            get() {
              throw new Error('get method is unimplemented');
            }
            repeat(t = {}) {
              if ('object' != typeof t) throw new TypeError('options must be an object');
              const { rows: e = 1, columns: n = 1 } = t;
              if (!Number.isInteger(e) || e <= 0)
                throw new TypeError('rows must be a positive integer');
              if (!Number.isInteger(n) || n <= 0)
                throw new TypeError('columns must be a positive integer');
              let r = new M(this.rows * e, this.columns * n);
              for (let t = 0; t < e; t++)
                for (let e = 0; e < n; e++) r.setSubMatrix(this, this.rows * t, this.columns * e);
              return r;
            }
            fill(t) {
              for (let e = 0; e < this.rows; e++)
                for (let n = 0; n < this.columns; n++) this.set(e, n, t);
              return this;
            }
            neg() {
              return this.mulS(-1);
            }
            getRow(t) {
              f(this, t);
              let e = [];
              for (let n = 0; n < this.columns; n++) e.push(this.get(t, n));
              return e;
            }
            getRowVector(t) {
              return M.rowVector(this.getRow(t));
            }
            setRow(t, e) {
              f(this, t), (e = p(this, e));
              for (let n = 0; n < this.columns; n++) this.set(t, n, e[n]);
              return this;
            }
            swapRows(t, e) {
              f(this, t), f(this, e);
              for (let n = 0; n < this.columns; n++) {
                let r = this.get(t, n);
                this.set(t, n, this.get(e, n)), this.set(e, n, r);
              }
              return this;
            }
            getColumn(t) {
              d(this, t);
              let e = [];
              for (let n = 0; n < this.rows; n++) e.push(this.get(n, t));
              return e;
            }
            getColumnVector(t) {
              return M.columnVector(this.getColumn(t));
            }
            setColumn(t, e) {
              d(this, t), (e = g(this, e));
              for (let n = 0; n < this.rows; n++) this.set(n, t, e[n]);
              return this;
            }
            swapColumns(t, e) {
              d(this, t), d(this, e);
              for (let n = 0; n < this.rows; n++) {
                let r = this.get(n, t);
                this.set(n, t, this.get(n, e)), this.set(n, e, r);
              }
              return this;
            }
            addRowVector(t) {
              t = p(this, t);
              for (let e = 0; e < this.rows; e++)
                for (let n = 0; n < this.columns; n++) this.set(e, n, this.get(e, n) + t[n]);
              return this;
            }
            subRowVector(t) {
              t = p(this, t);
              for (let e = 0; e < this.rows; e++)
                for (let n = 0; n < this.columns; n++) this.set(e, n, this.get(e, n) - t[n]);
              return this;
            }
            mulRowVector(t) {
              t = p(this, t);
              for (let e = 0; e < this.rows; e++)
                for (let n = 0; n < this.columns; n++) this.set(e, n, this.get(e, n) * t[n]);
              return this;
            }
            divRowVector(t) {
              t = p(this, t);
              for (let e = 0; e < this.rows; e++)
                for (let n = 0; n < this.columns; n++) this.set(e, n, this.get(e, n) / t[n]);
              return this;
            }
            addColumnVector(t) {
              t = g(this, t);
              for (let e = 0; e < this.rows; e++)
                for (let n = 0; n < this.columns; n++) this.set(e, n, this.get(e, n) + t[e]);
              return this;
            }
            subColumnVector(t) {
              t = g(this, t);
              for (let e = 0; e < this.rows; e++)
                for (let n = 0; n < this.columns; n++) this.set(e, n, this.get(e, n) - t[e]);
              return this;
            }
            mulColumnVector(t) {
              t = g(this, t);
              for (let e = 0; e < this.rows; e++)
                for (let n = 0; n < this.columns; n++) this.set(e, n, this.get(e, n) * t[e]);
              return this;
            }
            divColumnVector(t) {
              t = g(this, t);
              for (let e = 0; e < this.rows; e++)
                for (let n = 0; n < this.columns; n++) this.set(e, n, this.get(e, n) / t[e]);
              return this;
            }
            mulRow(t, e) {
              f(this, t);
              for (let n = 0; n < this.columns; n++) this.set(t, n, this.get(t, n) * e);
              return this;
            }
            mulColumn(t, e) {
              d(this, t);
              for (let n = 0; n < this.rows; n++) this.set(n, t, this.get(n, t) * e);
              return this;
            }
            max() {
              if (this.isEmpty()) return NaN;
              let t = this.get(0, 0);
              for (let e = 0; e < this.rows; e++)
                for (let n = 0; n < this.columns; n++) this.get(e, n) > t && (t = this.get(e, n));
              return t;
            }
            maxIndex() {
              w(this);
              let t = this.get(0, 0),
                e = [0, 0];
              for (let n = 0; n < this.rows; n++)
                for (let r = 0; r < this.columns; r++)
                  this.get(n, r) > t && ((t = this.get(n, r)), (e[0] = n), (e[1] = r));
              return e;
            }
            min() {
              if (this.isEmpty()) return NaN;
              let t = this.get(0, 0);
              for (let e = 0; e < this.rows; e++)
                for (let n = 0; n < this.columns; n++) this.get(e, n) < t && (t = this.get(e, n));
              return t;
            }
            minIndex() {
              w(this);
              let t = this.get(0, 0),
                e = [0, 0];
              for (let n = 0; n < this.rows; n++)
                for (let r = 0; r < this.columns; r++)
                  this.get(n, r) < t && ((t = this.get(n, r)), (e[0] = n), (e[1] = r));
              return e;
            }
            maxRow(t) {
              if ((f(this, t), this.isEmpty())) return NaN;
              let e = this.get(t, 0);
              for (let n = 1; n < this.columns; n++) this.get(t, n) > e && (e = this.get(t, n));
              return e;
            }
            maxRowIndex(t) {
              f(this, t), w(this);
              let e = this.get(t, 0),
                n = [t, 0];
              for (let r = 1; r < this.columns; r++)
                this.get(t, r) > e && ((e = this.get(t, r)), (n[1] = r));
              return n;
            }
            minRow(t) {
              if ((f(this, t), this.isEmpty())) return NaN;
              let e = this.get(t, 0);
              for (let n = 1; n < this.columns; n++) this.get(t, n) < e && (e = this.get(t, n));
              return e;
            }
            minRowIndex(t) {
              f(this, t), w(this);
              let e = this.get(t, 0),
                n = [t, 0];
              for (let r = 1; r < this.columns; r++)
                this.get(t, r) < e && ((e = this.get(t, r)), (n[1] = r));
              return n;
            }
            maxColumn(t) {
              if ((d(this, t), this.isEmpty())) return NaN;
              let e = this.get(0, t);
              for (let n = 1; n < this.rows; n++) this.get(n, t) > e && (e = this.get(n, t));
              return e;
            }
            maxColumnIndex(t) {
              d(this, t), w(this);
              let e = this.get(0, t),
                n = [0, t];
              for (let r = 1; r < this.rows; r++)
                this.get(r, t) > e && ((e = this.get(r, t)), (n[0] = r));
              return n;
            }
            minColumn(t) {
              if ((d(this, t), this.isEmpty())) return NaN;
              let e = this.get(0, t);
              for (let n = 1; n < this.rows; n++) this.get(n, t) < e && (e = this.get(n, t));
              return e;
            }
            minColumnIndex(t) {
              d(this, t), w(this);
              let e = this.get(0, t),
                n = [0, t];
              for (let r = 1; r < this.rows; r++)
                this.get(r, t) < e && ((e = this.get(r, t)), (n[0] = r));
              return n;
            }
            diag() {
              let t = Math.min(this.rows, this.columns),
                e = [];
              for (let n = 0; n < t; n++) e.push(this.get(n, n));
              return e;
            }
            norm(t = 'frobenius') {
              let e = 0;
              if ('max' === t) return this.max();
              if ('frobenius' === t) {
                for (let t = 0; t < this.rows; t++)
                  for (let n = 0; n < this.columns; n++) e += this.get(t, n) * this.get(t, n);
                return Math.sqrt(e);
              }
              throw new RangeError(`unknown norm type: ${t}`);
            }
            cumulativeSum() {
              let t = 0;
              for (let e = 0; e < this.rows; e++)
                for (let n = 0; n < this.columns; n++) (t += this.get(e, n)), this.set(e, n, t);
              return this;
            }
            dot(t) {
              E.isMatrix(t) && (t = t.to1DArray());
              let e = this.to1DArray();
              if (e.length !== t.length) throw new RangeError('vectors do not have the same size');
              let n = 0;
              for (let r = 0; r < e.length; r++) n += e[r] * t[r];
              return n;
            }
            mmul(t) {
              t = M.checkMatrix(t);
              let e = this.rows,
                n = this.columns,
                r = t.columns,
                i = new M(e, r),
                o = new Float64Array(n);
              for (let a = 0; a < r; a++) {
                for (let e = 0; e < n; e++) o[e] = t.get(e, a);
                for (let t = 0; t < e; t++) {
                  let e = 0;
                  for (let r = 0; r < n; r++) e += this.get(t, r) * o[r];
                  i.set(t, a, e);
                }
              }
              return i;
            }
            strassen2x2(t) {
              t = M.checkMatrix(t);
              let e = new M(2, 2);
              const n = this.get(0, 0),
                r = t.get(0, 0),
                i = this.get(0, 1),
                o = t.get(0, 1),
                a = this.get(1, 0),
                s = t.get(1, 0),
                u = this.get(1, 1),
                c = t.get(1, 1),
                l = (n + u) * (r + c),
                h = (a + u) * r,
                f = n * (o - c),
                d = u * (s - r),
                p = (n + i) * c,
                g = l + d - p + (i - u) * (s + c),
                v = f + p,
                y = h + d,
                m = l - h + f + (a - n) * (r + o);
              return e.set(0, 0, g), e.set(0, 1, v), e.set(1, 0, y), e.set(1, 1, m), e;
            }
            strassen3x3(t) {
              t = M.checkMatrix(t);
              let e = new M(3, 3);
              const n = this.get(0, 0),
                r = this.get(0, 1),
                i = this.get(0, 2),
                o = this.get(1, 0),
                a = this.get(1, 1),
                s = this.get(1, 2),
                u = this.get(2, 0),
                c = this.get(2, 1),
                l = this.get(2, 2),
                h = t.get(0, 0),
                f = t.get(0, 1),
                d = t.get(0, 2),
                p = t.get(1, 0),
                g = t.get(1, 1),
                v = t.get(1, 2),
                y = t.get(2, 0),
                m = t.get(2, 1),
                b = t.get(2, 2),
                x = (n - o) * (-f + g),
                _ = (-n + o + a) * (h - f + g),
                w = (o + a) * (-h + f),
                E = n * h,
                S = (-n + u + c) * (h - d + v),
                k = (-n + u) * (d - v),
                A = (u + c) * (-h + d),
                C = (-i + c + l) * (g + y - m),
                I = (i - l) * (g - m),
                T = i * y,
                N = (c + l) * (-y + m),
                P = (-i + a + s) * (v + y - b),
                O = (i - s) * (v - b),
                D = (a + s) * (-y + b),
                L = E + T + r * p,
                R = (n + r + i - o - a - c - l) * g + _ + w + E + C + T + N,
                B = E + S + A + (n + r + i - a - s - u - c) * v + T + P + D,
                j = x + a * (-h + f + p - g - v - y + b) + _ + E + T + P + O,
                G = x + _ + w + E + s * m,
                z = T + P + O + D + o * d,
                F = E + S + k + c * (-h + d + p - g - v - y + m) + C + I + T,
                U = C + I + T + N + u * f,
                V = E + S + k + A + l * b;
              return (
                e.set(0, 0, L),
                e.set(0, 1, R),
                e.set(0, 2, B),
                e.set(1, 0, j),
                e.set(1, 1, G),
                e.set(1, 2, z),
                e.set(2, 0, F),
                e.set(2, 1, U),
                e.set(2, 2, V),
                e
              );
            }
            mmulStrassen(t) {
              t = M.checkMatrix(t);
              let e = this.clone(),
                n = e.rows,
                r = e.columns,
                i = t.rows,
                o = t.columns;
              function a(t, e, n) {
                let r = t.rows,
                  i = t.columns;
                if (r === e && i === n) return t;
                {
                  let r = E.zeros(e, n);
                  return (r = r.setSubMatrix(t, 0, 0)), r;
                }
              }
              r !== i &&
                console.warn(
                  `Multiplying ${n} x ${r} and ${i} x ${o} matrix: dimensions do not match.`,
                );
              let s = Math.max(n, i),
                u = Math.max(r, o);
              return (
                (e = a(e, s, u)),
                (function t(e, n, r, i) {
                  if (r <= 512 || i <= 512) return e.mmul(n);
                  r % 2 == 1 && i % 2 == 1
                    ? ((e = a(e, r + 1, i + 1)), (n = a(n, r + 1, i + 1)))
                    : r % 2 == 1
                    ? ((e = a(e, r + 1, i)), (n = a(n, r + 1, i)))
                    : i % 2 == 1 && ((e = a(e, r, i + 1)), (n = a(n, r, i + 1)));
                  let o = parseInt(e.rows / 2, 10),
                    s = parseInt(e.columns / 2, 10),
                    u = e.subMatrix(0, o - 1, 0, s - 1),
                    c = n.subMatrix(0, o - 1, 0, s - 1),
                    l = e.subMatrix(0, o - 1, s, e.columns - 1),
                    h = n.subMatrix(0, o - 1, s, n.columns - 1),
                    f = e.subMatrix(o, e.rows - 1, 0, s - 1),
                    d = n.subMatrix(o, n.rows - 1, 0, s - 1),
                    p = e.subMatrix(o, e.rows - 1, s, e.columns - 1),
                    g = n.subMatrix(o, n.rows - 1, s, n.columns - 1),
                    v = t(E.add(u, p), E.add(c, g), o, s),
                    y = t(E.add(f, p), c, o, s),
                    m = t(u, E.sub(h, g), o, s),
                    b = t(p, E.sub(d, c), o, s),
                    x = t(E.add(u, l), g, o, s),
                    _ = t(E.sub(f, u), E.add(c, h), o, s),
                    w = t(E.sub(l, p), E.add(d, g), o, s),
                    S = E.add(v, b);
                  S.sub(x), S.add(w);
                  let M = E.add(m, x),
                    k = E.add(y, b),
                    A = E.sub(v, y);
                  A.add(m), A.add(_);
                  let C = E.zeros(2 * S.rows, 2 * S.columns);
                  return (
                    (C = C.setSubMatrix(S, 0, 0)),
                    (C = C.setSubMatrix(M, S.rows, 0)),
                    (C = C.setSubMatrix(k, 0, S.columns)),
                    (C = C.setSubMatrix(A, S.rows, S.columns)),
                    C.subMatrix(0, r - 1, 0, i - 1)
                  );
                })(e, (t = a(t, s, u)), s, u)
              );
            }
            scaleRows(t = {}) {
              if ('object' != typeof t) throw new TypeError('options must be an object');
              const { min: e = 0, max: n = 1 } = t;
              if (!Number.isFinite(e)) throw new TypeError('min must be a number');
              if (!Number.isFinite(n)) throw new TypeError('max must be a number');
              if (e >= n) throw new RangeError('min must be smaller than max');
              let r = new M(this.rows, this.columns);
              for (let t = 0; t < this.rows; t++) {
                const i = this.getRow(t);
                i.length > 0 && s(i, { min: e, max: n, output: i }), r.setRow(t, i);
              }
              return r;
            }
            scaleColumns(t = {}) {
              if ('object' != typeof t) throw new TypeError('options must be an object');
              const { min: e = 0, max: n = 1 } = t;
              if (!Number.isFinite(e)) throw new TypeError('min must be a number');
              if (!Number.isFinite(n)) throw new TypeError('max must be a number');
              if (e >= n) throw new RangeError('min must be smaller than max');
              let r = new M(this.rows, this.columns);
              for (let t = 0; t < this.columns; t++) {
                const i = this.getColumn(t);
                i.length && s(i, { min: e, max: n, output: i }), r.setColumn(t, i);
              }
              return r;
            }
            flipRows() {
              const t = Math.ceil(this.columns / 2);
              for (let e = 0; e < this.rows; e++)
                for (let n = 0; n < t; n++) {
                  let t = this.get(e, n),
                    r = this.get(e, this.columns - 1 - n);
                  this.set(e, n, r), this.set(e, this.columns - 1 - n, t);
                }
              return this;
            }
            flipColumns() {
              const t = Math.ceil(this.rows / 2);
              for (let e = 0; e < this.columns; e++)
                for (let n = 0; n < t; n++) {
                  let t = this.get(n, e),
                    r = this.get(this.rows - 1 - n, e);
                  this.set(n, e, r), this.set(this.rows - 1 - n, e, t);
                }
              return this;
            }
            kroneckerProduct(t) {
              t = M.checkMatrix(t);
              let e = this.rows,
                n = this.columns,
                r = t.rows,
                i = t.columns,
                o = new M(e * r, n * i);
              for (let a = 0; a < e; a++)
                for (let e = 0; e < n; e++)
                  for (let n = 0; n < r; n++)
                    for (let s = 0; s < i; s++)
                      o.set(r * a + n, i * e + s, this.get(a, e) * t.get(n, s));
              return o;
            }
            kroneckerSum(t) {
              if (((t = M.checkMatrix(t)), !this.isSquare() || !t.isSquare()))
                throw new Error('Kronecker Sum needs two Square Matrices');
              let e = this.rows,
                n = t.rows,
                r = this.kroneckerProduct(M.eye(n, n)),
                i = M.eye(e, e).kroneckerProduct(t);
              return r.add(i);
            }
            transpose() {
              let t = new M(this.columns, this.rows);
              for (let e = 0; e < this.rows; e++)
                for (let n = 0; n < this.columns; n++) t.set(n, e, this.get(e, n));
              return t;
            }
            sortRows(t = S) {
              for (let e = 0; e < this.rows; e++) this.setRow(e, this.getRow(e).sort(t));
              return this;
            }
            sortColumns(t = S) {
              for (let e = 0; e < this.columns; e++) this.setColumn(e, this.getColumn(e).sort(t));
              return this;
            }
            subMatrix(t, e, n, r) {
              b(this, t, e, n, r);
              let i = new M(e - t + 1, r - n + 1);
              for (let o = t; o <= e; o++)
                for (let e = n; e <= r; e++) i.set(o - t, e - n, this.get(o, e));
              return i;
            }
            subMatrixRow(t, e, n) {
              if (
                (void 0 === e && (e = 0),
                void 0 === n && (n = this.columns - 1),
                e > n || e < 0 || e >= this.columns || n < 0 || n >= this.columns)
              )
                throw new RangeError('Argument out of range');
              let r = new M(t.length, n - e + 1);
              for (let i = 0; i < t.length; i++)
                for (let o = e; o <= n; o++) {
                  if (t[i] < 0 || t[i] >= this.rows)
                    throw new RangeError(`Row index out of range: ${t[i]}`);
                  r.set(i, o - e, this.get(t[i], o));
                }
              return r;
            }
            subMatrixColumn(t, e, n) {
              if (
                (void 0 === e && (e = 0),
                void 0 === n && (n = this.rows - 1),
                e > n || e < 0 || e >= this.rows || n < 0 || n >= this.rows)
              )
                throw new RangeError('Argument out of range');
              let r = new M(n - e + 1, t.length);
              for (let i = 0; i < t.length; i++)
                for (let o = e; o <= n; o++) {
                  if (t[i] < 0 || t[i] >= this.columns)
                    throw new RangeError(`Column index out of range: ${t[i]}`);
                  r.set(o - e, i, this.get(o, t[i]));
                }
              return r;
            }
            setSubMatrix(t, e, n) {
              if ((t = M.checkMatrix(t)).isEmpty()) return this;
              b(this, e, e + t.rows - 1, n, n + t.columns - 1);
              for (let r = 0; r < t.rows; r++)
                for (let i = 0; i < t.columns; i++) this.set(e + r, n + i, t.get(r, i));
              return this;
            }
            selection(t, e) {
              let n = v(this, t, e),
                r = new M(t.length, e.length);
              for (let t = 0; t < n.row.length; t++) {
                let e = n.row[t];
                for (let i = 0; i < n.column.length; i++) {
                  let o = n.column[i];
                  r.set(t, i, this.get(e, o));
                }
              }
              return r;
            }
            trace() {
              let t = Math.min(this.rows, this.columns),
                e = 0;
              for (let n = 0; n < t; n++) e += this.get(n, n);
              return e;
            }
            clone() {
              let t = new M(this.rows, this.columns);
              for (let e = 0; e < this.rows; e++)
                for (let n = 0; n < this.columns; n++) t.set(e, n, this.get(e, n));
              return t;
            }
            sum(t) {
              switch (t) {
                case 'row':
                  return (function (t) {
                    let e = x(t.rows);
                    for (let n = 0; n < t.rows; ++n)
                      for (let r = 0; r < t.columns; ++r) e[n] += t.get(n, r);
                    return e;
                  })(this);
                case 'column':
                  return (function (t) {
                    let e = x(t.columns);
                    for (let n = 0; n < t.rows; ++n)
                      for (let r = 0; r < t.columns; ++r) e[r] += t.get(n, r);
                    return e;
                  })(this);
                case void 0:
                  return (function (t) {
                    let e = 0;
                    for (let n = 0; n < t.rows; n++)
                      for (let r = 0; r < t.columns; r++) e += t.get(n, r);
                    return e;
                  })(this);
                default:
                  throw new Error(`invalid option: ${t}`);
              }
            }
            product(t) {
              switch (t) {
                case 'row':
                  return (function (t) {
                    let e = x(t.rows, 1);
                    for (let n = 0; n < t.rows; ++n)
                      for (let r = 0; r < t.columns; ++r) e[n] *= t.get(n, r);
                    return e;
                  })(this);
                case 'column':
                  return (function (t) {
                    let e = x(t.columns, 1);
                    for (let n = 0; n < t.rows; ++n)
                      for (let r = 0; r < t.columns; ++r) e[r] *= t.get(n, r);
                    return e;
                  })(this);
                case void 0:
                  return (function (t) {
                    let e = 1;
                    for (let n = 0; n < t.rows; n++)
                      for (let r = 0; r < t.columns; r++) e *= t.get(n, r);
                    return e;
                  })(this);
                default:
                  throw new Error(`invalid option: ${t}`);
              }
            }
            mean(t) {
              const e = this.sum(t);
              switch (t) {
                case 'row':
                  for (let t = 0; t < this.rows; t++) e[t] /= this.columns;
                  return e;
                case 'column':
                  for (let t = 0; t < this.columns; t++) e[t] /= this.rows;
                  return e;
                case void 0:
                  return e / this.size;
                default:
                  throw new Error(`invalid option: ${t}`);
              }
            }
            variance(t, e = {}) {
              if (('object' == typeof t && ((e = t), (t = void 0)), 'object' != typeof e))
                throw new TypeError('options must be an object');
              const { unbiased: n = !0, mean: r = this.mean(t) } = e;
              if ('boolean' != typeof n) throw new TypeError('unbiased must be a boolean');
              switch (t) {
                case 'row':
                  if (!Array.isArray(r)) throw new TypeError('mean must be an array');
                  return (function (t, e, n) {
                    const r = t.rows,
                      i = t.columns,
                      o = [];
                    for (let a = 0; a < r; a++) {
                      let r = 0,
                        s = 0,
                        u = 0;
                      for (let e = 0; e < i; e++) (u = t.get(a, e) - n[a]), (r += u), (s += u * u);
                      e ? o.push((s - (r * r) / i) / (i - 1)) : o.push((s - (r * r) / i) / i);
                    }
                    return o;
                  })(this, n, r);
                case 'column':
                  if (!Array.isArray(r)) throw new TypeError('mean must be an array');
                  return (function (t, e, n) {
                    const r = t.rows,
                      i = t.columns,
                      o = [];
                    for (let a = 0; a < i; a++) {
                      let i = 0,
                        s = 0,
                        u = 0;
                      for (let e = 0; e < r; e++) (u = t.get(e, a) - n[a]), (i += u), (s += u * u);
                      e ? o.push((s - (i * i) / r) / (r - 1)) : o.push((s - (i * i) / r) / r);
                    }
                    return o;
                  })(this, n, r);
                case void 0:
                  if ('number' != typeof r) throw new TypeError('mean must be a number');
                  return (function (t, e, n) {
                    const r = t.rows,
                      i = t.columns,
                      o = r * i;
                    let a = 0,
                      s = 0,
                      u = 0;
                    for (let e = 0; e < r; e++)
                      for (let r = 0; r < i; r++) (u = t.get(e, r) - n), (a += u), (s += u * u);
                    return e ? (s - (a * a) / o) / (o - 1) : (s - (a * a) / o) / o;
                  })(this, n, r);
                default:
                  throw new Error(`invalid option: ${t}`);
              }
            }
            standardDeviation(t, e) {
              'object' == typeof t && ((e = t), (t = void 0));
              const n = this.variance(t, e);
              if (void 0 === t) return Math.sqrt(n);
              for (let t = 0; t < n.length; t++) n[t] = Math.sqrt(n[t]);
              return n;
            }
            center(t, e = {}) {
              if (('object' == typeof t && ((e = t), (t = void 0)), 'object' != typeof e))
                throw new TypeError('options must be an object');
              const { center: n = this.mean(t) } = e;
              switch (t) {
                case 'row':
                  if (!Array.isArray(n)) throw new TypeError('center must be an array');
                  return (
                    (function (t, e) {
                      for (let n = 0; n < t.rows; n++)
                        for (let r = 0; r < t.columns; r++) t.set(n, r, t.get(n, r) - e[n]);
                    })(this, n),
                    this
                  );
                case 'column':
                  if (!Array.isArray(n)) throw new TypeError('center must be an array');
                  return (
                    (function (t, e) {
                      for (let n = 0; n < t.rows; n++)
                        for (let r = 0; r < t.columns; r++) t.set(n, r, t.get(n, r) - e[r]);
                    })(this, n),
                    this
                  );
                case void 0:
                  if ('number' != typeof n) throw new TypeError('center must be a number');
                  return (
                    (function (t, e) {
                      for (let n = 0; n < t.rows; n++)
                        for (let r = 0; r < t.columns; r++) t.set(n, r, t.get(n, r) - e);
                    })(this, n),
                    this
                  );
                default:
                  throw new Error(`invalid option: ${t}`);
              }
            }
            scale(t, e = {}) {
              if (('object' == typeof t && ((e = t), (t = void 0)), 'object' != typeof e))
                throw new TypeError('options must be an object');
              let n = e.scale;
              switch (t) {
                case 'row':
                  if (void 0 === n)
                    n = (function (t) {
                      const e = [];
                      for (let n = 0; n < t.rows; n++) {
                        let r = 0;
                        for (let e = 0; e < t.columns; e++)
                          r += Math.pow(t.get(n, e), 2) / (t.columns - 1);
                        e.push(Math.sqrt(r));
                      }
                      return e;
                    })(this);
                  else if (!Array.isArray(n)) throw new TypeError('scale must be an array');
                  return (
                    (function (t, e) {
                      for (let n = 0; n < t.rows; n++)
                        for (let r = 0; r < t.columns; r++) t.set(n, r, t.get(n, r) / e[n]);
                    })(this, n),
                    this
                  );
                case 'column':
                  if (void 0 === n)
                    n = (function (t) {
                      const e = [];
                      for (let n = 0; n < t.columns; n++) {
                        let r = 0;
                        for (let e = 0; e < t.rows; e++)
                          r += Math.pow(t.get(e, n), 2) / (t.rows - 1);
                        e.push(Math.sqrt(r));
                      }
                      return e;
                    })(this);
                  else if (!Array.isArray(n)) throw new TypeError('scale must be an array');
                  return (
                    (function (t, e) {
                      for (let n = 0; n < t.rows; n++)
                        for (let r = 0; r < t.columns; r++) t.set(n, r, t.get(n, r) / e[r]);
                    })(this, n),
                    this
                  );
                case void 0:
                  if (void 0 === n)
                    n = (function (t) {
                      const e = t.size - 1;
                      let n = 0;
                      for (let r = 0; r < t.columns; r++)
                        for (let i = 0; i < t.rows; i++) n += Math.pow(t.get(i, r), 2) / e;
                      return Math.sqrt(n);
                    })(this);
                  else if ('number' != typeof n) throw new TypeError('scale must be a number');
                  return (
                    (function (t, e) {
                      for (let n = 0; n < t.rows; n++)
                        for (let r = 0; r < t.columns; r++) t.set(n, r, t.get(n, r) / e);
                    })(this, n),
                    this
                  );
                default:
                  throw new Error(`invalid option: ${t}`);
              }
            }
            toString(t) {
              return l(this, t);
            }
          }
          function S(t, e) {
            return t - e;
          }
          (E.prototype.klass = 'Matrix'),
            'undefined' != typeof Symbol &&
              (E.prototype[Symbol.for('nodejs.util.inspect.custom')] = function () {
                return l(this);
              }),
            (E.random = E.rand),
            (E.randomInt = E.randInt),
            (E.diagonal = E.diag),
            (E.prototype.diagonal = E.prototype.diag),
            (E.identity = E.eye),
            (E.prototype.negate = E.prototype.neg),
            (E.prototype.tensorProduct = E.prototype.kroneckerProduct);
          class M extends E {
            constructor(t, e) {
              if ((super(), M.isMatrix(t))) return t.clone();
              if (Number.isInteger(t) && t >= 0) {
                if (((this.data = []), !(Number.isInteger(e) && e >= 0)))
                  throw new TypeError('nColumns must be a positive integer');
                for (let n = 0; n < t; n++) this.data.push(new Float64Array(e));
              } else {
                if (!Array.isArray(t))
                  throw new TypeError('First argument must be a positive number or an array');
                {
                  const n = t;
                  if ('number' != typeof (e = (t = n.length) ? n[0].length : 0))
                    throw new TypeError('Data must be a 2D array with at least one element');
                  this.data = [];
                  for (let r = 0; r < t; r++) {
                    if (n[r].length !== e) throw new RangeError('Inconsistent array dimensions');
                    this.data.push(Float64Array.from(n[r]));
                  }
                }
              }
              (this.rows = t), (this.columns = e);
            }
            set(t, e, n) {
              return (this.data[t][e] = n), this;
            }
            get(t, e) {
              return this.data[t][e];
            }
            removeRow(t) {
              return f(this, t), this.data.splice(t, 1), (this.rows -= 1), this;
            }
            addRow(t, e) {
              return (
                void 0 === e && ((e = t), (t = this.rows)),
                f(this, t, !0),
                (e = Float64Array.from(p(this, e))),
                this.data.splice(t, 0, e),
                (this.rows += 1),
                this
              );
            }
            removeColumn(t) {
              d(this, t);
              for (let e = 0; e < this.rows; e++) {
                const n = new Float64Array(this.columns - 1);
                for (let r = 0; r < t; r++) n[r] = this.data[e][r];
                for (let r = t + 1; r < this.columns; r++) n[r - 1] = this.data[e][r];
                this.data[e] = n;
              }
              return (this.columns -= 1), this;
            }
            addColumn(t, e) {
              void 0 === e && ((e = t), (t = this.columns)), d(this, t, !0), (e = g(this, e));
              for (let n = 0; n < this.rows; n++) {
                const r = new Float64Array(this.columns + 1);
                let i = 0;
                for (; i < t; i++) r[i] = this.data[n][i];
                for (r[i++] = e[n]; i < this.columns + 1; i++) r[i] = this.data[n][i - 1];
                this.data[n] = r;
              }
              return (this.columns += 1), this;
            }
          }
          !(function (t, e) {
            (t.prototype.add = function (t) {
              return 'number' == typeof t ? this.addS(t) : this.addM(t);
            }),
              (t.prototype.addS = function (t) {
                for (let e = 0; e < this.rows; e++)
                  for (let n = 0; n < this.columns; n++) this.set(e, n, this.get(e, n) + t);
                return this;
              }),
              (t.prototype.addM = function (t) {
                if (((t = e.checkMatrix(t)), this.rows !== t.rows || this.columns !== t.columns))
                  throw new RangeError('Matrices dimensions must be equal');
                for (let e = 0; e < this.rows; e++)
                  for (let n = 0; n < this.columns; n++)
                    this.set(e, n, this.get(e, n) + t.get(e, n));
                return this;
              }),
              (t.add = function (t, n) {
                return new e(t).add(n);
              }),
              (t.prototype.sub = function (t) {
                return 'number' == typeof t ? this.subS(t) : this.subM(t);
              }),
              (t.prototype.subS = function (t) {
                for (let e = 0; e < this.rows; e++)
                  for (let n = 0; n < this.columns; n++) this.set(e, n, this.get(e, n) - t);
                return this;
              }),
              (t.prototype.subM = function (t) {
                if (((t = e.checkMatrix(t)), this.rows !== t.rows || this.columns !== t.columns))
                  throw new RangeError('Matrices dimensions must be equal');
                for (let e = 0; e < this.rows; e++)
                  for (let n = 0; n < this.columns; n++)
                    this.set(e, n, this.get(e, n) - t.get(e, n));
                return this;
              }),
              (t.sub = function (t, n) {
                return new e(t).sub(n);
              }),
              (t.prototype.subtract = t.prototype.sub),
              (t.prototype.subtractS = t.prototype.subS),
              (t.prototype.subtractM = t.prototype.subM),
              (t.subtract = t.sub),
              (t.prototype.mul = function (t) {
                return 'number' == typeof t ? this.mulS(t) : this.mulM(t);
              }),
              (t.prototype.mulS = function (t) {
                for (let e = 0; e < this.rows; e++)
                  for (let n = 0; n < this.columns; n++) this.set(e, n, this.get(e, n) * t);
                return this;
              }),
              (t.prototype.mulM = function (t) {
                if (((t = e.checkMatrix(t)), this.rows !== t.rows || this.columns !== t.columns))
                  throw new RangeError('Matrices dimensions must be equal');
                for (let e = 0; e < this.rows; e++)
                  for (let n = 0; n < this.columns; n++)
                    this.set(e, n, this.get(e, n) * t.get(e, n));
                return this;
              }),
              (t.mul = function (t, n) {
                return new e(t).mul(n);
              }),
              (t.prototype.multiply = t.prototype.mul),
              (t.prototype.multiplyS = t.prototype.mulS),
              (t.prototype.multiplyM = t.prototype.mulM),
              (t.multiply = t.mul),
              (t.prototype.div = function (t) {
                return 'number' == typeof t ? this.divS(t) : this.divM(t);
              }),
              (t.prototype.divS = function (t) {
                for (let e = 0; e < this.rows; e++)
                  for (let n = 0; n < this.columns; n++) this.set(e, n, this.get(e, n) / t);
                return this;
              }),
              (t.prototype.divM = function (t) {
                if (((t = e.checkMatrix(t)), this.rows !== t.rows || this.columns !== t.columns))
                  throw new RangeError('Matrices dimensions must be equal');
                for (let e = 0; e < this.rows; e++)
                  for (let n = 0; n < this.columns; n++)
                    this.set(e, n, this.get(e, n) / t.get(e, n));
                return this;
              }),
              (t.div = function (t, n) {
                return new e(t).div(n);
              }),
              (t.prototype.divide = t.prototype.div),
              (t.prototype.divideS = t.prototype.divS),
              (t.prototype.divideM = t.prototype.divM),
              (t.divide = t.div),
              (t.prototype.mod = function (t) {
                return 'number' == typeof t ? this.modS(t) : this.modM(t);
              }),
              (t.prototype.modS = function (t) {
                for (let e = 0; e < this.rows; e++)
                  for (let n = 0; n < this.columns; n++) this.set(e, n, this.get(e, n) % t);
                return this;
              }),
              (t.prototype.modM = function (t) {
                if (((t = e.checkMatrix(t)), this.rows !== t.rows || this.columns !== t.columns))
                  throw new RangeError('Matrices dimensions must be equal');
                for (let e = 0; e < this.rows; e++)
                  for (let n = 0; n < this.columns; n++)
                    this.set(e, n, this.get(e, n) % t.get(e, n));
                return this;
              }),
              (t.mod = function (t, n) {
                return new e(t).mod(n);
              }),
              (t.prototype.modulus = t.prototype.mod),
              (t.prototype.modulusS = t.prototype.modS),
              (t.prototype.modulusM = t.prototype.modM),
              (t.modulus = t.mod),
              (t.prototype.and = function (t) {
                return 'number' == typeof t ? this.andS(t) : this.andM(t);
              }),
              (t.prototype.andS = function (t) {
                for (let e = 0; e < this.rows; e++)
                  for (let n = 0; n < this.columns; n++) this.set(e, n, this.get(e, n) & t);
                return this;
              }),
              (t.prototype.andM = function (t) {
                if (((t = e.checkMatrix(t)), this.rows !== t.rows || this.columns !== t.columns))
                  throw new RangeError('Matrices dimensions must be equal');
                for (let e = 0; e < this.rows; e++)
                  for (let n = 0; n < this.columns; n++)
                    this.set(e, n, this.get(e, n) & t.get(e, n));
                return this;
              }),
              (t.and = function (t, n) {
                return new e(t).and(n);
              }),
              (t.prototype.or = function (t) {
                return 'number' == typeof t ? this.orS(t) : this.orM(t);
              }),
              (t.prototype.orS = function (t) {
                for (let e = 0; e < this.rows; e++)
                  for (let n = 0; n < this.columns; n++) this.set(e, n, this.get(e, n) | t);
                return this;
              }),
              (t.prototype.orM = function (t) {
                if (((t = e.checkMatrix(t)), this.rows !== t.rows || this.columns !== t.columns))
                  throw new RangeError('Matrices dimensions must be equal');
                for (let e = 0; e < this.rows; e++)
                  for (let n = 0; n < this.columns; n++)
                    this.set(e, n, this.get(e, n) | t.get(e, n));
                return this;
              }),
              (t.or = function (t, n) {
                return new e(t).or(n);
              }),
              (t.prototype.xor = function (t) {
                return 'number' == typeof t ? this.xorS(t) : this.xorM(t);
              }),
              (t.prototype.xorS = function (t) {
                for (let e = 0; e < this.rows; e++)
                  for (let n = 0; n < this.columns; n++) this.set(e, n, this.get(e, n) ^ t);
                return this;
              }),
              (t.prototype.xorM = function (t) {
                if (((t = e.checkMatrix(t)), this.rows !== t.rows || this.columns !== t.columns))
                  throw new RangeError('Matrices dimensions must be equal');
                for (let e = 0; e < this.rows; e++)
                  for (let n = 0; n < this.columns; n++)
                    this.set(e, n, this.get(e, n) ^ t.get(e, n));
                return this;
              }),
              (t.xor = function (t, n) {
                return new e(t).xor(n);
              }),
              (t.prototype.leftShift = function (t) {
                return 'number' == typeof t ? this.leftShiftS(t) : this.leftShiftM(t);
              }),
              (t.prototype.leftShiftS = function (t) {
                for (let e = 0; e < this.rows; e++)
                  for (let n = 0; n < this.columns; n++) this.set(e, n, this.get(e, n) << t);
                return this;
              }),
              (t.prototype.leftShiftM = function (t) {
                if (((t = e.checkMatrix(t)), this.rows !== t.rows || this.columns !== t.columns))
                  throw new RangeError('Matrices dimensions must be equal');
                for (let e = 0; e < this.rows; e++)
                  for (let n = 0; n < this.columns; n++)
                    this.set(e, n, this.get(e, n) << t.get(e, n));
                return this;
              }),
              (t.leftShift = function (t, n) {
                return new e(t).leftShift(n);
              }),
              (t.prototype.signPropagatingRightShift = function (t) {
                return 'number' == typeof t
                  ? this.signPropagatingRightShiftS(t)
                  : this.signPropagatingRightShiftM(t);
              }),
              (t.prototype.signPropagatingRightShiftS = function (t) {
                for (let e = 0; e < this.rows; e++)
                  for (let n = 0; n < this.columns; n++) this.set(e, n, this.get(e, n) >> t);
                return this;
              }),
              (t.prototype.signPropagatingRightShiftM = function (t) {
                if (((t = e.checkMatrix(t)), this.rows !== t.rows || this.columns !== t.columns))
                  throw new RangeError('Matrices dimensions must be equal');
                for (let e = 0; e < this.rows; e++)
                  for (let n = 0; n < this.columns; n++)
                    this.set(e, n, this.get(e, n) >> t.get(e, n));
                return this;
              }),
              (t.signPropagatingRightShift = function (t, n) {
                return new e(t).signPropagatingRightShift(n);
              }),
              (t.prototype.rightShift = function (t) {
                return 'number' == typeof t ? this.rightShiftS(t) : this.rightShiftM(t);
              }),
              (t.prototype.rightShiftS = function (t) {
                for (let e = 0; e < this.rows; e++)
                  for (let n = 0; n < this.columns; n++) this.set(e, n, this.get(e, n) >>> t);
                return this;
              }),
              (t.prototype.rightShiftM = function (t) {
                if (((t = e.checkMatrix(t)), this.rows !== t.rows || this.columns !== t.columns))
                  throw new RangeError('Matrices dimensions must be equal');
                for (let e = 0; e < this.rows; e++)
                  for (let n = 0; n < this.columns; n++)
                    this.set(e, n, this.get(e, n) >>> t.get(e, n));
                return this;
              }),
              (t.rightShift = function (t, n) {
                return new e(t).rightShift(n);
              }),
              (t.prototype.zeroFillRightShift = t.prototype.rightShift),
              (t.prototype.zeroFillRightShiftS = t.prototype.rightShiftS),
              (t.prototype.zeroFillRightShiftM = t.prototype.rightShiftM),
              (t.zeroFillRightShift = t.rightShift),
              (t.prototype.not = function () {
                for (let t = 0; t < this.rows; t++)
                  for (let e = 0; e < this.columns; e++) this.set(t, e, ~this.get(t, e));
                return this;
              }),
              (t.not = function (t) {
                return new e(t).not();
              }),
              (t.prototype.abs = function () {
                for (let t = 0; t < this.rows; t++)
                  for (let e = 0; e < this.columns; e++) this.set(t, e, Math.abs(this.get(t, e)));
                return this;
              }),
              (t.abs = function (t) {
                return new e(t).abs();
              }),
              (t.prototype.acos = function () {
                for (let t = 0; t < this.rows; t++)
                  for (let e = 0; e < this.columns; e++) this.set(t, e, Math.acos(this.get(t, e)));
                return this;
              }),
              (t.acos = function (t) {
                return new e(t).acos();
              }),
              (t.prototype.acosh = function () {
                for (let t = 0; t < this.rows; t++)
                  for (let e = 0; e < this.columns; e++) this.set(t, e, Math.acosh(this.get(t, e)));
                return this;
              }),
              (t.acosh = function (t) {
                return new e(t).acosh();
              }),
              (t.prototype.asin = function () {
                for (let t = 0; t < this.rows; t++)
                  for (let e = 0; e < this.columns; e++) this.set(t, e, Math.asin(this.get(t, e)));
                return this;
              }),
              (t.asin = function (t) {
                return new e(t).asin();
              }),
              (t.prototype.asinh = function () {
                for (let t = 0; t < this.rows; t++)
                  for (let e = 0; e < this.columns; e++) this.set(t, e, Math.asinh(this.get(t, e)));
                return this;
              }),
              (t.asinh = function (t) {
                return new e(t).asinh();
              }),
              (t.prototype.atan = function () {
                for (let t = 0; t < this.rows; t++)
                  for (let e = 0; e < this.columns; e++) this.set(t, e, Math.atan(this.get(t, e)));
                return this;
              }),
              (t.atan = function (t) {
                return new e(t).atan();
              }),
              (t.prototype.atanh = function () {
                for (let t = 0; t < this.rows; t++)
                  for (let e = 0; e < this.columns; e++) this.set(t, e, Math.atanh(this.get(t, e)));
                return this;
              }),
              (t.atanh = function (t) {
                return new e(t).atanh();
              }),
              (t.prototype.cbrt = function () {
                for (let t = 0; t < this.rows; t++)
                  for (let e = 0; e < this.columns; e++) this.set(t, e, Math.cbrt(this.get(t, e)));
                return this;
              }),
              (t.cbrt = function (t) {
                return new e(t).cbrt();
              }),
              (t.prototype.ceil = function () {
                for (let t = 0; t < this.rows; t++)
                  for (let e = 0; e < this.columns; e++) this.set(t, e, Math.ceil(this.get(t, e)));
                return this;
              }),
              (t.ceil = function (t) {
                return new e(t).ceil();
              }),
              (t.prototype.clz32 = function () {
                for (let t = 0; t < this.rows; t++)
                  for (let e = 0; e < this.columns; e++) this.set(t, e, Math.clz32(this.get(t, e)));
                return this;
              }),
              (t.clz32 = function (t) {
                return new e(t).clz32();
              }),
              (t.prototype.cos = function () {
                for (let t = 0; t < this.rows; t++)
                  for (let e = 0; e < this.columns; e++) this.set(t, e, Math.cos(this.get(t, e)));
                return this;
              }),
              (t.cos = function (t) {
                return new e(t).cos();
              }),
              (t.prototype.cosh = function () {
                for (let t = 0; t < this.rows; t++)
                  for (let e = 0; e < this.columns; e++) this.set(t, e, Math.cosh(this.get(t, e)));
                return this;
              }),
              (t.cosh = function (t) {
                return new e(t).cosh();
              }),
              (t.prototype.exp = function () {
                for (let t = 0; t < this.rows; t++)
                  for (let e = 0; e < this.columns; e++) this.set(t, e, Math.exp(this.get(t, e)));
                return this;
              }),
              (t.exp = function (t) {
                return new e(t).exp();
              }),
              (t.prototype.expm1 = function () {
                for (let t = 0; t < this.rows; t++)
                  for (let e = 0; e < this.columns; e++) this.set(t, e, Math.expm1(this.get(t, e)));
                return this;
              }),
              (t.expm1 = function (t) {
                return new e(t).expm1();
              }),
              (t.prototype.floor = function () {
                for (let t = 0; t < this.rows; t++)
                  for (let e = 0; e < this.columns; e++) this.set(t, e, Math.floor(this.get(t, e)));
                return this;
              }),
              (t.floor = function (t) {
                return new e(t).floor();
              }),
              (t.prototype.fround = function () {
                for (let t = 0; t < this.rows; t++)
                  for (let e = 0; e < this.columns; e++)
                    this.set(t, e, Math.fround(this.get(t, e)));
                return this;
              }),
              (t.fround = function (t) {
                return new e(t).fround();
              }),
              (t.prototype.log = function () {
                for (let t = 0; t < this.rows; t++)
                  for (let e = 0; e < this.columns; e++) this.set(t, e, Math.log(this.get(t, e)));
                return this;
              }),
              (t.log = function (t) {
                return new e(t).log();
              }),
              (t.prototype.log1p = function () {
                for (let t = 0; t < this.rows; t++)
                  for (let e = 0; e < this.columns; e++) this.set(t, e, Math.log1p(this.get(t, e)));
                return this;
              }),
              (t.log1p = function (t) {
                return new e(t).log1p();
              }),
              (t.prototype.log10 = function () {
                for (let t = 0; t < this.rows; t++)
                  for (let e = 0; e < this.columns; e++) this.set(t, e, Math.log10(this.get(t, e)));
                return this;
              }),
              (t.log10 = function (t) {
                return new e(t).log10();
              }),
              (t.prototype.log2 = function () {
                for (let t = 0; t < this.rows; t++)
                  for (let e = 0; e < this.columns; e++) this.set(t, e, Math.log2(this.get(t, e)));
                return this;
              }),
              (t.log2 = function (t) {
                return new e(t).log2();
              }),
              (t.prototype.round = function () {
                for (let t = 0; t < this.rows; t++)
                  for (let e = 0; e < this.columns; e++) this.set(t, e, Math.round(this.get(t, e)));
                return this;
              }),
              (t.round = function (t) {
                return new e(t).round();
              }),
              (t.prototype.sign = function () {
                for (let t = 0; t < this.rows; t++)
                  for (let e = 0; e < this.columns; e++) this.set(t, e, Math.sign(this.get(t, e)));
                return this;
              }),
              (t.sign = function (t) {
                return new e(t).sign();
              }),
              (t.prototype.sin = function () {
                for (let t = 0; t < this.rows; t++)
                  for (let e = 0; e < this.columns; e++) this.set(t, e, Math.sin(this.get(t, e)));
                return this;
              }),
              (t.sin = function (t) {
                return new e(t).sin();
              }),
              (t.prototype.sinh = function () {
                for (let t = 0; t < this.rows; t++)
                  for (let e = 0; e < this.columns; e++) this.set(t, e, Math.sinh(this.get(t, e)));
                return this;
              }),
              (t.sinh = function (t) {
                return new e(t).sinh();
              }),
              (t.prototype.sqrt = function () {
                for (let t = 0; t < this.rows; t++)
                  for (let e = 0; e < this.columns; e++) this.set(t, e, Math.sqrt(this.get(t, e)));
                return this;
              }),
              (t.sqrt = function (t) {
                return new e(t).sqrt();
              }),
              (t.prototype.tan = function () {
                for (let t = 0; t < this.rows; t++)
                  for (let e = 0; e < this.columns; e++) this.set(t, e, Math.tan(this.get(t, e)));
                return this;
              }),
              (t.tan = function (t) {
                return new e(t).tan();
              }),
              (t.prototype.tanh = function () {
                for (let t = 0; t < this.rows; t++)
                  for (let e = 0; e < this.columns; e++) this.set(t, e, Math.tanh(this.get(t, e)));
                return this;
              }),
              (t.tanh = function (t) {
                return new e(t).tanh();
              }),
              (t.prototype.trunc = function () {
                for (let t = 0; t < this.rows; t++)
                  for (let e = 0; e < this.columns; e++) this.set(t, e, Math.trunc(this.get(t, e)));
                return this;
              }),
              (t.trunc = function (t) {
                return new e(t).trunc();
              }),
              (t.pow = function (t, n) {
                return new e(t).pow(n);
              }),
              (t.prototype.pow = function (t) {
                return 'number' == typeof t ? this.powS(t) : this.powM(t);
              }),
              (t.prototype.powS = function (t) {
                for (let e = 0; e < this.rows; e++)
                  for (let n = 0; n < this.columns; n++)
                    this.set(e, n, Math.pow(this.get(e, n), t));
                return this;
              }),
              (t.prototype.powM = function (t) {
                if (((t = e.checkMatrix(t)), this.rows !== t.rows || this.columns !== t.columns))
                  throw new RangeError('Matrices dimensions must be equal');
                for (let e = 0; e < this.rows; e++)
                  for (let n = 0; n < this.columns; n++)
                    this.set(e, n, Math.pow(this.get(e, n), t.get(e, n)));
                return this;
              });
          })(E, M);
          class k extends E {
            constructor(t, e, n) {
              super(), (this.matrix = t), (this.rows = e), (this.columns = n);
            }
          }
          class A extends k {
            constructor(t, e) {
              d(t, e), super(t, t.rows, 1), (this.column = e);
            }
            set(t, e, n) {
              return this.matrix.set(t, this.column, n), this;
            }
            get(t) {
              return this.matrix.get(t, this.column);
            }
          }
          class C extends k {
            constructor(t, e) {
              (e = m(t, e)), super(t, t.rows, e.length), (this.columnIndices = e);
            }
            set(t, e, n) {
              return this.matrix.set(t, this.columnIndices[e], n), this;
            }
            get(t, e) {
              return this.matrix.get(t, this.columnIndices[e]);
            }
          }
          class I extends k {
            constructor(t) {
              super(t, t.rows, t.columns);
            }
            set(t, e, n) {
              return this.matrix.set(t, this.columns - e - 1, n), this;
            }
            get(t, e) {
              return this.matrix.get(t, this.columns - e - 1);
            }
          }
          class T extends k {
            constructor(t) {
              super(t, t.rows, t.columns);
            }
            set(t, e, n) {
              return this.matrix.set(this.rows - t - 1, e, n), this;
            }
            get(t, e) {
              return this.matrix.get(this.rows - t - 1, e);
            }
          }
          class N extends k {
            constructor(t, e) {
              f(t, e), super(t, 1, t.columns), (this.row = e);
            }
            set(t, e, n) {
              return this.matrix.set(this.row, e, n), this;
            }
            get(t, e) {
              return this.matrix.get(this.row, e);
            }
          }
          class P extends k {
            constructor(t, e) {
              super(t, (e = y(t, e)).length, t.columns), (this.rowIndices = e);
            }
            set(t, e, n) {
              return this.matrix.set(this.rowIndices[t], e, n), this;
            }
            get(t, e) {
              return this.matrix.get(this.rowIndices[t], e);
            }
          }
          class O extends k {
            constructor(t, e, n) {
              let r = v(t, e, n);
              super(t, r.row.length, r.column.length),
                (this.rowIndices = r.row),
                (this.columnIndices = r.column);
            }
            set(t, e, n) {
              return this.matrix.set(this.rowIndices[t], this.columnIndices[e], n), this;
            }
            get(t, e) {
              return this.matrix.get(this.rowIndices[t], this.columnIndices[e]);
            }
          }
          class D extends k {
            constructor(t, e, n, r, i) {
              b(t, e, n, r, i),
                super(t, n - e + 1, i - r + 1),
                (this.startRow = e),
                (this.startColumn = r);
            }
            set(t, e, n) {
              return this.matrix.set(this.startRow + t, this.startColumn + e, n), this;
            }
            get(t, e) {
              return this.matrix.get(this.startRow + t, this.startColumn + e);
            }
          }
          class L extends k {
            constructor(t) {
              super(t, t.columns, t.rows);
            }
            set(t, e, n) {
              return this.matrix.set(e, t, n), this;
            }
            get(t, e) {
              return this.matrix.get(e, t);
            }
          }
          class R extends E {
            constructor(t, e = {}) {
              const { rows: n = 1 } = e;
              if (t.length % n != 0)
                throw new Error('the data length is not divisible by the number of rows');
              super(), (this.rows = n), (this.columns = t.length / n), (this.data = t);
            }
            set(t, e, n) {
              let r = this._calculateIndex(t, e);
              return (this.data[r] = n), this;
            }
            get(t, e) {
              let n = this._calculateIndex(t, e);
              return this.data[n];
            }
            _calculateIndex(t, e) {
              return t * this.columns + e;
            }
          }
          class B extends E {
            constructor(t) {
              super(), (this.data = t), (this.rows = t.length), (this.columns = t[0].length);
            }
            set(t, e, n) {
              return (this.data[t][e] = n), this;
            }
            get(t, e) {
              return this.data[t][e];
            }
          }
          function j(t, e) {
            if (Array.isArray(t)) return t[0] && Array.isArray(t[0]) ? new B(t) : new R(t, e);
            throw new Error('the argument is not an array');
          }
          class G {
            constructor(t) {
              let e,
                n,
                r,
                i,
                o,
                a,
                s,
                u,
                c,
                l = (t = B.checkMatrix(t)).clone(),
                h = l.rows,
                f = l.columns,
                d = new Float64Array(h),
                p = 1;
              for (e = 0; e < h; e++) d[e] = e;
              for (u = new Float64Array(h), n = 0; n < f; n++) {
                for (e = 0; e < h; e++) u[e] = l.get(e, n);
                for (e = 0; e < h; e++) {
                  for (c = Math.min(e, n), o = 0, r = 0; r < c; r++) o += l.get(e, r) * u[r];
                  (u[e] -= o), l.set(e, n, u[e]);
                }
                for (i = n, e = n + 1; e < h; e++) Math.abs(u[e]) > Math.abs(u[i]) && (i = e);
                if (i !== n) {
                  for (r = 0; r < f; r++)
                    (a = l.get(i, r)), l.set(i, r, l.get(n, r)), l.set(n, r, a);
                  (s = d[i]), (d[i] = d[n]), (d[n] = s), (p = -p);
                }
                if (n < h && 0 !== l.get(n, n))
                  for (e = n + 1; e < h; e++) l.set(e, n, l.get(e, n) / l.get(n, n));
              }
              (this.LU = l), (this.pivotVector = d), (this.pivotSign = p);
            }
            isSingular() {
              let t = this.LU,
                e = t.columns;
              for (let n = 0; n < e; n++) if (0 === t.get(n, n)) return !0;
              return !1;
            }
            solve(t) {
              t = M.checkMatrix(t);
              let e = this.LU;
              if (e.rows !== t.rows) throw new Error('Invalid matrix dimensions');
              if (this.isSingular()) throw new Error('LU matrix is singular');
              let n,
                r,
                i,
                o = t.columns,
                a = t.subMatrixRow(this.pivotVector, 0, o - 1),
                s = e.columns;
              for (i = 0; i < s; i++)
                for (n = i + 1; n < s; n++)
                  for (r = 0; r < o; r++) a.set(n, r, a.get(n, r) - a.get(i, r) * e.get(n, i));
              for (i = s - 1; i >= 0; i--) {
                for (r = 0; r < o; r++) a.set(i, r, a.get(i, r) / e.get(i, i));
                for (n = 0; n < i; n++)
                  for (r = 0; r < o; r++) a.set(n, r, a.get(n, r) - a.get(i, r) * e.get(n, i));
              }
              return a;
            }
            get determinant() {
              let t = this.LU;
              if (!t.isSquare()) throw new Error('Matrix must be square');
              let e = this.pivotSign,
                n = t.columns;
              for (let r = 0; r < n; r++) e *= t.get(r, r);
              return e;
            }
            get lowerTriangularMatrix() {
              let t = this.LU,
                e = t.rows,
                n = t.columns,
                r = new M(e, n);
              for (let i = 0; i < e; i++)
                for (let e = 0; e < n; e++)
                  i > e ? r.set(i, e, t.get(i, e)) : i === e ? r.set(i, e, 1) : r.set(i, e, 0);
              return r;
            }
            get upperTriangularMatrix() {
              let t = this.LU,
                e = t.rows,
                n = t.columns,
                r = new M(e, n);
              for (let i = 0; i < e; i++)
                for (let e = 0; e < n; e++) i <= e ? r.set(i, e, t.get(i, e)) : r.set(i, e, 0);
              return r;
            }
            get pivotPermutationVector() {
              return Array.from(this.pivotVector);
            }
          }
          function z(t, e) {
            let n = 0;
            return Math.abs(t) > Math.abs(e)
              ? ((n = e / t), Math.abs(t) * Math.sqrt(1 + n * n))
              : 0 !== e
              ? ((n = t / e), Math.abs(e) * Math.sqrt(1 + n * n))
              : 0;
          }
          class F {
            constructor(t) {
              let e,
                n,
                r,
                i,
                o = (t = B.checkMatrix(t)).clone(),
                a = t.rows,
                s = t.columns,
                u = new Float64Array(s);
              for (r = 0; r < s; r++) {
                let t = 0;
                for (e = r; e < a; e++) t = z(t, o.get(e, r));
                if (0 !== t) {
                  for (o.get(r, r) < 0 && (t = -t), e = r; e < a; e++) o.set(e, r, o.get(e, r) / t);
                  for (o.set(r, r, o.get(r, r) + 1), n = r + 1; n < s; n++) {
                    for (i = 0, e = r; e < a; e++) i += o.get(e, r) * o.get(e, n);
                    for (i = -i / o.get(r, r), e = r; e < a; e++)
                      o.set(e, n, o.get(e, n) + i * o.get(e, r));
                  }
                }
                u[r] = -t;
              }
              (this.QR = o), (this.Rdiag = u);
            }
            solve(t) {
              t = M.checkMatrix(t);
              let e = this.QR,
                n = e.rows;
              if (t.rows !== n) throw new Error('Matrix row dimensions must agree');
              if (!this.isFullRank()) throw new Error('Matrix is rank deficient');
              let r,
                i,
                o,
                a,
                s = t.columns,
                u = t.clone(),
                c = e.columns;
              for (o = 0; o < c; o++)
                for (i = 0; i < s; i++) {
                  for (a = 0, r = o; r < n; r++) a += e.get(r, o) * u.get(r, i);
                  for (a = -a / e.get(o, o), r = o; r < n; r++)
                    u.set(r, i, u.get(r, i) + a * e.get(r, o));
                }
              for (o = c - 1; o >= 0; o--) {
                for (i = 0; i < s; i++) u.set(o, i, u.get(o, i) / this.Rdiag[o]);
                for (r = 0; r < o; r++)
                  for (i = 0; i < s; i++) u.set(r, i, u.get(r, i) - u.get(o, i) * e.get(r, o));
              }
              return u.subMatrix(0, c - 1, 0, s - 1);
            }
            isFullRank() {
              let t = this.QR.columns;
              for (let e = 0; e < t; e++) if (0 === this.Rdiag[e]) return !1;
              return !0;
            }
            get upperTriangularMatrix() {
              let t,
                e,
                n = this.QR,
                r = n.columns,
                i = new M(r, r);
              for (t = 0; t < r; t++)
                for (e = 0; e < r; e++)
                  t < e
                    ? i.set(t, e, n.get(t, e))
                    : t === e
                    ? i.set(t, e, this.Rdiag[t])
                    : i.set(t, e, 0);
              return i;
            }
            get orthogonalMatrix() {
              let t,
                e,
                n,
                r,
                i = this.QR,
                o = i.rows,
                a = i.columns,
                s = new M(o, a);
              for (n = a - 1; n >= 0; n--) {
                for (t = 0; t < o; t++) s.set(t, n, 0);
                for (s.set(n, n, 1), e = n; e < a; e++)
                  if (0 !== i.get(n, n)) {
                    for (r = 0, t = n; t < o; t++) r += i.get(t, n) * s.get(t, e);
                    for (r = -r / i.get(n, n), t = n; t < o; t++)
                      s.set(t, e, s.get(t, e) + r * i.get(t, n));
                  }
              }
              return s;
            }
          }
          class U {
            constructor(t, e = {}) {
              if ((t = B.checkMatrix(t)).isEmpty()) throw new Error('Matrix must be non-empty');
              let n = t.rows,
                r = t.columns;
              const {
                computeLeftSingularVectors: i = !0,
                computeRightSingularVectors: o = !0,
                autoTranspose: a = !1,
              } = e;
              let s,
                u = Boolean(i),
                c = Boolean(o),
                l = !1;
              if (n < r)
                if (a) {
                  (s = t.transpose()), (n = s.rows), (r = s.columns), (l = !0);
                  let e = u;
                  (u = c), (c = e);
                } else
                  (s = t.clone()),
                    console.warn(
                      'Computing SVD on a matrix with more columns than rows. Consider enabling autoTranspose',
                    );
              else s = t.clone();
              let h = Math.min(n, r),
                f = Math.min(n + 1, r),
                d = new Float64Array(f),
                p = new M(n, h),
                g = new M(r, r),
                v = new Float64Array(r),
                y = new Float64Array(n),
                m = new Float64Array(f);
              for (let t = 0; t < f; t++) m[t] = t;
              let b = Math.min(n - 1, r),
                x = Math.max(0, Math.min(r - 2, n)),
                _ = Math.max(b, x);
              for (let t = 0; t < _; t++) {
                if (t < b) {
                  d[t] = 0;
                  for (let e = t; e < n; e++) d[t] = z(d[t], s.get(e, t));
                  if (0 !== d[t]) {
                    s.get(t, t) < 0 && (d[t] = -d[t]);
                    for (let e = t; e < n; e++) s.set(e, t, s.get(e, t) / d[t]);
                    s.set(t, t, s.get(t, t) + 1);
                  }
                  d[t] = -d[t];
                }
                for (let e = t + 1; e < r; e++) {
                  if (t < b && 0 !== d[t]) {
                    let r = 0;
                    for (let i = t; i < n; i++) r += s.get(i, t) * s.get(i, e);
                    r = -r / s.get(t, t);
                    for (let i = t; i < n; i++) s.set(i, e, s.get(i, e) + r * s.get(i, t));
                  }
                  v[e] = s.get(t, e);
                }
                if (u && t < b) for (let e = t; e < n; e++) p.set(e, t, s.get(e, t));
                if (t < x) {
                  v[t] = 0;
                  for (let e = t + 1; e < r; e++) v[t] = z(v[t], v[e]);
                  if (0 !== v[t]) {
                    v[t + 1] < 0 && (v[t] = 0 - v[t]);
                    for (let e = t + 1; e < r; e++) v[e] /= v[t];
                    v[t + 1] += 1;
                  }
                  if (((v[t] = -v[t]), t + 1 < n && 0 !== v[t])) {
                    for (let e = t + 1; e < n; e++) y[e] = 0;
                    for (let e = t + 1; e < n; e++)
                      for (let n = t + 1; n < r; n++) y[e] += v[n] * s.get(e, n);
                    for (let e = t + 1; e < r; e++) {
                      let r = -v[e] / v[t + 1];
                      for (let i = t + 1; i < n; i++) s.set(i, e, s.get(i, e) + r * y[i]);
                    }
                  }
                  if (c) for (let e = t + 1; e < r; e++) g.set(e, t, v[e]);
                }
              }
              let w = Math.min(r, n + 1);
              if (
                (b < r && (d[b] = s.get(b, b)),
                n < w && (d[w - 1] = 0),
                x + 1 < w && (v[x] = s.get(x, w - 1)),
                (v[w - 1] = 0),
                u)
              ) {
                for (let t = b; t < h; t++) {
                  for (let e = 0; e < n; e++) p.set(e, t, 0);
                  p.set(t, t, 1);
                }
                for (let t = b - 1; t >= 0; t--)
                  if (0 !== d[t]) {
                    for (let e = t + 1; e < h; e++) {
                      let r = 0;
                      for (let i = t; i < n; i++) r += p.get(i, t) * p.get(i, e);
                      r = -r / p.get(t, t);
                      for (let i = t; i < n; i++) p.set(i, e, p.get(i, e) + r * p.get(i, t));
                    }
                    for (let e = t; e < n; e++) p.set(e, t, -p.get(e, t));
                    p.set(t, t, 1 + p.get(t, t));
                    for (let e = 0; e < t - 1; e++) p.set(e, t, 0);
                  } else {
                    for (let e = 0; e < n; e++) p.set(e, t, 0);
                    p.set(t, t, 1);
                  }
              }
              if (c)
                for (let t = r - 1; t >= 0; t--) {
                  if (t < x && 0 !== v[t])
                    for (let e = t + 1; e < r; e++) {
                      let n = 0;
                      for (let i = t + 1; i < r; i++) n += g.get(i, t) * g.get(i, e);
                      n = -n / g.get(t + 1, t);
                      for (let i = t + 1; i < r; i++) g.set(i, e, g.get(i, e) + n * g.get(i, t));
                    }
                  for (let e = 0; e < r; e++) g.set(e, t, 0);
                  g.set(t, t, 1);
                }
              let E = w - 1,
                S = 0,
                k = Number.EPSILON;
              for (; w > 0; ) {
                let t, e;
                for (t = w - 2; t >= -1 && -1 !== t; t--) {
                  const e = Number.MIN_VALUE + k * Math.abs(d[t] + Math.abs(d[t + 1]));
                  if (Math.abs(v[t]) <= e || Number.isNaN(v[t])) {
                    v[t] = 0;
                    break;
                  }
                }
                if (t === w - 2) e = 4;
                else {
                  let n;
                  for (n = w - 1; n >= t && n !== t; n--) {
                    let e = (n !== w ? Math.abs(v[n]) : 0) + (n !== t + 1 ? Math.abs(v[n - 1]) : 0);
                    if (Math.abs(d[n]) <= k * e) {
                      d[n] = 0;
                      break;
                    }
                  }
                  n === t ? (e = 3) : n === w - 1 ? (e = 1) : ((e = 2), (t = n));
                }
                switch ((t++, e)) {
                  case 1: {
                    let e = v[w - 2];
                    v[w - 2] = 0;
                    for (let n = w - 2; n >= t; n--) {
                      let i = z(d[n], e),
                        o = d[n] / i,
                        a = e / i;
                      if (
                        ((d[n] = i), n !== t && ((e = -a * v[n - 1]), (v[n - 1] = o * v[n - 1])), c)
                      )
                        for (let t = 0; t < r; t++)
                          (i = o * g.get(t, n) + a * g.get(t, w - 1)),
                            g.set(t, w - 1, -a * g.get(t, n) + o * g.get(t, w - 1)),
                            g.set(t, n, i);
                    }
                    break;
                  }
                  case 2: {
                    let e = v[t - 1];
                    v[t - 1] = 0;
                    for (let r = t; r < w; r++) {
                      let i = z(d[r], e),
                        o = d[r] / i,
                        a = e / i;
                      if (((d[r] = i), (e = -a * v[r]), (v[r] = o * v[r]), u))
                        for (let e = 0; e < n; e++)
                          (i = o * p.get(e, r) + a * p.get(e, t - 1)),
                            p.set(e, t - 1, -a * p.get(e, r) + o * p.get(e, t - 1)),
                            p.set(e, r, i);
                    }
                    break;
                  }
                  case 3: {
                    const e = Math.max(
                        Math.abs(d[w - 1]),
                        Math.abs(d[w - 2]),
                        Math.abs(v[w - 2]),
                        Math.abs(d[t]),
                        Math.abs(v[t]),
                      ),
                      i = d[w - 1] / e,
                      o = d[w - 2] / e,
                      a = v[w - 2] / e,
                      s = d[t] / e,
                      l = v[t] / e,
                      h = ((o + i) * (o - i) + a * a) / 2,
                      f = i * a * (i * a);
                    let y = 0;
                    (0 === h && 0 === f) ||
                      ((y = h < 0 ? 0 - Math.sqrt(h * h + f) : Math.sqrt(h * h + f)),
                      (y = f / (h + y)));
                    let m = (s + i) * (s - i) + y,
                      b = s * l;
                    for (let e = t; e < w - 1; e++) {
                      let i = z(m, b);
                      0 === i && (i = Number.MIN_VALUE);
                      let o = m / i,
                        a = b / i;
                      if (
                        (e !== t && (v[e - 1] = i),
                        (m = o * d[e] + a * v[e]),
                        (v[e] = o * v[e] - a * d[e]),
                        (b = a * d[e + 1]),
                        (d[e + 1] = o * d[e + 1]),
                        c)
                      )
                        for (let t = 0; t < r; t++)
                          (i = o * g.get(t, e) + a * g.get(t, e + 1)),
                            g.set(t, e + 1, -a * g.get(t, e) + o * g.get(t, e + 1)),
                            g.set(t, e, i);
                      if (
                        ((i = z(m, b)),
                        0 === i && (i = Number.MIN_VALUE),
                        (o = m / i),
                        (a = b / i),
                        (d[e] = i),
                        (m = o * v[e] + a * d[e + 1]),
                        (d[e + 1] = -a * v[e] + o * d[e + 1]),
                        (b = a * v[e + 1]),
                        (v[e + 1] = o * v[e + 1]),
                        u && e < n - 1)
                      )
                        for (let t = 0; t < n; t++)
                          (i = o * p.get(t, e) + a * p.get(t, e + 1)),
                            p.set(t, e + 1, -a * p.get(t, e) + o * p.get(t, e + 1)),
                            p.set(t, e, i);
                    }
                    (v[w - 2] = m), (S += 1);
                    break;
                  }
                  case 4:
                    if (d[t] <= 0 && ((d[t] = d[t] < 0 ? -d[t] : 0), c))
                      for (let e = 0; e <= E; e++) g.set(e, t, -g.get(e, t));
                    for (; t < E && !(d[t] >= d[t + 1]); ) {
                      let e = d[t];
                      if (((d[t] = d[t + 1]), (d[t + 1] = e), c && t < r - 1))
                        for (let n = 0; n < r; n++)
                          (e = g.get(n, t + 1)), g.set(n, t + 1, g.get(n, t)), g.set(n, t, e);
                      if (u && t < n - 1)
                        for (let r = 0; r < n; r++)
                          (e = p.get(r, t + 1)), p.set(r, t + 1, p.get(r, t)), p.set(r, t, e);
                      t++;
                    }
                    (S = 0), w--;
                }
              }
              if (l) {
                let t = g;
                (g = p), (p = t);
              }
              (this.m = n), (this.n = r), (this.s = d), (this.U = p), (this.V = g);
            }
            solve(t) {
              let e = t,
                n = this.threshold,
                r = this.s.length,
                i = M.zeros(r, r);
              for (let t = 0; t < r; t++)
                Math.abs(this.s[t]) <= n ? i.set(t, t, 0) : i.set(t, t, 1 / this.s[t]);
              let o = this.U,
                a = this.rightSingularVectors,
                s = a.mmul(i),
                u = a.rows,
                c = o.rows,
                l = M.zeros(u, c);
              for (let t = 0; t < u; t++)
                for (let e = 0; e < c; e++) {
                  let n = 0;
                  for (let i = 0; i < r; i++) n += s.get(t, i) * o.get(e, i);
                  l.set(t, e, n);
                }
              return l.mmul(e);
            }
            solveForDiagonal(t) {
              return this.solve(M.diag(t));
            }
            inverse() {
              let t = this.V,
                e = this.threshold,
                n = t.rows,
                r = t.columns,
                i = new M(n, this.s.length);
              for (let o = 0; o < n; o++)
                for (let n = 0; n < r; n++)
                  Math.abs(this.s[n]) > e && i.set(o, n, t.get(o, n) / this.s[n]);
              let o = this.U,
                a = o.rows,
                s = o.columns,
                u = new M(n, a);
              for (let t = 0; t < n; t++)
                for (let e = 0; e < a; e++) {
                  let n = 0;
                  for (let r = 0; r < s; r++) n += i.get(t, r) * o.get(e, r);
                  u.set(t, e, n);
                }
              return u;
            }
            get condition() {
              return this.s[0] / this.s[Math.min(this.m, this.n) - 1];
            }
            get norm2() {
              return this.s[0];
            }
            get rank() {
              let t = Math.max(this.m, this.n) * this.s[0] * Number.EPSILON,
                e = 0,
                n = this.s;
              for (let r = 0, i = n.length; r < i; r++) n[r] > t && e++;
              return e;
            }
            get diagonal() {
              return Array.from(this.s);
            }
            get threshold() {
              return (Number.EPSILON / 2) * Math.max(this.m, this.n) * this.s[0];
            }
            get leftSingularVectors() {
              return this.U;
            }
            get rightSingularVectors() {
              return this.V;
            }
            get diagonalMatrix() {
              return M.diag(this.s);
            }
          }
          function V(t, e = !1) {
            return (t = B.checkMatrix(t)), e ? new U(t).inverse() : W(t, M.eye(t.rows));
          }
          function W(t, e, n = !1) {
            return (
              (t = B.checkMatrix(t)),
              (e = B.checkMatrix(e)),
              n ? new U(t).solve(e) : t.isSquare() ? new G(t).solve(e) : new F(t).solve(e)
            );
          }
          function Y(t) {
            if ((t = M.checkMatrix(t)).isSquare()) {
              if (0 === t.columns) return 1;
              let e, n, r, i;
              if (2 === t.columns)
                return (
                  (e = t.get(0, 0)),
                  (n = t.get(0, 1)),
                  (r = t.get(1, 0)),
                  (i = t.get(1, 1)),
                  e * i - n * r
                );
              if (3 === t.columns) {
                let i, o, a;
                return (
                  (i = new O(t, [1, 2], [1, 2])),
                  (o = new O(t, [1, 2], [0, 2])),
                  (a = new O(t, [1, 2], [0, 1])),
                  (e = t.get(0, 0)),
                  (n = t.get(0, 1)),
                  (r = t.get(0, 2)),
                  e * Y(i) - n * Y(o) + r * Y(a)
                );
              }
              return new G(t).determinant;
            }
            throw Error('determinant can only be calculated for a square matrix');
          }
          function X(t, e) {
            let n = [];
            for (let r = 0; r < t; r++) r !== e && n.push(r);
            return n;
          }
          function H(t, e, n, r = 1e-9, i = 1e-9) {
            if (t > i) return new Array(e.rows + 1).fill(0);
            {
              let t = e.addRow(n, [0]);
              for (let e = 0; e < t.rows; e++) Math.abs(t.get(e, 0)) < r && t.set(e, 0, 0);
              return t.to1DArray();
            }
          }
          function q(t, e = {}) {
            const { thresholdValue: n = 1e-9, thresholdError: r = 1e-9 } = e;
            let i = (t = M.checkMatrix(t)).rows,
              o = new M(i, i);
            for (let e = 0; e < i; e++) {
              let a = M.columnVector(t.getRow(e)),
                s = t.subMatrixRow(X(i, e)).transpose(),
                u = new U(s).solve(a),
                c = M.sub(a, s.mmul(u)).abs().max();
              o.setRow(e, H(c, u, e, n, r));
            }
            return o;
          }
          function K(t, e = Number.EPSILON) {
            if ((t = M.checkMatrix(t)).isEmpty()) return t.transpose();
            let n = new U(t, { autoTranspose: !0 }),
              r = n.leftSingularVectors,
              i = n.rightSingularVectors,
              o = n.diagonal;
            for (let t = 0; t < o.length; t++) Math.abs(o[t]) > e ? (o[t] = 1 / o[t]) : (o[t] = 0);
            return i.mmul(M.diag(o).mmul(r.transpose()));
          }
          function Z(t, e = t, n = {}) {
            t = new M(t);
            let r = !1;
            if (
              ('object' != typeof e || M.isMatrix(e) || Array.isArray(e)
                ? (e = new M(e))
                : ((n = e), (e = t), (r = !0)),
              t.rows !== e.rows)
            )
              throw new TypeError('Both matrices must have the same number of rows');
            const { center: i = !0 } = n;
            i && ((t = t.center('column')), r || (e = e.center('column')));
            const o = t.transpose().mmul(e);
            for (let e = 0; e < o.rows; e++)
              for (let n = 0; n < o.columns; n++) o.set(e, n, o.get(e, n) * (1 / (t.rows - 1)));
            return o;
          }
          function $(t, e = t, n = {}) {
            t = new M(t);
            let r = !1;
            if (
              ('object' != typeof e || M.isMatrix(e) || Array.isArray(e)
                ? (e = new M(e))
                : ((n = e), (e = t), (r = !0)),
              t.rows !== e.rows)
            )
              throw new TypeError('Both matrices must have the same number of rows');
            const { center: i = !0, scale: o = !0 } = n;
            i && (t.center('column'), r || e.center('column')),
              o && (t.scale('column'), r || e.scale('column'));
            const a = t.standardDeviation('column', { unbiased: !0 }),
              s = r ? a : e.standardDeviation('column', { unbiased: !0 }),
              u = t.transpose().mmul(e);
            for (let e = 0; e < u.rows; e++)
              for (let n = 0; n < u.columns; n++)
                u.set(e, n, u.get(e, n) * (1 / (a[e] * s[n])) * (1 / (t.rows - 1)));
            return u;
          }
          class Q {
            constructor(t, e = {}) {
              const { assumeSymmetric: n = !1 } = e;
              if (!(t = B.checkMatrix(t)).isSquare())
                throw new Error('Matrix is not a square matrix');
              if (t.isEmpty()) throw new Error('Matrix must be non-empty');
              let r,
                i,
                o = t.columns,
                a = new M(o, o),
                s = new Float64Array(o),
                u = new Float64Array(o),
                c = t,
                l = !1;
              if (((l = !!n || t.isSymmetric()), l)) {
                for (r = 0; r < o; r++) for (i = 0; i < o; i++) a.set(r, i, c.get(r, i));
                !(function (t, e, n, r) {
                  let i, o, a, s, u, c, l, h;
                  for (u = 0; u < t; u++) n[u] = r.get(t - 1, u);
                  for (s = t - 1; s > 0; s--) {
                    for (h = 0, a = 0, c = 0; c < s; c++) h += Math.abs(n[c]);
                    if (0 === h)
                      for (e[s] = n[s - 1], u = 0; u < s; u++)
                        (n[u] = r.get(s - 1, u)), r.set(s, u, 0), r.set(u, s, 0);
                    else {
                      for (c = 0; c < s; c++) (n[c] /= h), (a += n[c] * n[c]);
                      for (
                        i = n[s - 1],
                          o = Math.sqrt(a),
                          i > 0 && (o = -o),
                          e[s] = h * o,
                          a -= i * o,
                          n[s - 1] = i - o,
                          u = 0;
                        u < s;
                        u++
                      )
                        e[u] = 0;
                      for (u = 0; u < s; u++) {
                        for (
                          i = n[u], r.set(u, s, i), o = e[u] + r.get(u, u) * i, c = u + 1;
                          c <= s - 1;
                          c++
                        )
                          (o += r.get(c, u) * n[c]), (e[c] += r.get(c, u) * i);
                        e[u] = o;
                      }
                      for (i = 0, u = 0; u < s; u++) (e[u] /= a), (i += e[u] * n[u]);
                      for (l = i / (a + a), u = 0; u < s; u++) e[u] -= l * n[u];
                      for (u = 0; u < s; u++) {
                        for (i = n[u], o = e[u], c = u; c <= s - 1; c++)
                          r.set(c, u, r.get(c, u) - (i * e[c] + o * n[c]));
                        (n[u] = r.get(s - 1, u)), r.set(s, u, 0);
                      }
                    }
                    n[s] = a;
                  }
                  for (s = 0; s < t - 1; s++) {
                    if ((r.set(t - 1, s, r.get(s, s)), r.set(s, s, 1), (a = n[s + 1]), 0 !== a)) {
                      for (c = 0; c <= s; c++) n[c] = r.get(c, s + 1) / a;
                      for (u = 0; u <= s; u++) {
                        for (o = 0, c = 0; c <= s; c++) o += r.get(c, s + 1) * r.get(c, u);
                        for (c = 0; c <= s; c++) r.set(c, u, r.get(c, u) - o * n[c]);
                      }
                    }
                    for (c = 0; c <= s; c++) r.set(c, s + 1, 0);
                  }
                  for (u = 0; u < t; u++) (n[u] = r.get(t - 1, u)), r.set(t - 1, u, 0);
                  r.set(t - 1, t - 1, 1), (e[0] = 0);
                })(o, u, s, a),
                  (function (t, e, n, r) {
                    let i, o, a, s, u, c, l, h, f, d, p, g, v, y, m, b, x;
                    for (a = 1; a < t; a++) e[a - 1] = e[a];
                    e[t - 1] = 0;
                    let _ = 0,
                      w = 0,
                      E = Number.EPSILON;
                    for (c = 0; c < t; c++) {
                      for (
                        w = Math.max(w, Math.abs(n[c]) + Math.abs(e[c])), l = c;
                        l < t && !(Math.abs(e[l]) <= E * w);

                      )
                        l++;
                      if (l > c) {
                        x = 0;
                        do {
                          for (
                            x += 1,
                              i = n[c],
                              h = (n[c + 1] - i) / (2 * e[c]),
                              f = z(h, 1),
                              h < 0 && (f = -f),
                              n[c] = e[c] / (h + f),
                              n[c + 1] = e[c] * (h + f),
                              d = n[c + 1],
                              o = i - n[c],
                              a = c + 2;
                            a < t;
                            a++
                          )
                            n[a] -= o;
                          for (
                            _ += o,
                              h = n[l],
                              p = 1,
                              g = p,
                              v = p,
                              y = e[c + 1],
                              m = 0,
                              b = 0,
                              a = l - 1;
                            a >= c;
                            a--
                          )
                            for (
                              v = g,
                                g = p,
                                b = m,
                                i = p * e[a],
                                o = p * h,
                                f = z(h, e[a]),
                                e[a + 1] = m * f,
                                m = e[a] / f,
                                p = h / f,
                                h = p * n[a] - m * i,
                                n[a + 1] = o + m * (p * i + m * n[a]),
                                u = 0;
                              u < t;
                              u++
                            )
                              (o = r.get(u, a + 1)),
                                r.set(u, a + 1, m * r.get(u, a) + p * o),
                                r.set(u, a, p * r.get(u, a) - m * o);
                          (h = (-m * b * v * y * e[c]) / d), (e[c] = m * h), (n[c] = p * h);
                        } while (Math.abs(e[c]) > E * w);
                      }
                      (n[c] = n[c] + _), (e[c] = 0);
                    }
                    for (a = 0; a < t - 1; a++) {
                      for (u = a, h = n[a], s = a + 1; s < t; s++)
                        n[s] < h && ((u = s), (h = n[s]));
                      if (u !== a)
                        for (n[u] = n[a], n[a] = h, s = 0; s < t; s++)
                          (h = r.get(s, a)), r.set(s, a, r.get(s, u)), r.set(s, u, h);
                    }
                  })(o, u, s, a);
              } else {
                let t = new M(o, o),
                  e = new Float64Array(o);
                for (i = 0; i < o; i++) for (r = 0; r < o; r++) t.set(r, i, c.get(r, i));
                !(function (t, e, n, r) {
                  let i,
                    o,
                    a,
                    s,
                    u,
                    c,
                    l,
                    h = t - 1;
                  for (c = 1; c <= h - 1; c++) {
                    for (l = 0, s = c; s <= h; s++) l += Math.abs(e.get(s, c - 1));
                    if (0 !== l) {
                      for (a = 0, s = h; s >= c; s--)
                        (n[s] = e.get(s, c - 1) / l), (a += n[s] * n[s]);
                      for (
                        o = Math.sqrt(a),
                          n[c] > 0 && (o = -o),
                          a -= n[c] * o,
                          n[c] = n[c] - o,
                          u = c;
                        u < t;
                        u++
                      ) {
                        for (i = 0, s = h; s >= c; s--) i += n[s] * e.get(s, u);
                        for (i /= a, s = c; s <= h; s++) e.set(s, u, e.get(s, u) - i * n[s]);
                      }
                      for (s = 0; s <= h; s++) {
                        for (i = 0, u = h; u >= c; u--) i += n[u] * e.get(s, u);
                        for (i /= a, u = c; u <= h; u++) e.set(s, u, e.get(s, u) - i * n[u]);
                      }
                      (n[c] = l * n[c]), e.set(c, c - 1, l * o);
                    }
                  }
                  for (s = 0; s < t; s++) for (u = 0; u < t; u++) r.set(s, u, s === u ? 1 : 0);
                  for (c = h - 1; c >= 1; c--)
                    if (0 !== e.get(c, c - 1)) {
                      for (s = c + 1; s <= h; s++) n[s] = e.get(s, c - 1);
                      for (u = c; u <= h; u++) {
                        for (o = 0, s = c; s <= h; s++) o += n[s] * r.get(s, u);
                        for (o = o / n[c] / e.get(c, c - 1), s = c; s <= h; s++)
                          r.set(s, u, r.get(s, u) + o * n[s]);
                      }
                    }
                })(o, t, e, a),
                  (function (t, e, n, r, i) {
                    let o,
                      a,
                      s,
                      u,
                      c,
                      l,
                      h,
                      f,
                      d,
                      p,
                      g,
                      v,
                      y,
                      m,
                      b,
                      x = t - 1,
                      _ = t - 1,
                      w = Number.EPSILON,
                      E = 0,
                      S = 0,
                      M = 0,
                      k = 0,
                      A = 0,
                      C = 0,
                      I = 0,
                      T = 0;
                    for (o = 0; o < t; o++)
                      for (
                        (o < 0 || o > _) && ((n[o] = i.get(o, o)), (e[o] = 0)),
                          a = Math.max(o - 1, 0);
                        a < t;
                        a++
                      )
                        S += Math.abs(i.get(o, a));
                    for (; x >= 0; ) {
                      for (
                        u = x;
                        u > 0 &&
                        ((C = Math.abs(i.get(u - 1, u - 1)) + Math.abs(i.get(u, u))),
                        0 === C && (C = S),
                        !(Math.abs(i.get(u, u - 1)) < w * C));

                      )
                        u--;
                      if (u === x)
                        i.set(x, x, i.get(x, x) + E),
                          (n[x] = i.get(x, x)),
                          (e[x] = 0),
                          x--,
                          (T = 0);
                      else if (u === x - 1) {
                        if (
                          ((h = i.get(x, x - 1) * i.get(x - 1, x)),
                          (M = (i.get(x - 1, x - 1) - i.get(x, x)) / 2),
                          (k = M * M + h),
                          (I = Math.sqrt(Math.abs(k))),
                          i.set(x, x, i.get(x, x) + E),
                          i.set(x - 1, x - 1, i.get(x - 1, x - 1) + E),
                          (f = i.get(x, x)),
                          k >= 0)
                        ) {
                          for (
                            I = M >= 0 ? M + I : M - I,
                              n[x - 1] = f + I,
                              n[x] = n[x - 1],
                              0 !== I && (n[x] = f - h / I),
                              e[x - 1] = 0,
                              e[x] = 0,
                              f = i.get(x, x - 1),
                              C = Math.abs(f) + Math.abs(I),
                              M = f / C,
                              k = I / C,
                              A = Math.sqrt(M * M + k * k),
                              M /= A,
                              k /= A,
                              a = x - 1;
                            a < t;
                            a++
                          )
                            (I = i.get(x - 1, a)),
                              i.set(x - 1, a, k * I + M * i.get(x, a)),
                              i.set(x, a, k * i.get(x, a) - M * I);
                          for (o = 0; o <= x; o++)
                            (I = i.get(o, x - 1)),
                              i.set(o, x - 1, k * I + M * i.get(o, x)),
                              i.set(o, x, k * i.get(o, x) - M * I);
                          for (o = 0; o <= _; o++)
                            (I = r.get(o, x - 1)),
                              r.set(o, x - 1, k * I + M * r.get(o, x)),
                              r.set(o, x, k * r.get(o, x) - M * I);
                        } else (n[x - 1] = f + M), (n[x] = f + M), (e[x - 1] = I), (e[x] = -I);
                        (x -= 2), (T = 0);
                      } else {
                        if (
                          ((f = i.get(x, x)),
                          (d = 0),
                          (h = 0),
                          u < x &&
                            ((d = i.get(x - 1, x - 1)), (h = i.get(x, x - 1) * i.get(x - 1, x))),
                          10 === T)
                        ) {
                          for (E += f, o = 0; o <= x; o++) i.set(o, o, i.get(o, o) - f);
                          (C = Math.abs(i.get(x, x - 1)) + Math.abs(i.get(x - 1, x - 2))),
                            (f = d = 0.75 * C),
                            (h = -0.4375 * C * C);
                        }
                        if (30 === T && ((C = (d - f) / 2), (C = C * C + h), C > 0)) {
                          for (
                            C = Math.sqrt(C),
                              d < f && (C = -C),
                              C = f - h / ((d - f) / 2 + C),
                              o = 0;
                            o <= x;
                            o++
                          )
                            i.set(o, o, i.get(o, o) - C);
                          (E += C), (f = d = h = 0.964);
                        }
                        for (
                          T += 1, c = x - 2;
                          c >= u &&
                          ((I = i.get(c, c)),
                          (A = f - I),
                          (C = d - I),
                          (M = (A * C - h) / i.get(c + 1, c) + i.get(c, c + 1)),
                          (k = i.get(c + 1, c + 1) - I - A - C),
                          (A = i.get(c + 2, c + 1)),
                          (C = Math.abs(M) + Math.abs(k) + Math.abs(A)),
                          (M /= C),
                          (k /= C),
                          (A /= C),
                          c !== u) &&
                          !(
                            Math.abs(i.get(c, c - 1)) * (Math.abs(k) + Math.abs(A)) <
                            w *
                              (Math.abs(M) *
                                (Math.abs(i.get(c - 1, c - 1)) +
                                  Math.abs(I) +
                                  Math.abs(i.get(c + 1, c + 1))))
                          );

                        )
                          c--;
                        for (o = c + 2; o <= x; o++)
                          i.set(o, o - 2, 0), o > c + 2 && i.set(o, o - 3, 0);
                        for (
                          s = c;
                          s <= x - 1 &&
                          ((m = s !== x - 1),
                          s !== c &&
                            ((M = i.get(s, s - 1)),
                            (k = i.get(s + 1, s - 1)),
                            (A = m ? i.get(s + 2, s - 1) : 0),
                            (f = Math.abs(M) + Math.abs(k) + Math.abs(A)),
                            0 !== f && ((M /= f), (k /= f), (A /= f))),
                          0 !== f);
                          s++
                        )
                          if (
                            ((C = Math.sqrt(M * M + k * k + A * A)), M < 0 && (C = -C), 0 !== C)
                          ) {
                            for (
                              s !== c
                                ? i.set(s, s - 1, -C * f)
                                : u !== c && i.set(s, s - 1, -i.get(s, s - 1)),
                                M += C,
                                f = M / C,
                                d = k / C,
                                I = A / C,
                                k /= M,
                                A /= M,
                                a = s;
                              a < t;
                              a++
                            )
                              (M = i.get(s, a) + k * i.get(s + 1, a)),
                                m &&
                                  ((M += A * i.get(s + 2, a)),
                                  i.set(s + 2, a, i.get(s + 2, a) - M * I)),
                                i.set(s, a, i.get(s, a) - M * f),
                                i.set(s + 1, a, i.get(s + 1, a) - M * d);
                            for (o = 0; o <= Math.min(x, s + 3); o++)
                              (M = f * i.get(o, s) + d * i.get(o, s + 1)),
                                m &&
                                  ((M += I * i.get(o, s + 2)),
                                  i.set(o, s + 2, i.get(o, s + 2) - M * A)),
                                i.set(o, s, i.get(o, s) - M),
                                i.set(o, s + 1, i.get(o, s + 1) - M * k);
                            for (o = 0; o <= _; o++)
                              (M = f * r.get(o, s) + d * r.get(o, s + 1)),
                                m &&
                                  ((M += I * r.get(o, s + 2)),
                                  r.set(o, s + 2, r.get(o, s + 2) - M * A)),
                                r.set(o, s, r.get(o, s) - M),
                                r.set(o, s + 1, r.get(o, s + 1) - M * k);
                          }
                      }
                    }
                    if (0 !== S) {
                      for (x = t - 1; x >= 0; x--)
                        if (((M = n[x]), (k = e[x]), 0 === k))
                          for (u = x, i.set(x, x, 1), o = x - 1; o >= 0; o--) {
                            for (h = i.get(o, o) - M, A = 0, a = u; a <= x; a++)
                              A += i.get(o, a) * i.get(a, x);
                            if (e[o] < 0) (I = h), (C = A);
                            else if (
                              ((u = o),
                              0 === e[o]
                                ? i.set(o, x, 0 !== h ? -A / h : -A / (w * S))
                                : ((f = i.get(o, o + 1)),
                                  (d = i.get(o + 1, o)),
                                  (k = (n[o] - M) * (n[o] - M) + e[o] * e[o]),
                                  (l = (f * C - I * A) / k),
                                  i.set(o, x, l),
                                  i.set(
                                    o + 1,
                                    x,
                                    Math.abs(f) > Math.abs(I) ? (-A - h * l) / f : (-C - d * l) / I,
                                  )),
                              (l = Math.abs(i.get(o, x))),
                              w * l * l > 1)
                            )
                              for (a = o; a <= x; a++) i.set(a, x, i.get(a, x) / l);
                          }
                        else if (k < 0)
                          for (
                            u = x - 1,
                              Math.abs(i.get(x, x - 1)) > Math.abs(i.get(x - 1, x))
                                ? (i.set(x - 1, x - 1, k / i.get(x, x - 1)),
                                  i.set(x - 1, x, -(i.get(x, x) - M) / i.get(x, x - 1)))
                                : ((b = J(0, -i.get(x - 1, x), i.get(x - 1, x - 1) - M, k)),
                                  i.set(x - 1, x - 1, b[0]),
                                  i.set(x - 1, x, b[1])),
                              i.set(x, x - 1, 0),
                              i.set(x, x, 1),
                              o = x - 2;
                            o >= 0;
                            o--
                          ) {
                            for (p = 0, g = 0, a = u; a <= x; a++)
                              (p += i.get(o, a) * i.get(a, x - 1)),
                                (g += i.get(o, a) * i.get(a, x));
                            if (((h = i.get(o, o) - M), e[o] < 0)) (I = h), (A = p), (C = g);
                            else if (
                              ((u = o),
                              0 === e[o]
                                ? ((b = J(-p, -g, h, k)), i.set(o, x - 1, b[0]), i.set(o, x, b[1]))
                                : ((f = i.get(o, o + 1)),
                                  (d = i.get(o + 1, o)),
                                  (v = (n[o] - M) * (n[o] - M) + e[o] * e[o] - k * k),
                                  (y = 2 * (n[o] - M) * k),
                                  0 === v &&
                                    0 === y &&
                                    (v =
                                      w *
                                      S *
                                      (Math.abs(h) +
                                        Math.abs(k) +
                                        Math.abs(f) +
                                        Math.abs(d) +
                                        Math.abs(I))),
                                  (b = J(f * A - I * p + k * g, f * C - I * g - k * p, v, y)),
                                  i.set(o, x - 1, b[0]),
                                  i.set(o, x, b[1]),
                                  Math.abs(f) > Math.abs(I) + Math.abs(k)
                                    ? (i.set(
                                        o + 1,
                                        x - 1,
                                        (-p - h * i.get(o, x - 1) + k * i.get(o, x)) / f,
                                      ),
                                      i.set(
                                        o + 1,
                                        x,
                                        (-g - h * i.get(o, x) - k * i.get(o, x - 1)) / f,
                                      ))
                                    : ((b = J(
                                        -A - d * i.get(o, x - 1),
                                        -C - d * i.get(o, x),
                                        I,
                                        k,
                                      )),
                                      i.set(o + 1, x - 1, b[0]),
                                      i.set(o + 1, x, b[1]))),
                              (l = Math.max(Math.abs(i.get(o, x - 1)), Math.abs(i.get(o, x)))),
                              w * l * l > 1)
                            )
                              for (a = o; a <= x; a++)
                                i.set(a, x - 1, i.get(a, x - 1) / l), i.set(a, x, i.get(a, x) / l);
                          }
                      for (o = 0; o < t; o++)
                        if (o < 0 || o > _) for (a = o; a < t; a++) r.set(o, a, i.get(o, a));
                      for (a = t - 1; a >= 0; a--)
                        for (o = 0; o <= _; o++) {
                          for (I = 0, s = 0; s <= Math.min(a, _); s++)
                            I += r.get(o, s) * i.get(s, a);
                          r.set(o, a, I);
                        }
                    }
                  })(o, u, s, a, t);
              }
              (this.n = o), (this.e = u), (this.d = s), (this.V = a);
            }
            get realEigenvalues() {
              return Array.from(this.d);
            }
            get imaginaryEigenvalues() {
              return Array.from(this.e);
            }
            get eigenvectorMatrix() {
              return this.V;
            }
            get diagonalMatrix() {
              let t,
                e,
                n = this.n,
                r = this.e,
                i = this.d,
                o = new M(n, n);
              for (t = 0; t < n; t++) {
                for (e = 0; e < n; e++) o.set(t, e, 0);
                o.set(t, t, i[t]),
                  r[t] > 0 ? o.set(t, t + 1, r[t]) : r[t] < 0 && o.set(t, t - 1, r[t]);
              }
              return o;
            }
          }
          function J(t, e, n, r) {
            let i, o;
            return Math.abs(n) > Math.abs(r)
              ? ((i = r / n), (o = n + i * r), [(t + i * e) / o, (e - i * t) / o])
              : ((i = n / r), (o = r + i * n), [(i * t + e) / o, (i * e - t) / o]);
          }
          class tt {
            constructor(t) {
              if (!(t = B.checkMatrix(t)).isSymmetric()) throw new Error('Matrix is not symmetric');
              let e,
                n,
                r,
                i = t,
                o = i.rows,
                a = new M(o, o),
                s = !0;
              for (n = 0; n < o; n++) {
                let t = 0;
                for (r = 0; r < n; r++) {
                  let o = 0;
                  for (e = 0; e < r; e++) o += a.get(r, e) * a.get(n, e);
                  (o = (i.get(n, r) - o) / a.get(r, r)), a.set(n, r, o), (t += o * o);
                }
                for (
                  t = i.get(n, n) - t,
                    s &= t > 0,
                    a.set(n, n, Math.sqrt(Math.max(t, 0))),
                    r = n + 1;
                  r < o;
                  r++
                )
                  a.set(n, r, 0);
              }
              (this.L = a), (this.positiveDefinite = Boolean(s));
            }
            isPositiveDefinite() {
              return this.positiveDefinite;
            }
            solve(t) {
              t = B.checkMatrix(t);
              let e = this.L,
                n = e.rows;
              if (t.rows !== n) throw new Error('Matrix dimensions do not match');
              if (!1 === this.isPositiveDefinite())
                throw new Error('Matrix is not positive definite');
              let r,
                i,
                o,
                a = t.columns,
                s = t.clone();
              for (o = 0; o < n; o++)
                for (i = 0; i < a; i++) {
                  for (r = 0; r < o; r++) s.set(o, i, s.get(o, i) - s.get(r, i) * e.get(o, r));
                  s.set(o, i, s.get(o, i) / e.get(o, o));
                }
              for (o = n - 1; o >= 0; o--)
                for (i = 0; i < a; i++) {
                  for (r = o + 1; r < n; r++) s.set(o, i, s.get(o, i) - s.get(r, i) * e.get(r, o));
                  s.set(o, i, s.get(o, i) / e.get(o, o));
                }
              return s;
            }
            get lowerTriangularMatrix() {
              return this.L;
            }
          }
          class et {
            constructor(t, e = {}) {
              t = B.checkMatrix(t);
              let { Y: n } = e;
              const {
                scaleScores: r = !1,
                maxIterations: i = 1e3,
                terminationCriteria: o = 1e-10,
              } = e;
              let a;
              if (n) {
                if (
                  ((n =
                    Array.isArray(n) && 'number' == typeof n[0]
                      ? M.columnVector(n)
                      : B.checkMatrix(n)),
                  n.rows !== t.rows)
                )
                  throw new Error('Y should have the same number of rows as X');
                a = n.getColumnVector(0);
              } else a = t.getColumnVector(0);
              let s,
                u,
                c,
                l,
                h = 1;
              for (let e = 0; e < i && h > o; e++)
                (c = t.transpose().mmul(a).div(a.transpose().mmul(a).get(0, 0))),
                  (c = c.div(c.norm())),
                  (s = t.mmul(c).div(c.transpose().mmul(c).get(0, 0))),
                  e > 0 && (h = s.clone().sub(l).pow(2).sum()),
                  (l = s.clone()),
                  n
                    ? ((u = n.transpose().mmul(s).div(s.transpose().mmul(s).get(0, 0))),
                      (u = u.div(u.norm())),
                      (a = n.mmul(u).div(u.transpose().mmul(u).get(0, 0))))
                    : (a = s);
              if (n) {
                let e = t.transpose().mmul(s).div(s.transpose().mmul(s).get(0, 0));
                e = e.div(e.norm());
                let r = t.clone().sub(s.clone().mmul(e.transpose())),
                  i = a.transpose().mmul(s).div(s.transpose().mmul(s).get(0, 0)),
                  o = n.clone().sub(s.clone().mulS(i.get(0, 0)).mmul(u.transpose()));
                (this.t = s),
                  (this.p = e.transpose()),
                  (this.w = c.transpose()),
                  (this.q = u),
                  (this.u = a),
                  (this.s = s.transpose().mmul(s)),
                  (this.xResidual = r),
                  (this.yResidual = o),
                  (this.betas = i);
              } else
                (this.w = c.transpose()),
                  (this.s = s.transpose().mmul(s).sqrt()),
                  (this.t = r ? s.clone().div(this.s.get(0, 0)) : s),
                  (this.xResidual = t.sub(s.mmul(c.transpose())));
            }
          }
        },
        582: (t, e, n) => {
          var r = n(9550),
            i = n(8854),
            o = n(6820),
            a = n(3650),
            s = n(6601),
            u = [0, 0];
          (t.exports.x7 = function (t, e, n, a, c) {
            return r(t, n, a), o(t, t), i(e, -t[1], t[0]), i(u, -n[1], n[0]), c / s(e, u);
          }),
            (t.exports.mJ = function (t, e) {
              return i(t, -e[1], e[0]), t;
            }),
            (t.exports.o7 = function (t, e, n) {
              return a(t, e, n), o(t, t), t;
            });
        },
        8660: (t, e, n) => {
          var r;
          !(function (t) {
            !(function (e) {
              var r =
                  'object' == typeof n.g
                    ? n.g
                    : 'object' == typeof self
                    ? self
                    : 'object' == typeof this
                    ? this
                    : Function('return this;')(),
                i = o(t);
              function o(t, e) {
                return function (n, r) {
                  'function' != typeof t[n] &&
                    Object.defineProperty(t, n, { configurable: !0, writable: !0, value: r }),
                    e && e(n, r);
                };
              }
              void 0 === r.Reflect ? (r.Reflect = t) : (i = o(r.Reflect, i)),
                (function (t) {
                  var e = Object.prototype.hasOwnProperty,
                    n = 'function' == typeof Symbol,
                    r = n && void 0 !== Symbol.toPrimitive ? Symbol.toPrimitive : '@@toPrimitive',
                    i = n && void 0 !== Symbol.iterator ? Symbol.iterator : '@@iterator',
                    o = 'function' == typeof Object.create,
                    a = { __proto__: [] } instanceof Array,
                    s = !o && !a,
                    u = {
                      create: o
                        ? function () {
                            return L(Object.create(null));
                          }
                        : a
                        ? function () {
                            return L({ __proto__: null });
                          }
                        : function () {
                            return L({});
                          },
                      has: s
                        ? function (t, n) {
                            return e.call(t, n);
                          }
                        : function (t, e) {
                            return e in t;
                          },
                      get: s
                        ? function (t, n) {
                            return e.call(t, n) ? t[n] : void 0;
                          }
                        : function (t, e) {
                            return t[e];
                          },
                    },
                    c = Object.getPrototypeOf(Function),
                    l =
                      'object' == typeof process &&
                      process.env &&
                      'true' === process.env.REFLECT_METADATA_USE_MAP_POLYFILL,
                    h =
                      l || 'function' != typeof Map || 'function' != typeof Map.prototype.entries
                        ? (function () {
                            var t = {},
                              e = [],
                              n = (function () {
                                function t(t, e, n) {
                                  (this._index = 0),
                                    (this._keys = t),
                                    (this._values = e),
                                    (this._selector = n);
                                }
                                return (
                                  (t.prototype['@@iterator'] = function () {
                                    return this;
                                  }),
                                  (t.prototype[i] = function () {
                                    return this;
                                  }),
                                  (t.prototype.next = function () {
                                    var t = this._index;
                                    if (t >= 0 && t < this._keys.length) {
                                      var n = this._selector(this._keys[t], this._values[t]);
                                      return (
                                        t + 1 >= this._keys.length
                                          ? ((this._index = -1),
                                            (this._keys = e),
                                            (this._values = e))
                                          : this._index++,
                                        { value: n, done: !1 }
                                      );
                                    }
                                    return { value: void 0, done: !0 };
                                  }),
                                  (t.prototype.throw = function (t) {
                                    throw (
                                      (this._index >= 0 &&
                                        ((this._index = -1), (this._keys = e), (this._values = e)),
                                      t)
                                    );
                                  }),
                                  (t.prototype.return = function (t) {
                                    return (
                                      this._index >= 0 &&
                                        ((this._index = -1), (this._keys = e), (this._values = e)),
                                      { value: t, done: !0 }
                                    );
                                  }),
                                  t
                                );
                              })();
                            return (function () {
                              function e() {
                                (this._keys = []),
                                  (this._values = []),
                                  (this._cacheKey = t),
                                  (this._cacheIndex = -2);
                              }
                              return (
                                Object.defineProperty(e.prototype, 'size', {
                                  get: function () {
                                    return this._keys.length;
                                  },
                                  enumerable: !0,
                                  configurable: !0,
                                }),
                                (e.prototype.has = function (t) {
                                  return this._find(t, !1) >= 0;
                                }),
                                (e.prototype.get = function (t) {
                                  var e = this._find(t, !1);
                                  return e >= 0 ? this._values[e] : void 0;
                                }),
                                (e.prototype.set = function (t, e) {
                                  var n = this._find(t, !0);
                                  return (this._values[n] = e), this;
                                }),
                                (e.prototype.delete = function (e) {
                                  var n = this._find(e, !1);
                                  if (n >= 0) {
                                    for (var r = this._keys.length, i = n + 1; i < r; i++)
                                      (this._keys[i - 1] = this._keys[i]),
                                        (this._values[i - 1] = this._values[i]);
                                    return (
                                      this._keys.length--,
                                      this._values.length--,
                                      e === this._cacheKey &&
                                        ((this._cacheKey = t), (this._cacheIndex = -2)),
                                      !0
                                    );
                                  }
                                  return !1;
                                }),
                                (e.prototype.clear = function () {
                                  (this._keys.length = 0),
                                    (this._values.length = 0),
                                    (this._cacheKey = t),
                                    (this._cacheIndex = -2);
                                }),
                                (e.prototype.keys = function () {
                                  return new n(this._keys, this._values, r);
                                }),
                                (e.prototype.values = function () {
                                  return new n(this._keys, this._values, o);
                                }),
                                (e.prototype.entries = function () {
                                  return new n(this._keys, this._values, a);
                                }),
                                (e.prototype['@@iterator'] = function () {
                                  return this.entries();
                                }),
                                (e.prototype[i] = function () {
                                  return this.entries();
                                }),
                                (e.prototype._find = function (t, e) {
                                  return (
                                    this._cacheKey !== t &&
                                      (this._cacheIndex = this._keys.indexOf((this._cacheKey = t))),
                                    this._cacheIndex < 0 &&
                                      e &&
                                      ((this._cacheIndex = this._keys.length),
                                      this._keys.push(t),
                                      this._values.push(void 0)),
                                    this._cacheIndex
                                  );
                                }),
                                e
                              );
                            })();
                            function r(t, e) {
                              return t;
                            }
                            function o(t, e) {
                              return e;
                            }
                            function a(t, e) {
                              return [t, e];
                            }
                          })()
                        : Map,
                    f =
                      l || 'function' != typeof Set || 'function' != typeof Set.prototype.entries
                        ? (function () {
                            function t() {
                              this._map = new h();
                            }
                            return (
                              Object.defineProperty(t.prototype, 'size', {
                                get: function () {
                                  return this._map.size;
                                },
                                enumerable: !0,
                                configurable: !0,
                              }),
                              (t.prototype.has = function (t) {
                                return this._map.has(t);
                              }),
                              (t.prototype.add = function (t) {
                                return this._map.set(t, t), this;
                              }),
                              (t.prototype.delete = function (t) {
                                return this._map.delete(t);
                              }),
                              (t.prototype.clear = function () {
                                this._map.clear();
                              }),
                              (t.prototype.keys = function () {
                                return this._map.keys();
                              }),
                              (t.prototype.values = function () {
                                return this._map.values();
                              }),
                              (t.prototype.entries = function () {
                                return this._map.entries();
                              }),
                              (t.prototype['@@iterator'] = function () {
                                return this.keys();
                              }),
                              (t.prototype[i] = function () {
                                return this.keys();
                              }),
                              t
                            );
                          })()
                        : Set,
                    d = new (
                      l || 'function' != typeof WeakMap
                        ? (function () {
                            var t = u.create(),
                              n = r();
                            return (function () {
                              function t() {
                                this._key = r();
                              }
                              return (
                                (t.prototype.has = function (t) {
                                  var e = i(t, !1);
                                  return void 0 !== e && u.has(e, this._key);
                                }),
                                (t.prototype.get = function (t) {
                                  var e = i(t, !1);
                                  return void 0 !== e ? u.get(e, this._key) : void 0;
                                }),
                                (t.prototype.set = function (t, e) {
                                  return (i(t, !0)[this._key] = e), this;
                                }),
                                (t.prototype.delete = function (t) {
                                  var e = i(t, !1);
                                  return void 0 !== e && delete e[this._key];
                                }),
                                (t.prototype.clear = function () {
                                  this._key = r();
                                }),
                                t
                              );
                            })();
                            function r() {
                              var e;
                              do {
                                e = '@@WeakMap@@' + a();
                              } while (u.has(t, e));
                              return (t[e] = !0), e;
                            }
                            function i(t, r) {
                              if (!e.call(t, n)) {
                                if (!r) return;
                                Object.defineProperty(t, n, { value: u.create() });
                              }
                              return t[n];
                            }
                            function o(t, e) {
                              for (var n = 0; n < e; ++n) t[n] = (255 * Math.random()) | 0;
                              return t;
                            }
                            function a() {
                              var t,
                                e =
                                  ((t = 16),
                                  'function' == typeof Uint8Array
                                    ? 'undefined' != typeof crypto
                                      ? crypto.getRandomValues(new Uint8Array(t))
                                      : 'undefined' != typeof msCrypto
                                      ? msCrypto.getRandomValues(new Uint8Array(t))
                                      : o(new Uint8Array(t), t)
                                    : o(new Array(t), t));
                              (e[6] = (79 & e[6]) | 64), (e[8] = (191 & e[8]) | 128);
                              for (var n = '', r = 0; r < 16; ++r) {
                                var i = e[r];
                                (4 !== r && 6 !== r && 8 !== r) || (n += '-'),
                                  i < 16 && (n += '0'),
                                  (n += i.toString(16).toLowerCase());
                              }
                              return n;
                            }
                          })()
                        : WeakMap
                    )();
                  function p(t, e, n) {
                    var r = d.get(t);
                    if (E(r)) {
                      if (!n) return;
                      (r = new h()), d.set(t, r);
                    }
                    var i = r.get(e);
                    if (E(i)) {
                      if (!n) return;
                      (i = new h()), r.set(e, i);
                    }
                    return i;
                  }
                  function g(t, e, n) {
                    if (v(t, e, n)) return !0;
                    var r = D(e);
                    return !S(r) && g(t, r, n);
                  }
                  function v(t, e, n) {
                    var r = p(e, n, !1);
                    return !E(r) && !!r.has(t);
                  }
                  function y(t, e, n) {
                    if (v(t, e, n)) return m(t, e, n);
                    var r = D(e);
                    return S(r) ? void 0 : y(t, r, n);
                  }
                  function m(t, e, n) {
                    var r = p(e, n, !1);
                    if (!E(r)) return r.get(t);
                  }
                  function b(t, e, n, r) {
                    p(n, r, !0).set(t, e);
                  }
                  function x(t, e) {
                    var n = _(t, e),
                      r = D(t);
                    if (null === r) return n;
                    var i = x(r, e);
                    if (i.length <= 0) return n;
                    if (n.length <= 0) return i;
                    for (var o = new f(), a = [], s = 0, u = n; s < u.length; s++) {
                      var c = u[s];
                      o.has(c) || (o.add(c), a.push(c));
                    }
                    for (var l = 0, h = i; l < h.length; l++)
                      (c = h[l]), o.has(c) || (o.add(c), a.push(c));
                    return a;
                  }
                  function _(t, e) {
                    var n = [],
                      r = p(t, e, !1);
                    if (E(r)) return n;
                    for (
                      var o = (function (t) {
                          var e = N(t, i);
                          if (!I(e)) throw new TypeError();
                          var n = e.call(t);
                          if (!M(n)) throw new TypeError();
                          return n;
                        })(r.keys()),
                        a = 0;
                      ;

                    ) {
                      var s = P(o);
                      if (!s) return (n.length = a), n;
                      var u = s.value;
                      try {
                        n[a] = u;
                      } catch (t) {
                        try {
                          O(o);
                        } finally {
                          throw t;
                        }
                      }
                      a++;
                    }
                  }
                  function w(t) {
                    if (null === t) return 1;
                    switch (typeof t) {
                      case 'undefined':
                        return 0;
                      case 'boolean':
                        return 2;
                      case 'string':
                        return 3;
                      case 'symbol':
                        return 4;
                      case 'number':
                        return 5;
                      case 'object':
                        return null === t ? 1 : 6;
                      default:
                        return 6;
                    }
                  }
                  function E(t) {
                    return void 0 === t;
                  }
                  function S(t) {
                    return null === t;
                  }
                  function M(t) {
                    return 'object' == typeof t ? null !== t : 'function' == typeof t;
                  }
                  function k(t, e) {
                    switch (w(t)) {
                      case 0:
                      case 1:
                      case 2:
                      case 3:
                      case 4:
                      case 5:
                        return t;
                    }
                    var n = 3 === e ? 'string' : 5 === e ? 'number' : 'default',
                      i = N(t, r);
                    if (void 0 !== i) {
                      var o = i.call(t, n);
                      if (M(o)) throw new TypeError();
                      return o;
                    }
                    return (function (t, e) {
                      if ('string' === e) {
                        var n = t.toString;
                        if (I(n) && !M((i = n.call(t)))) return i;
                        if (I((r = t.valueOf)) && !M((i = r.call(t)))) return i;
                      } else {
                        var r;
                        if (I((r = t.valueOf)) && !M((i = r.call(t)))) return i;
                        var i,
                          o = t.toString;
                        if (I(o) && !M((i = o.call(t)))) return i;
                      }
                      throw new TypeError();
                    })(t, 'default' === n ? 'number' : n);
                  }
                  function A(t) {
                    var e = k(t, 3);
                    return 'symbol' == typeof e
                      ? e
                      : (function (t) {
                          return '' + t;
                        })(e);
                  }
                  function C(t) {
                    return Array.isArray
                      ? Array.isArray(t)
                      : t instanceof Object
                      ? t instanceof Array
                      : '[object Array]' === Object.prototype.toString.call(t);
                  }
                  function I(t) {
                    return 'function' == typeof t;
                  }
                  function T(t) {
                    return 'function' == typeof t;
                  }
                  function N(t, e) {
                    var n = t[e];
                    if (null != n) {
                      if (!I(n)) throw new TypeError();
                      return n;
                    }
                  }
                  function P(t) {
                    var e = t.next();
                    return !e.done && e;
                  }
                  function O(t) {
                    var e = t.return;
                    e && e.call(t);
                  }
                  function D(t) {
                    var e = Object.getPrototypeOf(t);
                    if ('function' != typeof t || t === c) return e;
                    if (e !== c) return e;
                    var n = t.prototype,
                      r = n && Object.getPrototypeOf(n);
                    if (null == r || r === Object.prototype) return e;
                    var i = r.constructor;
                    return 'function' != typeof i || i === t ? e : i;
                  }
                  function L(t) {
                    return (t.__ = void 0), delete t.__, t;
                  }
                  t('decorate', function (t, e, n, r) {
                    if (E(n)) {
                      if (!C(t)) throw new TypeError();
                      if (!T(e)) throw new TypeError();
                      return (function (t, e) {
                        for (var n = t.length - 1; n >= 0; --n) {
                          var r = (0, t[n])(e);
                          if (!E(r) && !S(r)) {
                            if (!T(r)) throw new TypeError();
                            e = r;
                          }
                        }
                        return e;
                      })(t, e);
                    }
                    if (!C(t)) throw new TypeError();
                    if (!M(e)) throw new TypeError();
                    if (!M(r) && !E(r) && !S(r)) throw new TypeError();
                    return (
                      S(r) && (r = void 0),
                      (function (t, e, n, r) {
                        for (var i = t.length - 1; i >= 0; --i) {
                          var o = (0, t[i])(e, n, r);
                          if (!E(o) && !S(o)) {
                            if (!M(o)) throw new TypeError();
                            r = o;
                          }
                        }
                        return r;
                      })(t, e, (n = A(n)), r)
                    );
                  }),
                    t('metadata', function (t, e) {
                      return function (n, r) {
                        if (!M(n)) throw new TypeError();
                        if (
                          !E(r) &&
                          !(function (t) {
                            switch (w(t)) {
                              case 3:
                              case 4:
                                return !0;
                              default:
                                return !1;
                            }
                          })(r)
                        )
                          throw new TypeError();
                        b(t, e, n, r);
                      };
                    }),
                    t('defineMetadata', function (t, e, n, r) {
                      if (!M(n)) throw new TypeError();
                      return E(r) || (r = A(r)), b(t, e, n, r);
                    }),
                    t('hasMetadata', function (t, e, n) {
                      if (!M(e)) throw new TypeError();
                      return E(n) || (n = A(n)), g(t, e, n);
                    }),
                    t('hasOwnMetadata', function (t, e, n) {
                      if (!M(e)) throw new TypeError();
                      return E(n) || (n = A(n)), v(t, e, n);
                    }),
                    t('getMetadata', function (t, e, n) {
                      if (!M(e)) throw new TypeError();
                      return E(n) || (n = A(n)), y(t, e, n);
                    }),
                    t('getOwnMetadata', function (t, e, n) {
                      if (!M(e)) throw new TypeError();
                      return E(n) || (n = A(n)), m(t, e, n);
                    }),
                    t('getMetadataKeys', function (t, e) {
                      if (!M(t)) throw new TypeError();
                      return E(e) || (e = A(e)), x(t, e);
                    }),
                    t('getOwnMetadataKeys', function (t, e) {
                      if (!M(t)) throw new TypeError();
                      return E(e) || (e = A(e)), _(t, e);
                    }),
                    t('deleteMetadata', function (t, e, n) {
                      if (!M(e)) throw new TypeError();
                      E(n) || (n = A(n));
                      var r = p(e, n, !1);
                      if (E(r)) return !1;
                      if (!r.delete(t)) return !1;
                      if (r.size > 0) return !0;
                      var i = d.get(e);
                      return i.delete(n), i.size > 0 || d.delete(e), !0;
                    });
                })(i);
            })();
          })(r || (r = {}));
        },
        5666: (t) => {
          var e = (function (t) {
            'use strict';
            var e,
              n = Object.prototype,
              r = n.hasOwnProperty,
              i = 'function' == typeof Symbol ? Symbol : {},
              o = i.iterator || '@@iterator',
              a = i.asyncIterator || '@@asyncIterator',
              s = i.toStringTag || '@@toStringTag';
            function u(t, e, n) {
              return (
                Object.defineProperty(t, e, {
                  value: n,
                  enumerable: !0,
                  configurable: !0,
                  writable: !0,
                }),
                t[e]
              );
            }
            try {
              u({}, '');
            } catch (t) {
              u = function (t, e, n) {
                return (t[e] = n);
              };
            }
            function c(t, e, n, r) {
              var i = e && e.prototype instanceof v ? e : v,
                o = Object.create(i.prototype),
                a = new C(r || []);
              return (
                (o._invoke = (function (t, e, n) {
                  var r = h;
                  return function (i, o) {
                    if (r === d) throw new Error('Generator is already running');
                    if (r === p) {
                      if ('throw' === i) throw o;
                      return T();
                    }
                    for (n.method = i, n.arg = o; ; ) {
                      var a = n.delegate;
                      if (a) {
                        var s = M(a, n);
                        if (s) {
                          if (s === g) continue;
                          return s;
                        }
                      }
                      if ('next' === n.method) n.sent = n._sent = n.arg;
                      else if ('throw' === n.method) {
                        if (r === h) throw ((r = p), n.arg);
                        n.dispatchException(n.arg);
                      } else 'return' === n.method && n.abrupt('return', n.arg);
                      r = d;
                      var u = l(t, e, n);
                      if ('normal' === u.type) {
                        if (((r = n.done ? p : f), u.arg === g)) continue;
                        return { value: u.arg, done: n.done };
                      }
                      'throw' === u.type && ((r = p), (n.method = 'throw'), (n.arg = u.arg));
                    }
                  };
                })(t, n, a)),
                o
              );
            }
            function l(t, e, n) {
              try {
                return { type: 'normal', arg: t.call(e, n) };
              } catch (t) {
                return { type: 'throw', arg: t };
              }
            }
            t.wrap = c;
            var h = 'suspendedStart',
              f = 'suspendedYield',
              d = 'executing',
              p = 'completed',
              g = {};
            function v() {}
            function y() {}
            function m() {}
            var b = {};
            u(b, o, function () {
              return this;
            });
            var x = Object.getPrototypeOf,
              _ = x && x(x(I([])));
            _ && _ !== n && r.call(_, o) && (b = _);
            var w = (m.prototype = v.prototype = Object.create(b));
            function E(t) {
              ['next', 'throw', 'return'].forEach(function (e) {
                u(t, e, function (t) {
                  return this._invoke(e, t);
                });
              });
            }
            function S(t, e) {
              function n(i, o, a, s) {
                var u = l(t[i], t, o);
                if ('throw' !== u.type) {
                  var c = u.arg,
                    h = c.value;
                  return h && 'object' == typeof h && r.call(h, '__await')
                    ? e.resolve(h.__await).then(
                        function (t) {
                          n('next', t, a, s);
                        },
                        function (t) {
                          n('throw', t, a, s);
                        },
                      )
                    : e.resolve(h).then(
                        function (t) {
                          (c.value = t), a(c);
                        },
                        function (t) {
                          return n('throw', t, a, s);
                        },
                      );
                }
                s(u.arg);
              }
              var i;
              this._invoke = function (t, r) {
                function o() {
                  return new e(function (e, i) {
                    n(t, r, e, i);
                  });
                }
                return (i = i ? i.then(o, o) : o());
              };
            }
            function M(t, n) {
              var r = t.iterator[n.method];
              if (r === e) {
                if (((n.delegate = null), 'throw' === n.method)) {
                  if (
                    t.iterator.return &&
                    ((n.method = 'return'), (n.arg = e), M(t, n), 'throw' === n.method)
                  )
                    return g;
                  (n.method = 'throw'),
                    (n.arg = new TypeError("The iterator does not provide a 'throw' method"));
                }
                return g;
              }
              var i = l(r, t.iterator, n.arg);
              if ('throw' === i.type)
                return (n.method = 'throw'), (n.arg = i.arg), (n.delegate = null), g;
              var o = i.arg;
              return o
                ? o.done
                  ? ((n[t.resultName] = o.value),
                    (n.next = t.nextLoc),
                    'return' !== n.method && ((n.method = 'next'), (n.arg = e)),
                    (n.delegate = null),
                    g)
                  : o
                : ((n.method = 'throw'),
                  (n.arg = new TypeError('iterator result is not an object')),
                  (n.delegate = null),
                  g);
            }
            function k(t) {
              var e = { tryLoc: t[0] };
              1 in t && (e.catchLoc = t[1]),
                2 in t && ((e.finallyLoc = t[2]), (e.afterLoc = t[3])),
                this.tryEntries.push(e);
            }
            function A(t) {
              var e = t.completion || {};
              (e.type = 'normal'), delete e.arg, (t.completion = e);
            }
            function C(t) {
              (this.tryEntries = [{ tryLoc: 'root' }]), t.forEach(k, this), this.reset(!0);
            }
            function I(t) {
              if (t) {
                var n = t[o];
                if (n) return n.call(t);
                if ('function' == typeof t.next) return t;
                if (!isNaN(t.length)) {
                  var i = -1,
                    a = function n() {
                      for (; ++i < t.length; )
                        if (r.call(t, i)) return (n.value = t[i]), (n.done = !1), n;
                      return (n.value = e), (n.done = !0), n;
                    };
                  return (a.next = a);
                }
              }
              return { next: T };
            }
            function T() {
              return { value: e, done: !0 };
            }
            return (
              (y.prototype = m),
              u(w, 'constructor', m),
              u(m, 'constructor', y),
              (y.displayName = u(m, s, 'GeneratorFunction')),
              (t.isGeneratorFunction = function (t) {
                var e = 'function' == typeof t && t.constructor;
                return !!e && (e === y || 'GeneratorFunction' === (e.displayName || e.name));
              }),
              (t.mark = function (t) {
                return (
                  Object.setPrototypeOf
                    ? Object.setPrototypeOf(t, m)
                    : ((t.__proto__ = m), u(t, s, 'GeneratorFunction')),
                  (t.prototype = Object.create(w)),
                  t
                );
              }),
              (t.awrap = function (t) {
                return { __await: t };
              }),
              E(S.prototype),
              u(S.prototype, a, function () {
                return this;
              }),
              (t.AsyncIterator = S),
              (t.async = function (e, n, r, i, o) {
                void 0 === o && (o = Promise);
                var a = new S(c(e, n, r, i), o);
                return t.isGeneratorFunction(n)
                  ? a
                  : a.next().then(function (t) {
                      return t.done ? t.value : a.next();
                    });
              }),
              E(w),
              u(w, s, 'Generator'),
              u(w, o, function () {
                return this;
              }),
              u(w, 'toString', function () {
                return '[object Generator]';
              }),
              (t.keys = function (t) {
                var e = [];
                for (var n in t) e.push(n);
                return (
                  e.reverse(),
                  function n() {
                    for (; e.length; ) {
                      var r = e.pop();
                      if (r in t) return (n.value = r), (n.done = !1), n;
                    }
                    return (n.done = !0), n;
                  }
                );
              }),
              (t.values = I),
              (C.prototype = {
                constructor: C,
                reset: function (t) {
                  if (
                    ((this.prev = 0),
                    (this.next = 0),
                    (this.sent = this._sent = e),
                    (this.done = !1),
                    (this.delegate = null),
                    (this.method = 'next'),
                    (this.arg = e),
                    this.tryEntries.forEach(A),
                    !t)
                  )
                    for (var n in this)
                      't' === n.charAt(0) &&
                        r.call(this, n) &&
                        !isNaN(+n.slice(1)) &&
                        (this[n] = e);
                },
                stop: function () {
                  this.done = !0;
                  var t = this.tryEntries[0].completion;
                  if ('throw' === t.type) throw t.arg;
                  return this.rval;
                },
                dispatchException: function (t) {
                  if (this.done) throw t;
                  var n = this;
                  function i(r, i) {
                    return (
                      (s.type = 'throw'),
                      (s.arg = t),
                      (n.next = r),
                      i && ((n.method = 'next'), (n.arg = e)),
                      !!i
                    );
                  }
                  for (var o = this.tryEntries.length - 1; o >= 0; --o) {
                    var a = this.tryEntries[o],
                      s = a.completion;
                    if ('root' === a.tryLoc) return i('end');
                    if (a.tryLoc <= this.prev) {
                      var u = r.call(a, 'catchLoc'),
                        c = r.call(a, 'finallyLoc');
                      if (u && c) {
                        if (this.prev < a.catchLoc) return i(a.catchLoc, !0);
                        if (this.prev < a.finallyLoc) return i(a.finallyLoc);
                      } else if (u) {
                        if (this.prev < a.catchLoc) return i(a.catchLoc, !0);
                      } else {
                        if (!c) throw new Error('try statement without catch or finally');
                        if (this.prev < a.finallyLoc) return i(a.finallyLoc);
                      }
                    }
                  }
                },
                abrupt: function (t, e) {
                  for (var n = this.tryEntries.length - 1; n >= 0; --n) {
                    var i = this.tryEntries[n];
                    if (
                      i.tryLoc <= this.prev &&
                      r.call(i, 'finallyLoc') &&
                      this.prev < i.finallyLoc
                    ) {
                      var o = i;
                      break;
                    }
                  }
                  o &&
                    ('break' === t || 'continue' === t) &&
                    o.tryLoc <= e &&
                    e <= o.finallyLoc &&
                    (o = null);
                  var a = o ? o.completion : {};
                  return (
                    (a.type = t),
                    (a.arg = e),
                    o ? ((this.method = 'next'), (this.next = o.finallyLoc), g) : this.complete(a)
                  );
                },
                complete: function (t, e) {
                  if ('throw' === t.type) throw t.arg;
                  return (
                    'break' === t.type || 'continue' === t.type
                      ? (this.next = t.arg)
                      : 'return' === t.type
                      ? ((this.rval = this.arg = t.arg),
                        (this.method = 'return'),
                        (this.next = 'end'))
                      : 'normal' === t.type && e && (this.next = e),
                    g
                  );
                },
                finish: function (t) {
                  for (var e = this.tryEntries.length - 1; e >= 0; --e) {
                    var n = this.tryEntries[e];
                    if (n.finallyLoc === t) return this.complete(n.completion, n.afterLoc), A(n), g;
                  }
                },
                catch: function (t) {
                  for (var e = this.tryEntries.length - 1; e >= 0; --e) {
                    var n = this.tryEntries[e];
                    if (n.tryLoc === t) {
                      var r = n.completion;
                      if ('throw' === r.type) {
                        var i = r.arg;
                        A(n);
                      }
                      return i;
                    }
                  }
                  throw new Error('illegal catch attempt');
                },
                delegateYield: function (t, n, r) {
                  return (
                    (this.delegate = { iterator: I(t), resultName: n, nextLoc: r }),
                    'next' === this.method && (this.arg = e),
                    g
                  );
                },
              }),
              t
            );
          })(t.exports);
          try {
            regeneratorRuntime = e;
          } catch (t) {
            'object' == typeof globalThis
              ? (globalThis.regeneratorRuntime = e)
              : Function('r', 'regeneratorRuntime = r')(e);
          }
        },
        1550: function (t) {
          t.exports = (function () {
            'use strict';
            var t = function (t) {
                return (
                  t instanceof Uint8Array ||
                  t instanceof Uint16Array ||
                  t instanceof Uint32Array ||
                  t instanceof Int8Array ||
                  t instanceof Int16Array ||
                  t instanceof Int32Array ||
                  t instanceof Float32Array ||
                  t instanceof Float64Array ||
                  t instanceof Uint8ClampedArray
                );
              },
              e = function (t, e) {
                for (var n = Object.keys(e), r = 0; r < n.length; ++r) t[n[r]] = e[n[r]];
                return t;
              },
              n = '\n';
            function r(t) {
              var e = new Error('(regl) ' + t);
              throw (console.error(e), e);
            }
            function i(t, e) {
              t || r(e);
            }
            function o(t) {
              return t ? ': ' + t : '';
            }
            function a(t, e) {
              switch (e) {
                case 'number':
                  return 'number' == typeof t;
                case 'object':
                  return 'object' == typeof t;
                case 'string':
                  return 'string' == typeof t;
                case 'boolean':
                  return 'boolean' == typeof t;
                case 'function':
                  return 'function' == typeof t;
                case 'undefined':
                  return void 0 === t;
                case 'symbol':
                  return 'symbol' == typeof t;
              }
            }
            function s(t, e, n) {
              e.indexOf(t) < 0 && r('invalid value' + o(n) + '. must be one of: ' + e);
            }
            var u = [
              'gl',
              'canvas',
              'container',
              'attributes',
              'pixelRatio',
              'extensions',
              'optionalExtensions',
              'profile',
              'onDone',
            ];
            function c(t, e) {
              for (t += ''; t.length < e; ) t = ' ' + t;
              return t;
            }
            function l() {
              (this.name = 'unknown'), (this.lines = []), (this.index = {}), (this.hasErrors = !1);
            }
            function h(t, e) {
              (this.number = t), (this.line = e), (this.errors = []);
            }
            function f(t, e, n) {
              (this.file = t), (this.line = e), (this.message = n);
            }
            function d() {
              var t = new Error(),
                e = (t.stack || t).toString(),
                n = /compileProcedure.*\n\s*at.*\((.*)\)/.exec(e);
              if (n) return n[1];
              var r = /compileProcedure.*\n\s*at\s+(.*)(\n|$)/.exec(e);
              return r ? r[1] : 'unknown';
            }
            function p() {
              var t = new Error(),
                e = (t.stack || t).toString(),
                n = /at REGLCommand.*\n\s+at.*\((.*)\)/.exec(e);
              if (n) return n[1];
              var r = /at REGLCommand.*\n\s+at\s+(.*)\n/.exec(e);
              return r ? r[1] : 'unknown';
            }
            function g(t, e) {
              var n,
                r = t.split('\n'),
                i = 1,
                o = 0,
                a = { unknown: new l(), 0: new l() };
              (a.unknown.name = a[0].name = e || d()), a.unknown.lines.push(new h(0, ''));
              for (var s = 0; s < r.length; ++s) {
                var u = r[s],
                  c = /^\s*#\s*(\w+)\s+(.+)\s*$/.exec(u);
                if (c)
                  switch (c[1]) {
                    case 'line':
                      var f = /(\d+)(\s+\d+)?/.exec(c[2]);
                      f && ((i = 0 | f[1]), f[2] && ((o = 0 | f[2]) in a || (a[o] = new l())));
                      break;
                    case 'define':
                      var p = /SHADER_NAME(_B64)?\s+(.*)$/.exec(c[2]);
                      p &&
                        (a[o].name = p[1]
                          ? ((n = p[2]), 'undefined' != typeof atob ? atob(n) : 'base64:' + n)
                          : p[2]);
                  }
                a[o].lines.push(new h(i++, u));
              }
              return (
                Object.keys(a).forEach(function (t) {
                  var e = a[t];
                  e.lines.forEach(function (t) {
                    e.index[t.number] = t;
                  });
                }),
                a
              );
            }
            function v(t) {
              t._commandRef = d();
            }
            function y(t, e) {
              var n = p();
              r(t + ' in command ' + (e || d()) + ('unknown' === n ? '' : ' called from ' + n));
            }
            function m(t, e, n, r) {
              a(t, e) ||
                y(
                  'invalid parameter type' + o(n) + '. expected ' + e + ', got ' + typeof t,
                  r || d(),
                );
            }
            var b = 33071,
              x = {};
            function _(t, e) {
              return 32820 === t || 32819 === t || 33635 === t ? 2 : 34042 === t ? 4 : x[t] * e;
            }
            function w(t) {
              return !(t & (t - 1) || !t);
            }
            (x[5120] = x[5121] = 1),
              (x[5122] = x[5123] = x[36193] = x[33635] = x[32819] = x[32820] = 2),
              (x[5124] = x[5125] = x[5126] = x[34042] = 4);
            var E = e(i, {
                optional: function (t) {
                  t();
                },
                raise: r,
                commandRaise: y,
                command: function (t, e, n) {
                  t || y(e, n || d());
                },
                parameter: function (t, e, n) {
                  t in e ||
                    r(
                      'unknown parameter (' +
                        t +
                        ')' +
                        o(n) +
                        '. possible values: ' +
                        Object.keys(e).join(),
                    );
                },
                commandParameter: function (t, e, n, r) {
                  t in e ||
                    y(
                      'unknown parameter (' +
                        t +
                        ')' +
                        o(n) +
                        '. possible values: ' +
                        Object.keys(e).join(),
                      r || d(),
                    );
                },
                constructor: function (t) {
                  Object.keys(t).forEach(function (t) {
                    u.indexOf(t) < 0 &&
                      r('invalid regl constructor argument "' + t + '". must be one of ' + u);
                  });
                },
                type: function (t, e, n) {
                  a(t, e) ||
                    r('invalid parameter type' + o(n) + '. expected ' + e + ', got ' + typeof t);
                },
                commandType: m,
                isTypedArray: function (e, n) {
                  t(e) || r('invalid parameter type' + o(n) + '. must be a typed array');
                },
                nni: function (t, e) {
                  (t >= 0 && (0 | t) === t) ||
                    r(
                      'invalid parameter type, (' +
                        t +
                        ')' +
                        o(e) +
                        '. must be a nonnegative integer',
                    );
                },
                oneOf: s,
                shaderError: function (t, e, r, o, a) {
                  if (!t.getShaderParameter(e, t.COMPILE_STATUS)) {
                    var s = t.getShaderInfoLog(e),
                      u = o === t.FRAGMENT_SHADER ? 'fragment' : 'vertex';
                    m(r, 'string', u + ' shader source must be a string', a);
                    var l = g(r, a),
                      h = (function (t) {
                        var e = [];
                        return (
                          t.split('\n').forEach(function (t) {
                            if (!(t.length < 5)) {
                              var n = /^ERROR:\s+(\d+):(\d+):\s*(.*)$/.exec(t);
                              n
                                ? e.push(new f(0 | n[1], 0 | n[2], n[3].trim()))
                                : t.length > 0 && e.push(new f('unknown', 0, t));
                            }
                          }),
                          e
                        );
                      })(s);
                    (function (t, e) {
                      e.forEach(function (e) {
                        var n = t[e.file];
                        if (n) {
                          var r = n.index[e.line];
                          if (r) return r.errors.push(e), void (n.hasErrors = !0);
                        }
                        (t.unknown.hasErrors = !0), t.unknown.lines[0].errors.push(e);
                      });
                    })(l, h),
                      Object.keys(l).forEach(function (t) {
                        var e = l[t];
                        if (e.hasErrors) {
                          var r = [''],
                            i = [''];
                          o(
                            'file number ' + t + ': ' + e.name + '\n',
                            'color:red;text-decoration:underline;font-weight:bold',
                          ),
                            e.lines.forEach(function (t) {
                              if (t.errors.length > 0) {
                                o(
                                  c(t.number, 4) + '|  ',
                                  'background-color:yellow; font-weight:bold',
                                ),
                                  o(
                                    t.line + n,
                                    'color:red; background-color:yellow; font-weight:bold',
                                  );
                                var e = 0;
                                t.errors.forEach(function (r) {
                                  var i = r.message,
                                    a = /^\s*'(.*)'\s*:\s*(.*)$/.exec(i);
                                  if (a) {
                                    var s = a[1];
                                    (i = a[2]),
                                      'assign' === s && (s = '='),
                                      (e = Math.max(t.line.indexOf(s, e), 0));
                                  } else e = 0;
                                  o(c('| ', 6)),
                                    o(c('^^^', e + 3) + n, 'font-weight:bold'),
                                    o(c('| ', 6)),
                                    o(i + n, 'font-weight:bold');
                                }),
                                  o(c('| ', 6) + n);
                              } else o(c(t.number, 4) + '|  '), o(t.line + n, 'color:red');
                            }),
                            'undefined' == typeof document || window.chrome
                              ? console.log(r.join(''))
                              : ((i[0] = r.join('%c')), console.log.apply(console, i));
                        }
                        function o(t, e) {
                          r.push(t), i.push(e || '');
                        }
                      }),
                      i.raise('Error compiling ' + u + ' shader, ' + l[0].name);
                  }
                },
                linkError: function (t, e, r, o, a) {
                  if (!t.getProgramParameter(e, t.LINK_STATUS)) {
                    var s = t.getProgramInfoLog(e),
                      u = g(r, a),
                      c =
                        'Error linking program with vertex shader, "' +
                        g(o, a)[0].name +
                        '", and fragment shader "' +
                        u[0].name +
                        '"';
                    'undefined' != typeof document
                      ? console.log(
                          '%c' + c + '\n%c' + s,
                          'color:red;text-decoration:underline;font-weight:bold',
                          'color:red',
                        )
                      : console.log(c + n + s),
                      i.raise(c);
                  }
                },
                callSite: p,
                saveCommandRef: v,
                saveDrawInfo: function (t, e, n, r) {
                  function i(t) {
                    return t ? r.id(t) : 0;
                  }
                  function o(t, e) {
                    Object.keys(e).forEach(function (e) {
                      t[r.id(e)] = !0;
                    });
                  }
                  v(t), (t._fragId = i(t.static.frag)), (t._vertId = i(t.static.vert));
                  var a = (t._uniformSet = {});
                  o(a, e.static), o(a, e.dynamic);
                  var s = (t._attributeSet = {});
                  o(s, n.static),
                    o(s, n.dynamic),
                    (t._hasCount =
                      'count' in t.static ||
                      'count' in t.dynamic ||
                      'elements' in t.static ||
                      'elements' in t.dynamic);
                },
                framebufferFormat: function (t, e, n) {
                  t.texture
                    ? s(
                        t.texture._texture.internalformat,
                        e,
                        'unsupported texture format for attachment',
                      )
                    : s(
                        t.renderbuffer._renderbuffer.format,
                        n,
                        'unsupported renderbuffer format for attachment',
                      );
                },
                guessCommand: d,
                texture2D: function (t, e, n) {
                  var r,
                    o = e.width,
                    a = e.height,
                    s = e.channels;
                  i(
                    o > 0 && o <= n.maxTextureSize && a > 0 && a <= n.maxTextureSize,
                    'invalid texture shape',
                  ),
                    (t.wrapS === b && t.wrapT === b) ||
                      i(
                        w(o) && w(a),
                        'incompatible wrap mode for texture, both width and height must be power of 2',
                      ),
                    1 === e.mipmask
                      ? 1 !== o &&
                        1 !== a &&
                        i(
                          9984 !== t.minFilter &&
                            9986 !== t.minFilter &&
                            9985 !== t.minFilter &&
                            9987 !== t.minFilter,
                          'min filter requires mipmap',
                        )
                      : (i(
                          w(o) && w(a),
                          'texture must be a square power of 2 to support mipmapping',
                        ),
                        i(e.mipmask === (o << 1) - 1, 'missing or incomplete mipmap data')),
                    5126 === e.type &&
                      (n.extensions.indexOf('oes_texture_float_linear') < 0 &&
                        i(
                          9728 === t.minFilter && 9728 === t.magFilter,
                          'filter not supported, must enable oes_texture_float_linear',
                        ),
                      i(!t.genMipmaps, 'mipmap generation not supported with float textures'));
                  var u = e.images;
                  for (r = 0; r < 16; ++r)
                    if (u[r]) {
                      var c = o >> r,
                        l = a >> r;
                      i(e.mipmask & (1 << r), 'missing mipmap data');
                      var h = u[r];
                      if (
                        (i(h.width === c && h.height === l, 'invalid shape for mip images'),
                        i(
                          h.format === e.format &&
                            h.internalformat === e.internalformat &&
                            h.type === e.type,
                          'incompatible type for mip image',
                        ),
                        h.compressed)
                      );
                      else if (h.data) {
                        var f =
                          Math.ceil((_(h.type, s) * c) / h.unpackAlignment) * h.unpackAlignment;
                        i(
                          h.data.byteLength === f * l,
                          'invalid data for image, buffer size is inconsistent with image format',
                        );
                      } else h.element || h.copy;
                    } else t.genMipmaps || i(0 == (e.mipmask & (1 << r)), 'extra mipmap data');
                  e.compressed &&
                    i(!t.genMipmaps, 'mipmap generation for compressed images not supported');
                },
                textureCube: function (t, e, n, r) {
                  var o = t.width,
                    a = t.height,
                    s = t.channels;
                  i(
                    o > 0 && o <= r.maxTextureSize && a > 0 && a <= r.maxTextureSize,
                    'invalid texture shape',
                  ),
                    i(o === a, 'cube map must be square'),
                    i(e.wrapS === b && e.wrapT === b, 'wrap mode not supported by cube map');
                  for (var u = 0; u < n.length; ++u) {
                    var c = n[u];
                    i(c.width === o && c.height === a, 'inconsistent cube map face shape'),
                      e.genMipmaps &&
                        (i(!c.compressed, 'can not generate mipmap for compressed textures'),
                        i(1 === c.mipmask, 'can not specify mipmaps and generate mipmaps'));
                    for (var l = c.images, h = 0; h < 16; ++h) {
                      var f = l[h];
                      if (f) {
                        var d = o >> h,
                          p = a >> h;
                        i(c.mipmask & (1 << h), 'missing mipmap data'),
                          i(f.width === d && f.height === p, 'invalid shape for mip images'),
                          i(
                            f.format === t.format &&
                              f.internalformat === t.internalformat &&
                              f.type === t.type,
                            'incompatible type for mip image',
                          ),
                          f.compressed ||
                            (f.data
                              ? i(
                                  f.data.byteLength ===
                                    d * p * Math.max(_(f.type, s), f.unpackAlignment),
                                  'invalid data for image, buffer size is inconsistent with image format',
                                )
                              : f.element || f.copy);
                      }
                    }
                  }
                },
              }),
              S = 0;
            function M(t, e) {
              (this.id = S++), (this.type = t), (this.data = e);
            }
            function k(t) {
              return t.replace(/\\/g, '\\\\').replace(/"/g, '\\"');
            }
            function A(t) {
              if (0 === t.length) return [];
              var e = t.charAt(0),
                n = t.charAt(t.length - 1);
              if (t.length > 1 && e === n && ('"' === e || "'" === e))
                return ['"' + k(t.substr(1, t.length - 2)) + '"'];
              var r = /\[(false|true|null|\d+|'[^']*'|"[^"]*")\]/.exec(t);
              if (r)
                return A(t.substr(0, r.index))
                  .concat(A(r[1]))
                  .concat(A(t.substr(r.index + r[0].length)));
              var i = t.split('.');
              if (1 === i.length) return ['"' + k(t) + '"'];
              for (var o = [], a = 0; a < i.length; ++a) o = o.concat(A(i[a]));
              return o;
            }
            function C(t) {
              return '[' + A(t).join('][') + ']';
            }
            var I = {
                DynamicVariable: M,
                define: function (t, e) {
                  return new M(t, C(e + ''));
                },
                isDynamic: function (t) {
                  return ('function' == typeof t && !t._reglType) || t instanceof M;
                },
                unbox: function t(e, n) {
                  return 'function' == typeof e
                    ? new M(0, e)
                    : 'number' == typeof e || 'boolean' == typeof e
                    ? new M(5, e)
                    : Array.isArray(e)
                    ? new M(
                        6,
                        e.map((e, r) => t(e, n + '[' + r + ']')),
                      )
                    : e instanceof M
                    ? e
                    : void E(!1, 'invalid option type in uniform ' + n);
                },
                accessor: C,
              },
              T = {
                next:
                  'function' == typeof requestAnimationFrame
                    ? function (t) {
                        return requestAnimationFrame(t);
                      }
                    : function (t) {
                        return setTimeout(t, 16);
                      },
                cancel:
                  'function' == typeof cancelAnimationFrame
                    ? function (t) {
                        return cancelAnimationFrame(t);
                      }
                    : clearTimeout,
              },
              N =
                'undefined' != typeof performance && performance.now
                  ? function () {
                      return performance.now();
                    }
                  : function () {
                      return +new Date();
                    };
            function P(t) {
              return 'string' == typeof t
                ? t.split()
                : (E(Array.isArray(t), 'invalid extension array'), t);
            }
            function O(t) {
              return 'string' == typeof t
                ? (E('undefined' != typeof document, 'not supported outside of DOM'),
                  document.querySelector(t))
                : t;
            }
            function D(t) {
              var n,
                r,
                i,
                o,
                a,
                s = t || {},
                u = {},
                c = [],
                l = [],
                h = 'undefined' == typeof window ? 1 : window.devicePixelRatio,
                f = !1,
                d = function (t) {
                  t && E.raise(t);
                },
                p = function () {};
              if (
                ('string' == typeof s
                  ? (E(
                      'undefined' != typeof document,
                      'selector queries only supported in DOM enviroments',
                    ),
                    (n = document.querySelector(s)),
                    E(n, 'invalid query string for element'))
                  : 'object' == typeof s
                  ? 'string' == typeof (a = s).nodeName &&
                    'function' == typeof a.appendChild &&
                    'function' == typeof a.getBoundingClientRect
                    ? (n = s)
                    : (function (t) {
                        return (
                          'function' == typeof t.drawArrays || 'function' == typeof t.drawElements
                        );
                      })(s)
                    ? (i = (o = s).canvas)
                    : (E.constructor(s),
                      'gl' in s
                        ? (o = s.gl)
                        : 'canvas' in s
                        ? (i = O(s.canvas))
                        : 'container' in s && (r = O(s.container)),
                      'attributes' in s &&
                        ((u = s.attributes), E.type(u, 'object', 'invalid context attributes')),
                      'extensions' in s && (c = P(s.extensions)),
                      'optionalExtensions' in s && (l = P(s.optionalExtensions)),
                      'onDone' in s &&
                        (E.type(s.onDone, 'function', 'invalid or missing onDone callback'),
                        (d = s.onDone)),
                      'profile' in s && (f = !!s.profile),
                      'pixelRatio' in s && ((h = +s.pixelRatio), E(h > 0, 'invalid pixel ratio')))
                  : E.raise('invalid arguments to regl'),
                n && ('canvas' === n.nodeName.toLowerCase() ? (i = n) : (r = n)),
                !o)
              ) {
                if (!i) {
                  E(
                    'undefined' != typeof document,
                    'must manually specify webgl context outside of DOM environments',
                  );
                  var g = (function (t, n, r) {
                    var i,
                      o = document.createElement('canvas');
                    function a() {
                      var n = window.innerWidth,
                        i = window.innerHeight;
                      if (t !== document.body) {
                        var a = t.getBoundingClientRect();
                        (n = a.right - a.left), (i = a.bottom - a.top);
                      }
                      (o.width = r * n),
                        (o.height = r * i),
                        e(o.style, { width: n + 'px', height: i + 'px' });
                    }
                    return (
                      e(o.style, { border: 0, margin: 0, padding: 0, top: 0, left: 0 }),
                      t.appendChild(o),
                      t === document.body &&
                        ((o.style.position = 'absolute'), e(t.style, { margin: 0, padding: 0 })),
                      t !== document.body && 'function' == typeof ResizeObserver
                        ? (i = new ResizeObserver(function () {
                            setTimeout(a);
                          })).observe(t)
                        : window.addEventListener('resize', a, !1),
                      a(),
                      {
                        canvas: o,
                        onDestroy: function () {
                          i ? i.disconnect() : window.removeEventListener('resize', a),
                            t.removeChild(o);
                        },
                      }
                    );
                  })(r || document.body, 0, h);
                  if (!g) return null;
                  (i = g.canvas), (p = g.onDestroy);
                }
                void 0 === u.premultipliedAlpha && (u.premultipliedAlpha = !0),
                  (o = (function (t, e) {
                    function n(n) {
                      try {
                        return t.getContext(n, e);
                      } catch (t) {
                        return null;
                      }
                    }
                    return n('webgl') || n('experimental-webgl') || n('webgl-experimental');
                  })(i, u));
              }
              return o
                ? {
                    gl: o,
                    canvas: i,
                    container: r,
                    extensions: c,
                    optionalExtensions: l,
                    pixelRatio: h,
                    profile: f,
                    onDone: d,
                    onDestroy: p,
                  }
                : (p(),
                  d(
                    'webgl not supported, try upgrading your browser or graphics drivers http://get.webgl.org',
                  ),
                  null);
            }
            function L(t, e) {
              for (var n = Array(t), r = 0; r < t; ++r) n[r] = e(r);
              return n;
            }
            function R(t) {
              var e, n;
              return (
                (e = (t > 65535) << 4),
                (e |= n = ((t >>>= e) > 255) << 3),
                (e |= n = ((t >>>= n) > 15) << 2),
                (e |= n = ((t >>>= n) > 3) << 1) | ((t >>>= n) >> 1)
              );
            }
            function B() {
              var t = L(8, function () {
                return [];
              });
              function e(e) {
                var n = (function (t) {
                    for (var e = 16; e <= 1 << 28; e *= 16) if (t <= e) return e;
                    return 0;
                  })(e),
                  r = t[R(n) >> 2];
                return r.length > 0 ? r.pop() : new ArrayBuffer(n);
              }
              function n(e) {
                t[R(e.byteLength) >> 2].push(e);
              }
              return {
                alloc: e,
                free: n,
                allocType: function (t, n) {
                  var r = null;
                  switch (t) {
                    case 5120:
                      r = new Int8Array(e(n), 0, n);
                      break;
                    case 5121:
                      r = new Uint8Array(e(n), 0, n);
                      break;
                    case 5122:
                      r = new Int16Array(e(2 * n), 0, n);
                      break;
                    case 5123:
                      r = new Uint16Array(e(2 * n), 0, n);
                      break;
                    case 5124:
                      r = new Int32Array(e(4 * n), 0, n);
                      break;
                    case 5125:
                      r = new Uint32Array(e(4 * n), 0, n);
                      break;
                    case 5126:
                      r = new Float32Array(e(4 * n), 0, n);
                      break;
                    default:
                      return null;
                  }
                  return r.length !== n ? r.subarray(0, n) : r;
                },
                freeType: function (t) {
                  n(t.buffer);
                },
              };
            }
            var j = B();
            j.zero = B();
            var G = 3553,
              z = 6408,
              F = 5126,
              U = 36160;
            function V(e) {
              return (
                !!e &&
                'object' == typeof e &&
                Array.isArray(e.shape) &&
                Array.isArray(e.stride) &&
                'number' == typeof e.offset &&
                e.shape.length === e.stride.length &&
                (Array.isArray(e.data) || t(e.data))
              );
            }
            var W = function (t) {
                return Object.keys(t).map(function (e) {
                  return t[e];
                });
              },
              Y = {
                shape: function (t) {
                  for (var e = [], n = t; n.length; n = n[0]) e.push(n.length);
                  return e;
                },
                flatten: function (t, e, n, r) {
                  var i = 1;
                  if (e.length) for (var o = 0; o < e.length; ++o) i *= e[o];
                  else i = 0;
                  var a = r || j.allocType(n, i);
                  switch (e.length) {
                    case 0:
                      break;
                    case 1:
                      !(function (t, e, n) {
                        for (var r = 0; r < e; ++r) n[r] = t[r];
                      })(t, e[0], a);
                      break;
                    case 2:
                      !(function (t, e, n, r) {
                        for (var i = 0, o = 0; o < e; ++o)
                          for (var a = t[o], s = 0; s < n; ++s) r[i++] = a[s];
                      })(t, e[0], e[1], a);
                      break;
                    case 3:
                      X(t, e[0], e[1], e[2], a, 0);
                      break;
                    default:
                      H(t, e, 0, a, 0);
                  }
                  return a;
                },
              };
            function X(t, e, n, r, i, o) {
              for (var a = o, s = 0; s < e; ++s)
                for (var u = t[s], c = 0; c < n; ++c)
                  for (var l = u[c], h = 0; h < r; ++h) i[a++] = l[h];
            }
            function H(t, e, n, r, i) {
              for (var o = 1, a = n + 1; a < e.length; ++a) o *= e[a];
              var s = e[n];
              if (e.length - n == 4) {
                var u = e[n + 1],
                  c = e[n + 2],
                  l = e[n + 3];
                for (a = 0; a < s; ++a) X(t[a], u, c, l, r, i), (i += o);
              } else for (a = 0; a < s; ++a) H(t[a], e, n + 1, r, i), (i += o);
            }
            var q = {
                '[object Int8Array]': 5120,
                '[object Int16Array]': 5122,
                '[object Int32Array]': 5124,
                '[object Uint8Array]': 5121,
                '[object Uint8ClampedArray]': 5121,
                '[object Uint16Array]': 5123,
                '[object Uint32Array]': 5125,
                '[object Float32Array]': 5126,
                '[object Float64Array]': 5121,
                '[object ArrayBuffer]': 5121,
              },
              K = {
                int8: 5120,
                int16: 5122,
                int32: 5124,
                uint8: 5121,
                uint16: 5123,
                uint32: 5125,
                float: 5126,
                float32: 5126,
              },
              Z = { dynamic: 35048, stream: 35040, static: 35044 },
              $ = Y.flatten,
              Q = Y.shape,
              J = 5121,
              tt = 5126,
              et = [];
            function nt(t) {
              return 0 | q[Object.prototype.toString.call(t)];
            }
            function rt(t, e) {
              for (var n = 0; n < e.length; ++n) t[n] = e[n];
            }
            function it(t, e, n, r, i, o, a) {
              for (var s = 0, u = 0; u < n; ++u)
                for (var c = 0; c < r; ++c) t[s++] = e[i * u + o * c + a];
            }
            (et[5120] = 1),
              (et[5122] = 2),
              (et[5124] = 4),
              (et[5121] = 1),
              (et[5123] = 2),
              (et[5125] = 4),
              (et[5126] = 4);
            var ot = {
                points: 0,
                point: 0,
                lines: 1,
                line: 1,
                triangles: 4,
                triangle: 4,
                'line loop': 2,
                'line strip': 3,
                'triangle strip': 5,
                'triangle fan': 6,
              },
              at = 5121,
              st = 5123,
              ut = 5125,
              ct = 34963;
            var lt = new Float32Array(1),
              ht = new Uint32Array(lt.buffer);
            function ft(t) {
              for (var e = j.allocType(5123, t.length), n = 0; n < t.length; ++n)
                if (isNaN(t[n])) e[n] = 65535;
                else if (t[n] === 1 / 0) e[n] = 31744;
                else if (t[n] === -1 / 0) e[n] = 64512;
                else {
                  lt[0] = t[n];
                  var r = ht[0],
                    i = (r >>> 31) << 15,
                    o = ((r << 1) >>> 24) - 127,
                    a = (r >> 13) & 1023;
                  if (o < -24) e[n] = i;
                  else if (o < -14) {
                    var s = -14 - o;
                    e[n] = i + ((a + 1024) >> s);
                  } else e[n] = o > 15 ? i + 31744 : i + ((o + 15) << 10) + a;
                }
              return e;
            }
            function dt(e) {
              return Array.isArray(e) || t(e);
            }
            var pt = function (t) {
                return !(t & (t - 1) || !t);
              },
              gt = 3553,
              vt = 34067,
              yt = 34069,
              mt = 6408,
              bt = 6406,
              xt = 6407,
              _t = 6409,
              wt = 6410,
              Et = 32855,
              St = 6402,
              Mt = 34041,
              kt = 35904,
              At = 35906,
              Ct = 36193,
              It = 33776,
              Tt = 33777,
              Nt = 33778,
              Pt = 33779,
              Ot = 5121,
              Dt = 5123,
              Lt = 5125,
              Rt = 5126,
              Bt = 33071,
              jt = 9728,
              Gt = 9984,
              zt = 9987,
              Ft = 4352,
              Ut = 33984,
              Vt = [Gt, 9986, 9985, zt],
              Wt = [0, _t, wt, xt, mt],
              Yt = {};
            function Xt(t) {
              return '[object ' + t + ']';
            }
            (Yt[6409] = Yt[6406] = Yt[6402] = 1),
              (Yt[34041] = Yt[6410] = 2),
              (Yt[6407] = Yt[35904] = 3),
              (Yt[6408] = Yt[35906] = 4);
            var Ht = Xt('HTMLCanvasElement'),
              qt = Xt('OffscreenCanvas'),
              Kt = Xt('CanvasRenderingContext2D'),
              Zt = Xt('ImageBitmap'),
              $t = Xt('HTMLImageElement'),
              Qt = Xt('HTMLVideoElement'),
              Jt = Object.keys(q).concat([Ht, qt, Kt, Zt, $t, Qt]),
              te = [];
            (te[5121] = 1), (te[5126] = 4), (te[36193] = 2), (te[5123] = 2), (te[5125] = 4);
            var ee = [];
            function ne(t) {
              return Array.isArray(t) && (0 === t.length || 'number' == typeof t[0]);
            }
            function re(t) {
              return !!Array.isArray(t) && !(0 === t.length || !dt(t[0]));
            }
            function ie(t) {
              return Object.prototype.toString.call(t);
            }
            function oe(t) {
              return ie(t) === Ht;
            }
            function ae(t) {
              return ie(t) === qt;
            }
            function se(t) {
              if (!t) return !1;
              var e = ie(t);
              return Jt.indexOf(e) >= 0 || ne(t) || re(t) || V(t);
            }
            function ue(t) {
              return 0 | q[Object.prototype.toString.call(t)];
            }
            function ce(t, e) {
              return j.allocType(t.type === Ct ? Rt : t.type, e);
            }
            function le(t, e) {
              t.type === Ct ? ((t.data = ft(e)), j.freeType(e)) : (t.data = e);
            }
            function he(t, e, n, r, i, o) {
              var a;
              if (((a = void 0 !== ee[t] ? ee[t] : Yt[t] * te[e]), o && (a *= 6), i)) {
                for (var s = 0, u = n; u >= 1; ) (s += a * u * u), (u /= 2);
                return s;
              }
              return a * n * r;
            }
            function fe(n, r, i, o, a, s, u) {
              var c = { "don't care": Ft, 'dont care': Ft, nice: 4354, fast: 4353 },
                l = { repeat: 10497, clamp: Bt, mirror: 33648 },
                h = { nearest: jt, linear: 9729 },
                f = e(
                  {
                    mipmap: zt,
                    'nearest mipmap nearest': Gt,
                    'linear mipmap nearest': 9985,
                    'nearest mipmap linear': 9986,
                    'linear mipmap linear': zt,
                  },
                  h,
                ),
                d = { none: 0, browser: 37444 },
                p = { uint8: Ot, rgba4: 32819, rgb565: 33635, 'rgb5 a1': 32820 },
                g = {
                  alpha: bt,
                  luminance: _t,
                  'luminance alpha': wt,
                  rgb: xt,
                  rgba: mt,
                  rgba4: 32854,
                  'rgb5 a1': Et,
                  rgb565: 36194,
                },
                v = {};
              r.ext_srgb && ((g.srgb = kt), (g.srgba = At)),
                r.oes_texture_float && (p.float32 = p.float = Rt),
                r.oes_texture_half_float && (p.float16 = p['half float'] = Ct),
                r.webgl_depth_texture &&
                  (e(g, { depth: St, 'depth stencil': Mt }),
                  e(p, { uint16: Dt, uint32: Lt, 'depth stencil': 34042 })),
                r.webgl_compressed_texture_s3tc &&
                  e(v, {
                    'rgb s3tc dxt1': It,
                    'rgba s3tc dxt1': Tt,
                    'rgba s3tc dxt3': Nt,
                    'rgba s3tc dxt5': Pt,
                  }),
                r.webgl_compressed_texture_atc &&
                  e(v, {
                    'rgb atc': 35986,
                    'rgba atc explicit alpha': 35987,
                    'rgba atc interpolated alpha': 34798,
                  }),
                r.webgl_compressed_texture_pvrtc &&
                  e(v, {
                    'rgb pvrtc 4bppv1': 35840,
                    'rgb pvrtc 2bppv1': 35841,
                    'rgba pvrtc 4bppv1': 35842,
                    'rgba pvrtc 2bppv1': 35843,
                  }),
                r.webgl_compressed_texture_etc1 && (v['rgb etc1'] = 36196);
              var y = Array.prototype.slice.call(n.getParameter(34467));
              Object.keys(v).forEach(function (t) {
                var e = v[t];
                y.indexOf(e) >= 0 && (g[t] = e);
              });
              var m = Object.keys(g);
              i.textureFormats = m;
              var b = [];
              Object.keys(g).forEach(function (t) {
                var e = g[t];
                b[e] = t;
              });
              var x = [];
              Object.keys(p).forEach(function (t) {
                var e = p[t];
                x[e] = t;
              });
              var _ = [];
              Object.keys(h).forEach(function (t) {
                _[h[t]] = t;
              });
              var w = [];
              Object.keys(f).forEach(function (t) {
                var e = f[t];
                w[e] = t;
              });
              var S = [];
              Object.keys(l).forEach(function (t) {
                S[l[t]] = t;
              });
              var M = m.reduce(function (t, e) {
                var n = g[e];
                return (
                  n === _t ||
                  n === bt ||
                  n === _t ||
                  n === wt ||
                  n === St ||
                  n === Mt ||
                  (r.ext_srgb && (n === kt || n === At))
                    ? (t[n] = n)
                    : n === Et || e.indexOf('rgba') >= 0
                    ? (t[n] = mt)
                    : (t[n] = xt),
                  t
                );
              }, {});
              function k() {
                (this.internalformat = mt),
                  (this.format = mt),
                  (this.type = Ot),
                  (this.compressed = !1),
                  (this.premultiplyAlpha = !1),
                  (this.flipY = !1),
                  (this.unpackAlignment = 1),
                  (this.colorSpace = 37444),
                  (this.width = 0),
                  (this.height = 0),
                  (this.channels = 0);
              }
              function A(t, e) {
                (t.internalformat = e.internalformat),
                  (t.format = e.format),
                  (t.type = e.type),
                  (t.compressed = e.compressed),
                  (t.premultiplyAlpha = e.premultiplyAlpha),
                  (t.flipY = e.flipY),
                  (t.unpackAlignment = e.unpackAlignment),
                  (t.colorSpace = e.colorSpace),
                  (t.width = e.width),
                  (t.height = e.height),
                  (t.channels = e.channels);
              }
              function C(t, e) {
                if ('object' == typeof e && e) {
                  if (
                    ('premultiplyAlpha' in e &&
                      (E.type(e.premultiplyAlpha, 'boolean', 'invalid premultiplyAlpha'),
                      (t.premultiplyAlpha = e.premultiplyAlpha)),
                    'flipY' in e &&
                      (E.type(e.flipY, 'boolean', 'invalid texture flip'), (t.flipY = e.flipY)),
                    'alignment' in e &&
                      (E.oneOf(e.alignment, [1, 2, 4, 8], 'invalid texture unpack alignment'),
                      (t.unpackAlignment = e.alignment)),
                    'colorSpace' in e &&
                      (E.parameter(e.colorSpace, d, 'invalid colorSpace'),
                      (t.colorSpace = d[e.colorSpace])),
                    'type' in e)
                  ) {
                    var n = e.type;
                    E(
                      r.oes_texture_float || !('float' === n || 'float32' === n),
                      'you must enable the OES_texture_float extension in order to use floating point textures.',
                    ),
                      E(
                        r.oes_texture_half_float || !('half float' === n || 'float16' === n),
                        'you must enable the OES_texture_half_float extension in order to use 16-bit floating point textures.',
                      ),
                      E(
                        r.webgl_depth_texture ||
                          !('uint16' === n || 'uint32' === n || 'depth stencil' === n),
                        'you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures.',
                      ),
                      E.parameter(n, p, 'invalid texture type'),
                      (t.type = p[n]);
                  }
                  var o = t.width,
                    a = t.height,
                    s = t.channels,
                    u = !1;
                  'shape' in e
                    ? (E(Array.isArray(e.shape) && e.shape.length >= 2, 'shape must be an array'),
                      (o = e.shape[0]),
                      (a = e.shape[1]),
                      3 === e.shape.length &&
                        ((s = e.shape[2]),
                        E(s > 0 && s <= 4, 'invalid number of channels'),
                        (u = !0)),
                      E(o >= 0 && o <= i.maxTextureSize, 'invalid width'),
                      E(a >= 0 && a <= i.maxTextureSize, 'invalid height'))
                    : ('radius' in e &&
                        ((o = a = e.radius), E(o >= 0 && o <= i.maxTextureSize, 'invalid radius')),
                      'width' in e &&
                        ((o = e.width), E(o >= 0 && o <= i.maxTextureSize, 'invalid width')),
                      'height' in e &&
                        ((a = e.height), E(a >= 0 && a <= i.maxTextureSize, 'invalid height')),
                      'channels' in e &&
                        ((s = e.channels),
                        E(s > 0 && s <= 4, 'invalid number of channels'),
                        (u = !0))),
                    (t.width = 0 | o),
                    (t.height = 0 | a),
                    (t.channels = 0 | s);
                  var c = !1;
                  if ('format' in e) {
                    var l = e.format;
                    E(
                      r.webgl_depth_texture || !('depth' === l || 'depth stencil' === l),
                      'you must enable the WEBGL_depth_texture extension in order to use depth/stencil textures.',
                    ),
                      E.parameter(l, g, 'invalid texture format');
                    var h = (t.internalformat = g[l]);
                    (t.format = M[h]),
                      l in p && ('type' in e || (t.type = p[l])),
                      l in v && (t.compressed = !0),
                      (c = !0);
                  }
                  !u && c
                    ? (t.channels = Yt[t.format])
                    : u && !c
                    ? t.channels !== Wt[t.format] && (t.format = t.internalformat = Wt[t.channels])
                    : c &&
                      u &&
                      E(
                        t.channels === Yt[t.format],
                        'number of channels inconsistent with specified format',
                      );
                }
              }
              function I(t) {
                n.pixelStorei(37440, t.flipY),
                  n.pixelStorei(37441, t.premultiplyAlpha),
                  n.pixelStorei(37443, t.colorSpace),
                  n.pixelStorei(3317, t.unpackAlignment);
              }
              function T() {
                k.call(this),
                  (this.xOffset = 0),
                  (this.yOffset = 0),
                  (this.data = null),
                  (this.needsFree = !1),
                  (this.element = null),
                  (this.needsCopy = !1);
              }
              function N(e, n) {
                var r = null;
                if (
                  (se(n)
                    ? (r = n)
                    : n &&
                      (E.type(n, 'object', 'invalid pixel data type'),
                      C(e, n),
                      'x' in n && (e.xOffset = 0 | n.x),
                      'y' in n && (e.yOffset = 0 | n.y),
                      se(n.data) && (r = n.data)),
                  E(
                    !e.compressed || r instanceof Uint8Array,
                    'compressed texture data must be stored in a uint8array',
                  ),
                  n.copy)
                ) {
                  E(!r, 'can not specify copy and data field for the same texture');
                  var o = a.viewportWidth,
                    s = a.viewportHeight;
                  (e.width = e.width || o - e.xOffset),
                    (e.height = e.height || s - e.yOffset),
                    (e.needsCopy = !0),
                    E(
                      e.xOffset >= 0 &&
                        e.xOffset < o &&
                        e.yOffset >= 0 &&
                        e.yOffset < s &&
                        e.width > 0 &&
                        e.width <= o &&
                        e.height > 0 &&
                        e.height <= s,
                      'copy texture read out of bounds',
                    );
                } else if (r) {
                  if (t(r))
                    (e.channels = e.channels || 4),
                      (e.data = r),
                      'type' in n || e.type !== Ot || (e.type = ue(r));
                  else if (ne(r))
                    (e.channels = e.channels || 4),
                      (function (t, e) {
                        var n = e.length;
                        switch (t.type) {
                          case Ot:
                          case Dt:
                          case Lt:
                          case Rt:
                            var r = j.allocType(t.type, n);
                            r.set(e), (t.data = r);
                            break;
                          case Ct:
                            t.data = ft(e);
                            break;
                          default:
                            E.raise('unsupported texture type, must specify a typed array');
                        }
                      })(e, r),
                      (e.alignment = 1),
                      (e.needsFree = !0);
                  else if (V(r)) {
                    var u = r.data;
                    Array.isArray(u) || e.type !== Ot || (e.type = ue(u));
                    var c,
                      l,
                      h,
                      f,
                      d,
                      p,
                      g = r.shape,
                      v = r.stride;
                    3 === g.length
                      ? ((h = g[2]), (p = v[2]))
                      : (E(2 === g.length, 'invalid ndarray pixel data, must be 2 or 3D'),
                        (h = 1),
                        (p = 1)),
                      (c = g[0]),
                      (l = g[1]),
                      (f = v[0]),
                      (d = v[1]),
                      (e.alignment = 1),
                      (e.width = c),
                      (e.height = l),
                      (e.channels = h),
                      (e.format = e.internalformat = Wt[h]),
                      (e.needsFree = !0),
                      (function (t, e, n, r, i, o) {
                        for (
                          var a = t.width,
                            s = t.height,
                            u = t.channels,
                            c = ce(t, a * s * u),
                            l = 0,
                            h = 0;
                          h < s;
                          ++h
                        )
                          for (var f = 0; f < a; ++f)
                            for (var d = 0; d < u; ++d) c[l++] = e[n * f + r * h + i * d + o];
                        le(t, c);
                      })(e, u, f, d, p, r.offset);
                  } else if (oe(r) || ae(r) || ie(r) === Kt)
                    oe(r) || ae(r) ? (e.element = r) : (e.element = r.canvas),
                      (e.width = e.element.width),
                      (e.height = e.element.height),
                      (e.channels = 4);
                  else if (
                    (function (t) {
                      return ie(t) === Zt;
                    })(r)
                  )
                    (e.element = r), (e.width = r.width), (e.height = r.height), (e.channels = 4);
                  else if (
                    (function (t) {
                      return ie(t) === $t;
                    })(r)
                  )
                    (e.element = r),
                      (e.width = r.naturalWidth),
                      (e.height = r.naturalHeight),
                      (e.channels = 4);
                  else if (
                    (function (t) {
                      return ie(t) === Qt;
                    })(r)
                  )
                    (e.element = r),
                      (e.width = r.videoWidth),
                      (e.height = r.videoHeight),
                      (e.channels = 4);
                  else if (re(r)) {
                    var y = e.width || r[0].length,
                      m = e.height || r.length,
                      b = e.channels;
                    b = dt(r[0][0]) ? b || r[0][0].length : b || 1;
                    for (var x = Y.shape(r), _ = 1, w = 0; w < x.length; ++w) _ *= x[w];
                    var S = ce(e, _);
                    Y.flatten(r, x, '', S),
                      le(e, S),
                      (e.alignment = 1),
                      (e.width = y),
                      (e.height = m),
                      (e.channels = b),
                      (e.format = e.internalformat = Wt[b]),
                      (e.needsFree = !0);
                  }
                } else
                  (e.width = e.width || 1),
                    (e.height = e.height || 1),
                    (e.channels = e.channels || 4);
                e.type === Rt
                  ? E(
                      i.extensions.indexOf('oes_texture_float') >= 0,
                      'oes_texture_float extension not enabled',
                    )
                  : e.type === Ct &&
                    E(
                      i.extensions.indexOf('oes_texture_half_float') >= 0,
                      'oes_texture_half_float extension not enabled',
                    );
              }
              function P(t, e, r) {
                var i = t.element,
                  a = t.data,
                  s = t.internalformat,
                  u = t.format,
                  c = t.type,
                  l = t.width,
                  h = t.height;
                I(t),
                  i
                    ? n.texImage2D(e, r, u, u, c, i)
                    : t.compressed
                    ? n.compressedTexImage2D(e, r, s, l, h, 0, a)
                    : t.needsCopy
                    ? (o(), n.copyTexImage2D(e, r, u, t.xOffset, t.yOffset, l, h, 0))
                    : n.texImage2D(e, r, u, l, h, 0, u, c, a || null);
              }
              function O(t, e, r, i, a) {
                var s = t.element,
                  u = t.data,
                  c = t.internalformat,
                  l = t.format,
                  h = t.type,
                  f = t.width,
                  d = t.height;
                I(t),
                  s
                    ? n.texSubImage2D(e, a, r, i, l, h, s)
                    : t.compressed
                    ? n.compressedTexSubImage2D(e, a, r, i, c, f, d, u)
                    : t.needsCopy
                    ? (o(), n.copyTexSubImage2D(e, a, r, i, t.xOffset, t.yOffset, f, d))
                    : n.texSubImage2D(e, a, r, i, f, d, l, h, u);
              }
              var D = [];
              function L() {
                return D.pop() || new T();
              }
              function R(t) {
                t.needsFree && j.freeType(t.data), T.call(t), D.push(t);
              }
              function B() {
                k.call(this),
                  (this.genMipmaps = !1),
                  (this.mipmapHint = Ft),
                  (this.mipmask = 0),
                  (this.images = Array(16));
              }
              function G(t, e, n) {
                var r = (t.images[0] = L());
                (t.mipmask = 1),
                  (r.width = t.width = e),
                  (r.height = t.height = n),
                  (r.channels = t.channels = 4);
              }
              function z(t, e) {
                var n = null;
                if (se(e)) A((n = t.images[0] = L()), t), N(n, e), (t.mipmask = 1);
                else if ((C(t, e), Array.isArray(e.mipmap)))
                  for (var r = e.mipmap, i = 0; i < r.length; ++i)
                    A((n = t.images[i] = L()), t),
                      (n.width >>= i),
                      (n.height >>= i),
                      N(n, r[i]),
                      (t.mipmask |= 1 << i);
                else A((n = t.images[0] = L()), t), N(n, e), (t.mipmask = 1);
                A(t, t.images[0]),
                  !t.compressed ||
                    (t.internalformat !== It &&
                      t.internalformat !== Tt &&
                      t.internalformat !== Nt &&
                      t.internalformat !== Pt) ||
                    E(
                      t.width % 4 == 0 && t.height % 4 == 0,
                      'for compressed texture formats, mipmap level 0 must have width and height that are a multiple of 4',
                    );
              }
              function F(t, e) {
                for (var n = t.images, r = 0; r < n.length; ++r) {
                  if (!n[r]) return;
                  P(n[r], e, r);
                }
              }
              var U = [];
              function X() {
                var t = U.pop() || new B();
                k.call(t), (t.mipmask = 0);
                for (var e = 0; e < 16; ++e) t.images[e] = null;
                return t;
              }
              function H(t) {
                for (var e = t.images, n = 0; n < e.length; ++n) e[n] && R(e[n]), (e[n] = null);
                U.push(t);
              }
              function q() {
                (this.minFilter = jt),
                  (this.magFilter = jt),
                  (this.wrapS = Bt),
                  (this.wrapT = Bt),
                  (this.anisotropic = 1),
                  (this.genMipmaps = !1),
                  (this.mipmapHint = Ft);
              }
              function K(t, e) {
                if ('min' in e) {
                  var n = e.min;
                  E.parameter(n, f),
                    (t.minFilter = f[n]),
                    Vt.indexOf(t.minFilter) >= 0 && !('faces' in e) && (t.genMipmaps = !0);
                }
                if ('mag' in e) {
                  var r = e.mag;
                  E.parameter(r, h), (t.magFilter = h[r]);
                }
                var o = t.wrapS,
                  a = t.wrapT;
                if ('wrap' in e) {
                  var s = e.wrap;
                  'string' == typeof s
                    ? (E.parameter(s, l), (o = a = l[s]))
                    : Array.isArray(s) &&
                      (E.parameter(s[0], l), E.parameter(s[1], l), (o = l[s[0]]), (a = l[s[1]]));
                } else {
                  if ('wrapS' in e) {
                    var u = e.wrapS;
                    E.parameter(u, l), (o = l[u]);
                  }
                  if ('wrapT' in e) {
                    var d = e.wrapT;
                    E.parameter(d, l), (a = l[d]);
                  }
                }
                if (((t.wrapS = o), (t.wrapT = a), 'anisotropic' in e)) {
                  var p = e.anisotropic;
                  E(
                    'number' == typeof p && p >= 1 && p <= i.maxAnisotropic,
                    'aniso samples must be between 1 and ',
                  ),
                    (t.anisotropic = e.anisotropic);
                }
                if ('mipmap' in e) {
                  var g = !1;
                  switch (typeof e.mipmap) {
                    case 'string':
                      E.parameter(e.mipmap, c, 'invalid mipmap hint'),
                        (t.mipmapHint = c[e.mipmap]),
                        (t.genMipmaps = !0),
                        (g = !0);
                      break;
                    case 'boolean':
                      g = t.genMipmaps = e.mipmap;
                      break;
                    case 'object':
                      E(Array.isArray(e.mipmap), 'invalid mipmap type'),
                        (t.genMipmaps = !1),
                        (g = !0);
                      break;
                    default:
                      E.raise('invalid mipmap type');
                  }
                  g && !('min' in e) && (t.minFilter = Gt);
                }
              }
              function Z(t, e) {
                n.texParameteri(e, 10241, t.minFilter),
                  n.texParameteri(e, 10240, t.magFilter),
                  n.texParameteri(e, 10242, t.wrapS),
                  n.texParameteri(e, 10243, t.wrapT),
                  r.ext_texture_filter_anisotropic && n.texParameteri(e, 34046, t.anisotropic),
                  t.genMipmaps && (n.hint(33170, t.mipmapHint), n.generateMipmap(e));
              }
              var $ = 0,
                Q = {},
                J = i.maxTextureUnits,
                tt = Array(J).map(function () {
                  return null;
                });
              function et(t) {
                k.call(this),
                  (this.mipmask = 0),
                  (this.internalformat = mt),
                  (this.id = $++),
                  (this.refCount = 1),
                  (this.target = t),
                  (this.texture = n.createTexture()),
                  (this.unit = -1),
                  (this.bindCount = 0),
                  (this.texInfo = new q()),
                  u.profile && (this.stats = { size: 0 });
              }
              function nt(t) {
                n.activeTexture(Ut), n.bindTexture(t.target, t.texture);
              }
              function rt() {
                var t = tt[0];
                t ? n.bindTexture(t.target, t.texture) : n.bindTexture(gt, null);
              }
              function it(t) {
                var e = t.texture;
                E(e, 'must not double destroy texture');
                var r = t.unit,
                  i = t.target;
                r >= 0 && (n.activeTexture(Ut + r), n.bindTexture(i, null), (tt[r] = null)),
                  n.deleteTexture(e),
                  (t.texture = null),
                  (t.params = null),
                  (t.pixels = null),
                  (t.refCount = 0),
                  delete Q[t.id],
                  s.textureCount--;
              }
              return (
                e(et.prototype, {
                  bind: function () {
                    var t = this;
                    t.bindCount += 1;
                    var e = t.unit;
                    if (e < 0) {
                      for (var r = 0; r < J; ++r) {
                        var i = tt[r];
                        if (i) {
                          if (i.bindCount > 0) continue;
                          i.unit = -1;
                        }
                        (tt[r] = t), (e = r);
                        break;
                      }
                      e >= J && E.raise('insufficient number of texture units'),
                        u.profile && s.maxTextureUnits < e + 1 && (s.maxTextureUnits = e + 1),
                        (t.unit = e),
                        n.activeTexture(Ut + e),
                        n.bindTexture(t.target, t.texture);
                    }
                    return e;
                  },
                  unbind: function () {
                    this.bindCount -= 1;
                  },
                  decRef: function () {
                    --this.refCount <= 0 && it(this);
                  },
                }),
                u.profile &&
                  (s.getTotalTextureSize = function () {
                    var t = 0;
                    return (
                      Object.keys(Q).forEach(function (e) {
                        t += Q[e].stats.size;
                      }),
                      t
                    );
                  }),
                {
                  create2D: function (t, e) {
                    var r = new et(gt);
                    function o(t, e) {
                      var n = r.texInfo;
                      q.call(n);
                      var a = X();
                      return (
                        'number' == typeof t
                          ? G(a, 0 | t, 'number' == typeof e ? 0 | e : 0 | t)
                          : t
                          ? (E.type(t, 'object', 'invalid arguments to regl.texture'),
                            K(n, t),
                            z(a, t))
                          : G(a, 1, 1),
                        n.genMipmaps && (a.mipmask = (a.width << 1) - 1),
                        (r.mipmask = a.mipmask),
                        A(r, a),
                        E.texture2D(n, a, i),
                        (r.internalformat = a.internalformat),
                        (o.width = a.width),
                        (o.height = a.height),
                        nt(r),
                        F(a, gt),
                        Z(n, gt),
                        rt(),
                        H(a),
                        u.profile &&
                          (r.stats.size = he(
                            r.internalformat,
                            r.type,
                            a.width,
                            a.height,
                            n.genMipmaps,
                            !1,
                          )),
                        (o.format = b[r.internalformat]),
                        (o.type = x[r.type]),
                        (o.mag = _[n.magFilter]),
                        (o.min = w[n.minFilter]),
                        (o.wrapS = S[n.wrapS]),
                        (o.wrapT = S[n.wrapT]),
                        o
                      );
                    }
                    return (
                      (Q[r.id] = r),
                      s.textureCount++,
                      o(t, e),
                      (o.subimage = function (t, e, n, i) {
                        E(!!t, 'must specify image data');
                        var a = 0 | e,
                          s = 0 | n,
                          u = 0 | i,
                          c = L();
                        return (
                          A(c, r),
                          (c.width = 0),
                          (c.height = 0),
                          N(c, t),
                          (c.width = c.width || (r.width >> u) - a),
                          (c.height = c.height || (r.height >> u) - s),
                          E(
                            r.type === c.type &&
                              r.format === c.format &&
                              r.internalformat === c.internalformat,
                            'incompatible format for texture.subimage',
                          ),
                          E(
                            a >= 0 && s >= 0 && a + c.width <= r.width && s + c.height <= r.height,
                            'texture.subimage write out of bounds',
                          ),
                          E(r.mipmask & (1 << u), 'missing mipmap data'),
                          E(c.data || c.element || c.needsCopy, 'missing image data'),
                          nt(r),
                          O(c, gt, a, s, u),
                          rt(),
                          R(c),
                          o
                        );
                      }),
                      (o.resize = function (t, e) {
                        var i = 0 | t,
                          a = 0 | e || i;
                        if (i === r.width && a === r.height) return o;
                        (o.width = r.width = i), (o.height = r.height = a), nt(r);
                        for (var s = 0; r.mipmask >> s; ++s) {
                          var c = i >> s,
                            l = a >> s;
                          if (!c || !l) break;
                          n.texImage2D(gt, s, r.format, c, l, 0, r.format, r.type, null);
                        }
                        return (
                          rt(),
                          u.profile && (r.stats.size = he(r.internalformat, r.type, i, a, !1, !1)),
                          o
                        );
                      }),
                      (o._reglType = 'texture2d'),
                      (o._texture = r),
                      u.profile && (o.stats = r.stats),
                      (o.destroy = function () {
                        r.decRef();
                      }),
                      o
                    );
                  },
                  createCube: function (t, e, r, o, a, c) {
                    var l = new et(vt);
                    (Q[l.id] = l), s.cubeCount++;
                    var h = new Array(6);
                    function f(t, e, n, r, o, a) {
                      var s,
                        c = l.texInfo;
                      for (q.call(c), s = 0; s < 6; ++s) h[s] = X();
                      if ('number' != typeof t && t)
                        if ('object' == typeof t)
                          if (e)
                            z(h[0], t), z(h[1], e), z(h[2], n), z(h[3], r), z(h[4], o), z(h[5], a);
                          else if ((K(c, t), C(l, t), 'faces' in t)) {
                            var d = t.faces;
                            for (
                              E(
                                Array.isArray(d) && 6 === d.length,
                                'cube faces must be a length 6 array',
                              ),
                                s = 0;
                              s < 6;
                              ++s
                            )
                              E(
                                'object' == typeof d[s] && !!d[s],
                                'invalid input for cube map face',
                              ),
                                A(h[s], l),
                                z(h[s], d[s]);
                          } else for (s = 0; s < 6; ++s) z(h[s], t);
                        else E.raise('invalid arguments to cube map');
                      else {
                        var p = 0 | t || 1;
                        for (s = 0; s < 6; ++s) G(h[s], p, p);
                      }
                      for (
                        A(l, h[0]),
                          i.npotTextureCube ||
                            E(
                              pt(l.width) && pt(l.height),
                              'your browser does not support non power or two texture dimensions',
                            ),
                          c.genMipmaps
                            ? (l.mipmask = (h[0].width << 1) - 1)
                            : (l.mipmask = h[0].mipmask),
                          E.textureCube(l, c, h, i),
                          l.internalformat = h[0].internalformat,
                          f.width = h[0].width,
                          f.height = h[0].height,
                          nt(l),
                          s = 0;
                        s < 6;
                        ++s
                      )
                        F(h[s], yt + s);
                      for (
                        Z(c, vt),
                          rt(),
                          u.profile &&
                            (l.stats.size = he(
                              l.internalformat,
                              l.type,
                              f.width,
                              f.height,
                              c.genMipmaps,
                              !0,
                            )),
                          f.format = b[l.internalformat],
                          f.type = x[l.type],
                          f.mag = _[c.magFilter],
                          f.min = w[c.minFilter],
                          f.wrapS = S[c.wrapS],
                          f.wrapT = S[c.wrapT],
                          s = 0;
                        s < 6;
                        ++s
                      )
                        H(h[s]);
                      return f;
                    }
                    return (
                      f(t, e, r, o, a, c),
                      (f.subimage = function (t, e, n, r, i) {
                        E(!!e, 'must specify image data'),
                          E(
                            'number' == typeof t && t === (0 | t) && t >= 0 && t < 6,
                            'invalid face',
                          );
                        var o = 0 | n,
                          a = 0 | r,
                          s = 0 | i,
                          u = L();
                        return (
                          A(u, l),
                          (u.width = 0),
                          (u.height = 0),
                          N(u, e),
                          (u.width = u.width || (l.width >> s) - o),
                          (u.height = u.height || (l.height >> s) - a),
                          E(
                            l.type === u.type &&
                              l.format === u.format &&
                              l.internalformat === u.internalformat,
                            'incompatible format for texture.subimage',
                          ),
                          E(
                            o >= 0 && a >= 0 && o + u.width <= l.width && a + u.height <= l.height,
                            'texture.subimage write out of bounds',
                          ),
                          E(l.mipmask & (1 << s), 'missing mipmap data'),
                          E(u.data || u.element || u.needsCopy, 'missing image data'),
                          nt(l),
                          O(u, yt + t, o, a, s),
                          rt(),
                          R(u),
                          f
                        );
                      }),
                      (f.resize = function (t) {
                        var e = 0 | t;
                        if (e !== l.width) {
                          (f.width = l.width = e), (f.height = l.height = e), nt(l);
                          for (var r = 0; r < 6; ++r)
                            for (var i = 0; l.mipmask >> i; ++i)
                              n.texImage2D(
                                yt + r,
                                i,
                                l.format,
                                e >> i,
                                e >> i,
                                0,
                                l.format,
                                l.type,
                                null,
                              );
                          return (
                            rt(),
                            u.profile &&
                              (l.stats.size = he(
                                l.internalformat,
                                l.type,
                                f.width,
                                f.height,
                                !1,
                                !0,
                              )),
                            f
                          );
                        }
                      }),
                      (f._reglType = 'textureCube'),
                      (f._texture = l),
                      u.profile && (f.stats = l.stats),
                      (f.destroy = function () {
                        l.decRef();
                      }),
                      f
                    );
                  },
                  clear: function () {
                    for (var t = 0; t < J; ++t)
                      n.activeTexture(Ut + t), n.bindTexture(gt, null), (tt[t] = null);
                    W(Q).forEach(it), (s.cubeCount = 0), (s.textureCount = 0);
                  },
                  getTexture: function (t) {
                    return null;
                  },
                  restore: function () {
                    for (var t = 0; t < J; ++t) {
                      var e = tt[t];
                      e && ((e.bindCount = 0), (e.unit = -1), (tt[t] = null));
                    }
                    W(Q).forEach(function (t) {
                      (t.texture = n.createTexture()), n.bindTexture(t.target, t.texture);
                      for (var e = 0; e < 32; ++e)
                        if (0 != (t.mipmask & (1 << e)))
                          if (t.target === gt)
                            n.texImage2D(
                              gt,
                              e,
                              t.internalformat,
                              t.width >> e,
                              t.height >> e,
                              0,
                              t.internalformat,
                              t.type,
                              null,
                            );
                          else
                            for (var r = 0; r < 6; ++r)
                              n.texImage2D(
                                yt + r,
                                e,
                                t.internalformat,
                                t.width >> e,
                                t.height >> e,
                                0,
                                t.internalformat,
                                t.type,
                                null,
                              );
                      Z(t.texInfo, t.target);
                    });
                  },
                  refresh: function () {
                    for (var t = 0; t < J; ++t) {
                      var e = tt[t];
                      e && ((e.bindCount = 0), (e.unit = -1), (tt[t] = null)),
                        n.activeTexture(Ut + t),
                        n.bindTexture(gt, null),
                        n.bindTexture(vt, null);
                    }
                  },
                }
              );
            }
            (ee[32854] = 2),
              (ee[32855] = 2),
              (ee[36194] = 2),
              (ee[34041] = 4),
              (ee[33776] = 0.5),
              (ee[33777] = 0.5),
              (ee[33778] = 1),
              (ee[33779] = 1),
              (ee[35986] = 0.5),
              (ee[35987] = 1),
              (ee[34798] = 1),
              (ee[35840] = 0.5),
              (ee[35841] = 0.25),
              (ee[35842] = 0.5),
              (ee[35843] = 0.25),
              (ee[36196] = 0.5);
            var de = 36161,
              pe = 32854,
              ge = [];
            function ve(t, e, n) {
              return ge[t] * e * n;
            }
            (ge[32854] = 2),
              (ge[32855] = 2),
              (ge[36194] = 2),
              (ge[33189] = 2),
              (ge[36168] = 1),
              (ge[34041] = 4),
              (ge[35907] = 4),
              (ge[34836] = 16),
              (ge[34842] = 8),
              (ge[34843] = 6);
            var ye = 36160,
              me = 36161,
              be = 3553,
              xe = 34069,
              _e = [6407, 6408],
              we = [];
            (we[6408] = 4), (we[6407] = 3);
            var Ee = [];
            (Ee[5121] = 1), (Ee[5126] = 4), (Ee[36193] = 2);
            var Se = [32854, 32855, 36194, 35907, 34842, 34843, 34836],
              Me = {};
            (Me[36053] = 'complete'),
              (Me[36054] = 'incomplete attachment'),
              (Me[36057] = 'incomplete dimensions'),
              (Me[36055] = 'incomplete, missing attachment'),
              (Me[36061] = 'unsupported');
            function ke() {
              (this.state = 0),
                (this.x = 0),
                (this.y = 0),
                (this.z = 0),
                (this.w = 0),
                (this.buffer = null),
                (this.size = 0),
                (this.normalized = !1),
                (this.type = 5126),
                (this.offset = 0),
                (this.stride = 0),
                (this.divisor = 0);
            }
            var Ae = 5121,
              Ce = 5126;
            function Ie(e, n, r, i, o, a, s) {
              function u(u) {
                var c;
                null === n.next
                  ? (E(
                      o.preserveDrawingBuffer,
                      'you must create a webgl context with "preserveDrawingBuffer":true in order to read pixels from the drawing buffer',
                    ),
                    (c = Ae))
                  : (E(
                      null !== n.next.colorAttachments[0].texture,
                      'You cannot read from a renderbuffer',
                    ),
                    (c = n.next.colorAttachments[0].texture._texture.type),
                    a.oes_texture_float
                      ? (E(
                          c === Ae || c === Ce,
                          "Reading from a framebuffer is only allowed for the types 'uint8' and 'float'",
                        ),
                        c === Ce &&
                          E(
                            s.readFloat,
                            "Reading 'float' values is not permitted in your browser. For a fallback, please see: https://www.npmjs.com/package/glsl-read-float",
                          ))
                      : E(
                          c === Ae,
                          "Reading from a framebuffer is only allowed for the type 'uint8'",
                        ));
                var l = 0,
                  h = 0,
                  f = i.framebufferWidth,
                  d = i.framebufferHeight,
                  p = null;
                t(u)
                  ? (p = u)
                  : u &&
                    (E.type(u, 'object', 'invalid arguments to regl.read()'),
                    (l = 0 | u.x),
                    (h = 0 | u.y),
                    E(l >= 0 && l < i.framebufferWidth, 'invalid x offset for regl.read'),
                    E(h >= 0 && h < i.framebufferHeight, 'invalid y offset for regl.read'),
                    (f = 0 | (u.width || i.framebufferWidth - l)),
                    (d = 0 | (u.height || i.framebufferHeight - h)),
                    (p = u.data || null)),
                  p &&
                    (c === Ae
                      ? E(
                          p instanceof Uint8Array,
                          "buffer must be 'Uint8Array' when reading from a framebuffer of type 'uint8'",
                        )
                      : c === Ce &&
                        E(
                          p instanceof Float32Array,
                          "buffer must be 'Float32Array' when reading from a framebuffer of type 'float'",
                        )),
                  E(f > 0 && f + l <= i.framebufferWidth, 'invalid width for read pixels'),
                  E(d > 0 && d + h <= i.framebufferHeight, 'invalid height for read pixels'),
                  r();
                var g = f * d * 4;
                return (
                  p ||
                    (c === Ae
                      ? (p = new Uint8Array(g))
                      : c === Ce && (p = p || new Float32Array(g))),
                  E.isTypedArray(p, 'data buffer for regl.read() must be a typedarray'),
                  E(p.byteLength >= g, 'data buffer for regl.read() too small'),
                  e.pixelStorei(3333, 4),
                  e.readPixels(l, h, f, d, 6408, c, p),
                  p
                );
              }
              return function (t) {
                return t && 'framebuffer' in t
                  ? (function (t) {
                      var e;
                      return (
                        n.setFBO({ framebuffer: t.framebuffer }, function () {
                          e = u(t);
                        }),
                        e
                      );
                    })(t)
                  : u(t);
              };
            }
            function Te(t) {
              return Array.prototype.slice.call(t);
            }
            function Ne(t) {
              return Te(t).join('');
            }
            var Pe = 'xyzw'.split(''),
              Oe = 'dither',
              De = 'blend.enable',
              Le = 'blend.color',
              Re = 'blend.equation',
              Be = 'blend.func',
              je = 'depth.enable',
              Ge = 'depth.func',
              ze = 'depth.range',
              Fe = 'depth.mask',
              Ue = 'colorMask',
              Ve = 'cull.enable',
              We = 'cull.face',
              Ye = 'frontFace',
              Xe = 'lineWidth',
              He = 'polygonOffset.enable',
              qe = 'polygonOffset.offset',
              Ke = 'sample.alpha',
              Ze = 'sample.enable',
              $e = 'sample.coverage',
              Qe = 'stencil.enable',
              Je = 'stencil.mask',
              tn = 'stencil.func',
              en = 'stencil.opFront',
              nn = 'stencil.opBack',
              rn = 'scissor.enable',
              on = 'scissor.box',
              an = 'viewport',
              sn = 'profile',
              un = 'framebuffer',
              cn = 'vert',
              ln = 'frag',
              hn = 'elements',
              fn = 'primitive',
              dn = 'count',
              pn = 'offset',
              gn = 'instances',
              vn = 'vao',
              yn = 'Width',
              mn = 'Height',
              bn = un + yn,
              xn = un + mn,
              _n = 'drawingBufferWidth',
              wn = 'drawingBufferHeight',
              En = [Be, Re, tn, en, nn, $e, an, on, qe],
              Sn = 34962,
              Mn = 5126,
              kn = 35664,
              An = 35665,
              Cn = 35666,
              In = 5124,
              Tn = 35667,
              Nn = 35668,
              Pn = 35669,
              On = 35670,
              Dn = 35671,
              Ln = 35672,
              Rn = 35673,
              Bn = 35674,
              jn = 35675,
              Gn = 35676,
              zn = 35678,
              Fn = 35680,
              Un = 1028,
              Vn = 1029,
              Wn = 2305,
              Yn = 7680,
              Xn = {
                0: 0,
                1: 1,
                zero: 0,
                one: 1,
                'src color': 768,
                'one minus src color': 769,
                'src alpha': 770,
                'one minus src alpha': 771,
                'dst color': 774,
                'one minus dst color': 775,
                'dst alpha': 772,
                'one minus dst alpha': 773,
                'constant color': 32769,
                'one minus constant color': 32770,
                'constant alpha': 32771,
                'one minus constant alpha': 32772,
                'src alpha saturate': 776,
              },
              Hn = [
                'constant color, constant alpha',
                'one minus constant color, constant alpha',
                'constant color, one minus constant alpha',
                'one minus constant color, one minus constant alpha',
                'constant alpha, constant color',
                'constant alpha, one minus constant color',
                'one minus constant alpha, constant color',
                'one minus constant alpha, one minus constant color',
              ],
              qn = {
                never: 512,
                less: 513,
                '<': 513,
                equal: 514,
                '=': 514,
                '==': 514,
                '===': 514,
                lequal: 515,
                '<=': 515,
                greater: 516,
                '>': 516,
                notequal: 517,
                '!=': 517,
                '!==': 517,
                gequal: 518,
                '>=': 518,
                always: 519,
              },
              Kn = {
                0: 0,
                zero: 0,
                keep: 7680,
                replace: 7681,
                increment: 7682,
                decrement: 7683,
                'increment wrap': 34055,
                'decrement wrap': 34056,
                invert: 5386,
              },
              Zn = { frag: 35632, vert: 35633 },
              $n = { cw: 2304, ccw: Wn };
            function Qn(e) {
              return Array.isArray(e) || t(e) || V(e);
            }
            function Jn(t) {
              return t.sort(function (t, e) {
                return t === an ? -1 : e === an ? 1 : t < e ? -1 : 1;
              });
            }
            function tr(t, e, n, r) {
              (this.thisDep = t), (this.contextDep = e), (this.propDep = n), (this.append = r);
            }
            function er(t) {
              return t && !(t.thisDep || t.contextDep || t.propDep);
            }
            function nr(t) {
              return new tr(!1, !1, !1, t);
            }
            function rr(t, e) {
              var n = t.type;
              if (0 === n) {
                var r = t.data.length;
                return new tr(!0, r >= 1, r >= 2, e);
              }
              if (4 === n) {
                var i = t.data;
                return new tr(i.thisDep, i.contextDep, i.propDep, e);
              }
              if (5 === n) return new tr(!1, !1, !1, e);
              if (6 === n) {
                for (var o = !1, a = !1, s = !1, u = 0; u < t.data.length; ++u) {
                  var c = t.data[u];
                  if (1 === c.type) s = !0;
                  else if (2 === c.type) a = !0;
                  else if (3 === c.type) o = !0;
                  else if (0 === c.type) {
                    o = !0;
                    var l = c.data;
                    l >= 1 && (a = !0), l >= 2 && (s = !0);
                  } else
                    4 === c.type &&
                      ((o = o || c.data.thisDep),
                      (a = a || c.data.contextDep),
                      (s = s || c.data.propDep));
                }
                return new tr(o, a, s, e);
              }
              return new tr(3 === n, 2 === n, 1 === n, e);
            }
            var ir = new tr(!1, !1, !1, function () {});
            function or(t, n, r, i, o, a, s, u, c, l, h, f, d, p, g) {
              var v = l.Record,
                y = { add: 32774, subtract: 32778, 'reverse subtract': 32779 };
              r.ext_blend_minmax && ((y.min = 32775), (y.max = 32776));
              var m = r.angle_instanced_arrays,
                b = r.webgl_draw_buffers,
                x = { dirty: !0, profile: g.profile },
                _ = {},
                w = [],
                S = {},
                M = {};
              function k(t) {
                return t.replace('.', '_');
              }
              function A(t, e, n) {
                var r = k(t);
                w.push(t), (_[r] = x[r] = !!n), (S[r] = e);
              }
              function C(t, e, n) {
                var r = k(t);
                w.push(t),
                  Array.isArray(n) ? ((x[r] = n.slice()), (_[r] = n.slice())) : (x[r] = _[r] = n),
                  (M[r] = e);
              }
              A(Oe, 3024),
                A(De, 3042),
                C(Le, 'blendColor', [0, 0, 0, 0]),
                C(Re, 'blendEquationSeparate', [32774, 32774]),
                C(Be, 'blendFuncSeparate', [1, 0, 1, 0]),
                A(je, 2929, !0),
                C(Ge, 'depthFunc', 513),
                C(ze, 'depthRange', [0, 1]),
                C(Fe, 'depthMask', !0),
                C(Ue, Ue, [!0, !0, !0, !0]),
                A(Ve, 2884),
                C(We, 'cullFace', Vn),
                C(Ye, Ye, Wn),
                C(Xe, Xe, 1),
                A(He, 32823),
                C(qe, 'polygonOffset', [0, 0]),
                A(Ke, 32926),
                A(Ze, 32928),
                C($e, 'sampleCoverage', [1, !1]),
                A(Qe, 2960),
                C(Je, 'stencilMask', -1),
                C(tn, 'stencilFunc', [519, 0, -1]),
                C(en, 'stencilOpSeparate', [Un, Yn, Yn, Yn]),
                C(nn, 'stencilOpSeparate', [Vn, Yn, Yn, Yn]),
                A(rn, 3089),
                C(on, 'scissor', [0, 0, t.drawingBufferWidth, t.drawingBufferHeight]),
                C(an, an, [0, 0, t.drawingBufferWidth, t.drawingBufferHeight]);
              var T = {
                  gl: t,
                  context: d,
                  strings: n,
                  next: _,
                  current: x,
                  draw: f,
                  elements: a,
                  buffer: o,
                  shader: h,
                  attributes: l.state,
                  vao: l,
                  uniforms: c,
                  framebuffer: u,
                  extensions: r,
                  timer: p,
                  isBufferArgs: Qn,
                },
                N = {
                  primTypes: ot,
                  compareFuncs: qn,
                  blendFuncs: Xn,
                  blendEquations: y,
                  stencilOps: Kn,
                  glTypes: K,
                  orientationType: $n,
                };
              E.optional(function () {
                T.isArrayLike = dt;
              }),
                b &&
                  ((N.backBuffer = [Vn]),
                  (N.drawBuffer = L(i.maxDrawbuffers, function (t) {
                    return 0 === t
                      ? [0]
                      : L(t, function (t) {
                          return 36064 + t;
                        });
                  })));
              var P = 0;
              function O() {
                var t = (function () {
                    var t = 0,
                      n = [],
                      r = [];
                    function i() {
                      var n = [],
                        r = [];
                      return e(
                        function () {
                          n.push.apply(n, Te(arguments));
                        },
                        {
                          def: function () {
                            var e = 'v' + t++;
                            return (
                              r.push(e),
                              arguments.length > 0 &&
                                (n.push(e, '='), n.push.apply(n, Te(arguments)), n.push(';')),
                              e
                            );
                          },
                          toString: function () {
                            return Ne([r.length > 0 ? 'var ' + r.join(',') + ';' : '', Ne(n)]);
                          },
                        },
                      );
                    }
                    function o() {
                      var t = i(),
                        n = i(),
                        r = t.toString,
                        o = n.toString;
                      function a(e, r) {
                        n(e, r, '=', t.def(e, r), ';');
                      }
                      return e(
                        function () {
                          t.apply(t, Te(arguments));
                        },
                        {
                          def: t.def,
                          entry: t,
                          exit: n,
                          save: a,
                          set: function (e, n, r) {
                            a(e, n), t(e, n, '=', r, ';');
                          },
                          toString: function () {
                            return r() + o();
                          },
                        },
                      );
                    }
                    var a = i(),
                      s = {};
                    return {
                      global: a,
                      link: function (e) {
                        for (var i = 0; i < r.length; ++i) if (r[i] === e) return n[i];
                        var o = 'g' + t++;
                        return n.push(o), r.push(e), o;
                      },
                      block: i,
                      proc: function (t, n) {
                        var r = [];
                        function i() {
                          var t = 'a' + r.length;
                          return r.push(t), t;
                        }
                        n = n || 0;
                        for (var a = 0; a < n; ++a) i();
                        var u = o(),
                          c = u.toString;
                        return (s[t] = e(u, {
                          arg: i,
                          toString: function () {
                            return Ne(['function(', r.join(), '){', c(), '}']);
                          },
                        }));
                      },
                      scope: o,
                      cond: function () {
                        var t = Ne(arguments),
                          n = o(),
                          r = o(),
                          i = n.toString,
                          a = r.toString;
                        return e(n, {
                          then: function () {
                            return n.apply(n, Te(arguments)), this;
                          },
                          else: function () {
                            return r.apply(r, Te(arguments)), this;
                          },
                          toString: function () {
                            var e = a();
                            return e && (e = 'else{' + e + '}'), Ne(['if(', t, '){', i(), '}', e]);
                          },
                        });
                      },
                      compile: function () {
                        var t = ['"use strict";', a, 'return {'];
                        Object.keys(s).forEach(function (e) {
                          t.push('"', e, '":', s[e].toString(), ',');
                        }),
                          t.push('}');
                        var e = Ne(t)
                          .replace(/;/g, ';\n')
                          .replace(/}/g, '}\n')
                          .replace(/{/g, '{\n');
                        return Function.apply(null, n.concat(e)).apply(null, r);
                      },
                    };
                  })(),
                  r = t.link,
                  i = t.global;
                (t.id = P++), (t.batchId = '0');
                var o = r(T),
                  a = (t.shared = { props: 'a0' });
                Object.keys(T).forEach(function (t) {
                  a[t] = i.def(o, '.', t);
                }),
                  E.optional(function () {
                    (t.CHECK = r(E)),
                      (t.commandStr = E.guessCommand()),
                      (t.command = r(t.commandStr)),
                      (t.assert = function (t, e, n) {
                        t(
                          'if(!(',
                          e,
                          '))',
                          this.CHECK,
                          '.commandRaise(',
                          r(n),
                          ',',
                          this.command,
                          ');',
                        );
                      }),
                      (N.invalidBlendCombinations = Hn);
                  });
                var s = (t.next = {}),
                  u = (t.current = {});
                Object.keys(M).forEach(function (t) {
                  Array.isArray(x[t]) &&
                    ((s[t] = i.def(a.next, '.', t)), (u[t] = i.def(a.current, '.', t)));
                });
                var c = (t.constants = {});
                Object.keys(N).forEach(function (t) {
                  c[t] = i.def(JSON.stringify(N[t]));
                }),
                  (t.invoke = function (e, n) {
                    switch (n.type) {
                      case 0:
                        var i = ['this', a.context, a.props, t.batchId];
                        return e.def(
                          r(n.data),
                          '.call(',
                          i.slice(0, Math.max(n.data.length + 1, 4)),
                          ')',
                        );
                      case 1:
                        return e.def(a.props, n.data);
                      case 2:
                        return e.def(a.context, n.data);
                      case 3:
                        return e.def('this', n.data);
                      case 4:
                        return n.data.append(t, e), n.data.ref;
                      case 5:
                        return n.data.toString();
                      case 6:
                        return n.data.map(function (n) {
                          return t.invoke(e, n);
                        });
                    }
                  }),
                  (t.attribCache = {});
                var h = {};
                return (
                  (t.scopeAttrib = function (t) {
                    var e = n.id(t);
                    if (e in h) return h[e];
                    var i = l.scope[e];
                    return i || (i = l.scope[e] = new v()), (h[e] = r(i));
                  }),
                  t
                );
              }
              function D(t, e, s, c, f) {
                var d = t.static,
                  p = t.dynamic;
                E.optional(function () {
                  var t = [un, cn, ln, hn, fn, pn, dn, gn, sn, vn].concat(w);
                  function e(e) {
                    Object.keys(e).forEach(function (e) {
                      E.command(t.indexOf(e) >= 0, 'unknown parameter "' + e + '"', f.commandStr);
                    });
                  }
                  e(d), e(p);
                });
                var g = (function (t, e) {
                    var n = t.static;
                    if ('string' == typeof n[ln] && 'string' == typeof n[cn]) {
                      if (Object.keys(e.dynamic).length > 0) return null;
                      var r = e.static,
                        i = Object.keys(r);
                      if (i.length > 0 && 'number' == typeof r[i[0]]) {
                        for (var o = [], a = 0; a < i.length; ++a)
                          E(
                            'number' == typeof r[i[a]],
                            'must specify all vertex attribute locations when using vaos',
                          ),
                            o.push([0 | r[i[a]], i[a]]);
                        return o;
                      }
                    }
                    return null;
                  })(t, e),
                  b = (function (t, e) {
                    var n = t.static,
                      r = t.dynamic;
                    if (un in n) {
                      var i = n[un];
                      return i
                        ? ((i = u.getFramebuffer(i)),
                          E.command(i, 'invalid framebuffer object'),
                          nr(function (t, e) {
                            var n = t.link(i),
                              r = t.shared;
                            e.set(r.framebuffer, '.next', n);
                            var o = r.context;
                            return (
                              e.set(o, '.' + bn, n + '.width'), e.set(o, '.' + xn, n + '.height'), n
                            );
                          }))
                        : nr(function (t, e) {
                            var n = t.shared;
                            e.set(n.framebuffer, '.next', 'null');
                            var r = n.context;
                            return (
                              e.set(r, '.' + bn, r + '.' + _n),
                              e.set(r, '.' + xn, r + '.' + wn),
                              'null'
                            );
                          });
                    }
                    if (un in r) {
                      var o = r[un];
                      return rr(o, function (t, e) {
                        var n = t.invoke(e, o),
                          r = t.shared,
                          i = r.framebuffer,
                          a = e.def(i, '.getFramebuffer(', n, ')');
                        E.optional(function () {
                          t.assert(e, '!' + n + '||' + a, 'invalid framebuffer object');
                        }),
                          e.set(i, '.next', a);
                        var s = r.context;
                        return (
                          e.set(s, '.' + bn, a + '?' + a + '.width:' + s + '.' + _n),
                          e.set(s, '.' + xn, a + '?' + a + '.height:' + s + '.' + wn),
                          a
                        );
                      });
                    }
                    return null;
                  })(t),
                  x = (function (t, e, n) {
                    var r = t.static,
                      i = t.dynamic;
                    function o(t) {
                      if (t in r) {
                        var o = r[t];
                        E.commandType(o, 'object', 'invalid ' + t, n.commandStr);
                        var a,
                          s,
                          u = !0,
                          c = 0 | o.x,
                          l = 0 | o.y;
                        return (
                          'width' in o
                            ? ((a = 0 | o.width), E.command(a >= 0, 'invalid ' + t, n.commandStr))
                            : (u = !1),
                          'height' in o
                            ? ((s = 0 | o.height), E.command(s >= 0, 'invalid ' + t, n.commandStr))
                            : (u = !1),
                          new tr(
                            !u && e && e.thisDep,
                            !u && e && e.contextDep,
                            !u && e && e.propDep,
                            function (t, e) {
                              var n = t.shared.context,
                                r = a;
                              'width' in o || (r = e.def(n, '.', bn, '-', c));
                              var i = s;
                              return 'height' in o || (i = e.def(n, '.', xn, '-', l)), [c, l, r, i];
                            },
                          )
                        );
                      }
                      if (t in i) {
                        var h = i[t],
                          f = rr(h, function (e, n) {
                            var r = e.invoke(n, h);
                            E.optional(function () {
                              e.assert(n, r + '&&typeof ' + r + '==="object"', 'invalid ' + t);
                            });
                            var i = e.shared.context,
                              o = n.def(r, '.x|0'),
                              a = n.def(r, '.y|0'),
                              s = n.def(
                                '"width" in ',
                                r,
                                '?',
                                r,
                                '.width|0:',
                                '(',
                                i,
                                '.',
                                bn,
                                '-',
                                o,
                                ')',
                              ),
                              u = n.def(
                                '"height" in ',
                                r,
                                '?',
                                r,
                                '.height|0:',
                                '(',
                                i,
                                '.',
                                xn,
                                '-',
                                a,
                                ')',
                              );
                            return (
                              E.optional(function () {
                                e.assert(n, s + '>=0&&' + u + '>=0', 'invalid ' + t);
                              }),
                              [o, a, s, u]
                            );
                          });
                        return (
                          e &&
                            ((f.thisDep = f.thisDep || e.thisDep),
                            (f.contextDep = f.contextDep || e.contextDep),
                            (f.propDep = f.propDep || e.propDep)),
                          f
                        );
                      }
                      return e
                        ? new tr(e.thisDep, e.contextDep, e.propDep, function (t, e) {
                            var n = t.shared.context;
                            return [0, 0, e.def(n, '.', bn), e.def(n, '.', xn)];
                          })
                        : null;
                    }
                    var a = o(an);
                    if (a) {
                      var s = a;
                      a = new tr(a.thisDep, a.contextDep, a.propDep, function (t, e) {
                        var n = s.append(t, e),
                          r = t.shared.context;
                        return (
                          e.set(r, '.viewportWidth', n[2]), e.set(r, '.viewportHeight', n[3]), n
                        );
                      });
                    }
                    return { viewport: a, scissor_box: o(on) };
                  })(t, b, f),
                  _ = (function (t, e) {
                    var n = t.static,
                      r = t.dynamic,
                      i = (function () {
                        if (hn in n) {
                          var t = n[hn];
                          Qn(t)
                            ? (t = a.getElements(a.create(t, !0)))
                            : t &&
                              ((t = a.getElements(t)),
                              E.command(t, 'invalid elements', e.commandStr));
                          var i = nr(function (e, n) {
                            if (t) {
                              var r = e.link(t);
                              return (e.ELEMENTS = r), r;
                            }
                            return (e.ELEMENTS = null), null;
                          });
                          return (i.value = t), i;
                        }
                        if (hn in r) {
                          var o = r[hn];
                          return rr(o, function (t, e) {
                            var n = t.shared,
                              r = n.isBufferArgs,
                              i = n.elements,
                              a = t.invoke(e, o),
                              s = e.def('null'),
                              u = e.def(r, '(', a, ')'),
                              c = t
                                .cond(u)
                                .then(s, '=', i, '.createStream(', a, ');')
                                .else(s, '=', i, '.getElements(', a, ');');
                            return (
                              E.optional(function () {
                                t.assert(c.else, '!' + a + '||' + s, 'invalid elements');
                              }),
                              e.entry(c),
                              e.exit(t.cond(u).then(i, '.destroyStream(', s, ');')),
                              (t.ELEMENTS = s),
                              s
                            );
                          });
                        }
                        return null;
                      })();
                    function o(t, o) {
                      if (t in n) {
                        var a = 0 | n[t];
                        return (
                          E.command(!o || a >= 0, 'invalid ' + t, e.commandStr),
                          nr(function (t, e) {
                            return o && (t.OFFSET = a), a;
                          })
                        );
                      }
                      if (t in r) {
                        var s = r[t];
                        return rr(s, function (e, n) {
                          var r = e.invoke(n, s);
                          return (
                            o &&
                              ((e.OFFSET = r),
                              E.optional(function () {
                                e.assert(n, r + '>=0', 'invalid ' + t);
                              })),
                            r
                          );
                        });
                      }
                      return o && i
                        ? nr(function (t, e) {
                            return (t.OFFSET = '0'), 0;
                          })
                        : null;
                    }
                    var s = o(pn, !0);
                    return {
                      elements: i,
                      primitive: (function () {
                        if (fn in n) {
                          var t = n[fn];
                          return (
                            E.commandParameter(t, ot, 'invalid primitve', e.commandStr),
                            nr(function (e, n) {
                              return ot[t];
                            })
                          );
                        }
                        if (fn in r) {
                          var o = r[fn];
                          return rr(o, function (t, e) {
                            var n = t.constants.primTypes,
                              r = t.invoke(e, o);
                            return (
                              E.optional(function () {
                                t.assert(
                                  e,
                                  r + ' in ' + n,
                                  'invalid primitive, must be one of ' + Object.keys(ot),
                                );
                              }),
                              e.def(n, '[', r, ']')
                            );
                          });
                        }
                        return i
                          ? er(i)
                            ? i.value
                              ? nr(function (t, e) {
                                  return e.def(t.ELEMENTS, '.primType');
                                })
                              : nr(function () {
                                  return 4;
                                })
                            : new tr(i.thisDep, i.contextDep, i.propDep, function (t, e) {
                                var n = t.ELEMENTS;
                                return e.def(n, '?', n, '.primType:', 4);
                              })
                          : null;
                      })(),
                      count: (function () {
                        if (dn in n) {
                          var t = 0 | n[dn];
                          return (
                            E.command(
                              'number' == typeof t && t >= 0,
                              'invalid vertex count',
                              e.commandStr,
                            ),
                            nr(function () {
                              return t;
                            })
                          );
                        }
                        if (dn in r) {
                          var o = r[dn];
                          return rr(o, function (t, e) {
                            var n = t.invoke(e, o);
                            return (
                              E.optional(function () {
                                t.assert(
                                  e,
                                  'typeof ' +
                                    n +
                                    '==="number"&&' +
                                    n +
                                    '>=0&&' +
                                    n +
                                    '===(' +
                                    n +
                                    '|0)',
                                  'invalid vertex count',
                                );
                              }),
                              n
                            );
                          });
                        }
                        if (i) {
                          if (er(i)) {
                            if (i)
                              return s
                                ? new tr(s.thisDep, s.contextDep, s.propDep, function (t, e) {
                                    var n = e.def(t.ELEMENTS, '.vertCount-', t.OFFSET);
                                    return (
                                      E.optional(function () {
                                        t.assert(
                                          e,
                                          n + '>=0',
                                          'invalid vertex offset/element buffer too small',
                                        );
                                      }),
                                      n
                                    );
                                  })
                                : nr(function (t, e) {
                                    return e.def(t.ELEMENTS, '.vertCount');
                                  });
                            var a = nr(function () {
                              return -1;
                            });
                            return (
                              E.optional(function () {
                                a.MISSING = !0;
                              }),
                              a
                            );
                          }
                          var u = new tr(
                            i.thisDep || s.thisDep,
                            i.contextDep || s.contextDep,
                            i.propDep || s.propDep,
                            function (t, e) {
                              var n = t.ELEMENTS;
                              return t.OFFSET
                                ? e.def(n, '?', n, '.vertCount-', t.OFFSET, ':-1')
                                : e.def(n, '?', n, '.vertCount:-1');
                            },
                          );
                          return (
                            E.optional(function () {
                              u.DYNAMIC = !0;
                            }),
                            u
                          );
                        }
                        return null;
                      })(),
                      instances: o(gn, !1),
                      offset: s,
                    };
                  })(t, f),
                  S = (function (t, e) {
                    var n = t.static,
                      r = t.dynamic,
                      o = {};
                    return (
                      w.forEach(function (t) {
                        var a = k(t);
                        function s(e, i) {
                          if (t in n) {
                            var s = e(n[t]);
                            o[a] = nr(function () {
                              return s;
                            });
                          } else if (t in r) {
                            var u = r[t];
                            o[a] = rr(u, function (t, e) {
                              return i(t, e, t.invoke(e, u));
                            });
                          }
                        }
                        switch (t) {
                          case Ve:
                          case De:
                          case Oe:
                          case Qe:
                          case je:
                          case rn:
                          case He:
                          case Ke:
                          case Ze:
                          case Fe:
                            return s(
                              function (n) {
                                return E.commandType(n, 'boolean', t, e.commandStr), n;
                              },
                              function (e, n, r) {
                                return (
                                  E.optional(function () {
                                    e.assert(
                                      n,
                                      'typeof ' + r + '==="boolean"',
                                      'invalid flag ' + t,
                                      e.commandStr,
                                    );
                                  }),
                                  r
                                );
                              },
                            );
                          case Ge:
                            return s(
                              function (n) {
                                return (
                                  E.commandParameter(n, qn, 'invalid ' + t, e.commandStr), qn[n]
                                );
                              },
                              function (e, n, r) {
                                var i = e.constants.compareFuncs;
                                return (
                                  E.optional(function () {
                                    e.assert(
                                      n,
                                      r + ' in ' + i,
                                      'invalid ' + t + ', must be one of ' + Object.keys(qn),
                                    );
                                  }),
                                  n.def(i, '[', r, ']')
                                );
                              },
                            );
                          case ze:
                            return s(
                              function (t) {
                                return (
                                  E.command(
                                    dt(t) &&
                                      2 === t.length &&
                                      'number' == typeof t[0] &&
                                      'number' == typeof t[1] &&
                                      t[0] <= t[1],
                                    'depth range is 2d array',
                                    e.commandStr,
                                  ),
                                  t
                                );
                              },
                              function (t, e, n) {
                                return (
                                  E.optional(function () {
                                    t.assert(
                                      e,
                                      t.shared.isArrayLike +
                                        '(' +
                                        n +
                                        ')&&' +
                                        n +
                                        '.length===2&&typeof ' +
                                        n +
                                        '[0]==="number"&&typeof ' +
                                        n +
                                        '[1]==="number"&&' +
                                        n +
                                        '[0]<=' +
                                        n +
                                        '[1]',
                                      'depth range must be a 2d array',
                                    );
                                  }),
                                  [e.def('+', n, '[0]'), e.def('+', n, '[1]')]
                                );
                              },
                            );
                          case Be:
                            return s(
                              function (t) {
                                E.commandType(t, 'object', 'blend.func', e.commandStr);
                                var n = 'srcRGB' in t ? t.srcRGB : t.src,
                                  r = 'srcAlpha' in t ? t.srcAlpha : t.src,
                                  i = 'dstRGB' in t ? t.dstRGB : t.dst,
                                  o = 'dstAlpha' in t ? t.dstAlpha : t.dst;
                                return (
                                  E.commandParameter(n, Xn, a + '.srcRGB', e.commandStr),
                                  E.commandParameter(r, Xn, a + '.srcAlpha', e.commandStr),
                                  E.commandParameter(i, Xn, a + '.dstRGB', e.commandStr),
                                  E.commandParameter(o, Xn, a + '.dstAlpha', e.commandStr),
                                  E.command(
                                    -1 === Hn.indexOf(n + ', ' + i),
                                    'unallowed blending combination (srcRGB, dstRGB) = (' +
                                      n +
                                      ', ' +
                                      i +
                                      ')',
                                    e.commandStr,
                                  ),
                                  [Xn[n], Xn[i], Xn[r], Xn[o]]
                                );
                              },
                              function (e, n, r) {
                                var i = e.constants.blendFuncs;
                                function o(o, a) {
                                  var s = n.def(
                                    '"',
                                    o,
                                    a,
                                    '" in ',
                                    r,
                                    '?',
                                    r,
                                    '.',
                                    o,
                                    a,
                                    ':',
                                    r,
                                    '.',
                                    o,
                                  );
                                  return (
                                    E.optional(function () {
                                      e.assert(
                                        n,
                                        s + ' in ' + i,
                                        'invalid ' +
                                          t +
                                          '.' +
                                          o +
                                          a +
                                          ', must be one of ' +
                                          Object.keys(Xn),
                                      );
                                    }),
                                    s
                                  );
                                }
                                E.optional(function () {
                                  e.assert(
                                    n,
                                    r + '&&typeof ' + r + '==="object"',
                                    'invalid blend func, must be an object',
                                  );
                                });
                                var a = o('src', 'RGB'),
                                  s = o('dst', 'RGB');
                                E.optional(function () {
                                  var t = e.constants.invalidBlendCombinations;
                                  e.assert(
                                    n,
                                    t + '.indexOf(' + a + '+", "+' + s + ') === -1 ',
                                    'unallowed blending combination for (srcRGB, dstRGB)',
                                  );
                                });
                                var u = n.def(i, '[', a, ']'),
                                  c = n.def(i, '[', o('src', 'Alpha'), ']');
                                return [
                                  u,
                                  n.def(i, '[', s, ']'),
                                  c,
                                  n.def(i, '[', o('dst', 'Alpha'), ']'),
                                ];
                              },
                            );
                          case Re:
                            return s(
                              function (n) {
                                return 'string' == typeof n
                                  ? (E.commandParameter(n, y, 'invalid ' + t, e.commandStr),
                                    [y[n], y[n]])
                                  : 'object' == typeof n
                                  ? (E.commandParameter(n.rgb, y, t + '.rgb', e.commandStr),
                                    E.commandParameter(n.alpha, y, t + '.alpha', e.commandStr),
                                    [y[n.rgb], y[n.alpha]])
                                  : void E.commandRaise('invalid blend.equation', e.commandStr);
                              },
                              function (e, n, r) {
                                var i = e.constants.blendEquations,
                                  o = n.def(),
                                  a = n.def(),
                                  s = e.cond('typeof ', r, '==="string"');
                                return (
                                  E.optional(function () {
                                    function n(t, n, r) {
                                      e.assert(
                                        t,
                                        r + ' in ' + i,
                                        'invalid ' + n + ', must be one of ' + Object.keys(y),
                                      );
                                    }
                                    n(s.then, t, r),
                                      e.assert(
                                        s.else,
                                        r + '&&typeof ' + r + '==="object"',
                                        'invalid ' + t,
                                      ),
                                      n(s.else, t + '.rgb', r + '.rgb'),
                                      n(s.else, t + '.alpha', r + '.alpha');
                                  }),
                                  s.then(o, '=', a, '=', i, '[', r, '];'),
                                  s.else(
                                    o,
                                    '=',
                                    i,
                                    '[',
                                    r,
                                    '.rgb];',
                                    a,
                                    '=',
                                    i,
                                    '[',
                                    r,
                                    '.alpha];',
                                  ),
                                  n(s),
                                  [o, a]
                                );
                              },
                            );
                          case Le:
                            return s(
                              function (t) {
                                return (
                                  E.command(
                                    dt(t) && 4 === t.length,
                                    'blend.color must be a 4d array',
                                    e.commandStr,
                                  ),
                                  L(4, function (e) {
                                    return +t[e];
                                  })
                                );
                              },
                              function (t, e, n) {
                                return (
                                  E.optional(function () {
                                    t.assert(
                                      e,
                                      t.shared.isArrayLike + '(' + n + ')&&' + n + '.length===4',
                                      'blend.color must be a 4d array',
                                    );
                                  }),
                                  L(4, function (t) {
                                    return e.def('+', n, '[', t, ']');
                                  })
                                );
                              },
                            );
                          case Je:
                            return s(
                              function (t) {
                                return E.commandType(t, 'number', a, e.commandStr), 0 | t;
                              },
                              function (t, e, n) {
                                return (
                                  E.optional(function () {
                                    t.assert(
                                      e,
                                      'typeof ' + n + '==="number"',
                                      'invalid stencil.mask',
                                    );
                                  }),
                                  e.def(n, '|0')
                                );
                              },
                            );
                          case tn:
                            return s(
                              function (n) {
                                E.commandType(n, 'object', a, e.commandStr);
                                var r = n.cmp || 'keep',
                                  i = n.ref || 0,
                                  o = 'mask' in n ? n.mask : -1;
                                return (
                                  E.commandParameter(r, qn, t + '.cmp', e.commandStr),
                                  E.commandType(i, 'number', t + '.ref', e.commandStr),
                                  E.commandType(o, 'number', t + '.mask', e.commandStr),
                                  [qn[r], i, o]
                                );
                              },
                              function (t, e, n) {
                                var r = t.constants.compareFuncs;
                                return (
                                  E.optional(function () {
                                    function i() {
                                      t.assert(
                                        e,
                                        Array.prototype.join.call(arguments, ''),
                                        'invalid stencil.func',
                                      );
                                    }
                                    i(n + '&&typeof ', n, '==="object"'),
                                      i('!("cmp" in ', n, ')||(', n, '.cmp in ', r, ')');
                                  }),
                                  [
                                    e.def('"cmp" in ', n, '?', r, '[', n, '.cmp]', ':', Yn),
                                    e.def(n, '.ref|0'),
                                    e.def('"mask" in ', n, '?', n, '.mask|0:-1'),
                                  ]
                                );
                              },
                            );
                          case en:
                          case nn:
                            return s(
                              function (n) {
                                E.commandType(n, 'object', a, e.commandStr);
                                var r = n.fail || 'keep',
                                  i = n.zfail || 'keep',
                                  o = n.zpass || 'keep';
                                return (
                                  E.commandParameter(r, Kn, t + '.fail', e.commandStr),
                                  E.commandParameter(i, Kn, t + '.zfail', e.commandStr),
                                  E.commandParameter(o, Kn, t + '.zpass', e.commandStr),
                                  [t === nn ? Vn : Un, Kn[r], Kn[i], Kn[o]]
                                );
                              },
                              function (e, n, r) {
                                var i = e.constants.stencilOps;
                                function o(o) {
                                  return (
                                    E.optional(function () {
                                      e.assert(
                                        n,
                                        '!("' +
                                          o +
                                          '" in ' +
                                          r +
                                          ')||(' +
                                          r +
                                          '.' +
                                          o +
                                          ' in ' +
                                          i +
                                          ')',
                                        'invalid ' +
                                          t +
                                          '.' +
                                          o +
                                          ', must be one of ' +
                                          Object.keys(Kn),
                                      );
                                    }),
                                    n.def('"', o, '" in ', r, '?', i, '[', r, '.', o, ']:', Yn)
                                  );
                                }
                                return (
                                  E.optional(function () {
                                    e.assert(
                                      n,
                                      r + '&&typeof ' + r + '==="object"',
                                      'invalid ' + t,
                                    );
                                  }),
                                  [t === nn ? Vn : Un, o('fail'), o('zfail'), o('zpass')]
                                );
                              },
                            );
                          case qe:
                            return s(
                              function (t) {
                                E.commandType(t, 'object', a, e.commandStr);
                                var n = 0 | t.factor,
                                  r = 0 | t.units;
                                return (
                                  E.commandType(n, 'number', a + '.factor', e.commandStr),
                                  E.commandType(r, 'number', a + '.units', e.commandStr),
                                  [n, r]
                                );
                              },
                              function (e, n, r) {
                                return (
                                  E.optional(function () {
                                    e.assert(
                                      n,
                                      r + '&&typeof ' + r + '==="object"',
                                      'invalid ' + t,
                                    );
                                  }),
                                  [n.def(r, '.factor|0'), n.def(r, '.units|0')]
                                );
                              },
                            );
                          case We:
                            return s(
                              function (t) {
                                var n = 0;
                                return (
                                  'front' === t ? (n = Un) : 'back' === t && (n = Vn),
                                  E.command(!!n, a, e.commandStr),
                                  n
                                );
                              },
                              function (t, e, n) {
                                return (
                                  E.optional(function () {
                                    t.assert(
                                      e,
                                      n + '==="front"||' + n + '==="back"',
                                      'invalid cull.face',
                                    );
                                  }),
                                  e.def(n, '==="front"?', Un, ':', Vn)
                                );
                              },
                            );
                          case Xe:
                            return s(
                              function (t) {
                                return (
                                  E.command(
                                    'number' == typeof t &&
                                      t >= i.lineWidthDims[0] &&
                                      t <= i.lineWidthDims[1],
                                    'invalid line width, must be a positive number between ' +
                                      i.lineWidthDims[0] +
                                      ' and ' +
                                      i.lineWidthDims[1],
                                    e.commandStr,
                                  ),
                                  t
                                );
                              },
                              function (t, e, n) {
                                return (
                                  E.optional(function () {
                                    t.assert(
                                      e,
                                      'typeof ' +
                                        n +
                                        '==="number"&&' +
                                        n +
                                        '>=' +
                                        i.lineWidthDims[0] +
                                        '&&' +
                                        n +
                                        '<=' +
                                        i.lineWidthDims[1],
                                      'invalid line width',
                                    );
                                  }),
                                  n
                                );
                              },
                            );
                          case Ye:
                            return s(
                              function (t) {
                                return E.commandParameter(t, $n, a, e.commandStr), $n[t];
                              },
                              function (t, e, n) {
                                return (
                                  E.optional(function () {
                                    t.assert(
                                      e,
                                      n + '==="cw"||' + n + '==="ccw"',
                                      'invalid frontFace, must be one of cw,ccw',
                                    );
                                  }),
                                  e.def(n + '==="cw"?2304:' + Wn)
                                );
                              },
                            );
                          case Ue:
                            return s(
                              function (t) {
                                return (
                                  E.command(
                                    dt(t) && 4 === t.length,
                                    'color.mask must be length 4 array',
                                    e.commandStr,
                                  ),
                                  t.map(function (t) {
                                    return !!t;
                                  })
                                );
                              },
                              function (t, e, n) {
                                return (
                                  E.optional(function () {
                                    t.assert(
                                      e,
                                      t.shared.isArrayLike + '(' + n + ')&&' + n + '.length===4',
                                      'invalid color.mask',
                                    );
                                  }),
                                  L(4, function (t) {
                                    return '!!' + n + '[' + t + ']';
                                  })
                                );
                              },
                            );
                          case $e:
                            return s(
                              function (t) {
                                E.command('object' == typeof t && t, a, e.commandStr);
                                var n = 'value' in t ? t.value : 1,
                                  r = !!t.invert;
                                return (
                                  E.command(
                                    'number' == typeof n && n >= 0 && n <= 1,
                                    'sample.coverage.value must be a number between 0 and 1',
                                    e.commandStr,
                                  ),
                                  [n, r]
                                );
                              },
                              function (t, e, n) {
                                return (
                                  E.optional(function () {
                                    t.assert(
                                      e,
                                      n + '&&typeof ' + n + '==="object"',
                                      'invalid sample.coverage',
                                    );
                                  }),
                                  [
                                    e.def('"value" in ', n, '?+', n, '.value:1'),
                                    e.def('!!', n, '.invert'),
                                  ]
                                );
                              },
                            );
                        }
                      }),
                      o
                    );
                  })(t, f),
                  M = (function (t, e, r) {
                    var i = t.static,
                      o = t.dynamic;
                    function a(t) {
                      if (t in i) {
                        var e = n.id(i[t]);
                        E.optional(function () {
                          h.shader(Zn[t], e, E.guessCommand());
                        });
                        var r = nr(function () {
                          return e;
                        });
                        return (r.id = e), r;
                      }
                      if (t in o) {
                        var a = o[t];
                        return rr(a, function (e, n) {
                          var r = e.invoke(n, a),
                            i = n.def(e.shared.strings, '.id(', r, ')');
                          return (
                            E.optional(function () {
                              n(e.shared.shader, '.shader(', Zn[t], ',', i, ',', e.command, ');');
                            }),
                            i
                          );
                        });
                      }
                      return null;
                    }
                    var s,
                      u = a(ln),
                      c = a(cn),
                      l = null;
                    return (
                      er(u) && er(c)
                        ? ((l = h.program(c.id, u.id, null, r)),
                          (s = nr(function (t, e) {
                            return t.link(l);
                          })))
                        : (s = new tr(
                            (u && u.thisDep) || (c && c.thisDep),
                            (u && u.contextDep) || (c && c.contextDep),
                            (u && u.propDep) || (c && c.propDep),
                            function (t, e) {
                              var n,
                                r = t.shared.shader;
                              n = u ? u.append(t, e) : e.def(r, '.', ln);
                              var i =
                                r +
                                '.program(' +
                                (c ? c.append(t, e) : e.def(r, '.', cn)) +
                                ',' +
                                n;
                              return (
                                E.optional(function () {
                                  i += ',' + t.command;
                                }),
                                e.def(i + ')')
                              );
                            },
                          )),
                      { frag: u, vert: c, progVar: s, program: l }
                    );
                  })(t, 0, g);
                function A(t) {
                  var e = x[t];
                  e && (S[t] = e);
                }
                A(an), A(k(on));
                var C = Object.keys(S).length > 0,
                  I = {
                    framebuffer: b,
                    draw: _,
                    shader: M,
                    state: S,
                    dirty: C,
                    scopeVAO: null,
                    drawVAO: null,
                    useVAO: !1,
                    attributes: {},
                  };
                if (
                  ((I.profile = (function (t) {
                    var e,
                      n = t.static,
                      r = t.dynamic;
                    if (sn in n) {
                      var i = !!n[sn];
                      (e = nr(function (t, e) {
                        return i;
                      })).enable = i;
                    } else if (sn in r) {
                      var o = r[sn];
                      e = rr(o, function (t, e) {
                        return t.invoke(e, o);
                      });
                    }
                    return e;
                  })(t)),
                  (I.uniforms = (function (t, e) {
                    var n = t.static,
                      r = t.dynamic,
                      i = {};
                    return (
                      Object.keys(n).forEach(function (t) {
                        var r,
                          o = n[t];
                        if ('number' == typeof o || 'boolean' == typeof o)
                          r = nr(function () {
                            return o;
                          });
                        else if ('function' == typeof o) {
                          var a = o._reglType;
                          'texture2d' === a || 'textureCube' === a
                            ? (r = nr(function (t) {
                                return t.link(o);
                              }))
                            : 'framebuffer' === a || 'framebufferCube' === a
                            ? (E.command(
                                o.color.length > 0,
                                'missing color attachment for framebuffer sent to uniform "' +
                                  t +
                                  '"',
                                e.commandStr,
                              ),
                              (r = nr(function (t) {
                                return t.link(o.color[0]);
                              })))
                            : E.commandRaise('invalid data for uniform "' + t + '"', e.commandStr);
                        } else
                          dt(o)
                            ? (r = nr(function (e) {
                                return e.global.def(
                                  '[',
                                  L(o.length, function (n) {
                                    return (
                                      E.command(
                                        'number' == typeof o[n] || 'boolean' == typeof o[n],
                                        'invalid uniform ' + t,
                                        e.commandStr,
                                      ),
                                      o[n]
                                    );
                                  }),
                                  ']',
                                );
                              }))
                            : E.commandRaise(
                                'invalid or missing data for uniform "' + t + '"',
                                e.commandStr,
                              );
                        (r.value = o), (i[t] = r);
                      }),
                      Object.keys(r).forEach(function (t) {
                        var e = r[t];
                        i[t] = rr(e, function (t, n) {
                          return t.invoke(n, e);
                        });
                      }),
                      i
                    );
                  })(s, f)),
                  (I.drawVAO = I.scopeVAO =
                    (function (t, e) {
                      var n = t.static,
                        r = t.dynamic;
                      if (vn in n) {
                        var i = n[vn];
                        return (
                          null !== i && null === l.getVAO(i) && (i = l.createVAO(i)),
                          nr(function (t) {
                            return t.link(l.getVAO(i));
                          })
                        );
                      }
                      if (vn in r) {
                        var o = r[vn];
                        return rr(o, function (t, e) {
                          var n = t.invoke(e, o);
                          return e.def(t.shared.vao + '.getVAO(' + n + ')');
                        });
                      }
                      return null;
                    })(t)),
                  !I.drawVAO && M.program && !g && r.angle_instanced_arrays)
                ) {
                  var T = !0,
                    N = M.program.attributes.map(function (t) {
                      var n = e.static[t];
                      return (T = T && !!n), n;
                    });
                  if (T && N.length > 0) {
                    var P = l.getVAO(l.createVAO(N));
                    (I.drawVAO = new tr(null, null, null, function (t, e) {
                      return t.link(P);
                    })),
                      (I.useVAO = !0);
                  }
                }
                return (
                  g
                    ? (I.useVAO = !0)
                    : (I.attributes = (function (t, e) {
                        var r = t.static,
                          i = t.dynamic,
                          a = {};
                        return (
                          Object.keys(r).forEach(function (t) {
                            var i = r[t],
                              s = n.id(t),
                              u = new v();
                            if (Qn(i))
                              (u.state = 1),
                                (u.buffer = o.getBuffer(o.create(i, Sn, !1, !0))),
                                (u.type = 0);
                            else {
                              var c = o.getBuffer(i);
                              if (c) (u.state = 1), (u.buffer = c), (u.type = 0);
                              else if (
                                (E.command(
                                  'object' == typeof i && i,
                                  'invalid data for attribute ' + t,
                                  e.commandStr,
                                ),
                                'constant' in i)
                              ) {
                                var l = i.constant;
                                (u.buffer = 'null'),
                                  (u.state = 2),
                                  'number' == typeof l
                                    ? (u.x = l)
                                    : (E.command(
                                        dt(l) && l.length > 0 && l.length <= 4,
                                        'invalid constant for attribute ' + t,
                                        e.commandStr,
                                      ),
                                      Pe.forEach(function (t, e) {
                                        e < l.length && (u[t] = l[e]);
                                      }));
                              } else {
                                (c = Qn(i.buffer)
                                  ? o.getBuffer(o.create(i.buffer, Sn, !1, !0))
                                  : o.getBuffer(i.buffer)),
                                  E.command(
                                    !!c,
                                    'missing buffer for attribute "' + t + '"',
                                    e.commandStr,
                                  );
                                var h = 0 | i.offset;
                                E.command(
                                  h >= 0,
                                  'invalid offset for attribute "' + t + '"',
                                  e.commandStr,
                                );
                                var f = 0 | i.stride;
                                E.command(
                                  f >= 0 && f < 256,
                                  'invalid stride for attribute "' +
                                    t +
                                    '", must be integer betweeen [0, 255]',
                                  e.commandStr,
                                );
                                var d = 0 | i.size;
                                E.command(
                                  !('size' in i) || (d > 0 && d <= 4),
                                  'invalid size for attribute "' + t + '", must be 1,2,3,4',
                                  e.commandStr,
                                );
                                var p = !!i.normalized,
                                  g = 0;
                                'type' in i &&
                                  (E.commandParameter(
                                    i.type,
                                    K,
                                    'invalid type for attribute ' + t,
                                    e.commandStr,
                                  ),
                                  (g = K[i.type]));
                                var y = 0 | i.divisor;
                                'divisor' in i &&
                                  (E.command(
                                    0 === y || m,
                                    'cannot specify divisor for attribute "' +
                                      t +
                                      '", instancing not supported',
                                    e.commandStr,
                                  ),
                                  E.command(
                                    y >= 0,
                                    'invalid divisor for attribute "' + t + '"',
                                    e.commandStr,
                                  )),
                                  E.optional(function () {
                                    var n = e.commandStr,
                                      r = [
                                        'buffer',
                                        'offset',
                                        'divisor',
                                        'normalized',
                                        'type',
                                        'size',
                                        'stride',
                                      ];
                                    Object.keys(i).forEach(function (e) {
                                      E.command(
                                        r.indexOf(e) >= 0,
                                        'unknown parameter "' +
                                          e +
                                          '" for attribute pointer "' +
                                          t +
                                          '" (valid parameters are ' +
                                          r +
                                          ')',
                                        n,
                                      );
                                    });
                                  }),
                                  (u.buffer = c),
                                  (u.state = 1),
                                  (u.size = d),
                                  (u.normalized = p),
                                  (u.type = g || c.dtype),
                                  (u.offset = h),
                                  (u.stride = f),
                                  (u.divisor = y);
                              }
                            }
                            a[t] = nr(function (t, e) {
                              var n = t.attribCache;
                              if (s in n) return n[s];
                              var r = { isStream: !1 };
                              return (
                                Object.keys(u).forEach(function (t) {
                                  r[t] = u[t];
                                }),
                                u.buffer &&
                                  ((r.buffer = t.link(u.buffer)),
                                  (r.type = r.type || r.buffer + '.dtype')),
                                (n[s] = r),
                                r
                              );
                            });
                          }),
                          Object.keys(i).forEach(function (t) {
                            var e = i[t];
                            a[t] = rr(e, function (n, r) {
                              var i = n.invoke(r, e),
                                o = n.shared,
                                a = n.constants,
                                s = o.isBufferArgs,
                                u = o.buffer;
                              E.optional(function () {
                                n.assert(
                                  r,
                                  i +
                                    '&&(typeof ' +
                                    i +
                                    '==="object"||typeof ' +
                                    i +
                                    '==="function")&&(' +
                                    s +
                                    '(' +
                                    i +
                                    ')||' +
                                    u +
                                    '.getBuffer(' +
                                    i +
                                    ')||' +
                                    u +
                                    '.getBuffer(' +
                                    i +
                                    '.buffer)||' +
                                    s +
                                    '(' +
                                    i +
                                    '.buffer)||("constant" in ' +
                                    i +
                                    '&&(typeof ' +
                                    i +
                                    '.constant==="number"||' +
                                    o.isArrayLike +
                                    '(' +
                                    i +
                                    '.constant))))',
                                  'invalid dynamic attribute "' + t + '"',
                                );
                              });
                              var c = { isStream: r.def(!1) },
                                l = new v();
                              (l.state = 1),
                                Object.keys(l).forEach(function (t) {
                                  c[t] = r.def('' + l[t]);
                                });
                              var h = c.buffer,
                                f = c.type;
                              function d(t) {
                                r(c[t], '=', i, '.', t, '|0;');
                              }
                              return (
                                r(
                                  'if(',
                                  s,
                                  '(',
                                  i,
                                  ')){',
                                  c.isStream,
                                  '=true;',
                                  h,
                                  '=',
                                  u,
                                  '.createStream(',
                                  Sn,
                                  ',',
                                  i,
                                  ');',
                                  f,
                                  '=',
                                  h,
                                  '.dtype;',
                                  '}else{',
                                  h,
                                  '=',
                                  u,
                                  '.getBuffer(',
                                  i,
                                  ');',
                                  'if(',
                                  h,
                                  '){',
                                  f,
                                  '=',
                                  h,
                                  '.dtype;',
                                  '}else if("constant" in ',
                                  i,
                                  '){',
                                  c.state,
                                  '=',
                                  2,
                                  ';',
                                  'if(typeof ' + i + '.constant === "number"){',
                                  c[Pe[0]],
                                  '=',
                                  i,
                                  '.constant;',
                                  Pe.slice(1)
                                    .map(function (t) {
                                      return c[t];
                                    })
                                    .join('='),
                                  '=0;',
                                  '}else{',
                                  Pe.map(function (t, e) {
                                    return (
                                      c[t] +
                                      '=' +
                                      i +
                                      '.constant.length>' +
                                      e +
                                      '?' +
                                      i +
                                      '.constant[' +
                                      e +
                                      ']:0;'
                                    );
                                  }).join(''),
                                  '}}else{',
                                  'if(',
                                  s,
                                  '(',
                                  i,
                                  '.buffer)){',
                                  h,
                                  '=',
                                  u,
                                  '.createStream(',
                                  Sn,
                                  ',',
                                  i,
                                  '.buffer);',
                                  '}else{',
                                  h,
                                  '=',
                                  u,
                                  '.getBuffer(',
                                  i,
                                  '.buffer);',
                                  '}',
                                  f,
                                  '="type" in ',
                                  i,
                                  '?',
                                  a.glTypes,
                                  '[',
                                  i,
                                  '.type]:',
                                  h,
                                  '.dtype;',
                                  c.normalized,
                                  '=!!',
                                  i,
                                  '.normalized;',
                                ),
                                d('size'),
                                d('offset'),
                                d('stride'),
                                d('divisor'),
                                r('}}'),
                                r.exit('if(', c.isStream, '){', u, '.destroyStream(', h, ');', '}'),
                                c
                              );
                            });
                          }),
                          a
                        );
                      })(e, f)),
                  (I.context = (function (t) {
                    var e = t.static,
                      n = t.dynamic,
                      r = {};
                    return (
                      Object.keys(e).forEach(function (t) {
                        var n = e[t];
                        r[t] = nr(function (t, e) {
                          return 'number' == typeof n || 'boolean' == typeof n ? '' + n : t.link(n);
                        });
                      }),
                      Object.keys(n).forEach(function (t) {
                        var e = n[t];
                        r[t] = rr(e, function (t, n) {
                          return t.invoke(n, e);
                        });
                      }),
                      r
                    );
                  })(c)),
                  I
                );
              }
              function R(t, e, n) {
                var r = t.shared.context,
                  i = t.scope();
                Object.keys(n).forEach(function (o) {
                  e.save(r, '.' + o);
                  var a = n[o].append(t, e);
                  Array.isArray(a) ? i(r, '.', o, '=[', a.join(), '];') : i(r, '.', o, '=', a, ';');
                }),
                  e(i);
              }
              function B(t, e, n, r) {
                var i,
                  o = t.shared,
                  a = o.gl,
                  s = o.framebuffer;
                b && (i = e.def(o.extensions, '.webgl_draw_buffers'));
                var u,
                  c = t.constants,
                  l = c.drawBuffer,
                  h = c.backBuffer;
                (u = n ? n.append(t, e) : e.def(s, '.next')),
                  r || e('if(', u, '!==', s, '.cur){'),
                  e('if(', u, '){', a, '.bindFramebuffer(', 36160, ',', u, '.framebuffer);'),
                  b && e(i, '.drawBuffersWEBGL(', l, '[', u, '.colorAttachments.length]);'),
                  e('}else{', a, '.bindFramebuffer(', 36160, ',null);'),
                  b && e(i, '.drawBuffersWEBGL(', h, ');'),
                  e('}', s, '.cur=', u, ';'),
                  r || e('}');
              }
              function j(t, e, n) {
                var r = t.shared,
                  i = r.gl,
                  o = t.current,
                  a = t.next,
                  s = r.current,
                  u = r.next,
                  c = t.cond(s, '.dirty');
                w.forEach(function (e) {
                  var r,
                    l,
                    h = k(e);
                  if (!(h in n.state))
                    if (h in a) {
                      (r = a[h]), (l = o[h]);
                      var f = L(x[h].length, function (t) {
                        return c.def(r, '[', t, ']');
                      });
                      c(
                        t
                          .cond(
                            f
                              .map(function (t, e) {
                                return t + '!==' + l + '[' + e + ']';
                              })
                              .join('||'),
                          )
                          .then(
                            i,
                            '.',
                            M[h],
                            '(',
                            f,
                            ');',
                            f
                              .map(function (t, e) {
                                return l + '[' + e + ']=' + t;
                              })
                              .join(';'),
                            ';',
                          ),
                      );
                    } else {
                      r = c.def(u, '.', h);
                      var d = t.cond(r, '!==', s, '.', h);
                      c(d),
                        h in S
                          ? d(
                              t
                                .cond(r)
                                .then(i, '.enable(', S[h], ');')
                                .else(i, '.disable(', S[h], ');'),
                              s,
                              '.',
                              h,
                              '=',
                              r,
                              ';',
                            )
                          : d(i, '.', M[h], '(', r, ');', s, '.', h, '=', r, ';');
                    }
                }),
                  0 === Object.keys(n.state).length && c(s, '.dirty=false;'),
                  e(c);
              }
              function G(t, e, n, r) {
                var i = t.shared,
                  o = t.current,
                  a = i.current,
                  s = i.gl;
                Jn(Object.keys(n)).forEach(function (i) {
                  var u = n[i];
                  if (!r || r(u)) {
                    var c = u.append(t, e);
                    if (S[i]) {
                      var l = S[i];
                      er(u)
                        ? e(s, c ? '.enable(' : '.disable(', l, ');')
                        : e(t.cond(c).then(s, '.enable(', l, ');').else(s, '.disable(', l, ');')),
                        e(a, '.', i, '=', c, ';');
                    } else if (dt(c)) {
                      var h = o[i];
                      e(
                        s,
                        '.',
                        M[i],
                        '(',
                        c,
                        ');',
                        c
                          .map(function (t, e) {
                            return h + '[' + e + ']=' + t;
                          })
                          .join(';'),
                        ';',
                      );
                    } else e(s, '.', M[i], '(', c, ');', a, '.', i, '=', c, ';');
                  }
                });
              }
              function z(t, e) {
                m && (t.instancing = e.def(t.shared.extensions, '.angle_instanced_arrays'));
              }
              function F(t, e, n, r, i) {
                var o,
                  a,
                  s,
                  u = t.shared,
                  c = t.stats,
                  l = u.current,
                  h = u.timer,
                  f = n.profile;
                function d() {
                  return 'undefined' == typeof performance ? 'Date.now()' : 'performance.now()';
                }
                function g(t) {
                  t((o = e.def()), '=', d(), ';'),
                    'string' == typeof i ? t(c, '.count+=', i, ';') : t(c, '.count++;'),
                    p &&
                      (r
                        ? t((a = e.def()), '=', h, '.getNumPendingQueries();')
                        : t(h, '.beginQuery(', c, ');'));
                }
                function v(t) {
                  t(c, '.cpuTime+=', d(), '-', o, ';'),
                    p &&
                      (r
                        ? t(h, '.pushScopeStats(', a, ',', h, '.getNumPendingQueries(),', c, ');')
                        : t(h, '.endQuery();'));
                }
                function y(t) {
                  var n = e.def(l, '.profile');
                  e(l, '.profile=', t, ';'), e.exit(l, '.profile=', n, ';');
                }
                if (f) {
                  if (er(f)) return void (f.enable ? (g(e), v(e.exit), y('true')) : y('false'));
                  y((s = f.append(t, e)));
                } else s = e.def(l, '.profile');
                var m = t.block();
                g(m), e('if(', s, '){', m, '}');
                var b = t.block();
                v(b), e.exit('if(', s, '){', b, '}');
              }
              function U(t, e, n, r, i) {
                var o = t.shared;
                r.forEach(function (r) {
                  var a,
                    s = r.name,
                    u = n.attributes[s];
                  if (u) {
                    if (!i(u)) return;
                    a = u.append(t, e);
                  } else {
                    if (!i(ir)) return;
                    var c = t.scopeAttrib(s);
                    E.optional(function () {
                      t.assert(e, c + '.state', 'missing attribute ' + s);
                    }),
                      (a = {}),
                      Object.keys(new v()).forEach(function (t) {
                        a[t] = e.def(c, '.', t);
                      });
                  }
                  !(function (n, r, i) {
                    var a = o.gl,
                      s = e.def(n, '.location'),
                      u = e.def(o.attributes, '[', s, ']'),
                      c = i.state,
                      l = i.buffer,
                      h = [i.x, i.y, i.z, i.w],
                      f = ['buffer', 'normalized', 'offset', 'stride'];
                    function d() {
                      e('if(!', u, '.buffer){', a, '.enableVertexAttribArray(', s, ');}');
                      var n,
                        o = i.type;
                      if (
                        ((n = i.size ? e.def(i.size, '||', r) : r),
                        e(
                          'if(',
                          u,
                          '.type!==',
                          o,
                          '||',
                          u,
                          '.size!==',
                          n,
                          '||',
                          f
                            .map(function (t) {
                              return u + '.' + t + '!==' + i[t];
                            })
                            .join('||'),
                          '){',
                          a,
                          '.bindBuffer(',
                          Sn,
                          ',',
                          l,
                          '.buffer);',
                          a,
                          '.vertexAttribPointer(',
                          [s, n, o, i.normalized, i.stride, i.offset],
                          ');',
                          u,
                          '.type=',
                          o,
                          ';',
                          u,
                          '.size=',
                          n,
                          ';',
                          f
                            .map(function (t) {
                              return u + '.' + t + '=' + i[t] + ';';
                            })
                            .join(''),
                          '}',
                        ),
                        m)
                      ) {
                        var c = i.divisor;
                        e(
                          'if(',
                          u,
                          '.divisor!==',
                          c,
                          '){',
                          t.instancing,
                          '.vertexAttribDivisorANGLE(',
                          [s, c],
                          ');',
                          u,
                          '.divisor=',
                          c,
                          ';}',
                        );
                      }
                    }
                    function p() {
                      e(
                        'if(',
                        u,
                        '.buffer){',
                        a,
                        '.disableVertexAttribArray(',
                        s,
                        ');',
                        u,
                        '.buffer=null;',
                        '}if(',
                        Pe.map(function (t, e) {
                          return u + '.' + t + '!==' + h[e];
                        }).join('||'),
                        '){',
                        a,
                        '.vertexAttrib4f(',
                        s,
                        ',',
                        h,
                        ');',
                        Pe.map(function (t, e) {
                          return u + '.' + t + '=' + h[e] + ';';
                        }).join(''),
                        '}',
                      );
                    }
                    1 === c
                      ? d()
                      : 2 === c
                      ? p()
                      : (e('if(', c, '===', 1, '){'), d(), e('}else{'), p(), e('}'));
                  })(
                    t.link(r),
                    (function (t) {
                      switch (t) {
                        case kn:
                        case Tn:
                        case Dn:
                          return 2;
                        case An:
                        case Nn:
                        case Ln:
                          return 3;
                        case Cn:
                        case Pn:
                        case Rn:
                          return 4;
                        default:
                          return 1;
                      }
                    })(r.info.type),
                    a,
                  );
                });
              }
              function V(t, e, r, i, o) {
                for (var a, s = t.shared, u = s.gl, c = 0; c < i.length; ++c) {
                  var l,
                    h = i[c],
                    f = h.name,
                    d = h.info.type,
                    p = r.uniforms[f],
                    g = t.link(h) + '.location';
                  if (p) {
                    if (!o(p)) continue;
                    if (er(p)) {
                      var v = p.value;
                      if (
                        (E.command(null != v, 'missing uniform "' + f + '"', t.commandStr),
                        d === zn || d === Fn)
                      ) {
                        E.command(
                          'function' == typeof v &&
                            ((d === zn &&
                              ('texture2d' === v._reglType || 'framebuffer' === v._reglType)) ||
                              (d === Fn &&
                                ('textureCube' === v._reglType ||
                                  'framebufferCube' === v._reglType))),
                          'invalid texture for uniform ' + f,
                          t.commandStr,
                        );
                        var y = t.link(v._texture || v.color[0]._texture);
                        e(u, '.uniform1i(', g, ',', y + '.bind());'), e.exit(y, '.unbind();');
                      } else if (d === Bn || d === jn || d === Gn) {
                        E.optional(function () {
                          E.command(dt(v), 'invalid matrix for uniform ' + f, t.commandStr),
                            E.command(
                              (d === Bn && 4 === v.length) ||
                                (d === jn && 9 === v.length) ||
                                (d === Gn && 16 === v.length),
                              'invalid length for matrix uniform ' + f,
                              t.commandStr,
                            );
                        });
                        var m = t.global.def(
                            'new Float32Array([' + Array.prototype.slice.call(v) + '])',
                          ),
                          b = 2;
                        d === jn ? (b = 3) : d === Gn && (b = 4),
                          e(u, '.uniformMatrix', b, 'fv(', g, ',false,', m, ');');
                      } else {
                        switch (d) {
                          case Mn:
                            E.commandType(v, 'number', 'uniform ' + f, t.commandStr), (a = '1f');
                            break;
                          case kn:
                            E.command(dt(v) && 2 === v.length, 'uniform ' + f, t.commandStr),
                              (a = '2f');
                            break;
                          case An:
                            E.command(dt(v) && 3 === v.length, 'uniform ' + f, t.commandStr),
                              (a = '3f');
                            break;
                          case Cn:
                            E.command(dt(v) && 4 === v.length, 'uniform ' + f, t.commandStr),
                              (a = '4f');
                            break;
                          case On:
                            E.commandType(v, 'boolean', 'uniform ' + f, t.commandStr), (a = '1i');
                            break;
                          case In:
                            E.commandType(v, 'number', 'uniform ' + f, t.commandStr), (a = '1i');
                            break;
                          case Dn:
                          case Tn:
                            E.command(dt(v) && 2 === v.length, 'uniform ' + f, t.commandStr),
                              (a = '2i');
                            break;
                          case Ln:
                          case Nn:
                            E.command(dt(v) && 3 === v.length, 'uniform ' + f, t.commandStr),
                              (a = '3i');
                            break;
                          case Rn:
                          case Pn:
                            E.command(dt(v) && 4 === v.length, 'uniform ' + f, t.commandStr),
                              (a = '4i');
                        }
                        e(
                          u,
                          '.uniform',
                          a,
                          '(',
                          g,
                          ',',
                          dt(v) ? Array.prototype.slice.call(v) : v,
                          ');',
                        );
                      }
                      continue;
                    }
                    l = p.append(t, e);
                  } else {
                    if (!o(ir)) continue;
                    l = e.def(s.uniforms, '[', n.id(f), ']');
                  }
                  d === zn
                    ? (E(!Array.isArray(l), 'must specify a scalar prop for textures'),
                      e(
                        'if(',
                        l,
                        '&&',
                        l,
                        '._reglType==="framebuffer"){',
                        l,
                        '=',
                        l,
                        '.color[0];',
                        '}',
                      ))
                    : d === Fn &&
                      (E(!Array.isArray(l), 'must specify a scalar prop for cube maps'),
                      e(
                        'if(',
                        l,
                        '&&',
                        l,
                        '._reglType==="framebufferCube"){',
                        l,
                        '=',
                        l,
                        '.color[0];',
                        '}',
                      )),
                    E.optional(function () {
                      function n(n, r) {
                        t.assert(e, n, 'bad data or missing for uniform "' + f + '".  ' + r);
                      }
                      function r(t) {
                        E(!Array.isArray(l), 'must not specify an array type for uniform'),
                          n('typeof ' + l + '==="' + t + '"', 'invalid type, expected ' + t);
                      }
                      function i(e, r) {
                        Array.isArray(l)
                          ? E(l.length === e, 'must have length ' + e)
                          : n(
                              s.isArrayLike + '(' + l + ')&&' + l + '.length===' + e,
                              'invalid vector, should have length ' + e,
                              t.commandStr,
                            );
                      }
                      function o(e) {
                        E(!Array.isArray(l), 'must not specify a value type'),
                          n(
                            'typeof ' +
                              l +
                              '==="function"&&' +
                              l +
                              '._reglType==="texture' +
                              (3553 === e ? '2d' : 'Cube') +
                              '"',
                            'invalid texture type',
                            t.commandStr,
                          );
                      }
                      switch (d) {
                        case In:
                          r('number');
                          break;
                        case Tn:
                          i(2);
                          break;
                        case Nn:
                          i(3);
                          break;
                        case Pn:
                          i(4);
                          break;
                        case Mn:
                          r('number');
                          break;
                        case kn:
                          i(2);
                          break;
                        case An:
                          i(3);
                          break;
                        case Cn:
                          i(4);
                          break;
                        case On:
                          r('boolean');
                          break;
                        case Dn:
                          i(2);
                          break;
                        case Ln:
                          i(3);
                          break;
                        case Rn:
                        case Bn:
                          i(4);
                          break;
                        case jn:
                          i(9);
                          break;
                        case Gn:
                          i(16);
                          break;
                        case zn:
                          o(3553);
                          break;
                        case Fn:
                          o(34067);
                      }
                    });
                  var x = 1;
                  switch (d) {
                    case zn:
                    case Fn:
                      var _ = e.def(l, '._texture');
                      e(u, '.uniform1i(', g, ',', _, '.bind());'), e.exit(_, '.unbind();');
                      continue;
                    case In:
                    case On:
                      a = '1i';
                      break;
                    case Tn:
                    case Dn:
                      (a = '2i'), (x = 2);
                      break;
                    case Nn:
                    case Ln:
                      (a = '3i'), (x = 3);
                      break;
                    case Pn:
                    case Rn:
                      (a = '4i'), (x = 4);
                      break;
                    case Mn:
                      a = '1f';
                      break;
                    case kn:
                      (a = '2f'), (x = 2);
                      break;
                    case An:
                      (a = '3f'), (x = 3);
                      break;
                    case Cn:
                      (a = '4f'), (x = 4);
                      break;
                    case Bn:
                      a = 'Matrix2fv';
                      break;
                    case jn:
                      a = 'Matrix3fv';
                      break;
                    case Gn:
                      a = 'Matrix4fv';
                  }
                  if ((e(u, '.uniform', a, '(', g, ','), 'M' === a.charAt(0))) {
                    var w = Math.pow(d - Bn + 2, 2),
                      S = t.global.def('new Float32Array(', w, ')');
                    Array.isArray(l)
                      ? e(
                          'false,(',
                          L(w, function (t) {
                            return S + '[' + t + ']=' + l[t];
                          }),
                          ',',
                          S,
                          ')',
                        )
                      : e(
                          'false,(Array.isArray(',
                          l,
                          ')||',
                          l,
                          ' instanceof Float32Array)?',
                          l,
                          ':(',
                          L(w, function (t) {
                            return S + '[' + t + ']=' + l + '[' + t + ']';
                          }),
                          ',',
                          S,
                          ')',
                        );
                  } else
                    x > 1
                      ? e(
                          L(x, function (t) {
                            return Array.isArray(l) ? l[t] : l + '[' + t + ']';
                          }),
                        )
                      : (E(!Array.isArray(l), 'uniform value must not be an array'), e(l));
                  e(');');
                }
              }
              function W(t, e, n, r) {
                var i = t.shared,
                  o = i.gl,
                  a = i.draw,
                  s = r.draw;
                var u = (function () {
                  var i,
                    u = s.elements,
                    c = e;
                  return (
                    u
                      ? (((u.contextDep && r.contextDynamic) || u.propDep) && (c = n),
                        (i = u.append(t, c)))
                      : (i = c.def(a, '.', hn)),
                    i && c('if(' + i + ')' + o + '.bindBuffer(34963,' + i + '.buffer.buffer);'),
                    i
                  );
                })();
                function c(i) {
                  var o = s[i];
                  return o
                    ? (o.contextDep && r.contextDynamic) || o.propDep
                      ? o.append(t, n)
                      : o.append(t, e)
                    : e.def(a, '.', i);
                }
                var l,
                  h,
                  f = c(fn),
                  d = c(pn),
                  p = (function () {
                    var i,
                      o = s.count,
                      u = e;
                    return (
                      o
                        ? (((o.contextDep && r.contextDynamic) || o.propDep) && (u = n),
                          (i = o.append(t, u)),
                          E.optional(function () {
                            o.MISSING && t.assert(e, 'false', 'missing vertex count'),
                              o.DYNAMIC && t.assert(u, i + '>=0', 'missing vertex count');
                          }))
                        : ((i = u.def(a, '.', dn)),
                          E.optional(function () {
                            t.assert(u, i + '>=0', 'missing vertex count');
                          })),
                      i
                    );
                  })();
                if ('number' == typeof p) {
                  if (0 === p) return;
                } else n('if(', p, '){'), n.exit('}');
                m && ((l = c(gn)), (h = t.instancing));
                var g = u + '.type',
                  v = s.elements && er(s.elements);
                function y() {
                  function t() {
                    n(
                      h,
                      '.drawElementsInstancedANGLE(',
                      [f, p, g, d + '<<((' + g + '-5121)>>1)', l],
                      ');',
                    );
                  }
                  function e() {
                    n(h, '.drawArraysInstancedANGLE(', [f, d, p, l], ');');
                  }
                  u ? (v ? t() : (n('if(', u, '){'), t(), n('}else{'), e(), n('}'))) : e();
                }
                function b() {
                  function t() {
                    n(o + '.drawElements(' + [f, p, g, d + '<<((' + g + '-5121)>>1)'] + ');');
                  }
                  function e() {
                    n(o + '.drawArrays(' + [f, d, p] + ');');
                  }
                  u ? (v ? t() : (n('if(', u, '){'), t(), n('}else{'), e(), n('}'))) : e();
                }
                m && ('number' != typeof l || l >= 0)
                  ? 'string' == typeof l
                    ? (n('if(', l, '>0){'), y(), n('}else if(', l, '<0){'), b(), n('}'))
                    : y()
                  : b();
              }
              function Y(t, e, n, r, i) {
                var o = O(),
                  a = o.proc('body', i);
                return (
                  E.optional(function () {
                    (o.commandStr = e.commandStr), (o.command = o.link(e.commandStr));
                  }),
                  m && (o.instancing = a.def(o.shared.extensions, '.angle_instanced_arrays')),
                  t(o, a, n, r),
                  o.compile().body
                );
              }
              function X(t, e, n, r) {
                z(t, e),
                  n.useVAO
                    ? n.drawVAO
                      ? e(t.shared.vao, '.setVAO(', n.drawVAO.append(t, e), ');')
                      : e(t.shared.vao, '.setVAO(', t.shared.vao, '.targetVAO);')
                    : (e(t.shared.vao, '.setVAO(null);'),
                      U(t, e, n, r.attributes, function () {
                        return !0;
                      })),
                  V(t, e, n, r.uniforms, function () {
                    return !0;
                  }),
                  W(t, e, e, n);
              }
              function H(t, e, n, r) {
                function i() {
                  return !0;
                }
                (t.batchId = 'a1'),
                  z(t, e),
                  U(t, e, n, r.attributes, i),
                  V(t, e, n, r.uniforms, i),
                  W(t, e, e, n);
              }
              function q(t, e, n, r) {
                z(t, e);
                var i = n.contextDep,
                  o = e.def(),
                  a = e.def();
                (t.shared.props = a), (t.batchId = o);
                var s = t.scope(),
                  u = t.scope();
                function c(t) {
                  return (t.contextDep && i) || t.propDep;
                }
                function l(t) {
                  return !c(t);
                }
                if (
                  (e(
                    s.entry,
                    'for(',
                    o,
                    '=0;',
                    o,
                    '<',
                    'a1',
                    ';++',
                    o,
                    '){',
                    a,
                    '=',
                    'a0',
                    '[',
                    o,
                    '];',
                    u,
                    '}',
                    s.exit,
                  ),
                  n.needsContext && R(t, u, n.context),
                  n.needsFramebuffer && B(t, u, n.framebuffer),
                  G(t, u, n.state, c),
                  n.profile && c(n.profile) && F(t, u, n, !1, !0),
                  r)
                )
                  n.useVAO
                    ? n.drawVAO
                      ? c(n.drawVAO)
                        ? u(t.shared.vao, '.setVAO(', n.drawVAO.append(t, u), ');')
                        : s(t.shared.vao, '.setVAO(', n.drawVAO.append(t, s), ');')
                      : s(t.shared.vao, '.setVAO(', t.shared.vao, '.targetVAO);')
                    : (s(t.shared.vao, '.setVAO(null);'),
                      U(t, s, n, r.attributes, l),
                      U(t, u, n, r.attributes, c)),
                    V(t, s, n, r.uniforms, l),
                    V(t, u, n, r.uniforms, c),
                    W(t, s, u, n);
                else {
                  var h = t.global.def('{}'),
                    f = n.shader.progVar.append(t, u),
                    d = u.def(f, '.id'),
                    p = u.def(h, '[', d, ']');
                  u(
                    t.shared.gl,
                    '.useProgram(',
                    f,
                    '.program);',
                    'if(!',
                    p,
                    '){',
                    p,
                    '=',
                    h,
                    '[',
                    d,
                    ']=',
                    t.link(function (e) {
                      return Y(H, t, n, e, 2);
                    }),
                    '(',
                    f,
                    ');}',
                    p,
                    '.call(this,a0[',
                    o,
                    '],',
                    o,
                    ');',
                  );
                }
              }
              function Z(t, e, n) {
                var r = e.static[n];
                if (
                  r &&
                  (function (t) {
                    if ('object' == typeof t && !dt(t)) {
                      for (var e = Object.keys(t), n = 0; n < e.length; ++n)
                        if (I.isDynamic(t[e[n]])) return !0;
                      return !1;
                    }
                  })(r)
                ) {
                  var i = t.global,
                    o = Object.keys(r),
                    a = !1,
                    s = !1,
                    u = !1,
                    c = t.global.def('{}');
                  o.forEach(function (e) {
                    var n = r[e];
                    if (I.isDynamic(n)) {
                      'function' == typeof n && (n = r[e] = I.unbox(n));
                      var o = rr(n, null);
                      (a = a || o.thisDep), (u = u || o.propDep), (s = s || o.contextDep);
                    } else {
                      switch ((i(c, '.', e, '='), typeof n)) {
                        case 'number':
                          i(n);
                          break;
                        case 'string':
                          i('"', n, '"');
                          break;
                        case 'object':
                          Array.isArray(n) && i('[', n.join(), ']');
                          break;
                        default:
                          i(t.link(n));
                      }
                      i(';');
                    }
                  }),
                    (e.dynamic[n] = new I.DynamicVariable(4, {
                      thisDep: a,
                      contextDep: s,
                      propDep: u,
                      ref: c,
                      append: function (t, e) {
                        o.forEach(function (n) {
                          var i = r[n];
                          if (I.isDynamic(i)) {
                            var o = t.invoke(e, i);
                            e(c, '.', n, '=', o, ';');
                          }
                        });
                      },
                    })),
                    delete e.static[n];
                }
              }
              return {
                next: _,
                current: x,
                procs: (function () {
                  var t = O(),
                    e = t.proc('poll'),
                    n = t.proc('refresh'),
                    o = t.block();
                  e(o), n(o);
                  var a,
                    s = t.shared,
                    u = s.gl,
                    c = s.next,
                    l = s.current;
                  o(l, '.dirty=false;'),
                    B(t, e),
                    B(t, n, null, !0),
                    m && (a = t.link(m)),
                    r.oes_vertex_array_object &&
                      n(t.link(r.oes_vertex_array_object), '.bindVertexArrayOES(null);');
                  for (var h = 0; h < i.maxAttributes; ++h) {
                    var f = n.def(s.attributes, '[', h, ']'),
                      d = t.cond(f, '.buffer');
                    d
                      .then(
                        u,
                        '.enableVertexAttribArray(',
                        h,
                        ');',
                        u,
                        '.bindBuffer(',
                        Sn,
                        ',',
                        f,
                        '.buffer.buffer);',
                        u,
                        '.vertexAttribPointer(',
                        h,
                        ',',
                        f,
                        '.size,',
                        f,
                        '.type,',
                        f,
                        '.normalized,',
                        f,
                        '.stride,',
                        f,
                        '.offset);',
                      )
                      .else(
                        u,
                        '.disableVertexAttribArray(',
                        h,
                        ');',
                        u,
                        '.vertexAttrib4f(',
                        h,
                        ',',
                        f,
                        '.x,',
                        f,
                        '.y,',
                        f,
                        '.z,',
                        f,
                        '.w);',
                        f,
                        '.buffer=null;',
                      ),
                      n(d),
                      m && n(a, '.vertexAttribDivisorANGLE(', h, ',', f, '.divisor);');
                  }
                  return (
                    n(
                      t.shared.vao,
                      '.currentVAO=null;',
                      t.shared.vao,
                      '.setVAO(',
                      t.shared.vao,
                      '.targetVAO);',
                    ),
                    Object.keys(S).forEach(function (r) {
                      var i = S[r],
                        a = o.def(c, '.', r),
                        s = t.block();
                      s(
                        'if(',
                        a,
                        '){',
                        u,
                        '.enable(',
                        i,
                        ')}else{',
                        u,
                        '.disable(',
                        i,
                        ')}',
                        l,
                        '.',
                        r,
                        '=',
                        a,
                        ';',
                      ),
                        n(s),
                        e('if(', a, '!==', l, '.', r, '){', s, '}');
                    }),
                    Object.keys(M).forEach(function (r) {
                      var i,
                        a,
                        s = M[r],
                        h = x[r],
                        f = t.block();
                      if ((f(u, '.', s, '('), dt(h))) {
                        var d = h.length;
                        (i = t.global.def(c, '.', r)),
                          (a = t.global.def(l, '.', r)),
                          f(
                            L(d, function (t) {
                              return i + '[' + t + ']';
                            }),
                            ');',
                            L(d, function (t) {
                              return a + '[' + t + ']=' + i + '[' + t + '];';
                            }).join(''),
                          ),
                          e(
                            'if(',
                            L(d, function (t) {
                              return i + '[' + t + ']!==' + a + '[' + t + ']';
                            }).join('||'),
                            '){',
                            f,
                            '}',
                          );
                      } else
                        (i = o.def(c, '.', r)),
                          (a = o.def(l, '.', r)),
                          f(i, ');', l, '.', r, '=', i, ';'),
                          e('if(', i, '!==', a, '){', f, '}');
                      n(f);
                    }),
                    t.compile()
                  );
                })(),
                compile: function (t, r, i, o, a) {
                  var s = O();
                  (s.stats = s.link(a)),
                    Object.keys(r.static).forEach(function (t) {
                      Z(s, r, t);
                    }),
                    En.forEach(function (e) {
                      Z(s, t, e);
                    });
                  var u = D(t, r, i, o, s);
                  return (
                    (function (t, e) {
                      var n = t.proc('draw', 1);
                      z(t, n),
                        R(t, n, e.context),
                        B(t, n, e.framebuffer),
                        j(t, n, e),
                        G(t, n, e.state),
                        F(t, n, e, !1, !0);
                      var r = e.shader.progVar.append(t, n);
                      if ((n(t.shared.gl, '.useProgram(', r, '.program);'), e.shader.program))
                        X(t, n, e, e.shader.program);
                      else {
                        n(t.shared.vao, '.setVAO(null);');
                        var i = t.global.def('{}'),
                          o = n.def(r, '.id'),
                          a = n.def(i, '[', o, ']');
                        n(
                          t
                            .cond(a)
                            .then(a, '.call(this,a0);')
                            .else(
                              a,
                              '=',
                              i,
                              '[',
                              o,
                              ']=',
                              t.link(function (n) {
                                return Y(X, t, e, n, 1);
                              }),
                              '(',
                              r,
                              ');',
                              a,
                              '.call(this,a0);',
                            ),
                        );
                      }
                      Object.keys(e.state).length > 0 && n(t.shared.current, '.dirty=true;');
                    })(s, u),
                    (function (t, e) {
                      var r = t.proc('scope', 3);
                      t.batchId = 'a2';
                      var i = t.shared,
                        o = i.current;
                      function a(n) {
                        var o = e.shader[n];
                        o && r.set(i.shader, '.' + n, o.append(t, r));
                      }
                      R(t, r, e.context),
                        e.framebuffer && e.framebuffer.append(t, r),
                        Jn(Object.keys(e.state)).forEach(function (n) {
                          var o = e.state[n].append(t, r);
                          dt(o)
                            ? o.forEach(function (e, i) {
                                r.set(t.next[n], '[' + i + ']', e);
                              })
                            : r.set(i.next, '.' + n, o);
                        }),
                        F(t, r, e, !0, !0),
                        [hn, pn, dn, gn, fn].forEach(function (n) {
                          var o = e.draw[n];
                          o && r.set(i.draw, '.' + n, '' + o.append(t, r));
                        }),
                        Object.keys(e.uniforms).forEach(function (o) {
                          var a = e.uniforms[o].append(t, r);
                          Array.isArray(a) && (a = '[' + a.join() + ']'),
                            r.set(i.uniforms, '[' + n.id(o) + ']', a);
                        }),
                        Object.keys(e.attributes).forEach(function (n) {
                          var i = e.attributes[n].append(t, r),
                            o = t.scopeAttrib(n);
                          Object.keys(new v()).forEach(function (t) {
                            r.set(o, '.' + t, i[t]);
                          });
                        }),
                        e.scopeVAO && r.set(i.vao, '.targetVAO', e.scopeVAO.append(t, r)),
                        a(cn),
                        a(ln),
                        Object.keys(e.state).length > 0 &&
                          (r(o, '.dirty=true;'), r.exit(o, '.dirty=true;')),
                        r('a1(', t.shared.context, ',a0,', t.batchId, ');');
                    })(s, u),
                    (function (t, e) {
                      var n = t.proc('batch', 2);
                      (t.batchId = '0'), z(t, n);
                      var r = !1,
                        i = !0;
                      Object.keys(e.context).forEach(function (t) {
                        r = r || e.context[t].propDep;
                      }),
                        r || (R(t, n, e.context), (i = !1));
                      var o = e.framebuffer,
                        a = !1;
                      function s(t) {
                        return (t.contextDep && r) || t.propDep;
                      }
                      o
                        ? (o.propDep ? (r = a = !0) : o.contextDep && r && (a = !0),
                          a || B(t, n, o))
                        : B(t, n, null),
                        e.state.viewport && e.state.viewport.propDep && (r = !0),
                        j(t, n, e),
                        G(t, n, e.state, function (t) {
                          return !s(t);
                        }),
                        (e.profile && s(e.profile)) || F(t, n, e, !1, 'a1'),
                        (e.contextDep = r),
                        (e.needsContext = i),
                        (e.needsFramebuffer = a);
                      var u = e.shader.progVar;
                      if ((u.contextDep && r) || u.propDep) q(t, n, e, null);
                      else {
                        var c = u.append(t, n);
                        if ((n(t.shared.gl, '.useProgram(', c, '.program);'), e.shader.program))
                          q(t, n, e, e.shader.program);
                        else {
                          n(t.shared.vao, '.setVAO(null);');
                          var l = t.global.def('{}'),
                            h = n.def(c, '.id'),
                            f = n.def(l, '[', h, ']');
                          n(
                            t
                              .cond(f)
                              .then(f, '.call(this,a0,a1);')
                              .else(
                                f,
                                '=',
                                l,
                                '[',
                                h,
                                ']=',
                                t.link(function (n) {
                                  return Y(q, t, e, n, 2);
                                }),
                                '(',
                                c,
                                ');',
                                f,
                                '.call(this,a0,a1);',
                              ),
                          );
                        }
                      }
                      Object.keys(e.state).length > 0 && n(t.shared.current, '.dirty=true;');
                    })(s, u),
                    e(s.compile(), {
                      destroy: function () {
                        u.shader.program.destroy();
                      },
                    })
                  );
                },
              };
            }
            var ar = function (t, e) {
                if (!e.ext_disjoint_timer_query) return null;
                var n = [];
                function r(t) {
                  n.push(t);
                }
                var i = [];
                function o() {
                  (this.startQueryIndex = -1),
                    (this.endQueryIndex = -1),
                    (this.sum = 0),
                    (this.stats = null);
                }
                var a = [];
                function s(t) {
                  a.push(t);
                }
                var u = [];
                function c(t, e, n) {
                  var r = a.pop() || new o();
                  (r.startQueryIndex = t),
                    (r.endQueryIndex = e),
                    (r.sum = 0),
                    (r.stats = n),
                    u.push(r);
                }
                var l = [],
                  h = [];
                return {
                  beginQuery: function (t) {
                    var r = n.pop() || e.ext_disjoint_timer_query.createQueryEXT();
                    e.ext_disjoint_timer_query.beginQueryEXT(35007, r),
                      i.push(r),
                      c(i.length - 1, i.length, t);
                  },
                  endQuery: function () {
                    e.ext_disjoint_timer_query.endQueryEXT(35007);
                  },
                  pushScopeStats: c,
                  update: function () {
                    var t,
                      n,
                      o = i.length;
                    if (0 !== o) {
                      (h.length = Math.max(h.length, o + 1)),
                        (l.length = Math.max(l.length, o + 1)),
                        (l[0] = 0),
                        (h[0] = 0);
                      var a = 0;
                      for (t = 0, n = 0; n < i.length; ++n) {
                        var c = i[n];
                        e.ext_disjoint_timer_query.getQueryObjectEXT(c, 34919)
                          ? ((a += e.ext_disjoint_timer_query.getQueryObjectEXT(c, 34918)), r(c))
                          : (i[t++] = c),
                          (l[n + 1] = a),
                          (h[n + 1] = t);
                      }
                      for (i.length = t, t = 0, n = 0; n < u.length; ++n) {
                        var f = u[n],
                          d = f.startQueryIndex,
                          p = f.endQueryIndex;
                        f.sum += l[p] - l[d];
                        var g = h[d],
                          v = h[p];
                        v === g
                          ? ((f.stats.gpuTime += f.sum / 1e6), s(f))
                          : ((f.startQueryIndex = g), (f.endQueryIndex = v), (u[t++] = f));
                      }
                      u.length = t;
                    }
                  },
                  getNumPendingQueries: function () {
                    return i.length;
                  },
                  clear: function () {
                    n.push.apply(n, i);
                    for (var t = 0; t < n.length; t++)
                      e.ext_disjoint_timer_query.deleteQueryEXT(n[t]);
                    (i.length = 0), (n.length = 0);
                  },
                  restore: function () {
                    (i.length = 0), (n.length = 0);
                  },
                };
              },
              sr = 'webglcontextlost',
              ur = 'webglcontextrestored';
            function cr(t, e) {
              for (var n = 0; n < t.length; ++n) if (t[n] === e) return n;
              return -1;
            }
            return function (n) {
              var r = D(n);
              if (!r) return null;
              var i = r.gl,
                o = i.getContextAttributes(),
                a = i.isContextLost(),
                s = (function (t, e) {
                  var n = {};
                  function r(e) {
                    E.type(e, 'string', 'extension name must be string');
                    var r,
                      i = e.toLowerCase();
                    try {
                      r = n[i] = t.getExtension(i);
                    } catch (t) {}
                    return !!r;
                  }
                  for (var i = 0; i < e.extensions.length; ++i) {
                    var o = e.extensions[i];
                    if (!r(o))
                      return (
                        e.onDestroy(),
                        e.onDone(
                          '"' +
                            o +
                            '" extension is not supported by the current WebGL context, try upgrading your system or a different browser',
                        ),
                        null
                      );
                  }
                  return (
                    e.optionalExtensions.forEach(r),
                    {
                      extensions: n,
                      restore: function () {
                        Object.keys(n).forEach(function (t) {
                          if (n[t] && !r(t))
                            throw new Error('(regl): error restoring extension ' + t);
                        });
                      },
                    }
                  );
                })(i, r);
              if (!s) return null;
              var u,
                c,
                l =
                  ((u = { '': 0 }),
                  (c = ['']),
                  {
                    id: function (t) {
                      var e = u[t];
                      return e || ((e = u[t] = c.length), c.push(t), e);
                    },
                    str: function (t) {
                      return c[t];
                    },
                  }),
                h = {
                  vaoCount: 0,
                  bufferCount: 0,
                  elementsCount: 0,
                  framebufferCount: 0,
                  shaderCount: 0,
                  textureCount: 0,
                  cubeCount: 0,
                  renderbufferCount: 0,
                  maxTextureUnits: 0,
                },
                f = s.extensions,
                d = ar(0, f),
                p = N(),
                g = i.drawingBufferWidth,
                v = i.drawingBufferHeight,
                y = {
                  tick: 0,
                  time: 0,
                  viewportWidth: g,
                  viewportHeight: v,
                  framebufferWidth: g,
                  framebufferHeight: v,
                  drawingBufferWidth: g,
                  drawingBufferHeight: v,
                  pixelRatio: r.pixelRatio,
                },
                m = (function (t, e) {
                  var n = 1;
                  e.ext_texture_filter_anisotropic && (n = t.getParameter(34047));
                  var r = 1,
                    i = 1;
                  e.webgl_draw_buffers &&
                    ((r = t.getParameter(34852)), (i = t.getParameter(36063)));
                  var o = !!e.oes_texture_float;
                  if (o) {
                    var a = t.createTexture();
                    t.bindTexture(G, a), t.texImage2D(G, 0, z, 1, 1, 0, z, F, null);
                    var s = t.createFramebuffer();
                    if (
                      (t.bindFramebuffer(U, s),
                      t.framebufferTexture2D(U, 36064, G, a, 0),
                      t.bindTexture(G, null),
                      36053 !== t.checkFramebufferStatus(U))
                    )
                      o = !1;
                    else {
                      t.viewport(0, 0, 1, 1), t.clearColor(1, 0, 0, 1), t.clear(16384);
                      var u = j.allocType(F, 4);
                      t.readPixels(0, 0, 1, 1, z, F, u),
                        t.getError()
                          ? (o = !1)
                          : (t.deleteFramebuffer(s), t.deleteTexture(a), (o = 1 === u[0])),
                        j.freeType(u);
                    }
                  }
                  var c = !0;
                  if (
                    'undefined' == typeof navigator ||
                    !(
                      /MSIE/.test(navigator.userAgent) ||
                      /Trident\//.test(navigator.appVersion) ||
                      /Edge/.test(navigator.userAgent)
                    )
                  ) {
                    var l = t.createTexture(),
                      h = j.allocType(5121, 36);
                    t.activeTexture(33984),
                      t.bindTexture(34067, l),
                      t.texImage2D(34069, 0, z, 3, 3, 0, z, 5121, h),
                      j.freeType(h),
                      t.bindTexture(34067, null),
                      t.deleteTexture(l),
                      (c = !t.getError());
                  }
                  return {
                    colorBits: [
                      t.getParameter(3410),
                      t.getParameter(3411),
                      t.getParameter(3412),
                      t.getParameter(3413),
                    ],
                    depthBits: t.getParameter(3414),
                    stencilBits: t.getParameter(3415),
                    subpixelBits: t.getParameter(3408),
                    extensions: Object.keys(e).filter(function (t) {
                      return !!e[t];
                    }),
                    maxAnisotropic: n,
                    maxDrawbuffers: r,
                    maxColorAttachments: i,
                    pointSizeDims: t.getParameter(33901),
                    lineWidthDims: t.getParameter(33902),
                    maxViewportDims: t.getParameter(3386),
                    maxCombinedTextureUnits: t.getParameter(35661),
                    maxCubeMapSize: t.getParameter(34076),
                    maxRenderbufferSize: t.getParameter(34024),
                    maxTextureUnits: t.getParameter(34930),
                    maxTextureSize: t.getParameter(3379),
                    maxAttributes: t.getParameter(34921),
                    maxVertexUniforms: t.getParameter(36347),
                    maxVertexTextureUnits: t.getParameter(35660),
                    maxVaryingVectors: t.getParameter(36348),
                    maxFragmentUniforms: t.getParameter(36349),
                    glsl: t.getParameter(35724),
                    renderer: t.getParameter(7937),
                    vendor: t.getParameter(7936),
                    version: t.getParameter(7938),
                    readFloat: o,
                    npotTextureCube: c,
                  };
                })(i, f),
                b = (function (e, n, r, i) {
                  var o = 0,
                    a = {};
                  function s(t) {
                    (this.id = o++),
                      (this.buffer = e.createBuffer()),
                      (this.type = t),
                      (this.usage = 35044),
                      (this.byteLength = 0),
                      (this.dimension = 1),
                      (this.dtype = J),
                      (this.persistentData = null),
                      r.profile && (this.stats = { size: 0 });
                  }
                  (s.prototype.bind = function () {
                    e.bindBuffer(this.type, this.buffer);
                  }),
                    (s.prototype.destroy = function () {
                      h(this);
                    });
                  var u = [];
                  function c(t, n, r) {
                    (t.byteLength = n.byteLength), e.bufferData(t.type, n, r);
                  }
                  function l(e, n, r, i, o, a) {
                    var s, u;
                    if (((e.usage = r), Array.isArray(n))) {
                      if (((e.dtype = i || tt), n.length > 0))
                        if (Array.isArray(n[0])) {
                          s = Q(n);
                          for (var l = 1, h = 1; h < s.length; ++h) l *= s[h];
                          (e.dimension = l),
                            c(e, (u = $(n, s, e.dtype)), r),
                            a ? (e.persistentData = u) : j.freeType(u);
                        } else if ('number' == typeof n[0]) {
                          e.dimension = o;
                          var f = j.allocType(e.dtype, n.length);
                          rt(f, n), c(e, f, r), a ? (e.persistentData = f) : j.freeType(f);
                        } else
                          t(n[0])
                            ? ((e.dimension = n[0].length),
                              (e.dtype = i || nt(n[0]) || tt),
                              c(e, (u = $(n, [n.length, n[0].length], e.dtype)), r),
                              a ? (e.persistentData = u) : j.freeType(u))
                            : E.raise('invalid buffer data');
                    } else if (t(n))
                      (e.dtype = i || nt(n)),
                        (e.dimension = o),
                        c(e, n, r),
                        a && (e.persistentData = new Uint8Array(new Uint8Array(n.buffer)));
                    else if (V(n)) {
                      s = n.shape;
                      var d = n.stride,
                        p = n.offset,
                        g = 0,
                        v = 0,
                        y = 0,
                        m = 0;
                      1 === s.length
                        ? ((g = s[0]), (v = 1), (y = d[0]), (m = 0))
                        : 2 === s.length
                        ? ((g = s[0]), (v = s[1]), (y = d[0]), (m = d[1]))
                        : E.raise('invalid shape'),
                        (e.dtype = i || nt(n.data) || tt),
                        (e.dimension = v);
                      var b = j.allocType(e.dtype, g * v);
                      it(b, n.data, g, v, y, m, p),
                        c(e, b, r),
                        a ? (e.persistentData = b) : j.freeType(b);
                    } else
                      n instanceof ArrayBuffer
                        ? ((e.dtype = J),
                          (e.dimension = o),
                          c(e, n, r),
                          a && (e.persistentData = new Uint8Array(new Uint8Array(n))))
                        : E.raise('invalid buffer data');
                  }
                  function h(t) {
                    n.bufferCount--, i(t);
                    var r = t.buffer;
                    E(r, 'buffer must not be deleted already'),
                      e.deleteBuffer(r),
                      (t.buffer = null),
                      delete a[t.id];
                  }
                  return (
                    r.profile &&
                      (n.getTotalBufferSize = function () {
                        var t = 0;
                        return (
                          Object.keys(a).forEach(function (e) {
                            t += a[e].stats.size;
                          }),
                          t
                        );
                      }),
                    {
                      create: function (i, o, u, c) {
                        n.bufferCount++;
                        var f = new s(o);
                        function d(n) {
                          var i = 35044,
                            o = null,
                            a = 0,
                            s = 0,
                            u = 1;
                          return (
                            Array.isArray(n) || t(n) || V(n) || n instanceof ArrayBuffer
                              ? (o = n)
                              : 'number' == typeof n
                              ? (a = 0 | n)
                              : n &&
                                (E.type(
                                  n,
                                  'object',
                                  'buffer arguments must be an object, a number or an array',
                                ),
                                'data' in n &&
                                  (E(
                                    null === o || Array.isArray(o) || t(o) || V(o),
                                    'invalid data for buffer',
                                  ),
                                  (o = n.data)),
                                'usage' in n &&
                                  (E.parameter(n.usage, Z, 'invalid buffer usage'),
                                  (i = Z[n.usage])),
                                'type' in n &&
                                  (E.parameter(n.type, K, 'invalid buffer type'), (s = K[n.type])),
                                'dimension' in n &&
                                  (E.type(n.dimension, 'number', 'invalid dimension'),
                                  (u = 0 | n.dimension)),
                                'length' in n &&
                                  (E.nni(a, 'buffer length must be a nonnegative integer'),
                                  (a = 0 | n.length))),
                            f.bind(),
                            o
                              ? l(f, o, i, s, u, c)
                              : (a && e.bufferData(f.type, a, i),
                                (f.dtype = s || J),
                                (f.usage = i),
                                (f.dimension = u),
                                (f.byteLength = a)),
                            r.profile && (f.stats.size = f.byteLength * et[f.dtype]),
                            d
                          );
                        }
                        function p(t, n) {
                          E(
                            n + t.byteLength <= f.byteLength,
                            "invalid buffer subdata call, buffer is too small.  Can't write data of size " +
                              t.byteLength +
                              ' starting from offset ' +
                              n +
                              ' to a buffer of size ' +
                              f.byteLength,
                          ),
                            e.bufferSubData(f.type, n, t);
                        }
                        return (
                          (a[f.id] = f),
                          u || d(i),
                          (d._reglType = 'buffer'),
                          (d._buffer = f),
                          (d.subdata = function (e, n) {
                            var r,
                              i = 0 | (n || 0);
                            if ((f.bind(), t(e) || e instanceof ArrayBuffer)) p(e, i);
                            else if (Array.isArray(e)) {
                              if (e.length > 0)
                                if ('number' == typeof e[0]) {
                                  var o = j.allocType(f.dtype, e.length);
                                  rt(o, e), p(o, i), j.freeType(o);
                                } else if (Array.isArray(e[0]) || t(e[0])) {
                                  r = Q(e);
                                  var a = $(e, r, f.dtype);
                                  p(a, i), j.freeType(a);
                                } else E.raise('invalid buffer data');
                            } else if (V(e)) {
                              r = e.shape;
                              var s = e.stride,
                                u = 0,
                                c = 0,
                                l = 0,
                                h = 0;
                              1 === r.length
                                ? ((u = r[0]), (c = 1), (l = s[0]), (h = 0))
                                : 2 === r.length
                                ? ((u = r[0]), (c = r[1]), (l = s[0]), (h = s[1]))
                                : E.raise('invalid shape');
                              var g = Array.isArray(e.data) ? f.dtype : nt(e.data),
                                v = j.allocType(g, u * c);
                              it(v, e.data, u, c, l, h, e.offset), p(v, i), j.freeType(v);
                            } else E.raise('invalid data for buffer subdata');
                            return d;
                          }),
                          r.profile && (d.stats = f.stats),
                          (d.destroy = function () {
                            h(f);
                          }),
                          d
                        );
                      },
                      createStream: function (t, e) {
                        var n = u.pop();
                        return n || (n = new s(t)), n.bind(), l(n, e, 35040, 0, 1, !1), n;
                      },
                      destroyStream: function (t) {
                        u.push(t);
                      },
                      clear: function () {
                        W(a).forEach(h), u.forEach(h);
                      },
                      getBuffer: function (t) {
                        return t && t._buffer instanceof s ? t._buffer : null;
                      },
                      restore: function () {
                        W(a).forEach(function (t) {
                          (t.buffer = e.createBuffer()),
                            e.bindBuffer(t.type, t.buffer),
                            e.bufferData(t.type, t.persistentData || t.byteLength, t.usage);
                        });
                      },
                      _initBuffer: l,
                    }
                  );
                })(i, h, r, function (t) {
                  return x.destroyBuffer(t);
                }),
                x = (function (e, n, r, i, o) {
                  for (var a = r.maxAttributes, s = new Array(a), u = 0; u < a; ++u)
                    s[u] = new ke();
                  var c = 0,
                    l = {},
                    h = {
                      Record: ke,
                      scope: {},
                      state: s,
                      currentVAO: null,
                      targetVAO: null,
                      restore: f()
                        ? function () {
                            f() &&
                              W(l).forEach(function (t) {
                                t.refresh();
                              });
                          }
                        : function () {},
                      createVAO: function (e) {
                        var r = new p();
                        function s(e) {
                          E(
                            Array.isArray(e),
                            'arguments to vertex array constructor must be an array',
                          ),
                            E(e.length < a, 'too many attributes'),
                            E(e.length > 0, 'must specify at least one attribute');
                          var i = {},
                            u = r.attributes;
                          u.length = e.length;
                          for (var c = 0; c < e.length; ++c) {
                            var l,
                              h = e[c],
                              f = (u[c] = new ke()),
                              d = h.data || h;
                            Array.isArray(d) || t(d) || V(d)
                              ? (r.buffers[c] &&
                                  ((l = r.buffers[c]),
                                  t(d) && l._buffer.byteLength >= d.byteLength
                                    ? l.subdata(d)
                                    : (l.destroy(), (r.buffers[c] = null))),
                                r.buffers[c] || (l = r.buffers[c] = o.create(h, 34962, !1, !0)),
                                (f.buffer = o.getBuffer(l)),
                                (f.size = 0 | f.buffer.dimension),
                                (f.normalized = !1),
                                (f.type = f.buffer.dtype),
                                (f.offset = 0),
                                (f.stride = 0),
                                (f.divisor = 0),
                                (f.state = 1),
                                (i[c] = 1))
                              : o.getBuffer(h)
                              ? ((f.buffer = o.getBuffer(h)),
                                (f.size = 0 | f.buffer.dimension),
                                (f.normalized = !1),
                                (f.type = f.buffer.dtype),
                                (f.offset = 0),
                                (f.stride = 0),
                                (f.divisor = 0),
                                (f.state = 1))
                              : o.getBuffer(h.buffer)
                              ? ((f.buffer = o.getBuffer(h.buffer)),
                                (f.size = 0 | (+h.size || f.buffer.dimension)),
                                (f.normalized = !!h.normalized || !1),
                                'type' in h
                                  ? (E.parameter(h.type, K, 'invalid buffer type'),
                                    (f.type = K[h.type]))
                                  : (f.type = f.buffer.dtype),
                                (f.offset = 0 | (h.offset || 0)),
                                (f.stride = 0 | (h.stride || 0)),
                                (f.divisor = 0 | (h.divisor || 0)),
                                (f.state = 1),
                                E(f.size >= 1 && f.size <= 4, 'size must be between 1 and 4'),
                                E(f.offset >= 0, 'invalid offset'),
                                E(
                                  f.stride >= 0 && f.stride <= 255,
                                  'stride must be between 0 and 255',
                                ),
                                E(f.divisor >= 0, 'divisor must be positive'),
                                E(
                                  !f.divisor || !!n.angle_instanced_arrays,
                                  'ANGLE_instanced_arrays must be enabled to use divisor',
                                ))
                              : 'x' in h
                              ? (E(c > 0, 'first attribute must not be a constant'),
                                (f.x = +h.x || 0),
                                (f.y = +h.y || 0),
                                (f.z = +h.z || 0),
                                (f.w = +h.w || 0),
                                (f.state = 2))
                              : E(!1, 'invalid attribute spec for location ' + c);
                          }
                          for (var p = 0; p < r.buffers.length; ++p)
                            !i[p] &&
                              r.buffers[p] &&
                              (r.buffers[p].destroy(), (r.buffers[p] = null));
                          return r.refresh(), s;
                        }
                        return (
                          (i.vaoCount += 1),
                          (s.destroy = function () {
                            for (var t = 0; t < r.buffers.length; ++t)
                              r.buffers[t] && r.buffers[t].destroy();
                            (r.buffers.length = 0), r.destroy();
                          }),
                          (s._vao = r),
                          (s._reglType = 'vao'),
                          s(e)
                        );
                      },
                      getVAO: function (t) {
                        return 'function' == typeof t && t._vao ? t._vao : null;
                      },
                      destroyBuffer: function (t) {
                        for (var n = 0; n < s.length; ++n) {
                          var r = s[n];
                          r.buffer === t && (e.disableVertexAttribArray(n), (r.buffer = null));
                        }
                      },
                      setVAO: f()
                        ? function (t) {
                            if (t !== h.currentVAO) {
                              var e = f();
                              t ? e.bindVertexArrayOES(t.vao) : e.bindVertexArrayOES(null),
                                (h.currentVAO = t);
                            }
                          }
                        : function (t) {
                            if (t !== h.currentVAO) {
                              if (t) t.bindAttrs();
                              else
                                for (var n = d(), r = 0; r < s.length; ++r) {
                                  var i = s[r];
                                  i.buffer
                                    ? (e.enableVertexAttribArray(r),
                                      e.vertexAttribPointer(
                                        r,
                                        i.size,
                                        i.type,
                                        i.normalized,
                                        i.stride,
                                        i.offfset,
                                      ),
                                      n && i.divisor && n.vertexAttribDivisorANGLE(r, i.divisor))
                                    : (e.disableVertexAttribArray(r),
                                      e.vertexAttrib4f(r, i.x, i.y, i.z, i.w));
                                }
                              h.currentVAO = t;
                            }
                          },
                      clear: f()
                        ? function () {
                            W(l).forEach(function (t) {
                              t.destroy();
                            });
                          }
                        : function () {},
                    };
                  function f() {
                    return n.oes_vertex_array_object;
                  }
                  function d() {
                    return n.angle_instanced_arrays;
                  }
                  function p() {
                    (this.id = ++c), (this.attributes = []);
                    var t = f();
                    (this.vao = t ? t.createVertexArrayOES() : null),
                      (l[this.id] = this),
                      (this.buffers = []);
                  }
                  return (
                    (p.prototype.bindAttrs = function () {
                      for (var t = d(), n = this.attributes, r = 0; r < n.length; ++r) {
                        var i = n[r];
                        i.buffer
                          ? (e.enableVertexAttribArray(r),
                            e.bindBuffer(34962, i.buffer.buffer),
                            e.vertexAttribPointer(
                              r,
                              i.size,
                              i.type,
                              i.normalized,
                              i.stride,
                              i.offset,
                            ),
                            t && i.divisor && t.vertexAttribDivisorANGLE(r, i.divisor))
                          : (e.disableVertexAttribArray(r),
                            e.vertexAttrib4f(r, i.x, i.y, i.z, i.w));
                      }
                      for (var o = n.length; o < a; ++o) e.disableVertexAttribArray(o);
                    }),
                    (p.prototype.refresh = function () {
                      var t = f();
                      t &&
                        (t.bindVertexArrayOES(this.vao), this.bindAttrs(), (h.currentVAO = this));
                    }),
                    (p.prototype.destroy = function () {
                      if (this.vao) {
                        var t = f();
                        this === h.currentVAO &&
                          ((h.currentVAO = null), t.bindVertexArrayOES(null)),
                          t.deleteVertexArrayOES(this.vao),
                          (this.vao = null);
                      }
                      l[this.id] && (delete l[this.id], (i.vaoCount -= 1));
                    }),
                    h
                  );
                })(i, f, m, h, b),
                _ = (function (e, n, r, i) {
                  var o = {},
                    a = 0,
                    s = { uint8: at, uint16: st };
                  function u(t) {
                    (this.id = a++),
                      (o[this.id] = this),
                      (this.buffer = t),
                      (this.primType = 4),
                      (this.vertCount = 0),
                      (this.type = 0);
                  }
                  n.oes_element_index_uint && (s.uint32 = ut),
                    (u.prototype.bind = function () {
                      this.buffer.bind();
                    });
                  var c = [];
                  function l(i, o, a, s, u, c, l) {
                    var h;
                    if ((i.buffer.bind(), o)) {
                      var f = l;
                      l ||
                        (t(o) && (!V(o) || t(o.data))) ||
                        (f = n.oes_element_index_uint ? ut : st),
                        r._initBuffer(i.buffer, o, a, f, 3);
                    } else
                      e.bufferData(ct, c, a),
                        (i.buffer.dtype = h || at),
                        (i.buffer.usage = a),
                        (i.buffer.dimension = 3),
                        (i.buffer.byteLength = c);
                    if (((h = l), !l)) {
                      switch (i.buffer.dtype) {
                        case at:
                        case 5120:
                          h = at;
                          break;
                        case st:
                        case 5122:
                          h = st;
                          break;
                        case ut:
                        case 5124:
                          h = ut;
                          break;
                        default:
                          E.raise('unsupported type for element array');
                      }
                      i.buffer.dtype = h;
                    }
                    (i.type = h),
                      E(
                        h !== ut || !!n.oes_element_index_uint,
                        '32 bit element buffers not supported, enable oes_element_index_uint first',
                      );
                    var d = u;
                    d < 0 &&
                      ((d = i.buffer.byteLength), h === st ? (d >>= 1) : h === ut && (d >>= 2)),
                      (i.vertCount = d);
                    var p = s;
                    if (s < 0) {
                      p = 4;
                      var g = i.buffer.dimension;
                      1 === g && (p = 0), 2 === g && (p = 1), 3 === g && (p = 4);
                    }
                    i.primType = p;
                  }
                  function h(t) {
                    i.elementsCount--,
                      E(null !== t.buffer, 'must not double destroy elements'),
                      delete o[t.id],
                      t.buffer.destroy(),
                      (t.buffer = null);
                  }
                  return {
                    create: function (e, n) {
                      var o = r.create(null, ct, !0),
                        a = new u(o._buffer);
                      function c(e) {
                        if (e)
                          if ('number' == typeof e)
                            o(e), (a.primType = 4), (a.vertCount = 0 | e), (a.type = at);
                          else {
                            var n = null,
                              r = 35044,
                              i = -1,
                              u = -1,
                              h = 0,
                              f = 0;
                            Array.isArray(e) || t(e) || V(e)
                              ? (n = e)
                              : (E.type(e, 'object', 'invalid arguments for elements'),
                                'data' in e &&
                                  ((n = e.data),
                                  E(
                                    Array.isArray(n) || t(n) || V(n),
                                    'invalid data for element buffer',
                                  )),
                                'usage' in e &&
                                  (E.parameter(e.usage, Z, 'invalid element buffer usage'),
                                  (r = Z[e.usage])),
                                'primitive' in e &&
                                  (E.parameter(e.primitive, ot, 'invalid element buffer primitive'),
                                  (i = ot[e.primitive])),
                                'count' in e &&
                                  (E(
                                    'number' == typeof e.count && e.count >= 0,
                                    'invalid vertex count for elements',
                                  ),
                                  (u = 0 | e.count)),
                                'type' in e &&
                                  (E.parameter(e.type, s, 'invalid buffer type'), (f = s[e.type])),
                                'length' in e
                                  ? (h = 0 | e.length)
                                  : ((h = u),
                                    f === st || 5122 === f
                                      ? (h *= 2)
                                      : (f !== ut && 5124 !== f) || (h *= 4))),
                              l(a, n, r, i, u, h, f);
                          }
                        else o(), (a.primType = 4), (a.vertCount = 0), (a.type = at);
                        return c;
                      }
                      return (
                        i.elementsCount++,
                        c(e),
                        (c._reglType = 'elements'),
                        (c._elements = a),
                        (c.subdata = function (t, e) {
                          return o.subdata(t, e), c;
                        }),
                        (c.destroy = function () {
                          h(a);
                        }),
                        c
                      );
                    },
                    createStream: function (t) {
                      var e = c.pop();
                      return (
                        e || (e = new u(r.create(null, ct, !0, !1)._buffer)),
                        l(e, t, 35040, -1, -1, 0, 0),
                        e
                      );
                    },
                    destroyStream: function (t) {
                      c.push(t);
                    },
                    getElements: function (t) {
                      return 'function' == typeof t && t._elements instanceof u
                        ? t._elements
                        : null;
                    },
                    clear: function () {
                      W(o).forEach(h);
                    },
                  };
                })(i, f, b, h),
                w = (function (t, n, r, i) {
                  var o = {},
                    a = {};
                  function s(t, e, n, r) {
                    (this.name = t), (this.id = e), (this.location = n), (this.info = r);
                  }
                  function u(t, e) {
                    for (var n = 0; n < t.length; ++n)
                      if (t[n].id === e.id) return void (t[n].location = e.location);
                    t.push(e);
                  }
                  function c(e, r, i) {
                    var s = 35632 === e ? o : a,
                      u = s[r];
                    if (!u) {
                      var c = n.str(r);
                      (u = t.createShader(e)),
                        t.shaderSource(u, c),
                        t.compileShader(u),
                        E.shaderError(t, u, c, e, i),
                        (s[r] = u);
                    }
                    return u;
                  }
                  var l = {},
                    h = [],
                    f = 0;
                  function d(t, e) {
                    (this.id = f++),
                      (this.fragId = t),
                      (this.vertId = e),
                      (this.program = null),
                      (this.uniforms = []),
                      (this.attributes = []),
                      (this.refCount = 1),
                      i.profile && (this.stats = { uniformsCount: 0, attributesCount: 0 });
                  }
                  function p(e, r, o) {
                    var a,
                      l,
                      h = c(35632, e.fragId),
                      f = c(35633, e.vertId),
                      d = (e.program = t.createProgram());
                    if ((t.attachShader(d, h), t.attachShader(d, f), o))
                      for (a = 0; a < o.length; ++a) {
                        var p = o[a];
                        t.bindAttribLocation(d, p[0], p[1]);
                      }
                    t.linkProgram(d), E.linkError(t, d, n.str(e.fragId), n.str(e.vertId), r);
                    var g = t.getProgramParameter(d, 35718);
                    i.profile && (e.stats.uniformsCount = g);
                    var v = e.uniforms;
                    for (a = 0; a < g; ++a)
                      if ((l = t.getActiveUniform(d, a)))
                        if (l.size > 1)
                          for (var y = 0; y < l.size; ++y) {
                            var m = l.name.replace('[0]', '[' + y + ']');
                            u(v, new s(m, n.id(m), t.getUniformLocation(d, m), l));
                          }
                        else u(v, new s(l.name, n.id(l.name), t.getUniformLocation(d, l.name), l));
                    var b = t.getProgramParameter(d, 35721);
                    i.profile && (e.stats.attributesCount = b);
                    var x = e.attributes;
                    for (a = 0; a < b; ++a)
                      (l = t.getActiveAttrib(d, a)) &&
                        u(x, new s(l.name, n.id(l.name), t.getAttribLocation(d, l.name), l));
                  }
                  return (
                    i.profile &&
                      ((r.getMaxUniformsCount = function () {
                        var t = 0;
                        return (
                          h.forEach(function (e) {
                            e.stats.uniformsCount > t && (t = e.stats.uniformsCount);
                          }),
                          t
                        );
                      }),
                      (r.getMaxAttributesCount = function () {
                        var t = 0;
                        return (
                          h.forEach(function (e) {
                            e.stats.attributesCount > t && (t = e.stats.attributesCount);
                          }),
                          t
                        );
                      })),
                    {
                      clear: function () {
                        var e = t.deleteShader.bind(t);
                        W(o).forEach(e),
                          (o = {}),
                          W(a).forEach(e),
                          (a = {}),
                          h.forEach(function (e) {
                            t.deleteProgram(e.program);
                          }),
                          (h.length = 0),
                          (l = {}),
                          (r.shaderCount = 0);
                      },
                      program: function (n, i, s, u) {
                        E.command(n >= 0, 'missing vertex shader', s),
                          E.command(i >= 0, 'missing fragment shader', s);
                        var c = l[i];
                        c || (c = l[i] = {});
                        var f = c[n];
                        if (f && (f.refCount++, !u)) return f;
                        var g = new d(i, n);
                        return (
                          r.shaderCount++,
                          p(g, s, u),
                          f || (c[n] = g),
                          h.push(g),
                          e(g, {
                            destroy: function () {
                              if ((g.refCount--, g.refCount <= 0)) {
                                t.deleteProgram(g.program);
                                var e = h.indexOf(g);
                                h.splice(e, 1), r.shaderCount--;
                              }
                              c[g.vertId].refCount <= 0 &&
                                (t.deleteShader(a[g.vertId]),
                                delete a[g.vertId],
                                delete l[g.fragId][g.vertId]),
                                Object.keys(l[g.fragId]).length ||
                                  (t.deleteShader(o[g.fragId]),
                                  delete o[g.fragId],
                                  delete l[g.fragId]);
                            },
                          })
                        );
                      },
                      restore: function () {
                        (o = {}), (a = {});
                        for (var t = 0; t < h.length; ++t)
                          p(
                            h[t],
                            null,
                            h[t].attributes.map(function (t) {
                              return [t.location, t.name];
                            }),
                          );
                      },
                      shader: c,
                      frag: -1,
                      vert: -1,
                    }
                  );
                })(i, l, h, r),
                S = fe(
                  i,
                  f,
                  m,
                  function () {
                    A.procs.poll();
                  },
                  y,
                  h,
                  r,
                ),
                M = (function (t, e, n, r, i) {
                  var o = {
                    rgba4: pe,
                    rgb565: 36194,
                    'rgb5 a1': 32855,
                    depth: 33189,
                    stencil: 36168,
                    'depth stencil': 34041,
                  };
                  e.ext_srgb && (o.srgba = 35907),
                    e.ext_color_buffer_half_float && ((o.rgba16f = 34842), (o.rgb16f = 34843)),
                    e.webgl_color_buffer_float && (o.rgba32f = 34836);
                  var a = [];
                  Object.keys(o).forEach(function (t) {
                    var e = o[t];
                    a[e] = t;
                  });
                  var s = 0,
                    u = {};
                  function c(t) {
                    (this.id = s++),
                      (this.refCount = 1),
                      (this.renderbuffer = t),
                      (this.format = pe),
                      (this.width = 0),
                      (this.height = 0),
                      i.profile && (this.stats = { size: 0 });
                  }
                  function l(e) {
                    var n = e.renderbuffer;
                    E(n, 'must not double destroy renderbuffer'),
                      t.bindRenderbuffer(de, null),
                      t.deleteRenderbuffer(n),
                      (e.renderbuffer = null),
                      (e.refCount = 0),
                      delete u[e.id],
                      r.renderbufferCount--;
                  }
                  return (
                    (c.prototype.decRef = function () {
                      --this.refCount <= 0 && l(this);
                    }),
                    i.profile &&
                      (r.getTotalRenderbufferSize = function () {
                        var t = 0;
                        return (
                          Object.keys(u).forEach(function (e) {
                            t += u[e].stats.size;
                          }),
                          t
                        );
                      }),
                    {
                      create: function (e, s) {
                        var l = new c(t.createRenderbuffer());
                        function h(e, r) {
                          var s = 0,
                            u = 0,
                            c = pe;
                          if ('object' == typeof e && e) {
                            var f = e;
                            if ('shape' in f) {
                              var d = f.shape;
                              E(Array.isArray(d) && d.length >= 2, 'invalid renderbuffer shape'),
                                (s = 0 | d[0]),
                                (u = 0 | d[1]);
                            } else
                              'radius' in f && (s = u = 0 | f.radius),
                                'width' in f && (s = 0 | f.width),
                                'height' in f && (u = 0 | f.height);
                            'format' in f &&
                              (E.parameter(f.format, o, 'invalid renderbuffer format'),
                              (c = o[f.format]));
                          } else
                            'number' == typeof e
                              ? ((s = 0 | e), (u = 'number' == typeof r ? 0 | r : s))
                              : e
                              ? E.raise('invalid arguments to renderbuffer constructor')
                              : (s = u = 1);
                          if (
                            (E(
                              s > 0 &&
                                u > 0 &&
                                s <= n.maxRenderbufferSize &&
                                u <= n.maxRenderbufferSize,
                              'invalid renderbuffer size',
                            ),
                            s !== l.width || u !== l.height || c !== l.format)
                          )
                            return (
                              (h.width = l.width = s),
                              (h.height = l.height = u),
                              (l.format = c),
                              t.bindRenderbuffer(de, l.renderbuffer),
                              t.renderbufferStorage(de, c, s, u),
                              E(0 === t.getError(), 'invalid render buffer format'),
                              i.profile && (l.stats.size = ve(l.format, l.width, l.height)),
                              (h.format = a[l.format]),
                              h
                            );
                        }
                        return (
                          (u[l.id] = l),
                          r.renderbufferCount++,
                          h(e, s),
                          (h.resize = function (e, r) {
                            var o = 0 | e,
                              a = 0 | r || o;
                            return (
                              (o === l.width && a === l.height) ||
                                (E(
                                  o > 0 &&
                                    a > 0 &&
                                    o <= n.maxRenderbufferSize &&
                                    a <= n.maxRenderbufferSize,
                                  'invalid renderbuffer size',
                                ),
                                (h.width = l.width = o),
                                (h.height = l.height = a),
                                t.bindRenderbuffer(de, l.renderbuffer),
                                t.renderbufferStorage(de, l.format, o, a),
                                E(0 === t.getError(), 'invalid render buffer format'),
                                i.profile && (l.stats.size = ve(l.format, l.width, l.height))),
                              h
                            );
                          }),
                          (h._reglType = 'renderbuffer'),
                          (h._renderbuffer = l),
                          i.profile && (h.stats = l.stats),
                          (h.destroy = function () {
                            l.decRef();
                          }),
                          h
                        );
                      },
                      clear: function () {
                        W(u).forEach(l);
                      },
                      restore: function () {
                        W(u).forEach(function (e) {
                          (e.renderbuffer = t.createRenderbuffer()),
                            t.bindRenderbuffer(de, e.renderbuffer),
                            t.renderbufferStorage(de, e.format, e.width, e.height);
                        }),
                          t.bindRenderbuffer(de, null);
                      },
                    }
                  );
                })(i, f, m, h, r),
                k = (function (t, n, r, i, o, a) {
                  var s = { cur: null, next: null, dirty: !1, setFBO: null },
                    u = ['rgba'],
                    c = ['rgba4', 'rgb565', 'rgb5 a1'];
                  n.ext_srgb && c.push('srgba'),
                    n.ext_color_buffer_half_float && c.push('rgba16f', 'rgb16f'),
                    n.webgl_color_buffer_float && c.push('rgba32f');
                  var l = ['uint8'];
                  function h(t, e, n) {
                    (this.target = t), (this.texture = e), (this.renderbuffer = n);
                    var r = 0,
                      i = 0;
                    e ? ((r = e.width), (i = e.height)) : n && ((r = n.width), (i = n.height)),
                      (this.width = r),
                      (this.height = i);
                  }
                  function f(t) {
                    t &&
                      (t.texture && t.texture._texture.decRef(),
                      t.renderbuffer && t.renderbuffer._renderbuffer.decRef());
                  }
                  function d(t, e, n) {
                    if (t)
                      if (t.texture) {
                        var r = t.texture._texture,
                          i = Math.max(1, r.width),
                          o = Math.max(1, r.height);
                        E(i === e && o === n, 'inconsistent width/height for supplied texture'),
                          (r.refCount += 1);
                      } else {
                        var a = t.renderbuffer._renderbuffer;
                        E(
                          a.width === e && a.height === n,
                          'inconsistent width/height for renderbuffer',
                        ),
                          (a.refCount += 1);
                      }
                  }
                  function p(e, n) {
                    n &&
                      (n.texture
                        ? t.framebufferTexture2D(ye, e, n.target, n.texture._texture.texture, 0)
                        : t.framebufferRenderbuffer(
                            ye,
                            e,
                            me,
                            n.renderbuffer._renderbuffer.renderbuffer,
                          ));
                  }
                  function g(t) {
                    var e = be,
                      n = null,
                      r = null,
                      i = t;
                    'object' == typeof t && ((i = t.data), 'target' in t && (e = 0 | t.target)),
                      E.type(i, 'function', 'invalid attachment data');
                    var o = i._reglType;
                    return (
                      'texture2d' === o
                        ? ((n = i), E(e === be))
                        : 'textureCube' === o
                        ? ((n = i), E(e >= xe && e < 34075, 'invalid cube map target'))
                        : 'renderbuffer' === o
                        ? ((r = i), (e = me))
                        : E.raise('invalid regl object for attachment'),
                      new h(e, n, r)
                    );
                  }
                  function v(t, e, n, r, a) {
                    if (n) {
                      var s = i.create2D({ width: t, height: e, format: r, type: a });
                      return (s._texture.refCount = 0), new h(be, s, null);
                    }
                    var u = o.create({ width: t, height: e, format: r });
                    return (u._renderbuffer.refCount = 0), new h(me, null, u);
                  }
                  function y(t) {
                    return t && (t.texture || t.renderbuffer);
                  }
                  function m(t, e, n) {
                    t &&
                      (t.texture
                        ? t.texture.resize(e, n)
                        : t.renderbuffer && t.renderbuffer.resize(e, n),
                      (t.width = e),
                      (t.height = n));
                  }
                  n.oes_texture_half_float && l.push('half float', 'float16'),
                    n.oes_texture_float && l.push('float', 'float32');
                  var b = 0,
                    x = {};
                  function _() {
                    (this.id = b++),
                      (x[this.id] = this),
                      (this.framebuffer = t.createFramebuffer()),
                      (this.width = 0),
                      (this.height = 0),
                      (this.colorAttachments = []),
                      (this.depthAttachment = null),
                      (this.stencilAttachment = null),
                      (this.depthStencilAttachment = null);
                  }
                  function w(t) {
                    t.colorAttachments.forEach(f),
                      f(t.depthAttachment),
                      f(t.stencilAttachment),
                      f(t.depthStencilAttachment);
                  }
                  function S(e) {
                    var n = e.framebuffer;
                    E(n, 'must not double destroy framebuffer'),
                      t.deleteFramebuffer(n),
                      (e.framebuffer = null),
                      a.framebufferCount--,
                      delete x[e.id];
                  }
                  function M(e) {
                    var n;
                    t.bindFramebuffer(ye, e.framebuffer);
                    var i = e.colorAttachments;
                    for (n = 0; n < i.length; ++n) p(36064 + n, i[n]);
                    for (n = i.length; n < r.maxColorAttachments; ++n)
                      t.framebufferTexture2D(ye, 36064 + n, be, null, 0);
                    t.framebufferTexture2D(ye, 33306, be, null, 0),
                      t.framebufferTexture2D(ye, 36096, be, null, 0),
                      t.framebufferTexture2D(ye, 36128, be, null, 0),
                      p(36096, e.depthAttachment),
                      p(36128, e.stencilAttachment),
                      p(33306, e.depthStencilAttachment);
                    var o = t.checkFramebufferStatus(ye);
                    t.isContextLost() ||
                      36053 === o ||
                      E.raise('framebuffer configuration not supported, status = ' + Me[o]),
                      t.bindFramebuffer(ye, s.next ? s.next.framebuffer : null),
                      (s.cur = s.next),
                      t.getError();
                  }
                  function k(t, i) {
                    var o = new _();
                    function h(t, e) {
                      var i;
                      E(s.next !== o, 'can not update framebuffer which is currently in use');
                      var a = 0,
                        f = 0,
                        p = !0,
                        m = !0,
                        b = null,
                        x = !0,
                        _ = 'rgba',
                        S = 'uint8',
                        k = 1,
                        A = null,
                        C = null,
                        I = null,
                        T = !1;
                      if ('number' == typeof t) (a = 0 | t), (f = 0 | e || a);
                      else if (t) {
                        E.type(t, 'object', 'invalid arguments for framebuffer');
                        var N = t;
                        if ('shape' in N) {
                          var P = N.shape;
                          E(Array.isArray(P) && P.length >= 2, 'invalid shape for framebuffer'),
                            (a = P[0]),
                            (f = P[1]);
                        } else
                          'radius' in N && (a = f = N.radius),
                            'width' in N && (a = N.width),
                            'height' in N && (f = N.height);
                        ('color' in N || 'colors' in N) &&
                          ((b = N.color || N.colors),
                          Array.isArray(b) &&
                            E(
                              1 === b.length || n.webgl_draw_buffers,
                              'multiple render targets not supported',
                            )),
                          b ||
                            ('colorCount' in N &&
                              ((k = 0 | N.colorCount), E(k > 0, 'invalid color buffer count')),
                            'colorTexture' in N && ((x = !!N.colorTexture), (_ = 'rgba4')),
                            'colorType' in N &&
                              ((S = N.colorType),
                              x
                                ? (E(
                                    n.oes_texture_float || !('float' === S || 'float32' === S),
                                    'you must enable OES_texture_float in order to use floating point framebuffer objects',
                                  ),
                                  E(
                                    n.oes_texture_half_float ||
                                      !('half float' === S || 'float16' === S),
                                    'you must enable OES_texture_half_float in order to use 16-bit floating point framebuffer objects',
                                  ))
                                : 'half float' === S || 'float16' === S
                                ? (E(
                                    n.ext_color_buffer_half_float,
                                    'you must enable EXT_color_buffer_half_float to use 16-bit render buffers',
                                  ),
                                  (_ = 'rgba16f'))
                                : ('float' !== S && 'float32' !== S) ||
                                  (E(
                                    n.webgl_color_buffer_float,
                                    'you must enable WEBGL_color_buffer_float in order to use 32-bit floating point renderbuffers',
                                  ),
                                  (_ = 'rgba32f')),
                              E.oneOf(S, l, 'invalid color type')),
                            'colorFormat' in N &&
                              ((_ = N.colorFormat),
                              u.indexOf(_) >= 0
                                ? (x = !0)
                                : c.indexOf(_) >= 0
                                ? (x = !1)
                                : x
                                ? E.oneOf(N.colorFormat, u, 'invalid color format for texture')
                                : E.oneOf(
                                    N.colorFormat,
                                    c,
                                    'invalid color format for renderbuffer',
                                  ))),
                          ('depthTexture' in N || 'depthStencilTexture' in N) &&
                            ((T = !(!N.depthTexture && !N.depthStencilTexture)),
                            E(
                              !T || n.webgl_depth_texture,
                              'webgl_depth_texture extension not supported',
                            )),
                          'depth' in N &&
                            ('boolean' == typeof N.depth
                              ? (p = N.depth)
                              : ((A = N.depth), (m = !1))),
                          'stencil' in N &&
                            ('boolean' == typeof N.stencil
                              ? (m = N.stencil)
                              : ((C = N.stencil), (p = !1))),
                          'depthStencil' in N &&
                            ('boolean' == typeof N.depthStencil
                              ? (p = m = N.depthStencil)
                              : ((I = N.depthStencil), (p = !1), (m = !1)));
                      } else a = f = 1;
                      var O = null,
                        D = null,
                        L = null,
                        R = null;
                      if (Array.isArray(b)) O = b.map(g);
                      else if (b) O = [g(b)];
                      else for (O = new Array(k), i = 0; i < k; ++i) O[i] = v(a, f, x, _, S);
                      E(
                        n.webgl_draw_buffers || O.length <= 1,
                        'you must enable the WEBGL_draw_buffers extension in order to use multiple color buffers.',
                      ),
                        E(
                          O.length <= r.maxColorAttachments,
                          'too many color attachments, not supported',
                        ),
                        (a = a || O[0].width),
                        (f = f || O[0].height),
                        A ? (D = g(A)) : p && !m && (D = v(a, f, T, 'depth', 'uint32')),
                        C ? (L = g(C)) : m && !p && (L = v(a, f, !1, 'stencil', 'uint8')),
                        I
                          ? (R = g(I))
                          : !A &&
                            !C &&
                            m &&
                            p &&
                            (R = v(a, f, T, 'depth stencil', 'depth stencil')),
                        E(
                          !!A + !!C + !!I <= 1,
                          'invalid framebuffer configuration, can specify exactly one depth/stencil attachment',
                        );
                      var B = null;
                      for (i = 0; i < O.length; ++i)
                        if (
                          (d(O[i], a, f),
                          E(
                            !O[i] ||
                              (O[i].texture && _e.indexOf(O[i].texture._texture.format) >= 0) ||
                              (O[i].renderbuffer &&
                                Se.indexOf(O[i].renderbuffer._renderbuffer.format) >= 0),
                            'framebuffer color attachment ' + i + ' is invalid',
                          ),
                          O[i] && O[i].texture)
                        ) {
                          var j = we[O[i].texture._texture.format] * Ee[O[i].texture._texture.type];
                          null === B
                            ? (B = j)
                            : E(
                                B === j,
                                'all color attachments much have the same number of bits per pixel.',
                              );
                        }
                      return (
                        d(D, a, f),
                        E(
                          !D ||
                            (D.texture && 6402 === D.texture._texture.format) ||
                            (D.renderbuffer && 33189 === D.renderbuffer._renderbuffer.format),
                          'invalid depth attachment for framebuffer object',
                        ),
                        d(L, a, f),
                        E(
                          !L || (L.renderbuffer && 36168 === L.renderbuffer._renderbuffer.format),
                          'invalid stencil attachment for framebuffer object',
                        ),
                        d(R, a, f),
                        E(
                          !R ||
                            (R.texture && 34041 === R.texture._texture.format) ||
                            (R.renderbuffer && 34041 === R.renderbuffer._renderbuffer.format),
                          'invalid depth-stencil attachment for framebuffer object',
                        ),
                        w(o),
                        (o.width = a),
                        (o.height = f),
                        (o.colorAttachments = O),
                        (o.depthAttachment = D),
                        (o.stencilAttachment = L),
                        (o.depthStencilAttachment = R),
                        (h.color = O.map(y)),
                        (h.depth = y(D)),
                        (h.stencil = y(L)),
                        (h.depthStencil = y(R)),
                        (h.width = o.width),
                        (h.height = o.height),
                        M(o),
                        h
                      );
                    }
                    return (
                      a.framebufferCount++,
                      h(t, i),
                      e(h, {
                        resize: function (t, e) {
                          E(s.next !== o, 'can not resize a framebuffer which is currently in use');
                          var n = Math.max(0 | t, 1),
                            r = Math.max(0 | e || n, 1);
                          if (n === o.width && r === o.height) return h;
                          for (var i = o.colorAttachments, a = 0; a < i.length; ++a) m(i[a], n, r);
                          return (
                            m(o.depthAttachment, n, r),
                            m(o.stencilAttachment, n, r),
                            m(o.depthStencilAttachment, n, r),
                            (o.width = h.width = n),
                            (o.height = h.height = r),
                            M(o),
                            h
                          );
                        },
                        _reglType: 'framebuffer',
                        _framebuffer: o,
                        destroy: function () {
                          S(o), w(o);
                        },
                        use: function (t) {
                          s.setFBO({ framebuffer: h }, t);
                        },
                      })
                    );
                  }
                  return e(s, {
                    getFramebuffer: function (t) {
                      if ('function' == typeof t && 'framebuffer' === t._reglType) {
                        var e = t._framebuffer;
                        if (e instanceof _) return e;
                      }
                      return null;
                    },
                    create: k,
                    createCube: function (t) {
                      var o = Array(6);
                      function a(t) {
                        var r;
                        E(
                          o.indexOf(s.next) < 0,
                          'can not update framebuffer which is currently in use',
                        );
                        var c,
                          h = { color: null },
                          f = 0,
                          d = null,
                          p = 'rgba',
                          g = 'uint8',
                          v = 1;
                        if ('number' == typeof t) f = 0 | t;
                        else if (t) {
                          E.type(t, 'object', 'invalid arguments for framebuffer');
                          var y = t;
                          if ('shape' in y) {
                            var m = y.shape;
                            E(Array.isArray(m) && m.length >= 2, 'invalid shape for framebuffer'),
                              E(m[0] === m[1], 'cube framebuffer must be square'),
                              (f = m[0]);
                          } else
                            'radius' in y && (f = 0 | y.radius),
                              'width' in y
                                ? ((f = 0 | y.width),
                                  'height' in y && E(y.height === f, 'must be square'))
                                : 'height' in y && (f = 0 | y.height);
                          ('color' in y || 'colors' in y) &&
                            ((d = y.color || y.colors),
                            Array.isArray(d) &&
                              E(
                                1 === d.length || n.webgl_draw_buffers,
                                'multiple render targets not supported',
                              )),
                            d ||
                              ('colorCount' in y &&
                                ((v = 0 | y.colorCount), E(v > 0, 'invalid color buffer count')),
                              'colorType' in y &&
                                (E.oneOf(y.colorType, l, 'invalid color type'), (g = y.colorType)),
                              'colorFormat' in y &&
                                ((p = y.colorFormat),
                                E.oneOf(y.colorFormat, u, 'invalid color format for texture'))),
                            'depth' in y && (h.depth = y.depth),
                            'stencil' in y && (h.stencil = y.stencil),
                            'depthStencil' in y && (h.depthStencil = y.depthStencil);
                        } else f = 1;
                        if (d)
                          if (Array.isArray(d)) for (c = [], r = 0; r < d.length; ++r) c[r] = d[r];
                          else c = [d];
                        else {
                          c = Array(v);
                          var b = { radius: f, format: p, type: g };
                          for (r = 0; r < v; ++r) c[r] = i.createCube(b);
                        }
                        for (h.color = Array(c.length), r = 0; r < c.length; ++r) {
                          var x = c[r];
                          E(
                            'function' == typeof x && 'textureCube' === x._reglType,
                            'invalid cube map',
                          ),
                            (f = f || x.width),
                            E(x.width === f && x.height === f, 'invalid cube map shape'),
                            (h.color[r] = { target: xe, data: c[r] });
                        }
                        for (r = 0; r < 6; ++r) {
                          for (var _ = 0; _ < c.length; ++_) h.color[_].target = xe + r;
                          r > 0 &&
                            ((h.depth = o[0].depth),
                            (h.stencil = o[0].stencil),
                            (h.depthStencil = o[0].depthStencil)),
                            o[r] ? o[r](h) : (o[r] = k(h));
                        }
                        return e(a, { width: f, height: f, color: c });
                      }
                      return (
                        a(t),
                        e(a, {
                          faces: o,
                          resize: function (t) {
                            var e,
                              n = 0 | t;
                            if (
                              (E(n > 0 && n <= r.maxCubeMapSize, 'invalid radius for cube fbo'),
                              n === a.width)
                            )
                              return a;
                            var i = a.color;
                            for (e = 0; e < i.length; ++e) i[e].resize(n);
                            for (e = 0; e < 6; ++e) o[e].resize(n);
                            return (a.width = a.height = n), a;
                          },
                          _reglType: 'framebufferCube',
                          destroy: function () {
                            o.forEach(function (t) {
                              t.destroy();
                            });
                          },
                        })
                      );
                    },
                    clear: function () {
                      W(x).forEach(S);
                    },
                    restore: function () {
                      (s.cur = null),
                        (s.next = null),
                        (s.dirty = !0),
                        W(x).forEach(function (e) {
                          (e.framebuffer = t.createFramebuffer()), M(e);
                        });
                    },
                  });
                })(i, f, m, S, M, h),
                A = or(
                  i,
                  l,
                  f,
                  m,
                  b,
                  _,
                  0,
                  k,
                  {},
                  x,
                  w,
                  { elements: null, primitive: 4, count: -1, offset: 0, instances: -1 },
                  y,
                  d,
                  r,
                ),
                C = Ie(i, k, A.procs.poll, y, o, f, m),
                P = A.next,
                O = i.canvas,
                L = [],
                R = [],
                B = [],
                Y = [r.onDestroy],
                X = null;
              function H() {
                if (0 === L.length) return d && d.update(), void (X = null);
                (X = T.next(H)), mt();
                for (var t = L.length - 1; t >= 0; --t) {
                  var e = L[t];
                  e && e(y, null, 0);
                }
                i.flush(), d && d.update();
              }
              function q() {
                !X && L.length > 0 && (X = T.next(H));
              }
              function lt() {
                X && (T.cancel(H), (X = null));
              }
              function ht(t) {
                t.preventDefault(),
                  (a = !0),
                  lt(),
                  R.forEach(function (t) {
                    t();
                  });
              }
              function ft(t) {
                i.getError(),
                  (a = !1),
                  s.restore(),
                  w.restore(),
                  b.restore(),
                  S.restore(),
                  M.restore(),
                  k.restore(),
                  x.restore(),
                  d && d.restore(),
                  A.procs.refresh(),
                  q(),
                  B.forEach(function (t) {
                    t();
                  });
              }
              function dt(t) {
                function n(t, e) {
                  var n = {},
                    r = {};
                  return (
                    Object.keys(t).forEach(function (i) {
                      var o = t[i];
                      if (I.isDynamic(o)) r[i] = I.unbox(o, i);
                      else {
                        if (e && Array.isArray(o))
                          for (var a = 0; a < o.length; ++a)
                            if (I.isDynamic(o[a])) return void (r[i] = I.unbox(o, i));
                        n[i] = o;
                      }
                    }),
                    { dynamic: r, static: n }
                  );
                }
                E(!!t, 'invalid args to regl({...})'),
                  E.type(t, 'object', 'invalid args to regl({...})');
                var r = n(t.context || {}, !0),
                  i = n(t.uniforms || {}, !0),
                  o = n(t.attributes || {}, !1),
                  s = n(
                    (function (t) {
                      var n = e({}, t);
                      function r(t) {
                        if (t in n) {
                          var e = n[t];
                          delete n[t],
                            Object.keys(e).forEach(function (r) {
                              n[t + '.' + r] = e[r];
                            });
                        }
                      }
                      return (
                        delete n.uniforms,
                        delete n.attributes,
                        delete n.context,
                        delete n.vao,
                        'stencil' in n &&
                          n.stencil.op &&
                          ((n.stencil.opBack = n.stencil.opFront = n.stencil.op),
                          delete n.stencil.op),
                        r('blend'),
                        r('depth'),
                        r('cull'),
                        r('stencil'),
                        r('polygonOffset'),
                        r('scissor'),
                        r('sample'),
                        'vao' in t && (n.vao = t.vao),
                        n
                      );
                    })(t),
                    !1,
                  ),
                  u = { gpuTime: 0, cpuTime: 0, count: 0 },
                  c = A.compile(s, o, i, r, u),
                  l = c.draw,
                  h = c.batch,
                  f = c.scope,
                  d = [];
                return e(
                  function (t, e) {
                    var n;
                    if ((a && E.raise('context lost'), 'function' == typeof t))
                      return f.call(this, null, t, 0);
                    if ('function' == typeof e)
                      if ('number' == typeof t) for (n = 0; n < t; ++n) f.call(this, null, e, n);
                      else {
                        if (!Array.isArray(t)) return f.call(this, t, e, 0);
                        for (n = 0; n < t.length; ++n) f.call(this, t[n], e, n);
                      }
                    else if ('number' == typeof t) {
                      if (t > 0)
                        return h.call(
                          this,
                          (function (t) {
                            for (; d.length < t; ) d.push(null);
                            return d;
                          })(0 | t),
                          0 | t,
                        );
                    } else {
                      if (!Array.isArray(t)) return l.call(this, t);
                      if (t.length) return h.call(this, t, t.length);
                    }
                  },
                  {
                    stats: u,
                    destroy: function () {
                      c.destroy();
                    },
                  },
                );
              }
              O && (O.addEventListener(sr, ht, !1), O.addEventListener(ur, ft, !1));
              var pt = (k.setFBO = dt({ framebuffer: I.define.call(null, 1, 'framebuffer') }));
              function gt(t, e) {
                var n = 0;
                A.procs.poll();
                var r = e.color;
                r && (i.clearColor(+r[0] || 0, +r[1] || 0, +r[2] || 0, +r[3] || 0), (n |= 16384)),
                  'depth' in e && (i.clearDepth(+e.depth), (n |= 256)),
                  'stencil' in e && (i.clearStencil(0 | e.stencil), (n |= 1024)),
                  E(!!n, 'called regl.clear with no buffer specified'),
                  i.clear(n);
              }
              function vt(t) {
                return (
                  E.type(t, 'function', 'regl.frame() callback must be a function'),
                  L.push(t),
                  q(),
                  {
                    cancel: function () {
                      var e = cr(L, t);
                      E(e >= 0, 'cannot cancel a frame twice'),
                        (L[e] = function t() {
                          var e = cr(L, t);
                          (L[e] = L[L.length - 1]), (L.length -= 1), L.length <= 0 && lt();
                        });
                    },
                  }
                );
              }
              function yt() {
                var t = P.viewport,
                  e = P.scissor_box;
                (t[0] = t[1] = e[0] = e[1] = 0),
                  (y.viewportWidth =
                    y.framebufferWidth =
                    y.drawingBufferWidth =
                    t[2] =
                    e[2] =
                      i.drawingBufferWidth),
                  (y.viewportHeight =
                    y.framebufferHeight =
                    y.drawingBufferHeight =
                    t[3] =
                    e[3] =
                      i.drawingBufferHeight);
              }
              function mt() {
                (y.tick += 1), (y.time = xt()), yt(), A.procs.poll();
              }
              function bt() {
                S.refresh(), yt(), A.procs.refresh(), d && d.update();
              }
              function xt() {
                return (N() - p) / 1e3;
              }
              bt();
              var _t = e(dt, {
                clear: function (t) {
                  if (
                    (E('object' == typeof t && t, 'regl.clear() takes an object as input'),
                    'framebuffer' in t)
                  )
                    if (t.framebuffer && 'framebufferCube' === t.framebuffer_reglType)
                      for (var n = 0; n < 6; ++n)
                        pt(e({ framebuffer: t.framebuffer.faces[n] }, t), gt);
                    else pt(t, gt);
                  else gt(0, t);
                },
                prop: I.define.bind(null, 1),
                context: I.define.bind(null, 2),
                this: I.define.bind(null, 3),
                draw: dt({}),
                buffer: function (t) {
                  return b.create(t, 34962, !1, !1);
                },
                elements: function (t) {
                  return _.create(t, !1);
                },
                texture: S.create2D,
                cube: S.createCube,
                renderbuffer: M.create,
                framebuffer: k.create,
                framebufferCube: k.createCube,
                vao: x.createVAO,
                attributes: o,
                frame: vt,
                on: function (t, e) {
                  var n;
                  switch ((E.type(e, 'function', 'listener callback must be a function'), t)) {
                    case 'frame':
                      return vt(e);
                    case 'lost':
                      n = R;
                      break;
                    case 'restore':
                      n = B;
                      break;
                    case 'destroy':
                      n = Y;
                      break;
                    default:
                      E.raise('invalid event, must be one of frame,lost,restore,destroy');
                  }
                  return (
                    n.push(e),
                    {
                      cancel: function () {
                        for (var t = 0; t < n.length; ++t)
                          if (n[t] === e) return (n[t] = n[n.length - 1]), void n.pop();
                      },
                    }
                  );
                },
                limits: m,
                hasExtension: function (t) {
                  return m.extensions.indexOf(t.toLowerCase()) >= 0;
                },
                read: C,
                destroy: function () {
                  (L.length = 0),
                    lt(),
                    O && (O.removeEventListener(sr, ht), O.removeEventListener(ur, ft)),
                    w.clear(),
                    k.clear(),
                    M.clear(),
                    S.clear(),
                    _.clear(),
                    b.clear(),
                    x.clear(),
                    d && d.clear(),
                    Y.forEach(function (t) {
                      t();
                    });
                },
                _gl: i,
                _refresh: bt,
                poll: function () {
                  mt(), d && d.update();
                },
                now: xt,
                stats: h,
              });
              return r.onDone(null, _t), _t;
            };
          })();
        },
        6851: (t, e, n) => {
          'use strict';
          var r = n(5171),
            i = Array.prototype.concat,
            o = Array.prototype.slice,
            a = (t.exports = function (t) {
              for (var e = [], n = 0, a = t.length; n < a; n++) {
                var s = t[n];
                r(s) ? (e = i.call(e, o.call(s))) : e.push(s);
              }
              return e;
            });
          a.wrap = function (t) {
            return function () {
              return t(a(arguments));
            };
          };
        },
        7621: (t, e, n) => {
          var r;
          !(function (i) {
            var o = /^\s+/,
              a = /\s+$/,
              s = 0,
              u = i.round,
              c = i.min,
              l = i.max,
              h = i.random;
            function f(t, e) {
              if (((e = e || {}), (t = t || '') instanceof f)) return t;
              if (!(this instanceof f)) return new f(t, e);
              var n = (function (t) {
                var e,
                  n,
                  r,
                  s = { r: 0, g: 0, b: 0 },
                  u = 1,
                  h = null,
                  f = null,
                  d = null,
                  p = !1,
                  g = !1;
                return (
                  'string' == typeof t &&
                    (t = (function (t) {
                      t = t.replace(o, '').replace(a, '').toLowerCase();
                      var e,
                        n = !1;
                      if (T[t]) (t = T[t]), (n = !0);
                      else if ('transparent' == t)
                        return { r: 0, g: 0, b: 0, a: 0, format: 'name' };
                      return (e = V.rgb.exec(t))
                        ? { r: e[1], g: e[2], b: e[3] }
                        : (e = V.rgba.exec(t))
                        ? { r: e[1], g: e[2], b: e[3], a: e[4] }
                        : (e = V.hsl.exec(t))
                        ? { h: e[1], s: e[2], l: e[3] }
                        : (e = V.hsla.exec(t))
                        ? { h: e[1], s: e[2], l: e[3], a: e[4] }
                        : (e = V.hsv.exec(t))
                        ? { h: e[1], s: e[2], v: e[3] }
                        : (e = V.hsva.exec(t))
                        ? { h: e[1], s: e[2], v: e[3], a: e[4] }
                        : (e = V.hex8.exec(t))
                        ? {
                            r: L(e[1]),
                            g: L(e[2]),
                            b: L(e[3]),
                            a: G(e[4]),
                            format: n ? 'name' : 'hex8',
                          }
                        : (e = V.hex6.exec(t))
                        ? { r: L(e[1]), g: L(e[2]), b: L(e[3]), format: n ? 'name' : 'hex' }
                        : (e = V.hex4.exec(t))
                        ? {
                            r: L(e[1] + '' + e[1]),
                            g: L(e[2] + '' + e[2]),
                            b: L(e[3] + '' + e[3]),
                            a: G(e[4] + '' + e[4]),
                            format: n ? 'name' : 'hex8',
                          }
                        : !!(e = V.hex3.exec(t)) && {
                            r: L(e[1] + '' + e[1]),
                            g: L(e[2] + '' + e[2]),
                            b: L(e[3] + '' + e[3]),
                            format: n ? 'name' : 'hex',
                          };
                    })(t)),
                  'object' == typeof t &&
                    (W(t.r) && W(t.g) && W(t.b)
                      ? ((e = t.r),
                        (n = t.g),
                        (r = t.b),
                        (s = { r: 255 * O(e, 255), g: 255 * O(n, 255), b: 255 * O(r, 255) }),
                        (p = !0),
                        (g = '%' === String(t.r).substr(-1) ? 'prgb' : 'rgb'))
                      : W(t.h) && W(t.s) && W(t.v)
                      ? ((h = B(t.s)),
                        (f = B(t.v)),
                        (s = (function (t, e, n) {
                          (t = 6 * O(t, 360)), (e = O(e, 100)), (n = O(n, 100));
                          var r = i.floor(t),
                            o = t - r,
                            a = n * (1 - e),
                            s = n * (1 - o * e),
                            u = n * (1 - (1 - o) * e),
                            c = r % 6;
                          return {
                            r: 255 * [n, s, a, a, u, n][c],
                            g: 255 * [u, n, n, s, a, a][c],
                            b: 255 * [a, a, u, n, n, s][c],
                          };
                        })(t.h, h, f)),
                        (p = !0),
                        (g = 'hsv'))
                      : W(t.h) &&
                        W(t.s) &&
                        W(t.l) &&
                        ((h = B(t.s)),
                        (d = B(t.l)),
                        (s = (function (t, e, n) {
                          var r, i, o;
                          function a(t, e, n) {
                            return (
                              n < 0 && (n += 1),
                              n > 1 && (n -= 1),
                              n < 1 / 6
                                ? t + 6 * (e - t) * n
                                : n < 0.5
                                ? e
                                : n < 2 / 3
                                ? t + (e - t) * (2 / 3 - n) * 6
                                : t
                            );
                          }
                          if (((t = O(t, 360)), (e = O(e, 100)), (n = O(n, 100)), 0 === e))
                            r = i = o = n;
                          else {
                            var s = n < 0.5 ? n * (1 + e) : n + e - n * e,
                              u = 2 * n - s;
                            (r = a(u, s, t + 1 / 3)), (i = a(u, s, t)), (o = a(u, s, t - 1 / 3));
                          }
                          return { r: 255 * r, g: 255 * i, b: 255 * o };
                        })(t.h, h, d)),
                        (p = !0),
                        (g = 'hsl')),
                    t.hasOwnProperty('a') && (u = t.a)),
                  (u = P(u)),
                  {
                    ok: p,
                    format: t.format || g,
                    r: c(255, l(s.r, 0)),
                    g: c(255, l(s.g, 0)),
                    b: c(255, l(s.b, 0)),
                    a: u,
                  }
                );
              })(t);
              (this._originalInput = t),
                (this._r = n.r),
                (this._g = n.g),
                (this._b = n.b),
                (this._a = n.a),
                (this._roundA = u(100 * this._a) / 100),
                (this._format = e.format || n.format),
                (this._gradientType = e.gradientType),
                this._r < 1 && (this._r = u(this._r)),
                this._g < 1 && (this._g = u(this._g)),
                this._b < 1 && (this._b = u(this._b)),
                (this._ok = n.ok),
                (this._tc_id = s++);
            }
            function d(t, e, n) {
              (t = O(t, 255)), (e = O(e, 255)), (n = O(n, 255));
              var r,
                i,
                o = l(t, e, n),
                a = c(t, e, n),
                s = (o + a) / 2;
              if (o == a) r = i = 0;
              else {
                var u = o - a;
                switch (((i = s > 0.5 ? u / (2 - o - a) : u / (o + a)), o)) {
                  case t:
                    r = (e - n) / u + (e < n ? 6 : 0);
                    break;
                  case e:
                    r = (n - t) / u + 2;
                    break;
                  case n:
                    r = (t - e) / u + 4;
                }
                r /= 6;
              }
              return { h: r, s: i, l: s };
            }
            function p(t, e, n) {
              (t = O(t, 255)), (e = O(e, 255)), (n = O(n, 255));
              var r,
                i,
                o = l(t, e, n),
                a = c(t, e, n),
                s = o,
                u = o - a;
              if (((i = 0 === o ? 0 : u / o), o == a)) r = 0;
              else {
                switch (o) {
                  case t:
                    r = (e - n) / u + (e < n ? 6 : 0);
                    break;
                  case e:
                    r = (n - t) / u + 2;
                    break;
                  case n:
                    r = (t - e) / u + 4;
                }
                r /= 6;
              }
              return { h: r, s: i, v: s };
            }
            function g(t, e, n, r) {
              var i = [R(u(t).toString(16)), R(u(e).toString(16)), R(u(n).toString(16))];
              return r &&
                i[0].charAt(0) == i[0].charAt(1) &&
                i[1].charAt(0) == i[1].charAt(1) &&
                i[2].charAt(0) == i[2].charAt(1)
                ? i[0].charAt(0) + i[1].charAt(0) + i[2].charAt(0)
                : i.join('');
            }
            function v(t, e, n, r) {
              return [
                R(j(r)),
                R(u(t).toString(16)),
                R(u(e).toString(16)),
                R(u(n).toString(16)),
              ].join('');
            }
            function y(t, e) {
              e = 0 === e ? 0 : e || 10;
              var n = f(t).toHsl();
              return (n.s -= e / 100), (n.s = D(n.s)), f(n);
            }
            function m(t, e) {
              e = 0 === e ? 0 : e || 10;
              var n = f(t).toHsl();
              return (n.s += e / 100), (n.s = D(n.s)), f(n);
            }
            function b(t) {
              return f(t).desaturate(100);
            }
            function x(t, e) {
              e = 0 === e ? 0 : e || 10;
              var n = f(t).toHsl();
              return (n.l += e / 100), (n.l = D(n.l)), f(n);
            }
            function _(t, e) {
              e = 0 === e ? 0 : e || 10;
              var n = f(t).toRgb();
              return (
                (n.r = l(0, c(255, n.r - u((-e / 100) * 255)))),
                (n.g = l(0, c(255, n.g - u((-e / 100) * 255)))),
                (n.b = l(0, c(255, n.b - u((-e / 100) * 255)))),
                f(n)
              );
            }
            function w(t, e) {
              e = 0 === e ? 0 : e || 10;
              var n = f(t).toHsl();
              return (n.l -= e / 100), (n.l = D(n.l)), f(n);
            }
            function E(t, e) {
              var n = f(t).toHsl(),
                r = (n.h + e) % 360;
              return (n.h = r < 0 ? 360 + r : r), f(n);
            }
            function S(t) {
              var e = f(t).toHsl();
              return (e.h = (e.h + 180) % 360), f(e);
            }
            function M(t) {
              var e = f(t).toHsl(),
                n = e.h;
              return [
                f(t),
                f({ h: (n + 120) % 360, s: e.s, l: e.l }),
                f({ h: (n + 240) % 360, s: e.s, l: e.l }),
              ];
            }
            function k(t) {
              var e = f(t).toHsl(),
                n = e.h;
              return [
                f(t),
                f({ h: (n + 90) % 360, s: e.s, l: e.l }),
                f({ h: (n + 180) % 360, s: e.s, l: e.l }),
                f({ h: (n + 270) % 360, s: e.s, l: e.l }),
              ];
            }
            function A(t) {
              var e = f(t).toHsl(),
                n = e.h;
              return [
                f(t),
                f({ h: (n + 72) % 360, s: e.s, l: e.l }),
                f({ h: (n + 216) % 360, s: e.s, l: e.l }),
              ];
            }
            function C(t, e, n) {
              (e = e || 6), (n = n || 30);
              var r = f(t).toHsl(),
                i = 360 / n,
                o = [f(t)];
              for (r.h = (r.h - ((i * e) >> 1) + 720) % 360; --e; )
                (r.h = (r.h + i) % 360), o.push(f(r));
              return o;
            }
            function I(t, e) {
              e = e || 6;
              for (var n = f(t).toHsv(), r = n.h, i = n.s, o = n.v, a = [], s = 1 / e; e--; )
                a.push(f({ h: r, s: i, v: o })), (o = (o + s) % 1);
              return a;
            }
            (f.prototype = {
              isDark: function () {
                return this.getBrightness() < 128;
              },
              isLight: function () {
                return !this.isDark();
              },
              isValid: function () {
                return this._ok;
              },
              getOriginalInput: function () {
                return this._originalInput;
              },
              getFormat: function () {
                return this._format;
              },
              getAlpha: function () {
                return this._a;
              },
              getBrightness: function () {
                var t = this.toRgb();
                return (299 * t.r + 587 * t.g + 114 * t.b) / 1e3;
              },
              getLuminance: function () {
                var t,
                  e,
                  n,
                  r = this.toRgb();
                return (
                  (t = r.r / 255),
                  (e = r.g / 255),
                  (n = r.b / 255),
                  0.2126 * (t <= 0.03928 ? t / 12.92 : i.pow((t + 0.055) / 1.055, 2.4)) +
                    0.7152 * (e <= 0.03928 ? e / 12.92 : i.pow((e + 0.055) / 1.055, 2.4)) +
                    0.0722 * (n <= 0.03928 ? n / 12.92 : i.pow((n + 0.055) / 1.055, 2.4))
                );
              },
              setAlpha: function (t) {
                return (this._a = P(t)), (this._roundA = u(100 * this._a) / 100), this;
              },
              toHsv: function () {
                var t = p(this._r, this._g, this._b);
                return { h: 360 * t.h, s: t.s, v: t.v, a: this._a };
              },
              toHsvString: function () {
                var t = p(this._r, this._g, this._b),
                  e = u(360 * t.h),
                  n = u(100 * t.s),
                  r = u(100 * t.v);
                return 1 == this._a
                  ? 'hsv(' + e + ', ' + n + '%, ' + r + '%)'
                  : 'hsva(' + e + ', ' + n + '%, ' + r + '%, ' + this._roundA + ')';
              },
              toHsl: function () {
                var t = d(this._r, this._g, this._b);
                return { h: 360 * t.h, s: t.s, l: t.l, a: this._a };
              },
              toHslString: function () {
                var t = d(this._r, this._g, this._b),
                  e = u(360 * t.h),
                  n = u(100 * t.s),
                  r = u(100 * t.l);
                return 1 == this._a
                  ? 'hsl(' + e + ', ' + n + '%, ' + r + '%)'
                  : 'hsla(' + e + ', ' + n + '%, ' + r + '%, ' + this._roundA + ')';
              },
              toHex: function (t) {
                return g(this._r, this._g, this._b, t);
              },
              toHexString: function (t) {
                return '#' + this.toHex(t);
              },
              toHex8: function (t) {
                return (function (t, e, n, r, i) {
                  var o = [
                    R(u(t).toString(16)),
                    R(u(e).toString(16)),
                    R(u(n).toString(16)),
                    R(j(r)),
                  ];
                  return i &&
                    o[0].charAt(0) == o[0].charAt(1) &&
                    o[1].charAt(0) == o[1].charAt(1) &&
                    o[2].charAt(0) == o[2].charAt(1) &&
                    o[3].charAt(0) == o[3].charAt(1)
                    ? o[0].charAt(0) + o[1].charAt(0) + o[2].charAt(0) + o[3].charAt(0)
                    : o.join('');
                })(this._r, this._g, this._b, this._a, t);
              },
              toHex8String: function (t) {
                return '#' + this.toHex8(t);
              },
              toRgb: function () {
                return { r: u(this._r), g: u(this._g), b: u(this._b), a: this._a };
              },
              toRgbString: function () {
                return 1 == this._a
                  ? 'rgb(' + u(this._r) + ', ' + u(this._g) + ', ' + u(this._b) + ')'
                  : 'rgba(' +
                      u(this._r) +
                      ', ' +
                      u(this._g) +
                      ', ' +
                      u(this._b) +
                      ', ' +
                      this._roundA +
                      ')';
              },
              toPercentageRgb: function () {
                return {
                  r: u(100 * O(this._r, 255)) + '%',
                  g: u(100 * O(this._g, 255)) + '%',
                  b: u(100 * O(this._b, 255)) + '%',
                  a: this._a,
                };
              },
              toPercentageRgbString: function () {
                return 1 == this._a
                  ? 'rgb(' +
                      u(100 * O(this._r, 255)) +
                      '%, ' +
                      u(100 * O(this._g, 255)) +
                      '%, ' +
                      u(100 * O(this._b, 255)) +
                      '%)'
                  : 'rgba(' +
                      u(100 * O(this._r, 255)) +
                      '%, ' +
                      u(100 * O(this._g, 255)) +
                      '%, ' +
                      u(100 * O(this._b, 255)) +
                      '%, ' +
                      this._roundA +
                      ')';
              },
              toName: function () {
                return 0 === this._a
                  ? 'transparent'
                  : !(this._a < 1) && (N[g(this._r, this._g, this._b, !0)] || !1);
              },
              toFilter: function (t) {
                var e = '#' + v(this._r, this._g, this._b, this._a),
                  n = e,
                  r = this._gradientType ? 'GradientType = 1, ' : '';
                if (t) {
                  var i = f(t);
                  n = '#' + v(i._r, i._g, i._b, i._a);
                }
                return (
                  'progid:DXImageTransform.Microsoft.gradient(' +
                  r +
                  'startColorstr=' +
                  e +
                  ',endColorstr=' +
                  n +
                  ')'
                );
              },
              toString: function (t) {
                var e = !!t;
                t = t || this._format;
                var n = !1,
                  r = this._a < 1 && this._a >= 0;
                return e ||
                  !r ||
                  ('hex' !== t &&
                    'hex6' !== t &&
                    'hex3' !== t &&
                    'hex4' !== t &&
                    'hex8' !== t &&
                    'name' !== t)
                  ? ('rgb' === t && (n = this.toRgbString()),
                    'prgb' === t && (n = this.toPercentageRgbString()),
                    ('hex' !== t && 'hex6' !== t) || (n = this.toHexString()),
                    'hex3' === t && (n = this.toHexString(!0)),
                    'hex4' === t && (n = this.toHex8String(!0)),
                    'hex8' === t && (n = this.toHex8String()),
                    'name' === t && (n = this.toName()),
                    'hsl' === t && (n = this.toHslString()),
                    'hsv' === t && (n = this.toHsvString()),
                    n || this.toHexString())
                  : 'name' === t && 0 === this._a
                  ? this.toName()
                  : this.toRgbString();
              },
              clone: function () {
                return f(this.toString());
              },
              _applyModification: function (t, e) {
                var n = t.apply(null, [this].concat([].slice.call(e)));
                return (
                  (this._r = n._r), (this._g = n._g), (this._b = n._b), this.setAlpha(n._a), this
                );
              },
              lighten: function () {
                return this._applyModification(x, arguments);
              },
              brighten: function () {
                return this._applyModification(_, arguments);
              },
              darken: function () {
                return this._applyModification(w, arguments);
              },
              desaturate: function () {
                return this._applyModification(y, arguments);
              },
              saturate: function () {
                return this._applyModification(m, arguments);
              },
              greyscale: function () {
                return this._applyModification(b, arguments);
              },
              spin: function () {
                return this._applyModification(E, arguments);
              },
              _applyCombination: function (t, e) {
                return t.apply(null, [this].concat([].slice.call(e)));
              },
              analogous: function () {
                return this._applyCombination(C, arguments);
              },
              complement: function () {
                return this._applyCombination(S, arguments);
              },
              monochromatic: function () {
                return this._applyCombination(I, arguments);
              },
              splitcomplement: function () {
                return this._applyCombination(A, arguments);
              },
              triad: function () {
                return this._applyCombination(M, arguments);
              },
              tetrad: function () {
                return this._applyCombination(k, arguments);
              },
            }),
              (f.fromRatio = function (t, e) {
                if ('object' == typeof t) {
                  var n = {};
                  for (var r in t) t.hasOwnProperty(r) && (n[r] = 'a' === r ? t[r] : B(t[r]));
                  t = n;
                }
                return f(t, e);
              }),
              (f.equals = function (t, e) {
                return !(!t || !e) && f(t).toRgbString() == f(e).toRgbString();
              }),
              (f.random = function () {
                return f.fromRatio({ r: h(), g: h(), b: h() });
              }),
              (f.mix = function (t, e, n) {
                n = 0 === n ? 0 : n || 50;
                var r = f(t).toRgb(),
                  i = f(e).toRgb(),
                  o = n / 100;
                return f({
                  r: (i.r - r.r) * o + r.r,
                  g: (i.g - r.g) * o + r.g,
                  b: (i.b - r.b) * o + r.b,
                  a: (i.a - r.a) * o + r.a,
                });
              }),
              (f.readability = function (t, e) {
                var n = f(t),
                  r = f(e);
                return (
                  (i.max(n.getLuminance(), r.getLuminance()) + 0.05) /
                  (i.min(n.getLuminance(), r.getLuminance()) + 0.05)
                );
              }),
              (f.isReadable = function (t, e, n) {
                var r,
                  i,
                  o,
                  a,
                  s,
                  u = f.readability(t, e);
                switch (
                  ((i = !1),
                  ((o = n),
                  'AA' !==
                    (a = ((o = o || { level: 'AA', size: 'small' }).level || 'AA').toUpperCase()) &&
                    'AAA' !== a &&
                    (a = 'AA'),
                  'small' !== (s = (o.size || 'small').toLowerCase()) &&
                    'large' !== s &&
                    (s = 'small'),
                  (r = { level: a, size: s })).level + r.size)
                ) {
                  case 'AAsmall':
                  case 'AAAlarge':
                    i = u >= 4.5;
                    break;
                  case 'AAlarge':
                    i = u >= 3;
                    break;
                  case 'AAAsmall':
                    i = u >= 7;
                }
                return i;
              }),
              (f.mostReadable = function (t, e, n) {
                var r,
                  i,
                  o,
                  a,
                  s = null,
                  u = 0;
                (i = (n = n || {}).includeFallbackColors), (o = n.level), (a = n.size);
                for (var c = 0; c < e.length; c++)
                  (r = f.readability(t, e[c])) > u && ((u = r), (s = f(e[c])));
                return f.isReadable(t, s, { level: o, size: a }) || !i
                  ? s
                  : ((n.includeFallbackColors = !1), f.mostReadable(t, ['#fff', '#000'], n));
              });
            var T = (f.names = {
                aliceblue: 'f0f8ff',
                antiquewhite: 'faebd7',
                aqua: '0ff',
                aquamarine: '7fffd4',
                azure: 'f0ffff',
                beige: 'f5f5dc',
                bisque: 'ffe4c4',
                black: '000',
                blanchedalmond: 'ffebcd',
                blue: '00f',
                blueviolet: '8a2be2',
                brown: 'a52a2a',
                burlywood: 'deb887',
                burntsienna: 'ea7e5d',
                cadetblue: '5f9ea0',
                chartreuse: '7fff00',
                chocolate: 'd2691e',
                coral: 'ff7f50',
                cornflowerblue: '6495ed',
                cornsilk: 'fff8dc',
                crimson: 'dc143c',
                cyan: '0ff',
                darkblue: '00008b',
                darkcyan: '008b8b',
                darkgoldenrod: 'b8860b',
                darkgray: 'a9a9a9',
                darkgreen: '006400',
                darkgrey: 'a9a9a9',
                darkkhaki: 'bdb76b',
                darkmagenta: '8b008b',
                darkolivegreen: '556b2f',
                darkorange: 'ff8c00',
                darkorchid: '9932cc',
                darkred: '8b0000',
                darksalmon: 'e9967a',
                darkseagreen: '8fbc8f',
                darkslateblue: '483d8b',
                darkslategray: '2f4f4f',
                darkslategrey: '2f4f4f',
                darkturquoise: '00ced1',
                darkviolet: '9400d3',
                deeppink: 'ff1493',
                deepskyblue: '00bfff',
                dimgray: '696969',
                dimgrey: '696969',
                dodgerblue: '1e90ff',
                firebrick: 'b22222',
                floralwhite: 'fffaf0',
                forestgreen: '228b22',
                fuchsia: 'f0f',
                gainsboro: 'dcdcdc',
                ghostwhite: 'f8f8ff',
                gold: 'ffd700',
                goldenrod: 'daa520',
                gray: '808080',
                green: '008000',
                greenyellow: 'adff2f',
                grey: '808080',
                honeydew: 'f0fff0',
                hotpink: 'ff69b4',
                indianred: 'cd5c5c',
                indigo: '4b0082',
                ivory: 'fffff0',
                khaki: 'f0e68c',
                lavender: 'e6e6fa',
                lavenderblush: 'fff0f5',
                lawngreen: '7cfc00',
                lemonchiffon: 'fffacd',
                lightblue: 'add8e6',
                lightcoral: 'f08080',
                lightcyan: 'e0ffff',
                lightgoldenrodyellow: 'fafad2',
                lightgray: 'd3d3d3',
                lightgreen: '90ee90',
                lightgrey: 'd3d3d3',
                lightpink: 'ffb6c1',
                lightsalmon: 'ffa07a',
                lightseagreen: '20b2aa',
                lightskyblue: '87cefa',
                lightslategray: '789',
                lightslategrey: '789',
                lightsteelblue: 'b0c4de',
                lightyellow: 'ffffe0',
                lime: '0f0',
                limegreen: '32cd32',
                linen: 'faf0e6',
                magenta: 'f0f',
                maroon: '800000',
                mediumaquamarine: '66cdaa',
                mediumblue: '0000cd',
                mediumorchid: 'ba55d3',
                mediumpurple: '9370db',
                mediumseagreen: '3cb371',
                mediumslateblue: '7b68ee',
                mediumspringgreen: '00fa9a',
                mediumturquoise: '48d1cc',
                mediumvioletred: 'c71585',
                midnightblue: '191970',
                mintcream: 'f5fffa',
                mistyrose: 'ffe4e1',
                moccasin: 'ffe4b5',
                navajowhite: 'ffdead',
                navy: '000080',
                oldlace: 'fdf5e6',
                olive: '808000',
                olivedrab: '6b8e23',
                orange: 'ffa500',
                orangered: 'ff4500',
                orchid: 'da70d6',
                palegoldenrod: 'eee8aa',
                palegreen: '98fb98',
                paleturquoise: 'afeeee',
                palevioletred: 'db7093',
                papayawhip: 'ffefd5',
                peachpuff: 'ffdab9',
                peru: 'cd853f',
                pink: 'ffc0cb',
                plum: 'dda0dd',
                powderblue: 'b0e0e6',
                purple: '800080',
                rebeccapurple: '663399',
                red: 'f00',
                rosybrown: 'bc8f8f',
                royalblue: '4169e1',
                saddlebrown: '8b4513',
                salmon: 'fa8072',
                sandybrown: 'f4a460',
                seagreen: '2e8b57',
                seashell: 'fff5ee',
                sienna: 'a0522d',
                silver: 'c0c0c0',
                skyblue: '87ceeb',
                slateblue: '6a5acd',
                slategray: '708090',
                slategrey: '708090',
                snow: 'fffafa',
                springgreen: '00ff7f',
                steelblue: '4682b4',
                tan: 'd2b48c',
                teal: '008080',
                thistle: 'd8bfd8',
                tomato: 'ff6347',
                turquoise: '40e0d0',
                violet: 'ee82ee',
                wheat: 'f5deb3',
                white: 'fff',
                whitesmoke: 'f5f5f5',
                yellow: 'ff0',
                yellowgreen: '9acd32',
              }),
              N = (f.hexNames = (function (t) {
                var e = {};
                for (var n in t) t.hasOwnProperty(n) && (e[t[n]] = n);
                return e;
              })(T));
            function P(t) {
              return (t = parseFloat(t)), (isNaN(t) || t < 0 || t > 1) && (t = 1), t;
            }
            function O(t, e) {
              (function (t) {
                return 'string' == typeof t && -1 != t.indexOf('.') && 1 === parseFloat(t);
              })(t) && (t = '100%');
              var n = (function (t) {
                return 'string' == typeof t && -1 != t.indexOf('%');
              })(t);
              return (
                (t = c(e, l(0, parseFloat(t)))),
                n && (t = parseInt(t * e, 10) / 100),
                i.abs(t - e) < 1e-6 ? 1 : (t % e) / parseFloat(e)
              );
            }
            function D(t) {
              return c(1, l(0, t));
            }
            function L(t) {
              return parseInt(t, 16);
            }
            function R(t) {
              return 1 == t.length ? '0' + t : '' + t;
            }
            function B(t) {
              return t <= 1 && (t = 100 * t + '%'), t;
            }
            function j(t) {
              return i.round(255 * parseFloat(t)).toString(16);
            }
            function G(t) {
              return L(t) / 255;
            }
            var z,
              F,
              U,
              V =
                ((F =
                  '[\\s|\\(]+(' +
                  (z = '(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)') +
                  ')[,|\\s]+(' +
                  z +
                  ')[,|\\s]+(' +
                  z +
                  ')\\s*\\)?'),
                (U =
                  '[\\s|\\(]+(' +
                  z +
                  ')[,|\\s]+(' +
                  z +
                  ')[,|\\s]+(' +
                  z +
                  ')[,|\\s]+(' +
                  z +
                  ')\\s*\\)?'),
                {
                  CSS_UNIT: new RegExp(z),
                  rgb: new RegExp('rgb' + F),
                  rgba: new RegExp('rgba' + U),
                  hsl: new RegExp('hsl' + F),
                  hsla: new RegExp('hsla' + U),
                  hsv: new RegExp('hsv' + F),
                  hsva: new RegExp('hsva' + U),
                  hex3: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,
                  hex6: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,
                  hex4: /^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,
                  hex8: /^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,
                });
            function W(t) {
              return !!V.CSS_UNIT.exec(t);
            }
            t.exports
              ? (t.exports = f)
              : void 0 ===
                  (r = function () {
                    return f;
                  }.call(e, n, e, t)) || (t.exports = r);
          })(Math);
        },
        6717: (t, e, n) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }),
            (e.SolveZoomCanvasWithLeak =
              e.SolveDragCanvasWithLeak =
              e.SolveBrushSelectDrag =
              e.SolveNodeAppendagesDrag =
              e.DetermineNodeDrag =
                void 0);
          const r = n(5644),
            i = n(2248);
          (e.DetermineNodeDrag = function (t, e, n) {
            var r;
            const i = t.get(e.group),
              o = null === (r = i.options.behavior) || void 0 === r ? void 0 : r.dragNode,
              a = (function (t, e) {
                const n = t.sourceType;
                return Array.isArray(e) ? e.includes(n) : void 0 === e || !0 === e;
              })(e, o);
            if (a) return !0;
            const s = e.sourceType,
              u = e.getModelType(),
              c = i[u].filter((t) => t.sourceType === s),
              l = n.filter(
                (t) => t.group === e.group && t.getModelType() === u && t.sourceType === s,
              );
            return c.length === l.length;
          }),
            (e.SolveNodeAppendagesDrag = function (t) {
              const e = t.getG6Instance();
              e.on('node:dragstart', (e) => {
                let n = e.item.SVModel;
                n instanceof i.SVNode != 0 &&
                  void 0 === t.brushSelectedModels.find((t) => t.id === n.id) &&
                  (t.brushSelectedModels.forEach((t) => {
                    t.setSelectedState(!1),
                      t instanceof i.SVNode &&
                        t.getAppendagesList().forEach((t) => t.setSelectedState(!1));
                  }),
                  (t.brushSelectedModels.length = 0));
              }),
                e.on('node:dragend', (e) => {
                  let n = e.item.SVModel;
                  n instanceof i.SVNode != 0 &&
                    (void 0 === t.brushSelectedModels.find((t) => t.id === n.id) &&
                      (n.setSelectedState(!1),
                      n.set({ x: n.G6Item.getModel().x, y: n.G6Item.getModel().y }),
                      n.getAppendagesList().forEach((t) => {
                        t.setSelectedState(!1),
                          t.set({ x: t.G6Item.getModel().x, y: t.G6Item.getModel().y });
                      })),
                    t.brushSelectedModels.forEach((t) => {
                      t.set({ x: t.G6Item.getModel().x, y: t.G6Item.getModel().y }),
                        t instanceof i.SVNode &&
                          t.getAppendagesList().forEach((t) => {
                            t.set({ x: t.G6Item.getModel().x, y: t.G6Item.getModel().y });
                          });
                    }));
                });
            }),
            (e.SolveBrushSelectDrag = function (t) {
              t.getG6Instance().on('nodeselectchange', (n) => {
                const r = n.selectedItems,
                  i = [];
                n.target ||
                  ((t.brushSelectedModels.length = 0),
                  r.nodes.forEach((t) => {
                    i.push(t.SVModel);
                  }),
                  r.nodes.forEach((n) => {
                    const r = n.SVModel;
                    (0, e.DetermineNodeDrag)(t.getLayoutGroupTable(), r, i)
                      ? t.brushSelectedModels.push(r)
                      : r.setSelectedState(!1);
                  }));
              });
            }),
            (e.SolveDragCanvasWithLeak = function (t) {
              t.getG6Instance().on('viewportchange', (e) => {
                if ('translate' !== e.action) return !1;
                let n = e.matrix[7],
                  i = n - t.lastLeakAreaTranslateY;
                (t.lastLeakAreaTranslateY = n),
                  (t.leakAreaY = t.leakAreaY + i),
                  t.hasLeak &&
                    r.EventBus.emit('onLeakAreaUpdate', {
                      leakAreaY: t.leakAreaY,
                      hasLeak: t.hasLeak,
                    });
              });
            }),
            (e.SolveZoomCanvasWithLeak = function (t) {});
        },
        6547: (t, e, n) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }), (e.InitG6Behaviors = void 0);
          const r = n(6717);
          e.InitG6Behaviors = function (t, e) {
            const n = {
              type: 'drag-node',
              shouldBegin: (t) => {
                let n = t.item,
                  i = n.SVModel;
                return (
                  null !== n &&
                  !1 !== i.isNode() &&
                  !1 !==
                    (0, r.DetermineNodeDrag)(e.getLayoutGroupTable(), i, e.brushSelectedModels) &&
                  (e.clickSelectNode &&
                    void 0 === e.brushSelectedModels.find((t) => t.id === e.clickSelectNode.id) &&
                    (e.clickSelectNode.setSelectedState(!1), (e.clickSelectNode = null)),
                  i.setSelectedState(!0),
                  i.getAppendagesList().forEach((t) => {
                    t.setSelectedState(!0);
                  }),
                  !0)
                );
              },
            };
            return {
              default: [
                n,
                { type: 'drag-canvas' },
                {
                  type: 'click-select',
                  multiple: !1,
                  shouldBegin: (t) => {
                    let n = t.item;
                    if (null === n) return !1;
                    let r = n.SVModel;
                    return !1 !== r.isNode() && ((e.clickSelectNode = r), !0);
                  },
                },
              ],
              brush: [
                {
                  type: 'brush-select',
                  trigger: 'drag',
                  includeEdges: !1,
                  shouldUpdate: (t) => {
                    const e = t.SVModel;
                    return !e.leaked && !1 !== e.isNode() && (e.setSelectedState(!0), !0);
                  },
                },
                n,
              ],
            };
          };
        },
        7860: (t, e, n) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }), (e.Bound = void 0);
          const r = n(3766);
          e.Bound = {
            fromPoints(t) {
              let e = -1 / 0,
                n = 1 / 0,
                r = -1 / 0,
                i = 1 / 0;
              return (
                t.map((t) => {
                  t[0] > e && (e = t[0]),
                    t[0] < n && (n = t[0]),
                    t[1] > r && (r = t[1]),
                    t[1] < i && (i = t[1]);
                }),
                { x: n, y: i, width: e - n, height: r - i }
              );
            },
            toPoints: (t) => [
              [t.x, t.y],
              [t.x + t.width, t.y],
              [t.x + t.width, t.y + t.height],
              [t.x, t.y + t.height],
            ],
            union: (...t) =>
              0 === t.length
                ? { x: 0, y: 0, width: 0, height: 0 }
                : t.length > 1
                ? t.reduce((t, e) => {
                    let n = Math.min(t.x, e.x),
                      r = Math.max(t.x + t.width, e.x + e.width),
                      i = Math.min(t.y, e.y);
                    return {
                      x: n,
                      y: i,
                      width: r - n,
                      height: Math.max(t.y + t.height, e.y + e.height) - i,
                    };
                  })
                : t[0],
            intersect(t, e) {
              let n,
                r,
                i,
                o,
                a,
                s,
                u = t.x,
                c = t.x + t.width,
                l = e.x,
                h = e.x + e.width,
                f = t.y,
                d = t.y + t.height,
                p = e.y,
                g = e.y + e.height;
              return (
                (n = Math.max(u, l)),
                (i = Math.min(c, h)),
                (a = i - n),
                (r = Math.max(f, p)),
                (o = Math.min(d, g)),
                (s = o - r),
                a && s ? { x: n, y: r, width: a, height: s } : null
              );
            },
            translate(t, e, n) {
              (t.x += e), (t.y += n);
            },
            rotation(t, n) {
              let i = t.x + t.width / 2,
                o = t.y + t.height / 2;
              return e.Bound.fromPoints(
                e.Bound.toPoints(t).map((t) => r.Vector.rotation(n, t, [i, o])),
              );
            },
            isOverlap(t, e) {
              let n = t.x + t.width,
                r = t.y + t.height,
                i = e.x + e.width,
                o = e.y + e.height;
              return t.x < i && e.x < n && t.y < o && e.y < r;
            },
          };
        },
        5644: (t, e) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }),
            (e.EventBus = void 0),
            (e.EventBus = {
              events: {},
              on(t, n) {
                void 0 === e.EventBus.events[t] && (e.EventBus.events[t] = []),
                  e.EventBus.events[t].push(n);
              },
              emit(t, n) {
                void 0 !== e.EventBus.events[t] && e.EventBus.events[t].map((t) => t(n));
              },
            });
        },
        2392: (t, e, n) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }), (e.Group = void 0);
          const r = n(5962),
            i = n(7860),
            o = n(3567);
          class a {
            constructor(...t) {
              (this.models = []), (this.id = r.Util.generateId()), t && this.add(...t);
            }
            add(...t) {
              t.map((t) => {
                this.models.push(t);
              });
            }
            remove(t) {
              r.Util.removeFromList(this.models, (e) => e.id === t.id);
            }
            getBound() {
              return this.models.length
                ? i.Bound.union(...this.models.map((t) => t.getBound()))
                : { x: 0, y: 0, width: 0, height: 0 };
            }
            getPaddingBound(t = 0) {
              const e = this.getBound();
              return (e.x -= t), (e.y -= t), (e.width += 2 * t), (e.height += 2 * t), e;
            }
            getModels() {
              return this.models;
            }
            translate(t, e) {
              this.models.map((n) => {
                n instanceof a
                  ? n.translate(t, e)
                  : (n.set('x', n.get('x') + t), n.set('y', n.get('y') + e));
              });
            }
            scale(t, e) {
              this.models.map((n) => {
                if (n instanceof a) n.scale(t, e);
                else {
                  const r = o.ext.transform(n.getMatrix(), [
                    ['t', -t[0], -t[1]],
                    ['s', e, e],
                    ['t', t[0], t[1]],
                  ]);
                  n.setMatrix(r);
                }
              });
            }
            clear() {
              this.models.length = 0;
            }
          }
          e.Group = a;
        },
        5962: (t, e, n) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }), (e.Util = void 0);
          const r = n(9754),
            i = n(6293),
            o = n(4812);
          e.Util = {
            generateId: () =>
              'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function (t) {
                let e = (16 * Math.random()) | 0;
                return ('x' == t ? e : (3 & e) | 8).toString(16);
              }),
            objectClone: (t) => (t ? JSON.parse(JSON.stringify(t)) : null),
            removeFromList(t, e) {
              const n = [];
              for (let r = 0; r < t.length; r++)
                if (e(t[r])) {
                  let e = t.splice(r, 1);
                  n.push(...e), r--;
                }
              return n;
            },
            groupBy(t, e) {
              const n = {};
              return (
                t.forEach((t) => {
                  let r = t[e];
                  void 0 === n[r] && (n[r] = []), n[r].push(t);
                }),
                n
              );
            },
            assert(t, e) {
              if (t) throw e;
            },
            textParser(t) {
              let e = /\[[^\]]*\]/g;
              return e.test(t) ? t.match(e).map((t) => t.replace(/\[|\]/g, '')) : t;
            },
            clamp: (t, e, n) => (t <= e && t >= n ? t : t > e ? e : t < n ? n : void 0),
            convertGroupTable2ModelList(t) {
              const e = [];
              return (
                t.forEach((t) => {
                  e.push(...t.modelList);
                }),
                e
              );
            },
            convertModelList2G6Data: (t) => ({
              nodes: t.filter((t) => !(t instanceof i.SVLink)).map((t) => t.getG6ModelProps()),
              edges: t.filter((t) => t instanceof i.SVLink).map((t) => t.getG6ModelProps()),
            }),
            calcRotateMatrix: (t, e) => (o.Util.mat3.rotate(t, t, e), t),
            registerShape: (t, e, n) => (
              e.update || (e.update = void 0), (0, r.registerNode)(t, e, n)
            ),
          };
        },
        3766: (t, e) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }),
            (e.Vector = void 0),
            (e.Vector = {
              add: (t, e) => [t[0] + e[0], t[1] + e[1]],
              subtract: (t, e) => [t[0] - e[0], t[1] - e[1]],
              dot: (t, e) => t[0] * e[0] + t[1] * e[1],
              scale: (t, e) => [t[0] * e, t[1] * e],
              length: (t) => Math.sqrt(Math.pow(t[0], 2) + Math.pow(t[1], 2)),
              rotation(t, e, n = [0, 0]) {
                if (0 === t) return e;
                t = -t;
                let r = Math.cos(t),
                  i = Math.sin(t),
                  o = [e[0] - n[0], e[1] - n[1]],
                  a = [0, 0];
                return (
                  (a[0] = n[0] + (o[0] * r - o[1] * i)), (a[1] = n[1] + (o[0] * i + o[1] * r)), a
                );
              },
              tangent: (t) => [-t[1], t[0]],
              normalize(t) {
                let n = e.Vector.length(t);
                return 0 === n ? [0, 0] : 1 === n ? t : [t[0] / n, t[1] / n];
              },
              location: (t, n, r) => e.Vector.add(t, e.Vector.scale(e.Vector.normalize(n), r)),
              negative: (t) => e.Vector.scale(t, -1),
            });
        },
        6293: (t, e, n) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }), (e.SVLink = void 0);
          const r = n(5962),
            i = n(1615);
          class o extends i.SVModel {
            constructor(t, e, n, r, i, o, a, s, u) {
              super(t, e, n, r, 'link'),
                (this.node = i),
                (this.target = o),
                (this.nodeId = i.id),
                (this.targetId = o.id),
                (this.linkIndex = a),
                (this.label = u),
                i.links.outDegree.push(this),
                o.links.inDegree.push(this),
                (this.G6ModelProps = this.generateG6ModelProps(s));
            }
            generateG6ModelProps(t) {
              let e = t.sourceAnchor,
                n = t.targetAnchor;
              t.sourceAnchor &&
                'function' == typeof t.sourceAnchor &&
                null !== this.linkIndex &&
                (e = t.sourceAnchor(this.linkIndex)),
                t.targetAnchor &&
                  'function' == typeof t.targetAnchor &&
                  null !== this.linkIndex &&
                  (n = t.targetAnchor(this.linkIndex));
              let i,
                o = r.Util.objectClone(t.labelOptions || {}),
                a = this.target.sourceNode.freed;
              return (
                a && this.label
                  ? (i = this.label + '(freed)')
                  : !a && this.label
                  ? (i = this.label)
                  : a &&
                    !this.label &&
                    ((i = 'freed'),
                    (o = {
                      position: 'start',
                      autoRotate: !0,
                      refY: 7,
                      refX: 0,
                      style: { fontSize: 11, opacity: 0.8 },
                    }),
                    console.log(o)),
                {
                  id: this.id,
                  type: t.type,
                  source: this.node.id,
                  target: this.target.id,
                  sourceAnchor: e,
                  targetAnchor: n,
                  label: i,
                  style: r.Util.objectClone(t.style),
                  labelCfg: o,
                  curveOffset: t.curveOffset,
                  loopCfg: t.loopCfg,
                }
              );
            }
            triggerHighlight(t) {
              (this.originStyle = r.Util.objectClone(this.G6ModelProps.style)),
                this.set('style', { stroke: t });
            }
            isEqual(t) {
              return (
                (t.sourceType.toLowerCase().includes(this.sourceType.toLocaleLowerCase()) ||
                  this.sourceType.toLowerCase().includes(t.sourceType.toLowerCase())) &&
                t.targetId === this.targetId &&
                t.nodeId === this.nodeId &&
                t.linkIndex === this.linkIndex
              );
            }
            beforeDestroy() {
              r.Util.removeFromList(this.target.links.inDegree, (t) => t.id === this.id),
                r.Util.removeFromList(this.node.links.outDegree, (t) => t.id === this.id),
                (this.node = null),
                (this.target = null);
            }
          }
          e.SVLink = o;
        },
        1615: (t, e, n) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }), (e.SVModel = void 0);
          const r = n(5962),
            i = n(1965);
          e.SVModel = class {
            constructor(t, e, n, r, i) {
              (this.id = t),
                (this.sourceType = e),
                (this.group = n),
                (this.layout = r),
                (this.shadowG6Item = null),
                (this.G6Item = null),
                (this.preLayout = !1),
                (this.discarded = !1),
                (this.freed = !1),
                (this.leaked = !1),
                (this.transformMatrix = [1, 0, 0, 0, 1, 0, 0, 0, 1]),
                (this.modelType = i);
            }
            generateG6ModelProps(t) {
              return null;
            }
            get(t) {
              return this.G6ModelProps[t];
            }
            set(t, e) {
              if (!this.discarded)
                if ('object' != typeof t) {
                  if (this.G6ModelProps[t] !== e) {
                    if (
                      ((this.G6ModelProps[t] =
                        'style' === t || 'labelCfg' === t
                          ? (0, i.default)(this.G6ModelProps[t] || {}, e)
                          : e),
                      'rotation' === t)
                    ) {
                      const t = r.Util.calcRotateMatrix(this.getMatrix(), e);
                      this.setMatrix(t);
                    }
                    this.G6Item &&
                      (this.preLayout
                        ? (this.G6Item.getModel()[t] = e)
                        : this.g6Instance.updateItem(this.G6Item, this.G6ModelProps)),
                      this.shadowG6Item &&
                        this.shadowG6Instance.updateItem(this.shadowG6Item, this.G6ModelProps);
                  }
                } else
                  Object.keys(t).map((e) => {
                    this.set(e, t[e]);
                  });
            }
            updateG6ModelStyle(t) {
              const e = {
                style: Object.assign({}, t.style),
                labelCfg: Object.assign({}, t.labelCfg),
              };
              (this.G6ModelProps = i.default.recursive(this.G6ModelProps, e)),
                this.G6Item && this.g6Instance.updateItem(this.G6Item, this.G6ModelProps),
                this.shadowG6Item &&
                  this.shadowG6Instance.updateItem(this.shadowG6Item, this.G6ModelProps);
            }
            getBound() {
              return this.shadowG6Item.getBBox();
            }
            getMatrix() {
              return [...this.transformMatrix];
            }
            setMatrix(t) {
              (this.transformMatrix = t), this.set('style', { matrix: t });
            }
            setSelectedState(t) {
              null !== this.G6Item && this.G6Item.setState('selected', t);
            }
            getG6ModelProps() {
              return r.Util.objectClone(this.G6ModelProps);
            }
            getModelType() {
              return this.modelType;
            }
            triggerHighlight(t) {
              (this.originStyle = r.Util.objectClone(this.G6ModelProps.style)),
                this.set('style', { fill: t });
            }
            restoreHighlight() {
              this.originStyle && this.set('style', Object.assign({}, this.originStyle));
            }
            isNode() {
              return !1;
            }
            isEqual(t) {
              return this.id === t.id;
            }
            beforeRender() {}
            afterRender() {}
            beforeDestroy() {}
            afterDestroy() {
              (this.G6Item = null), (this.shadowG6Instance = null), (this.shadowG6Item = null);
            }
          };
        },
        2248: (t, e, n) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }), (e.SVNode = void 0);
          const r = n(5962),
            i = n(7710),
            o = n(1615);
          class a extends o.SVModel {
            constructor(t, e, n, r, i, o, a) {
              super(t, e, n, r, 'node'),
                (this.group = n),
                (this.layout = r),
                Object.keys(i).map((t) => {
                  'id' !== t && (this[t] = i[t]);
                }),
                (this.sourceNode = i),
                (this.sourceId = i.id.toString()),
                (this.links = { inDegree: [], outDegree: [] }),
                (this.appendages = {}),
                (this.sourceNode = i),
                (this.label = o),
                (this.G6ModelProps = this.generateG6ModelProps(a));
            }
            generateG6ModelProps(t) {
              const e = r.Util.objectClone(t.style);
              return Object.assign(Object.assign({}, this.sourceNode), {
                id: this.id,
                x: 0,
                y: 0,
                rotation: t.rotation || 0,
                type: t.type,
                size: t.size || [60, 30],
                anchorPoints: t.anchorPoints,
                label: this.label,
                style: Object.assign({}, e),
                labelCfg: r.Util.objectClone(t.labelOptions),
              });
            }
            isNode() {
              return !0;
            }
            setSelectedState(t) {
              null !== this.G6Item &&
                (this.G6Item.setState('selected', t),
                this.getAppendagesList().forEach((e) => {
                  e.setSelectedState(t);
                }));
            }
            getSourceId() {
              return this.sourceId;
            }
            getAppendagesList() {
              const t = [];
              return (
                Object.entries(this.appendages).forEach((e) => {
                  t.push(...e[1]);
                }),
                t
              );
            }
            isSameGroup(t) {
              return i.ModelConstructor.isSameGroup(this, t);
            }
            beforeDestroy() {
              (this.sourceNode = null),
                (this.links.inDegree.length = 0),
                (this.links.outDegree.length = 0),
                (this.appendages = {});
            }
          }
          e.SVNode = a;
        },
        6182: (t, e, n) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }),
            (e.SVMarker =
              e.SVIndexLabel =
              e.SVAddressLabel =
              e.SVFreedLabel =
              e.SVNodeAppendage =
                void 0);
          const r = n(5962),
            i = n(1615);
          class o extends i.SVModel {
            constructor(t, e, n, r, i, o, a) {
              super(t, e, n, r, i),
                (this.target = o),
                (this.targetId = o.id),
                (this.label = 'string' == typeof a ? a : a.join(', ')),
                void 0 === this.target.appendages[i] && (this.target.appendages[i] = []),
                this.target.appendages[i].push(this);
            }
            beforeDestroy() {
              const t = this.target.appendages[this.getModelType()];
              t && r.Util.removeFromList(t, (t) => t.id === this.id), (this.target = null);
            }
            isEqual(t) {
              return t.targetId === this.targetId && t.label === this.label;
            }
          }
          (e.SVNodeAppendage = o),
            (e.SVFreedLabel = class extends o {
              constructor(t, e, n, r, i) {
                super(t, e, n, r, 'freedLabel', i, '已释放'),
                  (this.G6ModelProps = this.generateG6ModelProps());
              }
              generateG6ModelProps() {
                return {
                  id: this.id,
                  x: 0,
                  y: 0,
                  type: 'rect',
                  label: this.label,
                  labelCfg: { style: { fill: '#b83b5e', opacity: 0.6 } },
                  size: [0, 0],
                  style: { opacity: 0, stroke: null, fill: 'transparent' },
                };
              }
            }),
            (e.SVAddressLabel = class extends o {
              constructor(t, e, n, r, i, o) {
                super(t, e, n, r, 'addressLabel', i, i.sourceId),
                  (this.G6ModelProps = this.generateG6ModelProps(o));
              }
              getBound() {
                const t = this.shadowG6Item.getContainer().getChildren()[1].getBBox(),
                  e = this.shadowG6Item.getBBox();
                return { x: e.x + t.x, y: e.y + t.y, width: t.width, height: t.height };
              }
              generateG6ModelProps(t) {
                return {
                  id: this.id,
                  x: 0,
                  y: 0,
                  type: 'rect',
                  label: this.label,
                  labelCfg: { style: Object.assign({ fill: '#666', fontSize: 16 }, t.style) },
                  size: [0, 0],
                  style: { stroke: null, fill: 'transparent' },
                };
              }
            }),
            (e.SVIndexLabel = class extends o {
              constructor(t, e, n, r, i, o, a) {
                super(t, e, n, r, 'indexLabel', o, i),
                  (this.G6ModelProps = this.generateG6ModelProps(a));
              }
              generateG6ModelProps(t) {
                return {
                  id: this.id,
                  x: 0,
                  y: 0,
                  type: 'rect',
                  label: this.label,
                  labelCfg: {
                    style: Object.assign(
                      {
                        fill: '#bbb',
                        textAlign: 'center',
                        textBaseline: 'middle',
                        fontSize: 14,
                        fontStyle: 'italic',
                      },
                      t.style,
                    ),
                  },
                  size: [0, 0],
                  style: { stroke: null, fill: 'transparent' },
                };
              }
            }),
            (e.SVMarker = class extends o {
              constructor(t, e, n, r, i, o, a) {
                super(t, e, n, r, 'marker', o, i),
                  (this.G6ModelProps = this.generateG6ModelProps(a));
              }
              generateG6ModelProps(t) {
                this.anchor = t.anchor;
                const e = 'pointer' === t.type ? [8, 30] : [12, 12];
                return {
                  id: this.id,
                  x: 0,
                  y: 0,
                  rotation: 0,
                  type: t.type || 'marker',
                  size: t.size || e,
                  anchorPoints: null,
                  label: this.label,
                  style: r.Util.objectClone(t.style),
                  labelCfg: r.Util.objectClone(t.labelOptions),
                  targetSourceNode: this.target.sourceNode,
                };
              }
              getLabelSizeRadius() {
                const { width: t, height: e } = this.shadowG6Item
                  .getContainer()
                  .getChildren()[2]
                  .getBBox();
                return Math.max(t, e);
              }
            });
        },
        7710: (t, e, n) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }), (e.ModelConstructor = void 0);
          const r = n(2392),
            i = n(5962),
            o = n(5228),
            a = n(6293),
            s = n(2248),
            u = n(6182);
          class c {
            constructor(t) {
              (this.engine = t), (this.prevSourcesStringMap = {});
            }
            construct(t) {
              const e = new Map(),
                n = o.SV.registeredLayout;
              return (
                Object.keys(t).forEach((r) => {
                  let i = t[r],
                    o = i.layouter,
                    a = n[o];
                  if (!o || !a) return;
                  let s = JSON.stringify(i.data),
                    u = this.prevSourcesStringMap[r],
                    c = [],
                    l = [];
                  if (u === s) return;
                  const h = a.defineOptions(i.data),
                    f = a.sourcesPreprocess(i.data, h, r),
                    d = h.node || h.element || {},
                    p = h.marker || {},
                    g = h.indexLabel || {},
                    v = h.addressLabel || {};
                  (c = this.constructNodes(r, o, d, f)),
                    l.push(...this.constructMarkers(r, o, p, c)),
                    l.push(...this.constructIndexLabel(r, o, g, c)),
                    l.push(...this.constructAddressLabel(r, o, v, c)),
                    c.forEach((t) => {
                      t.appendages.freedLabel && l.push(...t.appendages.freedLabel);
                    }),
                    e.set(r, {
                      name: r,
                      node: c,
                      appendage: l,
                      link: [],
                      options: h,
                      layoutCreator: a,
                      modelList: [...c, ...l],
                      layout: o,
                      isHide: !1,
                    });
                }),
                e.forEach((t, n) => {
                  const r = t.options.link || {},
                    i = this.constructLinks(n, t.layout, r, t.node, e);
                  (t.link = i), t.modelList.push(...i);
                }),
                (this.layoutGroupTable = e),
                this.layoutGroupTable
              );
            }
            constructNodes(t, e, n, r) {
              let i = [];
              return (
                r.forEach((r) => {
                  null !== r &&
                    ((void 0 !== r.type && null !== r.type) || (r.type = 'default'),
                    i.push(this.createNode(r, r.type, t, e, n[r.type])));
                }),
                i
              );
            }
            constructLinks(t, e, n, r, i) {
              let o = [];
              return (
                Object.keys(n).forEach((a) => {
                  for (let s = 0; s < r.length; s++) {
                    let u,
                      l = r[s],
                      h = l.sourceNode[a],
                      f = null,
                      d = null;
                    if (null != h)
                      if (Array.isArray(h))
                        l[a] = h.map((r, s) => {
                          'string' == typeof r &&
                            r.includes('/') &&
                            ((u = r.split('/')[1]), (r = r.split('/')[0])),
                            (f = this.fetchTargetNodes(i, l, r));
                          let p = c.isGeneralLink(h.toString());
                          return (
                            f && ((d = this.createLink(a, t, e, l, f, s, n[a], u)), o.push(d)),
                            p ? f : null
                          );
                        });
                      else {
                        f = this.fetchTargetNodes(i, l, h);
                        let r = c.isGeneralLink(h.toString());
                        f && ((d = this.createLink(a, t, e, l, f, 0, n[a], u)), o.push(d)),
                          (l[a] = r ? f : null);
                      }
                    else l[a] = null;
                  }
                }),
                o
              );
            }
            constructIndexLabel(t, e, n, r) {
              let i = [];
              return (
                Object.keys(n).forEach((o) => {
                  for (let a = 0; a < r.length; a++) {
                    let s = r[a],
                      c = s[o];
                    if (null == c) continue;
                    let l = `${t}[${o}(${c}-${s.id})]`,
                      h = new u.SVIndexLabel(l, o, t, e, c.toString(), s, n[o]);
                    i.push(h);
                  }
                }),
                i
              );
            }
            constructAddressLabel(t, e, n, r) {
              let i = [];
              return (
                r.forEach((r) => {
                  const o = new u.SVAddressLabel(
                    `address-label(${r.id})`,
                    r.sourceType,
                    t,
                    e,
                    r,
                    n,
                  );
                  i.push(o);
                }),
                i
              );
            }
            constructMarkers(t, e, n, r) {
              let i = [];
              return (
                Object.keys(n).forEach((o) => {
                  for (let a = 0; a < r.length; a++) {
                    let s = r[a],
                      c = s[o];
                    if (!c) continue;
                    let l = `[${o}(${Array.isArray(c) ? c.join('-') : c})]`,
                      h = new u.SVMarker(l, o, t, e, c, s, n[o]);
                    i.push(h);
                  }
                }),
                i
              );
            }
            resolveNodeLabel(t, e) {
              let n = '';
              return (
                (n = Array.isArray(t)
                  ? t.map((t) => {
                      var n;
                      return null !== (n = this.parserNodeContent(e, t)) && void 0 !== n ? n : '';
                    })
                  : this.parserNodeContent(e, t)),
                'undefined' === n && (n = ''),
                null != n ? n : ''
              );
            }
            createNode(t, e, n, r, i) {
              let o = this.resolveNodeLabel(i.label, t),
                a = `${e}(${t.id.toString()})`,
                c = new s.SVNode(a, e, n, r, t, o, i);
              return c.freed && new u.SVFreedLabel(`freed-label(${a})`, e, n, r, c), c;
            }
            createLink(t, e, n, r, i, o, s, u) {
              let c;
              return (
                (c =
                  -1 !== n.indexOf('Graph') ? `{${r.id}-${i.id}}` : `${t}{${r.id}-${i.id}}#${o}`),
                new a.SVLink(c, t, e, n, r, i, o, s, u)
              );
            }
            parserNodeContent(t, e) {
              let n = i.Util.textParser(e);
              return (
                Array.isArray(n) &&
                  n
                    .map((e) => t[e])
                    .map((t, r) => {
                      e = e.replace('[' + n[r] + ']', t);
                    }),
                e
              );
            }
            fetchTargetNodes(t, e, n) {
              let r,
                i = e.group,
                o = e.sourceType,
                a = n,
                s = i,
                u = null;
              if (null == n) return null;
              ('number' == typeof n || ('string' == typeof n && !n.includes('#'))) &&
                (n = 'default#' + n);
              let c = n.split('#');
              if (((a = c.pop()), c.length > 1)) (o = c.pop()), (s = c.pop());
              else {
                let e = c.pop();
                if (t.get(s).node.find((t) => t.sourceType === e)) o = e;
                else {
                  if (!t.has(e)) return null;
                  s = e;
                }
              }
              for (let e of t.values())
                if (
                  ((r = e.node.filter((t) => t.sourceType === o)),
                  void 0 !== r && ((u = r.find((t) => t.sourceId === a)), u))
                )
                  break;
              return u || null;
            }
            getLayoutGroupTable() {
              return this.layoutGroupTable;
            }
            destroy() {
              (this.layoutGroupTable = null), (this.prevSourcesStringMap = null);
            }
            static isGeneralLink(t) {
              let e = 0;
              for (let n = 0; n < t.length; n++) '#' === t[n] && e++;
              return e <= 2;
            }
            static isSameGroup(t, e) {
              return t.group === e.group;
            }
            static getClusters(t) {
              const e = [],
                n = {},
                i = '__clusterId';
              t.forEach((t) => {
                n[t.id] = t;
              });
              const o = (t, e, n) => {
                if (null === t) return [];
                if (void 0 === n[t.id]) return [];
                if (void 0 !== t[i]) return [];
                const r = [t];
                return (
                  (t[i] = e),
                  t instanceof s.SVNode &&
                    (t.getAppendagesList().forEach((t) => {
                      r.push(...o(t, e, n));
                    }),
                    t.links.inDegree.forEach((t) => {
                      r.push(...o(t, e, n));
                    }),
                    t.links.outDegree.forEach((t) => {
                      r.push(...o(t, e, n));
                    })),
                  t instanceof a.SVLink &&
                    (r.push(...o(t.node, e, n)), r.push(...o(t.target, e, n))),
                  t instanceof u.SVNodeAppendage && r.push(...o(t.target, e, n)),
                  r
                );
              };
              for (let a = 0; a < t.length; a++) {
                const s = t[a];
                if (void 0 !== s[i]) {
                  delete s[i];
                  continue;
                }
                const u = new r.Group();
                o(s, a, n).forEach((t) => {
                  u.add(t);
                }),
                  e.push(u),
                  delete s[i];
              }
              return e;
            }
          }
          e.ModelConstructor = c;
        },
        705: (t, e, n) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 });
          const r = n(5962);
          e.default = r.Util.registerShape(
            'array-node',
            {
              getAnchorPoints: () => [
                [0.5, 0],
                [1, 0.5],
                [0.5, 1],
                [0, 0.5],
              ],
            },
            'rect',
          );
        },
        1273: (t, e, n) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 });
          const r = n(5962);
          e.default = r.Util.registerShape(
            'binary-tree-node',
            {
              draw(t, e) {
                t.size = t.size;
                const n = t.size[0],
                  r = t.size[1],
                  i = e.addShape('rect', {
                    attrs: {
                      x: n / 2,
                      y: r / 2,
                      width: n,
                      height: r,
                      stroke: t.style.stroke || '#333',
                      cursor: t.style.cursor,
                      fill: t.style.backgroundFill || '#eee',
                    },
                    name: 'wrapper',
                  });
                e.addShape('rect', {
                  attrs: {
                    x: n / 4 + n / 2,
                    y: r / 2,
                    width: n / 2,
                    height: r,
                    fill: t.style.fill,
                    stroke: t.style.stroke || '#333',
                    cursor: t.style.cursor,
                  },
                  name: 'mid',
                  draggable: !0,
                });
                const o = (t.labelCfg && t.labelCfg.style) || {};
                t.label &&
                  e.addShape('text', {
                    attrs: {
                      x: n,
                      y: r,
                      textAlign: 'center',
                      textBaseline: 'middle',
                      text: t.label,
                      fill: o.fill || '#000',
                      fontSize: o.fontSize || 16,
                      cursor: t.style.cursor,
                    },
                    name: 'label',
                    draggable: !0,
                  });
                const a =
                    !t.child ||
                    void 0 === t.child[0] ||
                    void 0 === t.child[0] ||
                    '0x0' == t.child[0],
                  s =
                    !t.child ||
                    void 0 === t.child[1] ||
                    void 0 === t.child[1] ||
                    '0x0' == t.child[1];
                return (
                  a &&
                    e.addShape('text', {
                      attrs: {
                        x: n * (5 / 8),
                        y: r * (8 / 7),
                        textAlign: 'center',
                        textBaseline: 'middle',
                        text: '^',
                        fill: o.fill || '#000',
                        fontSize: 16,
                        cursor: t.style.cursor,
                      },
                      name: 'null-left',
                      draggable: !0,
                    }),
                  s &&
                    e.addShape('text', {
                      attrs: {
                        x: n * (11 / 8),
                        y: r * (8 / 7),
                        textAlign: 'center',
                        textBaseline: 'middle',
                        text: '^',
                        fill: o.fill || '#000',
                        fontSize: 16,
                        cursor: t.style.cursor,
                      },
                      name: 'null-right',
                      draggable: !0,
                    }),
                  i
                );
              },
              getAnchorPoints: () => [
                [0.5, 0],
                [0.875, 0.5],
                [0.5, 1],
                [0.125, 0.5],
              ],
            },
            'rect',
          );
        },
        8629: (t, e, n) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 });
          const r = n(4812),
            i = n(5962);
          function o(t, e, n) {
            const r = n(t.getMatrix(), [['r', e]]);
            t.setMatrix(r);
          }
          function a(t, e, n, r) {
            const i = r(t.getMatrix(), [['t', e, n]]);
            t.setMatrix(i);
          }
          function s(t, e) {
            let n = Math.cos(t) * e,
              r = -Math.sin(t) * e;
            return console.log(n, r, e), { offsetX: n, offsetY: r };
          }
          (e.default = o),
            i.Util.registerShape('clen-queue-pointer', {
              draw(t, e) {
                let n = t.id;
                const i = parseInt(n.split('-')[1]),
                  u = parseInt(n.split('-')[2]),
                  c = e.addShape('path', {
                    attrs: { x: 0, y: 0, path: this.getPath(t), fill: t.style.fill },
                    name: 'pointer-path',
                  }),
                  l = (i * Math.PI * 2) / u;
                if (t.label) {
                  const n = (t.labelCfg && t.labelCfg.style) || {};
                  e.addShape('rect', {
                    attrs: {
                      x: 0,
                      y: 0,
                      width: 0,
                      height: 0,
                      text: t.label,
                      fill: null,
                      radius: 2,
                    },
                    name: 'bgRect',
                  });
                  let i = t.label.split('-')[0],
                    o = 'front' == i ? 30 : 15;
                  a(
                    e.addShape('text', {
                      attrs: {
                        x: s(Math.PI / 2 - l, o).offsetX,
                        y: s(Math.PI / 2 - l, o).offsetY,
                        textAlign: 'center',
                        textBaseline: 'middle',
                        text: i,
                        fill: n.fill || '#999',
                        fontSize: n.fontSize || 16,
                      },
                      name: 'pointer-text-shape',
                    }),
                    0,
                    -75,
                    r.default.Util.transform,
                  );
                }
                return o(c, l, r.default.Util.transform), a(c, 0, -75, r.default.Util.transform), c;
              },
              getPath: (t) => [
                ['M', 0, 0],
                ['L', -0.5, 0],
                ['L', -0.5, -38],
                ['L', -3, -38],
                ['L', 0, -49.4],
                ['L', 3, -38],
                ['L', 0.5, -38],
                ['L', 0.5, 0],
                ['Z'],
              ],
            });
        },
        4198: (t, e, n) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 });
          const r = n(5962);
          e.default = r.Util.registerShape('cursor', {
            draw(t, e) {
              const n = e.addShape('path', {
                attrs: { path: this.getPath(t), fill: t.style.fill, matrix: t.style.matrix },
                name: 'cursor-path',
              });
              if (t.label) {
                const n = (t.labelCfg && t.labelCfg.style) || {},
                  r = e.addShape('rect', {
                    attrs: { x: 0, y: 0, text: t.label, fill: 'transparent', radius: 2 },
                    name: 'bgRect',
                  }),
                  i = e.addShape('text', {
                    attrs: {
                      x: 0,
                      y: 0,
                      textAlign: 'center',
                      textBaseline: 'middle',
                      text: t.label,
                      fill: n.fill || '#999',
                      fontSize: n.fontSize || 16,
                    },
                    name: 'cursor-text-shape',
                  }),
                  { width: o, height: a } = i.getBBox();
                r.attr({ width: o + 6, height: a + 6 });
                const s = t.markerEndPosition;
                if (s) {
                  let t = s[0],
                    e = s[1];
                  i.attr({ x: t, y: e }), r.attr({ x: t - o / 2 - 3, y: e - a / 2 - 3 });
                }
              }
              return n;
            },
            getPath(t) {
              let e = t.size[0],
                n = t.size[1];
              return [['M', 0, 0], ['L', -e / 2, -n], ['L', e / 2, -n], ['L', 0, 0], ['Z']];
            },
          });
        },
        4259: (t, e, n) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 });
          const r = n(5962);
          e.default = r.Util.registerShape(
            'force-node',
            {
              draw(t, e) {
                const n = e.addShape('circle', {
                  attrs: { r: 15, stroke: 'rgb(35, 120, 180)', fill: 'rgb(31, 119, 180)' },
                  name: 'wrapper',
                });
                if (t.label) {
                  const n = (t.labelCfg && t.labelCfg.style) || {};
                  e.addShape('text', {
                    attrs: {
                      x: 0,
                      y: 0,
                      textAlign: 'center',
                      textBaseline: 'middle',
                      text: t.label,
                      fill: n.fill || '#000',
                      fontSize: n.fontSize || 10,
                      cursor: t.style.cursor,
                    },
                    name: 'text',
                    draggable: !0,
                  });
                }
                return n;
              },
              getAnchorPoints: () => [
                [0.5, 0.5],
                [0, 0.5],
                [1, 0],
              ],
            },
            'rect',
          );
        },
        2645: (t, e, n) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 });
          const r = n(5962);
          e.default = r.Util.registerShape(
            'link-list-node',
            {
              draw(t, e) {
                t.size = t.size || [30, 10];
                const n = t.size[0],
                  r = t.size[1],
                  i = e.addShape('rect', {
                    attrs: {
                      x: n / 2,
                      y: r / 2,
                      width: n,
                      height: r,
                      stroke: t.style.stroke || '#333',
                      fill: t.style.backgroundFill || '#eee',
                      cursor: t.style.cursor,
                    },
                    name: 'wrapper',
                  });
                e.addShape('rect', {
                  attrs: {
                    x: n / 2,
                    y: r / 2,
                    width: n * (2 / 3),
                    height: r,
                    fill: t.style.fill,
                    stroke: t.style.stroke || '#333',
                    cursor: t.style.cursor,
                  },
                  name: 'main-rect',
                  draggable: !0,
                });
                const o = (t.labelCfg && t.labelCfg.style) || {};
                return (
                  t.label &&
                    e.addShape('text', {
                      attrs: {
                        x: n * (5 / 6),
                        y: r,
                        textAlign: 'center',
                        textBaseline: 'middle',
                        text: t.label,
                        fill: o.fill || '#000',
                        fontSize: o.fontSize || 16,
                      },
                      name: 'label',
                      draggable: !0,
                    }),
                  t.next ||
                    t.loopNext ||
                    e.addShape('text', {
                      attrs: {
                        x: n * (4 / 3),
                        y: 1.2 * r,
                        textAlign: 'center',
                        textBaseline: 'middle',
                        text: '^',
                        fill: o.fill || '#000',
                        fontSize: 16,
                        cursor: t.style.cursor,
                      },
                      name: 'null',
                      draggable: !0,
                    }),
                  i
                );
              },
              getAnchorPoints: () => [
                [0.5, 0],
                [5 / 6, 0],
                [5 / 6, 0.5],
                [1, 0.5],
                [5 / 6, 1],
                [0.5, 1],
                [0, 0.5],
                [1 / 3, 1],
              ],
            },
            'rect',
          );
        },
        3929: (t, e, n) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 });
          const r = n(5962);
          e.default = r.Util.registerShape('pointer', {
            draw(t, e) {
              const n = e.addShape('path', {
                attrs: { path: this.getPath(t), fill: t.style.fill, matrix: t.style.matrix },
                name: 'pointer-path',
              });
              if (t.label) {
                const r = (t.labelCfg && t.labelCfg.style) || {},
                  i = e.addShape('rect', {
                    attrs: { x: 0, y: 0, text: t.label, fill: null, radius: 2 },
                    name: 'bgRect',
                  }),
                  o = e.addShape('text', {
                    attrs: {
                      x: 0,
                      y: 0,
                      textAlign: 'center',
                      textBaseline: 'middle',
                      text: t.label,
                      fill: r.fill || '#999',
                      fontSize: r.fontSize || 16,
                    },
                    name: 'pointer-text-shape',
                  }),
                  { width: a, height: s } = o.getBBox(),
                  { width: u, height: c } = n.getBBox();
                i.attr({ width: a + u + 6, height: s + c + 6 });
                const l = t.markerEndPosition;
                if (l) {
                  let t = l[0],
                    e = l[1];
                  o.attr({ x: t, y: e }), i.attr({ x: t - a / 2 - 3, y: e - s / 2 - 3 });
                }
                return i;
              }
              return n;
            },
            getPath(t) {
              let e = t.size[0],
                n = t.size[1],
                r = e + 4,
                i = 0.3 * n;
              return [
                ['M', 0, 0],
                ['L', -e / 2 - r / 2, -i],
                ['L', -e / 2, -i],
                ['L', -e / 2, -n],
                ['L', e / 2, -n],
                ['L', e / 2, -i],
                ['L', e / 2 + r / 2, -i],
                ['Z'],
              ];
            },
          });
        },
        6768: (t, e, n) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 });
          const r = n(4812);
          e.default = (0, r.registerNode)('three-cell', {
            draw(t, e) {
              t.size = t.size || [30, 10];
              const n = t.size[0],
                r = t.size[1],
                i = e.addShape('rect', {
                  attrs: {
                    x: n / 2,
                    y: r / 2,
                    width: n,
                    height: r,
                    stroke: t.style.stroke,
                    fill: t.style.backgroundFill || '#eee',
                  },
                  name: 'wrapper',
                });
              e.addShape('rect', {
                attrs: {
                  x: n / 2,
                  y: r / 2,
                  width: n / 3,
                  height: r,
                  fill: t.style.fill,
                  stroke: t.style.stroke,
                },
                name: 'left-rect',
                draggable: !0,
              }),
                e.addShape('rect', {
                  attrs: {
                    x: n * (5 / 6),
                    y: r / 2,
                    width: n / 3,
                    height: r,
                    fill: t.style.fill,
                    stroke: t.style.stroke,
                  },
                  name: 'middle-rect',
                  draggable: !0,
                });
              const o = (t.labelCfg && t.labelCfg.style) || {};
              return (
                t.root &&
                  t.rootLabel &&
                  (e.addShape('text', {
                    attrs: {
                      x: n * (2 / 3),
                      y: 0,
                      textAlign: 'center',
                      textBaseline: 'middle',
                      text: t.rootLabel[0],
                      fill: o.fill || '#bbb',
                      fontSize: o.fontSize || 16,
                      fontStyle: 'italic',
                      cursor: t.style.cursor,
                    },
                    name: 'rootLabel0',
                    draggable: !0,
                  }),
                  e.addShape('text', {
                    attrs: {
                      x: n,
                      y: 0,
                      textAlign: 'center',
                      textBaseline: 'middle',
                      text: t.rootLabel[1],
                      fill: o.fill || '#bbb',
                      fontSize: o.fontSize || 16,
                      fontStyle: 'italic',
                      cursor: t.style.cursor,
                    },
                    name: 'rootLabel1',
                    draggable: !0,
                  }),
                  e.addShape('text', {
                    attrs: {
                      x: n * (4 / 3),
                      y: 0,
                      textAlign: 'center',
                      textBaseline: 'middle',
                      text: t.rootLabel[2],
                      fill: o.fill || '#bbb',
                      fontSize: o.fontSize || 16,
                      fontStyle: 'italic',
                      cursor: t.style.cursor,
                    },
                    name: 'rootLabel2',
                    draggable: !0,
                  })),
                null !== t.index &&
                  e.addShape('text', {
                    attrs: {
                      x: 0.4 * n,
                      y: r,
                      textAlign: 'center',
                      textBaseline: 'middle',
                      text: t.index,
                      fill: o.fill || '#bbb',
                      fontSize: o.fontSize || 16,
                      fontStyle: 'italic',
                      cursor: t.style.cursor,
                    },
                    name: 'index',
                    draggable: !0,
                  }),
                t.label &&
                  (e.addShape('text', {
                    attrs: {
                      x: n * (2 / 3),
                      y: r,
                      textAlign: 'center',
                      textBaseline: 'middle',
                      text: t.label[0],
                      fill: o.fill || '#000',
                      fontSize: o.fontSize || 16,
                      cursor: t.style.cursor,
                    },
                    name: 'label1',
                    draggable: !0,
                  }),
                  e.addShape('text', {
                    attrs: {
                      x: n,
                      y: r,
                      textAlign: 'center',
                      textBaseline: 'middle',
                      text: t.label[1],
                      fill: o.fill || '#000',
                      fontSize: o.fontSize || 16,
                      cursor: t.style.cursor,
                    },
                    name: 'label2',
                    draggable: !0,
                  })),
                t.headNext ||
                  e.addShape('text', {
                    attrs: {
                      x: n * (4 / 3),
                      y: 1.2 * r,
                      textAlign: 'center',
                      textBaseline: 'middle',
                      text: '^',
                      fill: o.fill || '#000',
                      fontSize: 22,
                      cursor: t.style.cursor,
                    },
                    name: 'null',
                    draggable: !0,
                  }),
                i
              );
            },
            getAnchorPoints: () => [
              [0.5, 0],
              [5 / 6, 0.5],
              [0.5, 1],
              [0, 0.5],
            ],
          });
        },
        5419: (t, e, n) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 });
          const r = n(5962);
          e.default = r.Util.registerShape('tri-tree-node', {
            draw(t, e) {
              t.size = t.size;
              const n = t.size[0],
                r = t.size[1],
                i = e.addShape('rect', {
                  attrs: {
                    x: n / 2,
                    y: r / 2,
                    width: n,
                    height: r,
                    stroke: t.style.stroke || '#333',
                    cursor: t.style.cursor,
                    fill: '#eee',
                  },
                  name: 'wrapper',
                });
              e.addShape('rect', {
                attrs: {
                  x: n / 4 + n / 2,
                  y: r / 2,
                  width: n / 2,
                  height: r / 4,
                  fill: '#eee',
                  stroke: t.style.stroke || '#333',
                  cursor: t.style.cursor,
                },
                name: 'top',
                draggable: !0,
              }),
                e.addShape('rect', {
                  attrs: {
                    x: n / 4 + n / 2,
                    y: r / 2 + r / 4,
                    width: n / 2,
                    height: (r / 4) * 3,
                    fill: t.color || t.style.fill,
                    stroke: t.style.stroke || '#333',
                    cursor: t.style.cursor,
                  },
                  name: 'bottom',
                  draggable: !0,
                });
              const o = (t.labelCfg && t.labelCfg.style) || {};
              t.label &&
                e.addShape('text', {
                  attrs: {
                    x: n,
                    y: r + r / 8,
                    textAlign: 'center',
                    textBaseline: 'middle',
                    text: t.label,
                    fill: o.fill || '#000',
                    fontSize: o.fontSize || 16,
                    cursor: t.style.cursor,
                  },
                  name: 'label',
                  draggable: !0,
                });
              let a = t.parent || t.l_parent || t.r_parent;
              const s =
                  !t.child || void 0 === t.child[0] || void 0 === t.child[0] || '0x0' == t.child[0],
                u =
                  !t.child || void 0 === t.child[1] || void 0 === t.child[1] || '0x0' == t.child[1];
              return (
                '0x0' == a[0] &&
                  e.addShape('text', {
                    attrs: {
                      x: n,
                      y: (r / 4) * 3,
                      textAlign: 'center',
                      textBaseline: 'middle',
                      text: '^',
                      fill: o.fill || '#000',
                      fontSize: o.fontSize || 14,
                      cursor: t.style.cursor,
                    },
                    name: 'null-parent',
                    draggable: !0,
                  }),
                s &&
                  e.addShape('text', {
                    attrs: {
                      x: n * (5 / 8),
                      y: r * (8 / 7),
                      textAlign: 'center',
                      textBaseline: 'middle',
                      text: '^',
                      fill: o.fill || '#000',
                      fontSize: 16,
                      cursor: t.style.cursor,
                    },
                    name: 'null-left',
                    draggable: !0,
                  }),
                u &&
                  e.addShape('text', {
                    attrs: {
                      x: n * (11 / 8),
                      y: r * (8 / 7),
                      textAlign: 'center',
                      textBaseline: 'middle',
                      text: '^',
                      fill: o.fill || '#000',
                      fontSize: 16,
                      cursor: t.style.cursor,
                    },
                    name: 'null-right',
                    draggable: !0,
                  }),
                i
              );
            },
            getAnchorPoints: () => [
              [0.125, 0.5],
              [0.875, 0.5],
              [0.4, 1],
              [0.5, 0],
              [0.5, 0.125],
              [0.6, 1],
              [0.5, 1],
            ],
          });
        },
        4704: (t, e, n) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 });
          const r = n(5962);
          e.default = r.Util.registerShape(
            'two-cell-node',
            {
              draw(t, e) {
                t.size = t.size || [30, 10];
                const n = t.size[0],
                  r = t.size[1],
                  i = e.addShape('rect', {
                    attrs: {
                      x: n / 2,
                      y: r / 2,
                      width: n,
                      height: r,
                      stroke: t.style.stroke,
                      fill: t.style.backgroundFill || '#eee',
                    },
                    name: 'wrapper',
                  });
                e.addShape('rect', {
                  attrs: {
                    x: n / 2,
                    y: r / 2,
                    width: n / 2,
                    height: r,
                    fill: t.style.fill,
                    stroke: t.style.stroke,
                  },
                  name: 'left-rect',
                  draggable: !0,
                });
                const o = (t.labelCfg && t.labelCfg.style) || {};
                if (t.label)
                  if (Array.isArray(t.label)) {
                    let i = t.label[0],
                      a = t.label[1];
                    e.addShape('text', {
                      attrs: {
                        x: n * (3 / 4),
                        y: r,
                        textAlign: 'center',
                        textBaseline: 'middle',
                        text: i,
                        fill: o.fill || '#000',
                        fontSize: o.fontSize || 16,
                        cursor: t.style.cursor,
                      },
                      name: 'tag',
                      draggable: !0,
                    }),
                      e.addShape('text', {
                        attrs: {
                          x: n * (5 / 4),
                          y: r,
                          textAlign: 'center',
                          textBaseline: 'middle',
                          text: a,
                          fill: o.fill || '#000',
                          fontSize: o.fontSize || 16,
                          cursor: t.style.cursor,
                        },
                        name: 'data',
                        draggable: !0,
                      });
                  } else
                    e.addShape('text', {
                      attrs: {
                        x: n * (3 / 4),
                        y: r,
                        textAlign: 'center',
                        textBaseline: 'middle',
                        text: t.label,
                        fill: o.fill || '#000',
                        fontSize: o.fontSize || 16,
                        cursor: t.style.cursor,
                      },
                      name: 'label',
                      draggable: !0,
                    });
                return (
                  t.id.includes('tableHeadNode') &&
                    !t.headNext &&
                    e.addShape('text', {
                      attrs: {
                        x: n * (5 / 4),
                        y: r * (8 / 7),
                        textAlign: 'center',
                        textBaseline: 'middle',
                        text: '^',
                        fill: o.fill || '#000',
                        fontSize: 20,
                        cursor: t.style.cursor,
                      },
                      name: 'null-headNext',
                      draggable: !0,
                    }),
                  t.id.includes('head') &&
                    !t.start &&
                    e.addShape('text', {
                      attrs: {
                        x: n * (5 / 4),
                        y: r * (8 / 7),
                        textAlign: 'center',
                        textBaseline: 'middle',
                        text: '^',
                        fill: o.fill || '#000',
                        fontSize: 20,
                        cursor: t.style.cursor,
                      },
                      name: 'null-start',
                      draggable: !0,
                    }),
                  t.id.includes('PCTreeHead') &&
                    !t.headNext &&
                    e.addShape('text', {
                      attrs: {
                        x: n * (5 / 4),
                        y: r * (8 / 7),
                        textAlign: 'center',
                        textBaseline: 'middle',
                        text: '^',
                        fill: o.fill || '#000',
                        fontSize: 20,
                        cursor: t.style.cursor,
                      },
                      name: 'null-headNext2',
                      draggable: !0,
                    }),
                  i
                );
              },
              getAnchorPoints: () => [
                [0.5, 0],
                [3 / 4, 0.5],
                [0.5, 1],
                [0, 0.5],
              ],
            },
            'rect',
          );
        },
        5228: (t, e, n) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }), (e.SV = void 0);
          const r = n(3913),
            i = n(7860),
            o = n(2392),
            a = n(4812),
            s = n(3929),
            u = n(2645),
            c = n(1273),
            l = n(4259),
            h = n(5419),
            f = n(8629),
            d = n(4704),
            p = n(6768),
            g = n(705),
            v = n(4198),
            y = n(3766),
            m = n(5962);
          (e.SV = function (t, e = {}, n) {
            return new r.Engine(t, e, n);
          }),
            (e.SV.Group = o.Group),
            (e.SV.Bound = i.Bound),
            (e.SV.Vector = y.Vector),
            (e.SV.Mat3 = a.default.Util.mat3),
            (e.SV.G6 = a.default),
            (e.SV.registeredLayout = {}),
            (e.SV.registeredShape = [
              s.default,
              u.default,
              c.default,
              h.default,
              d.default,
              p.default,
              v.default,
              g.default,
              f.default,
              l.default,
            ]),
            (e.SV.registerShape = m.Util.registerShape),
            (e.SV.registerLayout = function (t, n) {
              'function' != typeof n.sourcesPreprocess &&
                (n.sourcesPreprocess = function (t) {
                  return t;
                }),
                'function' != typeof n.defineLeakRule &&
                  (n.defineLeakRule = function (t) {
                    return t;
                  }),
                'function' == typeof n.defineOptions &&
                  'function' == typeof n.layout &&
                  (e.SV.registeredLayout[t] = n);
            });
        },
        21: (t, e, n) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }), (e.Animations = void 0);
          const r = n(4812);
          e.Animations = {
            APPEND(t, e) {
              const n = t.getType(),
                i = t.getContainer(),
                o = r.Util.mat3,
                a = { duration: e.duration, easing: e.timingFunction, callback: e.callback };
              if ('node' === n) {
                let t = i.getMatrix(),
                  e = o.clone(t);
                o.scale(t, t, [0, 0]),
                  o.scale(e, e, [1, 1]),
                  i.attr({ matrix: t, opacity: 0 }),
                  i.animate({ matrix: e, opacity: 1 }, a);
              }
              if ('edge' === n) {
                const t = i.get('children')[0],
                  e = t.getTotalLength();
                t.attr({ lineDash: [0, e], opacity: 0 }),
                  t.animate({ lineDash: [e, 0], opacity: 1 }, a);
              }
            },
            REMOVE(t, e) {
              const n = t.getType(),
                i = t.getContainer(),
                o = r.Util.mat3,
                a = { duration: e.duration, easing: e.timingFunction, callback: e.callback };
              if ('node' === n) {
                let t = o.clone(i.getMatrix());
                o.scale(t, t, [0, 0]), i.animate({ opacity: 0, matrix: t }, a);
              }
              if ('edge' === n) {
                const t = i.get('children')[0],
                  e = t.getTotalLength();
                t.animate({ lineDash: [0, e], opacity: 0 }, a);
              }
            },
            FADE_IN(t, e) {
              const n = t.getContainer(),
                r = { duration: e.duration, easing: e.timingFunction, callback: e.callback };
              n.attr({ opacity: 0 }), n.animate({ opacity: 1 }, r);
            },
          };
        },
        6945: (t, e, n) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }),
            (e.LayoutProvider = e.ELayoutMode = void 0);
          const r = n(7860),
            i = n(2392),
            o = n(5962),
            a = n(3766),
            s = n(7710),
            u = n(6182);
          var c;
          !(function (t) {
            (t.HORIZONTAL = 'hor'), (t.VERTICAL = 'ver');
          })((c = e.ELayoutMode || (e.ELayoutMode = {}))),
            (e.LayoutProvider = class {
              constructor(t, e) {
                (this.leakAreaXoffset = 20),
                  (this.leakClusterXInterval = 25),
                  (this.engine = t),
                  (this.viewOptions = this.engine.viewOptions),
                  (this.viewContainer = e);
              }
              preLayoutProcess(t) {
                o.Util.convertGroupTable2ModelList(t).forEach((t) => {
                  (t.preLayout = !0), t.set('rotation', t.get('rotation')), t.set({ x: 0, y: 0 });
                });
              }
              postLayoutProcess(t) {
                o.Util.convertGroupTable2ModelList(t).forEach((t) => {
                  (t.preLayout = !1), (t.layoutX = t.get('x')), (t.layoutY = t.get('y'));
                });
              }
              layoutMarker(t, e) {
                t.forEach((t) => {
                  var n, r, i;
                  const o = e[t.sourceType],
                    s = null !== (n = o.offset) && void 0 !== n ? n : 8,
                    u = null !== (r = t.anchor) && void 0 !== r ? r : 0,
                    c = null !== (i = o.labelOffset) && void 0 !== i ? i : 2;
                  let l,
                    h,
                    f = t.target.getBound(),
                    d = t.target.shadowG6Item.getAnchorPoints()[u],
                    p = [f.x + f.width / 2, f.y + f.height / 2],
                    g = [d.x, d.y],
                    v = a.Vector.subtract(g, p),
                    y = 0,
                    m = a.Vector.length(v) + s;
                  y =
                    0 === v[0]
                      ? v[1] > 0
                        ? -Math.PI
                        : 0
                      : Math.sign(v[0]) * (Math.PI / 2 - Math.atan(v[1] / v[0]));
                  const b = t.get('size')[1],
                    x = t.getLabelSizeRadius() / 2;
                  (v = a.Vector.normalize(v)),
                    (l = a.Vector.location(p, v, m)),
                    (h = a.Vector.location(p, v, b + m + x + c)),
                    (h = a.Vector.subtract(h, l)),
                    t.set({ x: l[0], y: l[1], rotation: y, markerEndPosition: h });
                });
              }
              layoutFreedLabel(t) {
                t.forEach((t) => {
                  const e = t.target.getBound();
                  t.set({ x: e.x + e.width / 2, y: e.y + 1.5 * e.height, size: [e.width, 0] });
                });
              }
              layoutIndexLabel(t, e) {
                const n = {
                  top: (t, e, n) => ({ x: t.x + t.width / 2, y: t.y - n }),
                  right: (t, e, n) => ({ x: t.x + t.width + n, y: t.y + t.height / 2 }),
                  bottom: (t, e, n) => ({ x: t.x + t.width / 2, y: t.y + t.height + n }),
                  left: (t, e, n) => ({ x: t.x - e.width / 2 - n, y: t.y + t.height / 2 }),
                };
                t.forEach((t) => {
                  var r, i;
                  const o = e[t.sourceType],
                    a = t.target.getBound(),
                    s = t.shadowG6Item.getContainer().getChildren()[1].getBBox(),
                    u = null !== (r = o.offset) && void 0 !== r ? r : 20,
                    c = null !== (i = o.position) && void 0 !== i ? i : 'bottom',
                    l = n[c](a, s, u);
                  t.set(l);
                });
              }
              layoutAddressLabel(t, e) {
                const n = e.offset || 16;
                t.forEach((t) => {
                  const e = t.target.getBound();
                  t.set({ x: e.x + e.width / 2, y: e.y - n });
                });
              }
              layoutModels(t) {
                const e = [];
                return (
                  t.forEach((t) => {
                    const n = t.modelList,
                      r = new i.Group(),
                      o = t.options.layout;
                    n.forEach((t) => {
                      r.add(t);
                    }),
                      t.layoutCreator.layout(t.node, o),
                      e.push(r);
                  }),
                  t.forEach((t) => {
                    const e = t.options.marker || {},
                      n = t.options.indexLabel || {},
                      r = t.options.addressLabel || {},
                      i = t.appendage.filter((t) => t instanceof u.SVIndexLabel),
                      o = t.appendage.filter((t) => t instanceof u.SVFreedLabel),
                      a = t.appendage.filter((t) => t instanceof u.SVAddressLabel),
                      s = t.appendage.filter((t) => t instanceof u.SVMarker);
                    this.layoutIndexLabel(i, n),
                      this.layoutFreedLabel(o),
                      this.layoutAddressLabel(a, r),
                      this.layoutMarker(s, e);
                  }),
                  e
                );
              }
              layoutLeakArea(t) {
                const e =
                  this.viewContainer.getG6Instance().getHeight() -
                  this.engine.viewOptions.leakAreaHeight;
                let n;
                t.forEach((t) => {
                  t.set({ x: t.layoutX, y: t.layoutY });
                }),
                  s.ModelConstructor.getClusters(t).forEach((t) => {
                    const i = t.getBound(),
                      o =
                        (n ? n.x + n.width + this.leakClusterXInterval : this.leakAreaXoffset) -
                        i.x,
                      a = e - i.y;
                    t.translate(o, a), r.Bound.translate(i, o, a), (n = i);
                  });
              }
              layoutGroups(t, e) {
                let n,
                  o,
                  a,
                  s = new i.Group(),
                  u = [],
                  l = this.viewOptions.groupPadding,
                  h = 0,
                  f = 0,
                  d = 0,
                  p = 0;
                for (let i = 0; i < t.length; i++)
                  (n = t[i]),
                    (a = n.getPaddingBound(l)),
                    e === c.HORIZONTAL &&
                      (o ? ((h = o.x + o.width - a.x), (f = p - (a.y + a.height / 2))) : (h = a.x),
                      n.translate(h, f),
                      r.Bound.translate(a, h, f),
                      (p = a.y + a.height / 2)),
                    e === c.VERTICAL &&
                      (o
                        ? ((h = d - (a.x + a.width / 2)), (f = o.y + o.height - a.y - l))
                        : (f = a.y),
                      n.translate(h, f),
                      r.Bound.translate(a, h, f),
                      (d = a.x + a.width / 2)),
                    u.push(a),
                    s.add(n),
                    (o = a);
                return s;
              }
              fitCenter(t) {
                let e = this.viewContainer.getG6Instance().getWidth(),
                  n = this.viewContainer.getG6Instance().getHeight(),
                  r = t.getBound(),
                  i = this.engine.viewOptions.leakAreaHeight;
                const o = n / 2;
                let a = e / 2 - (r.x + r.width / 2),
                  s = 0;
                (s = this.viewContainer.hasLeak
                  ? n - i - 130 - (r.y + r.height)
                  : o - (r.y + r.height / 2)),
                  t.translate(a, s);
              }
              layoutAll(t, e, n) {
                this.preLayoutProcess(t);
                const r = this.layoutModels(t),
                  i = this.layoutGroups(r, n);
                this.layoutLeakArea(e), this.fitCenter(i), this.postLayoutProcess(t);
              }
            });
        },
        7846: (t, e, n) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }), (e.Reconcile = void 0);
          const r = n(5644),
            i = n(5962),
            o = n(6293),
            a = n(2248),
            s = n(6182),
            u = n(21);
          e.Reconcile = class {
            constructor(t, e) {
              (this.prevUpdate = []),
                (this.engine = t),
                (this.renderer = e),
                (this.isFirstPatch = !0);
            }
            getContinuousModels(t, e) {
              return e.filter((e) => t.find((t) => e.id === t.id));
            }
            getAppendModels(t, e, n) {
              const r = e.filter((e) => !t.find((t) => t.id === e.id));
              return (
                r.forEach((t) => {
                  const e = n.findIndex((e) => t.id === e.id),
                    r = n[e];
                  e > -1 && ((r.leaked = !1), n.splice(e, 1));
                }),
                r
              );
            }
            getLeakModels(t, e, n) {
              let r = e.filter(
                (t) =>
                  !n.find((e) =>
                    'GeneralizedList' === e.layout
                      ? e.id.split('(')[1] === t.id.split('(')[1]
                      : e.id === t.id,
                  ) && !t.freed,
              );
              const u = [],
                c = r.filter((t) => t.isNode()),
                l = i.Util.groupBy(c, 'group');
              return (
                (r = r.filter((t) => !1 === t.isNode())),
                Object.keys(l).forEach((e) => {
                  const n = t.get(e).layoutCreator.defineLeakRule;
                  n && 'function' == typeof n && r.push(...n(l[e]));
                }),
                r.forEach((t) => {
                  t instanceof a.SVNode &&
                    ((t.leaked = !0),
                    u.push(t),
                    t.getAppendagesList().forEach((t) => {
                      t instanceof s.SVMarker || ((t.leaked = !0), u.push(t));
                    }));
                }),
                r.forEach((t) => {
                  t instanceof o.SVLink &&
                    !1 !== t.node.leaked &&
                    !1 !== t.target.leaked &&
                    ((t.leaked = !0), u.push(t));
                }),
                u
              );
            }
            getRemoveModels(t, e, n) {
              let r = [];
              for (let n = 0; n < t.length; n++) {
                let i = t[n];
                void 0 !== e.find((t) => t.id === i.id) || i.leaked || r.push(i);
              }
              for (let t = 0; t < n.length; t++) {
                let e = n[t];
                e instanceof o.SVLink &&
                  ((!1 !== e.node.leaked && !1 !== e.target.leaked) ||
                    (n.splice(t, 1), t--, r.push(e)));
              }
              return (
                r.forEach((t) => {
                  t.beforeDestroy();
                }),
                r
              );
            }
            getModelsById(t, e, n) {
              return [
                ...e.filter((e) => (null == t ? void 0 : t.find((t) => t === e.id))),
                ...n.filter((e) => (null == t ? void 0 : t.find((t) => t === e.id))),
              ];
            }
            getReTargetMarkers(t, e) {
              const n = t.filter((t) => t instanceof s.SVMarker);
              return e
                .filter((t) => t instanceof s.SVMarker)
                .filter((t) => n.find((e) => e.id === t.id && e.target.id !== t.target.id));
            }
            getLabelChangeModels(t, e) {
              let n = [];
              return (
                e.forEach((e) => {
                  const r = t.find((t) => t.id === e.id);
                  if (void 0 === r) return;
                  const i = r.get('label'),
                    o = e.get('label');
                  String(i) !== String(o) && n.push(e);
                }),
                n
              );
            }
            getFreedModels(t, e) {
              const n = e.filter((t) => t instanceof a.SVNode && t.freed);
              return (
                n.forEach((e) => {
                  const n = t.find((t) => e.id === t.id);
                  n && e.set('label', n.get('label'));
                }),
                n
              );
            }
            setPrevUpdateId(t) {
              this.prevUpdate.push(t);
            }
            handleContinuousModels(t) {
              for (let e = 0; e < t.length; e++) {
                let n = t[e];
                n instanceof a.SVNode && n.G6Item.getContainer().attr({ opacity: 1 });
              }
            }
            handleAppendModels(t) {
              let { duration: e, timingFunction: n } = this.engine.animationOptions;
              t.forEach((t) => {
                const r = t.G6Item;
                t instanceof s.SVNodeAppendage
                  ? (r.enableCapture(!1),
                    t instanceof s.SVAddressLabel
                      ? r.getContainer().attr({ opacity: 0 })
                      : u.Animations.FADE_IN(r, { duration: e, timingFunction: n }))
                  : u.Animations.APPEND(r, {
                      duration: e,
                      timingFunction: n,
                      callback: () => t.afterRender(),
                    });
              });
            }
            handleRemoveModels(t) {
              let { duration: e, timingFunction: n } = this.engine.animationOptions;
              t.forEach((t) => {
                u.Animations.REMOVE(t.G6Item, {
                  duration: e,
                  timingFunction: n,
                  callback: () => {
                    this.renderer.removeModel(t), t.afterDestroy();
                  },
                });
              });
            }
            handleLeakModels(t) {
              let { duration: e, timingFunction: n } = this.engine.animationOptions;
              t.forEach((t) => {
                t instanceof s.SVAddressLabel &&
                  u.Animations.FADE_IN(t.G6Item, { duration: e, timingFunction: n }),
                  t.G6Item.enableCapture(!1);
              }),
                r.EventBus.emit('onLeak', t);
            }
            handleFreedModels(t) {
              const { duration: e, timingFunction: n } = this.engine.animationOptions;
              t.forEach((t) => {
                const r = t.G6Item.getContainer();
                t.set('style', { fill: '#ccc' }),
                  r.attr({ opacity: 0.4 }),
                  t.appendages.marker &&
                    t.appendages.marker.forEach((t) => {
                      const e = t.G6Item.getContainer();
                      t.set('style', { fill: '#ccc' }), e.attr({ opacity: 0.9 });
                    }),
                  t.appendages.freedLabel &&
                    t.appendages.freedLabel.forEach((t) => {
                      t.G6Item.toFront(),
                        u.Animations.FADE_IN(t.G6Item, { duration: e, timingFunction: n });
                    });
              }),
                r.EventBus.emit('onFreed', t);
            }
            handleChangeModels(t) {
              const e = this.engine.viewOptions.updateHighlight;
              e &&
                'string' == typeof e &&
                t.forEach((t) => {
                  t.triggerHighlight(e);
                });
            }
            filterUnChangeModelsOfAppend(t, e) {
              return t.filter((t) => !e.some((e) => t.isEqual(e)));
            }
            diff(t, e, n, r, i, o) {
              var a;
              o && this.prevUpdate.pop();
              const s = this.getContinuousModels(e, n),
                u = i ? [] : this.getLeakModels(t, e, n),
                c = this.getAppendModels(e, n, r),
                l = this.getRemoveModels(e, n, r),
                h = o
                  ? [...this.getModelsById(this.prevUpdate.pop(), n, r)]
                  : [
                      ...this.getReTargetMarkers(e, n),
                      ...this.getLabelChangeModels(e, n),
                      ...this.filterUnChangeModelsOfAppend(c, e),
                      ...u,
                    ];
              let f = [];
              for (let t of h) f.push(t.id);
              return (
                null === (a = this.prevUpdate) || void 0 === a || a.push(f),
                {
                  CONTINUOUS: s,
                  APPEND: c,
                  REMOVE: l,
                  FREED: this.getFreedModels(e, n),
                  LEAKED: u,
                  UPDATE: h,
                }
              );
            }
            patch(t, e) {
              const { APPEND: n, REMOVE: r, FREED: i, LEAKED: o, UPDATE: a, CONTINUOUS: s } = t;
              !1 !== this.isFirstPatch ||
                (null == e ? void 0 : e.isEnterFunction) ||
                (null == e ? void 0 : e.isFirstDebug) ||
                this.handleChangeModels(a),
                this.handleContinuousModels(s),
                this.handleFreedModels(i),
                this.handleAppendModels(n),
                this.handleLeakModels(o),
                this.handleRemoveModels(r),
                this.isFirstPatch && (this.isFirstPatch = !1);
            }
            destroy() {}
          };
        },
        3593: (t, e, n) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }), (e.Renderer = void 0);
          const r = n(6182),
            i = n(5962),
            o = n(4812);
          e.Renderer = class {
            constructor(t, e, n, r) {
              this.engine = t;
              const i = this.engine.animationOptions.enable,
                a = this.engine.animationOptions.duration,
                s = this.engine.animationOptions.timingFunction,
                u = new o.Tooltip({
                  offsetX: 10,
                  offsetY: 20,
                  shouldBegin: (t) => t.item.SVModel.isNode(),
                  getContent: (t) =>
                    this.getTooltipContent(t.item.SVModel, { address: 'sourceId', data: 'data' }),
                  itemTypes: ['node'],
                });
              this.shadowG6Instance = new o.Graph({ container: e.cloneNode() });
              const c = {
                  type: 'force',
                  linkDistance: 100,
                  preventOverlap: !0,
                  workEnabled: !0,
                  nodeStrength: -1,
                  nodeSpacing: (t) => 20,
                  center: [e.offsetWidth / 2, e.offsetHeight / 3],
                },
                l = r ? c : null;
              function h(t) {
                const e = t.item.get('model');
                (e.fx = t.x), (e.fy = t.y);
              }
              (this.g6Instance = new o.Graph({
                container: e,
                width: e.offsetWidth,
                height: e.offsetHeight,
                groupByTypes: !1,
                animate: i,
                animateCfg: { duration: a, easing: s },
                modes: n,
                plugins: [u],
                layout: l,
              })),
                this.g6Instance.on('node:dragstart', (t) => {
                  this.g6Instance.layout(), h(t);
                }),
                this.g6Instance.on('node:drag', (t) => {
                  h(t);
                }),
                'undefined' != typeof window &&
                  (window.onresize = () => {
                    this.g6Instance &&
                      !this.g6Instance.get('destroyed') &&
                      e &&
                      e.scrollWidth &&
                      e.scrollHeight &&
                      this.g6Instance.changeSize(e.scrollWidth, e.scrollHeight);
                  });
            }
            getTooltipContent(t, e) {
              const n = document.createElement('div');
              return (
                null == t ||
                  Object.keys(e).map((r) => {
                    let i = t[e[r]];
                    if (null != i) {
                      let t = document.createElement('div');
                      (t.innerHTML = `${r}：${i}`), n.appendChild(t);
                    }
                  }),
                n
              );
            }
            build(t) {
              const e = i.Util.convertModelList2G6Data(t);
              this.shadowG6Instance.clear(),
                this.shadowG6Instance.read(e),
                t.forEach((t) => {
                  (t.G6Item = null),
                    (t.shadowG6Item = this.shadowG6Instance.findById(t.id)),
                    (t.shadowG6Instance = this.shadowG6Instance);
                });
            }
            render(t) {
              const e = i.Util.convertModelList2G6Data(t);
              this.g6Instance.changeData(e),
                t.forEach((t) => {
                  (t.g6Instance = this.g6Instance),
                    (t.G6Item = this.g6Instance.findById(t.id)),
                    (t.G6Item.SVModel = t);
                }),
                this.g6Instance.getNodes().forEach((t) => {
                  t.SVModel instanceof r.SVMarker && t.toFront();
                }),
                this.g6Instance.getEdges().forEach((t) => t.toFront()),
                this.g6Instance.paint();
            }
            removeModel(t) {
              this.g6Instance.removeItem(t.G6Item),
                this.shadowG6Instance.removeItem(t.shadowG6Item);
            }
            getG6Instance() {
              return this.g6Instance;
            }
            refresh() {
              this.g6Instance.refresh(), this.shadowG6Instance.refresh();
            }
            changeSize(t, e) {
              this.g6Instance.changeSize(t, e), this.shadowG6Instance.changeSize(t, e);
            }
            destroy() {
              this.shadowG6Instance.destroy(), this.g6Instance.destroy();
            }
          };
        },
        145: (t, e, n) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }), (e.ViewContainer = void 0);
          const r = n(6945),
            i = n(5962),
            o = n(3593),
            a = n(7846),
            s = n(5644),
            u = n(2392),
            c = n(6547),
            l = n(6717);
          e.ViewContainer = class {
            constructor(t, e, n) {
              const i = (0, c.InitG6Behaviors)(t, this);
              (this.engine = t),
                (this.layoutProvider = new r.LayoutProvider(t, this)),
                (this.renderer = new o.Renderer(t, e, i, n)),
                (this.reconcile = new a.Reconcile(t, this.renderer)),
                (this.layoutGroupTable = new Map()),
                (this.prevModelList = []),
                (this.accumulateLeakModels = []),
                (this.hasLeak = !1),
                (this.brushSelectedModels = []),
                (this.clickSelectNode = null),
                (this.lastLeakAreaTranslateY = 0),
                (this.preIsFirstDebug = []),
                (this.preCount = 0),
                (this.stackAddress = 0);
              const s = this.renderer.getG6Instance(),
                u = this.engine.viewOptions.leakAreaHeight,
                h = s.getHeight(),
                { drag: f, zoom: d } = this.engine.behaviorOptions;
              (this.leakAreaY = h - u),
                (0, l.SolveNodeAppendagesDrag)(this),
                (0, l.SolveBrushSelectDrag)(this),
                f && (0, l.SolveDragCanvasWithLeak)(this),
                d && (0, l.SolveZoomCanvasWithLeak)(this);
            }
            reLayout(t) {
              const e = this.getG6Instance(),
                n = e.getGroup(),
                r = n.getMatrix(),
                i = n.getCanvasBBox(),
                { duration: o, enable: a, timingFunction: u } = this.engine.animationOptions;
              if (r) {
                let t = r[6],
                  n = r[7];
                e.moveTo(i.minX - t, i.minY - n, a, { duration: o, easing: u });
              }
              const c = this.engine.viewOptions.leakAreaHeight,
                l = e.getHeight();
              (this.leakAreaY = l - c),
                (this.lastLeakAreaTranslateY = 0),
                this.layoutProvider.layoutAll(this.layoutGroupTable, this.accumulateLeakModels, t),
                e.refresh(),
                s.EventBus.emit('onLeakAreaUpdate', {
                  leakAreaY: this.leakAreaY,
                  hasLeak: this.hasLeak,
                });
            }
            getG6Instance() {
              return this.renderer.getG6Instance();
            }
            getAccumulateLeakModels() {
              return this.accumulateLeakModels;
            }
            getLayoutGroupTable() {
              return this.layoutGroupTable;
            }
            refresh() {
              this.renderer.getG6Instance().refresh();
            }
            resize(t, e) {
              const n = this.getG6Instance(),
                r = n.getHeight(),
                i = new u.Group();
              i.add(...this.prevModelList, ...this.accumulateLeakModels),
                this.renderer.changeSize(t, e);
              const o = n.getHeight() - r;
              i.translate(0, o),
                this.renderer.refresh(),
                (this.leakAreaY += o),
                s.EventBus.emit('onLeakAreaUpdate', {
                  leakAreaY: this.leakAreaY,
                  hasLeak: this.hasLeak,
                });
            }
            restoreHighlight(t) {
              t.forEach((t) => {
                t.freed || t.restoreHighlight();
              });
            }
            setPrevUpdateId(t) {
              this.reconcile.setPrevUpdateId(t);
            }
            render(t, e, n) {
              const r = i.Util.convertGroupTable2ModelList(t);
              if (
                (this.restoreHighlight([...r, ...this.accumulateLeakModels]),
                e && !(null == n ? void 0 : n.hasTriggerLastStep))
              )
                return void this.setPrevUpdateId([]);
              let o =
                (null == n ? void 0 : n.isEnterFunction) ||
                (null == n ? void 0 : n.hasTriggerLastStep);
              const a = this.reconcile.diff(
                  this.layoutGroupTable,
                  this.prevModelList,
                  r,
                  this.accumulateLeakModels,
                  o,
                  null == n ? void 0 : n.hasTriggerLastStep,
                ),
                u = [...r, ...a.REMOVE, ...a.LEAKED, ...this.accumulateLeakModels];
              !0 === this.hasLeak &&
                0 === this.accumulateLeakModels.length &&
                ((this.hasLeak = !1),
                s.EventBus.emit('onLeakAreaUpdate', {
                  leakAreaY: this.leakAreaY,
                  hasLeak: this.hasLeak,
                })),
                a.LEAKED.length &&
                  ((this.hasLeak = !0),
                  s.EventBus.emit('onLeakAreaUpdate', {
                    leakAreaY: this.leakAreaY,
                    hasLeak: this.hasLeak,
                  }));
              const c = this.engine.viewOptions.layoutMode;
              this.accumulateLeakModels.push(...a.LEAKED),
                this.renderer.build(u),
                this.layoutProvider.layoutAll(t, this.accumulateLeakModels, c),
                this.beforeRender(),
                this.renderer.render(u),
                this.reconcile.patch(a, n),
                this.afterRender(),
                (this.layoutGroupTable = t),
                (this.prevModelList = r);
            }
            destroy() {
              this.renderer.destroy(),
                this.reconcile.destroy(),
                (this.layoutProvider = null),
                (this.layoutGroupTable = null),
                (this.prevModelList.length = 0),
                (this.accumulateLeakModels.length = 0),
                (this.brushSelectedModels.length = 0);
            }
            afterRender() {
              this.prevModelList.forEach((t) => {
                !1 === t.leaked && (t.discarded = !0);
              });
            }
            beforeRender() {}
          };
        },
        3913: (t, e, n) => {
          'use strict';
          Object.defineProperty(e, '__esModule', { value: !0 }), (e.Engine = void 0);
          const r = n(7710),
            i = n(5644),
            o = n(145),
            a = n(2248),
            s = n(5962),
            u = n(6945),
            c = n(6182);
          e.Engine = class {
            constructor(t, e, n) {
              (this.engineOptions = Object.assign({}, e)),
                (this.viewOptions = Object.assign(
                  {
                    fitCenter: !0,
                    fitView: !1,
                    groupPadding: 20,
                    leakAreaHeight: 150,
                    updateHighlight: '#fc5185',
                    layoutMode: u.ELayoutMode.HORIZONTAL,
                  },
                  e.view,
                )),
                (this.animationOptions = Object.assign(
                  { enable: !0, duration: 750, timingFunction: 'easePolyOut' },
                  e.animation,
                )),
                (this.behaviorOptions = Object.assign(
                  { drag: !0, zoom: !0, dragNode: !0, selectNode: !0 },
                  e.behavior,
                )),
                (this.modelConstructor = new r.ModelConstructor(this)),
                (this.viewContainer = new o.ViewContainer(this, t, n));
            }
            render(t) {
              let e,
                n = !1;
              if (null == t) return;
              let r = t.handleUpdate,
                i = JSON.stringify(t);
              this.prevStringSource === i && (n = !0),
                (this.prevStringSource = i),
                (e = n
                  ? this.modelConstructor.getLayoutGroupTable()
                  : this.modelConstructor.construct(t)),
                this.viewContainer.render(e, n, r);
            }
            reLayout(t) {
              (this.viewOptions.layoutMode = t || this.viewOptions.layoutMode),
                this.viewContainer.reLayout(this.viewOptions.layoutMode);
            }
            getGraphInstance() {
              return this.viewContainer.getG6Instance();
            }
            hideGroups(t) {
              const e = Array.isArray(t) ? t : [t],
                n = this.viewContainer.getG6Instance();
              this.modelConstructor.getLayoutGroupTable().forEach((t) => {
                const r = e.find((e) => e === t.layout);
                r &&
                  !t.isHide &&
                  (t.modelList.forEach((t) => n.hideItem(t.G6Item)), (t.isHide = !0)),
                  !r &&
                    t.isHide &&
                    (t.modelList.forEach((t) => n.showItem(t.G6Item)), (t.isHide = !1));
              });
            }
            hideGroupsById(t) {
              const e = Array.isArray(t) ? t : [t],
                n = this.viewContainer.getG6Instance();
              this.modelConstructor.getLayoutGroupTable().forEach((t) => {
                t.modelList.forEach((t) => {
                  n.showItem(t.G6Item),
                    e.forEach((e) => {
                      ((t instanceof c.SVMarker && t.targetId.includes(e)) || t.id.includes(e)) &&
                        n.hideItem(t.G6Item);
                    });
                });
              });
            }
            getAllModels() {
              return [
                ...s.Util.convertGroupTable2ModelList(this.modelConstructor.getLayoutGroupTable()),
                ...this.viewContainer.getAccumulateLeakModels(),
              ];
            }
            updateStyle(t, e) {
              const n = this.getAllModels(),
                r = this.modelConstructor.getLayoutGroupTable().get(t);
              (r.options = e),
                n.forEach((e) => {
                  if (e.group !== t) return;
                  const n = e.getModelType(),
                    i = r.options[n];
                  if (i)
                    if ('addressLabel' === n) e.updateG6ModelStyle(e.generateG6ModelProps(i));
                    else {
                      const t = i[e.sourceType];
                      t && e.updateG6ModelStyle(e.generateG6ModelProps(t));
                    }
                });
            }
            findNode(t) {
              const e = this.getAllModels(),
                n = t.toString();
              return e.find((t) => t instanceof a.SVNode && t.sourceId === n);
            }
            resize(t, e) {
              this.viewContainer.resize(t, e);
            }
            on(t, e) {
              'function' == typeof e &&
                ('onFreed' !== t && 'onLeak' !== t && 'onLeakAreaUpdate' !== t
                  ? this.viewContainer.getG6Instance().on(t, (t) => {
                      e(t.item.SVModel);
                    })
                  : i.EventBus.on(t, e));
            }
            switchBrushSelect(t) {
              const e = this.viewContainer.getG6Instance();
              t ? e.setMode('brush') : e.setMode('default');
            }
            destroy() {
              this.modelConstructor.destroy(), this.viewContainer.destroy();
            }
          };
        },
        655: (t, e, n) => {
          'use strict';
          n.r(e),
            n.d(e, {
              __assign: () => o,
              __asyncDelegator: () => _,
              __asyncGenerator: () => x,
              __asyncValues: () => w,
              __await: () => b,
              __awaiter: () => l,
              __classPrivateFieldGet: () => A,
              __classPrivateFieldSet: () => C,
              __createBinding: () => f,
              __decorate: () => s,
              __exportStar: () => d,
              __extends: () => i,
              __generator: () => h,
              __importDefault: () => k,
              __importStar: () => M,
              __makeTemplateObject: () => E,
              __metadata: () => c,
              __param: () => u,
              __read: () => g,
              __rest: () => a,
              __spread: () => v,
              __spreadArray: () => m,
              __spreadArrays: () => y,
              __values: () => p,
            });
          var r = function (t, e) {
            return (
              (r =
                Object.setPrototypeOf ||
                ({ __proto__: [] } instanceof Array &&
                  function (t, e) {
                    t.__proto__ = e;
                  }) ||
                function (t, e) {
                  for (var n in e) Object.prototype.hasOwnProperty.call(e, n) && (t[n] = e[n]);
                }),
              r(t, e)
            );
          };
          function i(t, e) {
            if ('function' != typeof e && null !== e)
              throw new TypeError(
                'Class extends value ' + String(e) + ' is not a constructor or null',
              );
            function n() {
              this.constructor = t;
            }
            r(t, e),
              (t.prototype =
                null === e ? Object.create(e) : ((n.prototype = e.prototype), new n()));
          }
          var o = function () {
            return (
              (o =
                Object.assign ||
                function (t) {
                  for (var e, n = 1, r = arguments.length; n < r; n++)
                    for (var i in (e = arguments[n]))
                      Object.prototype.hasOwnProperty.call(e, i) && (t[i] = e[i]);
                  return t;
                }),
              o.apply(this, arguments)
            );
          };
          function a(t, e) {
            var n = {};
            for (var r in t)
              Object.prototype.hasOwnProperty.call(t, r) && e.indexOf(r) < 0 && (n[r] = t[r]);
            if (null != t && 'function' == typeof Object.getOwnPropertySymbols) {
              var i = 0;
              for (r = Object.getOwnPropertySymbols(t); i < r.length; i++)
                e.indexOf(r[i]) < 0 &&
                  Object.prototype.propertyIsEnumerable.call(t, r[i]) &&
                  (n[r[i]] = t[r[i]]);
            }
            return n;
          }
          function s(t, e, n, r) {
            var i,
              o = arguments.length,
              a = o < 3 ? e : null === r ? (r = Object.getOwnPropertyDescriptor(e, n)) : r;
            if ('object' == typeof Reflect && 'function' == typeof Reflect.decorate)
              a = Reflect.decorate(t, e, n, r);
            else
              for (var s = t.length - 1; s >= 0; s--)
                (i = t[s]) && (a = (o < 3 ? i(a) : o > 3 ? i(e, n, a) : i(e, n)) || a);
            return o > 3 && a && Object.defineProperty(e, n, a), a;
          }
          function u(t, e) {
            return function (n, r) {
              e(n, r, t);
            };
          }
          function c(t, e) {
            if ('object' == typeof Reflect && 'function' == typeof Reflect.metadata)
              return Reflect.metadata(t, e);
          }
          function l(t, e, n, r) {
            return new (n || (n = Promise))(function (i, o) {
              function a(t) {
                try {
                  u(r.next(t));
                } catch (t) {
                  o(t);
                }
              }
              function s(t) {
                try {
                  u(r.throw(t));
                } catch (t) {
                  o(t);
                }
              }
              function u(t) {
                var e;
                t.done
                  ? i(t.value)
                  : ((e = t.value),
                    e instanceof n
                      ? e
                      : new n(function (t) {
                          t(e);
                        })).then(a, s);
              }
              u((r = r.apply(t, e || [])).next());
            });
          }
          function h(t, e) {
            var n,
              r,
              i,
              o,
              a = {
                label: 0,
                sent: function () {
                  if (1 & i[0]) throw i[1];
                  return i[1];
                },
                trys: [],
                ops: [],
              };
            return (
              (o = { next: s(0), throw: s(1), return: s(2) }),
              'function' == typeof Symbol &&
                (o[Symbol.iterator] = function () {
                  return this;
                }),
              o
            );
            function s(o) {
              return function (s) {
                return (function (o) {
                  if (n) throw new TypeError('Generator is already executing.');
                  for (; a; )
                    try {
                      if (
                        ((n = 1),
                        r &&
                          (i =
                            2 & o[0]
                              ? r.return
                              : o[0]
                              ? r.throw || ((i = r.return) && i.call(r), 0)
                              : r.next) &&
                          !(i = i.call(r, o[1])).done)
                      )
                        return i;
                      switch (((r = 0), i && (o = [2 & o[0], i.value]), o[0])) {
                        case 0:
                        case 1:
                          i = o;
                          break;
                        case 4:
                          return a.label++, { value: o[1], done: !1 };
                        case 5:
                          a.label++, (r = o[1]), (o = [0]);
                          continue;
                        case 7:
                          (o = a.ops.pop()), a.trys.pop();
                          continue;
                        default:
                          if (
                            !(
                              (i = (i = a.trys).length > 0 && i[i.length - 1]) ||
                              (6 !== o[0] && 2 !== o[0])
                            )
                          ) {
                            a = 0;
                            continue;
                          }
                          if (3 === o[0] && (!i || (o[1] > i[0] && o[1] < i[3]))) {
                            a.label = o[1];
                            break;
                          }
                          if (6 === o[0] && a.label < i[1]) {
                            (a.label = i[1]), (i = o);
                            break;
                          }
                          if (i && a.label < i[2]) {
                            (a.label = i[2]), a.ops.push(o);
                            break;
                          }
                          i[2] && a.ops.pop(), a.trys.pop();
                          continue;
                      }
                      o = e.call(t, a);
                    } catch (t) {
                      (o = [6, t]), (r = 0);
                    } finally {
                      n = i = 0;
                    }
                  if (5 & o[0]) throw o[1];
                  return { value: o[0] ? o[1] : void 0, done: !0 };
                })([o, s]);
              };
            }
          }
          var f = Object.create
            ? function (t, e, n, r) {
                void 0 === r && (r = n),
                  Object.defineProperty(t, r, {
                    enumerable: !0,
                    get: function () {
                      return e[n];
                    },
                  });
              }
            : function (t, e, n, r) {
                void 0 === r && (r = n), (t[r] = e[n]);
              };
          function d(t, e) {
            for (var n in t)
              'default' === n || Object.prototype.hasOwnProperty.call(e, n) || f(e, t, n);
          }
          function p(t) {
            var e = 'function' == typeof Symbol && Symbol.iterator,
              n = e && t[e],
              r = 0;
            if (n) return n.call(t);
            if (t && 'number' == typeof t.length)
              return {
                next: function () {
                  return t && r >= t.length && (t = void 0), { value: t && t[r++], done: !t };
                },
              };
            throw new TypeError(e ? 'Object is not iterable.' : 'Symbol.iterator is not defined.');
          }
          function g(t, e) {
            var n = 'function' == typeof Symbol && t[Symbol.iterator];
            if (!n) return t;
            var r,
              i,
              o = n.call(t),
              a = [];
            try {
              for (; (void 0 === e || e-- > 0) && !(r = o.next()).done; ) a.push(r.value);
            } catch (t) {
              i = { error: t };
            } finally {
              try {
                r && !r.done && (n = o.return) && n.call(o);
              } finally {
                if (i) throw i.error;
              }
            }
            return a;
          }
          function v() {
            for (var t = [], e = 0; e < arguments.length; e++) t = t.concat(g(arguments[e]));
            return t;
          }
          function y() {
            for (var t = 0, e = 0, n = arguments.length; e < n; e++) t += arguments[e].length;
            var r = Array(t),
              i = 0;
            for (e = 0; e < n; e++)
              for (var o = arguments[e], a = 0, s = o.length; a < s; a++, i++) r[i] = o[a];
            return r;
          }
          function m(t, e, n) {
            if (n || 2 === arguments.length)
              for (var r, i = 0, o = e.length; i < o; i++)
                (!r && i in e) || (r || (r = Array.prototype.slice.call(e, 0, i)), (r[i] = e[i]));
            return t.concat(r || Array.prototype.slice.call(e));
          }
          function b(t) {
            return this instanceof b ? ((this.v = t), this) : new b(t);
          }
          function x(t, e, n) {
            if (!Symbol.asyncIterator) throw new TypeError('Symbol.asyncIterator is not defined.');
            var r,
              i = n.apply(t, e || []),
              o = [];
            return (
              (r = {}),
              a('next'),
              a('throw'),
              a('return'),
              (r[Symbol.asyncIterator] = function () {
                return this;
              }),
              r
            );
            function a(t) {
              i[t] &&
                (r[t] = function (e) {
                  return new Promise(function (n, r) {
                    o.push([t, e, n, r]) > 1 || s(t, e);
                  });
                });
            }
            function s(t, e) {
              try {
                (n = i[t](e)).value instanceof b
                  ? Promise.resolve(n.value.v).then(u, c)
                  : l(o[0][2], n);
              } catch (t) {
                l(o[0][3], t);
              }
              var n;
            }
            function u(t) {
              s('next', t);
            }
            function c(t) {
              s('throw', t);
            }
            function l(t, e) {
              t(e), o.shift(), o.length && s(o[0][0], o[0][1]);
            }
          }
          function _(t) {
            var e, n;
            return (
              (e = {}),
              r('next'),
              r('throw', function (t) {
                throw t;
              }),
              r('return'),
              (e[Symbol.iterator] = function () {
                return this;
              }),
              e
            );
            function r(r, i) {
              e[r] = t[r]
                ? function (e) {
                    return (n = !n) ? { value: b(t[r](e)), done: 'return' === r } : i ? i(e) : e;
                  }
                : i;
            }
          }
          function w(t) {
            if (!Symbol.asyncIterator) throw new TypeError('Symbol.asyncIterator is not defined.');
            var e,
              n = t[Symbol.asyncIterator];
            return n
              ? n.call(t)
              : ((t = p(t)),
                (e = {}),
                r('next'),
                r('throw'),
                r('return'),
                (e[Symbol.asyncIterator] = function () {
                  return this;
                }),
                e);
            function r(n) {
              e[n] =
                t[n] &&
                function (e) {
                  return new Promise(function (r, i) {
                    !(function (t, e, n, r) {
                      Promise.resolve(r).then(function (e) {
                        t({ value: e, done: n });
                      }, e);
                    })(r, i, (e = t[n](e)).done, e.value);
                  });
                };
            }
          }
          function E(t, e) {
            return (
              Object.defineProperty ? Object.defineProperty(t, 'raw', { value: e }) : (t.raw = e), t
            );
          }
          var S = Object.create
            ? function (t, e) {
                Object.defineProperty(t, 'default', { enumerable: !0, value: e });
              }
            : function (t, e) {
                t.default = e;
              };
          function M(t) {
            if (t && t.__esModule) return t;
            var e = {};
            if (null != t)
              for (var n in t)
                'default' !== n && Object.prototype.hasOwnProperty.call(t, n) && f(e, t, n);
            return S(e, t), e;
          }
          function k(t) {
            return t && t.__esModule ? t : { default: t };
          }
          function A(t, e, n, r) {
            if ('a' === n && !r)
              throw new TypeError('Private accessor was defined without a getter');
            if ('function' == typeof e ? t !== e || !r : !e.has(t))
              throw new TypeError(
                'Cannot read private member from an object whose class did not declare it',
              );
            return 'm' === n ? r : 'a' === n ? r.call(t) : r ? r.value : e.get(t);
          }
          function C(t, e, n, r, i) {
            if ('m' === r) throw new TypeError('Private method is not writable');
            if ('a' === r && !i)
              throw new TypeError('Private accessor was defined without a setter');
            if ('function' == typeof e ? t !== e || !i : !e.has(t))
              throw new TypeError(
                'Cannot write private member to an object whose class did not declare it',
              );
            return 'a' === r ? i.call(t, n) : i ? (i.value = n) : e.set(t, n), n;
          }
        },
      },
      e = {};
    function n(r) {
      var i = e[r];
      if (void 0 !== i) return i.exports;
      var o = (e[r] = { id: r, loaded: !1, exports: {} });
      return t[r].call(o.exports, o, o.exports, n), (o.loaded = !0), o.exports;
    }
    return (
      (n.n = (t) => {
        var e = t && t.__esModule ? () => t.default : () => t;
        return n.d(e, { a: e }), e;
      }),
      (n.d = (t, e) => {
        for (var r in e)
          n.o(e, r) && !n.o(t, r) && Object.defineProperty(t, r, { enumerable: !0, get: e[r] });
      }),
      (n.g = (function () {
        if ('object' == typeof globalThis) return globalThis;
        try {
          return this || new Function('return this')();
        } catch (t) {
          if ('object' == typeof window) return window;
        }
      })()),
      (n.o = (t, e) => Object.prototype.hasOwnProperty.call(t, e)),
      (n.r = (t) => {
        'undefined' != typeof Symbol &&
          Symbol.toStringTag &&
          Object.defineProperty(t, Symbol.toStringTag, { value: 'Module' }),
          Object.defineProperty(t, '__esModule', { value: !0 });
      }),
      (n.nmd = (t) => ((t.paths = []), t.children || (t.children = []), t)),
      n(5228)
    );
  })();
});
